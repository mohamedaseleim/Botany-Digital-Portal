var WV=Object.defineProperty;var XV=(t,e,n)=>e in t?WV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zv=(t,e,n)=>XV(t,typeof e!="symbol"?e+"":e,n);function QV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eb={exports:{}},gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function JV(){if(pT)return gh;pT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return gh.Fragment=e,gh.jsx=n,gh.jsxs=n,gh}var gT;function ZV(){return gT||(gT=1,eb.exports=JV()),eb.exports}var s=ZV(),tb={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function e7(){if(yT)return nt;yT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function I(z,W,ge){this.props=z,this.context=W,this.refs=E,this.updater=ge||_}I.prototype.isReactComponent={},I.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=I.prototype;function M(z,W,ge){this.props=z,this.context=W,this.refs=E,this.updater=ge||_}var T=M.prototype=new R;T.constructor=M,j(T,I.prototype),T.isPureReactComponent=!0;var C=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function $(z,W,ge){var Z=ge.ref;return{$$typeof:t,type:z,key:W,ref:Z!==void 0?Z:null,props:ge}}function A(z,W){return $(z.type,W,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function F(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return W[ge]})}var U=/\/+/g;function ue(z,W){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):W.toString(36)}function ne(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(L,L):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,W,ge,Z,ve){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var De=!1;if(z===null)De=!0;else switch(Ce){case"bigint":case"string":case"number":De=!0;break;case"object":switch(z.$$typeof){case t:case e:De=!0;break;case p:return De=z._init,G(De(z._payload),W,ge,Z,ve)}}if(De)return ve=ve(z),De=Z===""?"."+ue(z,0):Z,C(ve)?(ge="",De!=null&&(ge=De.replace(U,"$&/")+"/"),G(ve,W,ge,"",function(ke){return ke})):ve!=null&&(D(ve)&&(ve=A(ve,ge+(ve.key==null||z&&z.key===ve.key?"":(""+ve.key).replace(U,"$&/")+"/")+De)),W.push(ve)),1;De=0;var ae=Z===""?".":Z+":";if(C(z))for(var le=0;le<z.length;le++)Z=z[le],Ce=ae+ue(Z,le),De+=G(Z,W,ge,Ce,ve);else if(le=N(z),typeof le=="function")for(z=le.call(z),le=0;!(Z=z.next()).done;)Z=Z.value,Ce=ae+ue(Z,le++),De+=G(Z,W,ge,Ce,ve);else if(Ce==="object"){if(typeof z.then=="function")return G(ne(z),W,ge,Z,ve);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return De}function Y(z,W,ge){if(z==null)return z;var Z=[],ve=0;return G(z,Z,"","",function(Ce){return W.call(ge,Ce,ve++)}),Z}function H(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var pe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},X={map:Y,forEach:function(z,W,ge){Y(z,function(){W.apply(this,arguments)},ge)},count:function(z){var W=0;return Y(z,function(){W++}),W},toArray:function(z){return Y(z,function(W){return W})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return nt.Activity=g,nt.Children=X,nt.Component=I,nt.Fragment=n,nt.Profiler=a,nt.PureComponent=M,nt.StrictMode=r,nt.Suspense=h,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},nt.cache=function(z){return function(){return z.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(z,W,ge){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Z=j({},z.props),ve=z.key;if(W!=null)for(Ce in W.key!==void 0&&(ve=""+W.key),W)!V.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(Z[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)Z.children=ge;else if(1<Ce){for(var De=Array(Ce),ae=0;ae<Ce;ae++)De[ae]=arguments[ae+2];Z.children=De}return $(z.type,ve,Z)},nt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},nt.createElement=function(z,W,ge){var Z,ve={},Ce=null;if(W!=null)for(Z in W.key!==void 0&&(Ce=""+W.key),W)V.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ve[Z]=W[Z]);var De=arguments.length-2;if(De===1)ve.children=ge;else if(1<De){for(var ae=Array(De),le=0;le<De;le++)ae[le]=arguments[le+2];ve.children=ae}if(z&&z.defaultProps)for(Z in De=z.defaultProps,De)ve[Z]===void 0&&(ve[Z]=De[Z]);return $(z,Ce,ve)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(z){return{$$typeof:d,render:z}},nt.isValidElement=D,nt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:H}},nt.memo=function(z,W){return{$$typeof:f,type:z,compare:W===void 0?null:W}},nt.startTransition=function(z){var W=P.T,ge={};P.T=ge;try{var Z=z(),ve=P.S;ve!==null&&ve(ge,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(L,pe)}catch(Ce){pe(Ce)}finally{W!==null&&ge.types!==null&&(W.types=ge.types),P.T=W}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(z){return P.H.use(z)},nt.useActionState=function(z,W,ge){return P.H.useActionState(z,W,ge)},nt.useCallback=function(z,W){return P.H.useCallback(z,W)},nt.useContext=function(z){return P.H.useContext(z)},nt.useDebugValue=function(){},nt.useDeferredValue=function(z,W){return P.H.useDeferredValue(z,W)},nt.useEffect=function(z,W){return P.H.useEffect(z,W)},nt.useEffectEvent=function(z){return P.H.useEffectEvent(z)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(z,W,ge){return P.H.useImperativeHandle(z,W,ge)},nt.useInsertionEffect=function(z,W){return P.H.useInsertionEffect(z,W)},nt.useLayoutEffect=function(z,W){return P.H.useLayoutEffect(z,W)},nt.useMemo=function(z,W){return P.H.useMemo(z,W)},nt.useOptimistic=function(z,W){return P.H.useOptimistic(z,W)},nt.useReducer=function(z,W,ge){return P.H.useReducer(z,W,ge)},nt.useRef=function(z){return P.H.useRef(z)},nt.useState=function(z){return P.H.useState(z)},nt.useSyncExternalStore=function(z,W,ge){return P.H.useSyncExternalStore(z,W,ge)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.0",nt}var xT;function Ju(){return xT||(xT=1,tb.exports=e7()),tb.exports}var w=Ju();const FR=ts(w),t7=QV({__proto__:null,default:FR},[w]);var nb={exports:{}},yh={},rb={exports:{}},ab={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function n7(){return vT||(vT=1,(function(t){function e(G,Y){var H=G.length;G.push(Y);e:for(;0<H;){var pe=H-1>>>1,X=G[pe];if(0<a(X,Y))G[pe]=Y,G[H]=X,H=pe;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],H=G.pop();if(H!==Y){G[0]=H;e:for(var pe=0,X=G.length,z=X>>>1;pe<z;){var W=2*(pe+1)-1,ge=G[W],Z=W+1,ve=G[Z];if(0>a(ge,H))Z<X&&0>a(ve,ge)?(G[pe]=ve,G[Z]=H,pe=Z):(G[pe]=ge,G[W]=H,pe=W);else if(Z<X&&0>a(ve,H))G[pe]=ve,G[Z]=H,pe=Z;else break e}}return Y}function a(G,Y){var H=G.sortIndex-Y.sortIndex;return H!==0?H:G.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,g=null,v=3,N=!1,_=!1,j=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function T(G){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=G)r(f),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(f)}}function C(G){if(j=!1,T(G),!_)if(n(h)!==null)_=!0,L||(L=!0,F());else{var Y=n(f);Y!==null&&ne(C,Y.startTime-G)}}var L=!1,P=-1,V=5,$=-1;function A(){return E?!0:!(t.unstable_now()-$<V)}function D(){if(E=!1,L){var G=t.unstable_now();$=G;var Y=!0;try{e:{_=!1,j&&(j=!1,R(P),P=-1),N=!0;var H=v;try{t:{for(T(G),g=n(h);g!==null&&!(g.expirationTime>G&&A());){var pe=g.callback;if(typeof pe=="function"){g.callback=null,v=g.priorityLevel;var X=pe(g.expirationTime<=G);if(G=t.unstable_now(),typeof X=="function"){g.callback=X,T(G),Y=!0;break t}g===n(h)&&r(h),T(G)}else r(h);g=n(h)}if(g!==null)Y=!0;else{var z=n(f);z!==null&&ne(C,z.startTime-G),Y=!1}}break e}finally{g=null,v=H,N=!1}Y=void 0}}finally{Y?F():L=!1}}}var F;if(typeof M=="function")F=function(){M(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ue=U.port2;U.port1.onmessage=D,F=function(){ue.postMessage(null)}}else F=function(){I(D,0)};function ne(G,Y){P=I(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var H=v;v=Y;try{return G()}finally{v=H}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var H=v;v=G;try{return Y()}finally{v=H}},t.unstable_scheduleCallback=function(G,Y,H){var pe=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?pe+H:pe):H=pe,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,G={id:p++,callback:Y,priorityLevel:G,startTime:H,expirationTime:X,sortIndex:-1},H>pe?(G.sortIndex=H,e(f,G),n(h)===null&&G===n(f)&&(j?(R(P),P=-1):j=!0,ne(C,H-pe))):(G.sortIndex=X,e(h,G),_||N||(_=!0,L||(L=!0,F()))),G},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(G){var Y=v;return function(){var H=v;v=Y;try{return G.apply(this,arguments)}finally{v=H}}}})(ab)),ab}var bT;function r7(){return bT||(bT=1,rb.exports=n7()),rb.exports}var ib={exports:{}},xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function a7(){if(wT)return xr;wT=1;var t=Ju();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xr.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,p)},xr.flushSync=function(h){var f=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=f,r.p=p,r.d.f()}},xr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},xr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},xr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,N=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:N}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:N,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},xr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xr.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},xr.requestFormReset=function(h){r.d.r(h)},xr.unstable_batchedUpdates=function(h,f){return h(f)},xr.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},xr.useFormStatus=function(){return c.H.useHostTransitionStatus()},xr.version="19.2.0",xr}var NT;function $R(){if(NT)return ib.exports;NT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ib.exports=a7(),ib.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function i7(){if(_T)return yh;_T=1;var t=r7(),e=Ju(),n=$R();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var x=u.return;if(x===null)break;var b=x.alternate;if(b===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===u)return h(x),i;if(b===m)return h(x),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=x,m=b;else{for(var O=!1,B=x.child;B;){if(B===u){O=!0,u=x,m=b;break}if(B===m){O=!0,m=x,u=b;break}B=B.sibling}if(!O){for(B=b.child;B;){if(B===u){O=!0,u=b,m=x;break}if(B===m){O=!0,m=b,u=x;break}B=B.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function ue(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case I:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case L:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case M:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:ue(i.type)||"Memo";case V:o=i._payload,i=i._init;try{return ue(i(o))}catch{}}return null}var ne=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},pe=[],X=-1;function z(i){return{current:i}}function W(i){0>X||(i.current=pe[X],pe[X]=null,X--)}function ge(i,o){X++,pe[X]=i.current,i.current=o}var Z=z(null),ve=z(null),Ce=z(null),De=z(null);function ae(i,o){switch(ge(Ce,o),ge(ve,i),ge(Z,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?U2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=U2(o),i=V2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(Z),ge(Z,i)}function le(){W(Z),W(ve),W(Ce)}function ke(i){i.memoizedState!==null&&ge(De,i);var o=Z.current,u=V2(o,i.type);o!==u&&(ge(ve,i),ge(Z,u))}function J(i){ve.current===i&&(W(Z),W(ve)),De.current===i&&(W(De),hh._currentValue=H)}var he,Ve;function Ge(i){if(he===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",Ve=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+i+Ve}var St=!1;function Ee(i,o){if(!i||St)return"";St=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(fe){var ce=fe}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(fe){ce=fe}i.call(_e.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),O=b[0],B=b[1];if(O&&B){var K=O.split(`
`),se=B.split(`
`);for(x=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;x<se.length&&!se[x].includes("DetermineComponentFrameRoot");)x++;if(m===K.length||x===se.length)for(m=K.length-1,x=se.length-1;1<=m&&0<=x&&K[m]!==se[x];)x--;for(;1<=m&&0<=x;m--,x--)if(K[m]!==se[x]){if(m!==1||x!==1)do if(m--,x--,0>x||K[m]!==se[x]){var ye=`
`+K[m].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=m&&0<=x);break}}}finally{St=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ge(u):""}function yt(i,o){switch(i.tag){case 26:case 27:case 5:return Ge(i.type);case 16:return Ge("Lazy");case 13:return i.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ee(i.type,!1);case 11:return Ee(i.type.render,!1);case 1:return Ee(i.type,!0);case 31:return Ge("Activity");default:return""}}function xe(i){try{var o="",u=null;do o+=yt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var et=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,kt=t.unstable_cancelCallback,mi=t.unstable_shouldYield,te=t.unstable_requestPaint,Pe=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,pi=t.unstable_LowPriority,Va=t.unstable_IdlePriority,Jf=t.log,Zf=t.unstable_setDisableYieldValue,za=null,lr=null;function ma(i){if(typeof Jf=="function"&&Zf(i),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(za,i)}catch{}}var yn=Math.clz32?Math.clz32:tm,em=Math.log,Sc=Math.LN2;function tm(i){return i>>>=0,i===0?32:31-(em(i)/Sc|0)|0}var gi=256,mo=262144,Sn=4194304;function yi(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xi(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var x=0,b=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var B=m&134217727;return B!==0?(m=B&~b,m!==0?x=yi(m):(O&=B,O!==0?x=yi(O):u||(u=B&~i,u!==0&&(x=yi(u))))):(B=m&~b,B!==0?x=yi(B):O!==0?x=yi(O):u||(u=m&~i,u!==0&&(x=yi(u)))),x===0?0:o!==0&&o!==x&&(o&b)===0&&(b=x&-x,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:x}function Fa(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function rx(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(){var i=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),i}function vi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function po(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ax(i,o,u,m,x,b){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var B=i.entanglements,K=i.expirationTimes,se=i.hiddenUpdates;for(u=O&~u;0<u;){var ye=31-yn(u),_e=1<<ye;B[ye]=0,K[ye]=-1;var ce=se[ye];if(ce!==null)for(se[ye]=null,ye=0;ye<ce.length;ye++){var fe=ce[ye];fe!==null&&(fe.lane&=-536870913)}u&=~_e}m!==0&&go(i,m,0),b!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=b&~(O&~o))}function go(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-yn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function yd(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-yn(u),x=1<<m;x&o|i[m]&o&&(i[m]|=o),u&=~x}}function xd(i,o){var u=o&-o;return u=(u&42)!==0?1:yo(u),(u&(i.suspendedLanes|o))!==0?0:u}function yo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function rm(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:oT(i.type))}function $a(i,o){var u=Y.p;try{return Y.p=i,o()}finally{Y.p=u}}var Ba=Math.random().toString(36).slice(2),An="__reactFiber$"+Ba,Xn="__reactProps$"+Ba,bi="__reactContainer$"+Ba,Ac="__reactEvents$"+Ba,ix="__reactListeners$"+Ba,am="__reactHandles$"+Ba,im="__reactResources$"+Ba,wi="__reactMarker$"+Ba;function Tc(i){delete i[An],delete i[Xn],delete i[Ac],delete i[ix],delete i[am]}function Ni(i){var o=i[An];if(o)return o;for(var u=i.parentNode;u;){if(o=u[bi]||u[An]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=G2(i);i!==null;){if(u=i[An])return u;i=G2(i)}return o}i=u,u=i.parentNode}return null}function pa(i){if(i=i[An]||i[bi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Qr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function _i(i){var o=i[im];return o||(o=i[im]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tn(i){i[wi]=!0}var vd=new Set,bd={};function ji(i,o){Ei(i,o),Ei(i+"Capture",o)}function Ei(i,o){for(bd[i]=o,i=0;i<o.length;i++)vd.add(o[i])}var wd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nd={},_d={};function sm(i){return et.call(_d,i)?!0:et.call(Nd,i)?!1:wd.test(i)?_d[i]=!0:(Nd[i]=!0,!1)}function Cc(i,o,u){if(sm(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Jr(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Cn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Qn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function tl(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,b=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(O){u=""+O,b.call(this,O)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ct(i){if(!i._valueTracker){var o=tl(i)?"checked":"value";i._valueTracker=jd(i,o,""+i[o])}}function xo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=tl(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Si(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vo=/[\n"\\]/g;function Pr(i){return i.replace(vo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ic(i,o,u,m,x,b,O,B){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Qn(o)):i.value!==""+Qn(o)&&(i.value=""+Qn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Ed(i,O,Qn(o)):u!=null?Ed(i,O,Qn(u)):m!=null&&i.removeAttribute("value"),x==null&&b!=null&&(i.defaultChecked=!!b),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Qn(B):i.removeAttribute("name")}function lm(i,o,u,m,x,b,O,B){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Ct(i);return}u=u!=null?""+Qn(u):"",o=o!=null?""+Qn(o):u,B||o===i.value||(i.value=o),i.defaultValue=o}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=B?i.checked:!!m,i.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),Ct(i)}function Ed(i,o,u){o==="number"&&Si(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function nl(i,o,u,m){if(i=i.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=o.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Qn(u),o=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function om(i,o,u){if(o!=null&&(o=""+Qn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Qn(u):""}function rl(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(ne(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Qn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Ct(i)}function kr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var cm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||cm.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Ad(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&u[x]!==m&&Sd(i,x,m)}else for(var b in o)o.hasOwnProperty(b)&&Sd(i,b,o[b])}function Oc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dc(i){return al.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function qa(){}var Td=null;function ga(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var il=null,Ai=null;function bo(i){var o=pa(i);if(o&&(i=o.stateNode)){var u=i[Xn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ic(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var x=m[Xn]||null;if(!x)throw Error(r(90));Ic(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&xo(m)}break e;case"textarea":om(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&nl(i,!!u.multiple,o,!1)}}}var Rc=!1;function sl(i,o,u){if(Rc)return i(o,u);Rc=!0;try{var m=i(o);return m}finally{if(Rc=!1,(il!==null||Ai!==null)&&(rp(),il&&(o=il,i=Ai,Ai=il=null,bo(o),i)))for(o=0;o<i.length;o++)bo(i[o])}}function Ha(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Xn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=!1;if(ya)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{wo=!1}var Ti=null,Cd=null,No=null;function Id(){if(No)return No;var i,o=Cd,u=o.length,m,x="value"in Ti?Ti.value:Ti.textContent,b=x.length;for(i=0;i<u&&o[i]===x[i];i++);var O=u-i;for(m=1;m<=O&&o[u-m]===x[b-m];m++);return No=x.slice(i,1<m?1-m:void 0)}function _o(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function Ga(){return!1}function or(i){function o(u,m,x,b,O){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(u=i[B],this[B]=u?u(b):b[B]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ss:Ga,this.isPropagationStopped=Ga,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),o}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=or(ls),ll=g({},ls,{view:0,detail:0}),Od=or(ll),ol,Pc,Ii,kc=g({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ii&&(Ii&&i.type==="mousemove"?(ol=i.screenX-Ii.screenX,Pc=i.screenY-Ii.screenY):Pc=ol=0,Ii=i),ol)},movementY:function(i){return"movementY"in i?i.movementY:Pc}}),Dd=or(kc),jo=g({},kc,{dataTransfer:0}),dm=or(jo),hm=g({},ll,{relatedTarget:0}),Eo=or(hm),Rd=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=or(Rd),Mc=g({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mm=or(Mc),pm=g({},ls,{data:0}),Oi=or(pm),gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=xm[i])?!!o[i]:!1}function cl(){return vm}var Ar=g({},ll,{key:function(i){if(i.key){var o=gm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ym[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(i){return i.type==="keypress"?_o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bm=or(Ar),wm=g({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=or(wm),y=g({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),S=or(y),k=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=or(k),re=g({},kc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),de=or(re),Te=g({},ls,{newState:0,oldState:0}),it=or(Te),xn=[9,13,27,32],jt=ya&&"CompositionEvent"in window,en=null;ya&&"documentMode"in document&&(en=document.documentMode);var xa=ya&&"TextEvent"in window&&!en,Di=ya&&(!jt||en&&8<en&&11>=en),Ka=" ",Ya=!1;function So(i,o){switch(i){case"keyup":return xn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Uc=!1;function v8(i,o){switch(i){case"compositionend":return Lc(o);case"keypress":return o.which!==32?null:(Ya=!0,Ka);case"textInput":return i=o.data,i===Ka&&Ya?null:i;default:return null}}function b8(i,o){if(Uc)return i==="compositionend"||!jt&&So(i,o)?(i=Id(),No=Cd=Ti=null,Uc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Di&&o.locale!=="ko"?null:o.data;default:return null}}var w8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!w8[i.type]:o==="textarea"}function XE(i,o,u,m){il?Ai?Ai.push(m):Ai=[m]:il=m,o=up(o,"onChange"),0<o.length&&(u=new Ci("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Pd=null,kd=null;function N8(i){D2(i,0)}function Nm(i){var o=Qr(i);if(xo(o))return i}function QE(i,o){if(i==="change")return o}var JE=!1;if(ya){var sx;if(ya){var lx="oninput"in document;if(!lx){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),lx=typeof ZE.oninput=="function"}sx=lx}else sx=!1;JE=sx&&(!document.documentMode||9<document.documentMode)}function eS(){Pd&&(Pd.detachEvent("onpropertychange",tS),kd=Pd=null)}function tS(i){if(i.propertyName==="value"&&Nm(kd)){var o=[];XE(o,kd,i,ga(i)),sl(N8,o)}}function _8(i,o,u){i==="focusin"?(eS(),Pd=o,kd=u,Pd.attachEvent("onpropertychange",tS)):i==="focusout"&&eS()}function j8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nm(kd)}function E8(i,o){if(i==="click")return Nm(o)}function S8(i,o){if(i==="input"||i==="change")return Nm(o)}function A8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zr=typeof Object.is=="function"?Object.is:A8;function Md(i,o){if(Zr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!et.call(o,x)||!Zr(i[x],o[x]))return!1}return!0}function nS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rS(i,o){var u=nS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=nS(u)}}function aS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?aS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function iS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Si(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Si(i.document)}return o}function ox(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var T8=ya&&"documentMode"in document&&11>=document.documentMode,Vc=null,cx=null,Ld=null,ux=!1;function sS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ux||Vc==null||Vc!==Si(m)||(m=Vc,"selectionStart"in m&&ox(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ld&&Md(Ld,m)||(Ld=m,m=up(cx,"onSelect"),0<m.length&&(o=new Ci("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Vc)))}function Ao(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var zc={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},dx={},lS={};ya&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function To(i){if(dx[i])return dx[i];if(!zc[i])return i;var o=zc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in lS)return dx[i]=o[u];return i}var oS=To("animationend"),cS=To("animationiteration"),uS=To("animationstart"),C8=To("transitionrun"),I8=To("transitionstart"),O8=To("transitioncancel"),dS=To("transitionend"),hS=new Map,hx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hx.push("scrollEnd");function Wa(i,o){hS.set(i,o),ji(o,[i])}var _m=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},va=[],Fc=0,fx=0;function jm(){for(var i=Fc,o=fx=Fc=0;o<i;){var u=va[o];va[o++]=null;var m=va[o];va[o++]=null;var x=va[o];va[o++]=null;var b=va[o];if(va[o++]=null,m!==null&&x!==null){var O=m.pending;O===null?x.next=x:(x.next=O.next,O.next=x),m.pending=x}b!==0&&fS(u,x,b)}}function Em(i,o,u,m){va[Fc++]=i,va[Fc++]=o,va[Fc++]=u,va[Fc++]=m,fx|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function mx(i,o,u,m){return Em(i,o,u,m),Sm(i)}function Co(i,o){return Em(i,null,null,o),Sm(i)}function fS(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var x=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(x=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,x&&o!==null&&(x=31-yn(u),i=b.hiddenUpdates,m=i[x],m===null?i[x]=[o]:m.push(o),o.lane=u|536870912),b):null}function Sm(i){if(50<ih)throw ih=0,_v=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var $c={};function D8(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(i,o,u,m){return new D8(i,o,u,m)}function px(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cs(i,o){var u=i.alternate;return u===null?(u=ea(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function mS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Am(i,o,u,m,x,b){var O=0;if(m=i,typeof i=="function")px(i)&&(O=1);else if(typeof i=="string")O=LV(i,u,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=ea(31,u,o,x),i.elementType=$,i.lanes=b,i;case j:return Io(u.children,x,b,o);case E:O=8,x|=24;break;case I:return i=ea(12,u,o,x|2),i.elementType=I,i.lanes=b,i;case C:return i=ea(13,u,o,x),i.elementType=C,i.lanes=b,i;case L:return i=ea(19,u,o,x),i.elementType=L,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:O=10;break e;case R:O=9;break e;case T:O=11;break e;case P:O=14;break e;case V:O=16,m=null;break e}O=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=ea(O,u,o,x),o.elementType=i,o.type=m,o.lanes=b,o}function Io(i,o,u,m){return i=ea(7,i,m,o),i.lanes=u,i}function gx(i,o,u){return i=ea(6,i,null,o),i.lanes=u,i}function pS(i){var o=ea(18,null,null,0);return o.stateNode=i,o}function yx(i,o,u){return o=ea(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var gS=new WeakMap;function ba(i,o){if(typeof i=="object"&&i!==null){var u=gS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:xe(o)},gS.set(i,o),o)}return{value:i,source:o,stack:xe(o)}}var Bc=[],qc=0,Tm=null,Ud=0,wa=[],Na=0,ul=null,Ri=1,Pi="";function us(i,o){Bc[qc++]=Ud,Bc[qc++]=Tm,Tm=i,Ud=o}function yS(i,o,u){wa[Na++]=Ri,wa[Na++]=Pi,wa[Na++]=ul,ul=i;var m=Ri;i=Pi;var x=32-yn(m)-1;m&=~(1<<x),u+=1;var b=32-yn(o)+x;if(30<b){var O=x-x%5;b=(m&(1<<O)-1).toString(32),m>>=O,x-=O,Ri=1<<32-yn(o)+x|u<<x|m,Pi=b+i}else Ri=1<<b|u<<x|m,Pi=i}function xx(i){i.return!==null&&(us(i,1),yS(i,1,0))}function vx(i){for(;i===Tm;)Tm=Bc[--qc],Bc[qc]=null,Ud=Bc[--qc],Bc[qc]=null;for(;i===ul;)ul=wa[--Na],wa[Na]=null,Pi=wa[--Na],wa[Na]=null,Ri=wa[--Na],wa[Na]=null}function xS(i,o){wa[Na++]=Ri,wa[Na++]=Pi,wa[Na++]=ul,Ri=o.id,Pi=o.overflow,ul=i}var cr=null,Xt=null,gt=!1,dl=null,_a=!1,bx=Error(r(519));function hl(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vd(ba(o,i)),bx}function vS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[An]=i,o[Xn]=m,u){case"dialog":ut("cancel",o),ut("close",o);break;case"iframe":case"object":case"embed":ut("load",o);break;case"video":case"audio":for(u=0;u<lh.length;u++)ut(lh[u],o);break;case"source":ut("error",o);break;case"img":case"image":case"link":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"input":ut("invalid",o),lm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ut("invalid",o);break;case"textarea":ut("invalid",o),rl(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||M2(o.textContent,u)?(m.popover!=null&&(ut("beforetoggle",o),ut("toggle",o)),m.onScroll!=null&&ut("scroll",o),m.onScrollEnd!=null&&ut("scrollend",o),m.onClick!=null&&(o.onclick=qa),o=!0):o=!1,o||hl(i,!0)}function bS(i){for(cr=i.return;cr;)switch(cr.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:cr=cr.return}}function Hc(i){if(i!==cr)return!1;if(!gt)return bS(i),gt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Uv(i.type,i.memoizedProps)),u=!u),u&&Xt&&hl(i),bS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Xt=H2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Xt=H2(i)}else o===27?(o=Xt,Sl(i.type)?(i=Bv,Bv=null,Xt=i):Xt=o):Xt=cr?Ea(i.stateNode.nextSibling):null;return!0}function Oo(){Xt=cr=null,gt=!1}function wx(){var i=dl;return i!==null&&(Vr===null?Vr=i:Vr.push.apply(Vr,i),dl=null),i}function Vd(i){dl===null?dl=[i]:dl.push(i)}var Nx=z(null),Do=null,ds=null;function fl(i,o,u){ge(Nx,o._currentValue),o._currentValue=u}function hs(i){i._currentValue=Nx.current,W(Nx)}function _x(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function jx(i,o,u,m){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var b=x.dependencies;if(b!==null){var O=x.child;b=b.firstContext;e:for(;b!==null;){var B=b;b=x;for(var K=0;K<o.length;K++)if(B.context===o[K]){b.lanes|=u,B=b.alternate,B!==null&&(B.lanes|=u),_x(b.return,u,i),m||(O=null);break e}b=B.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(r(341));O.lanes|=u,b=O.alternate,b!==null&&(b.lanes|=u),_x(O,u,i),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===i){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function Gc(i,o,u,m){i=null;for(var x=o,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var B=x.type;Zr(x.pendingProps.value,O.value)||(i!==null?i.push(B):i=[B])}}else if(x===De.current){if(O=x.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(hh):i=[hh])}x=x.return}i!==null&&jx(o,i,u,m),o.flags|=262144}function Cm(i){for(i=i.firstContext;i!==null;){if(!Zr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ro(i){Do=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ur(i){return wS(Do,i)}function Im(i,o){return Do===null&&Ro(i),wS(i,o)}function wS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ds===null){if(i===null)throw Error(r(308));ds=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ds=ds.next=o;return u}var R8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},P8=t.unstable_scheduleCallback,k8=t.unstable_NormalPriority,In={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ex(){return{controller:new R8,data:new Map,refCount:0}}function zd(i){i.refCount--,i.refCount===0&&P8(k8,function(){i.controller.abort()})}var Fd=null,Sx=0,Kc=0,Yc=null;function M8(i,o){if(Fd===null){var u=Fd=[];Sx=0,Kc=Cv(),Yc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Sx++,o.then(NS,NS),o}function NS(){if(--Sx===0&&Fd!==null){Yc!==null&&(Yc.status="fulfilled");var i=Fd;Fd=null,Kc=0,Yc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function L8(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<u.length;x++)(0,u[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var _S=G.S;G.S=function(i,o){s2=Pe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&M8(i,o),_S!==null&&_S(i,o)};var Po=z(null);function Ax(){var i=Po.current;return i!==null?i:Bt.pooledCache}function Om(i,o){o===null?ge(Po,Po.current):ge(Po,o.pool)}function jS(){var i=Ax();return i===null?null:{parent:In._currentValue,pool:i}}var Wc=Error(r(460)),Tx=Error(r(474)),Dm=Error(r(542)),Rm={then:function(){}};function ES(i){return i=i.status,i==="fulfilled"||i==="rejected"}function SS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(qa,qa),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,TS(i),i;default:if(typeof o.status=="string")o.then(qa,qa);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,TS(i),i}throw Mo=o,Wc}}function ko(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Mo=u,Wc):u}}var Mo=null;function AS(){if(Mo===null)throw Error(r(459));var i=Mo;return Mo=null,i}function TS(i){if(i===Wc||i===Dm)throw Error(r(483))}var Xc=null,$d=0;function Pm(i){var o=$d;return $d+=1,Xc===null&&(Xc=[]),SS(Xc,i,o)}function Bd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function km(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function CS(i){function o(ee,Q){if(i){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function u(ee,Q){if(!i)return null;for(;Q!==null;)o(ee,Q),Q=Q.sibling;return null}function m(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function x(ee,Q){return ee=cs(ee,Q),ee.index=0,ee.sibling=null,ee}function b(ee,Q,ie){return ee.index=ie,i?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=67108866,Q):ie):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function O(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function B(ee,Q,ie,be){return Q===null||Q.tag!==6?(Q=gx(ie,ee.mode,be),Q.return=ee,Q):(Q=x(Q,ie),Q.return=ee,Q)}function K(ee,Q,ie,be){var qe=ie.type;return qe===j?ye(ee,Q,ie.props.children,be,ie.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===V&&ko(qe)===Q.type)?(Q=x(Q,ie.props),Bd(Q,ie),Q.return=ee,Q):(Q=Am(ie.type,ie.key,ie.props,null,ee.mode,be),Bd(Q,ie),Q.return=ee,Q)}function se(ee,Q,ie,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=yx(ie,ee.mode,be),Q.return=ee,Q):(Q=x(Q,ie.children||[]),Q.return=ee,Q)}function ye(ee,Q,ie,be,qe){return Q===null||Q.tag!==7?(Q=Io(ie,ee.mode,be,qe),Q.return=ee,Q):(Q=x(Q,ie),Q.return=ee,Q)}function _e(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=gx(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return ie=Am(Q.type,Q.key,Q.props,null,ee.mode,ie),Bd(ie,Q),ie.return=ee,ie;case _:return Q=yx(Q,ee.mode,ie),Q.return=ee,Q;case V:return Q=ko(Q),_e(ee,Q,ie)}if(ne(Q)||F(Q))return Q=Io(Q,ee.mode,ie,null),Q.return=ee,Q;if(typeof Q.then=="function")return _e(ee,Pm(Q),ie);if(Q.$$typeof===M)return _e(ee,Im(ee,Q),ie);km(ee,Q)}return null}function ce(ee,Q,ie,be){var qe=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return qe!==null?null:B(ee,Q,""+ie,be);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:return ie.key===qe?K(ee,Q,ie,be):null;case _:return ie.key===qe?se(ee,Q,ie,be):null;case V:return ie=ko(ie),ce(ee,Q,ie,be)}if(ne(ie)||F(ie))return qe!==null?null:ye(ee,Q,ie,be,null);if(typeof ie.then=="function")return ce(ee,Q,Pm(ie),be);if(ie.$$typeof===M)return ce(ee,Q,Im(ee,ie),be);km(ee,ie)}return null}function fe(ee,Q,ie,be,qe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ee=ee.get(ie)||null,B(Q,ee,""+be,qe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case N:return ee=ee.get(be.key===null?ie:be.key)||null,K(Q,ee,be,qe);case _:return ee=ee.get(be.key===null?ie:be.key)||null,se(Q,ee,be,qe);case V:return be=ko(be),fe(ee,Q,ie,be,qe)}if(ne(be)||F(be))return ee=ee.get(ie)||null,ye(Q,ee,be,qe,null);if(typeof be.then=="function")return fe(ee,Q,ie,Pm(be),qe);if(be.$$typeof===M)return fe(ee,Q,ie,Im(Q,be),qe);km(Q,be)}return null}function Le(ee,Q,ie,be){for(var qe=null,bt=null,Ue=Q,lt=Q=0,ht=null;Ue!==null&&lt<ie.length;lt++){Ue.index>lt?(ht=Ue,Ue=null):ht=Ue.sibling;var wt=ce(ee,Ue,ie[lt],be);if(wt===null){Ue===null&&(Ue=ht);break}i&&Ue&&wt.alternate===null&&o(ee,Ue),Q=b(wt,Q,lt),bt===null?qe=wt:bt.sibling=wt,bt=wt,Ue=ht}if(lt===ie.length)return u(ee,Ue),gt&&us(ee,lt),qe;if(Ue===null){for(;lt<ie.length;lt++)Ue=_e(ee,ie[lt],be),Ue!==null&&(Q=b(Ue,Q,lt),bt===null?qe=Ue:bt.sibling=Ue,bt=Ue);return gt&&us(ee,lt),qe}for(Ue=m(Ue);lt<ie.length;lt++)ht=fe(Ue,ee,lt,ie[lt],be),ht!==null&&(i&&ht.alternate!==null&&Ue.delete(ht.key===null?lt:ht.key),Q=b(ht,Q,lt),bt===null?qe=ht:bt.sibling=ht,bt=ht);return i&&Ue.forEach(function(Ol){return o(ee,Ol)}),gt&&us(ee,lt),qe}function Ke(ee,Q,ie,be){if(ie==null)throw Error(r(151));for(var qe=null,bt=null,Ue=Q,lt=Q=0,ht=null,wt=ie.next();Ue!==null&&!wt.done;lt++,wt=ie.next()){Ue.index>lt?(ht=Ue,Ue=null):ht=Ue.sibling;var Ol=ce(ee,Ue,wt.value,be);if(Ol===null){Ue===null&&(Ue=ht);break}i&&Ue&&Ol.alternate===null&&o(ee,Ue),Q=b(Ol,Q,lt),bt===null?qe=Ol:bt.sibling=Ol,bt=Ol,Ue=ht}if(wt.done)return u(ee,Ue),gt&&us(ee,lt),qe;if(Ue===null){for(;!wt.done;lt++,wt=ie.next())wt=_e(ee,wt.value,be),wt!==null&&(Q=b(wt,Q,lt),bt===null?qe=wt:bt.sibling=wt,bt=wt);return gt&&us(ee,lt),qe}for(Ue=m(Ue);!wt.done;lt++,wt=ie.next())wt=fe(Ue,ee,lt,wt.value,be),wt!==null&&(i&&wt.alternate!==null&&Ue.delete(wt.key===null?lt:wt.key),Q=b(wt,Q,lt),bt===null?qe=wt:bt.sibling=wt,bt=wt);return i&&Ue.forEach(function(YV){return o(ee,YV)}),gt&&us(ee,lt),qe}function Vt(ee,Q,ie,be){if(typeof ie=="object"&&ie!==null&&ie.type===j&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:e:{for(var qe=ie.key;Q!==null;){if(Q.key===qe){if(qe=ie.type,qe===j){if(Q.tag===7){u(ee,Q.sibling),be=x(Q,ie.props.children),be.return=ee,ee=be;break e}}else if(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===V&&ko(qe)===Q.type){u(ee,Q.sibling),be=x(Q,ie.props),Bd(be,ie),be.return=ee,ee=be;break e}u(ee,Q);break}else o(ee,Q);Q=Q.sibling}ie.type===j?(be=Io(ie.props.children,ee.mode,be,ie.key),be.return=ee,ee=be):(be=Am(ie.type,ie.key,ie.props,null,ee.mode,be),Bd(be,ie),be.return=ee,ee=be)}return O(ee);case _:e:{for(qe=ie.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){u(ee,Q.sibling),be=x(Q,ie.children||[]),be.return=ee,ee=be;break e}else{u(ee,Q);break}else o(ee,Q);Q=Q.sibling}be=yx(ie,ee.mode,be),be.return=ee,ee=be}return O(ee);case V:return ie=ko(ie),Vt(ee,Q,ie,be)}if(ne(ie))return Le(ee,Q,ie,be);if(F(ie)){if(qe=F(ie),typeof qe!="function")throw Error(r(150));return ie=qe.call(ie),Ke(ee,Q,ie,be)}if(typeof ie.then=="function")return Vt(ee,Q,Pm(ie),be);if(ie.$$typeof===M)return Vt(ee,Q,Im(ee,ie),be);km(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(u(ee,Q.sibling),be=x(Q,ie),be.return=ee,ee=be):(u(ee,Q),be=gx(ie,ee.mode,be),be.return=ee,ee=be),O(ee)):u(ee,Q)}return function(ee,Q,ie,be){try{$d=0;var qe=Vt(ee,Q,ie,be);return Xc=null,qe}catch(Ue){if(Ue===Wc||Ue===Dm)throw Ue;var bt=ea(29,Ue,null,ee.mode);return bt.lanes=be,bt.return=ee,bt}finally{}}}var Lo=CS(!0),IS=CS(!1),ml=!1;function Cx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ix(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function pl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gl(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Et&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=Sm(i),fS(i,null,u),o}return Em(i,m,o,u),Sm(i)}function qd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,yd(i,u)}}function Ox(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?x=b=O:b=b.next=O,u=u.next}while(u!==null);b===null?x=b=o:b=b.next=o}else x=b=o;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Dx=!1;function Hd(){if(Dx){var i=Yc;if(i!==null)throw i}}function Gd(i,o,u,m){Dx=!1;var x=i.updateQueue;ml=!1;var b=x.firstBaseUpdate,O=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var K=B,se=K.next;K.next=null,O===null?b=se:O.next=se,O=K;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,B=ye.lastBaseUpdate,B!==O&&(B===null?ye.firstBaseUpdate=se:B.next=se,ye.lastBaseUpdate=K))}if(b!==null){var _e=x.baseState;O=0,ye=se=K=null,B=b;do{var ce=B.lane&-536870913,fe=ce!==B.lane;if(fe?(dt&ce)===ce:(m&ce)===ce){ce!==0&&ce===Kc&&(Dx=!0),ye!==null&&(ye=ye.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Le=i,Ke=B;ce=o;var Vt=u;switch(Ke.tag){case 1:if(Le=Ke.payload,typeof Le=="function"){_e=Le.call(Vt,_e,ce);break e}_e=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ke.payload,ce=typeof Le=="function"?Le.call(Vt,_e,ce):Le,ce==null)break e;_e=g({},_e,ce);break e;case 2:ml=!0}}ce=B.callback,ce!==null&&(i.flags|=64,fe&&(i.flags|=8192),fe=x.callbacks,fe===null?x.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ye===null?(se=ye=fe,K=_e):ye=ye.next=fe,O|=ce;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);ye===null&&(K=_e),x.baseState=K,x.firstBaseUpdate=se,x.lastBaseUpdate=ye,b===null&&(x.shared.lanes=0),wl|=O,i.lanes=O,i.memoizedState=_e}}function OS(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function DS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)OS(u[i],o)}var Qc=z(null),Mm=z(0);function RS(i,o){i=ws,ge(Mm,i),ge(Qc,o),ws=i|o.baseLanes}function Rx(){ge(Mm,ws),ge(Qc,Qc.current)}function Px(){ws=Mm.current,W(Qc),W(Mm)}var ta=z(null),ja=null;function yl(i){var o=i.alternate;ge(vn,vn.current&1),ge(ta,i),ja===null&&(o===null||Qc.current!==null||o.memoizedState!==null)&&(ja=i)}function kx(i){ge(vn,vn.current),ge(ta,i),ja===null&&(ja=i)}function PS(i){i.tag===22?(ge(vn,vn.current),ge(ta,i),ja===null&&(ja=i)):xl()}function xl(){ge(vn,vn.current),ge(ta,ta.current)}function na(i){W(ta),ja===i&&(ja=null),W(vn)}var vn=z(0);function Lm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Fv(u)||$v(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fs=0,st=null,Lt=null,On=null,Um=!1,Jc=!1,Uo=!1,Vm=0,Kd=0,Zc=null,U8=0;function fn(){throw Error(r(321))}function Mx(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Zr(i[u],o[u]))return!1;return!0}function Lx(i,o,u,m,x,b){return fs=b,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=i===null||i.memoizedState===null?yA:Jx,Uo=!1,b=u(m,x),Uo=!1,Jc&&(b=MS(o,u,m,x)),kS(i),b}function kS(i){G.H=Xd;var o=Lt!==null&&Lt.next!==null;if(fs=0,On=Lt=st=null,Um=!1,Kd=0,Zc=null,o)throw Error(r(300));i===null||Dn||(i=i.dependencies,i!==null&&Cm(i)&&(Dn=!0))}function MS(i,o,u,m){st=i;var x=0;do{if(Jc&&(Zc=null),Kd=0,Jc=!1,25<=x)throw Error(r(301));if(x+=1,On=Lt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=xA,b=o(u,m)}while(Jc);return b}function V8(){var i=G.H,o=i.useState()[0];return o=typeof o.then=="function"?Yd(o):o,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(st.flags|=1024),o}function Ux(){var i=Vm!==0;return Vm=0,i}function Vx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function zx(i){if(Um){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Um=!1}fs=0,On=Lt=st=null,Jc=!1,Kd=Vm=0,Zc=null}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?st.memoizedState=On=i:On=On.next=i,On}function bn(){if(Lt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var o=On===null?st.memoizedState:On.next;if(o!==null)On=o,Lt=i;else{if(i===null)throw st.alternate===null?Error(r(467)):Error(r(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},On===null?st.memoizedState=On=i:On=On.next=i}return On}function zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yd(i){var o=Kd;return Kd+=1,Zc===null&&(Zc=[]),i=SS(Zc,i,o),o=st,(On===null?o.memoizedState:On.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?yA:Jx),i}function Fm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yd(i);if(i.$$typeof===M)return ur(i)}throw Error(r(438,String(i)))}function Fx(i){var o=null,u=st.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=st.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=zm(),st.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=A;return o.index++,u}function ms(i,o){return typeof o=="function"?o(i):o}function $m(i){var o=bn();return $x(o,Lt,i)}function $x(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var x=i.baseQueue,b=m.pending;if(b!==null){if(x!==null){var O=x.next;x.next=b.next,b.next=O}o.baseQueue=x=b,m.pending=null}if(b=i.baseState,x===null)i.memoizedState=b;else{o=x.next;var B=O=null,K=null,se=o,ye=!1;do{var _e=se.lane&-536870913;if(_e!==se.lane?(dt&_e)===_e:(fs&_e)===_e){var ce=se.revertLane;if(ce===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),_e===Kc&&(ye=!0);else if((fs&ce)===ce){se=se.next,ce===Kc&&(ye=!0);continue}else _e={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(B=K=_e,O=b):K=K.next=_e,st.lanes|=ce,wl|=ce;_e=se.action,Uo&&u(b,_e),b=se.hasEagerState?se.eagerState:u(b,_e)}else ce={lane:_e,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(B=K=ce,O=b):K=K.next=ce,st.lanes|=_e,wl|=_e;se=se.next}while(se!==null&&se!==o);if(K===null?O=b:K.next=B,!Zr(b,i.memoizedState)&&(Dn=!0,ye&&(u=Yc,u!==null)))throw u;i.memoizedState=b,i.baseState=O,i.baseQueue=K,m.lastRenderedState=b}return x===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Bx(i){var o=bn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,x=u.pending,b=o.memoizedState;if(x!==null){u.pending=null;var O=x=x.next;do b=i(b,O.action),O=O.next;while(O!==x);Zr(b,o.memoizedState)||(Dn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function LS(i,o,u){var m=st,x=bn(),b=gt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var O=!Zr((Lt||x).memoizedState,u);if(O&&(x.memoizedState=u,Dn=!0),x=x.queue,Gx(zS.bind(null,m,x,i),[i]),x.getSnapshot!==o||O||On!==null&&On.memoizedState.tag&1){if(m.flags|=2048,eu(9,{destroy:void 0},VS.bind(null,m,x,u,o),null),Bt===null)throw Error(r(349));b||(fs&127)!==0||US(m,o,u)}return u}function US(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o=zm(),st.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function VS(i,o,u,m){o.value=u,o.getSnapshot=m,FS(o)&&$S(i)}function zS(i,o,u){return u(function(){FS(o)&&$S(i)})}function FS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Zr(i,u)}catch{return!0}}function $S(i){var o=Co(i,2);o!==null&&zr(o,i,2)}function qx(i){var o=Tr();if(typeof i=="function"){var u=i;if(i=u(),Uo){ma(!0);try{u()}finally{ma(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},o}function BS(i,o,u,m){return i.baseState=u,$x(i,Lt,typeof m=="function"?m:ms)}function z8(i,o,u,m,x){if(Hm(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};G.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,qS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function qS(i,o){var u=o.action,m=o.payload,x=i.state;if(o.isTransition){var b=G.T,O={};G.T=O;try{var B=u(x,m),K=G.S;K!==null&&K(O,B),HS(i,o,B)}catch(se){Hx(i,o,se)}finally{b!==null&&O.types!==null&&(b.types=O.types),G.T=b}}else try{b=u(x,m),HS(i,o,b)}catch(se){Hx(i,o,se)}}function HS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){GS(i,o,m)},function(m){return Hx(i,o,m)}):GS(i,o,u)}function GS(i,o,u){o.status="fulfilled",o.value=u,KS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,qS(i,u)))}function Hx(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,KS(o),o=o.next;while(o!==m)}i.action=null}function KS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function YS(i,o){return o}function WS(i,o){if(gt){var u=Bt.formState;if(u!==null){e:{var m=st;if(gt){if(Xt){t:{for(var x=Xt,b=_a;x.nodeType!==8;){if(!b){x=null;break t}if(x=Ea(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){Xt=Ea(x.nextSibling),m=x.data==="F!";break e}}hl(m)}m=!1}m&&(o=u[0])}}return u=Tr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YS,lastRenderedState:o},u.queue=m,u=mA.bind(null,st,m),m.dispatch=u,m=qx(!1),b=Qx.bind(null,st,!1,m.queue),m=Tr(),x={state:o,dispatch:null,action:i,pending:null},m.queue=x,u=z8.bind(null,st,x,b,u),x.dispatch=u,m.memoizedState=i,[o,u,!1]}function XS(i){var o=bn();return QS(o,Lt,i)}function QS(i,o,u){if(o=$x(i,o,YS)[0],i=$m(ms)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Yd(o)}catch(O){throw O===Wc?Dm:O}else m=o;o=bn();var x=o.queue,b=x.dispatch;return u!==o.memoizedState&&(st.flags|=2048,eu(9,{destroy:void 0},F8.bind(null,x,u),null)),[m,b,i]}function F8(i,o){i.action=o}function JS(i){var o=bn(),u=Lt;if(u!==null)return QS(o,u,i);bn(),o=o.memoizedState,u=bn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function eu(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=st.updateQueue,o===null&&(o=zm(),st.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function ZS(){return bn().memoizedState}function Bm(i,o,u,m){var x=Tr();st.flags|=i,x.memoizedState=eu(1|o,{destroy:void 0},u,m===void 0?null:m)}function qm(i,o,u,m){var x=bn();m=m===void 0?null:m;var b=x.memoizedState.inst;Lt!==null&&m!==null&&Mx(m,Lt.memoizedState.deps)?x.memoizedState=eu(o,b,u,m):(st.flags|=i,x.memoizedState=eu(1|o,b,u,m))}function eA(i,o){Bm(8390656,8,i,o)}function Gx(i,o){qm(2048,8,i,o)}function $8(i){st.flags|=4;var o=st.updateQueue;if(o===null)o=zm(),st.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function tA(i){var o=bn().memoizedState;return $8({ref:o,nextImpl:i}),function(){if((Et&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function nA(i,o){return qm(4,2,i,o)}function rA(i,o){return qm(4,4,i,o)}function aA(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function iA(i,o,u){u=u!=null?u.concat([i]):null,qm(4,4,aA.bind(null,o,i),u)}function Kx(){}function sA(i,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Mx(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function lA(i,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Mx(o,m[1]))return m[0];if(m=i(),Uo){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m}function Yx(i,o,u){return u===void 0||(fs&1073741824)!==0&&(dt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=o2(),st.lanes|=i,wl|=i,u)}function oA(i,o,u,m){return Zr(u,o)?u:Qc.current!==null?(i=Yx(i,u,m),Zr(i,o)||(Dn=!0),i):(fs&42)===0||(fs&1073741824)!==0&&(dt&261930)===0?(Dn=!0,i.memoizedState=u):(i=o2(),st.lanes|=i,wl|=i,o)}function cA(i,o,u,m,x){var b=Y.p;Y.p=b!==0&&8>b?b:8;var O=G.T,B={};G.T=B,Qx(i,!1,o,u);try{var K=x(),se=G.S;if(se!==null&&se(B,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ye=L8(K,m);Wd(i,o,ye,ia(i))}else Wd(i,o,m,ia(i))}catch(_e){Wd(i,o,{then:function(){},status:"rejected",reason:_e},ia())}finally{Y.p=b,O!==null&&B.types!==null&&(O.types=B.types),G.T=O}}function B8(){}function Wx(i,o,u,m){if(i.tag!==5)throw Error(r(476));var x=uA(i).queue;cA(i,x,o,H,u===null?B8:function(){return dA(i),u(m)})}function uA(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function dA(i){var o=uA(i);o.next===null&&(o=i.alternate.memoizedState),Wd(i,o.next.queue,{},ia())}function Xx(){return ur(hh)}function hA(){return bn().memoizedState}function fA(){return bn().memoizedState}function q8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=ia();i=pl(u);var m=gl(o,i,u);m!==null&&(zr(m,o,u),qd(m,o,u)),o={cache:Ex()},i.payload=o;return}o=o.return}}function H8(i,o,u){var m=ia();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Hm(i)?pA(o,u):(u=mx(i,o,u,m),u!==null&&(zr(u,i,m),gA(u,o,m)))}function mA(i,o,u){var m=ia();Wd(i,o,u,m)}function Wd(i,o,u,m){var x={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hm(i))pA(o,x);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var O=o.lastRenderedState,B=b(O,u);if(x.hasEagerState=!0,x.eagerState=B,Zr(B,O))return Em(i,o,x,0),Bt===null&&jm(),!1}catch{}finally{}if(u=mx(i,o,x,m),u!==null)return zr(u,i,m),gA(u,o,m),!0}return!1}function Qx(i,o,u,m){if(m={lane:2,revertLane:Cv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Hm(i)){if(o)throw Error(r(479))}else o=mx(i,u,m,2),o!==null&&zr(o,i,2)}function Hm(i){var o=i.alternate;return i===st||o!==null&&o===st}function pA(i,o){Jc=Um=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function gA(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,yd(i,u)}}var Xd={readContext:ur,use:Fm,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Xd.useEffectEvent=fn;var yA={readContext:ur,use:Fm,useCallback:function(i,o){return Tr().memoizedState=[i,o===void 0?null:o],i},useContext:ur,useEffect:eA,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Bm(4194308,4,aA.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Bm(4194308,4,i,o)},useInsertionEffect:function(i,o){Bm(4,2,i,o)},useMemo:function(i,o){var u=Tr();o=o===void 0?null:o;var m=i();if(Uo){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Tr();if(u!==void 0){var x=u(o);if(Uo){ma(!0);try{u(o)}finally{ma(!1)}}}else x=o;return m.memoizedState=m.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},m.queue=i,i=i.dispatch=H8.bind(null,st,i),[m.memoizedState,i]},useRef:function(i){var o=Tr();return i={current:i},o.memoizedState=i},useState:function(i){i=qx(i);var o=i.queue,u=mA.bind(null,st,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Kx,useDeferredValue:function(i,o){var u=Tr();return Yx(u,i,o)},useTransition:function(){var i=qx(!1);return i=cA.bind(null,st,i.queue,!0,!1),Tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=st,x=Tr();if(gt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Bt===null)throw Error(r(349));(dt&127)!==0||US(m,o,u)}x.memoizedState=u;var b={value:u,getSnapshot:o};return x.queue=b,eA(zS.bind(null,m,b,i),[i]),m.flags|=2048,eu(9,{destroy:void 0},VS.bind(null,m,b,u,o),null),u},useId:function(){var i=Tr(),o=Bt.identifierPrefix;if(gt){var u=Pi,m=Ri;u=(m&~(1<<32-yn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Vm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=U8++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Xx,useFormState:WS,useActionState:WS,useOptimistic:function(i){var o=Tr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qx.bind(null,st,!0,u),u.dispatch=o,[i,o]},useMemoCache:Fx,useCacheRefresh:function(){return Tr().memoizedState=q8.bind(null,st)},useEffectEvent:function(i){var o=Tr(),u={impl:i};return o.memoizedState=u,function(){if((Et&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Jx={readContext:ur,use:Fm,useCallback:sA,useContext:ur,useEffect:Gx,useImperativeHandle:iA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:lA,useReducer:$m,useRef:ZS,useState:function(){return $m(ms)},useDebugValue:Kx,useDeferredValue:function(i,o){var u=bn();return oA(u,Lt.memoizedState,i,o)},useTransition:function(){var i=$m(ms)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:Yd(i),o]},useSyncExternalStore:LS,useId:hA,useHostTransitionStatus:Xx,useFormState:XS,useActionState:XS,useOptimistic:function(i,o){var u=bn();return BS(u,Lt,i,o)},useMemoCache:Fx,useCacheRefresh:fA};Jx.useEffectEvent=tA;var xA={readContext:ur,use:Fm,useCallback:sA,useContext:ur,useEffect:Gx,useImperativeHandle:iA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:lA,useReducer:Bx,useRef:ZS,useState:function(){return Bx(ms)},useDebugValue:Kx,useDeferredValue:function(i,o){var u=bn();return Lt===null?Yx(u,i,o):oA(u,Lt.memoizedState,i,o)},useTransition:function(){var i=Bx(ms)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:Yd(i),o]},useSyncExternalStore:LS,useId:hA,useHostTransitionStatus:Xx,useFormState:JS,useActionState:JS,useOptimistic:function(i,o){var u=bn();return Lt!==null?BS(u,Lt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Fx,useCacheRefresh:fA};xA.useEffectEvent=tA;function Zx(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ev={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=ia(),x=pl(m);x.payload=o,u!=null&&(x.callback=u),o=gl(i,x,m),o!==null&&(zr(o,i,m),qd(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=ia(),x=pl(m);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=gl(i,x,m),o!==null&&(zr(o,i,m),qd(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=ia(),m=pl(u);m.tag=2,o!=null&&(m.callback=o),o=gl(i,m,u),o!==null&&(zr(o,i,u),qd(o,i,u))}};function vA(i,o,u,m,x,b,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,O):o.prototype&&o.prototype.isPureReactComponent?!Md(u,m)||!Md(x,b):!0}function bA(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&ev.enqueueReplaceState(o,o.state,null)}function Vo(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var x in i)u[x]===void 0&&(u[x]=i[x])}return u}function wA(i){_m(i)}function NA(i){console.error(i)}function _A(i){_m(i)}function Gm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function jA(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function tv(i,o,u){return u=pl(u),u.tag=3,u.payload={element:null},u.callback=function(){Gm(i,o)},u}function EA(i){return i=pl(i),i.tag=3,i}function SA(i,o,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var b=m.value;i.payload=function(){return x(b)},i.callback=function(){jA(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){jA(o,u,m),typeof x!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var B=m.stack;this.componentDidCatch(m.value,{componentStack:B!==null?B:""})})}function G8(i,o,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Gc(o,u,x,!0),u=ta.current,u!==null){switch(u.tag){case 31:case 13:return ja===null?ap():u.alternate===null&&mn===0&&(mn=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===Rm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Sv(i,m,x)),!1;case 22:return u.flags|=65536,m===Rm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Sv(i,m,x)),!1}throw Error(r(435,u.tag))}return Sv(i,m,x),ap(),!1}if(gt)return o=ta.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==bx&&(i=Error(r(422),{cause:m}),Vd(ba(i,u)))):(m!==bx&&(o=Error(r(423),{cause:m}),Vd(ba(o,u))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,m=ba(m,u),x=tv(i.stateNode,m,x),Ox(i,x),mn!==4&&(mn=2)),!1;var b=Error(r(520),{cause:m});if(b=ba(b,u),ah===null?ah=[b]:ah.push(b),mn!==4&&(mn=2),o===null)return!0;m=ba(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=x&-x,u.lanes|=i,i=tv(u.stateNode,m,i),Ox(u,i),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Nl===null||!Nl.has(b))))return u.flags|=65536,x&=-x,u.lanes|=x,x=EA(x),SA(x,i,u,m),Ox(u,x),!1}u=u.return}while(u!==null);return!1}var nv=Error(r(461)),Dn=!1;function dr(i,o,u,m){o.child=i===null?IS(o,null,u,m):Lo(o,i.child,u,m)}function AA(i,o,u,m,x){u=u.render;var b=o.ref;if("ref"in m){var O={};for(var B in m)B!=="ref"&&(O[B]=m[B])}else O=m;return Ro(o),m=Lx(i,o,u,O,b,x),B=Ux(),i!==null&&!Dn?(Vx(i,o,x),ps(i,o,x)):(gt&&B&&xx(o),o.flags|=1,dr(i,o,m,x),o.child)}function TA(i,o,u,m,x){if(i===null){var b=u.type;return typeof b=="function"&&!px(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,CA(i,o,b,m,x)):(i=Am(u.type,null,m,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!uv(i,x)){var O=b.memoizedProps;if(u=u.compare,u=u!==null?u:Md,u(O,m)&&i.ref===o.ref)return ps(i,o,x)}return o.flags|=1,i=cs(b,m),i.ref=o.ref,i.return=o,o.child=i}function CA(i,o,u,m,x){if(i!==null){var b=i.memoizedProps;if(Md(b,m)&&i.ref===o.ref)if(Dn=!1,o.pendingProps=m=b,uv(i,x))(i.flags&131072)!==0&&(Dn=!0);else return o.lanes=i.lanes,ps(i,o,x)}return rv(i,o,u,m,x)}function IA(i,o,u,m){var x=m.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=o.child=i.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~b}else m=0,o.child=null;return OA(i,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Om(o,b!==null?b.cachePool:null),b!==null?RS(o,b):Rx(),PS(o);else return m=o.lanes=536870912,OA(i,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Om(o,b.cachePool),RS(o,b),xl(),o.memoizedState=null):(i!==null&&Om(o,null),Rx(),xl());return dr(i,o,x,u),o.child}function Qd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function OA(i,o,u,m,x){var b=Ax();return b=b===null?null:{parent:In._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},i!==null&&Om(o,null),Rx(),PS(o),i!==null&&Gc(i,o,m,!0),o.childLanes=x,null}function Km(i,o){return o=Wm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function DA(i,o,u){return Lo(o,i.child,null,u),i=Km(o,o.pendingProps),i.flags|=2,na(o),o.memoizedState=null,i}function K8(i,o,u){var m=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(gt){if(m.mode==="hidden")return i=Km(o,m),o.lanes=536870912,Qd(null,i);if(kx(o),(i=Xt)?(i=q2(i,_a),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ul!==null?{id:Ri,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},u=pS(i),u.return=o,o.child=u,cr=o,Xt=null)):i=null,i===null)throw hl(o);return o.lanes=536870912,null}return Km(o,m)}var b=i.memoizedState;if(b!==null){var O=b.dehydrated;if(kx(o),x)if(o.flags&256)o.flags&=-257,o=DA(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Dn||Gc(i,o,u,!1),x=(u&i.childLanes)!==0,Dn||x){if(m=Bt,m!==null&&(O=xd(m,u),O!==0&&O!==b.retryLane))throw b.retryLane=O,Co(i,O),zr(m,i,O),nv;ap(),o=DA(i,o,u)}else i=b.treeContext,Xt=Ea(O.nextSibling),cr=o,gt=!0,dl=null,_a=!1,i!==null&&xS(o,i),o=Km(o,m),o.flags|=4096;return o}return i=cs(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Ym(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function rv(i,o,u,m,x){return Ro(o),u=Lx(i,o,u,m,void 0,x),m=Ux(),i!==null&&!Dn?(Vx(i,o,x),ps(i,o,x)):(gt&&m&&xx(o),o.flags|=1,dr(i,o,u,x),o.child)}function RA(i,o,u,m,x,b){return Ro(o),o.updateQueue=null,u=MS(o,m,u,x),kS(i),m=Ux(),i!==null&&!Dn?(Vx(i,o,b),ps(i,o,b)):(gt&&m&&xx(o),o.flags|=1,dr(i,o,u,b),o.child)}function PA(i,o,u,m,x){if(Ro(o),o.stateNode===null){var b=$c,O=u.contextType;typeof O=="object"&&O!==null&&(b=ur(O)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ev,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Cx(o),O=u.contextType,b.context=typeof O=="object"&&O!==null?ur(O):$c,b.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Zx(o,u,O,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&ev.enqueueReplaceState(b,b.state,null),Gd(o,m,b,x),Hd(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){b=o.stateNode;var B=o.memoizedProps,K=Vo(u,B);b.props=K;var se=b.context,ye=u.contextType;O=$c,typeof ye=="object"&&ye!==null&&(O=ur(ye));var _e=u.getDerivedStateFromProps;ye=typeof _e=="function"||typeof b.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(B||se!==O)&&bA(o,b,m,O),ml=!1;var ce=o.memoizedState;b.state=ce,Gd(o,m,b,x),Hd(),se=o.memoizedState,B||ce!==se||ml?(typeof _e=="function"&&(Zx(o,u,_e,m),se=o.memoizedState),(K=ml||vA(o,u,K,m,ce,se,O))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=se),b.props=m,b.state=se,b.context=O,m=K):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Ix(i,o),O=o.memoizedProps,ye=Vo(u,O),b.props=ye,_e=o.pendingProps,ce=b.context,se=u.contextType,K=$c,typeof se=="object"&&se!==null&&(K=ur(se)),B=u.getDerivedStateFromProps,(se=typeof B=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==_e||ce!==K)&&bA(o,b,m,K),ml=!1,ce=o.memoizedState,b.state=ce,Gd(o,m,b,x),Hd();var fe=o.memoizedState;O!==_e||ce!==fe||ml||i!==null&&i.dependencies!==null&&Cm(i.dependencies)?(typeof B=="function"&&(Zx(o,u,B,m),fe=o.memoizedState),(ye=ml||vA(o,u,ye,m,ce,fe,K)||i!==null&&i.dependencies!==null&&Cm(i.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,fe,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,fe,K)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===i.memoizedProps&&ce===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ce===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=fe),b.props=m,b.state=fe,b.context=K,m=ye):(typeof b.componentDidUpdate!="function"||O===i.memoizedProps&&ce===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ce===i.memoizedState||(o.flags|=1024),m=!1)}return b=m,Ym(i,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&m?(o.child=Lo(o,i.child,null,x),o.child=Lo(o,null,u,x)):dr(i,o,u,x),o.memoizedState=b.state,i=o.child):i=ps(i,o,x),i}function kA(i,o,u,m){return Oo(),o.flags|=256,dr(i,o,u,m),o.child}var av={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iv(i){return{baseLanes:i,cachePool:jS()}}function sv(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=aa),i}function MA(i,o,u){var m=o.pendingProps,x=!1,b=(o.flags&128)!==0,O;if((O=b)||(O=i!==null&&i.memoizedState===null?!1:(vn.current&2)!==0),O&&(x=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(gt){if(x?yl(o):xl(),(i=Xt)?(i=q2(i,_a),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ul!==null?{id:Ri,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},u=pS(i),u.return=o,o.child=u,cr=o,Xt=null)):i=null,i===null)throw hl(o);return $v(i)?o.lanes=32:o.lanes=536870912,null}var B=m.children;return m=m.fallback,x?(xl(),x=o.mode,B=Wm({mode:"hidden",children:B},x),m=Io(m,x,u,null),B.return=o,m.return=o,B.sibling=m,o.child=B,m=o.child,m.memoizedState=iv(u),m.childLanes=sv(i,O,u),o.memoizedState=av,Qd(null,m)):(yl(o),lv(o,B))}var K=i.memoizedState;if(K!==null&&(B=K.dehydrated,B!==null)){if(b)o.flags&256?(yl(o),o.flags&=-257,o=ov(i,o,u)):o.memoizedState!==null?(xl(),o.child=i.child,o.flags|=128,o=null):(xl(),B=m.fallback,x=o.mode,m=Wm({mode:"visible",children:m.children},x),B=Io(B,x,u,null),B.flags|=2,m.return=o,B.return=o,m.sibling=B,o.child=m,Lo(o,i.child,null,u),m=o.child,m.memoizedState=iv(u),m.childLanes=sv(i,O,u),o.memoizedState=av,o=Qd(null,m));else if(yl(o),$v(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var se=O.dgst;O=se,m=Error(r(419)),m.stack="",m.digest=O,Vd({value:m,source:null,stack:null}),o=ov(i,o,u)}else if(Dn||Gc(i,o,u,!1),O=(u&i.childLanes)!==0,Dn||O){if(O=Bt,O!==null&&(m=xd(O,u),m!==0&&m!==K.retryLane))throw K.retryLane=m,Co(i,m),zr(O,i,m),nv;Fv(B)||ap(),o=ov(i,o,u)}else Fv(B)?(o.flags|=192,o.child=i.child,o=null):(i=K.treeContext,Xt=Ea(B.nextSibling),cr=o,gt=!0,dl=null,_a=!1,i!==null&&xS(o,i),o=lv(o,m.children),o.flags|=4096);return o}return x?(xl(),B=m.fallback,x=o.mode,K=i.child,se=K.sibling,m=cs(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,se!==null?B=cs(se,B):(B=Io(B,x,u,null),B.flags|=2),B.return=o,m.return=o,m.sibling=B,o.child=m,Qd(null,m),m=o.child,B=i.child.memoizedState,B===null?B=iv(u):(x=B.cachePool,x!==null?(K=In._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=jS(),B={baseLanes:B.baseLanes|u,cachePool:x}),m.memoizedState=B,m.childLanes=sv(i,O,u),o.memoizedState=av,Qd(i.child,m)):(yl(o),u=i.child,i=u.sibling,u=cs(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function lv(i,o){return o=Wm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Wm(i,o){return i=ea(22,i,null,o),i.lanes=0,i}function ov(i,o,u){return Lo(o,i.child,null,u),i=lv(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function LA(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),_x(i.return,o,u)}function cv(i,o,u,m,x,b){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x,treeForkCount:b}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=u,O.tailMode=x,O.treeForkCount=b)}function UA(i,o,u){var m=o.pendingProps,x=m.revealOrder,b=m.tail;m=m.children;var O=vn.current,B=(O&2)!==0;if(B?(O=O&1|2,o.flags|=128):O&=1,ge(vn,O),dr(i,o,m,u),m=gt?Ud:0,!B&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&LA(i,u,o);else if(i.tag===19)LA(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(u=o.child,x=null;u!==null;)i=u.alternate,i!==null&&Lm(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),cv(o,!1,x,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&Lm(i)===null){o.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}cv(o,!0,u,null,b,m);break;case"together":cv(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ps(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),wl|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Gc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=cs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=cs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function uv(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Cm(i)))}function Y8(i,o,u){switch(o.tag){case 3:ae(o,o.stateNode.containerInfo),fl(o,In,i.memoizedState.cache),Oo();break;case 27:case 5:ke(o);break;case 4:ae(o,o.stateNode.containerInfo);break;case 10:fl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,kx(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(yl(o),o.flags|=128,null):(u&o.child.childLanes)!==0?MA(i,o,u):(yl(o),i=ps(i,o,u),i!==null?i.sibling:null);yl(o);break;case 19:var x=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Gc(i,o,u,!1),m=(u&o.childLanes)!==0),x){if(m)return UA(i,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ge(vn,vn.current),m)break;return null;case 22:return o.lanes=0,IA(i,o,u,o.pendingProps);case 24:fl(o,In,i.memoizedState.cache)}return ps(i,o,u)}function VA(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Dn=!0;else{if(!uv(i,u)&&(o.flags&128)===0)return Dn=!1,Y8(i,o,u);Dn=(i.flags&131072)!==0}else Dn=!1,gt&&(o.flags&1048576)!==0&&yS(o,Ud,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=ko(o.elementType),o.type=i,typeof i=="function")px(i)?(m=Vo(i,m),o.tag=1,o=PA(null,o,i,m,u)):(o.tag=0,o=rv(null,o,i,m,u));else{if(i!=null){var x=i.$$typeof;if(x===T){o.tag=11,o=AA(null,o,i,m,u);break e}else if(x===P){o.tag=14,o=TA(null,o,i,m,u);break e}}throw o=ue(i)||i,Error(r(306,o,""))}}return o;case 0:return rv(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,x=Vo(m,o.pendingProps),PA(i,o,m,x,u);case 3:e:{if(ae(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;x=b.element,Ix(i,o),Gd(o,m,null,u);var O=o.memoizedState;if(m=O.cache,fl(o,In,m),m!==b.cache&&jx(o,[In],u,!0),Hd(),m=O.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=kA(i,o,m,u);break e}else if(m!==x){x=ba(Error(r(424)),o),Vd(x),o=kA(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xt=Ea(i.firstChild),cr=o,gt=!0,dl=null,_a=!0,u=IS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Oo(),m===x){o=ps(i,o,u);break e}dr(i,o,m,u)}o=o.child}return o;case 26:return Ym(i,o),i===null?(u=X2(o.type,null,o.pendingProps,null))?o.memoizedState=u:gt||(u=o.type,i=o.pendingProps,m=dp(Ce.current).createElement(u),m[An]=o,m[Xn]=i,hr(m,u,i),Tn(m),o.stateNode=m):o.memoizedState=X2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ke(o),i===null&&gt&&(m=o.stateNode=K2(o.type,o.pendingProps,Ce.current),cr=o,_a=!0,x=Xt,Sl(o.type)?(Bv=x,Xt=Ea(m.firstChild)):Xt=x),dr(i,o,o.pendingProps.children,u),Ym(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&gt&&((x=m=Xt)&&(m=jV(m,o.type,o.pendingProps,_a),m!==null?(o.stateNode=m,cr=o,Xt=Ea(m.firstChild),_a=!1,x=!0):x=!1),x||hl(o)),ke(o),x=o.type,b=o.pendingProps,O=i!==null?i.memoizedProps:null,m=b.children,Uv(x,b)?m=null:O!==null&&Uv(x,O)&&(o.flags|=32),o.memoizedState!==null&&(x=Lx(i,o,V8,null,null,u),hh._currentValue=x),Ym(i,o),dr(i,o,m,u),o.child;case 6:return i===null&&gt&&((i=u=Xt)&&(u=EV(u,o.pendingProps,_a),u!==null?(o.stateNode=u,cr=o,Xt=null,i=!0):i=!1),i||hl(o)),null;case 13:return MA(i,o,u);case 4:return ae(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Lo(o,null,m,u):dr(i,o,m,u),o.child;case 11:return AA(i,o,o.type,o.pendingProps,u);case 7:return dr(i,o,o.pendingProps,u),o.child;case 8:return dr(i,o,o.pendingProps.children,u),o.child;case 12:return dr(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,fl(o,o.type,m.value),dr(i,o,m.children,u),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,Ro(o),x=ur(x),m=m(x),o.flags|=1,dr(i,o,m,u),o.child;case 14:return TA(i,o,o.type,o.pendingProps,u);case 15:return CA(i,o,o.type,o.pendingProps,u);case 19:return UA(i,o,u);case 31:return K8(i,o,u);case 22:return IA(i,o,u,o.pendingProps);case 24:return Ro(o),m=ur(In),i===null?(x=Ax(),x===null&&(x=Bt,b=Ex(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=u),x=b),o.memoizedState={parent:m,cache:x},Cx(o),fl(o,In,x)):((i.lanes&u)!==0&&(Ix(i,o),Gd(o,null,null,u),Hd()),x=i.memoizedState,b=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),fl(o,In,m)):(m=b.cache,fl(o,In,m),m!==x.cache&&jx(o,[In],u,!0))),dr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function gs(i){i.flags|=4}function dv(i,o,u,m,x){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(h2())i.flags|=8192;else throw Mo=Rm,Tx}else i.flags&=-16777217}function zA(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!tT(o))if(h2())i.flags|=8192;else throw Mo=Rm,Tx}function Xm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?nm():536870912,i.lanes|=o,au|=o)}function Jd(i,o){if(!gt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function W8(i,o,u){var m=o.pendingProps;switch(vx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),hs(In),le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Hc(o)?gs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,wx())),Qt(o),null;case 26:var x=o.type,b=o.memoizedState;return i===null?(gs(o),b!==null?(Qt(o),zA(o,b)):(Qt(o),dv(o,x,null,m,u))):b?b!==i.memoizedState?(gs(o),Qt(o),zA(o,b)):(Qt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&gs(o),Qt(o),dv(o,x,i,m,u)),null;case 27:if(J(o),u=Ce.current,x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&gs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}i=Z.current,Hc(o)?vS(o):(i=K2(x,m,u),o.stateNode=i,gs(o))}return Qt(o),null;case 5:if(J(o),x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&gs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(b=Z.current,Hc(o))vS(o);else{var O=dp(Ce.current);switch(b){case 1:b=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=O.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?O.createElement(x,{is:m.is}):O.createElement(x)}}b[An]=o,b[Xn]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)b.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=b;e:switch(hr(b,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&gs(o)}}return Qt(o),dv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&gs(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ce.current,Hc(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,x=cr,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}i[An]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||M2(i.nodeValue,u)),i||hl(o,!0)}else i=dp(i).createTextNode(m),i[An]=o,o.stateNode=i}return Qt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=Hc(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[An]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),i=!1}else u=wx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(na(o),o):(na(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Qt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=Hc(o),m!==null&&m.dehydrated!==null){if(i===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[An]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),x=!1}else x=wx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(na(o),o):(na(o),null)}return na(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==x&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Xm(o,o.updateQueue),Qt(o),null);case 4:return le(),i===null&&Rv(o.stateNode.containerInfo),Qt(o),null;case 10:return hs(o.type),Qt(o),null;case 19:if(W(vn),m=o.memoizedState,m===null)return Qt(o),null;if(x=(o.flags&128)!==0,b=m.rendering,b===null)if(x)Jd(m,!1);else{if(mn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Lm(i),b!==null){for(o.flags|=128,Jd(m,!1),i=b.updateQueue,o.updateQueue=i,Xm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)mS(u,i),u=u.sibling;return ge(vn,vn.current&1|2),gt&&us(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&Pe()>tp&&(o.flags|=128,x=!0,Jd(m,!1),o.lanes=4194304)}else{if(!x)if(i=Lm(b),i!==null){if(o.flags|=128,x=!0,i=i.updateQueue,o.updateQueue=i,Xm(o,i),Jd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!gt)return Qt(o),null}else 2*Pe()-m.renderingStartTime>tp&&u!==536870912&&(o.flags|=128,x=!0,Jd(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Pe(),i.sibling=null,u=vn.current,ge(vn,x?u&1|2:u&1),gt&&us(o,m.treeForkCount),i):(Qt(o),null);case 22:case 23:return na(o),Px(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),u=o.updateQueue,u!==null&&Xm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&W(Po),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),hs(In),Qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function X8(i,o){switch(vx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return hs(In),le(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return J(o),null;case 31:if(o.memoizedState!==null){if(na(o),o.alternate===null)throw Error(r(340));Oo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(na(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Oo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return W(vn),null;case 4:return le(),null;case 10:return hs(o.type),null;case 22:case 23:return na(o),Px(),i!==null&&W(Po),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return hs(In),null;case 25:return null;default:return null}}function FA(i,o){switch(vx(o),o.tag){case 3:hs(In),le();break;case 26:case 27:case 5:J(o);break;case 4:le();break;case 31:o.memoizedState!==null&&na(o);break;case 13:na(o);break;case 19:W(vn);break;case 10:hs(o.type);break;case 22:case 23:na(o),Px(),i!==null&&W(Po);break;case 24:hs(In)}}function Zd(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&i)===i){m=void 0;var b=u.create,O=u.inst;m=b(),O.destroy=m}u=u.next}while(u!==x)}}catch(B){Ot(o,o.return,B)}}function vl(i,o,u){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var b=x.next;m=b;do{if((m.tag&i)===i){var O=m.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,x=o;var K=u,se=B;try{se()}catch(ye){Ot(x,K,ye)}}}m=m.next}while(m!==b)}}catch(ye){Ot(o,o.return,ye)}}function $A(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{DS(o,u)}catch(m){Ot(i,i.return,m)}}}function BA(i,o,u){u.props=Vo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Ot(i,o,m)}}function eh(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(x){Ot(i,o,x)}}function ki(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){Ot(i,o,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){Ot(i,o,x)}else u.current=null}function qA(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){Ot(i,i.return,x)}}function hv(i,o,u){try{var m=i.stateNode;xV(m,i.type,u,o),m[Xn]=o}catch(x){Ot(i,i.return,x)}}function HA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sl(i.type)||i.tag===4}function fv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||HA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mv(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=qa));else if(m!==4&&(m===27&&Sl(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(mv(i,o,u),i=i.sibling;i!==null;)mv(i,o,u),i=i.sibling}function Qm(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Sl(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Qm(i,o,u),i=i.sibling;i!==null;)Qm(i,o,u),i=i.sibling}function GA(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);hr(o,m,u),o[An]=i,o[Xn]=u}catch(b){Ot(i,i.return,b)}}var ys=!1,Rn=!1,pv=!1,KA=typeof WeakSet=="function"?WeakSet:Set,Jn=null;function Q8(i,o){if(i=i.containerInfo,Mv=xp,i=iS(i),ox(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var O=0,B=-1,K=-1,se=0,ye=0,_e=i,ce=null;t:for(;;){for(var fe;_e!==u||x!==0&&_e.nodeType!==3||(B=O+x),_e!==b||m!==0&&_e.nodeType!==3||(K=O+m),_e.nodeType===3&&(O+=_e.nodeValue.length),(fe=_e.firstChild)!==null;)ce=_e,_e=fe;for(;;){if(_e===i)break t;if(ce===u&&++se===x&&(B=O),ce===b&&++ye===m&&(K=O),(fe=_e.nextSibling)!==null)break;_e=ce,ce=_e.parentNode}_e=fe}u=B===-1||K===-1?null:{start:B,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lv={focusedElem:i,selectionRange:u},xp=!1,Jn=o;Jn!==null;)if(o=Jn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Jn=i;else for(;Jn!==null;){switch(o=Jn,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)x=i[u],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=o,x=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Le=Vo(u.type,x);i=m.getSnapshotBeforeUpdate(Le,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(Ke){Ot(u,u.return,Ke)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)zv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Jn=i;break}Jn=o.return}}function YA(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:vs(i,u),m&4&&Zd(5,u);break;case 1:if(vs(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Ot(u,u.return,O)}else{var x=Vo(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(x,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Ot(u,u.return,O)}}m&64&&$A(u),m&512&&eh(u,u.return);break;case 3:if(vs(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{DS(i,o)}catch(O){Ot(u,u.return,O)}}break;case 27:o===null&&m&4&&GA(u);case 26:case 5:vs(i,u),o===null&&m&4&&qA(u),m&512&&eh(u,u.return);break;case 12:vs(i,u);break;case 31:vs(i,u),m&4&&QA(i,u);break;case 13:vs(i,u),m&4&&JA(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=sV.bind(null,u),SV(i,u))));break;case 22:if(m=u.memoizedState!==null||ys,!m){o=o!==null&&o.memoizedState!==null||Rn,x=ys;var b=Rn;ys=m,(Rn=o)&&!b?bs(i,u,(u.subtreeFlags&8772)!==0):vs(i,u),ys=x,Rn=b}break;case 30:break;default:vs(i,u)}}function WA(i){var o=i.alternate;o!==null&&(i.alternate=null,WA(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Tc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var tn=null,Mr=!1;function xs(i,o,u){for(u=u.child;u!==null;)XA(i,o,u),u=u.sibling}function XA(i,o,u){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(za,u)}catch{}switch(u.tag){case 26:Rn||ki(u,o),xs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rn||ki(u,o);var m=tn,x=Mr;Sl(u.type)&&(tn=u.stateNode,Mr=!1),xs(i,o,u),ch(u.stateNode),tn=m,Mr=x;break;case 5:Rn||ki(u,o);case 6:if(m=tn,x=Mr,tn=null,xs(i,o,u),tn=m,Mr=x,tn!==null)if(Mr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(u.stateNode)}catch(b){Ot(u,o,b)}else try{tn.removeChild(u.stateNode)}catch(b){Ot(u,o,b)}break;case 18:tn!==null&&(Mr?(i=tn,$2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),hu(i)):$2(tn,u.stateNode));break;case 4:m=tn,x=Mr,tn=u.stateNode.containerInfo,Mr=!0,xs(i,o,u),tn=m,Mr=x;break;case 0:case 11:case 14:case 15:vl(2,u,o),Rn||vl(4,u,o),xs(i,o,u);break;case 1:Rn||(ki(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&BA(u,o,m)),xs(i,o,u);break;case 21:xs(i,o,u);break;case 22:Rn=(m=Rn)||u.memoizedState!==null,xs(i,o,u),Rn=m;break;default:xs(i,o,u)}}function QA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{hu(i)}catch(u){Ot(o,o.return,u)}}}function JA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hu(i)}catch(u){Ot(o,o.return,u)}}function J8(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new KA),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new KA),o;default:throw Error(r(435,i.tag))}}function Jm(i,o){var u=J8(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var x=lV.bind(null,i,m);m.then(x,x)}})}function Lr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],b=i,O=o,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(Sl(B.type)){tn=B.stateNode,Mr=!1;break e}break;case 5:tn=B.stateNode,Mr=!1;break e;case 3:case 4:tn=B.stateNode.containerInfo,Mr=!0;break e}B=B.return}if(tn===null)throw Error(r(160));XA(b,O,x),tn=null,Mr=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)ZA(o,i),o=o.sibling}var Xa=null;function ZA(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(o,i),Ur(i),m&4&&(vl(3,i,i.return),Zd(3,i),vl(5,i,i.return));break;case 1:Lr(o,i),Ur(i),m&512&&(Rn||u===null||ki(u,u.return)),m&64&&ys&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Xa;if(Lr(o,i),Ur(i),m&512&&(Rn||u===null||ki(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":b=x.getElementsByTagName("title")[0],(!b||b[wi]||b[An]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(m),x.head.insertBefore(b,x.querySelector("head > title"))),hr(b,m,u),b[An]=i,Tn(b),m=b;break e;case"link":var O=Z2("link","href",x).get(m+(u.href||""));if(O){for(var B=0;B<O.length;B++)if(b=O[B],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(B,1);break t}}b=x.createElement(m),hr(b,m,u),x.head.appendChild(b);break;case"meta":if(O=Z2("meta","content",x).get(m+(u.content||""))){for(B=0;B<O.length;B++)if(b=O[B],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(B,1);break t}}b=x.createElement(m),hr(b,m,u),x.head.appendChild(b);break;default:throw Error(r(468,m))}b[An]=i,Tn(b),m=b}i.stateNode=m}else eT(x,i.type,i.stateNode);else i.stateNode=J2(x,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?eT(x,i.type,i.stateNode):J2(x,m,i.memoizedProps)):m===null&&i.stateNode!==null&&hv(i,i.memoizedProps,u.memoizedProps)}break;case 27:Lr(o,i),Ur(i),m&512&&(Rn||u===null||ki(u,u.return)),u!==null&&m&4&&hv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Lr(o,i),Ur(i),m&512&&(Rn||u===null||ki(u,u.return)),i.flags&32){x=i.stateNode;try{kr(x,"")}catch(Le){Ot(i,i.return,Le)}}m&4&&i.stateNode!=null&&(x=i.memoizedProps,hv(i,x,u!==null?u.memoizedProps:x)),m&1024&&(pv=!0);break;case 6:if(Lr(o,i),Ur(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Le){Ot(i,i.return,Le)}}break;case 3:if(mp=null,x=Xa,Xa=hp(o.containerInfo),Lr(o,i),Xa=x,Ur(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{hu(o.containerInfo)}catch(Le){Ot(i,i.return,Le)}pv&&(pv=!1,e2(i));break;case 4:m=Xa,Xa=hp(i.stateNode.containerInfo),Lr(o,i),Ur(i),Xa=m;break;case 12:Lr(o,i),Ur(i);break;case 31:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Jm(i,m)));break;case 13:Lr(o,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ep=Pe()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Jm(i,m)));break;case 22:x=i.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,se=ys,ye=Rn;if(ys=se||x,Rn=ye||K,Lr(o,i),Rn=ye,ys=se,Ur(i),m&8192)e:for(o=i.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(u===null||K||ys||Rn||zo(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(b=K.stateNode,x)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=K.stateNode;var _e=K.memoizedProps.style,ce=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;B.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Le){Ot(K,K.return,Le)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(Le){Ot(K,K.return,Le)}}}else if(o.tag===18){if(u===null){K=o;try{var fe=K.stateNode;x?B2(fe,!0):B2(K.stateNode,!1)}catch(Le){Ot(K,K.return,Le)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Jm(i,u))));break;case 19:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Jm(i,m)));break;case 30:break;case 21:break;default:Lr(o,i),Ur(i)}}function Ur(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(HA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var x=u.stateNode,b=fv(i);Qm(i,b,x);break;case 5:var O=u.stateNode;u.flags&32&&(kr(O,""),u.flags&=-33);var B=fv(i);Qm(i,B,O);break;case 3:case 4:var K=u.stateNode.containerInfo,se=fv(i);mv(i,se,K);break;default:throw Error(r(161))}}catch(ye){Ot(i,i.return,ye)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function e2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;e2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function vs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)YA(i,o.alternate,o),o=o.sibling}function zo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:vl(4,o,o.return),zo(o);break;case 1:ki(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&BA(o,o.return,u),zo(o);break;case 27:ch(o.stateNode);case 26:case 5:ki(o,o.return),zo(o);break;case 22:o.memoizedState===null&&zo(o);break;case 30:zo(o);break;default:zo(o)}i=i.sibling}}function bs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=i,b=o,O=b.flags;switch(b.tag){case 0:case 11:case 15:bs(x,b,u),Zd(4,b);break;case 1:if(bs(x,b,u),m=b,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(se){Ot(m,m.return,se)}if(m=b,x=m.updateQueue,x!==null){var B=m.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)OS(K[x],B)}catch(se){Ot(m,m.return,se)}}u&&O&64&&$A(b),eh(b,b.return);break;case 27:GA(b);case 26:case 5:bs(x,b,u),u&&m===null&&O&4&&qA(b),eh(b,b.return);break;case 12:bs(x,b,u);break;case 31:bs(x,b,u),u&&O&4&&QA(x,b);break;case 13:bs(x,b,u),u&&O&4&&JA(x,b);break;case 22:b.memoizedState===null&&bs(x,b,u),eh(b,b.return);break;case 30:break;default:bs(x,b,u)}o=o.sibling}}function gv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&zd(u))}function yv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&zd(i))}function Qa(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)t2(i,o,u,m),o=o.sibling}function t2(i,o,u,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Qa(i,o,u,m),x&2048&&Zd(9,o);break;case 1:Qa(i,o,u,m);break;case 3:Qa(i,o,u,m),x&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&zd(i)));break;case 12:if(x&2048){Qa(i,o,u,m),i=o.stateNode;try{var b=o.memoizedProps,O=b.id,B=b.onPostCommit;typeof B=="function"&&B(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){Ot(o,o.return,K)}}else Qa(i,o,u,m);break;case 31:Qa(i,o,u,m);break;case 13:Qa(i,o,u,m);break;case 23:break;case 22:b=o.stateNode,O=o.alternate,o.memoizedState!==null?b._visibility&2?Qa(i,o,u,m):th(i,o):b._visibility&2?Qa(i,o,u,m):(b._visibility|=2,tu(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),x&2048&&gv(O,o);break;case 24:Qa(i,o,u,m),x&2048&&yv(o.alternate,o);break;default:Qa(i,o,u,m)}}function tu(i,o,u,m,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,O=o,B=u,K=m,se=O.flags;switch(O.tag){case 0:case 11:case 15:tu(b,O,B,K,x),Zd(8,O);break;case 23:break;case 22:var ye=O.stateNode;O.memoizedState!==null?ye._visibility&2?tu(b,O,B,K,x):th(b,O):(ye._visibility|=2,tu(b,O,B,K,x)),x&&se&2048&&gv(O.alternate,O);break;case 24:tu(b,O,B,K,x),x&&se&2048&&yv(O.alternate,O);break;default:tu(b,O,B,K,x)}o=o.sibling}}function th(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,x=m.flags;switch(m.tag){case 22:th(u,m),x&2048&&gv(m.alternate,m);break;case 24:th(u,m),x&2048&&yv(m.alternate,m);break;default:th(u,m)}o=o.sibling}}var nh=8192;function nu(i,o,u){if(i.subtreeFlags&nh)for(i=i.child;i!==null;)n2(i,o,u),i=i.sibling}function n2(i,o,u){switch(i.tag){case 26:nu(i,o,u),i.flags&nh&&i.memoizedState!==null&&UV(u,Xa,i.memoizedState,i.memoizedProps);break;case 5:nu(i,o,u);break;case 3:case 4:var m=Xa;Xa=hp(i.stateNode.containerInfo),nu(i,o,u),Xa=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=nh,nh=16777216,nu(i,o,u),nh=m):nu(i,o,u));break;default:nu(i,o,u)}}function r2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function rh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Jn=m,i2(m,i)}r2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a2(i),i=i.sibling}function a2(i){switch(i.tag){case 0:case 11:case 15:rh(i),i.flags&2048&&vl(9,i,i.return);break;case 3:rh(i);break;case 12:rh(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Zm(i)):rh(i);break;default:rh(i)}}function Zm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Jn=m,i2(m,i)}r2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:vl(8,o,o.return),Zm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Zm(o));break;default:Zm(o)}i=i.sibling}}function i2(i,o){for(;Jn!==null;){var u=Jn;switch(u.tag){case 0:case 11:case 15:vl(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:zd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Jn=m;else e:for(u=i;Jn!==null;){m=Jn;var x=m.sibling,b=m.return;if(WA(m),m===u){Jn=null;break e}if(x!==null){x.return=b,Jn=x;break e}Jn=b}}}var Z8={getCacheForType:function(i){var o=ur(In),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return ur(In).controller.signal}},eV=typeof WeakMap=="function"?WeakMap:Map,Et=0,Bt=null,ct=null,dt=0,It=0,ra=null,bl=!1,ru=!1,xv=!1,ws=0,mn=0,wl=0,Fo=0,vv=0,aa=0,au=0,ah=null,Vr=null,bv=!1,ep=0,s2=0,tp=1/0,np=null,Nl=null,Fn=0,_l=null,iu=null,Ns=0,wv=0,Nv=null,l2=null,ih=0,_v=null;function ia(){return(Et&2)!==0&&dt!==0?dt&-dt:G.T!==null?Cv():rm()}function o2(){if(aa===0)if((dt&536870912)===0||gt){var i=mo;mo<<=1,(mo&3932160)===0&&(mo=262144),aa=i}else aa=536870912;return i=ta.current,i!==null&&(i.flags|=32),aa}function zr(i,o,u){(i===Bt&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(su(i,0),jl(i,dt,aa,!1)),po(i,u),((Et&2)===0||i!==Bt)&&(i===Bt&&((Et&2)===0&&(Fo|=u),mn===4&&jl(i,dt,aa,!1)),Mi(i))}function c2(i,o,u){if((Et&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Fa(i,o),x=m?rV(i,o):Ev(i,o,!0),b=m;do{if(x===0){ru&&!m&&jl(i,o,0,!1);break}else{if(u=i.current.alternate,b&&!tV(u)){x=Ev(i,o,!1),b=!1;continue}if(x===2){if(b=o,i.errorRecoveryDisabledLanes&b)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var B=i;x=ah;var K=B.current.memoizedState.isDehydrated;if(K&&(su(B,O).flags|=256),O=Ev(B,O,!1),O!==2){if(xv&&!K){B.errorRecoveryDisabledLanes|=b,Fo|=b,x=4;break e}b=Vr,Vr=x,b!==null&&(Vr===null?Vr=b:Vr.push.apply(Vr,b))}x=O}if(b=!1,x!==2)continue}}if(x===1){su(i,0),jl(i,o,0,!0);break}e:{switch(m=i,b=x,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:jl(m,o,aa,!bl);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(x=ep+300-Pe(),10<x)){if(jl(m,o,aa,!bl),xi(m,0,!0)!==0)break e;Ns=o,m.timeoutHandle=z2(u2.bind(null,m,u,Vr,np,bv,o,aa,Fo,au,bl,b,"Throttled",-0,0),x);break e}u2(m,u,Vr,np,bv,o,aa,Fo,au,bl,b,null,-0,0)}}break}while(!0);Mi(i)}function u2(i,o,u,m,x,b,O,B,K,se,ye,_e,ce,fe){if(i.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},n2(o,b,_e);var Le=(b&62914560)===b?ep-Pe():(b&4194048)===b?s2-Pe():0;if(Le=VV(_e,Le),Le!==null){Ns=b,i.cancelPendingCommit=Le(x2.bind(null,i,o,b,u,m,x,O,B,K,ye,_e,null,ce,fe)),jl(i,b,O,!se);return}}x2(i,o,b,u,m,x,O,B,K)}function tV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],b=x.getSnapshot;x=x.value;try{if(!Zr(b(),x))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function jl(i,o,u,m){o&=~vv,o&=~Fo,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var x=o;0<x;){var b=31-yn(x),O=1<<b;m[b]=-1,x&=~O}u!==0&&go(i,u,o)}function rp(){return(Et&6)===0?(sh(0),!1):!0}function jv(){if(ct!==null){if(It===0)var i=ct.return;else i=ct,ds=Do=null,zx(i),Xc=null,$d=0,i=ct;for(;i!==null;)FA(i.alternate,i),i=i.return;ct=null}}function su(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,wV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ns=0,jv(),Bt=i,ct=u=cs(i.current,null),dt=o,It=0,ra=null,bl=!1,ru=Fa(i,o),xv=!1,au=aa=vv=Fo=wl=mn=0,Vr=ah=null,bv=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var x=31-yn(m),b=1<<x;o|=i[x],m&=~b}return ws=o,jm(),u}function d2(i,o){st=null,G.H=Xd,o===Wc||o===Dm?(o=AS(),It=3):o===Tx?(o=AS(),It=4):It=o===nv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ra=o,ct===null&&(mn=1,Gm(i,ba(o,i.current)))}function h2(){var i=ta.current;return i===null?!0:(dt&4194048)===dt?ja===null:(dt&62914560)===dt||(dt&536870912)!==0?i===ja:!1}function f2(){var i=G.H;return G.H=Xd,i===null?Xd:i}function m2(){var i=G.A;return G.A=Z8,i}function ap(){mn=4,bl||(dt&4194048)!==dt&&ta.current!==null||(ru=!0),(wl&134217727)===0&&(Fo&134217727)===0||Bt===null||jl(Bt,dt,aa,!1)}function Ev(i,o,u){var m=Et;Et|=2;var x=f2(),b=m2();(Bt!==i||dt!==o)&&(np=null,su(i,o)),o=!1;var O=mn;e:do try{if(It!==0&&ct!==null){var B=ct,K=ra;switch(It){case 8:jv(),O=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(o=!0);var se=It;if(It=0,ra=null,lu(i,B,K,se),u&&ru){O=0;break e}break;default:se=It,It=0,ra=null,lu(i,B,K,se)}}nV(),O=mn;break}catch(ye){d2(i,ye)}while(!0);return o&&i.shellSuspendCounter++,ds=Do=null,Et=m,G.H=x,G.A=b,ct===null&&(Bt=null,dt=0,jm()),O}function nV(){for(;ct!==null;)p2(ct)}function rV(i,o){var u=Et;Et|=2;var m=f2(),x=m2();Bt!==i||dt!==o?(np=null,tp=Pe()+500,su(i,o)):ru=Fa(i,o);e:do try{if(It!==0&&ct!==null){o=ct;var b=ra;t:switch(It){case 1:It=0,ra=null,lu(i,o,b,1);break;case 2:case 9:if(ES(b)){It=0,ra=null,g2(o);break}o=function(){It!==2&&It!==9||Bt!==i||(It=7),Mi(i)},b.then(o,o);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:ES(b)?(It=0,ra=null,g2(o)):(It=0,ra=null,lu(i,o,b,7));break;case 5:var O=null;switch(ct.tag){case 26:O=ct.memoizedState;case 5:case 27:var B=ct;if(O?tT(O):B.stateNode.complete){It=0,ra=null;var K=B.sibling;if(K!==null)ct=K;else{var se=B.return;se!==null?(ct=se,ip(se)):ct=null}break t}}It=0,ra=null,lu(i,o,b,5);break;case 6:It=0,ra=null,lu(i,o,b,6);break;case 8:jv(),mn=6;break e;default:throw Error(r(462))}}aV();break}catch(ye){d2(i,ye)}while(!0);return ds=Do=null,G.H=m,G.A=x,Et=u,ct!==null?0:(Bt=null,dt=0,jm(),mn)}function aV(){for(;ct!==null&&!mi();)p2(ct)}function p2(i){var o=VA(i.alternate,i,ws);i.memoizedProps=i.pendingProps,o===null?ip(i):ct=o}function g2(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=RA(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=RA(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:zx(o);default:FA(u,o),o=ct=mS(o,ws),o=VA(u,o,ws)}i.memoizedProps=i.pendingProps,o===null?ip(i):ct=o}function lu(i,o,u,m){ds=Do=null,zx(o),Xc=null,$d=0;var x=o.return;try{if(G8(i,x,o,u,dt)){mn=1,Gm(i,ba(u,i.current)),ct=null;return}}catch(b){if(x!==null)throw ct=x,b;mn=1,Gm(i,ba(u,i.current)),ct=null;return}o.flags&32768?(gt||m===1?i=!0:ru||(dt&536870912)!==0?i=!1:(bl=i=!0,(m===2||m===9||m===3||m===6)&&(m=ta.current,m!==null&&m.tag===13&&(m.flags|=16384))),y2(o,i)):ip(o)}function ip(i){var o=i;do{if((o.flags&32768)!==0){y2(o,bl);return}i=o.return;var u=W8(o.alternate,o,ws);if(u!==null){ct=u;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=i}while(o!==null);mn===0&&(mn=5)}function y2(i,o){do{var u=X8(i.alternate,i);if(u!==null){u.flags&=32767,ct=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){ct=i;return}ct=i=u}while(i!==null);mn=6,ct=null}function x2(i,o,u,m,x,b,O,B,K){i.cancelPendingCommit=null;do sp();while(Fn!==0);if((Et&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=fx,ax(i,u,b,O,B,K),i===Bt&&(ct=Bt=null,dt=0),iu=o,_l=i,Ns=u,wv=b,Nv=x,l2=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oV($t,function(){return _2(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,x=Y.p,Y.p=2,O=Et,Et|=4;try{Q8(i,o,u)}finally{Et=O,Y.p=x,G.T=m}}Fn=1,v2(),b2(),w2()}}function v2(){if(Fn===1){Fn=0;var i=_l,o=iu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var m=Y.p;Y.p=2;var x=Et;Et|=4;try{ZA(o,i);var b=Lv,O=iS(i.containerInfo),B=b.focusedElem,K=b.selectionRange;if(O!==B&&B&&B.ownerDocument&&aS(B.ownerDocument.documentElement,B)){if(K!==null&&ox(B)){var se=K.start,ye=K.end;if(ye===void 0&&(ye=se),"selectionStart"in B)B.selectionStart=se,B.selectionEnd=Math.min(ye,B.value.length);else{var _e=B.ownerDocument||document,ce=_e&&_e.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),Le=B.textContent.length,Ke=Math.min(K.start,Le),Vt=K.end===void 0?Ke:Math.min(K.end,Le);!fe.extend&&Ke>Vt&&(O=Vt,Vt=Ke,Ke=O);var ee=rS(B,Ke),Q=rS(B,Vt);if(ee&&Q&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ie=_e.createRange();ie.setStart(ee.node,ee.offset),fe.removeAllRanges(),Ke>Vt?(fe.addRange(ie),fe.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),fe.addRange(ie))}}}}for(_e=[],fe=B;fe=fe.parentNode;)fe.nodeType===1&&_e.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<_e.length;B++){var be=_e[B];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}xp=!!Mv,Lv=Mv=null}finally{Et=x,Y.p=m,G.T=u}}i.current=o,Fn=2}}function b2(){if(Fn===2){Fn=0;var i=_l,o=iu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var m=Y.p;Y.p=2;var x=Et;Et|=4;try{YA(i,o.alternate,o)}finally{Et=x,Y.p=m,G.T=u}}Fn=3}}function w2(){if(Fn===4||Fn===3){Fn=0,te();var i=_l,o=iu,u=Ns,m=l2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fn=5:(Fn=0,iu=_l=null,N2(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&(Nl=null),is(u),o=o.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(za,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,x=Y.p,Y.p=2,G.T=null;try{for(var b=i.onRecoverableError,O=0;O<m.length;O++){var B=m[O];b(B.value,{componentStack:B.stack})}}finally{G.T=o,Y.p=x}}(Ns&3)!==0&&sp(),Mi(i),x=i.pendingLanes,(u&261930)!==0&&(x&42)!==0?i===_v?ih++:(ih=0,_v=i):ih=0,sh(0)}}function N2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,zd(o)))}function sp(){return v2(),b2(),w2(),_2()}function _2(){if(Fn!==5)return!1;var i=_l,o=wv;wv=0;var u=is(Ns),m=G.T,x=Y.p;try{Y.p=32>u?32:u,G.T=null,u=Nv,Nv=null;var b=_l,O=Ns;if(Fn=0,iu=_l=null,Ns=0,(Et&6)!==0)throw Error(r(331));var B=Et;if(Et|=4,a2(b.current),t2(b,b.current,O,u),Et=B,sh(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(za,b)}catch{}return!0}finally{Y.p=x,G.T=m,N2(i,o)}}function j2(i,o,u){o=ba(u,o),o=tv(i.stateNode,o,2),i=gl(i,o,2),i!==null&&(po(i,2),Mi(i))}function Ot(i,o,u){if(i.tag===3)j2(i,i,u);else for(;o!==null;){if(o.tag===3){j2(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Nl===null||!Nl.has(m))){i=ba(u,i),u=EA(2),m=gl(o,u,2),m!==null&&(SA(u,m,o,i),po(m,2),Mi(m));break}}o=o.return}}function Sv(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new eV;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(u)||(xv=!0,x.add(u),i=iV.bind(null,i,o,u),o.then(i,i))}function iV(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(dt&u)===u&&(mn===4||mn===3&&(dt&62914560)===dt&&300>Pe()-ep?(Et&2)===0&&su(i,0):vv|=u,au===dt&&(au=0)),Mi(i)}function E2(i,o){o===0&&(o=nm()),i=Co(i,o),i!==null&&(po(i,o),Mi(i))}function sV(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),E2(i,u)}function lV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),E2(i,u)}function oV(i,o){return Je(i,o)}var lp=null,ou=null,Av=!1,op=!1,Tv=!1,El=0;function Mi(i){i!==ou&&i.next===null&&(ou===null?lp=ou=i:ou=ou.next=i),op=!0,Av||(Av=!0,uV())}function sh(i,o){if(!Tv&&op){Tv=!0;do for(var u=!1,m=lp;m!==null;){if(i!==0){var x=m.pendingLanes;if(x===0)var b=0;else{var O=m.suspendedLanes,B=m.pingedLanes;b=(1<<31-yn(42|i)+1)-1,b&=x&~(O&~B),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,C2(m,b))}else b=dt,b=xi(m,m===Bt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Fa(m,b)||(u=!0,C2(m,b));m=m.next}while(u);Tv=!1}}function cV(){S2()}function S2(){op=Av=!1;var i=0;El!==0&&bV()&&(i=El);for(var o=Pe(),u=null,m=lp;m!==null;){var x=m.next,b=A2(m,o);b===0?(m.next=null,u===null?lp=x:u.next=x,x===null&&(ou=u)):(u=m,(i!==0||(b&3)!==0)&&(op=!0)),m=x}Fn!==0&&Fn!==5||sh(i),El!==0&&(El=0)}function A2(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var O=31-yn(b),B=1<<O,K=x[O];K===-1?((B&u)===0||(B&m)!==0)&&(x[O]=rx(B,o)):K<=o&&(i.expiredLanes|=B),b&=~B}if(o=Bt,u=dt,u=xi(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(It===2||It===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&kt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Fa(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&kt(m),is(u)){case 2:case 8:u=Ht;break;case 32:u=$t;break;case 268435456:u=Va;break;default:u=$t}return m=T2.bind(null,i),u=Je(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&kt(m),i.callbackPriority=2,i.callbackNode=null,2}function T2(i,o){if(Fn!==0&&Fn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(sp()&&i.callbackNode!==u)return null;var m=dt;return m=xi(i,i===Bt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(c2(i,m,o),A2(i,Pe()),i.callbackNode!=null&&i.callbackNode===u?T2.bind(null,i):null)}function C2(i,o){if(sp())return null;c2(i,o,!0)}function uV(){NV(function(){(Et&6)!==0?Je(Fe,cV):S2()})}function Cv(){if(El===0){var i=Kc;i===0&&(i=gi,gi<<=1,(gi&261888)===0&&(gi=256)),El=i}return El}function I2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Dc(""+i)}function O2(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function dV(i,o,u,m,x){if(o==="submit"&&u&&u.stateNode===x){var b=I2((x[Xn]||null).action),O=m.submitter;O&&(o=(o=O[Xn]||null)?I2(o.formAction):O.getAttribute("formAction"),o!==null&&(b=o,O=null));var B=new Ci("action","action",null,m,x);i.push({event:B,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(El!==0){var K=O?O2(x,O):new FormData(x);Wx(u,{pending:!0,data:K,method:x.method,action:b},null,K)}}else typeof b=="function"&&(B.preventDefault(),K=O?O2(x,O):new FormData(x),Wx(u,{pending:!0,data:K,method:x.method,action:b},b,K))},currentTarget:x}]})}}for(var Iv=0;Iv<hx.length;Iv++){var Ov=hx[Iv],hV=Ov.toLowerCase(),fV=Ov[0].toUpperCase()+Ov.slice(1);Wa(hV,"on"+fV)}Wa(oS,"onAnimationEnd"),Wa(cS,"onAnimationIteration"),Wa(uS,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(C8,"onTransitionRun"),Wa(I8,"onTransitionStart"),Wa(O8,"onTransitionCancel"),Wa(dS,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lh));function D2(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],x=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var O=m.length-1;0<=O;O--){var B=m[O],K=B.instance,se=B.currentTarget;if(B=B.listener,K!==b&&x.isPropagationStopped())break e;b=B,x.currentTarget=se;try{b(x)}catch(ye){_m(ye)}x.currentTarget=null,b=K}else for(O=0;O<m.length;O++){if(B=m[O],K=B.instance,se=B.currentTarget,B=B.listener,K!==b&&x.isPropagationStopped())break e;b=B,x.currentTarget=se;try{b(x)}catch(ye){_m(ye)}x.currentTarget=null,b=K}}}}function ut(i,o){var u=o[Ac];u===void 0&&(u=o[Ac]=new Set);var m=i+"__bubble";u.has(m)||(R2(o,i,2,!1),u.add(m))}function Dv(i,o,u){var m=0;o&&(m|=4),R2(u,i,m,o)}var cp="_reactListening"+Math.random().toString(36).slice(2);function Rv(i){if(!i[cp]){i[cp]=!0,vd.forEach(function(u){u!=="selectionchange"&&(mV.has(u)||Dv(u,!1,i),Dv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[cp]||(o[cp]=!0,Dv("selectionchange",!1,o))}}function R2(i,o,u,m){switch(oT(o)){case 2:var x=$V;break;case 8:x=BV;break;default:x=Yv}u=x.bind(null,o,u,i),x=void 0,!wo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(o,u,{capture:!0,passive:x}):i.addEventListener(o,u,!0):x!==void 0?i.addEventListener(o,u,{passive:x}):i.addEventListener(o,u,!1)}function Pv(i,o,u,m,x){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var B=m.stateNode.containerInfo;if(B===x)break;if(O===4)for(O=m.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;B!==null;){if(O=Ni(B),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){m=b=O;continue e}B=B.parentNode}}m=m.return}sl(function(){var se=b,ye=ga(u),_e=[];e:{var ce=hS.get(i);if(ce!==void 0){var fe=Ci,Le=i;switch(i){case"keypress":if(_o(u)===0)break e;case"keydown":case"keyup":fe=bm;break;case"focusin":Le="focus",fe=Eo;break;case"focusout":Le="blur",fe=Eo;break;case"beforeblur":case"afterblur":fe=Eo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=S;break;case oS:case cS:case uS:fe=fm;break;case dS:fe=q;break;case"scroll":case"scrollend":fe=Od;break;case"wheel":fe=de;break;case"copy":case"cut":case"paste":fe=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=os;break;case"toggle":case"beforetoggle":fe=it}var Ke=(o&4)!==0,Vt=!Ke&&(i==="scroll"||i==="scrollend"),ee=Ke?ce!==null?ce+"Capture":null:ce;Ke=[];for(var Q=se,ie;Q!==null;){var be=Q;if(ie=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ie===null||ee===null||(be=Ha(Q,ee),be!=null&&Ke.push(oh(Q,be,ie))),Vt)break;Q=Q.return}0<Ke.length&&(ce=new fe(ce,Le,null,u,ye),_e.push({event:ce,listeners:Ke}))}}if((o&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ce&&u!==Td&&(Le=u.relatedTarget||u.fromElement)&&(Ni(Le)||Le[bi]))break e;if((fe||ce)&&(ce=ye.window===ye?ye:(ce=ye.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(Le=u.relatedTarget||u.toElement,fe=se,Le=Le?Ni(Le):null,Le!==null&&(Vt=l(Le),Ke=Le.tag,Le!==Vt||Ke!==5&&Ke!==27&&Ke!==6)&&(Le=null)):(fe=null,Le=se),fe!==Le)){if(Ke=Dd,be="onMouseLeave",ee="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ke=os,be="onPointerLeave",ee="onPointerEnter",Q="pointer"),Vt=fe==null?ce:Qr(fe),ie=Le==null?ce:Qr(Le),ce=new Ke(be,Q+"leave",fe,u,ye),ce.target=Vt,ce.relatedTarget=ie,be=null,Ni(ye)===se&&(Ke=new Ke(ee,Q+"enter",Le,u,ye),Ke.target=ie,Ke.relatedTarget=Vt,be=Ke),Vt=be,fe&&Le)t:{for(Ke=pV,ee=fe,Q=Le,ie=0,be=ee;be;be=Ke(be))ie++;be=0;for(var qe=Q;qe;qe=Ke(qe))be++;for(;0<ie-be;)ee=Ke(ee),ie--;for(;0<be-ie;)Q=Ke(Q),be--;for(;ie--;){if(ee===Q||Q!==null&&ee===Q.alternate){Ke=ee;break t}ee=Ke(ee),Q=Ke(Q)}Ke=null}else Ke=null;fe!==null&&P2(_e,ce,fe,Ke,!1),Le!==null&&Vt!==null&&P2(_e,Vt,Le,Ke,!0)}}e:{if(ce=se?Qr(se):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var bt=QE;else if(WE(ce))if(JE)bt=S8;else{bt=j8;var Ue=_8}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&Oc(se.elementType)&&(bt=QE):bt=E8;if(bt&&(bt=bt(i,se))){XE(_e,bt,u,ye);break e}Ue&&Ue(i,ce,se),i==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Ed(ce,"number",ce.value)}switch(Ue=se?Qr(se):window,i){case"focusin":(WE(Ue)||Ue.contentEditable==="true")&&(Vc=Ue,cx=se,Ld=null);break;case"focusout":Ld=cx=Vc=null;break;case"mousedown":ux=!0;break;case"contextmenu":case"mouseup":case"dragend":ux=!1,sS(_e,u,ye);break;case"selectionchange":if(T8)break;case"keydown":case"keyup":sS(_e,u,ye)}var lt;if(jt)e:{switch(i){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Uc?So(i,u)&&(ht="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ht="onCompositionStart");ht&&(Di&&u.locale!=="ko"&&(Uc||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Uc&&(lt=Id()):(Ti=ye,Cd="value"in Ti?Ti.value:Ti.textContent,Uc=!0)),Ue=up(se,ht),0<Ue.length&&(ht=new Oi(ht,i,null,u,ye),_e.push({event:ht,listeners:Ue}),lt?ht.data=lt:(lt=Lc(u),lt!==null&&(ht.data=lt)))),(lt=xa?v8(i,u):b8(i,u))&&(ht=up(se,"onBeforeInput"),0<ht.length&&(Ue=new Oi("onBeforeInput","beforeinput",null,u,ye),_e.push({event:Ue,listeners:ht}),Ue.data=lt)),dV(_e,i,se,u,ye)}D2(_e,o)})}function oh(i,o,u){return{instance:i,listener:o,currentTarget:u}}function up(i,o){for(var u=o+"Capture",m=[];i!==null;){var x=i,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=Ha(i,u),x!=null&&m.unshift(oh(i,x,b)),x=Ha(i,o),x!=null&&m.push(oh(i,x,b))),i.tag===3)return m;i=i.return}return[]}function pV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function P2(i,o,u,m,x){for(var b=o._reactName,O=[];u!==null&&u!==m;){var B=u,K=B.alternate,se=B.stateNode;if(B=B.tag,K!==null&&K===m)break;B!==5&&B!==26&&B!==27||se===null||(K=se,x?(se=Ha(u,b),se!=null&&O.unshift(oh(u,se,K))):x||(se=Ha(u,b),se!=null&&O.push(oh(u,se,K)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var gV=/\r\n?/g,yV=/\u0000|\uFFFD/g;function k2(i){return(typeof i=="string"?i:""+i).replace(gV,`
`).replace(yV,"")}function M2(i,o){return o=k2(o),k2(i)===o}function Ut(i,o,u,m,x,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||kr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&kr(i,""+m);break;case"className":Jr(i,"class",m);break;case"tabIndex":Jr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(i,u,m);break;case"style":Ad(i,m,b);break;case"data":if(o!=="object"){Jr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Dc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Ut(i,o,"name",x.name,x,null),Ut(i,o,"formEncType",x.formEncType,x,null),Ut(i,o,"formMethod",x.formMethod,x,null),Ut(i,o,"formTarget",x.formTarget,x,null)):(Ut(i,o,"encType",x.encType,x,null),Ut(i,o,"method",x.method,x,null),Ut(i,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Dc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=qa);break;case"onScroll":m!=null&&ut("scroll",i);break;case"onScrollEnd":m!=null&&ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Dc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":ut("beforetoggle",i),ut("toggle",i),Cc(i,"popover",m);break;case"xlinkActuate":Cn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Cn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Cn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Cn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Cn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Cn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Cc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=um.get(u)||u,Cc(i,u,m))}}function kv(i,o,u,m,x,b){switch(u){case"style":Ad(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?kr(i,m):(typeof m=="number"||typeof m=="bigint")&&kr(i,""+m);break;case"onScroll":m!=null&&ut("scroll",i);break;case"onScrollEnd":m!=null&&ut("scrollend",i);break;case"onClick":m!=null&&(i.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),o=u.slice(2,x?u.length-7:void 0),b=i[Xn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(o,b,x),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,x);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Cc(i,u,m)}}}function hr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",i),ut("load",i);var m=!1,x=!1,b;for(b in u)if(u.hasOwnProperty(b)){var O=u[b];if(O!=null)switch(b){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ut(i,o,b,O,u,null)}}x&&Ut(i,o,"srcSet",u.srcSet,u,null),m&&Ut(i,o,"src",u.src,u,null);return;case"input":ut("invalid",i);var B=b=O=x=null,K=null,se=null;for(m in u)if(u.hasOwnProperty(m)){var ye=u[m];if(ye!=null)switch(m){case"name":x=ye;break;case"type":O=ye;break;case"checked":K=ye;break;case"defaultChecked":se=ye;break;case"value":b=ye;break;case"defaultValue":B=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:Ut(i,o,m,ye,u,null)}}lm(i,b,B,K,se,O,x,!1);return;case"select":ut("invalid",i),m=O=b=null;for(x in u)if(u.hasOwnProperty(x)&&(B=u[x],B!=null))switch(x){case"value":b=B;break;case"defaultValue":O=B;break;case"multiple":m=B;default:Ut(i,o,x,B,u,null)}o=b,u=O,i.multiple=!!m,o!=null?nl(i,!!m,o,!1):u!=null&&nl(i,!!m,u,!0);return;case"textarea":ut("invalid",i),b=x=m=null;for(O in u)if(u.hasOwnProperty(O)&&(B=u[O],B!=null))switch(O){case"value":m=B;break;case"defaultValue":x=B;break;case"children":b=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Ut(i,o,O,B,u,null)}rl(i,m,x,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(m=u[K],m!=null))switch(K){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ut(i,o,K,m,u,null)}return;case"dialog":ut("beforetoggle",i),ut("toggle",i),ut("cancel",i),ut("close",i);break;case"iframe":case"object":ut("load",i);break;case"video":case"audio":for(m=0;m<lh.length;m++)ut(lh[m],i);break;case"image":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"embed":case"source":case"link":ut("error",i),ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(m=u[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ut(i,o,se,m,u,null)}return;default:if(Oc(o)){for(ye in u)u.hasOwnProperty(ye)&&(m=u[ye],m!==void 0&&kv(i,o,ye,m,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(m=u[B],m!=null&&Ut(i,o,B,m,u,null))}function xV(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,O=null,B=null,K=null,se=null,ye=null;for(fe in u){var _e=u[fe];if(u.hasOwnProperty(fe)&&_e!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":K=_e;default:m.hasOwnProperty(fe)||Ut(i,o,fe,null,m,_e)}}for(var ce in m){var fe=m[ce];if(_e=u[ce],m.hasOwnProperty(ce)&&(fe!=null||_e!=null))switch(ce){case"type":b=fe;break;case"name":x=fe;break;case"checked":se=fe;break;case"defaultChecked":ye=fe;break;case"value":O=fe;break;case"defaultValue":B=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:fe!==_e&&Ut(i,o,ce,fe,m,_e)}}Ic(i,O,B,K,se,ye,b,x);return;case"select":fe=O=B=ce=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":fe=K;default:m.hasOwnProperty(b)||Ut(i,o,b,null,m,K)}for(x in m)if(b=m[x],K=u[x],m.hasOwnProperty(x)&&(b!=null||K!=null))switch(x){case"value":ce=b;break;case"defaultValue":B=b;break;case"multiple":O=b;default:b!==K&&Ut(i,o,x,b,m,K)}o=B,u=O,m=fe,ce!=null?nl(i,!!u,ce,!1):!!m!=!!u&&(o!=null?nl(i,!!u,o,!0):nl(i,!!u,u?[]:"",!1));return;case"textarea":fe=ce=null;for(B in u)if(x=u[B],u.hasOwnProperty(B)&&x!=null&&!m.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Ut(i,o,B,null,m,x)}for(O in m)if(x=m[O],b=u[O],m.hasOwnProperty(O)&&(x!=null||b!=null))switch(O){case"value":ce=x;break;case"defaultValue":fe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==b&&Ut(i,o,O,x,m,b)}om(i,ce,fe);return;case"option":for(var Le in u)if(ce=u[Le],u.hasOwnProperty(Le)&&ce!=null&&!m.hasOwnProperty(Le))switch(Le){case"selected":i.selected=!1;break;default:Ut(i,o,Le,null,m,ce)}for(K in m)if(ce=m[K],fe=u[K],m.hasOwnProperty(K)&&ce!==fe&&(ce!=null||fe!=null))switch(K){case"selected":i.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Ut(i,o,K,ce,m,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)ce=u[Ke],u.hasOwnProperty(Ke)&&ce!=null&&!m.hasOwnProperty(Ke)&&Ut(i,o,Ke,null,m,ce);for(se in m)if(ce=m[se],fe=u[se],m.hasOwnProperty(se)&&ce!==fe&&(ce!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:Ut(i,o,se,ce,m,fe)}return;default:if(Oc(o)){for(var Vt in u)ce=u[Vt],u.hasOwnProperty(Vt)&&ce!==void 0&&!m.hasOwnProperty(Vt)&&kv(i,o,Vt,void 0,m,ce);for(ye in m)ce=m[ye],fe=u[ye],!m.hasOwnProperty(ye)||ce===fe||ce===void 0&&fe===void 0||kv(i,o,ye,ce,m,fe);return}}for(var ee in u)ce=u[ee],u.hasOwnProperty(ee)&&ce!=null&&!m.hasOwnProperty(ee)&&Ut(i,o,ee,null,m,ce);for(_e in m)ce=m[_e],fe=u[_e],!m.hasOwnProperty(_e)||ce===fe||ce==null&&fe==null||Ut(i,o,_e,ce,m,fe)}function L2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var x=u[m],b=x.transferSize,O=x.initiatorType,B=x.duration;if(b&&B&&L2(O)){for(O=0,B=x.responseEnd,m+=1;m<u.length;m++){var K=u[m],se=K.startTime;if(se>B)break;var ye=K.transferSize,_e=K.initiatorType;ye&&L2(_e)&&(K=K.responseEnd,O+=ye*(K<B?1:(B-se)/(K-se)))}if(--m,o+=8*(b+O)/(x.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mv=null,Lv=null;function dp(i){return i.nodeType===9?i:i.ownerDocument}function U2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Uv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vv=null;function bV(){var i=window.event;return i&&i.type==="popstate"?i===Vv?!1:(Vv=i,!0):(Vv=null,!1)}var z2=typeof setTimeout=="function"?setTimeout:void 0,wV=typeof clearTimeout=="function"?clearTimeout:void 0,F2=typeof Promise=="function"?Promise:void 0,NV=typeof queueMicrotask=="function"?queueMicrotask:typeof F2<"u"?function(i){return F2.resolve(null).then(i).catch(_V)}:z2;function _V(i){setTimeout(function(){throw i})}function Sl(i){return i==="head"}function $2(i,o){var u=o,m=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(x),hu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")ch(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,ch(u);for(var b=u.firstChild;b;){var O=b.nextSibling,B=b.nodeName;b[wi]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=O}}else u==="body"&&ch(i.ownerDocument.body);u=x}while(u);hu(o)}function B2(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function zv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":zv(u),Tc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function jV(i,o,u,m){for(;i.nodeType===1;){var x=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[wi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ea(i.nextSibling),i===null)break}return null}function EV(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ea(i.nextSibling),i===null))return null;return i}function q2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ea(i.nextSibling),i===null))return null;return i}function Fv(i){return i.data==="$?"||i.data==="$~"}function $v(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function SV(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ea(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Bv=null;function H2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Ea(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function G2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function K2(i,o,u){switch(o=dp(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ch(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Tc(i)}var Sa=new Map,Y2=new Set;function hp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _s=Y.d;Y.d={f:AV,r:TV,D:CV,C:IV,L:OV,m:DV,X:PV,S:RV,M:kV};function AV(){var i=_s.f(),o=rp();return i||o}function TV(i){var o=pa(i);o!==null&&o.tag===5&&o.type==="form"?dA(o):_s.r(i)}var cu=typeof document>"u"?null:document;function W2(i,o,u){var m=cu;if(m&&typeof o=="string"&&o){var x=Pr(o);x='link[rel="'+i+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),Y2.has(x)||(Y2.add(x),i={rel:i,crossOrigin:u,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),hr(o,"link",i),Tn(o),m.head.appendChild(o)))}}function CV(i){_s.D(i),W2("dns-prefetch",i,null)}function IV(i,o){_s.C(i,o),W2("preconnect",i,o)}function OV(i,o,u){_s.L(i,o,u);var m=cu;if(m&&i&&o){var x='link[rel="preload"][as="'+Pr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Pr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Pr(u.imageSizes)+'"]')):x+='[href="'+Pr(i)+'"]';var b=x;switch(o){case"style":b=uu(i);break;case"script":b=du(i)}Sa.has(b)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Sa.set(b,i),m.querySelector(x)!==null||o==="style"&&m.querySelector(uh(b))||o==="script"&&m.querySelector(dh(b))||(o=m.createElement("link"),hr(o,"link",i),Tn(o),m.head.appendChild(o)))}}function DV(i,o){_s.m(i,o);var u=cu;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Pr(m)+'"][href="'+Pr(i)+'"]',b=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=du(i)}if(!Sa.has(b)&&(i=g({rel:"modulepreload",href:i},o),Sa.set(b,i),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(dh(b)))return}m=u.createElement("link"),hr(m,"link",i),Tn(m),u.head.appendChild(m)}}}function RV(i,o,u){_s.S(i,o,u);var m=cu;if(m&&i){var x=_i(m).hoistableStyles,b=uu(i);o=o||"default";var O=x.get(b);if(!O){var B={loading:0,preload:null};if(O=m.querySelector(uh(b)))B.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Sa.get(b))&&qv(i,u);var K=O=m.createElement("link");Tn(K),hr(K,"link",i),K._p=new Promise(function(se,ye){K.onload=se,K.onerror=ye}),K.addEventListener("load",function(){B.loading|=1}),K.addEventListener("error",function(){B.loading|=2}),B.loading|=4,fp(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:B},x.set(b,O)}}}function PV(i,o){_s.X(i,o);var u=cu;if(u&&i){var m=_i(u).hoistableScripts,x=du(i),b=m.get(x);b||(b=u.querySelector(dh(x)),b||(i=g({src:i,async:!0},o),(o=Sa.get(x))&&Hv(i,o),b=u.createElement("script"),Tn(b),hr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(x,b))}}function kV(i,o){_s.M(i,o);var u=cu;if(u&&i){var m=_i(u).hoistableScripts,x=du(i),b=m.get(x);b||(b=u.querySelector(dh(x)),b||(i=g({src:i,async:!0,type:"module"},o),(o=Sa.get(x))&&Hv(i,o),b=u.createElement("script"),Tn(b),hr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(x,b))}}function X2(i,o,u,m){var x=(x=Ce.current)?hp(x):null;if(!x)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=uu(u.href),u=_i(x).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=uu(u.href);var b=_i(x).hoistableStyles,O=b.get(i);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,O),(b=x.querySelector(uh(i)))&&!b._p&&(O.instance=b,O.state.loading=5),Sa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Sa.set(i,u),b||MV(x,i,u,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=du(u),u=_i(x).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function uu(i){return'href="'+Pr(i)+'"'}function uh(i){return'link[rel="stylesheet"]['+i+"]"}function Q2(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function MV(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),hr(o,"link",u),Tn(o),i.head.appendChild(o))}function du(i){return'[src="'+Pr(i)+'"]'}function dh(i){return"script[async]"+i}function J2(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Pr(u.href)+'"]');if(m)return o.instance=m,Tn(m),m;var x=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Tn(m),hr(m,"style",x),fp(m,u.precedence,i),o.instance=m;case"stylesheet":x=uu(u.href);var b=i.querySelector(uh(x));if(b)return o.state.loading|=4,o.instance=b,Tn(b),b;m=Q2(u),(x=Sa.get(x))&&qv(m,x),b=(i.ownerDocument||i).createElement("link"),Tn(b);var O=b;return O._p=new Promise(function(B,K){O.onload=B,O.onerror=K}),hr(b,"link",m),o.state.loading|=4,fp(b,u.precedence,i),o.instance=b;case"script":return b=du(u.src),(x=i.querySelector(dh(b)))?(o.instance=x,Tn(x),x):(m=u,(x=Sa.get(b))&&(m=g({},u),Hv(m,x)),i=i.ownerDocument||i,x=i.createElement("script"),Tn(x),hr(x,"link",m),i.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,fp(m,u.precedence,i));return o.instance}function fp(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,b=x,O=0;O<m.length;O++){var B=m[O];if(B.dataset.precedence===o)b=B;else if(b!==x)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function qv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Hv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var mp=null;function Z2(i,o,u){if(mp===null){var m=new Map,x=mp=new Map;x.set(u,m)}else x=mp,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),x=0;x<u.length;x++){var b=u[x];if(!(b[wi]||b[An]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(o)||"";O=i+O;var B=m.get(O);B?B.push(b):m.set(O,[b])}}return m}function eT(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function LV(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function tT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function UV(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=uu(m.href),b=o.querySelector(uh(x));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=pp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=b,Tn(b);return}b=o.ownerDocument||o,m=Q2(m),(x=Sa.get(x))&&qv(m,x),b=b.createElement("link"),Tn(b);var O=b;O._p=new Promise(function(B,K){O.onload=B,O.onerror=K}),hr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=pp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Gv=0;function VV(i,o){return i.stylesheets&&i.count===0&&yp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&yp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&Gv===0&&(Gv=62500*vV());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&yp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Gv?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function pp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gp=null;function yp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gp=new Map,o.forEach(zV,i),gp=null,pp.call(i))}function zV(i,o){if(!(o.state.loading&4)){var u=gp.get(i);if(u)var m=u.get(null);else{u=new Map,gp.set(i,u);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var O=x[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}x=o.instance,O=x.getAttribute("data-precedence"),b=u.get(O)||m,b===m&&u.set(null,x),u.set(O,x),this.count++,m=pp.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),b?b.parentNode.insertBefore(x,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),o.state.loading|=4}}var hh={$$typeof:M,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function FV(i,o,u,m,x,b,O,B,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function nT(i,o,u,m,x,b,O,B,K,se,ye,_e){return i=new FV(i,o,u,O,K,se,ye,_e,B),o=1,b===!0&&(o|=24),b=ea(3,null,null,o),i.current=b,b.stateNode=i,o=Ex(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Cx(b),i}function rT(i){return i?(i=$c,i):$c}function aT(i,o,u,m,x,b){x=rT(x),m.context===null?m.context=x:m.pendingContext=x,m=pl(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=gl(i,m,o),u!==null&&(zr(u,i,o),qd(u,i,o))}function iT(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Kv(i,o){iT(i,o),(i=i.alternate)&&iT(i,o)}function sT(i){if(i.tag===13||i.tag===31){var o=Co(i,67108864);o!==null&&zr(o,i,67108864),Kv(i,67108864)}}function lT(i){if(i.tag===13||i.tag===31){var o=ia();o=yo(o);var u=Co(i,o);u!==null&&zr(u,i,o),Kv(i,o)}}var xp=!0;function $V(i,o,u,m){var x=G.T;G.T=null;var b=Y.p;try{Y.p=2,Yv(i,o,u,m)}finally{Y.p=b,G.T=x}}function BV(i,o,u,m){var x=G.T;G.T=null;var b=Y.p;try{Y.p=8,Yv(i,o,u,m)}finally{Y.p=b,G.T=x}}function Yv(i,o,u,m){if(xp){var x=Wv(m);if(x===null)Pv(i,o,m,vp,u),cT(i,m);else if(HV(x,i,o,u,m))m.stopPropagation();else if(cT(i,m),o&4&&-1<qV.indexOf(i)){for(;x!==null;){var b=pa(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=yi(b.pendingLanes);if(O!==0){var B=b;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var K=1<<31-yn(O);B.entanglements[1]|=K,O&=~K}Mi(b),(Et&6)===0&&(tp=Pe()+500,sh(0))}}break;case 31:case 13:B=Co(b,2),B!==null&&zr(B,b,2),rp(),Kv(b,2)}if(b=Wv(m),b===null&&Pv(i,o,m,vp,u),b===x)break;x=b}x!==null&&m.stopPropagation()}else Pv(i,o,m,null,u)}}function Wv(i){return i=ga(i),Xv(i)}var vp=null;function Xv(i){if(vp=null,i=Ni(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return vp=i,null}function oT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case Fe:return 2;case Ht:return 8;case $t:case pi:return 32;case Va:return 268435456;default:return 32}default:return 32}}var Qv=!1,Al=null,Tl=null,Cl=null,fh=new Map,mh=new Map,Il=[],qV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(i,o){switch(i){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":fh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(o.pointerId)}}function ph(i,o,u,m,x,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[x]},o!==null&&(o=pa(o),o!==null&&sT(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function HV(i,o,u,m,x){switch(o){case"focusin":return Al=ph(Al,i,o,u,m,x),!0;case"dragenter":return Tl=ph(Tl,i,o,u,m,x),!0;case"mouseover":return Cl=ph(Cl,i,o,u,m,x),!0;case"pointerover":var b=x.pointerId;return fh.set(b,ph(fh.get(b)||null,i,o,u,m,x)),!0;case"gotpointercapture":return b=x.pointerId,mh.set(b,ph(mh.get(b)||null,i,o,u,m,x)),!0}return!1}function uT(i){var o=Ni(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,$a(i.priority,function(){lT(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,$a(i.priority,function(){lT(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Wv(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Td=m,u.target.dispatchEvent(m),Td=null}else return o=pa(u),o!==null&&sT(o),i.blockedOn=u,!1;o.shift()}return!0}function dT(i,o,u){bp(i)&&u.delete(o)}function GV(){Qv=!1,Al!==null&&bp(Al)&&(Al=null),Tl!==null&&bp(Tl)&&(Tl=null),Cl!==null&&bp(Cl)&&(Cl=null),fh.forEach(dT),mh.forEach(dT)}function wp(i,o){i.blockedOn===o&&(i.blockedOn=null,Qv||(Qv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GV)))}var Np=null;function hT(i){Np!==i&&(Np=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Np===i&&(Np=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],x=i[o+2];if(typeof m!="function"){if(Xv(m||u)===null)continue;break}var b=pa(u);b!==null&&(i.splice(o,3),o-=3,Wx(b,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function hu(i){function o(K){return wp(K,i)}Al!==null&&wp(Al,i),Tl!==null&&wp(Tl,i),Cl!==null&&wp(Cl,i),fh.forEach(o),mh.forEach(o);for(var u=0;u<Il.length;u++){var m=Il[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Il.length&&(u=Il[0],u.blockedOn===null);)uT(u),u.blockedOn===null&&Il.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],b=u[m+1],O=x[Xn]||null;if(typeof b=="function")O||hT(u);else if(O){var B=null;if(b&&b.hasAttribute("formAction")){if(x=b,O=b[Xn]||null)B=O.formAction;else if(Xv(x)!==null)continue}else B=O.action;typeof B=="function"?u[m+1]=B:(u.splice(m,3),m-=3),hT(u)}}}function fT(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(O){return x=O})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function Jv(i){this._internalRoot=i}_p.prototype.render=Jv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=ia();aT(u,m,i,o,null,null)},_p.prototype.unmount=Jv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;aT(i.current,2,null,i,null,null),rp(),o[bi]=null}};function _p(i){this._internalRoot=i}_p.prototype.unstable_scheduleHydration=function(i){if(i){var o=rm();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Il.length&&o!==0&&o<Il[u].priority;u++);Il.splice(u,0,i),u===0&&uT(i)}};var mT=e.version;if(mT!=="19.2.0")throw Error(r(527,mT,"19.2.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var KV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{za=jp.inject(KV),lr=jp}catch{}}return yh.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",x=wA,b=NA,O=_A;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=nT(i,1,!1,null,null,u,m,null,x,b,O,fT),i[bi]=o.current,Rv(i),new Jv(o)},yh.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,x="",b=wA,O=NA,B=_A,K=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=nT(i,1,!0,o,u??null,m,x,K,b,O,B,fT),o.context=rT(null),u=o.current,m=ia(),m=yo(m),x=pl(m),x.callback=null,gl(u,x,m),u=m,o.current.lanes=u,po(o,u),Mi(o),i[bi]=o.current,Rv(i),new _p(o)},yh.version="19.2.0",yh}var jT;function s7(){if(jT)return nb.exports;jT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nb.exports=i7(),nb.exports}var l7=s7();const o7=ts(l7);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ET="popstate";function c7(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:h=""}=gc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),l1("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=a.location.href,f=h.indexOf("#");d=f===-1?h:h.slice(0,f)}return d+"#"+(typeof l=="string"?l:zh(l))}function r(a,l){ha(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return d7(e,n,r,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ha(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u7(){return Math.random().toString(36).substring(2,10)}function ST(t,e){return{usr:t.state,key:t.key,idx:e}}function l1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gc(e):e,state:n,key:e&&e.key||r||u7()}}function zh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function d7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let E=p(),I=E==null?null:E-f;f=E,h&&h({action:d,location:j.location,delta:I})}function v(E,I){d="PUSH";let R=l1(j.location,E,I);n&&n(R,E),f=p()+1;let M=ST(R,f),T=j.createHref(R);try{c.pushState(M,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(T)}l&&h&&h({action:d,location:j.location,delta:1})}function N(E,I){d="REPLACE";let R=l1(j.location,E,I);n&&n(R,E),f=p();let M=ST(R,f),T=j.createHref(R);c.replaceState(M,"",T),l&&h&&h({action:d,location:j.location,delta:0})}function _(E){return h7(E)}let j={get action(){return d},get location(){return t(a,c)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(ET,g),h=E,()=>{a.removeEventListener(ET,g),h=null}},createHref(E){return e(a,E)},createURL:_,encodeLocation(E){let I=_(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:N,go(E){return c.go(E)}};return j}function h7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:zh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function BR(t,e,n="/"){return f7(t,e,n,!1)}function f7(t,e,n,r){let a=typeof e=="string"?gc(e):e,l=ks(a.pathname||"/",n);if(l==null)return null;let c=qR(t);m7(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=E7(l);d=_7(c[h],f,r)}return d}function qR(t,e=[],n=[],r="",a=!1){let l=(c,d,h=a,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;sn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Os([r,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(sn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qR(c.children,e,v,g,h)),!(c.path==null&&!c.index)&&e.push({path:g,score:w7(g,c.index),routesMeta:v})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let f of HR(c.path))l(c,d,!0,f)}),e}function HR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=HR(r.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function m7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var p7=/^:[\w-]+$/,g7=3,y7=2,x7=1,v7=10,b7=-2,AT=t=>t==="*";function w7(t,e){let n=t.split("/"),r=n.length;return n.some(AT)&&(r+=b7),e&&(r+=y7),n.filter(a=>!AT(a)).reduce((a,l)=>a+(p7.test(l)?g7:l===""?x7:v7),r)}function N7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function _7(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",g=yg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=yg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Os([l,g.pathname]),pathnameBase:I7(Os([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=Os([l,g.pathnameBase]))}return c}function yg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let _=d[v]||"";c=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const N=d[v];return g&&!N?f[p]=void 0:f[p]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function j7(t,e=!1,n=!0){ha(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function E7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ha(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var S7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A7=t=>S7.test(t);function T7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?gc(t):t,l;if(n)if(A7(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ha(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=TT(n.substring(1),"/"):l=TT(n,e)}else l=e;return{pathname:l,search:O7(r),hash:D7(a)}}function TT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $N(t){let e=C7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function BN(t,e,n,r=!1){let a;typeof t=="string"?a=gc(t):(a={...t},sn(!a.pathname||!a.pathname.includes("?"),sb("?","pathname","search",a)),sn(!a.pathname||!a.pathname.includes("#"),sb("#","pathname","hash",a)),sn(!a.search||!a.search.includes("#"),sb("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}d=g>=0?e[g]:"/"}let h=T7(a,d),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Os=t=>t.join("/").replace(/\/\/+/g,"/"),I7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GR=["POST","PUT","PATCH","DELETE"];new Set(GR);var P7=["GET",...GR];new Set(P7);var Zu=w.createContext(null);Zu.displayName="DataRouter";var Py=w.createContext(null);Py.displayName="DataRouterState";w.createContext(!1);var KR=w.createContext({isTransitioning:!1});KR.displayName="ViewTransition";var k7=w.createContext(new Map);k7.displayName="Fetchers";var M7=w.createContext(null);M7.displayName="Await";var di=w.createContext(null);di.displayName="Navigation";var mf=w.createContext(null);mf.displayName="Location";var ns=w.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var qN=w.createContext(null);qN.displayName="RouteError";function L7(t,{relative:e}={}){sn(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(di),{hash:a,pathname:l,search:c}=pf(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Os([n,l])),r.createHref({pathname:d,search:c,hash:a})}function ed(){return w.useContext(mf)!=null}function rs(){return sn(ed(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(mf).location}var YR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WR(t){w.useContext(di).static||w.useLayoutEffect(t)}function ky(){let{isDataRoute:t}=w.useContext(ns);return t?X7():U7()}function U7(){sn(ed(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Zu),{basename:e,navigator:n}=w.useContext(di),{matches:r}=w.useContext(ns),{pathname:a}=rs(),l=JSON.stringify($N(r)),c=w.useRef(!1);return WR(()=>{c.current=!0}),w.useCallback((h,f={})=>{if(ha(c.current,YR),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=BN(h,JSON.parse(l),a,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Os([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,l,a,t])}w.createContext(null);function pf(t,{relative:e}={}){let{matches:n}=w.useContext(ns),{pathname:r}=rs(),a=JSON.stringify($N(n));return w.useMemo(()=>BN(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function V7(t,e){return XR(t,e)}function XR(t,e,n,r,a){var R;sn(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(di),{matches:c}=w.useContext(ns),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let M=g&&g.path||"";QR(f,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=rs(),N;if(e){let M=typeof e=="string"?gc(e):e;sn(p==="/"||((R=M.pathname)==null?void 0:R.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),N=M}else N=v;let _=N.pathname||"/",j=_;if(p!=="/"){let M=p.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=BR(t,{pathname:j});ha(g||E!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ha(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=q7(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Os([p,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Os([p,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,r,a);return e&&I?w.createElement(mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},I):I}function z7(){let t=W7(),e=R7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var F7=w.createElement(z7,null),$7=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(ns.Provider,{value:this.props.routeContext},w.createElement(qN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B7({routeContext:t,match:e,children:n}){let r=w.useContext(Zu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ns.Provider,{value:t},n)}function q7(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);sn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:N}=n,_=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||_){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let f=n&&r?(p,g)=>{var v,N;r(p,{location:n.location,params:((N=(v=n.matches)==null?void 0:v[0])==null?void 0:N.params)??{},errorInfo:g})}:void 0;return l.reduceRight((p,g,v)=>{let N,_=!1,j=null,E=null;n&&(N=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||F7,d&&(h<0&&v===0?(QR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):h===v&&(_=!0,E=g.route.hydrateFallbackElement||null)));let I=e.concat(l.slice(0,v+1)),R=()=>{let M;return N?M=j:_?M=E:g.route.Component?M=w.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,w.createElement(B7,{match:g,routeContext:{outlet:p,matches:I,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement($7,{location:n.location,revalidation:n.revalidation,component:j,error:N,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:f}):R()},null)}function HN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H7(t){let e=w.useContext(Zu);return sn(e,HN(t)),e}function G7(t){let e=w.useContext(Py);return sn(e,HN(t)),e}function K7(t){let e=w.useContext(ns);return sn(e,HN(t)),e}function GN(t){let e=K7(t),n=e.matches[e.matches.length-1];return sn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Y7(){return GN("useRouteId")}function W7(){var r;let t=w.useContext(qN),e=G7("useRouteError"),n=GN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function X7(){let{router:t}=H7("useNavigate"),e=GN("useNavigate"),n=w.useRef(!1);return WR(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{ha(n.current,YR),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var CT={};function QR(t,e,n){!e&&!CT[t]&&(CT[t]=!0,ha(!1,n))}w.memo(Q7);function Q7({routes:t,future:e,state:n,unstable_onError:r}){return XR(t,void 0,n,r,e)}function J7({to:t,replace:e,state:n,relative:r}){sn(ed(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(di);ha(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(ns),{pathname:c}=rs(),d=ky(),h=BN(t,$N(l),c,r==="path"),f=JSON.stringify(h);return w.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function Gt(t){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){sn(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=gc(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:v="default"}=n,N=w.useMemo(()=>{let _=ks(h,c);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:v},navigationType:r}},[c,h,f,p,g,v,r]);return ha(N!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(di.Provider,{value:d},w.createElement(mf.Provider,{children:e,value:N}))}function e9({children:t,location:e}){return V7(o1(t),e)}function o1(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let l=[...e,a];if(r.type===w.Fragment){n.push.apply(n,o1(r.props.children,l));return}sn(r.type===Gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=o1(r.props.children,l)),n.push(c)}),n}var Qp="get",Jp="application/x-www-form-urlencoded";function My(t){return t!=null&&typeof t.tagName=="string"}function t9(t){return My(t)&&t.tagName.toLowerCase()==="button"}function n9(t){return My(t)&&t.tagName.toLowerCase()==="form"}function r9(t){return My(t)&&t.tagName.toLowerCase()==="input"}function a9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i9(t,e){return t.button===0&&(!e||e==="_self")&&!a9(t)}var Ep=null;function s9(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var l9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lb(t){return t!=null&&!l9.has(t)?(ha(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):t}function o9(t,e){let n,r,a,l,c;if(n9(t)){let d=t.getAttribute("action");r=d?ks(d,e):null,n=t.getAttribute("method")||Qp,a=lb(t.getAttribute("enctype"))||Jp,l=new FormData(t)}else if(t9(t)||r9(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ks(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Qp,a=lb(t.getAttribute("formenctype"))||lb(d.getAttribute("enctype"))||Jp,l=new FormData(d,t),!s9()){let{name:f,type:p,value:g}=t;if(p==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,g)}}else{if(My(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qp,r=null,a=Jp,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function KN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function c9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ks(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function u9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function h9(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await u9(l,n);return c.links?c.links():[]}return[]}));return g9(r.flat(1).filter(d9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function IT(t,e,n,r,a,l){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{var g;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function f9(t,e,{includeHydrateFallback:n}={}){return m9(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function m9(t){return[...new Set(t)]}function p9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function g9(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(p9(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function JR(){let t=w.useContext(Zu);return KN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function y9(){let t=w.useContext(Py);return KN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var YN=w.createContext(void 0);YN.displayName="FrameworkContext";function ZR(){let t=w.useContext(YN);return KN(t,"You must render this element inside a <HydratedRouter> element"),t}function x9(t,e){let n=w.useContext(YN),[r,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=I=>{I.forEach(R=>{c(R.isIntersecting)})},E=new IntersectionObserver(j,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[t]),w.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let N=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:xh(d,N),onBlur:xh(h,_),onMouseEnter:xh(f,N),onMouseLeave:xh(p,_),onTouchStart:xh(g,N)}]:[!1,v,{}]}function xh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function v9({page:t,...e}){let{router:n}=JR(),r=w.useMemo(()=>BR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(w9,{page:t,matches:r,...e}):null}function b9(t){let{manifest:e,routeModules:n}=ZR(),[r,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return h9(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function w9({page:t,matches:e,...n}){let r=rs(),{manifest:a,routeModules:l}=ZR(),{basename:c}=JR(),{loaderData:d,matches:h}=y9(),f=w.useMemo(()=>IT(t,e,h,a,r,"data"),[t,e,h,a,r]),p=w.useMemo(()=>IT(t,e,h,a,r,"assets"),[t,e,h,a,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,j=!1;if(e.forEach(I=>{var M;let R=a.routes[I.route.id];!R||!R.hasLoader||(!f.some(T=>T.route.id===I.route.id)&&I.route.id in d&&((M=l[I.route.id])!=null&&M.shouldRevalidate)||R.hasClientLoader?j=!0:_.add(I.route.id))}),_.size===0)return[];let E=c9(t,c,"data");return j&&_.size>0&&E.searchParams.set("_routes",e.filter(I=>_.has(I.route.id)).map(I=>I.route.id).join(",")),[E.pathname+E.search]},[c,d,r,a,f,e,t,l]),v=w.useMemo(()=>f9(p,a),[p,a]),N=b9(p);return w.createElement(w.Fragment,null,g.map(_=>w.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>w.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),N.map(({key:_,link:j})=>w.createElement("link",{key:_,nonce:n.nonce,...j})))}function N9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eP&&(window.__reactRouterVersion="7.9.6")}catch{}function _9({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=c7({window:n,v5Compat:!0}));let a=r.current,[l,c]=w.useState({action:a.action,location:a.location}),d=w.useCallback(h=>{w.startTransition(()=>c(h))},[c]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(Z7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var tP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:g,...v},N){let{basename:_}=w.useContext(di),j=typeof f=="string"&&tP.test(f),E,I=!1;if(typeof f=="string"&&j&&(E=f,eP))try{let $=new URL(window.location.href),A=f.startsWith("//")?new URL($.protocol+f):new URL(f),D=ks(A.pathname,_);A.origin===$.origin&&D!=null?f=D+A.search+A.hash:I=!0}catch{ha(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=L7(f,{relative:a}),[M,T,C]=x9(r,v),L=A9(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:a,viewTransition:g});function P($){e&&e($),$.defaultPrevented||L($)}let V=w.createElement("a",{...v,...C,href:E||R,onClick:I||l?e:P,ref:N9(N,T),target:h,"data-discover":!j&&n==="render"?"true":void 0});return M&&!j?w.createElement(w.Fragment,null,V,w.createElement(v9,{page:R})):V});WN.displayName="Link";var j9=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:h,...f},p){let g=pf(c,{relative:f.relative}),v=rs(),N=w.useContext(Py),{navigator:_,basename:j}=w.useContext(di),E=N!=null&&D9(g)&&d===!0,I=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,R=v.pathname,M=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,I=I.toLowerCase()),M&&j&&(M=ks(M,j)||M);const T=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let C=R===I||!a&&R.startsWith(I)&&R.charAt(T)==="/",L=M!=null&&(M===I||!a&&M.startsWith(I)&&M.charAt(I.length)==="/"),P={isActive:C,isPending:L,isTransitioning:E},V=C?e:void 0,$;typeof r=="function"?$=r(P):$=[r,C?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(P):l;return w.createElement(WN,{...f,"aria-current":V,className:$,ref:p,style:A,to:c,viewTransition:d},typeof h=="function"?h(P):h)});j9.displayName="NavLink";var E9=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Qp,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g,...v},N)=>{let _=I9(),j=O9(d,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&tP.test(d),R=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let T=M.nativeEvent.submitter,C=(T==null?void 0:T.getAttribute("formmethod"))||c;_(T||M.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:f,preventScrollReset:p,viewTransition:g})};return w.createElement("form",{ref:N,method:E,action:j,onSubmit:r?h:R,...v,"data-discover":!I&&t==="render"?"true":void 0})});E9.displayName="Form";function S9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nP(t){let e=w.useContext(Zu);return sn(e,S9(t)),e}function A9(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ky(),h=rs(),f=pf(t,{relative:l});return w.useCallback(p=>{if(i9(p,e)){p.preventDefault();let g=n!==void 0?n:zh(h)===zh(f);d(t,{replace:g,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[h,d,f,n,r,e,t,a,l,c])}var T9=0,C9=()=>`__${String(++T9)}__`;function I9(){let{router:t}=nP("useSubmit"),{basename:e}=w.useContext(di),n=Y7();return w.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=o9(r,e);if(a.navigate===!1){let p=a.fetcherKey||C9();await t.fetch(p,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function O9(t,{relative:e}={}){let{basename:n}=w.useContext(di),r=w.useContext(ns);sn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...pf(t||".",{relative:e})},c=rs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Os([n,l.pathname])),zh(l)}function D9(t,{relative:e}={}){let n=w.useContext(KR);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nP("useViewTransitionState"),a=pf(t,{relative:e});if(!n.isTransitioning)return!1;let l=ks(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ks(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yg(a.pathname,c)!=null||yg(a.pathname,l)!=null}var rP=$R();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),OT=t=>{const e=P9(t);return e.charAt(0).toUpperCase()+e.slice(1)},aP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),k9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...d},h)=>w.createElement("svg",{ref:h,...M9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aP("lucide",a),...!l&&!k9(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>w.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=w.forwardRef(({className:r,...a},l)=>w.createElement(L9,{ref:l,iconNode:e,className:aP(`lucide-${R9(OT(t))}`,`lucide-${t}`,r),...a}));return n.displayName=OT(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iP=Ae("activity",U9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],DT=Ae("archive",V9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],F9=Ae("arrow-left",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],B9=Ae("arrow-right-left",$9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],H9=Ae("arrow-right",q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Zp=Ae("award",G9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sP=Ae("badge-check",K9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vi=Ae("book-open",Y9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ms=Ae("briefcase",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Q9=Ae("building",X9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Z9=Ae("bus",J9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],c1=Ae("calendar-days",ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gf=Ae("calendar",tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],rz=Ae("chart-column",nz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XN=Ae("chevron-down",az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QN=Ae("chevron-up",iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JN=Ae("circle-alert",sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qr=Ae("circle-check",lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cz=Ae("circle-play",oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Dh=Ae("circle-plus",uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],lP=Ae("circle-user",dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ZN=Ae("circle-x",hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],oP=Ae("clipboard-list",fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ki=Ae("clock",mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],ar=Ae("cloud-upload",pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yz=Ae("copy",gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kl=Ae("download",xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Fh=Ae("external-link",vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wz=Ae("eye",bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],_z=Ae("file-clock",Nz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],cP=Ae("file-input",jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],uP=Ae("file-output",Ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vn=Ae("file-text",Sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],Tz=Ae("file-type",Az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],u1=Ae("flask-conical",Cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Oz=Ae("folder-open",Iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rz=Ae("funnel",Dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dP=Ae("globe",Pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ds=Ae("graduation-cap",kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Lz=Ae("history",Mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],Vz=Ae("import",Uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],d1=Ae("key",zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$z=Ae("layers",Fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qz=Ae("layout-dashboard",Bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],hP=Ae("leaf",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],fP=Ae("library",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],RT=Ae("link",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ye=Ae("loader-circle",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ob=Ae("lock",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Qz=Ae("log-out",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h1=Ae("mail",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mP=Ae("map-pin",Zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],f1=Ae("megaphone",eF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nF=Ae("menu",tF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],PT=Ae("message-circle",rF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],iF=Ae("mic-vocal",aF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],xg=Ae("microscope",sF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Ko=Ae("network",lF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],cF=Ae("panels-top-left",oF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],eg=Ae("phone",uF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],e_=Ae("plane",dF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rt=Ae("plus",hF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],mF=Ae("presentation",fF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],gF=Ae("printer",pF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],xF=Ae("qr-code",yF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],m1=Ae("refresh-ccw",vF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_n=Ae("save",bF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yi=Ae("search",wF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pP=Ae("send",NF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gP=Ae("settings",_F);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yP=Ae("shield-alert",jF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],_u=Ae("sprout",EF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gn=Ae("square-pen",SF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],TF=Ae("stethoscope",AF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],IF=Ae("table",CF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tg=Ae("target",OF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ot=Ae("trash-2",DF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gr=Ae("triangle-alert",RF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kT=Ae("user-check",PF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MF=Ae("user-cog",kF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xP=Ae("user-plus",LF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vP=Ae("user",UF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ai=Ae("users",VF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vt=Ae("x",zF);var we=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(we||{}),rt=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(rt||{});const FF=({children:t,user:e,onLogout:n})=>{const[r,a]=w.useState(!1),l=rs(),c=f=>l.pathname===f,h=[{path:"/",label:" ",icon:qz,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY,we.EMPLOYEE]},{path:"/outgoing",label:"",icon:uP,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY]},{path:"/incoming",label:"",icon:cP,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY]},{path:"/councils",label:" ",icon:ai,roles:[we.ADMIN,we.STAFF]},{path:"/committees",label:" ",icon:oP,roles:[we.ADMIN,we.STAFF]},{path:"/formation",label:"  ",icon:Ko,roles:[we.ADMIN,we.STAFF]},{path:"/research-plan",label:"  ",icon:tg,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG]},{path:"/events",label:"  ",icon:f1,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG,we.ALUMNI,we.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:_z,roles:[we.ADMIN,we.STAFF]},{path:"/repository",label:"   ",icon:fP,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG,we.ALUMNI,we.EMPLOYEE]},{path:"/inventory",label:" ",icon:xg,roles:[we.ADMIN,we.STAFF]},{path:"/labs",label:" ",icon:u1,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:_u,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG]},{path:"/staff",label:" ",icon:lP,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG]},{path:"/annual-report",label:" ",icon:Vn,roles:[we.ADMIN,we.STAFF]},{path:"/leaves",label:" ",icon:c1,roles:[we.ADMIN,we.STAFF,we.EMPLOYEE]},{path:"/career-movements",label:"   ",icon:e_,roles:[we.ADMIN,we.STAFF,we.EMPLOYEE]},{path:"/courses",label:"  ",icon:Vi,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG,we.DATA_ENTRY]},{path:"/students",label:" ",icon:Ds,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG]},{path:"/alumni",label:" ",icon:Ms,roles:[we.ADMIN,we.STAFF,we.ALUMNI]},{path:"/users",label:" ",icon:MF,roles:[we.ADMIN]},{path:"/activity-log",label:" ",icon:iP,roles:[we.ADMIN]},{path:"/search",label:" ",icon:Yi,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY]}].filter(f=>f.roles.includes(e.role));return s.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[s.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[s.jsx("div",{className:"bg-white p-2 rounded-full",children:s.jsx(hP,{className:"w-6 h-6 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-sm",children:"   "}),s.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:h.map(f=>s.jsxs(WN,{to:f.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(f.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[s.jsx(f.icon,{className:"w-5 h-5"}),s.jsx("span",{children:f.label})]},f.path))}),s.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),s.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===we.ADMIN?" ":e.role===we.STAFF?"  ":e.role===we.STUDENT_PG?" ":e.role===we.STUDENT_UG?"":e.role===we.EMPLOYEE?" / ":""})]})]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[s.jsx(Qz,{className:"w-4 h-4"}),s.jsx("span",{children:" "})]})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[s.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[s.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),s.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:s.jsx(nF,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function bP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ft(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bP(t))&&(r&&(r+=" "),r+=e);return r}var $F=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function t_(t){if(typeof t!="string")return!1;var e=$F;return e.includes(t)}var BF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qF=new Set(BF);function wP(t){return typeof t!="string"?!1:qF.has(t)}function NP(t){return typeof t=="string"&&t.startsWith("data-")}function si(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(wP(n)||NP(n))&&(e[n]=t[n]);return e}function $h(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return si(e)}return typeof t=="object"&&!Array.isArray(t)?si(t):null}function Ra(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(wP(n)||NP(n)||t_(n))&&(e[n]=t[n]);return e}var HF=["children","width","height","viewBox","className","style","title","desc"];function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(null,arguments)}function GF(t,e){if(t==null)return{};var n,r,a=KF(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function KF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _P=w.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:l,className:c,style:d,title:h,desc:f}=t,p=GF(t,HF),g=l||{width:r,height:a,x:0,y:0},v=Ft("recharts-surface",c);return w.createElement("svg",p1({},Ra(p),{className:v,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,h),w.createElement("desc",null,f),n)}),YF=["children","className"];function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1.apply(null,arguments)}function WF(t,e){if(t==null)return{};var n,r,a=XF(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function XF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dr=w.forwardRef((t,e)=>{var{children:n,className:r}=t,a=WF(t,YF),l=Ft("recharts-layer",r);return w.createElement("g",g1({className:l},Ra(a),{ref:e}),n)}),QF=w.createContext(null);function Kt(t){return function(){return t}}const jP=Math.cos,vg=Math.sin,hi=Math.sqrt,bg=Math.PI,Ly=2*bg,y1=Math.PI,x1=2*y1,Bo=1e-6,JF=x1-Bo;function EP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ZF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return EP;const n=10**e;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class e${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?EP:ZF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,l,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(e,n,r,a,l){if(e=+e,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,h=r-e,f=a-n,p=c-e,g=d-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Bo)if(!(Math.abs(g*h-f*p)>Bo)||!l)this._append`L${this._x1=e},${this._y1=n}`;else{let N=r-c,_=a-d,j=h*h+f*f,E=N*N+_*_,I=Math.sqrt(j),R=Math.sqrt(v),M=l*Math.tan((y1-Math.acos((j+v-E)/(2*I*R)))/2),T=M/R,C=M/I;Math.abs(T-1)>Bo&&this._append`L${e+T*p},${n+T*g}`,this._append`A${l},${l},0,0,${+(g*N>p*_)},${this._x1=e+C*h},${this._y1=n+C*f}`}}arc(e,n,r,a,l,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),h=r*Math.sin(a),f=e+d,p=n+h,g=1^c,v=c?a-l:l-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Bo||Math.abs(this._y1-p)>Bo)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%x1+x1),v>JF?this._append`A${r},${r},0,1,${g},${e-d},${n-h}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:v>Bo&&this._append`A${r},${r},0,${+(v>=y1)},${g},${this._x1=e+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function n_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new e$(e)}function r_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SP(t){this._context=t}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Uy(t){return new SP(t)}function AP(t){return t[0]}function TP(t){return t[1]}function CP(t,e){var n=Kt(!0),r=null,a=Uy,l=null,c=n_(d);t=typeof t=="function"?t:t===void 0?AP:Kt(t),e=typeof e=="function"?e:e===void 0?TP:Kt(e);function d(h){var f,p=(h=r_(h)).length,g,v=!1,N;for(r==null&&(l=a(N=c())),f=0;f<=p;++f)!(f<p&&n(g=h[f],f,h))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+t(g,f,h),+e(g,f,h));if(N)return l=null,N+""||null}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Kt(+h),d):t},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Kt(+h),d):e},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Kt(!!h),d):n},d.curve=function(h){return arguments.length?(a=h,r!=null&&(l=a(r)),d):a},d.context=function(h){return arguments.length?(h==null?r=l=null:l=a(r=h),d):r},d}function Sp(t,e,n){var r=null,a=Kt(!0),l=null,c=Uy,d=null,h=n_(f);t=typeof t=="function"?t:t===void 0?AP:Kt(+t),e=typeof e=="function"?e:Kt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TP:Kt(+n);function f(g){var v,N,_,j=(g=r_(g)).length,E,I=!1,R,M=new Array(j),T=new Array(j);for(l==null&&(d=c(R=h())),v=0;v<=j;++v){if(!(v<j&&a(E=g[v],v,g))===I)if(I=!I)N=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),_=v-1;_>=N;--_)d.point(M[_],T[_]);d.lineEnd(),d.areaEnd()}I&&(M[v]=+t(E,v,g),T[v]=+e(E,v,g),d.point(r?+r(E,v,g):M[v],n?+n(E,v,g):T[v]))}if(R)return d=null,R+""||null}function p(){return CP().defined(a).curve(c).context(l)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Kt(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Kt(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Kt(!!g),f):a},f.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),f):c},f.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),f):l},f}class IP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function t$(t){return new IP(t,!0)}function n$(t){return new IP(t,!1)}const a_={draw(t,e){const n=hi(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,Ly)}},r$={draw(t,e){const n=hi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OP=hi(1/3),a$=OP*2,i$={draw(t,e){const n=hi(e/a$),r=n*OP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},s$={draw(t,e){const n=hi(e),r=-n/2;t.rect(r,r,n,n)}},l$=.8908130915292852,DP=vg(bg/10)/vg(7*bg/10),o$=vg(Ly/10)*DP,c$=-jP(Ly/10)*DP,u$={draw(t,e){const n=hi(e*l$),r=o$*n,a=c$*n;t.moveTo(0,-n),t.lineTo(r,a);for(let l=1;l<5;++l){const c=Ly*l/5,d=jP(c),h=vg(c);t.lineTo(h*n,-d*n),t.lineTo(d*r-h*a,h*r+d*a)}t.closePath()}},cb=hi(3),d$={draw(t,e){const n=-hi(e/(cb*3));t.moveTo(0,n*2),t.lineTo(-cb*n,-n),t.lineTo(cb*n,-n),t.closePath()}},Aa=-.5,Ta=hi(3)/2,v1=1/hi(12),h$=(v1/2+1)*3,f$={draw(t,e){const n=hi(e/h$),r=n/2,a=n*v1,l=r,c=n*v1+n,d=-l,h=c;t.moveTo(r,a),t.lineTo(l,c),t.lineTo(d,h),t.lineTo(Aa*r-Ta*a,Ta*r+Aa*a),t.lineTo(Aa*l-Ta*c,Ta*l+Aa*c),t.lineTo(Aa*d-Ta*h,Ta*d+Aa*h),t.lineTo(Aa*r+Ta*a,Aa*a-Ta*r),t.lineTo(Aa*l+Ta*c,Aa*c-Ta*l),t.lineTo(Aa*d+Ta*h,Aa*h-Ta*d),t.closePath()}};function m$(t,e){let n=null,r=n_(a);t=typeof t=="function"?t:Kt(t||a_),e=typeof e=="function"?e:Kt(e===void 0?64:+e);function a(){let l;if(n||(n=l=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(l),a):t},a.size=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(+l),a):e},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function wg(){}function Ng(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RP(t){this._context=t}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function p$(t){return new RP(t)}function PP(t){this._context=t}PP.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g$(t){return new PP(t)}function kP(t){this._context=t}kP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y$(t){return new kP(t)}function MP(t){this._context=t}MP.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function x$(t){return new MP(t)}function MT(t){return t<0?-1:1}function LT(t,e,n){var r=t._x1-t._x0,a=e-t._x1,l=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(l*a+c*r)/(r+a);return(MT(l)+MT(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function UT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ub(t,e,n){var r=t._x0,a=t._y0,l=t._x1,c=t._y1,d=(l-r)/3;t._context.bezierCurveTo(r+d,a+d*e,l-d,c-d*n,l,c)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ub(this,this._t0,UT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ub(this,UT(this,n=LT(this,t,e)),n);break;default:ub(this,this._t0,n=LT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LP(t){this._context=new UP(t)}(LP.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function UP(t){this._context=t}UP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,l){this._context.bezierCurveTo(e,t,r,n,l,a)}};function v$(t){return new _g(t)}function b$(t){return new LP(t)}function VP(t){this._context=t}VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=VT(t),a=VT(e),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function VT(t){var e,n=t.length-1,r,a=new Array(n),l=new Array(n),c=new Array(n);for(a[0]=0,l[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,l[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,l[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/l[e-1],l[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/l[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/l[e];for(l[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)l[e]=2*t[e+1]-a[e+1];return[a,l]}function w$(t){return new VP(t)}function Vy(t,e){this._context=t,this._t=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function N$(t){return new Vy(t,.5)}function _$(t){return new Vy(t,0)}function j$(t){return new Vy(t,1)}function Mu(t,e){if((c=t.length)>1)for(var n=1,r,a,l=t[e[0]],c,d=l.length;n<c;++n)for(a=l,l=t[e[n]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function b1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function E$(t,e){return t[e]}function S$(t){const e=[];return e.key=t,e}function A$(){var t=Kt([]),e=b1,n=Mu,r=E$;function a(l){var c=Array.from(t.apply(this,arguments),S$),d,h=c.length,f=-1,p;for(const g of l)for(d=0,++f;d<h;++d)(c[d][f]=[0,+r(g,c[d].key,f,l)]).data=g;for(d=0,p=r_(e(c));d<h;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(Array.from(l)),a):t},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:Kt(+l),a):r},a.order=function(l){return arguments.length?(e=l==null?b1:typeof l=="function"?l:Kt(Array.from(l)),a):e},a.offset=function(l){return arguments.length?(n=l??Mu,a):n},a}function T$(t,e){if((r=t.length)>0){for(var n,r,a=0,l=t[0].length,c;a<l;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Mu(t,e)}}function C$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,l=r.length;n<l;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Mu(t,e)}}function I$(t,e){if(!(!((c=t.length)>0)||!((l=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,l,c;r<l;++r){for(var d=0,h=0,f=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,v=p[r-1][1]||0,N=(g-v)/2,_=0;_<d;++_){var j=t[e[_]],E=j[r][1]||0,I=j[r-1][1]||0;N+=E-I}h+=g,f+=N*g}a[r-1][1]+=a[r-1][0]=n,h&&(n-=f/h)}a[r-1][1]+=a[r-1][0]=n,Mu(t,e)}}var db={},hb={},zT;function O$(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(hb)),hb}var fb={},FT;function zP(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(fb)),fb}var mb={},$T;function i_(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(mb)),mb}var pb={},gb={},BT;function D$(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(gb)),gb}var qT;function s_(){return qT||(qT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D$(),n=i_();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const l=[],c=a.length;if(c===0)return l;let d=0,h="",f="",p=!1;for(a.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=a[d];f?g==="\\"&&d+1<c?(d++,h+=a[d]):g===f?f="":h+=g:p?g==='"'||g==="'"?f=g:g==="]"?(p=!1,l.push(h),h=""):h+=g:g==="["?(p=!0,h&&(l.push(h),h="")):g==="."?h&&(l.push(h),h=""):h+=g,d++}return h&&l.push(h),l}t.toPath=r})(pb)),pb}var HT;function l_(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O$(),n=zP(),r=i_(),a=s_();function l(d,h,f){if(d==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?n.isDeepKey(h)?l(d,a.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=d[h];return p===void 0?f:p}default:{if(Array.isArray(h))return c(d,h,f);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?f:p}}}function c(d,h,f){if(h.length===0)return f;let p=d;for(let g=0;g<h.length;g++){if(p==null||e.isUnsafeProperty(h[g]))return f;p=p[h[g]]}return p===void 0?f:p}t.get=l})(db)),db}var yb,GT;function R$(){return GT||(GT=1,yb=l_().get),yb}var P$=R$();const ac=ts(P$);var rr=t=>t===0?0:t>0?1:-1,li=t=>typeof t=="number"&&t!=+t,Ls=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$e=t=>(typeof t=="number"||t instanceof Number)&&!li(t),Wi=t=>$e(t)||typeof t=="string",k$=0,Bh=t=>{var e=++k$;return"".concat(t||"").concat(e)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&typeof e!="string")return r;var l;if(Ls(e)){if(n==null)return r;var c=e.indexOf("%");l=n*parseFloat(e.slice(0,c))/100}else l=+e;return li(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},FP=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function $n(t,e,n){return $e(t)&&$e(e)?t+n*(e-t):e}function M$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ac(r,e))===n)}var ir=t=>t===null||typeof t>"u",yf=t=>ir(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function L$(t){return t!=null}function xf(){}var U$=["type","size","sizeType"];function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w1.apply(null,arguments)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function YT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){V$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V$(t,e,n){return(e=z$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=F$(t,"string");return typeof e=="symbol"?e:e+""}function F$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $$(t,e){if(t==null)return{};var n,r,a=B$(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function B$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $P={symbolCircle:a_,symbolCross:r$,symbolDiamond:i$,symbolSquare:s$,symbolStar:u$,symbolTriangle:d$,symbolWye:f$},q$=Math.PI/180,H$=t=>{var e="symbol".concat(yf(t));return $P[e]||a_},G$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*q$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},K$=(t,e)=>{$P["symbol".concat(yf(t))]=e},BP=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=$$(t,U$),l=YT(YT({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var v=H$(c),N=m$().type(v).size(G$(n,r,c)),_=N();if(_!==null)return _},{className:h,cx:f,cy:p}=l,g=Ra(l);return $e(f)&&$e(p)&&$e(n)?w.createElement("path",w1({},g,{className:Ft("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};BP.registerSymbol=K$;var qP=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Y$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{t_(a)&&(r[a]=(l=>n[a](n,l)))}),r},W$=(t,e,n)=>r=>(t(e,n,r),null),zy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var l=t[a];t_(a)&&typeof l=="function"&&(r||(r={}),r[a]=W$(l,e,n))}),r};function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function X$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){Q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q$(t,e,n){return(e=J$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J$(t){var e=Z$(t,"string");return typeof e=="symbol"?e:e+""}function Z$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e){var n=X$({},t),r=e,a=Object.keys(e),l=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return l}var xb={},vb={},XT;function eB(){return XT||(XT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(vb)),vb}var bb={},QT;function HP(){return QT||(QT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(bb)),bb}var wb={},Nb={},_b={},JT;function tB(){return JT||(JT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(_b)),_b}var ZT;function o_(){return ZT||(ZT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tB();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Nb)),Nb}var jb={},eC;function nB(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(jb)),jb}var tC;function rB(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_(),n=nB();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(wb)),wb}var Eb={},Sb={},nC;function aB(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Sb)),Sb}var Ab={},Tb={},Cb={},Ib={},rC;function GP(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ib)),Ib}var Ob={},aC;function KP(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Ob)),Ob}var Db={},iC;function YP(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Db)),Db}var sC;function iB(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GP(),n=KP(),r=YP();function a(p,g,v){return typeof v!="function"?a(p,g,()=>{}):l(p,g,function N(_,j,E,I,R,M){const T=v(_,j,E,I,R,M);return T!==void 0?!!T:l(_,j,N,M)},new Map)}function l(p,g,v,N){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,v,N);case"function":return Object.keys(g).length>0?l(p,{...g},v,N):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,v,N){if(g==null)return!0;if(Array.isArray(g))return h(p,g,v,N);if(g instanceof Map)return d(p,g,v,N);if(g instanceof Set)return f(p,g,v,N);const _=Object.keys(g);if(p==null)return _.length===0;if(_.length===0)return!0;if(N!=null&&N.has(g))return N.get(g)===p;N==null||N.set(g,p);try{for(let j=0;j<_.length;j++){const E=_[j];if(!n.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!v(p[E],g[E],E,p,g,N))return!1}return!0}finally{N==null||N.delete(g)}}function d(p,g,v,N){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,j]of g.entries()){const E=p.get(_);if(v(E,j,_,p,g,N)===!1)return!1}return!0}function h(p,g,v,N){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let j=0;j<g.length;j++){const E=g[j];let I=!1;for(let R=0;R<p.length;R++){if(_.has(R))continue;const M=p[R];let T=!1;if(v(M,E,j,p,g,N)&&(T=!0),T){_.add(R),I=!0;break}}if(!I)return!1}return!0}function f(p,g,v,N){return g.size===0?!0:p instanceof Set?h([...p],[...g],v,N):!1}t.isMatchWith=a,t.isSetMatch=f})(Cb)),Cb}var lC;function WP(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iB();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Tb)),Tb}var Rb={},Pb={},kb={},oC;function sB(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(kb)),kb}var Mb={},cC;function XP(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Mb)),Mb}var Lb={},uC;function QP(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",N="[object Object]",_="[object Error]",j="[object DataView]",E="[object Uint8Array]",I="[object Uint8ClampedArray]",R="[object Uint16Array]",M="[object Uint32Array]",T="[object BigUint64Array]",C="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",V="[object BigInt64Array]",$="[object Float32Array]",A="[object Float64Array]";t.argumentsTag=l,t.arrayBufferTag=v,t.arrayTag=p,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=T,t.booleanTag=a,t.dataViewTag=j,t.dateTag=d,t.errorTag=_,t.float32ArrayTag=$,t.float64ArrayTag=A,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=P,t.int8ArrayTag=C,t.mapTag=h,t.numberTag=r,t.objectTag=N,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=R,t.uint32ArrayTag=M,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=I})(Lb)),Lb}var Ub={},dC;function lB(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Ub)),Ub}var hC;function JP(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sB(),n=XP(),r=QP(),a=KP(),l=lB();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,N=new Map,_=void 0){const j=_==null?void 0:_(p,g,v,N);if(j!==void 0)return j;if(a.isPrimitive(p))return p;if(N.has(p))return N.get(p);if(Array.isArray(p)){const E=new Array(p.length);N.set(p,E);for(let I=0;I<p.length;I++)E[I]=d(p[I],I,v,N,_);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;N.set(p,E);for(const[I,R]of p)E.set(I,d(R,I,v,N,_));return E}if(p instanceof Set){const E=new Set;N.set(p,E);for(const I of p)E.add(d(I,void 0,v,N,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(l.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);N.set(p,E);for(let I=0;I<p.length;I++)E[I]=d(p[I],I,v,N,_);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return N.set(p,E),h(E,p,v,N,_),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return N.set(p,E),h(E,p,v,N,_),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return N.set(p,E),h(E,p,v,N,_),E}if(p instanceof Error){const E=new p.constructor;return N.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,h(E,p,v,N,_),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return N.set(p,E),h(E,p,v,N,_),E}if(p instanceof Number){const E=new Number(p.valueOf());return N.set(p,E),h(E,p,v,N,_),E}if(p instanceof String){const E=new String(p.valueOf());return N.set(p,E),h(E,p,v,N,_),E}if(typeof p=="object"&&f(p)){const E=Object.create(Object.getPrototypeOf(p));return N.set(p,E),h(E,p,v,N,_),E}return p}function h(p,g,v=p,N,_){const j=[...Object.keys(g),...e.getSymbols(g)];for(let E=0;E<j.length;E++){const I=j[E],R=Object.getOwnPropertyDescriptor(p,I);(R==null||R.writable)&&(p[I]=d(g[I],I,v,N,_))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=h})(Pb)),Pb}var fC;function oB(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JP();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Rb)),Rb}var mC;function cB(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WP(),n=oB();function r(a){return a=n.cloneDeep(a),l=>e.isMatch(l,a)}t.matches=r})(Ab)),Ab}var Vb={},zb={},Fb={},pC;function uB(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JP(),n=QP();function r(a,l){return e.cloneDeepWith(a,(c,d,h,f)=>{const p=l==null?void 0:l(c,d,h,f);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Fb)),Fb}var gC;function dB(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uB();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(zb)),zb}var $b={},Bb={},yC;function ZP(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Bb)),Bb}var qb={},xC;function hB(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(qb)),qb}var vC;function fB(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zP(),n=ZP(),r=hB(),a=s_();function l(c,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?h=a.toPath(d):h=[d],h.length===0)return!1;let f=c;for(let p=0;p<h.length;p++){const g=h[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=l})($b)),$b}var bC;function mB(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WP(),n=i_(),r=dB(),a=l_(),l=fB();function c(d,h){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return h=r.cloneDeep(h),function(f){const p=a.get(f,d);return p===void 0?l.has(f,d):h===void 0?p===void 0:e.isMatch(p,h)}}t.matchesProperty=c})(Vb)),Vb}var wC;function pB(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HP(),n=aB(),r=cB(),a=mB();function l(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=l})(Eb)),Eb}var NC;function gB(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eB(),n=HP(),r=rB(),a=pB();function l(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=l})(xb)),xb}var Hb,_C;function yB(){return _C||(_C=1,Hb=gB().uniqBy),Hb}var xB=yB();const jC=ts(xB);function vB(t,e,n){return e===!0?jC(t,n):typeof e=="function"?jC(t,e):t}var Gb={exports:{}},Kb={},Yb={exports:{}},Wb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function bB(){if(EC)return Wb;EC=1;var t=Ju();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(g,v){var N=v(),_=r({inst:{value:N,getSnapshot:v}}),j=_[0].inst,E=_[1];return l(function(){j.value=N,j.getSnapshot=v,h(j)&&E({inst:j})},[g,N,v]),a(function(){return h(j)&&E({inst:j}),g(function(){h(j)&&E({inst:j})})},[g]),c(N),N}function h(g){var v=g.getSnapshot;g=g.value;try{var N=v();return!n(g,N)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Wb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Wb}var SC;function wB(){return SC||(SC=1,Yb.exports=bB()),Yb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function NB(){if(AC)return Kb;AC=1;var t=Ju(),e=wB();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return Kb.useSyncExternalStoreWithSelector=function(f,p,g,v,N){var _=l(null);if(_.current===null){var j={hasValue:!1,value:null};_.current=j}else j=_.current;_=d(function(){function I(L){if(!R){if(R=!0,M=L,L=v(L),N!==void 0&&j.hasValue){var P=j.value;if(N(P,L))return T=P}return T=L}if(P=T,r(M,L))return P;var V=v(L);return N!==void 0&&N(P,V)?(M=L,P):(M=L,T=V)}var R=!1,M,T,C=g===void 0?null:g;return[function(){return I(p())},C===null?void 0:function(){return I(C())}]},[p,g,v,N]);var E=a(f,_[0],_[1]);return c(function(){j.hasValue=!0,j.value=E},[E]),h(E),E},Kb}var TC;function _B(){return TC||(TC=1,Gb.exports=NB()),Gb.exports}var jB=_B(),c_=w.createContext(null),EB=t=>t,ln=()=>{var t=w.useContext(c_);return t?t.store.dispatch:EB},ng=()=>{},SB=()=>ng,AB=(t,e)=>t===e;function Be(t){var e=w.useContext(c_);return jB.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:SB,e?e.store.getState:ng,e?e.store.getState:ng,e?t:ng,AB)}function TB(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function CB(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function IB(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var CC=t=>Array.isArray(t)?t:[t];function OB(t){const e=Array.isArray(t[0])?t[0]:t;return IB(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function DB(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var RB=class{constructor(t){this.value=t}deref(){return this.value}},PB=typeof WeakRef<"u"?WeakRef:RB,kB=0,IC=1;function Ap(){return{s:kB,v:void 0,o:null,p:null}}function ek(t,e={}){let n=Ap();const{resultEqualityCheck:r}=e;let a,l=0;function c(){var g;let d=n;const{length:h}=arguments;for(let v=0,N=h;v<N;v++){const _=arguments[v];if(typeof _=="function"||typeof _=="object"&&_!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const E=j.get(_);E===void 0?(d=Ap(),j.set(_,d)):d=E}else{let j=d.p;j===null&&(d.p=j=new Map);const E=j.get(_);E===void 0?(d=Ap(),j.set(_,d)):d=E}}const f=d;let p;if(d.s===IC)p=d.v;else if(p=t.apply(null,arguments),l++,r){const v=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;v!=null&&r(v,p)&&(p=v,l!==0&&l--),a=typeof p=="object"&&p!==null||typeof p=="function"?new PB(p):p}return f.s=IC,f.v=p,p}return c.clearCache=()=>{n=Ap(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function MB(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let l=0,c=0,d,h={},f=a.pop();typeof f=="object"&&(h=f,f=a.pop()),TB(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:g,memoizeOptions:v=[],argsMemoize:N=ek,argsMemoizeOptions:_=[]}=p,j=CC(v),E=CC(_),I=OB(a),R=g(function(){return l++,f.apply(null,arguments)},...j),M=N(function(){c++;const C=DB(I,arguments);return d=R.apply(null,C),d},...E);return Object.assign(M,{resultFunc:f,memoizedResultFunc:R,dependencies:I,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:N})};return Object.assign(r,{withTypes:()=>r}),r}var oe=MB(ek),LB=Object.assign((t,e=oe)=>{CB(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(l=>t[l]);return e(r,(...l)=>l.reduce((c,d,h)=>(c[n[h]]=d,c),{}))},{withTypes:()=>LB}),Xb={},Qb={},Jb={},OC;function UB(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};t.compareValues=n})(Jb)),Jb}var Zb={},ew={},DC;function tk(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(ew)),ew}var RC;function VB(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||e.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}t.isKey=a})(Zb)),Zb}var PC;function zB(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UB(),n=VB(),r=s_();function a(l,c,d,h){if(l==null)return[];d=h?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(N=>String(N));const f=(N,_)=>{let j=N;for(let E=0;E<_.length&&j!=null;++E)j=j[_[E]];return j},p=(N,_)=>_==null||N==null?_:typeof N=="object"&&"key"in N?Object.hasOwn(_,N.key)?_[N.key]:f(_,N.path):typeof N=="function"?N(_):Array.isArray(N)?f(_,N):typeof _=="object"?_[N]:_,g=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||n.isKey(N)?N:{key:N,path:r.toPath(N)}));return l.map(N=>({original:N,criteria:g.map(_=>p(_,N))})).slice().sort((N,_)=>{for(let j=0;j<g.length;j++){const E=e.compareValues(N.criteria[j],_.criteria[j],d[j]);if(E!==0)return E}return 0}).map(N=>N.original)}t.orderBy=a})(Qb)),Qb}var tw={},kC;function FB(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],l=Math.floor(r),c=(d,h)=>{for(let f=0;f<d.length;f++){const p=d[f];Array.isArray(p)&&h<l?c(p,h+1):a.push(p)}};return c(n,0),a}t.flatten=e})(tw)),tw}var nw={},MC;function nk(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZP(),n=o_(),r=GP(),a=YP();function l(c,d,h){return r.isObject(h)&&(typeof d=="number"&&n.isArrayLike(h)&&e.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?a.eq(h[d],c):!1}t.isIterateeCall=l})(nw)),nw}var LC;function $B(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zB(),n=FB(),r=nk();function a(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(l,n.flatten(c),["asc"])}t.sortBy=a})(Xb)),Xb}var rw,UC;function BB(){return UC||(UC=1,rw=$B().sortBy),rw}var qB=BB();const Fy=ts(qB);var rk=t=>t.legend.settings,HB=t=>t.legend.size,GB=t=>t.legend.payload;oe([GB,rk],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Fy(r,n):r});var Tp=1;function KB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-e.height)>Tp||Math.abs(c.left-e.left)>Tp||Math.abs(c.top-e.top)>Tp||Math.abs(c.width-e.width)>Tp)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function fr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var YB=typeof Symbol=="function"&&Symbol.observable||"@@observable",VC=YB,aw=()=>Math.random().toString(36).substring(7).split("").join("."),WB={INIT:`@@redux/INIT${aw()}`,REPLACE:`@@redux/REPLACE${aw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${aw()}`},jg=WB;function u_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ak(t,e,n){if(typeof t!="function")throw new Error(fr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fr(1));return n(ak)(t,e)}let r=t,a=e,l=new Map,c=l,d=0,h=!1;function f(){c===l&&(c=new Map,l.forEach((E,I)=>{c.set(I,E)}))}function p(){if(h)throw new Error(fr(3));return a}function g(E){if(typeof E!="function")throw new Error(fr(4));if(h)throw new Error(fr(5));let I=!0;f();const R=d++;return c.set(R,E),function(){if(I){if(h)throw new Error(fr(6));I=!1,f(),c.delete(R),l=null}}}function v(E){if(!u_(E))throw new Error(fr(7));if(typeof E.type>"u")throw new Error(fr(8));if(typeof E.type!="string")throw new Error(fr(17));if(h)throw new Error(fr(9));try{h=!0,a=r(a,E)}finally{h=!1}return(l=c).forEach(R=>{R()}),E}function N(E){if(typeof E!="function")throw new Error(fr(10));r=E,v({type:jg.REPLACE})}function _(){const E=g;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(fr(11));function R(){const T=I;T.next&&T.next(p())}return R(),{unsubscribe:E(R)}},[VC](){return this}}}return v({type:jg.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:N,[VC]:_}}function XB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:jg.INIT})>"u")throw new Error(fr(12));if(typeof n(void 0,{type:jg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fr(13))})}function ik(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{XB(n)}catch(l){a=l}return function(c={},d){if(a)throw a;let h=!1;const f={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],N=c[g],_=v(N,d);if(typeof _>"u")throw d&&d.type,new Error(fr(14));f[g]=_,h=h||_!==N}return h=h||r.length!==Object.keys(c).length,h?f:c}}function Eg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function QB(...t){return e=>(n,r)=>{const a=e(n,r);let l=()=>{throw new Error(fr(15))};const c={getState:a.getState,dispatch:(h,...f)=>l(h,...f)},d=t.map(h=>h(c));return l=Eg(...d)(a.dispatch),{...a,dispatch:l}}}function sk(t){return u_(t)&&"type"in t&&typeof t.type=="string"}var lk=Symbol.for("immer-nothing"),zC=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function Ja(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oa=Object,Lu=oa.getPrototypeOf,Sg="constructor",$y="prototype",N1="configurable",Ag="enumerable",rg="writable",qh="value",Us=t=>!!t&&!!t[Rr];function Xi(t){var e;return t?ok(t)||By(t)||!!t[zC]||!!((e=t[Sg])!=null&&e[zC])||qy(t)||Hy(t):!1}var JB=oa[$y][Sg].toString(),FC=new WeakMap;function ok(t){if(!t||!d_(t))return!1;const e=Lu(t);if(e===null||e===oa[$y])return!0;const n=oa.hasOwnProperty.call(e,Sg)&&e[Sg];if(n===Object)return!0;if(!xu(n))return!1;let r=FC.get(n);return r===void 0&&(r=Function.toString.call(n),FC.set(n,r)),r===JB}function vf(t,e,n=!0){bf(t)===0?(n?Reflect.ownKeys(t):oa.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function bf(t){const e=t[Rr];return e?e.type_:By(t)?1:qy(t)?2:Hy(t)?3:0}var $C=(t,e,n=bf(t))=>n===2?t.has(e):oa[$y].hasOwnProperty.call(t,e),_1=(t,e,n=bf(t))=>n===2?t.get(e):t[e],Tg=(t,e,n,r=bf(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function ZB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var By=Array.isArray,qy=t=>t instanceof Map,Hy=t=>t instanceof Set,d_=t=>typeof t=="object",xu=t=>typeof t=="function",iw=t=>typeof t=="boolean",js=t=>t.copy_||t.base_,h_=t=>t.modified_?t.copy_:t.base_;function j1(t,e){if(qy(t))return new Map(t);if(Hy(t))return new Set(t);if(By(t))return Array[$y].slice.call(t);const n=ok(t);if(e===!0||e==="class_only"&&!n){const r=oa.getOwnPropertyDescriptors(t);delete r[Rr];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],d=r[c];d[rg]===!1&&(d[rg]=!0,d[N1]=!0),(d.get||d.set)&&(r[c]={[N1]:!0,[rg]:!0,[Ag]:d[Ag],[qh]:t[c]})}return oa.create(Lu(t),r)}else{const r=Lu(t);if(r!==null&&n)return{...t};const a=oa.create(r);return oa.assign(a,t)}}function f_(t,e=!1){return Gy(t)||Us(t)||(bf(t)>1&&oa.defineProperties(t,{set:Cp,add:Cp,clear:Cp,delete:Cp}),oa.freeze(t),e&&vf(t,(n,r)=>{f_(r,!0)},!1)),t}function eq(){Ja(2)}var Cp={[qh]:eq};function Gy(t){return t===null||!d_(t)?!0:oa.isFrozen(t)}var Cg="MapSet",E1="Patches",ck={};function Uu(t){const e=ck[t];return e||Ja(0,t),e}var tq=t=>!!ck[t],Hh,uk=()=>Hh,nq=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tq(Cg)?Uu(Cg):void 0});function BC(t,e){e&&(t.patchPlugin_=Uu(E1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function S1(t){A1(t),t.drafts_.forEach(rq),t.drafts_=null}function A1(t){t===Hh&&(Hh=t.parent_)}var qC=t=>Hh=nq(Hh,t);function rq(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function HC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rr].modified_&&(S1(e),Ja(4)),Xi(t)&&(t=GC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Rr].base_,t,e)}else t=GC(e,n);return aq(e,t,!0),S1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==lk?t:void 0}function GC(t,e){if(Gy(e))return e;const n=e[Rr];if(!n)return m_(e,t.handledSet_,t);if(!Ky(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);fk(n,t)}return n.copy_}function aq(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&f_(e,n)}function dk(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ky=(t,e)=>t.scope_===e,iq=[];function hk(t,e,n,r){const a=js(t),l=t.type_;if(r!==void 0&&_1(a,r,l)===e){Tg(a,r,n,l);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;vf(a,(h,f)=>{if(Us(f)){const p=d.get(f)||[];p.push(h),d.set(f,p)}})}const c=t.draftLocations_.get(e)??iq;for(const d of c)Tg(a,d,n,l)}function sq(t,e,n){t.callbacks_.push(function(a){var d;const l=e;if(!l||!Ky(l,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(l);const c=h_(l);hk(t,l.draft_??l,c,n),fk(l,a)})}function fk(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const l=a.getPath(t);l&&a.generatePatches_(t,l,e)}dk(t)}}function lq(t,e,n){const{scope_:r}=t;if(Us(n)){const a=n[Rr];Ky(a,r)&&a.callbacks_.push(function(){ag(t);const c=h_(a);hk(t,n,c,e)})}else Xi(n)&&t.callbacks_.push(function(){const l=js(t);_1(l,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&m_(_1(t.copy_,e,t.type_),r.handledSet_,r)})}function m_(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Us(t)||e.has(t)||!Xi(t)||Gy(t)||(e.add(t),vf(t,(r,a)=>{if(Us(a)){const l=a[Rr];if(Ky(l,n)){const c=h_(l);Tg(t,r,c,t.type_),dk(l)}}else Xi(a)&&m_(a,e,n)})),t}function oq(t,e){const n=By(t),r={type_:n?1:0,scope_:e?e.scope_:uk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,l=p_;n&&(a=[r],l=Gh);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return r.draft_=d,r.revoke_=c,[d,r]}var p_={get(t,e){if(e===Rr)return t;const n=js(t);if(!$C(n,e,t.type_))return cq(t,n,e);const r=n[e];if(t.finalized_||!Xi(r))return r;if(r===sw(t.base_,e)){ag(t);const a=t.type_===1?+e:e,l=C1(t.scope_,r,t,a);return t.copy_[a]=l}return r},has(t,e){return e in js(t)},ownKeys(t){return Reflect.ownKeys(js(t))},set(t,e,n){const r=mk(js(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=sw(js(t),e),l=a==null?void 0:a[Rr];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(ZB(n,a)&&(n!==void 0||$C(t.base_,e,t.type_)))return!0;ag(t),T1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),lq(t,e,n)),!0},deleteProperty(t,e){return ag(t),sw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),T1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=js(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[rg]:!0,[N1]:t.type_!==1||e!=="length",[Ag]:r[Ag],[qh]:n[e]}},defineProperty(){Ja(11)},getPrototypeOf(t){return Lu(t.base_)},setPrototypeOf(){Ja(12)}},Gh={};vf(p_,(t,e)=>{Gh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Gh.deleteProperty=function(t,e){return Gh.set.call(this,t,e,void 0)};Gh.set=function(t,e,n){return p_.set.call(this,t[0],e,n,t[0])};function sw(t,e){const n=t[Rr];return(n?js(n):t)[e]}function cq(t,e,n){var a;const r=mk(e,n);return r?qh in r?r[qh]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function mk(t,e){if(!(e in t))return;let n=Lu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lu(n)}}function T1(t){t.modified_||(t.modified_=!0,t.parent_&&T1(t.parent_))}function ag(t){t.copy_||(t.assigned_=new Map,t.copy_=j1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var uq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(xu(n)&&!xu(r)){const c=r;r=n;const d=this;return function(f=c,...p){return d.produce(f,g=>r.call(this,g,...p))}}xu(r)||Ja(6),a!==void 0&&!xu(a)&&Ja(7);let l;if(Xi(n)){const c=qC(this),d=C1(c,n,void 0);let h=!0;try{l=r(d),h=!1}finally{h?S1(c):A1(c)}return BC(c,a),HC(l,c)}else if(!n||!d_(n)){if(l=r(n),l===void 0&&(l=n),l===lk&&(l=void 0),this.autoFreeze_&&f_(l,!0),a){const c=[],d=[];Uu(E1).generateReplacementPatches_(n,l,{patches_:c,inversePatches_:d}),a(c,d)}return l}else Ja(1,n)},this.produceWithPatches=(n,r)=>{if(xu(n))return(d,...h)=>this.produceWithPatches(d,f=>n(f,...h));let a,l;return[this.produce(n,r,(d,h)=>{a=d,l=h}),a,l]},iw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),iw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),iw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xi(e)||Ja(8),Us(e)&&(e=ii(e));const n=qC(this),r=C1(n,e,void 0);return r[Rr].isManual_=!0,A1(n),r}finishDraft(e,n){const r=e&&e[Rr];(!r||!r.isManual_)&&Ja(9);const{scope_:a}=r;return BC(a,n),HC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const l=n[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(n=n.slice(r+1));const a=Uu(E1).applyPatches_;return Us(e)?a(e,n):this.produce(e,l=>a(l,n))}};function C1(t,e,n,r){const[a,l]=qy(e)?Uu(Cg).proxyMap_(e,n):Hy(e)?Uu(Cg).proxySet_(e,n):oq(e,n);return((n==null?void 0:n.scope_)??uk()).drafts_.push(a),l.callbacks_=(n==null?void 0:n.callbacks_)??[],l.key_=r,n&&r!==void 0?sq(n,l,r):l.callbacks_.push(function(h){var p;(p=h.mapSetPlugin_)==null||p.fixSetContents(l);const{patchPlugin_:f}=h;l.modified_&&f&&f.generatePatches_(l,[],h)}),a}function ii(t){return Us(t)||Ja(10,t),pk(t)}function pk(t){if(!Xi(t)||Gy(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=j1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=j1(t,!0);return vf(n,(a,l)=>{Tg(n,a,pk(l))},r),e&&(e.finalized_=!1),n}var dq=new uq,gk=dq.produce;function yk(t){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,t):a(l)}var hq=yk(),fq=yk,mq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)};function Pa(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ua(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>sk(r)&&r.type===t,n}var xk=class Ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ah.prototype)}static get[Symbol.species](){return Ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ah(...e[0].concat(this)):new Ah(...e.concat(this))}};function KC(t){return Xi(t)?gk(t,()=>{}):t}function Ip(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function pq(t){return typeof t=="boolean"}var gq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new xk;return n&&(pq(n)?c.push(hq):c.push(fq(n.extraArgument))),c},vk="RTK_autoBatch",nn=()=>t=>({payload:t,meta:{[vk]:!0}}),YC=t=>e=>{setTimeout(e,t)},bk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,l=!1,c=!1;const d=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YC(10):t.type==="callback"?t.queueNotification:YC(t.timeout),f=()=>{c=!1,l&&(l=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),v=r.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[vk]),l=!a,l&&(c||(c=!0,h(f))),r.dispatch(p)}finally{a=!0}}})},yq=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new xk(t);return r&&a.push(bk(typeof r=="object"?r:void 0)),a};function xq(t){const e=gq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(u_(n))d=ik(n);else throw new Error(ua(1));let h;typeof r=="function"?h=r(e):h=e();let f=Eg;a&&(f=mq({trace:!1,...typeof a=="object"&&a}));const p=QB(...h),g=yq(p);let v=typeof c=="function"?c(g):g();const N=f(...v);return ak(d,l,N)}function wk(t){const e={},n=[];let r;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ua(28));if(d in e)throw new Error(ua(29));return e[d]=c,a},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return r=l,a}};return t(a),[e,n,r]}function vq(t){return typeof t=="function"}function bq(t,e){let[n,r,a]=wk(e),l;if(vq(t))l=()=>KC(t());else{const d=KC(t);l=()=>d}function c(d=l(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[a]),f.reduce((p,g)=>{if(g)if(Us(p)){const N=g(p,h);return N===void 0?p:N}else{if(Xi(p))return gk(p,v=>g(v,h));{const v=g(p,h);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return c.getInitialState=l,c}var wq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nq=(t=21)=>{let e="",n=t;for(;n--;)e+=wq[Math.random()*64|0];return e},_q=Symbol.for("rtk-slice-createasyncthunk");function jq(t,e){return`${t}/${e}`}function Eq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[_q];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(ua(11));const d=(typeof a.reducers=="function"?a.reducers(Aq()):a.reducers)||{},h=Object.keys(d),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(T,C){const L=typeof T=="string"?T:T.type;if(!L)throw new Error(ua(12));if(L in f.sliceCaseReducersByType)throw new Error(ua(13));return f.sliceCaseReducersByType[L]=C,p},addMatcher(T,C){return f.sliceMatchers.push({matcher:T,reducer:C}),p},exposeAction(T,C){return f.actionCreators[T]=C,p},exposeCaseReducer(T,C){return f.sliceCaseReducersByName[T]=C,p}};h.forEach(T=>{const C=d[T],L={reducerName:T,type:jq(l,T),createNotation:typeof a.reducers=="function"};Cq(C)?Oq(L,C,p,e):Tq(L,C,p)});function g(){const[T={},C=[],L=void 0]=typeof a.extraReducers=="function"?wk(a.extraReducers):[a.extraReducers],P={...T,...f.sliceCaseReducersByType};return bq(a.initialState,V=>{for(let $ in P)V.addCase($,P[$]);for(let $ of f.sliceMatchers)V.addMatcher($.matcher,$.reducer);for(let $ of C)V.addMatcher($.matcher,$.reducer);L&&V.addDefaultCase(L)})}const v=T=>T,N=new Map,_=new WeakMap;let j;function E(T,C){return j||(j=g()),j(T,C)}function I(){return j||(j=g()),j.getInitialState()}function R(T,C=!1){function L(V){let $=V[T];return typeof $>"u"&&C&&($=Ip(_,L,I)),$}function P(V=v){const $=Ip(N,C,()=>new WeakMap);return Ip($,V,()=>{const A={};for(const[D,F]of Object.entries(a.selectors??{}))A[D]=Sq(F,V,()=>Ip(_,V,I),C);return A})}return{reducerPath:T,getSelectors:P,get selectors(){return P(L)},selectSlice:L}}const M={name:l,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:I,...R(c),injectInto(T,{reducerPath:C,...L}={}){const P=C??c;return T.inject({reducerPath:P,reducer:E},L),{...M,...R(P,!0)}}};return M}}function Sq(t,e,n,r){function a(l,...c){let d=e(l);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Wr=Eq();function Aq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Tq({type:t,reducerName:e,createNotation:n},r,a){let l,c;if("reducer"in r){if(n&&!Iq(r))throw new Error(ua(17));l=r.reducer,c=r.prepare}else l=r;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?Pa(t,c):Pa(t))}function Cq(t){return t._reducerDefinitionType==="asyncThunk"}function Iq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Oq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ua(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:h,settled:f,options:p}=n,g=a(t,l,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),h&&r.addCase(g.rejected,h),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:c||Op,pending:d||Op,rejected:h||Op,settled:f||Op})}function Op(){}var Dq="task",Nk="listener",_k="completed",g_="cancelled",Rq=`task-${g_}`,Pq=`task-${_k}`,I1=`${Nk}-${g_}`,kq=`${Nk}-${_k}`,Yy=class{constructor(t){Zv(this,"name","TaskAbortError");Zv(this,"message");this.code=t,this.message=`${Dq} ${g_} (reason: ${t})`}},y_=(t,e)=>{if(typeof t!="function")throw new TypeError(ua(32))},Ig=()=>{},jk=(t,e=Ig)=>(t.catch(e),t),Ek=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ec=t=>{if(t.aborted){const{reason:e}=t;throw new Yy(e)}};function Sk(t,e){let n=Ig;return new Promise((r,a)=>{const l=()=>a(new Yy(t.reason));if(t.aborted){l();return}n=Ek(t,l),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Ig})}var Mq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Yy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Og=t=>e=>jk(Sk(t,e).then(n=>(ec(t),n))),Ak=t=>{const e=Og(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Au}=Object,WC={},Wy="listenerMiddleware",Lq=(t,e)=>{const n=r=>Ek(t,()=>Zo(r,t.reason));return(r,a)=>{y_(r);const l=new AbortController;n(l);const c=Mq(async()=>{ec(t),ec(l.signal);const d=await r({pause:Og(l.signal),delay:Ak(l.signal),signal:l.signal});return ec(l.signal),d},()=>Zo(l,Pq));return a!=null&&a.autoJoin&&e.push(c.catch(Ig)),{result:Og(t)(c),cancel(){Zo(l,Rq)}}}},Uq=(t,e)=>{const n=async(r,a)=>{ec(e);let l=()=>{};const d=[new Promise((h,f)=>{let p=t({predicate:r,effect:(g,v)=>{v.unsubscribe(),h([g,v.getState(),v.getOriginalState()])}});l=()=>{p(),f()}})];a!=null&&d.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await Sk(e,Promise.race(d));return ec(e),h}finally{l()}};return(r,a)=>jk(n(r,a))},Tk=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:l}=t;if(e)a=Pa(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ua(21));return y_(l),{predicate:a,type:e,effect:l}},Ck=Au(t=>{const{type:e,predicate:n,effect:r}=Tk(t);return{id:Nq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>Ck}),XC=(t,e)=>{const{type:n,effect:r,predicate:a}=Tk(e);return Array.from(t.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},O1=t=>{t.pending.forEach(e=>{Zo(e,I1)})},Vq=(t,e)=>()=>{for(const n of e.keys())O1(n);t.clear()},QC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Ik=Au(Pa(`${Wy}/add`),{withTypes:()=>Ik}),zq=Pa(`${Wy}/removeAll`),Ok=Au(Pa(`${Wy}/remove`),{withTypes:()=>Ok}),Fq=(...t)=>{console.error(`${Wy}/error`,...t)},wf=(t={})=>{const e=new Map,n=new Map,r=N=>{const _=n.get(N)??0;n.set(N,_+1)},a=N=>{const _=n.get(N)??1;_===1?n.delete(N):n.set(N,_-1)},{extra:l,onError:c=Fq}=t;y_(c);const d=N=>(N.unsubscribe=()=>e.delete(N.id),e.set(N.id,N),_=>{N.unsubscribe(),_!=null&&_.cancelActive&&O1(N)}),h=N=>{const _=XC(e,N)??Ck(N);return d(_)};Au(h,{withTypes:()=>h});const f=N=>{const _=XC(e,N);return _&&(_.unsubscribe(),N.cancelActive&&O1(_)),!!_};Au(f,{withTypes:()=>f});const p=async(N,_,j,E)=>{const I=new AbortController,R=Uq(h,I.signal),M=[];try{N.pending.add(I),r(N),await Promise.resolve(N.effect(_,Au({},j,{getOriginalState:E,condition:(T,C)=>R(T,C).then(Boolean),take:R,delay:Ak(I.signal),pause:Og(I.signal),extra:l,signal:I.signal,fork:Lq(I.signal,M),unsubscribe:N.unsubscribe,subscribe:()=>{e.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((T,C,L)=>{T!==I&&(Zo(T,I1),L.delete(T))})},cancel:()=>{Zo(I,I1),N.pending.delete(I)},throwIfCancelled:()=>{ec(I.signal)}})))}catch(T){T instanceof Yy||QC(c,T,{raisedBy:"effect"})}finally{await Promise.all(M),Zo(I,kq),a(N),N.pending.delete(I)}},g=Vq(e,n);return{middleware:N=>_=>j=>{if(!sk(j))return _(j);if(Ik.match(j))return h(j.payload);if(zq.match(j)){g();return}if(Ok.match(j))return f(j.payload);let E=N.getState();const I=()=>{if(E===WC)throw new Error(ua(23));return E};let R;try{if(R=_(j),e.size>0){const M=N.getState(),T=Array.from(e.values());for(const C of T){let L=!1;try{L=C.predicate(j,M,E)}catch(P){L=!1,QC(c,P,{raisedBy:"predicate"})}L&&p(C,j,N,I)}}}finally{E=WC}return R},startListening:h,stopListening:f,clearListeners:g}};function ua(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $q={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Dk=Wr({name:"chartLayout",initialState:$q,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,l;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(l=e.payload.left)!==null&&l!==void 0?l:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Bq,setLayout:qq,setChartSize:Hq,setScale:Gq}=Dk.actions,Kq=Dk.reducer;function Rk(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Yq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yq(t,e,n){return(e=Wq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wq(t){var e=Xq(t,"string");return typeof e=="symbol"?e:e+""}function Xq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rn(t,e,n){return ir(t)||ir(e)?n:Wi(e)?ac(t,e,n):typeof e=="function"?e(t):n}var Qq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:l,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&$e(t[l]))return ju(ju({},t),{},{[l]:t[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&$e(t[c]))return ju(ju({},t),{},{[c]:t[c]+(a||0)})}return t},yc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Pk=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,l,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(l=!0),d.coordinate));return a||c.push(e),l||c.push(n),c},kk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:l,scale:c,realScaleType:d,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:v,axisType:N}=t;if(!c)return null;var _=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=a==="category"&&c.bandwidth?c.bandwidth()/_:0;if(j=N==="angleAxis"&&l&&l.length>=2?rr(l[0]-l[1])*2*j:j,g||v){var E=(g||v||[]).map((I,R)=>{var M=r?r.indexOf(I):I;return{coordinate:c(M)+j,value:I,offset:j,index:R}});return E.filter(I=>!li(I.coordinate))}return h&&f?f.map((I,R)=>({coordinate:c(I)+j,value:I,index:R,offset:j})):c.ticks&&p!=null?c.ticks(p).map((I,R)=>({coordinate:c(I)+j,value:I,offset:j,index:R})):c.domain().map((I,R)=>({coordinate:c(I)+j,value:r?r[I]:I,index:R,offset:j}))},ZC=1e-4,Jq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-ZC,l=Math.max(r[0],r[1])+ZC,c=t(e[0]),d=t(e[n-1]);(c<a||c>l||d<a||d>l)&&t.domain([e[0],e[n-1]])}},Zq=(t,e)=>{if(!e||e.length!==2||!$e(e[0])||!$e(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!$e(t[0])||t[0]<n)&&(a[0]=n),(!$e(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},eH=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,l=0,c=0;c<e;++c){var d=li(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=l,t[c][n][1]=l+d,l=t[c][n][1])}},tH=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,l=0;l<e;++l){var c=li(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},nH={sign:eH,expand:T$,none:Mu,silhouette:C$,wiggle:I$,positive:tH},rH=(t,e,n)=>{var r=nH[n],a=A$().keys(e).value((l,c)=>Number(rn(l,c,0))).order(b1).offset(r);return a(t)};function aH(t){return t==null?void 0:String(t)}var eI=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:l,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=rn(l,e.dataKey,e.scale.domain()[c]);return ir(d)?null:e.scale(d)-a/2+r},iH=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},sH=t=>{var e=t.flat(2).filter($e);return[Math.min(...e),Math.max(...e)]},lH=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],oH=(t,e,n)=>{if(t!=null)return lH(Object.keys(t).reduce((r,a)=>{var l=t[a],{stackedData:c}=l,d=c.reduce((h,f)=>{var p=Rk(f,e,n),g=sH(p);return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},tI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=Fy(e,p=>p.coordinate),l=1/0,c=1,d=a.length;c<d;c++){var h=a[c],f=a[c-1];l=Math.min((h.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function rI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:l}=t;return ju(ju({},e),{},{dataKey:n,payload:r,value:a,name:l})}function Xy(t,e){if(t)return String(t);if(typeof e=="string")return e}var cH=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},uH=(t,e)=>e==="centric"?t.angle:t.radius,Ws=t=>t.layout.width,Xs=t=>t.layout.height,dH=t=>t.layout.scale,Mk=t=>t.layout.margin,Qy=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Jy=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Lk="data-recharts-item-index",Uk="data-recharts-item-data-key",Nf=60;function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){hH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hH(t,e,n){return(e=fH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fH(t){var e=mH(t,"string");return typeof e=="symbol"?e:e+""}function mH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pH=t=>t.brush.height;function gH(t){var e=Jy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nf;return n+a}return n},0)}function yH(t){var e=Jy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nf;return n+a}return n},0)}function xH(t){var e=Qy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function vH(t){var e=Qy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Gn=oe([Ws,Xs,Mk,pH,gH,yH,xH,vH,rk,HB],(t,e,n,r,a,l,c,d,h,f)=>{var p={left:(n.left||0)+a,right:(n.right||0)+l},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},v=Dp(Dp({},g),p),N=v.bottom;v.bottom+=r,v=Qq(v,h,f);var _=t-v.left-v.right,j=e-v.top-v.bottom;return Dp(Dp({brushBottom:N},v),{},{width:Math.max(_,0),height:Math.max(j,0)})}),bH=oe(Gn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),x_=oe(Ws,Xs,(t,e)=>({x:0,y:0,width:t,height:e})),wH=w.createContext(null),Xr=()=>w.useContext(wH)!=null,Zy=t=>t.brush,e0=oe([Zy,Gn,Mk],(t,e,n)=>({height:t.height,x:$e(t.x)?t.x:e.left,y:$e(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:$e(t.width)?t.width:e.width})),lw={},ow={},cw={},iI;function NH(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:l}={}){let c,d=null;const h=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{f&&p(),j()};let v=null;const N=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},_=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{_(),c=void 0,d=null},E=()=>{p()},I=function(...R){if(a!=null&&a.aborted)return;c=this,d=R;const M=v==null;N(),h&&M&&p()};return I.schedule=N,I.cancel=j,I.flush=E,a==null||a.addEventListener("abort",j,{once:!0}),I}t.debounce=e})(cw)),cw}var sI;function _H(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NH();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:h}=l,f=Array(2);c&&(f[0]="leading"),d&&(f[1]="trailing");let p,g=null;const v=e.debounce(function(...j){p=r.apply(this,j),g=null},a,{edges:f}),N=function(...j){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(p=r.apply(this,j),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,j),p)},_=()=>(v.flush(),p);return N.cancel=v.cancel,N.flush=_,N}t.debounce=n})(ow)),ow}var lI;function jH(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_H();function n(r,a=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(lw)),lw}var uw,oI;function EH(){return oI||(oI=1,uw=jH().throttle),uw}var SH=EH();const AH=ts(SH);var Rg=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Vk=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:l,maxHeight:c}=n,d=Ls(r)?t:Number(r),h=Ls(a)?e:Number(a);return l&&l>0&&(d?h=d/l:h&&(d=h*l),c&&h!=null&&h>c&&(h=c)),{calculatedWidth:d,calculatedHeight:h}},TH={width:0,height:0,overflow:"visible"},CH={width:0,overflowX:"visible"},IH={height:0,overflowY:"visible"},OH={},DH=t=>{var{width:e,height:n}=t,r=Ls(e),a=Ls(n);return r&&a?TH:r?CH:a?IH:OH};function RH(t){var{width:e,height:n,aspect:r}=t,a=e,l=n;return a===void 0&&l===void 0?(a="100%",l="100%"):a===void 0?a=r&&r>0?void 0:"100%":l===void 0&&(l=r&&r>0?void 0:"100%"),{width:a,height:l}}function jn(t){return Number.isFinite(t)}function Qi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(null,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){PH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PH(t,e,n){return(e=kH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kH(t){var e=MH(t,"string");return typeof e=="symbol"?e:e+""}function MH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zk=w.createContext({width:-1,height:-1});function LH(t){return Qi(t.width)&&Qi(t.height)}function Fk(t){var{children:e,width:n,height:r}=t,a=w.useMemo(()=>({width:n,height:r}),[n,r]);return LH(a)?w.createElement(zk.Provider,{value:a},e):null}var v_=()=>w.useContext(zk),UH=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:l,minWidth:c=0,minHeight:d,maxHeight:h,children:f,debounce:p=0,id:g,className:v,onResize:N,style:_={}}=t,j=w.useRef(null),E=w.useRef();E.current=N,w.useImperativeHandle(e,()=>j.current);var[I,R]=w.useState({containerWidth:r.width,containerHeight:r.height}),M=w.useCallback((V,$)=>{R(A=>{var D=Math.round(V),F=Math.round($);return A.containerWidth===D&&A.containerHeight===F?A:{containerWidth:D,containerHeight:F}})},[]);w.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return xf;var V=F=>{var U,{width:ue,height:ne}=F[0].contentRect;M(ue,ne),(U=E.current)===null||U===void 0||U.call(E,ue,ne)};p>0&&(V=AH(V,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(V),{width:A,height:D}=j.current.getBoundingClientRect();return M(A,D),$.observe(j.current),()=>{$.disconnect()}},[M,p]);var{containerWidth:T,containerHeight:C}=I;Rg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:P}=Vk(T,C,{width:a,height:l,aspect:n,maxHeight:h});return Rg(L!=null&&L>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,P,a,l,c,d,n),w.createElement("div",{id:g?"".concat(g):void 0,className:Ft("recharts-responsive-container",v),style:uI(uI({},_),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:j},w.createElement("div",{style:DH({width:a,height:l})},w.createElement(Fk,{width:L,height:P},f)))}),$k=w.forwardRef((t,e)=>{var n=v_();if(Qi(n.width)&&Qi(n.height))return t.children;var{width:r,height:a}=RH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:l,calculatedHeight:c}=Vk(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return $e(l)&&$e(c)?w.createElement(Fk,{width:l,height:c},t.children):w.createElement(UH,D1({},t,{width:r,height:a,ref:e}))});function Bk(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var t0=()=>{var t,e=Xr(),n=Be(bH),r=Be(e0),a=(t=Be(Zy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},VH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qk=()=>{var t;return(t=Be(Gn))!==null&&t!==void 0?t:VH},Hk=()=>Be(Ws),Gk=()=>Be(Xs),_t=t=>t.layout.layoutType,n0=()=>Be(_t),zH=()=>{var t=n0();return t!==void 0},r0=t=>{var e=ln(),n=Xr(),{width:r,height:a}=t,l=v_(),c=r,d=a;return l&&(c=l.width>0?l.width:r,d=l.height>0?l.height:a),w.useEffect(()=>{!n&&Qi(c)&&Qi(d)&&e(Hq({width:c,height:d}))},[e,n,c,d]),null},Kk=Symbol.for("immer-nothing"),dI=Symbol.for("immer-draftable"),fa=Symbol.for("immer-state");function Za(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kh=Object.getPrototypeOf;function Vu(t){return!!t&&!!t[fa]}function ic(t){var e;return t?Yk(t)||Array.isArray(t)||!!t[dI]||!!((e=t.constructor)!=null&&e[dI])||_f(t)||i0(t):!1}var FH=Object.prototype.constructor.toString(),hI=new WeakMap;function Yk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=hI.get(n);return r===void 0&&(r=Function.toString.call(n),hI.set(n,r)),r===FH}function Pg(t,e,n=!0){a0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function a0(t){const e=t[fa];return e?e.type_:Array.isArray(t)?1:_f(t)?2:i0(t)?3:0}function R1(t,e){return a0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Wk(t,e,n){const r=a0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $H(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function _f(t){return t instanceof Map}function i0(t){return t instanceof Set}function qo(t){return t.copy_||t.base_}function P1(t,e){if(_f(t))return new Map(t);if(i0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Yk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[fa];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Kh(t),r)}else{const r=Kh(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function b_(t,e=!1){return s0(t)||Vu(t)||!ic(t)||(a0(t)>1&&Object.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),Object.freeze(t),e&&Object.values(t).forEach(n=>b_(n,!0))),t}function BH(){Za(2)}var Rp={value:BH};function s0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var qH={};function sc(t){const e=qH[t];return e||Za(0,t),e}var Yh;function Xk(){return Yh}function HH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fI(t,e){e&&(sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function k1(t){M1(t),t.drafts_.forEach(GH),t.drafts_=null}function M1(t){t===Yh&&(Yh=t.parent_)}function mI(t){return Yh=HH(Yh,t)}function GH(t){const e=t[fa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function pI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[fa].modified_&&(k1(e),Za(4)),ic(t)&&(t=kg(e,t),e.parent_||Mg(e,t)),e.patches_&&sc("Patches").generateReplacementPatches_(n[fa].base_,t,e.patches_,e.inversePatches_)):t=kg(e,n,[]),k1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Kk?t:void 0}function kg(t,e,n){if(s0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[fa];if(!a)return Pg(e,(l,c)=>gI(t,a,e,l,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Mg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,d=!1;a.type_===3&&(c=new Set(l),l.clear(),d=!0),Pg(c,(h,f)=>gI(t,a,l,h,f,n,d),r),Mg(t,l,!1),n&&t.patches_&&sc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function gI(t,e,n,r,a,l,c){if(a==null||typeof a!="object"&&!c)return;const d=s0(a);if(!(d&&!c)){if(Vu(a)){const h=l&&e&&e.type_!==3&&!R1(e.assigned_,r)?l.concat(r):void 0,f=kg(t,a,h);if(Wk(n,r,f),Vu(f))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(ic(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;kg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(_f(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Mg(t,a)}}}function Mg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&b_(e,n)}function KH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Xk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=w_;n&&(a=[r],l=Wh);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return r.draft_=d,r.revoke_=c,d}var w_={get(t,e){if(e===fa)return t;const n=qo(t);if(!R1(n,e))return YH(t,n,e);const r=n[e];return t.finalized_||!ic(r)?r:r===dw(t.base_,e)?(hw(t),t.copy_[e]=U1(r,t)):r},has(t,e){return e in qo(t)},ownKeys(t){return Reflect.ownKeys(qo(t))},set(t,e,n){const r=Qk(qo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=dw(qo(t),e),l=a==null?void 0:a[fa];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if($H(n,a)&&(n!==void 0||R1(t.base_,e)))return!0;hw(t),L1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return dw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,hw(t),L1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=qo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Za(11)},getPrototypeOf(t){return Kh(t.base_)},setPrototypeOf(){Za(12)}},Wh={};Pg(w_,(t,e)=>{Wh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wh.deleteProperty=function(t,e){return Wh.set.call(this,t,e,void 0)};Wh.set=function(t,e,n){return w_.set.call(this,t[0],e,n,t[0])};function dw(t,e){const n=t[fa];return(n?qo(n):t)[e]}function YH(t,e,n){var a;const r=Qk(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function Qk(t,e){if(!(e in t))return;let n=Kh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Kh(n)}}function L1(t){t.modified_||(t.modified_=!0,t.parent_&&L1(t.parent_))}function hw(t){t.copy_||(t.copy_=P1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var WH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(h=l,...f){return c.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&Za(6),r!==void 0&&typeof r!="function"&&Za(7);let a;if(ic(e)){const l=mI(this),c=U1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?k1(l):M1(l)}return fI(l,r),pI(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===Kk&&(a=void 0),this.autoFreeze_&&b_(a,!0),r){const l=[],c=[];sc("Patches").generateReplacementPatches_(e,a,l,c),r(l,c)}return a}else Za(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,h=>e(h,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ic(t)||Za(8),Vu(t)&&(t=XH(t));const e=mI(this),n=U1(t,void 0);return n[fa].isManual_=!0,M1(e),n}finishDraft(t,e){const n=t&&t[fa];(!n||!n.isManual_)&&Za(9);const{scope_:r}=n;return fI(r,e),pI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=sc("Patches").applyPatches_;return Vu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function U1(t,e){const n=_f(t)?sc("MapSet").proxyMap_(t,e):i0(t)?sc("MapSet").proxySet_(t,e):KH(t,e);return(e?e.scope_:Xk()).drafts_.push(n),n}function XH(t){return Vu(t)||Za(10,t),Jk(t)}function Jk(t){if(!ic(t)||s0(t))return t;const e=t[fa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=P1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=P1(t,!0);return Pg(n,(a,l)=>{Wk(n,a,Jk(l))},r),e&&(e.finalized_=!1),n}var QH=new WH;QH.produce;var JH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Zk=Wr({name:"legend",initialState:JH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:nn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:nn()},removeLegendPayload:{reducer(t,e){var n=ii(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:nn()}}}),{setLegendSize:Xge,setLegendSettings:Qge,addLegendPayload:eM,replaceLegendPayload:tM,removeLegendPayload:nM}=Zk.actions,ZH=Zk.reducer;function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(null,arguments)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){eG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eG(t,e,n){return(e=tG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return typeof e=="symbol"?e:e+""}function nG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rG(t){return Array.isArray(t)&&Wi(t[0])&&Wi(t[1])?t.join(" ~ "):t}var aG=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:l,formatter:c,itemSorter:d,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:v=!1}=t,N=()=>{if(l&&l.length){var C={padding:0,margin:0},L=(d?Fy(l,d):l).map((P,V)=>{if(P.type==="none")return null;var $=P.formatter||c||rG,{value:A,name:D}=P,F=A,U=D;if($){var ue=$(A,D,P,V,l);if(Array.isArray(ue))[F,U]=ue;else if(ue!=null)F=ue;else return null}var ne=fw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ne},Wi(U)?w.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Wi(U)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},F),w.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:C},L)}return null},_=fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=fw({margin:0},a),E=!ir(p),I=E?p:"",R=Ft("recharts-default-tooltip",h),M=Ft("recharts-tooltip-label",f);E&&g&&l!==void 0&&l!==null&&(I=g(p,l));var T=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",V1({className:R,style:_},T),w.createElement("p",{className:M,style:j},w.isValidElement(I)?I:"".concat(I)),N())},vh="recharts-tooltip-wrapper",iG={visibility:"hidden"};function sG(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ft(vh,{["".concat(vh,"-right")]:$e(n)&&e&&$e(e.x)&&n>=e.x,["".concat(vh,"-left")]:$e(n)&&e&&$e(e.x)&&n<e.x,["".concat(vh,"-bottom")]:$e(r)&&e&&$e(e.y)&&r>=e.y,["".concat(vh,"-top")]:$e(r)&&e&&$e(e.y)&&r<e.y})}function xI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:l,reverseDirection:c,tooltipDimension:d,viewBox:h,viewBoxDimension:f}=t;if(l&&$e(l[r]))return l[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var v=h[r];if(v==null)return 0;if(c[r]){var N=p,_=v;return N<_?Math.max(g,v):Math.max(p,v)}if(f==null)return 0;var j=g+d,E=v+f;return j>E?Math.max(p,v):Math.max(g,v)}function lG(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oG(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:h}=t,f,p,g;return c.height>0&&c.width>0&&n?(p=xI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),g=xI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=lG({translateX:p,translateY:g,useTranslate3d:d})):f=iG,{cssProperties:f,cssClasses:sG({translateX:p,translateY:g,coordinate:n})}}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z1(t,e,n){return(e=cG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cG(t){var e=uG(t,"string");return typeof e=="symbol"?e:e+""}function uG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dG extends w.PureComponent{constructor(){super(...arguments),z1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),z1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:c,hasPayload:d,isAnimationActive:h,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:N,wrapperStyle:_,lastBoundingBox:j,innerRef:E,hasPortalFromProps:I}=this.props,{cssClasses:R,cssProperties:M}=oG({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:N}),T=I?{}:Pp(Pp({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),C=Pp(Pp({},T),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},_);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:C,ref:E},l)}}var hG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xc={devToolsEnabled:!1,isSsr:hG()},rM=()=>{var t;return(t=Be(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(null,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){fG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fG(t,e,n){return(e=mG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t){var e=pG(t,"string");return typeof e=="symbol"?e:e+""}function pG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI={curveBasisClosed:g$,curveBasisOpen:y$,curveBasis:p$,curveBumpX:t$,curveBumpY:n$,curveLinearClosed:x$,curveLinear:Uy,curveMonotoneX:v$,curveMonotoneY:b$,curveNatural:w$,curveStep:N$,curveStepAfter:j$,curveStepBefore:_$},Lg=t=>jn(t.x)&&jn(t.y),_I=t=>t.base!=null&&Lg(t.base)&&Lg(t),bh=t=>t.x,wh=t=>t.y,gG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(yf(t));return(n==="curveMonotone"||n==="curveBump")&&e?NI["".concat(n).concat(e==="vertical"?"Y":"X")]:NI[n]||Uy},yG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:l=!1}=t,c=gG(e,a),d=l?n.filter(Lg):n,h;if(Array.isArray(r)){var f=n.map((N,_)=>wI(wI({},N),{},{base:r[_]}));a==="vertical"?h=Sp().y(wh).x1(bh).x0(N=>N.base.x):h=Sp().x(bh).y1(wh).y0(N=>N.base.y);var p=h.defined(_I).curve(c),g=l?f.filter(_I):f;return p(g)}a==="vertical"&&$e(r)?h=Sp().y(wh).x1(bh).x0(r):$e(r)?h=Sp().x(bh).y1(wh).y0(r):h=CP().x(bh).y(wh);var v=h.defined(Lg).curve(c);return v(d)},N_=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var l=n&&n.length?yG(t):r;return w.createElement("path",F1({},si(t),Y$(t),{className:Ft("recharts-curve",e),d:l===null?void 0:l,ref:a}))},xG=["x","y","top","left","width","height","className"];function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){bG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bG(t,e,n){return(e=wG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wG(t){var e=NG(t,"string");return typeof e=="symbol"?e:e+""}function NG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _G(t,e){if(t==null)return{};var n,r,a=jG(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EG=(t,e,n,r,a,l)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(l,",").concat(e,"h").concat(n),SG=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:l=0,height:c=0,className:d}=t,h=_G(t,xG),f=vG({x:e,y:n,top:r,left:a,width:l,height:c},h);return!$e(e)||!$e(n)||!$e(l)||!$e(c)||!$e(r)||!$e(a)?null:w.createElement("path",$1({},Ra(f),{className:Ft("recharts-cross",d),d:EG(e,n,l,c,r,a)}))};function AG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function SI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){TG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TG(t,e,n){return(e=CG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CG(t){var e=IG(t,"string");return typeof e=="symbol"?e:e+""}function IG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),aM=(t,e,n)=>t.map(r=>"".concat(OG(r)," ").concat(e,"ms ").concat(n)).join(","),DG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Xh=(t,e)=>Object.keys(e).reduce((n,r)=>SI(SI({},n),{},{[r]:t(r,e[r])}),{});function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){RG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RG(t,e,n){return(e=PG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t){var e=kG(t,"string");return typeof e=="symbol"?e:e+""}function kG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=(t,e,n)=>t+(e-t)*n,B1=t=>{var{from:e,to:n}=t;return e!==n},iM=(t,e,n)=>{var r=Xh((a,l)=>{if(B1(l)){var[c,d]=t(l.from,l.to,l.velocity);return Bn(Bn({},l),{},{from:c,velocity:d})}return l},e);return n<1?Xh((a,l)=>B1(l)?Bn(Bn({},l),{},{velocity:Ug(l.velocity,r[a].velocity,n),from:Ug(l.from,r[a].from,n)}):l,e):iM(t,r,n-1)};function MG(t,e,n,r,a,l){var c,d=r.reduce((v,N)=>Bn(Bn({},v),{},{[N]:{from:t[N],velocity:0,to:e[N]}}),{}),h=()=>Xh((v,N)=>N.from,d),f=()=>!Object.values(d).filter(B1).length,p=null,g=v=>{c||(c=v);var N=v-c,_=N/n.dt;d=iM(n,d,_),a(Bn(Bn(Bn({},t),e),h())),c=v,f()||(p=l.setTimeout(g))};return()=>(p=l.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function LG(t,e,n,r,a,l,c){var d=null,h=a.reduce((g,v)=>Bn(Bn({},g),{},{[v]:[t[v],e[v]]}),{}),f,p=g=>{f||(f=g);var v=(g-f)/r,N=Xh((j,E)=>Ug(...E,n(v)),h);if(l(Bn(Bn(Bn({},t),e),N)),v<1)d=c.setTimeout(p);else{var _=Xh((j,E)=>Ug(...E,n(1)),h);l(Bn(Bn(Bn({},t),e),_))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const UG=(t,e,n,r,a,l)=>{var c=DG(t,e);return n==null?()=>(a(Bn(Bn({},t),e)),()=>{}):n.isStepper===!0?MG(t,e,n,c,a,l):LG(t,e,n,r,c,a,l)};var Vg=1e-4,sM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],lM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),TI=(t,e)=>n=>{var r=sM(t,e);return lM(r,n)},VG=(t,e)=>n=>{var r=sM(t,e),a=[...r.map((l,c)=>l*c).slice(1),0];return lM(a,n)},zG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,l=n[0].split("(");if(l[0]==="cubic-bezier"&&((a=l[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},FG=(t,e,n,r)=>{var a=TI(t,n),l=TI(e,r),c=VG(t,n),d=f=>f>1?1:f<0?0:f,h=f=>{for(var p=f>1?1:f,g=p,v=0;v<8;++v){var N=a(g)-p,_=c(g);if(Math.abs(N-p)<Vg||_<Vg)return l(g);g=d(g-N/_)}return l(g)};return h.isStepper=!1,h},CI=function(){return FG(...zG(...arguments))},$G=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,l=(c,d,h)=>{var f=-(c-d)*n,p=h*r,g=h+(f-p)*a/1e3,v=h*a/1e3+c;return Math.abs(v-d)<Vg&&Math.abs(g)<Vg?[d,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},BG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CI(t);case"spring":return $G();default:if(t.split("(")[0]==="cubic-bezier")return CI(t)}return typeof t=="function"?t:null};function qG(t){var e,n=()=>null,r=!1,a=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[h,...f]=d;if(typeof h=="number"){a=t.setTimeout(l.bind(null,f),h);return}l(h),a=t.setTimeout(l.bind(null,f));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class HG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function GG(){return qG(new HG)}var KG=w.createContext(GG);function YG(t,e){var n=w.useContext(KG);return w.useMemo(()=>e??n(t),[t,e,n])}var WG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},II={t:0},mw={t:1};function l0(t){var e=Sr(t,WG),{isActive:n,canBegin:r,duration:a,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:h,children:f}=e,p=n==="auto"?!xc.isSsr:n,g=YG(e.animationId,e.animationManager),[v,N]=w.useState(p?II:mw),_=w.useRef(null);return w.useEffect(()=>{p||N(mw)},[p]),w.useEffect(()=>{if(!p||!r)return xf;var j=UG(II,mw,BG(l),a,N,g.getTimeoutController()),E=()=>{_.current=j()};return g.start([h,c,E,a,d]),()=>{g.stop(),_.current&&_.current(),d()}},[p,r,a,l,c,h,d,g]),f(v.t)}function o0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Bh(e)),r=w.useRef(t);return r.current!==t&&(n.current=Bh(e),r.current=t),n.current}var XG=["radius"],QG=["radius"];function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){JG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JG(t,e,n){return(e=ZG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZG(t){var e=eK(t,"string");return typeof e=="symbol"?e:e+""}function eK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}function RI(t,e){if(t==null)return{};var n,r,a=tK(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PI=(t,e,n,r,a)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(l>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=a[g]>l?l:a[g];f="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+d*p[0],",").concat(e)),f+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+c*p[1])),f+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),f+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-c*p[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var N=Math.min(l,a);f="M ".concat(t,",").concat(e+c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t+d*N,",").concat(e,`
            L `).concat(t+n-d*N,",").concat(e,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t+n,",").concat(e+c*N,`
            L `).concat(t+n,",").concat(e+r-c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t+n-d*N,",").concat(e+r,`
            L `).concat(t+d*N,",").concat(e+r,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t,",").concat(e+r-c*N," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},kI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oM=t=>{var e=Sr(t,kI),n=w.useRef(null),[r,a]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:l,y:c,width:d,height:h,radius:f,className:p}=e,{animationEasing:g,animationDuration:v,animationBegin:N,isAnimationActive:_,isUpdateAnimationActive:j}=e,E=w.useRef(d),I=w.useRef(h),R=w.useRef(l),M=w.useRef(c),T=w.useMemo(()=>({x:l,y:c,width:d,height:h,radius:f}),[l,c,d,h,f]),C=o0(T,"rectangle-");if(l!==+l||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var L=Ft("recharts-rectangle",p);if(!j){var P=Ra(e),{radius:V}=P,$=RI(P,XG);return w.createElement("path",zg({},$,{radius:typeof f=="number"?f:void 0,className:L,d:PI(l,c,d,h,f)}))}var A=E.current,D=I.current,F=R.current,U=M.current,ue="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),G=aM(["strokeDasharray"],v,typeof g=="string"?g:kI.animationEasing);return w.createElement(l0,{animationId:C,key:C,canBegin:r>0,duration:v,easing:g,isActive:j,begin:N},Y=>{var H=$n(A,d,Y),pe=$n(D,h,Y),X=$n(F,l,Y),z=$n(U,c,Y);n.current&&(E.current=H,I.current=pe,R.current=X,M.current=z);var W;_?Y>0?W={transition:G,strokeDasharray:ne}:W={strokeDasharray:ue}:W={strokeDasharray:ne};var ge=Ra(e),{radius:Z}=ge,ve=RI(ge,QG);return w.createElement("path",zg({},ve,{radius:typeof f=="number"?f:void 0,className:L,d:PI(X,z,H,pe,f),ref:n,style:DI(DI({},W),e.style)}))})};function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){nK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nK(t,e,n){return(e=rK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rK(t){var e=aK(t,"string");return typeof e=="symbol"?e:e+""}function aK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fg=Math.PI/180,iK=t=>t*180/Math.PI,Ln=(t,e,n,r)=>({x:t+Math.cos(-Fg*r)*n,y:e+Math.sin(-Fg*r)*n}),cM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},sK=(t,e)=>{var{x:n,y:r}=t,{x:a,y:l}=e;return Math.sqrt((n-a)**2+(r-l)**2)},lK=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:l}=e,c=sK({x:n,y:r},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,h=Math.acos(d);return r>l&&(h=2*Math.PI-h),{radius:c,angle:iK(h),angleInRadian:h}},oK=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:e-l*360,endAngle:n-l*360}},cK=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(a,l);return t+c*360},uK=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:l}=lK({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:h,endAngle:f}=oK(e),p=l,g;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}return g?LI(LI({},e),{},{radius:a,angle:cK(p,e)}):null};function uM(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:l}=t,c=Ln(e,n,r,a),d=Ln(e,n,r,l);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:l}}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(null,arguments)}var dK=(t,e)=>{var n=rr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},kp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:h}=t,f=d*(c?1:-1)+r,p=Math.asin(d/f)/Fg,g=h?a:a+l*p,v=Ln(e,n,f,g),N=Ln(e,n,r,g),_=h?a-l*p:a,j=Ln(e,n,f*Math.cos(p*Fg),_);return{center:v,circleTangency:N,lineTangency:j,theta:p}},dM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c}=t,d=dK(l,c),h=l+d,f=Ln(e,n,a,l),p=Ln(e,n,a,h),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Ln(e,n,r,l),N=Ln(e,n,r,h);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},hK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}=t,p=rr(f-h),{circleTangency:g,lineTangency:v,theta:N}=kp({cx:e,cy:n,radius:a,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),{circleTangency:_,lineTangency:j,theta:E}=kp({cx:e,cy:n,radius:a,angle:f,sign:-p,cornerRadius:l,cornerIsExternal:d}),I=d?Math.abs(h-f):Math.abs(h-f)-N-E;if(I<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):dM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:f});var R="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:T,theta:C}=kp({cx:e,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:L,lineTangency:P,theta:V}=kp({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),$=d?Math.abs(h-f):Math.abs(h-f)-C-V;if($<0&&l===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(p>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},fK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hM=t=>{var e=Sr(t,fK),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p,className:g}=e;if(l<a||f===p)return null;var v=Ft("recharts-sector",g),N=l-a,_=jr(c,N,0,!0),j;return _>0&&Math.abs(f-p)<360?j=hK({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(_,N/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p}):j=dM({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:f,endAngle:p}),w.createElement("path",q1({},Ra(e),{className:v,d:j}))};function mK(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(qP(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:l,outerRadius:c,angle:d}=e,h=Ln(r,a,l,d),f=Ln(r,a,c,d);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return uM(e)}}var pw={},gw={},yw={},UI;function pK(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tk();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(yw)),yw}var VI;function gK(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(gw)),gw}var zI;function yK(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nk(),n=gK();function r(a,l,c){c&&typeof c!="number"&&e.isIterateeCall(a,l,c)&&(l=c=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),c=c===void 0?a<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-a)/(c||1)),0),h=new Array(d);for(let f=0;f<d;f++)h[f]=a,a+=c;return h}t.range=r})(pw)),pw}var xw,FI;function xK(){return FI||(FI=1,xw=yK().range),xw}var vK=xK();const fM=ts(vK);function Fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function __(t){let e,n,r;t.length!==2?(e=Fl,n=(d,h)=>Fl(t(d),h),r=(d,h)=>t(d)-h):(e=t===Fl||t===bK?t:wK,n=t,r=t);function a(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const g=f+p>>>1;n(d[g],h)<0?f=g+1:p=g}while(f<p)}return f}function l(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const g=f+p>>>1;n(d[g],h)<=0?f=g+1:p=g}while(f<p)}return f}function c(d,h,f=0,p=d.length){const g=a(d,h,f,p-1);return g>f&&r(d[g-1],h)>-r(d[g],h)?g-1:g}return{left:a,center:c,right:l}}function wK(){return 0}function mM(t){return t===null?NaN:+t}function*NK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const _K=__(Fl),jf=_K.right;__(mM).center;class $I extends Map{constructor(e,n=SK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(BI(this,e))}has(e){return super.has(BI(this,e))}set(e,n){return super.set(jK(this,e),n)}delete(e){return super.delete(EK(this,e))}}function BI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function EK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function SK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function AK(t=Fl){if(t===Fl)return pM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function pM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const TK=Math.sqrt(50),CK=Math.sqrt(10),IK=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),c=l>=TK?10:l>=CK?5:l>=IK?2:1;let d,h,f;return a<0?(f=Math.pow(10,-a)/c,d=Math.round(t*f),h=Math.round(e*f),d/f<t&&++d,h/f>e&&--h,f=-f):(f=Math.pow(10,a)*c,d=Math.round(t/f),h=Math.round(e/f),d*f<t&&++d,h*f>e&&--h),h<d&&.5<=n&&n<2?$g(t,e,n*2):[d,h,f]}function H1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,l,c]=r?$g(e,t,n):$g(t,e,n);if(!(l>=a))return[];const d=l-a+1,h=new Array(d);if(r)if(c<0)for(let f=0;f<d;++f)h[f]=(l-f)/-c;else for(let f=0;f<d;++f)h[f]=(l-f)*c;else if(c<0)for(let f=0;f<d;++f)h[f]=(a+f)/-c;else for(let f=0;f<d;++f)h[f]=(a+f)*c;return h}function G1(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function K1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?G1(e,t,n):G1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function qI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function HI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?pM:AK(a);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,p=Math.log(h),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(h-g)/h)*(f-h/2<0?-1:1),N=Math.max(n,Math.floor(e-f*g/h+v)),_=Math.min(r,Math.floor(e+(h-f)*g/h+v));gM(t,e,N,_,a)}const l=t[e];let c=n,d=r;for(Nh(t,n,e),a(t[r],l)>0&&Nh(t,n,r);c<d;){for(Nh(t,c,d),++c,--d;a(t[c],l)<0;)++c;for(;a(t[d],l)>0;)--d}a(t[n],l)===0?Nh(t,n,d):(++d,Nh(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Nh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function OK(t,e,n){if(t=Float64Array.from(NK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return HI(t);if(e>=1)return qI(t);var r,a=(r-1)*e,l=Math.floor(a),c=qI(gM(t,l).subarray(0,l+1)),d=HI(t.subarray(l+1));return c+(d-c)*(a-l)}}function DK(t,e,n=mM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,l=Math.floor(a),c=+n(t[l],l,t),d=+n(t[l+1],l+1,t);return c+(d-c)*(a-l)}}function RK(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,l=new Array(a);++r<a;)l[r]=t+r*n;return l}function La(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Y1=Symbol("implicit");function j_(){var t=new $I,e=[],n=[],r=Y1;function a(l){let c=t.get(l);if(c===void 0){if(r!==Y1)return r;t.set(l,c=e.push(l)-1)}return n[c%n.length]}return a.domain=function(l){if(!arguments.length)return e.slice();e=[],t=new $I;for(const c of l)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return j_(e,n).unknown(r)},La.apply(a,arguments),a}function E_(){var t=j_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,l,c,d=!1,h=0,f=0,p=.5;delete t.unknown;function g(){var v=e().length,N=a<r,_=N?a:r,j=N?r:a;l=(j-_)/Math.max(1,v-h+f*2),d&&(l=Math.floor(l)),_+=(j-_-l*(v-h))*p,c=l*(1-h),d&&(_=Math.round(_),c=Math.round(c));var E=RK(v).map(function(I){return _+l*I});return n(N?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return l},t.round=function(v){return arguments.length?(d=!!v,g()):d},t.padding=function(v){return arguments.length?(h=Math.min(1,f=+v),g()):h},t.paddingInner=function(v){return arguments.length?(h=Math.min(1,v),g()):h},t.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},t.copy=function(){return E_(e(),[r,a]).round(d).paddingInner(h).paddingOuter(f).align(p)},La.apply(g(),arguments)}function yM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yM(e())},t}function PK(){return yM(E_.apply(null,arguments).paddingInner(1))}function S_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ef(){}var Qh=.7,Bg=1/Qh,Tu="\\s*([+-]?\\d+)\\s*",Jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kK=/^#([0-9a-f]{3,8})$/,MK=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),LK=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),UK=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${Jh}\\)$`),VK=new RegExp(`^rgba\\(${zi},${zi},${zi},${Jh}\\)$`),zK=new RegExp(`^hsl\\(${Jh},${zi},${zi}\\)$`),FK=new RegExp(`^hsla\\(${Jh},${zi},${zi},${Jh}\\)$`),GI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S_(Ef,Zh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KI,formatHex:KI,formatHex8:$K,formatHsl:BK,formatRgb:YI,toString:YI});function KI(){return this.rgb().formatHex()}function $K(){return this.rgb().formatHex8()}function BK(){return vM(this).formatHsl()}function YI(){return this.rgb().formatRgb()}function Zh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WI(e):n===3?new Hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MK.exec(t))?new Hr(e[1],e[2],e[3],1):(e=LK.exec(t))?new Hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UK.exec(t))?Mp(e[1],e[2],e[3],e[4]):(e=VK.exec(t))?Mp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zK.exec(t))?JI(e[1],e[2]/100,e[3]/100,1):(e=FK.exec(t))?JI(e[1],e[2]/100,e[3]/100,e[4]):GI.hasOwnProperty(t)?WI(GI[t]):t==="transparent"?new Hr(NaN,NaN,NaN,0):null}function WI(t){return new Hr(t>>16&255,t>>8&255,t&255,1)}function Mp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hr(t,e,n,r)}function qK(t){return t instanceof Ef||(t=Zh(t)),t?(t=t.rgb(),new Hr(t.r,t.g,t.b,t.opacity)):new Hr}function W1(t,e,n,r){return arguments.length===1?qK(t):new Hr(t,e,n,r??1)}function Hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}S_(Hr,W1,xM(Ef,{brighter(t){return t=t==null?Bg:Math.pow(Bg,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qh:Math.pow(Qh,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hr(tc(this.r),tc(this.g),tc(this.b),qg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XI,formatHex:XI,formatHex8:HK,formatRgb:QI,toString:QI}));function XI(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function HK(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function QI(){const t=qg(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function qg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function JI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,n,r)}function vM(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof Ef||(t=Zh(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),l=Math.max(e,n,r),c=NaN,d=l-a,h=(l+a)/2;return d?(e===l?c=(n-r)/d+(n<r)*6:n===l?c=(r-e)/d+2:c=(e-n)/d+4,d/=h<.5?l+a:2-l-a,c*=60):d=h>0&&h<1?0:c,new ei(c,d,h,t.opacity)}function GK(t,e,n,r){return arguments.length===1?vM(t):new ei(t,e,n,r??1)}function ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}S_(ei,GK,xM(Ef,{brighter(t){return t=t==null?Bg:Math.pow(Bg,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qh:Math.pow(Qh,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Hr(vw(t>=240?t-240:t+120,a,r),vw(t,a,r),vw(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ei(ZI(this.h),Lp(this.s),Lp(this.l),qg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qg(this.opacity);return`${t===1?"hsl(":"hsla("}${ZI(this.h)}, ${Lp(this.s)*100}%, ${Lp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZI(t){return t=(t||0)%360,t<0?t+360:t}function Lp(t){return Math.max(0,Math.min(1,t||0))}function vw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const A_=t=>()=>t;function KK(t,e){return function(n){return t+n*e}}function YK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WK(t){return(t=+t)==1?bM:function(e,n){return n-e?YK(e,n,t):A_(isNaN(e)?n:e)}}function bM(t,e){var n=e-t;return n?KK(t,n):A_(isNaN(t)?e:t)}const eO=(function t(e){var n=WK(e);function r(a,l){var c=n((a=W1(a)).r,(l=W1(l)).r),d=n(a.g,l.g),h=n(a.b,l.b),f=bM(a.opacity,l.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=h(p),a.opacity=f(p),a+""}}return r.gamma=t,r})(1);function XK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=t[a]*(1-l)+e[a]*l;return r}}function QK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function JK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)a[c]=td(t[c],e[c]);for(;c<n;++c)l[c]=e[c];return function(d){for(c=0;c<r;++c)l[c]=a[c](d);return l}}function ZK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function eY(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=td(t[a],e[a]):r[a]=e[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var X1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bw=new RegExp(X1.source,"g");function tY(t){return function(){return t}}function nY(t){return function(e){return t(e)+""}}function rY(t,e){var n=X1.lastIndex=bw.lastIndex=0,r,a,l,c=-1,d=[],h=[];for(t=t+"",e=e+"";(r=X1.exec(t))&&(a=bw.exec(e));)(l=a.index)>n&&(l=e.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,h.push({i:c,x:Hg(r,a)})),n=bw.lastIndex;return n<e.length&&(l=e.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?h[0]?nY(h[0].x):tY(e):(e=h.length,function(f){for(var p=0,g;p<e;++p)d[(g=h[p]).i]=g.x(f);return d.join("")})}function td(t,e){var n=typeof e,r;return e==null||n==="boolean"?A_(e):(n==="number"?Hg:n==="string"?(r=Zh(e))?(e=r,eO):rY:e instanceof Zh?eO:e instanceof Date?ZK:QK(e)?XK:Array.isArray(e)?JK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?eY:Hg)(t,e)}function T_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aY(t,e){e===void 0&&(e=t,t=td);for(var n=0,r=e.length-1,a=e[0],l=new Array(r<0?0:r);n<r;)l[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function iY(t){return function(){return t}}function Gg(t){return+t}var tO=[0,1];function Ir(t){return t}function Q1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:iY(isNaN(e)?NaN:.5)}function sY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function lY(t,e,n){var r=t[0],a=t[1],l=e[0],c=e[1];return a<r?(r=Q1(a,r),l=n(c,l)):(r=Q1(r,a),l=n(l,c)),function(d){return l(r(d))}}function oY(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),l=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=Q1(t[c],t[c+1]),l[c]=n(e[c],e[c+1]);return function(d){var h=jf(t,d,1,r)-1;return l[h](a[h](d))}}function Sf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function c0(){var t=tO,e=tO,n=td,r,a,l,c=Ir,d,h,f;function p(){var v=Math.min(t.length,e.length);return c!==Ir&&(c=sY(t[0],t[v-1])),d=v>2?oY:lY,h=f=null,g}function g(v){return v==null||isNaN(v=+v)?l:(h||(h=d(t.map(r),e,n)))(r(c(v)))}return g.invert=function(v){return c(a((f||(f=d(e,t.map(r),Hg)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,Gg),p()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=T_,p()},g.clamp=function(v){return arguments.length?(c=v?!0:Ir,p()):c!==Ir},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,N){return r=v,a=N,p()}}function C_(){return c0()(Ir,Ir)}function cY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zu(t){return t=Kg(Math.abs(t)),t?t[1]:NaN}function uY(t,e){return function(n,r){for(var a=n.length,l=[],c=0,d=t[0],h=0;a>0&&d>0&&(h+d+1>r&&(d=Math.max(1,r-h)),l.push(n.substring(a-=d,a+d)),!((h+=d+1)>r));)d=t[c=(c+1)%t.length];return l.reverse().join(e)}}function dY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(t){if(!(e=hY.exec(t)))throw new Error("invalid format: "+t);var e;return new I_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ef.prototype=I_.prototype;function I_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fY(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var wM;function mY(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1],l=a-(wM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Kg(t,Math.max(0,e+l-1))[0]}function nO(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const rO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:cY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nO(t*100,e),r:nO,s:mY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aO(t){return t}var iO=Array.prototype.map,sO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pY(t){var e=t.grouping===void 0||t.thousands===void 0?aO:uY(iO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?aO:dY(iO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(g){g=ef(g);var v=g.fill,N=g.align,_=g.sign,j=g.symbol,E=g.zero,I=g.width,R=g.comma,M=g.precision,T=g.trim,C=g.type;C==="n"?(R=!0,C="g"):rO[C]||(M===void 0&&(M=12),T=!0,C="g"),(E||v==="0"&&N==="=")&&(E=!0,v="0",N="=");var L=j==="$"?n:j==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=j==="$"?r:/[%p]/.test(C)?c:"",V=rO[C],$=/[defgprs%]/.test(C);M=M===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function A(D){var F=L,U=P,ue,ne,G;if(C==="c")U=V(D)+U,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?h:V(Math.abs(D),M),T&&(D=fY(D)),Y&&+D==0&&_!=="+"&&(Y=!1),F=(Y?_==="("?_:d:_==="-"||_==="("?"":_)+F,U=(C==="s"?sO[8+wM/3]:"")+U+(Y&&_==="("?")":""),$){for(ue=-1,ne=D.length;++ue<ne;)if(G=D.charCodeAt(ue),48>G||G>57){U=(G===46?a+D.slice(ue+1):D.slice(ue))+U,D=D.slice(0,ue);break}}}R&&!E&&(D=e(D,1/0));var H=F.length+D.length+U.length,pe=H<I?new Array(I-H+1).join(v):"";switch(R&&E&&(D=e(pe+D,pe.length?I-U.length:1/0),pe=""),N){case"<":D=F+D+U+pe;break;case"=":D=F+pe+D+U;break;case"^":D=pe.slice(0,H=pe.length>>1)+F+D+U+pe.slice(H);break;default:D=pe+F+D+U;break}return l(D)}return A.toString=function(){return g+""},A}function p(g,v){var N=f((g=ef(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(zu(v)/3)))*3,j=Math.pow(10,-_),E=sO[8+_/3];return function(I){return N(j*I)+E}}return{format:f,formatPrefix:p}}var Up,O_,NM;gY({thousands:",",grouping:[3],currency:["$",""]});function gY(t){return Up=pY(t),O_=Up.format,NM=Up.formatPrefix,Up}function yY(t){return Math.max(0,-zu(Math.abs(t)))}function xY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function vY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}function _M(t,e,n,r){var a=K1(t,e,n),l;switch(r=ef(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(l=xY(a,c))&&(r.precision=l),NM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=vY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=yY(a))&&(r.precision=l-(r.type==="%")*2);break}}return O_(r)}function ao(t){var e=t.domain;return t.ticks=function(n){var r=e();return H1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return _M(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,l=r.length-1,c=r[a],d=r[l],h,f,p=10;for(d<c&&(f=c,c=d,d=f,f=a,a=l,l=f);p-- >0;){if(f=G1(c,d,n),f===h)return r[a]=c,r[l]=d,e(r);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;h=f}return t},t}function jM(){var t=C_();return t.copy=function(){return Sf(t,jM())},La.apply(t,arguments),ao(t)}function EM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return EM(t).unknown(e)},t=arguments.length?Array.from(t,Gg):[0,1],ao(n)}function SM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],l=t[r],c;return l<a&&(c=n,n=r,r=c,c=a,a=l,l=c),t[n]=e.floor(a),t[r]=e.ceil(l),t}function lO(t){return Math.log(t)}function oO(t){return Math.exp(t)}function bY(t){return-Math.log(-t)}function wY(t){return-Math.exp(-t)}function NY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _Y(t){return t===10?NY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cO(t){return(e,n)=>-t(-e,n)}function D_(t){const e=t(lO,oO),n=e.domain;let r=10,a,l;function c(){return a=jY(r),l=_Y(r),n()[0]<0?(a=cO(a),l=cO(l),t(bY,wY)):t(lO,oO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const h=n();let f=h[0],p=h[h.length-1];const g=p<f;g&&([f,p]=[p,f]);let v=a(f),N=a(p),_,j;const E=d==null?10:+d;let I=[];if(!(r%1)&&N-v<E){if(v=Math.floor(v),N=Math.ceil(N),f>0){for(;v<=N;++v)for(_=1;_<r;++_)if(j=v<0?_/l(-v):_*l(v),!(j<f)){if(j>p)break;I.push(j)}}else for(;v<=N;++v)for(_=r-1;_>=1;--_)if(j=v>0?_/l(-v):_*l(v),!(j<f)){if(j>p)break;I.push(j)}I.length*2<E&&(I=H1(f,p,E))}else I=H1(v,N,Math.min(N-v,E)).map(l);return g?I.reverse():I},e.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=ef(h)).precision==null&&(h.trim=!0),h=O_(h)),d===1/0)return h;const f=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/l(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=f?h(p):""}},e.nice=()=>n(SM(n(),{floor:d=>l(Math.floor(a(d))),ceil:d=>l(Math.ceil(a(d)))})),e}function AM(){const t=D_(c0()).domain([1,10]);return t.copy=()=>Sf(t,AM()).base(t.base()),La.apply(t,arguments),t}function uO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R_(t){var e=1,n=t(uO(e),dO(e));return n.constant=function(r){return arguments.length?t(uO(e=+r),dO(e)):e},ao(n)}function TM(){var t=R_(c0());return t.copy=function(){return Sf(t,TM()).constant(t.constant())},La.apply(t,arguments)}function hO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SY(t){return t<0?-t*t:t*t}function P_(t){var e=t(Ir,Ir),n=1;function r(){return n===1?t(Ir,Ir):n===.5?t(EY,SY):t(hO(n),hO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},ao(e)}function k_(){var t=P_(c0());return t.copy=function(){return Sf(t,k_()).exponent(t.exponent())},La.apply(t,arguments),t}function AY(){return k_.apply(null,arguments).exponent(.5)}function fO(t){return Math.sign(t)*t*t}function TY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CM(){var t=C_(),e=[0,1],n=!1,r;function a(l){var c=TY(t(l));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(l){return t.invert(fO(l))},a.domain=function(l){return arguments.length?(t.domain(l),a):t.domain()},a.range=function(l){return arguments.length?(t.range((e=Array.from(l,Gg)).map(fO)),a):e.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(t.clamp(l),a):t.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return CM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},La.apply(a,arguments),ao(a)}function IM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=DK(t,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:e[jf(n,c)]}return l.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},l.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Fl),a()},l.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return IM().domain(t).range(e).unknown(r)},La.apply(l,arguments)}function OM(){var t=0,e=1,n=1,r=[.5],a=[0,1],l;function c(h){return h!=null&&h<=h?a[jf(r,h,0,n)]:l}function d(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return c}return c.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,d()):[t,e]},c.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,d()):a.slice()},c.invertExtent=function(h){var f=a.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},c.unknown=function(h){return arguments.length&&(l=h),c},c.thresholds=function(){return r.slice()},c.copy=function(){return OM().domain([t,e]).range(a).unknown(l)},La.apply(ao(c),arguments)}function DM(){var t=[.5],e=[0,1],n,r=1;function a(l){return l!=null&&l<=l?e[jf(t,l,0,r)]:n}return a.domain=function(l){return arguments.length?(t=Array.from(l),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(l){return arguments.length?(e=Array.from(l),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(l){var c=e.indexOf(l);return[t[c-1],t[c]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return DM().domain(t).range(e).unknown(n)},La.apply(a,arguments)}const ww=new Date,Nw=new Date;function Kn(t,e,n,r){function a(l){return t(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(t(l=new Date(+l)),l),a.ceil=l=>(t(l=new Date(l-1)),e(l,1),t(l),l),a.round=l=>{const c=a(l),d=a.ceil(l);return l-c<d-l?c:d},a.offset=(l,c)=>(e(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,d)=>{const h=[];if(l=a.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return h;let f;do h.push(f=new Date(+l)),e(l,d),t(l);while(f<l&&l<c);return h},a.filter=l=>Kn(c=>{if(c>=c)for(;t(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!l(c););else for(;--d>=0;)for(;e(c,1),!l(c););}),n&&(a.count=(l,c)=>(ww.setTime(+l),Nw.setTime(+c),t(ww),t(Nw),Math.floor(n(ww,Nw))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?c=>r(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const Yg=Kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yg);Yg.range;const As=1e3,Da=As*60,Ts=Da*60,Vs=Ts*24,M_=Vs*7,mO=Vs*30,_w=Vs*365,Wo=Kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCSeconds());Wo.range;const L_=Kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getMinutes());L_.range;const U_=Kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCMinutes());U_.range;const V_=Kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As-t.getMinutes()*Da)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());V_.range;const z_=Kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());z_.range;const Af=Kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Da)/Vs,t=>t.getDate()-1);Af.range;const u0=Kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>t.getUTCDate()-1);u0.range;const RM=Kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>Math.floor(t/Vs));RM.range;function vc(t){return Kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Da)/M_)}const d0=vc(0),Wg=vc(1),CY=vc(2),IY=vc(3),Fu=vc(4),OY=vc(5),DY=vc(6);d0.range;Wg.range;CY.range;IY.range;Fu.range;OY.range;DY.range;function bc(t){return Kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/M_)}const h0=bc(0),Xg=bc(1),RY=bc(2),PY=bc(3),$u=bc(4),kY=bc(5),MY=bc(6);h0.range;Xg.range;RY.range;PY.range;$u.range;kY.range;MY.range;const F_=Kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());F_.range;const $_=Kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$_.range;const zs=Kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});zs.range;const Fs=Kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fs.range;function PM(t,e,n,r,a,l){const c=[[Wo,1,As],[Wo,5,5*As],[Wo,15,15*As],[Wo,30,30*As],[l,1,Da],[l,5,5*Da],[l,15,15*Da],[l,30,30*Da],[a,1,Ts],[a,3,3*Ts],[a,6,6*Ts],[a,12,12*Ts],[r,1,Vs],[r,2,2*Vs],[n,1,M_],[e,1,mO],[e,3,3*mO],[t,1,_w]];function d(f,p,g){const v=p<f;v&&([f,p]=[p,f]);const N=g&&typeof g.range=="function"?g:h(f,p,g),_=N?N.range(f,+p+1):[];return v?_.reverse():_}function h(f,p,g){const v=Math.abs(p-f)/g,N=__(([,,E])=>E).right(c,v);if(N===c.length)return t.every(K1(f/_w,p/_w,g));if(N===0)return Yg.every(Math.max(K1(f,p,g),1));const[_,j]=c[v/c[N-1][2]<c[N][2]/v?N-1:N];return _.every(j)}return[d,h]}const[LY,UY]=PM(Fs,$_,h0,RM,z_,U_),[VY,zY]=PM(zs,F_,d0,Af,V_,L_);function jw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _h(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function FY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,l=t.days,c=t.shortDays,d=t.months,h=t.shortMonths,f=jh(a),p=Eh(a),g=jh(l),v=Eh(l),N=jh(c),_=Eh(c),j=jh(d),E=Eh(d),I=jh(h),R=Eh(h),M={a:Y,A:H,b:pe,B:X,c:null,d:bO,e:bO,f:uW,g:bW,G:NW,H:lW,I:oW,j:cW,L:kM,m:dW,M:hW,p:z,q:W,Q:_O,s:jO,S:fW,u:mW,U:pW,V:gW,w:yW,W:xW,x:null,X:null,y:vW,Y:wW,Z:_W,"%":NO},T={a:ge,A:Z,b:ve,B:Ce,c:null,d:wO,e:wO,f:AW,g:LW,G:VW,H:jW,I:EW,j:SW,L:LM,m:TW,M:CW,p:De,q:ae,Q:_O,s:jO,S:IW,u:OW,U:DW,V:RW,w:PW,W:kW,x:null,X:null,y:MW,Y:UW,Z:zW,"%":NO},C={a:A,A:D,b:F,B:U,c:ue,d:xO,e:xO,f:rW,g:yO,G:gO,H:vO,I:vO,j:ZY,L:nW,m:JY,M:eW,p:$,q:QY,Q:iW,s:sW,S:tW,u:GY,U:KY,V:YY,w:HY,W:WY,x:ne,X:G,y:yO,Y:gO,Z:XY,"%":aW};M.x=L(n,M),M.X=L(r,M),M.c=L(e,M),T.x=L(n,T),T.X=L(r,T),T.c=L(e,T);function L(le,ke){return function(J){var he=[],Ve=-1,Ge=0,St=le.length,Ee,yt,xe;for(J instanceof Date||(J=new Date(+J));++Ve<St;)le.charCodeAt(Ve)===37&&(he.push(le.slice(Ge,Ve)),(yt=pO[Ee=le.charAt(++Ve)])!=null?Ee=le.charAt(++Ve):yt=Ee==="e"?" ":"0",(xe=ke[Ee])&&(Ee=xe(J,yt)),he.push(Ee),Ge=Ve+1);return he.push(le.slice(Ge,Ve)),he.join("")}}function P(le,ke){return function(J){var he=_h(1900,void 0,1),Ve=V(he,le,J+="",0),Ge,St;if(Ve!=J.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ke&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ge=Ew(_h(he.y,0,1)),St=Ge.getUTCDay(),Ge=St>4||St===0?Xg.ceil(Ge):Xg(Ge),Ge=u0.offset(Ge,(he.V-1)*7),he.y=Ge.getUTCFullYear(),he.m=Ge.getUTCMonth(),he.d=Ge.getUTCDate()+(he.w+6)%7):(Ge=jw(_h(he.y,0,1)),St=Ge.getDay(),Ge=St>4||St===0?Wg.ceil(Ge):Wg(Ge),Ge=Af.offset(Ge,(he.V-1)*7),he.y=Ge.getFullYear(),he.m=Ge.getMonth(),he.d=Ge.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),St="Z"in he?Ew(_h(he.y,0,1)).getUTCDay():jw(_h(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(St+5)%7:he.w+he.U*7-(St+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Ew(he)):jw(he)}}function V(le,ke,J,he){for(var Ve=0,Ge=ke.length,St=J.length,Ee,yt;Ve<Ge;){if(he>=St)return-1;if(Ee=ke.charCodeAt(Ve++),Ee===37){if(Ee=ke.charAt(Ve++),yt=C[Ee in pO?ke.charAt(Ve++):Ee],!yt||(he=yt(le,J,he))<0)return-1}else if(Ee!=J.charCodeAt(he++))return-1}return he}function $(le,ke,J){var he=f.exec(ke.slice(J));return he?(le.p=p.get(he[0].toLowerCase()),J+he[0].length):-1}function A(le,ke,J){var he=N.exec(ke.slice(J));return he?(le.w=_.get(he[0].toLowerCase()),J+he[0].length):-1}function D(le,ke,J){var he=g.exec(ke.slice(J));return he?(le.w=v.get(he[0].toLowerCase()),J+he[0].length):-1}function F(le,ke,J){var he=I.exec(ke.slice(J));return he?(le.m=R.get(he[0].toLowerCase()),J+he[0].length):-1}function U(le,ke,J){var he=j.exec(ke.slice(J));return he?(le.m=E.get(he[0].toLowerCase()),J+he[0].length):-1}function ue(le,ke,J){return V(le,e,ke,J)}function ne(le,ke,J){return V(le,n,ke,J)}function G(le,ke,J){return V(le,r,ke,J)}function Y(le){return c[le.getDay()]}function H(le){return l[le.getDay()]}function pe(le){return h[le.getMonth()]}function X(le){return d[le.getMonth()]}function z(le){return a[+(le.getHours()>=12)]}function W(le){return 1+~~(le.getMonth()/3)}function ge(le){return c[le.getUTCDay()]}function Z(le){return l[le.getUTCDay()]}function ve(le){return h[le.getUTCMonth()]}function Ce(le){return d[le.getUTCMonth()]}function De(le){return a[+(le.getUTCHours()>=12)]}function ae(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ke=L(le+="",M);return ke.toString=function(){return le},ke},parse:function(le){var ke=P(le+="",!1);return ke.toString=function(){return le},ke},utcFormat:function(le){var ke=L(le+="",T);return ke.toString=function(){return le},ke},utcParse:function(le){var ke=P(le+="",!0);return ke.toString=function(){return le},ke}}}var pO={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,$Y=/^%/,BY=/[\\^$*+?|[\]().{}]/g;function Nt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(e)+a:a)}function qY(t){return t.replace(BY,"\\$&")}function jh(t){return new RegExp("^(?:"+t.map(qY).join("|")+")","i")}function Eh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function HY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function GY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function KY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function YY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function WY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gO(t,e,n){var r=sr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function XY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function QY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function JY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function xO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ZY(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eW(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tW(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nW(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rW(t,e,n){var r=sr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aW(t,e,n){var r=$Y.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function iW(t,e,n){var r=sr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function sW(t,e,n){var r=sr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bO(t,e){return Nt(t.getDate(),e,2)}function lW(t,e){return Nt(t.getHours(),e,2)}function oW(t,e){return Nt(t.getHours()%12||12,e,2)}function cW(t,e){return Nt(1+Af.count(zs(t),t),e,3)}function kM(t,e){return Nt(t.getMilliseconds(),e,3)}function uW(t,e){return kM(t,e)+"000"}function dW(t,e){return Nt(t.getMonth()+1,e,2)}function hW(t,e){return Nt(t.getMinutes(),e,2)}function fW(t,e){return Nt(t.getSeconds(),e,2)}function mW(t){var e=t.getDay();return e===0?7:e}function pW(t,e){return Nt(d0.count(zs(t)-1,t),e,2)}function MM(t){var e=t.getDay();return e>=4||e===0?Fu(t):Fu.ceil(t)}function gW(t,e){return t=MM(t),Nt(Fu.count(zs(t),t)+(zs(t).getDay()===4),e,2)}function yW(t){return t.getDay()}function xW(t,e){return Nt(Wg.count(zs(t)-1,t),e,2)}function vW(t,e){return Nt(t.getFullYear()%100,e,2)}function bW(t,e){return t=MM(t),Nt(t.getFullYear()%100,e,2)}function wW(t,e){return Nt(t.getFullYear()%1e4,e,4)}function NW(t,e){var n=t.getDay();return t=n>=4||n===0?Fu(t):Fu.ceil(t),Nt(t.getFullYear()%1e4,e,4)}function _W(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nt(e/60|0,"0",2)+Nt(e%60,"0",2)}function wO(t,e){return Nt(t.getUTCDate(),e,2)}function jW(t,e){return Nt(t.getUTCHours(),e,2)}function EW(t,e){return Nt(t.getUTCHours()%12||12,e,2)}function SW(t,e){return Nt(1+u0.count(Fs(t),t),e,3)}function LM(t,e){return Nt(t.getUTCMilliseconds(),e,3)}function AW(t,e){return LM(t,e)+"000"}function TW(t,e){return Nt(t.getUTCMonth()+1,e,2)}function CW(t,e){return Nt(t.getUTCMinutes(),e,2)}function IW(t,e){return Nt(t.getUTCSeconds(),e,2)}function OW(t){var e=t.getUTCDay();return e===0?7:e}function DW(t,e){return Nt(h0.count(Fs(t)-1,t),e,2)}function UM(t){var e=t.getUTCDay();return e>=4||e===0?$u(t):$u.ceil(t)}function RW(t,e){return t=UM(t),Nt($u.count(Fs(t),t)+(Fs(t).getUTCDay()===4),e,2)}function PW(t){return t.getUTCDay()}function kW(t,e){return Nt(Xg.count(Fs(t)-1,t),e,2)}function MW(t,e){return Nt(t.getUTCFullYear()%100,e,2)}function LW(t,e){return t=UM(t),Nt(t.getUTCFullYear()%100,e,2)}function UW(t,e){return Nt(t.getUTCFullYear()%1e4,e,4)}function VW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$u(t):$u.ceil(t),Nt(t.getUTCFullYear()%1e4,e,4)}function zW(){return"+0000"}function NO(){return"%"}function _O(t){return+t}function jO(t){return Math.floor(+t/1e3)}var fu,VM,zM;FW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FW(t){return fu=FY(t),VM=fu.format,fu.parse,zM=fu.utcFormat,fu.utcParse,fu}function $W(t){return new Date(t)}function BW(t){return t instanceof Date?+t:+new Date(+t)}function B_(t,e,n,r,a,l,c,d,h,f){var p=C_(),g=p.invert,v=p.domain,N=f(".%L"),_=f(":%S"),j=f("%I:%M"),E=f("%I %p"),I=f("%a %d"),R=f("%b %d"),M=f("%B"),T=f("%Y");function C(L){return(h(L)<L?N:d(L)<L?_:c(L)<L?j:l(L)<L?E:r(L)<L?a(L)<L?I:R:n(L)<L?M:T)(L)}return p.invert=function(L){return new Date(g(L))},p.domain=function(L){return arguments.length?v(Array.from(L,BW)):v().map($W)},p.ticks=function(L){var P=v();return t(P[0],P[P.length-1],L??10)},p.tickFormat=function(L,P){return P==null?C:f(P)},p.nice=function(L){var P=v();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?v(SM(P,L)):p},p.copy=function(){return Sf(p,B_(t,e,n,r,a,l,c,d,h,f))},p}function qW(){return La.apply(B_(VY,zY,zs,F_,d0,Af,V_,L_,Wo,VM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HW(){return La.apply(B_(LY,UY,Fs,$_,h0,u0,z_,U_,Wo,zM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f0(){var t=0,e=1,n,r,a,l,c=Ir,d=!1,h;function f(g){return g==null||isNaN(g=+g)?h:c(a===0?.5:(g=(l(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=l(t=+t),r=l(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function p(g){return function(v){var N,_;return arguments.length?([N,_]=v,c=g(N,_),f):[c(0),c(1)]}}return f.range=p(td),f.rangeRound=p(T_),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return l=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),f}}function io(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FM(){var t=ao(f0()(Ir));return t.copy=function(){return io(t,FM())},Qs.apply(t,arguments)}function $M(){var t=D_(f0()).domain([1,10]);return t.copy=function(){return io(t,$M()).base(t.base())},Qs.apply(t,arguments)}function BM(){var t=R_(f0());return t.copy=function(){return io(t,BM()).constant(t.constant())},Qs.apply(t,arguments)}function q_(){var t=P_(f0());return t.copy=function(){return io(t,q_()).exponent(t.exponent())},Qs.apply(t,arguments)}function GW(){return q_.apply(null,arguments).exponent(.5)}function qM(){var t=[],e=Ir;function n(r){if(r!=null&&!isNaN(r=+r))return e((jf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Fl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>OK(t,l/r))},n.copy=function(){return qM(e).domain(t)},Qs.apply(n,arguments)}function m0(){var t=0,e=.5,n=1,r=1,a,l,c,d,h,f=Ir,p,g=!1,v;function N(j){return isNaN(j=+j)?v:(j=.5+((j=+p(j))-l)*(r*j<r*l?d:h),f(g?Math.max(0,Math.min(1,j)):j))}N.domain=function(j){return arguments.length?([t,e,n]=j,a=p(t=+t),l=p(e=+e),c=p(n=+n),d=a===l?0:.5/(l-a),h=l===c?0:.5/(c-l),r=l<a?-1:1,N):[t,e,n]},N.clamp=function(j){return arguments.length?(g=!!j,N):g},N.interpolator=function(j){return arguments.length?(f=j,N):f};function _(j){return function(E){var I,R,M;return arguments.length?([I,R,M]=E,f=aY(j,[I,R,M]),N):[f(0),f(.5),f(1)]}}return N.range=_(td),N.rangeRound=_(T_),N.unknown=function(j){return arguments.length?(v=j,N):v},function(j){return p=j,a=j(t),l=j(e),c=j(n),d=a===l?0:.5/(l-a),h=l===c?0:.5/(c-l),r=l<a?-1:1,N}}function HM(){var t=ao(m0()(Ir));return t.copy=function(){return io(t,HM())},Qs.apply(t,arguments)}function GM(){var t=D_(m0()).domain([.1,1,10]);return t.copy=function(){return io(t,GM()).base(t.base())},Qs.apply(t,arguments)}function KM(){var t=R_(m0());return t.copy=function(){return io(t,KM()).constant(t.constant())},Qs.apply(t,arguments)}function H_(){var t=P_(m0());return t.copy=function(){return io(t,H_()).exponent(t.exponent())},Qs.apply(t,arguments)}function KW(){return H_.apply(null,arguments).exponent(.5)}const Th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E_,scaleDiverging:HM,scaleDivergingLog:GM,scaleDivergingPow:H_,scaleDivergingSqrt:KW,scaleDivergingSymlog:KM,scaleIdentity:EM,scaleImplicit:Y1,scaleLinear:jM,scaleLog:AM,scaleOrdinal:j_,scalePoint:PK,scalePow:k_,scaleQuantile:IM,scaleQuantize:OM,scaleRadial:CM,scaleSequential:FM,scaleSequentialLog:$M,scaleSequentialPow:q_,scaleSequentialQuantile:qM,scaleSequentialSqrt:GW,scaleSequentialSymlog:BM,scaleSqrt:AY,scaleSymlog:TM,scaleThreshold:DM,scaleTime:qW,scaleUtc:HW,tickFormat:_M},Symbol.toStringTag,{value:"Module"}));var so=t=>t.chartData,G_=oe([so],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),K_=(t,e,n,r)=>r?G_(t):so(t);function Yl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(jn(e)&&jn(n))return!0}return!1}function EO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function YM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,l;if(jn(n))a=n;else if(typeof n=="function")return;if(jn(r))l=r;else if(typeof r=="function")return;var c=[a,l];if(Yl(c))return c}}function YW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Yl(r))return EO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,l]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if($e(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&tI.test(a)){var h=tI.exec(a);if(h==null||e==null)c=void 0;else{var f=+h[1];c=e[0]-f}}else c=e==null?void 0:e[0];if(l==="auto")e!=null&&(d=Math.max(...e));else if($e(l))d=l;else if(typeof l=="function")try{e!=null&&(d=l(e==null?void 0:e[1]))}catch{}else if(typeof l=="string"&&nI.test(l)){var p=nI.exec(l);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var v=[c,d];if(Yl(v))return e==null?v:EO(v,e,n)}}}var nd=1e9,WW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W_,an=!0,ka="[DecimalError] ",nc=ka+"Invalid argument: ",Y_=ka+"Exponent out of range: ",rd=Math.floor,Ho=Math.pow,XW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,la,tr=1e7,Jt=7,WM=9007199254740991,Qg=rd(WM/Jt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,a,l=this;if(t=new l.constructor(t),l.s!==t.s)return l.s||-t.s;if(l.e!==t.e)return l.e>t.e^l.s<0?1:-1;for(r=l.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(l.d[e]!==t.d[e])return l.d[e]>t.d[e]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Rs(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return qt(Rs(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return zn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,a=r.precision,l=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(la))throw Error(ka+"NaN");if(n.s<1)throw Error(ka+(n.s?"NaN":"-Infinity"));return n.eq(la)?new r(0):(an=!1,e=Rs(tf(n,l),tf(t,l),l),an=!0,qt(e,a))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JM(e,t):XM(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(ka+"NaN");return n.s?(an=!1,e=Rs(n,t,0,1).times(t),an=!0,n.minus(e)):qt(new r(n),a)};Me.naturalExponential=Me.exp=function(){return QM(this)};Me.naturalLogarithm=Me.ln=function(){return tf(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XM(e,t):JM(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=zn(a)+1,r=a.d.length-1,n=r*Jt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,a,l,c,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(ka+"NaN")}for(t=zn(d),an=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Ui(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=rd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=c=n+3;;)if(l=r,r=l.plus(Rs(d,l,c+2)).times(.5),Ui(l.d).slice(0,c)===(e=Ui(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(qt(l,n+1,0),l.times(l).eq(d)){r=l;break}}else if(e!="9999")break;c+=4}return an=!0,qt(r,n)};Me.times=Me.mul=function(t){var e,n,r,a,l,c,d,h,f,p=this,g=p.constructor,v=p.d,N=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,h=v.length,f=N.length,h<f&&(l=v,v=N,N=l,c=h,h=f,f=c),l=[],c=h+f,r=c;r--;)l.push(0);for(r=f;--r>=0;){for(e=0,a=h+r;a>r;)d=l[a]+N[r]*v[a-r-1]+e,l[a--]=d%tr|0,e=d/tr|0;l[a]=(l[a]+e)%tr|0}for(;!l[--c];)l.pop();return e?++n:l.shift(),t.d=l,t.e=n,an?qt(t,g.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ji(t,0,nd),e===void 0?e=r.rounding:Ji(e,0,8),qt(n,t+zn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=lc(r,!0):(Ji(t,0,nd),e===void 0?e=a.rounding:Ji(e,0,8),r=qt(new a(r),t+1,e),n=lc(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,a=this,l=a.constructor;return t===void 0?lc(a):(Ji(t,0,nd),e===void 0?e=l.rounding:Ji(e,0,8),r=qt(new l(a),t+zn(a)+1,e),n=lc(r.abs(),!1,t+zn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return qt(new e(t),zn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,a,l,c,d=this,h=d.constructor,f=12,p=+(t=new h(t));if(!t.s)return new h(la);if(d=new h(d),!d.s){if(t.s<1)throw Error(ka+"Infinity");return d}if(d.eq(la))return d;if(r=h.precision,t.eq(la))return qt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,l=d.s,c){if((n=p<0?-p:p)<=WM){for(a=new h(la),e=Math.ceil(r/Jt+4),an=!1;n%2&&(a=a.times(d),AO(a.d,e)),n=rd(n/2),n!==0;)d=d.times(d),AO(d.d,e);return an=!0,t.s<0?new h(la).div(a):qt(a,r)}}else if(l<0)throw Error(ka+"NaN");return l=l<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,an=!1,a=t.times(tf(d,r+f)),an=!0,a=QM(a),a.s=l,a};Me.toPrecision=function(t,e){var n,r,a=this,l=a.constructor;return t===void 0?(n=zn(a),r=lc(a,n<=l.toExpNeg||n>=l.toExpPos)):(Ji(t,1,nd),e===void 0?e=l.rounding:Ji(e,0,8),a=qt(new l(a),t,e),n=zn(a),r=lc(a,t<=n||n<=l.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ji(t,1,nd),e===void 0?e=r.rounding:Ji(e,0,8)),qt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return lc(t,e<=n.toExpNeg||e>=n.toExpPos)};function XM(t,e){var n,r,a,l,c,d,h,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),an?qt(e,g):e;if(h=t.d,f=e.d,c=t.e,a=e.e,h=h.slice(),l=c-a,l){for(l<0?(r=h,l=-l,d=f.length):(r=f,a=c,d=h.length),c=Math.ceil(g/Jt),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=h.length,l=f.length,d-l<0&&(l=d,r=f,f=h,h=r),n=0;l;)n=(h[--l]=h[l]+f[l]+n)/tr|0,h[l]%=tr;for(n&&(h.unshift(n),++a),d=h.length;h[--d]==0;)h.pop();return e.d=h,e.e=a,an?qt(e,g):e}function Ji(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function Ui(t){var e,n,r,a=t.length-1,l="",c=t[0];if(a>0){for(l+=c,e=1;e<a;e++)r=t[e]+"",n=Jt-r.length,n&&(l+=Rl(n)),l+=r;c=t[e],r=c+"",n=Jt-r.length,n&&(l+=Rl(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Rs=(function(){function t(r,a){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*a+c,r[d]=l%tr|0,c=l/tr|0;return c&&r.unshift(c),r}function e(r,a,l,c){var d,h;if(l!=c)h=l>c?1:-1;else for(d=h=0;d<l;d++)if(r[d]!=a[d]){h=r[d]>a[d]?1:-1;break}return h}function n(r,a,l){for(var c=0;l--;)r[l]-=c,c=r[l]<a[l]?1:0,r[l]=c*tr+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,c){var d,h,f,p,g,v,N,_,j,E,I,R,M,T,C,L,P,V,$=r.constructor,A=r.s==a.s?1:-1,D=r.d,F=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(ka+"Division by zero");for(h=r.e-a.e,P=F.length,C=D.length,N=new $(A),_=N.d=[],f=0;F[f]==(D[f]||0);)++f;if(F[f]>(D[f]||0)&&--h,l==null?R=l=$.precision:c?R=l+(zn(r)-zn(a))+1:R=l,R<0)return new $(0);if(R=R/Jt+2|0,f=0,P==1)for(p=0,F=F[0],R++;(f<C||p)&&R--;f++)M=p*tr+(D[f]||0),_[f]=M/F|0,p=M%F|0;else{for(p=tr/(F[0]+1)|0,p>1&&(F=t(F,p),D=t(D,p),P=F.length,C=D.length),T=P,j=D.slice(0,P),E=j.length;E<P;)j[E++]=0;V=F.slice(),V.unshift(0),L=F[0],F[1]>=tr/2&&++L;do p=0,d=e(F,j,P,E),d<0?(I=j[0],P!=E&&(I=I*tr+(j[1]||0)),p=I/L|0,p>1?(p>=tr&&(p=tr-1),g=t(F,p),v=g.length,E=j.length,d=e(g,j,v,E),d==1&&(p--,n(g,P<v?V:F,v))):(p==0&&(d=p=1),g=F.slice()),v=g.length,v<E&&g.unshift(0),n(j,g,E),d==-1&&(E=j.length,d=e(F,j,P,E),d<1&&(p++,n(j,P<E?V:F,E))),E=j.length):d===0&&(p++,j=[0]),_[f++]=p,d&&j[0]?j[E++]=D[T]||0:(j=[D[T]],E=1);while((T++<C||j[0]!==void 0)&&R--)}return _[0]||_.shift(),N.e=h,qt(N,c?l+zn(N)+1:l)}})();function QM(t,e){var n,r,a,l,c,d,h=0,f=0,p=t.constructor,g=p.precision;if(zn(t)>16)throw Error(Y_+zn(t));if(!t.s)return new p(la);for(an=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),f+=5;for(r=Math.log(Ho(2,f))/Math.LN10*2+5|0,d+=r,n=a=l=new p(la),p.precision=d;;){if(a=qt(a.times(t),d),n=n.times(++h),c=l.plus(Rs(a,n,d)),Ui(c.d).slice(0,d)===Ui(l.d).slice(0,d)){for(;f--;)l=qt(l.times(l),d);return p.precision=g,e==null?(an=!0,qt(l,g)):l}l=c}}function zn(t){for(var e=t.e*Jt,n=t.d[0];n>=10;n/=10)e++;return e}function Sw(t,e,n){if(e>t.LN10.sd())throw an=!0,n&&(t.precision=n),Error(ka+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Rl(t){for(var e="";t--;)e+="0";return e}function tf(t,e){var n,r,a,l,c,d,h,f,p,g=1,v=10,N=t,_=N.d,j=N.constructor,E=j.precision;if(N.s<1)throw Error(ka+(N.s?"NaN":"-Infinity"));if(N.eq(la))return new j(0);if(e==null?(an=!1,f=E):f=e,N.eq(10))return e==null&&(an=!0),Sw(j,f);if(f+=v,j.precision=f,n=Ui(_),r=n.charAt(0),l=zn(N),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)N=N.times(t),n=Ui(N.d),r=n.charAt(0),g++;l=zn(N),r>1?(N=new j("0."+n),l++):N=new j(r+"."+n.slice(1))}else return h=Sw(j,f+2,E).times(l+""),N=tf(new j(r+"."+n.slice(1)),f-v).plus(h),j.precision=E,e==null?(an=!0,qt(N,E)):N;for(d=c=N=Rs(N.minus(la),N.plus(la),f),p=qt(N.times(N),f),a=3;;){if(c=qt(c.times(p),f),h=d.plus(Rs(c,new j(a),f)),Ui(h.d).slice(0,f)===Ui(d.d).slice(0,f))return d=d.times(2),l!==0&&(d=d.plus(Sw(j,f+2,E).times(l+""))),d=Rs(d,new j(g),f),j.precision=E,e==null?(an=!0,qt(d,E)):d;d=h,a+=2}}function SO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=rd(n/Jt),t.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Jt;r<a;)t.d.push(+e.slice(r,r+=Jt));e=e.slice(r),r=Jt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),an&&(t.e>Qg||t.e<-Qg))throw Error(Y_+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,a,l,c,d,h,f,p,g=t.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=e-c,r<0)r+=Jt,a=e,f=g[p=0];else{if(p=Math.ceil((r+1)/Jt),l=g.length,p>=l)return t;for(f=l=g[p],c=1;l>=10;l/=10)c++;r%=Jt,a=r-Jt+c}if(n!==void 0&&(l=Ho(10,c-a-1),d=f/l%10|0,h=e<0||g[p+1]!==void 0||f%l,h=n<4?(d||h)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||h||n==6&&(r>0?a>0?f/Ho(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return h?(l=zn(t),g.length=1,e=e-l-1,g[0]=Ho(10,(Jt-e%Jt)%Jt),t.e=rd(-e/Jt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,l=1,p--):(g.length=p+1,l=Ho(10,Jt-r),g[p]=a>0?(f/Ho(10,c-a)%Ho(10,a)|0)*l:0),h)for(;;)if(p==0){(g[0]+=l)==tr&&(g[0]=1,++t.e);break}else{if(g[p]+=l,g[p]!=tr)break;g[p--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(an&&(t.e>Qg||t.e<-Qg))throw Error(Y_+zn(t));return t}function JM(t,e){var n,r,a,l,c,d,h,f,p,g,v=t.constructor,N=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),an?qt(e,N):e;if(h=t.d,g=e.d,r=e.e,f=t.e,h=h.slice(),c=f-r,c){for(p=c<0,p?(n=h,c=-c,d=g.length):(n=g,r=f,d=h.length),a=Math.max(Math.ceil(N/Jt),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=h.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(h[a]!=g[a]){p=h[a]<g[a];break}c=0}for(p&&(n=h,h=g,g=n,e.s=-e.s),d=h.length,a=g.length-d;a>0;--a)h[d++]=0;for(a=g.length;a>c;){if(h[--a]<g[a]){for(l=a;l&&h[--l]===0;)h[l]=tr-1;--h[l],h[a]+=tr}h[a]-=g[a]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,an?qt(e,N):e):new v(0)}function lc(t,e,n){var r,a=zn(t),l=Ui(t.d),c=l.length;return e?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Rl(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Rl(-a-1)+l,n&&(r=n-c)>0&&(l+=Rl(r))):a>=c?(l+=Rl(a+1-c),n&&(r=n-a-1)>0&&(l=l+"."+Rl(r))):((r=a+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(l+="."),l+=Rl(r))),t.s<0?"-"+l:l}function AO(t,e){if(t.length>e)return t.length=e,!0}function ZM(t){var e,n,r;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(nc+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return SO(c,l.toString())}else if(typeof l!="string")throw Error(nc+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,XW.test(l))SO(c,l);else throw Error(nc+l)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZM,a.config=a.set=QW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function QW(t){if(!t||typeof t!="object")throw Error(ka+"Object expected");var e,n,r,a=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(rd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var W_=ZM(WW);la=new W_(1);const Dt=W_;var JW=t=>t,e5={},t5=t=>t===e5,TO=t=>function e(){return arguments.length===0||arguments.length===1&&t5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},n5=(t,e)=>t===1?e:TO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=r.filter(c=>c!==e5).length;return l>=t?e(...r):n5(t-l,TO(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var f=r.map(p=>t5(p)?d.shift():p);return e(...f,...d)}))}),ZW=t=>n5(t.length,t),J1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},eX=ZW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),tX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return JW;var a=n.reverse(),l=a[0],c=a.slice(1);return function(){return c.reduce((d,h)=>h(d),l(...arguments))}},Z1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function r5(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function a5(t,e,n){for(var r=new Dt(t),a=0,l=[];r.lt(e)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}var i5=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},s5=(t,e,n)=>{if(t.lte(0))return new Dt(0);var r=r5(t.toNumber()),a=new Dt(10).pow(r),l=t.div(a),c=r!==1?.05:.1,d=new Dt(Math.ceil(l.div(c).toNumber())).add(n).mul(c),h=d.mul(a);return e?new Dt(h.toNumber()):new Dt(Math.ceil(h.toNumber()))},nX=(t,e,n)=>{var r=new Dt(1),a=new Dt(t);if(!a.isint()&&n){var l=Math.abs(t);l<1?(r=new Dt(10).pow(r5(t)-1),a=new Dt(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new Dt(Math.floor(t)))}else t===0?a=new Dt(Math.floor((e-1)/2)):n||(a=new Dt(Math.floor(t)));var c=Math.floor((e-1)/2),d=tX(eX(h=>a.add(new Dt(h-c).mul(r)).toNumber()),J1);return d(0,e)},l5=function(e,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=s5(new Dt(n).sub(e).div(r-1),a,l),d;e<=0&&n>=0?d=new Dt(0):(d=new Dt(e).add(n).div(2),d=d.sub(new Dt(d).mod(c)));var h=Math.ceil(d.sub(e).div(c).toNumber()),f=Math.ceil(new Dt(n).sub(d).div(c).toNumber()),p=h+f+1;return p>r?l5(e,n,r,a,l+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:c,tickMin:d.sub(new Dt(h).mul(c)),tickMax:d.add(new Dt(f).mul(c))})},rX=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,h]=i5([n,r]);if(d===-1/0||h===1/0){var f=h===1/0?[d,...J1(0,a-1).map(()=>1/0)]:[...J1(0,a-1).map(()=>-1/0),h];return n>r?Z1(f):f}if(d===h)return nX(d,a,l);var{step:p,tickMin:g,tickMax:v}=l5(d,h,c,l,0),N=a5(g,v.add(new Dt(.1).mul(p)),p);return n>r?Z1(N):N},aX=function(e,n){var[r,a]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=i5([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var h=Math.max(n,2),f=s5(new Dt(d).sub(c).div(h-1),l,0),p=[...a5(new Dt(c),new Dt(d),f),d];return l===!1&&(p=p.map(g=>Math.round(g))),r>a?Z1(p):p},o5=t=>t.rootProps.maxBarSize,iX=t=>t.rootProps.barGap,c5=t=>t.rootProps.barCategoryGap,sX=t=>t.rootProps.barSize,Tf=t=>t.rootProps.stackOffset,u5=t=>t.rootProps.reverseStackOrder,X_=t=>t.options.chartName,Q_=t=>t.rootProps.syncId,d5=t=>t.rootProps.syncMethod,J_=t=>t.options.eventEmitter,gr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},p0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},lX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:Es.reversed,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:Es.type,unit:void 0},oX={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:sa.type,unit:void 0},cX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uX={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:"category",unit:void 0},Z_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?cX:lX,ej=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?uX:oX,g0=t=>t.polarOptions,tj=oe([Ws,Xs,Gn],cM),h5=oe([g0,tj],(t,e)=>{if(t!=null)return jr(t.innerRadius,e,0)}),f5=oe([g0,tj],(t,e)=>{if(t!=null)return jr(t.outerRadius,e,e*.8)}),dX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},m5=oe([g0],dX);oe([Z_,m5],p0);var p5=oe([tj,h5,f5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([ej,p5],p0);var g5=oe([_t,g0,h5,f5,Ws,Xs],(t,e,n,r,a,l)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:h,endAngle:f}=e;return{cx:jr(c,a,a/2),cy:jr(d,l,l/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),on=(t,e)=>e,Cf=(t,e,n)=>n;function nj(t){return t==null?void 0:t.id}function y5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:l}=n,c=new Map;return t.forEach(d=>{var h,f=(h=d.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var p=nj(d);f.forEach((g,v)=>{var N=l==null||a?v:String(rn(g,l,null)),_=rn(g,d.dataKey,0),j;c.has(N)?j=c.get(N):j={},Object.assign(j,{[p]:_}),c.set(N,j)})}}),Array.from(c.values())}function y0(t){return t.stackId!=null&&t.dataKey!=null}var x0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function v0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function hX(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Yn=t=>{var e=_t(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ad=t=>t.tooltip.settings.axisId;function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){fX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fX(t,e,n){return(e=mX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=pX(t,"string");return typeof e=="symbol"?e:e+""}function pX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eN=[0,"auto"],Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},x5=(t,e)=>t.cartesianAxis.xAxis[e],Js=(t,e)=>{var n=x5(t,e);return n??Zn},er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:eN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nf},v5=(t,e)=>t.cartesianAxis.yAxis[e],Zs=(t,e)=>{var n=v5(t,e);return n??er},gX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??gX},hn=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);case"zAxis":return rj(t,n);case"angleAxis":return Z_(t,n);case"radiusAxis":return ej(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yX=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},If=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);case"angleAxis":return Z_(t,n);case"radiusAxis":return ej(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},b5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ij=t=>t.graphicalItems.cartesianItems,xX=oe([on,Cf],aj),sj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Of=oe([ij,hn,xX],sj,{memoizeOptions:{resultEqualityCheck:v0}}),w5=oe([Of],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(y0)),N5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),vX=oe([Of],N5),lj=t=>t.map(e=>e.data).filter(Boolean).flat(1),bX=oe([Of],lj,{memoizeOptions:{resultEqualityCheck:v0}}),oj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},cj=oe([bX,K_],oj),uj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:rn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:rn(a,r)}))):t.map(r=>({value:r})),b0=oe([cj,hn,Of],uj);function _5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ig(t){if(Wi(t)||t instanceof Date){var e=Number(t);if(jn(e))return e}}function IO(t){if(Array.isArray(t)){var e=[ig(t[0]),ig(t[1])];return Yl(e)?e:void 0}var n=ig(t);if(n!=null)return[n,n]}function $s(t){return t.map(ig).filter(L$)}function wX(t,e,n){return!n||typeof e!="number"||li(e)?[]:n.length?$s(n.flatMap(r=>{var a=rn(t,r.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!jn(l)||!jn(c)))return[e-l,e+c]})):[]}var Wn=t=>{var e=Yn(t),n=ad(t);return If(t,e,n)},Df=oe([Wn],t=>t==null?void 0:t.dataKey),NX=oe([w5,K_,Wn],y5),j5=(t,e,n,r)=>{var a={},l=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(l).map(c=>{var[d,h]=c,f=r?[...h].reverse():h,p=f.map(nj);return[d,{stackedData:rH(t,p,n),graphicalItems:f}]}))},tN=oe([NX,w5,Tf,u5],j5),E5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:l}=e;if(r==null&&n!=="zAxis"){var c=oH(t,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},_X=oe([hn],t=>t.allowDataOverflow),dj=t=>{var e;if(t==null||!("domain"in t))return eN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=$s(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:eN},hj=oe([hn],dj),fj=oe([hj,_X],YM),jX=oe([tN,so,on,fj],E5,{memoizeOptions:{resultEqualityCheck:x0}}),w0=t=>t.errorBars,EX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>_5(n,r)),Zg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},mj=(t,e,n,r,a)=>{var l,c;if(n.length>0&&t.forEach(d=>{n.forEach(h=>{var f,p,g=(f=r[h.id])===null||f===void 0?void 0:f.filter(I=>_5(a,I)),v=rn(d,(p=e.dataKey)!==null&&p!==void 0?p:h.dataKey),N=wX(d,v,g);if(N.length>=2){var _=Math.min(...N),j=Math.max(...N);(l==null||_<l)&&(l=_),(c==null||j>c)&&(c=j)}var E=IO(v);E!=null&&(l=l==null?E[0]:Math.min(l,E[0]),c=c==null?E[1]:Math.max(c,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var h=IO(rn(d,e.dataKey));h!=null&&(l=l==null?h[0]:Math.min(l,h[0]),c=c==null?h[1]:Math.max(c,h[1]))}),jn(l)&&jn(c))return[l,c]},SX=oe([cj,hn,vX,w0,on],mj,{memoizeOptions:{resultEqualityCheck:x0}});function AX(t){var{value:e}=t;if(Wi(e)||e instanceof Date)return e}var TX=(t,e,n)=>{var r=t.map(AX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&FP(r))?fM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},S5=t=>t.referenceElements.dots,id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),CX=oe([S5,on,Cf],id),A5=t=>t.referenceElements.areas,IX=oe([A5,on,Cf],id),T5=t=>t.referenceElements.lines,OX=oe([T5,on,Cf],id),C5=(t,e)=>{var n=$s(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},DX=oe(CX,on,C5),I5=(t,e)=>{var n=$s(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},RX=oe([IX,on],I5);function PX(t){var e;if(t.x!=null)return $s([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function kX(t){var e;if(t.y!=null)return $s([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var O5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?PX(r):kX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},MX=oe([OX,on],O5),LX=oe(DX,MX,RX,(t,e,n)=>Zg(t,n,e)),pj=(t,e,n,r,a,l,c,d)=>{if(n!=null)return n;var h=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",f=h?Zg(r,l,a):Zg(l,a);return YW(e,f,t.allowDataOverflow)},UX=oe([hn,hj,fj,jX,SX,LX,_t,on],pj,{memoizeOptions:{resultEqualityCheck:x0}}),VX=[0,1],gj=(t,e,n,r,a,l,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:h}=t,f=yc(e,l);if(f&&d==null){var p;return fM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return h==="category"?TX(r,t,f):a==="expand"?VX:c}},yj=oe([hn,_t,cj,b0,Tf,on,UX],gj),D5=(t,e,n,r,a)=>{if(t!=null){var{scale:l,type:c}=t;if(l==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(yf(l));return d in Th?d:"point"}}},sd=oe([hn,_t,b5,X_,on],D5);function zX(t){if(t!=null){if(t in Th)return Th[t]();var e="scale".concat(yf(t));if(e in Th)return Th[e]()}}function xj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=zX(e);if(a!=null){var l=a.domain(n).range(r);return Jq(l),l}}}var vj=(t,e,n)=>{var r=dj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yl(t))return rX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Yl(t))return aX(t,e.tickCount,e.allowDecimals)}},bj=oe([yj,If,sd],vj),wj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Yl(e)&&Array.isArray(n)&&n.length>0){var a=e[0],l=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,l),Math.max(c,d)]}return e},FX=oe([hn,yj,bj,on],wj),$X=oe(b0,hn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from($s(t.map(d=>d.value))).sort((d,h)=>d-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];n=Math.min(n,c)}return n/a}}),R5=oe($X,_t,c5,Gn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!jn(t))return 0;var l=e==="vertical"?r.height:r.width;if(a==="gap")return t*l/2;if(a==="no-gap"){var c=jr(n,t*l),d=t*l/2;return d-c-(d-c)/l*c}return 0}),BX=(t,e)=>{var n=Js(t,e);return n==null||typeof n.padding!="string"?0:R5(t,"xAxis",e,n.padding)},qX=(t,e)=>{var n=Zs(t,e);return n==null||typeof n.padding!="string"?0:R5(t,"yAxis",e,n.padding)},HX=oe(Js,BX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),GX=oe(Zs,qX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),KX=oe([Gn,HX,e0,Zy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[t.left+e.left,t.left+t.width-e.right]}),YX=oe([Gn,_t,GX,e0,Zy,(t,e,n)=>n],(t,e,n,r,a,l)=>{var{padding:c}=a;return l?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Rf=(t,e,n,r)=>{var a;switch(e){case"xAxis":return KX(t,n,r);case"yAxis":return YX(t,n,r);case"zAxis":return(a=rj(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return m5(t);case"radiusAxis":return p5(t,n);default:return}},P5=oe([hn,Rf],p0),ld=oe([hn,sd,FX,P5],xj);oe([Of,w0,on],EX);function k5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var N0=(t,e)=>e,_0=(t,e,n)=>n,WX=oe(Qy,N0,_0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(k5)),XX=oe(Jy,N0,_0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(k5)),M5=(t,e)=>({width:t.width,height:e.height}),QX=(t,e)=>{var n=typeof e.width=="number"?e.width:Nf;return{width:n,height:t.height}},L5=oe(Gn,Js,M5),JX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},ZX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},eQ=oe(Xs,Gn,WX,N0,_0,(t,e,n,r,a)=>{var l={},c;return n.forEach(d=>{var h=M5(e,d);c==null&&(c=JX(e,r,t));var f=r==="top"&&!a||r==="bottom"&&a;l[d.id]=c-Number(f)*h.height,c+=(f?-1:1)*h.height}),l}),tQ=oe(Ws,Gn,XX,N0,_0,(t,e,n,r,a)=>{var l={},c;return n.forEach(d=>{var h=QX(e,d);c==null&&(c=ZX(e,r,t));var f=r==="left"&&!a||r==="right"&&a;l[d.id]=c-Number(f)*h.width,c+=(f?-1:1)*h.width}),l}),nQ=(t,e)=>{var n=Js(t,e);if(n!=null)return eQ(t,n.orientation,n.mirror)},rQ=oe([Gn,Js,nQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),aQ=(t,e)=>{var n=Zs(t,e);if(n!=null)return tQ(t,n.orientation,n.mirror)},iQ=oe([Gn,Zs,aQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),U5=oe(Gn,Zs,(t,e)=>{var n=typeof e.width=="number"?e.width:Nf;return{width:n,height:t.height}}),OO=(t,e,n)=>{switch(e){case"xAxis":return L5(t,n).width;case"yAxis":return U5(t,n).height;default:return}},V5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=n,d=yc(t,r),h=e.map(f=>f.value);if(c&&d&&l==="category"&&a&&FP(h))return h}},Nj=oe([_t,b0,hn,on],V5),z5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,c=yc(t,r);if(c&&(a==="number"||l!=="auto"))return e.map(d=>d.value)}},_j=oe([_t,b0,If,on],z5),DO=oe([_t,yX,sd,ld,Nj,_j,Rf,bj,on],(t,e,n,r,a,l,c,d,h)=>{if(e!=null){var f=yc(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:l,duplicateDomain:a,isCategorical:f,niceTicks:d,range:c,realScaleType:n,scale:r}}}),sQ=(t,e,n,r,a,l,c,d,h)=>{if(!(e==null||r==null)){var f=yc(t,h),{type:p,ticks:g,tickCount:v}=e,N=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=p==="category"&&r.bandwidth?r.bandwidth()/N:0;_=h==="angleAxis"&&l!=null&&l.length>=2?rr(l[0]-l[1])*2*_:_;var j=g||a;if(j){var E=j.map((I,R)=>{var M=c?c.indexOf(I):I;return{index:R,coordinate:r(M)+_,value:I,offset:_}});return E.filter(I=>jn(I.coordinate))}return f&&d?d.map((I,R)=>({coordinate:r(I)+_,value:I,index:R,offset:_})).filter(I=>jn(I.coordinate)):r.ticks?r.ticks(v).map(I=>({coordinate:r(I)+_,value:I,offset:_})):r.domain().map((I,R)=>({coordinate:r(I)+_,value:c?c[I]:I,index:R,offset:_}))}},F5=oe([_t,If,sd,ld,bj,Rf,Nj,_j,on],sQ),lQ=(t,e,n,r,a,l,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=yc(t,c),{tickCount:h}=e,f=0;return f=c==="angleAxis"&&(r==null?void 0:r.length)>=2?rr(r[0]-r[1])*2*f:f,d&&l?l.map((p,g)=>({coordinate:n(p)+f,value:p,index:g,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,g)=>({coordinate:n(p)+f,value:a?a[p]:p,index:g,offset:f}))}},Bu=oe([_t,If,ld,Rf,Nj,_j,on],lQ),qu=oe(hn,ld,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})}),oQ=oe([hn,sd,yj,P5],xj);oe((t,e,n)=>rj(t,n),oQ,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})});var cQ=oe([_t,Qy,Jy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$5=t=>t.options.defaultTooltipEventType,B5=t=>t.options.validateTooltipEventTypes;function q5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function jj(t,e){var n=$5(t),r=B5(t);return q5(e,n,r)}function uQ(t){return Be(e=>jj(e,t))}var H5=(t,e)=>{var n,r=Number(e);if(!(li(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},dQ=t=>t.tooltip.settings,kl={active:!1,index:null,dataKey:void 0,coordinate:void 0},hQ={itemInteraction:{click:kl,hover:kl},axisInteraction:{click:kl,hover:kl},keyboardInteraction:kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},G5=Wr({name:"tooltip",initialState:hQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:nn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:nn()},removeTooltipEntrySettings:{reducer(t,e){var n=ii(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:nn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:fQ,replaceTooltipEntrySettings:mQ,removeTooltipEntrySettings:pQ,setTooltipSettingsState:gQ,setActiveMouseOverItemIndex:K5,mouseLeaveItem:yQ,mouseLeaveChart:Y5,setActiveClickItemIndex:xQ,setMouseOverAxisIndex:W5,setMouseClickAxisIndex:vQ,setSyncInteraction:nN,setKeyboardInteraction:rN}=G5.actions,bQ=G5.reducer;function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return(e=NQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=_Q(t,"string");return typeof e=="symbol"?e:e+""}function _Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function EQ(t){return t.index!=null}var X5=(t,e,n,r)=>{if(e==null)return kl;var a=jQ(t,e,n);if(a==null)return kl;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var l=t.settings.active===!0;if(EQ(a)){if(l)return Vp(Vp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Vp(Vp({},kl),{},{coordinate:a.coordinate})};function SQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function AQ(t,e){var n=SQ(t),r=e[0],a=e[1];if(n===void 0)return!1;var l=Math.min(r,a),c=Math.max(r,a);return n>=l&&n<=c}function TQ(t,e,n){if(n==null||e==null)return!0;var r=rn(t,e);return r==null||!Yl(n)?!0:AQ(r,n)}var Ej=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var l=Number(a);if(!jn(l))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var h=Math.max(c,Math.min(l,d)),f=e[h];return f==null||TQ(f,n,r)?String(h):null},Q5=(t,e,n,r,a,l,c,d)=>{if(!(l==null||d==null)){var h=c[0],f=h==null?void 0:d(h.positions,l);if(f!=null)return f;var p=a==null?void 0:a[Number(l)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},J5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===a})},Pf=t=>t.options.tooltipPayloadSearcher,od=t=>t.tooltip;function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){CQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CQ(t,e,n){return(e=IQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IQ(t){var e=OQ(t,"string");return typeof e=="symbol"?e:e+""}function OQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DQ(t,e){return t??e}var Z5=(t,e,n,r,a,l,c)=>{if(!(e==null||l==null)){var{chartData:d,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,g=[];return t.reduce((v,N)=>{var _,{dataDefinedOnItem:j,settings:E}=N,I=DQ(j,d),R=Array.isArray(I)?Rk(I,f,p):I,M=(_=E==null?void 0:E.dataKey)!==null&&_!==void 0?_:r,T=E==null?void 0:E.nameKey,C;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&c==="axis"?C=M$(R,r,a):C=l(R,e,h,T),Array.isArray(C))C.forEach(P=>{var V=kO(kO({},E),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(rI({tooltipEntrySettings:V,dataKey:P.dataKey,payload:P.payload,value:rn(P.payload,P.dataKey),name:P.name}))});else{var L;v.push(rI({tooltipEntrySettings:E,dataKey:M,payload:C,value:rn(C,M),name:(L=rn(C,T))!==null&&L!==void 0?L:E==null?void 0:E.name}))}return v},g)}},Sj=oe([Wn,_t,b5,X_,Yn],D5),RQ=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),PQ=oe([Yn,ad],aj),kf=oe([RQ,Wn,PQ],sj,{memoizeOptions:{resultEqualityCheck:v0}}),kQ=oe([kf],t=>t.filter(y0)),MQ=oe([kf],lj,{memoizeOptions:{resultEqualityCheck:v0}}),cd=oe([MQ,so],oj),LQ=oe([kQ,so,Wn],y5),Aj=oe([cd,Wn,kf],uj),e6=oe([Wn],dj),UQ=oe([Wn],t=>t.allowDataOverflow),t6=oe([e6,UQ],YM),VQ=oe([kf],t=>t.filter(y0)),zQ=oe([LQ,VQ,Tf,u5],j5),FQ=oe([zQ,so,Yn,t6],E5),$Q=oe([kf],N5),BQ=oe([cd,Wn,$Q,w0,Yn],mj,{memoizeOptions:{resultEqualityCheck:x0}}),qQ=oe([S5,Yn,ad],id),HQ=oe([qQ,Yn],C5),GQ=oe([A5,Yn,ad],id),KQ=oe([GQ,Yn],I5),YQ=oe([T5,Yn,ad],id),WQ=oe([YQ,Yn],O5),XQ=oe([HQ,WQ,KQ],Zg),QQ=oe([Wn,e6,t6,FQ,BQ,XQ,_t,Yn],pj),Mf=oe([Wn,_t,cd,Aj,Tf,Yn,QQ],gj),JQ=oe([Mf,Wn,Sj],vj),ZQ=oe([Wn,Mf,JQ,Yn],wj),n6=t=>{var e=Yn(t),n=ad(t),r=!1;return Rf(t,e,n,r)},r6=oe([Wn,n6],p0),a6=oe([Wn,Sj,ZQ,r6],xj),eJ=oe([_t,Aj,Wn,Yn],V5),tJ=oe([_t,Aj,Wn,Yn],z5),nJ=(t,e,n,r,a,l,c,d)=>{if(e){var{type:h}=e,f=yc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?rr(a[0]-a[1])*2*g:g,f&&c?c.map((v,N)=>({coordinate:r(v)+g,value:v,index:N,offset:g})):r.domain().map((v,N)=>({coordinate:r(v)+g,value:l?l[v]:v,index:N,offset:g}))}}},el=oe([_t,Wn,Sj,a6,n6,eJ,tJ,Yn],nJ),Tj=oe([$5,B5,dQ],(t,e,n)=>q5(n.shared,t,e)),i6=t=>t.tooltip.settings.trigger,Cj=t=>t.tooltip.settings.defaultIndex,j0=oe([od,Tj,i6,Cj],X5),oc=oe([j0,cd,Df,Mf],Ej),s6=oe([el,oc],H5),l6=oe([j0],t=>{if(t)return t.dataKey}),o6=oe([od,Tj,i6,Cj],J5),rJ=oe([Ws,Xs,_t,Gn,el,Cj,o6,Pf],Q5),aJ=oe([j0,rJ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),iJ=oe([j0],t=>t.active),sJ=oe([o6,oc,so,Df,s6,Pf,Tj],Z5);oe([sJ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=cJ(t,"string");return typeof e=="symbol"?e:e+""}function cJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uJ=()=>Be(Wn),dJ=()=>{var t=uJ(),e=Be(el),n=Be(a6);return Dg(!t||!n?void 0:LO(LO({},t),{},{scale:n}),e)};function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return(e=fJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=mJ(t,"string");return typeof e=="symbol"?e:e+""}function mJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pJ=(t,e,n,r)=>{var a=e.find(l=>l&&l.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},gJ=(t,e,n,r)=>{var a=e.find(f=>f&&f.index===n);if(a){if(t==="centric"){var l=a.coordinate,{radius:c}=r;return mu(mu(mu({},r),Ln(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=a.coordinate,{angle:h}=r;return mu(mu(mu({},r),Ln(r.cx,r.cy,d,h)),{},{angle:h,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yJ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var c6=(t,e,n,r,a)=>{var l,c=-1,d=(l=e==null?void 0:e.length)!==null&&l!==void 0?l:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<d;h++){var f=h>0?n[h-1].coordinate:n[d-1].coordinate,p=n[h].coordinate,g=h>=d-1?n[0].coordinate:n[h+1].coordinate,v=void 0;if(rr(p-f)!==rr(g-p)){var N=[];if(rr(g-p)===rr(a[1]-a[0])){v=g;var _=p+a[1]-a[0];N[0]=Math.min(_,(_+f)/2),N[1]=Math.max(_,(_+f)/2)}else{v=f;var j=g+a[1]-a[0];N[0]=Math.min(p,(j+p)/2),N[1]=Math.max(p,(j+p)/2)}var E=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>E[0]&&t<=E[1]||t>=N[0]&&t<=N[1]){({index:c}=n[h]);break}}else{var I=Math.min(f,g),R=Math.max(f,g);if(t>(I+p)/2&&t<=(R+p)/2){({index:c}=n[h]);break}}}else if(e){for(var M=0;M<d;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<d-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===d-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:c}=e[M]);break}}return c},xJ=()=>Be(X_),Ij=(t,e)=>e,u6=(t,e,n)=>n,Oj=(t,e,n,r)=>r,vJ=oe(el,t=>Fy(t,e=>e.coordinate)),Dj=oe([od,Ij,u6,Oj],X5),Rj=oe([Dj,cd,Df,Mf],Ej),bJ=(t,e,n)=>{if(e!=null){var r=od(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},d6=oe([od,Ij,u6,Oj],J5),ey=oe([Ws,Xs,_t,Gn,el,Oj,d6,Pf],Q5),wJ=oe([Dj,ey],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),h6=oe([el,Rj],H5),NJ=oe([d6,Rj,so,Df,h6,Pf,Ij],Z5),_J=oe([Dj,Rj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),jJ=(t,e,n,r,a,l,c)=>{if(!(!t||!n||!r||!a)&&yJ(t,c)){var d=cH(t,e),h=c6(d,l,a,n,r),f=pJ(e,a,h,t);return{activeIndex:String(h),activeCoordinate:f}}},EJ=(t,e,n,r,a,l,c)=>{if(!(!t||!r||!a||!l||!n)){var d=uK(t,n);if(d){var h=uH(d,e),f=c6(h,c,l,r,a),p=gJ(e,l,f,d);return{activeIndex:String(f),activeCoordinate:p}}}},SJ=(t,e,n,r,a,l,c,d)=>{if(!(!t||!e||!r||!a||!l))return e==="horizontal"||e==="vertical"?jJ(t,e,r,a,l,c,d):EJ(t,e,n,r,a,l,c)},AJ=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),TJ=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(gr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:hX}});function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){CJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CJ(t,e,n){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=OJ(t,"string");return typeof e=="symbol"?e:e+""}function OJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DJ={},RJ={zIndexMap:Object.values(gr).reduce((t,e)=>zO(zO({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),DJ)},PJ=new Set(Object.values(gr));function kJ(t){return PJ.has(t)}var f6=Wr({name:"zIndex",initialState:RJ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:nn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!kJ(n)&&delete t.zIndexMap[n])},prepare:nn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:nn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:nn()}}}),{registerZIndexPortal:MJ,unregisterZIndexPortal:LJ,registerZIndexPortalId:UJ,unregisterZIndexPortalId:VJ}=f6.actions,zJ=f6.reducer;function fi(t){var{zIndex:e,children:n}=t,r=zH(),a=r&&e!==void 0&&e!==0,l=Xr(),c=ln();w.useLayoutEffect(()=>a?(c(MJ({zIndex:e})),()=>{c(LJ({zIndex:e}))}):xf,[c,e,a]);var d=Be(f=>AJ(f,e,l));if(!a)return n;if(!d)return null;var h=document.getElementById(d);return h?rP.createPortal(n,h):null}function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aN.apply(null,arguments)}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=BJ(t,"string");return typeof e=="symbol"?e:e+""}function BJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function HJ(t){var e,{coordinate:n,payload:r,index:a,offset:l,tooltipAxisBandSize:c,layout:d,cursor:h,tooltipEventType:f,chartName:p}=t,g=n,v=r,N=a;if(!h||!g||p!=="ScatterChart"&&f!=="axis")return null;var _,j,E;if(p==="ScatterChart")_=g,j=SG,E=gr.cursorLine;else if(p==="BarChart")_=AG(d,g,l,c),j=oM,E=gr.cursorRectangle;else if(d==="radial"&&qP(g)){var{cx:I,cy:R,radius:M,startAngle:T,endAngle:C}=uM(g);_={cx:I,cy:R,startAngle:T,endAngle:C,innerRadius:M,outerRadius:M},j=hM,E=gr.cursorLine}else _={points:mK(d,g,l)},j=N_,E=gr.cursorLine;var L=typeof h=="object"&&"className"in h?h.className:void 0,P=zp(zp(zp(zp({stroke:"#ccc",pointerEvents:"none"},l),_),$h(h)),{},{payload:v,payloadIndex:N,className:Ft("recharts-tooltip-cursor",L)});return w.createElement(fi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},w.createElement(qJ,{cursor:h,cursorComp:j,cursorProps:P}))}function GJ(t){var e=dJ(),n=qk(),r=n0(),a=xJ();return e==null||n==null||r==null||a==null?null:w.createElement(HJ,aN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var m6=w.createContext(null),KJ=()=>w.useContext(m6),Aw={exports:{}},$O;function YJ(){return $O||($O=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function l(h,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var N=new a(p,g||h,v),_=n?n+f:f;return h._events[_]?h._events[_].fn?h._events[_]=[h._events[_],N]:h._events[_].push(N):(h._events[_]=N,h._eventsCount++),h}function c(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,N=g.length,_=new Array(N);v<N;v++)_[v]=g[v].fn;return _},d.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(f,p,g,v,N,_){var j=n?n+f:f;if(!this._events[j])return!1;var E=this._events[j],I=arguments.length,R,M;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),I){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,v),!0;case 5:return E.fn.call(E.context,p,g,v,N),!0;case 6:return E.fn.call(E.context,p,g,v,N,_),!0}for(M=1,R=new Array(I-1);M<I;M++)R[M-1]=arguments[M];E.fn.apply(E.context,R)}else{var T=E.length,C;for(M=0;M<T;M++)switch(E[M].once&&this.removeListener(f,E[M].fn,void 0,!0),I){case 1:E[M].fn.call(E[M].context);break;case 2:E[M].fn.call(E[M].context,p);break;case 3:E[M].fn.call(E[M].context,p,g);break;case 4:E[M].fn.call(E[M].context,p,g,v);break;default:if(!R)for(C=1,R=new Array(I-1);C<I;C++)R[C-1]=arguments[C];E[M].fn.apply(E[M].context,R)}}return!0},d.prototype.on=function(f,p,g){return l(this,f,p,g,!1)},d.prototype.once=function(f,p,g){return l(this,f,p,g,!0)},d.prototype.removeListener=function(f,p,g,v){var N=n?n+f:f;if(!this._events[N])return this;if(!p)return c(this,N),this;var _=this._events[N];if(_.fn)_.fn===p&&(!v||_.once)&&(!g||_.context===g)&&c(this,N);else{for(var j=0,E=[],I=_.length;j<I;j++)(_[j].fn!==p||v&&!_[j].once||g&&_[j].context!==g)&&E.push(_[j]);E.length?this._events[N]=E.length===1?E[0]:E:c(this,N)}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(Aw)),Aw.exports}var WJ=YJ();const XJ=ts(WJ);var nf=new XJ,iN="recharts.syncEvent.tooltip",BO="recharts.syncEvent.brush";function p6(t,e){if(e){var n=Number.parseInt(e,10);if(!li(n))return t==null?void 0:t[n]}}var QJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},g6=Wr({name:"options",initialState:QJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),JJ=g6.reducer,{createEventEmitter:ZJ}=g6.actions;function eZ(t){return t.tooltip.syncInteraction}var tZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},y6=Wr({name:"chartData",initialState:tZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:qO,setDataStartEndIndexes:nZ,setComputedData:Jge}=y6.actions,rZ=y6.reducer,aZ=["x","y"];function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iZ(t,e,n){return(e=sZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sZ(t){var e=lZ(t,"string");return typeof e=="symbol"?e:e+""}function lZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oZ(t,e){if(t==null)return{};var n,r,a=cZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uZ(){var t=Be(Q_),e=Be(J_),n=ln(),r=Be(d5),a=Be(el),l=n0(),c=t0(),d=Be(h=>h.rootProps.className);w.useEffect(()=>{if(t==null)return xf;var h=(f,p,g)=>{if(e!==g&&t===f){if(r==="index"){var v;if(c&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var N=p.payload.coordinate,{x:_,y:j}=N,E=oZ(N,aZ),{x:I,y:R,width:M,height:T}=p.payload.sourceViewBox,C=pu(pu({},E),{},{x:c.x+(M?(_-I)/M:0)*c.width,y:c.y+(T?(j-R)/T:0)*c.height});n(pu(pu({},p),{},{payload:pu(pu({},p.payload),{},{coordinate:C})}))}else n(p);return}if(a!=null){var L;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},V=r(a,P);L=a[V]}else r==="value"&&(L=a.find(G=>String(G.value)===p.payload.label));var{coordinate:$}=p.payload;if(L==null||p.payload.active===!1||$==null||c==null){n(nN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:A,y:D}=$,F=Math.min(A,c.x+c.width),U=Math.min(D,c.y+c.height),ue={x:l==="horizontal"?L.coordinate:F,y:l==="horizontal"?U:L.coordinate},ne=nN({active:p.payload.active,coordinate:ue,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(ne)}}};return nf.on(iN,h),()=>{nf.off(iN,h)}},[d,n,e,t,r,a,l,c])}function dZ(){var t=Be(Q_),e=Be(J_),n=ln();w.useEffect(()=>{if(t==null)return xf;var r=(a,l,c)=>{e!==c&&t===a&&n(nZ(l))};return nf.on(BO,r),()=>{nf.off(BO,r)}},[n,e,t])}function hZ(){var t=ln();w.useEffect(()=>{t(ZJ())},[t]),uZ(),dZ()}function fZ(t,e,n,r,a,l){var c=Be(N=>bJ(N,t,e)),d=Be(J_),h=Be(Q_),f=Be(d5),p=Be(eZ),g=p==null?void 0:p.active,v=t0();w.useEffect(()=>{if(!g&&h!=null&&d!=null){var N=nN({active:l,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:v});nf.emit(iN,h,N,d)}},[g,n,c,a,r,d,h,f,l,v])}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yZ(t){return t.dataKey}function xZ(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(aG,e)}var YO=[],vZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function x6(t){var e,n,r=Sr(t,vZ),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:h,filterNull:f,isAnimationActive:p,offset:g,payloadUniqBy:v,position:N,reverseDirection:_,useTranslate3d:j,wrapperStyle:E,cursor:I,shared:R,trigger:M,defaultIndex:T,portal:C,axisId:L}=r,P=ln(),V=typeof T=="number"?String(T):T;w.useEffect(()=>{P(gQ({shared:R,trigger:M,axisId:L,active:a,defaultIndex:V}))},[P,R,M,L,a,V]);var $=t0(),A=rM(),D=uQ(R),{activeIndex:F,isActive:U}=(e=Be(De=>_J(De,D,M,V)))!==null&&e!==void 0?e:{},ue=Be(De=>NJ(De,D,M,V)),ne=Be(De=>h6(De,D,M,V)),G=Be(De=>wJ(De,D,M,V)),Y=ue,H=KJ(),pe=(n=a??U)!==null&&n!==void 0?n:!1,[X,z]=KB([Y,pe]),W=D==="axis"?ne:void 0;fZ(D,M,G,W,F,pe);var ge=C??H;if(ge==null||$==null||D==null)return null;var Z=Y??YO;pe||(Z=YO),f&&Z.length&&(Z=vB(Z.filter(De=>De.value!=null&&(De.hide!==!0||r.includeHidden)),v,yZ));var ve=Z.length>0,Ce=w.createElement(dG,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:p,active:pe,coordinate:G,hasPayload:ve,offset:g,position:N,reverseDirection:_,useTranslate3d:j,viewBox:$,wrapperStyle:E,lastBoundingBox:X,innerRef:z,hasPortalFromProps:!!C},xZ(h,KO(KO({},r),{},{payload:Z,label:W,active:pe,activeIndex:F,coordinate:G,accessibilityLayer:A})));return w.createElement(w.Fragment,null,rP.createPortal(Ce,ge),pe&&w.createElement(GJ,{cursor:I,tooltipEventType:D,coordinate:G,payload:Z,index:F}))}var Lf=t=>null;Lf.displayName="Cell";function bZ(t,e,n){return(e=wZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wZ(t){var e=NZ(t,"string");return typeof e=="symbol"?e:e+""}function NZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _Z{constructor(e){bZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){EZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EZ(t,e,n){return(e=SZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SZ(t){var e=AZ(t,"string");return typeof e=="symbol"?e:e+""}function AZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TZ={cacheSize:2e3,enableCache:!0},v6=jZ({},TZ),XO=new _Z(v6.cacheSize),CZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QO="recharts_measurement_span";function IZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",l=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(d)}var JO=(t,e)=>{try{var n=document.getElementById(QO);n||(n=document.createElement("span"),n.setAttribute("id",QO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,CZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Rh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xc.isSsr)return{width:0,height:0};if(!v6.enableCache)return JO(e,n);var r=IZ(e,n),a=XO.get(r);if(a)return a;var l=JO(e,n);return XO.set(r,l),l},ZO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,b6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RZ=Object.keys(b6),Eu="NaN";function PZ(t,e){return t*b6[e]}class Fr{static parse(e){var n,[,r,a]=(n=DZ.exec(e))!==null&&n!==void 0?n:[];return new Fr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,li(e)&&(this.unit=""),n!==""&&!OZ.test(n)&&(this.num=NaN,this.unit=""),RZ.includes(n)&&(this.num=PZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return li(this.num)}}function w6(t){if(t.includes(Eu))return Eu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,l]=(n=ZO.exec(e))!==null&&n!==void 0?n:[],c=Fr.parse(r??""),d=Fr.parse(l??""),h=a==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Eu;e=e.replace(ZO,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,g,v]=(f=e4.exec(e))!==null&&f!==void 0?f:[],N=Fr.parse(p??""),_=Fr.parse(v??""),j=g==="+"?N.add(_):N.subtract(_);if(j.isNaN())return Eu;e=e.replace(e4,j.toString())}return e}var t4=/\(([^()]*)\)/;function kZ(t){for(var e=t,n;(n=t4.exec(e))!=null;){var[,r]=n;e=e.replace(t4,w6(r))}return e}function MZ(t){var e=t.replace(/\s+/g,"");return e=kZ(e),e=w6(e),e}function LZ(t){try{return MZ(t)}catch{return Eu}}function Tw(t){var e=LZ(t.slice(5,-1));return e===Eu?"":e}var UZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],VZ=["dx","dy","angle","className","breakAll"];function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sN.apply(null,arguments)}function n4(t,e){if(t==null)return{};var n,r,a=zZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N6=/[ \f\n\r\t\v\u2028\u2029]+/,_6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];ir(e)||(n?a=e.toString().split(""):a=e.toString().split(N6));var l=a.map(d=>({word:d,width:Rh(d,r).width})),c=n?0:Rh("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function FZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var j6=(t,e,n,r)=>t.reduce((a,l)=>{var{word:c,width:d}=l,h=a[a.length-1];if(h&&d!=null&&(e==null||r||h.width+d+n<Number(e)))h.words.push(c),h.width+=d+n;else{var f={words:[c],width:d};a.push(f)}return a},[]),E6=t=>t.reduce((e,n)=>e.width>n.width?e:n),$Z="",r4=(t,e,n,r,a,l,c,d)=>{var h=t.slice(0,e),f=_6({breakAll:n,style:r,children:h+$Z});if(!f)return[!1,[]];var p=j6(f.wordsWithComputedWidth,l,c,d),g=p.length>a||E6(p).width>Number(l);return[g,p]},BZ=(t,e,n,r,a)=>{var{maxLines:l,children:c,style:d,breakAll:h}=t,f=$e(l),p=String(c),g=j6(e,r,n,a);if(!f||a)return g;var v=g.length>l||E6(g).width>Number(r);if(!v)return g;for(var N=0,_=p.length-1,j=0,E;N<=_&&j<=p.length-1;){var I=Math.floor((N+_)/2),R=I-1,[M,T]=r4(p,R,h,d,l,r,n,a),[C]=r4(p,I,h,d,l,r,n,a);if(!M&&!C&&(N=I+1),M&&C&&(_=I-1),!M&&C){E=T;break}j++}return E||g},a4=t=>{var e=ir(t)?[]:t.toString().split(N6);return[{words:e,width:void 0}]},qZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:c}=t;if((e||n)&&!xc.isSsr){var d,h,f=_6({breakAll:l,children:r,style:a});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;d=p,h=g}else return a4(r);return BZ({breakAll:l,children:r,maxLines:c,style:a},d,h,e,!!n)}return a4(r)},S6="#808080",HZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:S6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},E0=w.forwardRef((t,e)=>{var n=Sr(t,HZ),{x:r,y:a,lineHeight:l,capHeight:c,fill:d,scaleToFit:h,textAnchor:f,verticalAnchor:p}=n,g=n4(n,UZ),v=w.useMemo(()=>qZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:h,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,h,g.style,g.width]),{dx:N,dy:_,angle:j,className:E,breakAll:I}=g,R=n4(g,VZ);if(!Wi(r)||!Wi(a)||v.length===0)return null;var M=Number(r)+($e(N)?N:0),T=Number(a)+($e(_)?_:0);if(!jn(M)||!jn(T))return null;var C;switch(p){case"start":C=Tw("calc(".concat(c,")"));break;case"middle":C=Tw("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:C=Tw("calc(".concat(v.length-1," * -").concat(l,")"));break}var L=[];if(h){var P=v[0].width,{width:V}=g;L.push("scale(".concat($e(V)&&$e(P)?V/P:1,")"))}return j&&L.push("rotate(".concat(j,", ").concat(M,", ").concat(T,")")),L.length&&(R.transform=L.join(" ")),w.createElement("text",sN({},Ra(R),{ref:e,x:M,y:T,className:Ft("recharts-text",E),textAnchor:f,fill:d.includes("url")?S6:d}),v.map(($,A)=>{var D=$.words.join(I?"":" ");return w.createElement("tspan",{x:M,dy:A===0?C:l,key:"".concat(D,"-").concat(A)},D)}))});E0.displayName="Text";var GZ=["labelRef"];function KZ(t,e){if(t==null)return{};var n,r,a=YZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function YZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return(e=XZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t){var e=QZ(t,"string");return typeof e=="symbol"?e:e+""}function QZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(null,arguments)}var A6=w.createContext(null),JZ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:l,height:c,children:d}=t,h=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:l,height:c}),[e,n,r,a,l,c]);return w.createElement(A6.Provider,{value:h},d)},T6=()=>{var t=w.useContext(A6),e=t0();return t||Bk(e)},ZZ=w.createContext(null),eee=()=>{var t=w.useContext(ZZ),e=Be(g5);return t||e},tee=t=>{var{value:e,formatter:n}=t,r=ir(t.children)?e:t.children;return typeof n=="function"?n(r):r},Pj=t=>t!=null&&typeof t=="function",nee=(t,e)=>{var n=rr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ree=(t,e,n,r,a)=>{var{offset:l,className:c}=t,{cx:d,cy:h,innerRadius:f,outerRadius:p,startAngle:g,endAngle:v,clockWise:N}=a,_=(f+p)/2,j=nee(g,v),E=j>=0?1:-1,I,R;switch(e){case"insideStart":I=g+E*l,R=N;break;case"insideEnd":I=v-E*l,R=!N;break;case"end":I=v+E*l,R=N;break;default:throw new Error("Unsupported position ".concat(e))}R=j<=0?R:!R;var M=Ln(d,h,_,I),T=Ln(d,h,_,I+(R?1:-1)*359),C="M".concat(M.x,",").concat(M.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(T.x,",").concat(T.y),L=ir(t.id)?Bh("recharts-radial-line-"):t.id;return w.createElement("text",Ss({},r,{dominantBaseline:"central",className:Ft("recharts-radial-bar-label",c)}),w.createElement("defs",null,w.createElement("path",{id:L,d:C})),w.createElement("textPath",{xlinkHref:"#".concat(L)},n))},aee=(t,e,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:c,startAngle:d,endAngle:h}=t,f=(d+h)/2;if(n==="outside"){var{x:p,y:g}=Ln(r,a,c+e,f);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:N,y:_}=Ln(r,a,v,f);return{x:N,y:_,textAnchor:"middle",verticalAnchor:"middle"}},lN=t=>"cx"in t&&$e(t.cx),iee=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,l;n!=null&&!lN(n)&&(l=n);var{x:c,y:d,upperWidth:h,lowerWidth:f,height:p}=e,g=c,v=c+(h-f)/2,N=(g+v)/2,_=(h+f)/2,j=g+h/2,E=p>=0?1:-1,I=E*r,R=E>0?"end":"start",M=E>0?"start":"end",T=h>=0?1:-1,C=T*r,L=T>0?"end":"start",P=T>0?"start":"end";if(a==="top"){var V={x:g+h/2,y:d-I,textAnchor:"middle",verticalAnchor:R};return wn(wn({},V),l?{height:Math.max(d-l.y,0),width:h}:{})}if(a==="bottom"){var $={x:v+f/2,y:d+p+I,textAnchor:"middle",verticalAnchor:M};return wn(wn({},$),l?{height:Math.max(l.y+l.height-(d+p),0),width:f}:{})}if(a==="left"){var A={x:N-C,y:d+p/2,textAnchor:L,verticalAnchor:"middle"};return wn(wn({},A),l?{width:Math.max(A.x-l.x,0),height:p}:{})}if(a==="right"){var D={x:N+_+C,y:d+p/2,textAnchor:P,verticalAnchor:"middle"};return wn(wn({},D),l?{width:Math.max(l.x+l.width-D.x,0),height:p}:{})}var F=l?{width:_,height:p}:{};return a==="insideLeft"?wn({x:N+C,y:d+p/2,textAnchor:P,verticalAnchor:"middle"},F):a==="insideRight"?wn({x:N+_-C,y:d+p/2,textAnchor:L,verticalAnchor:"middle"},F):a==="insideTop"?wn({x:g+h/2,y:d+I,textAnchor:"middle",verticalAnchor:M},F):a==="insideBottom"?wn({x:v+f/2,y:d+p-I,textAnchor:"middle",verticalAnchor:R},F):a==="insideTopLeft"?wn({x:g+C,y:d+I,textAnchor:P,verticalAnchor:M},F):a==="insideTopRight"?wn({x:g+h-C,y:d+I,textAnchor:L,verticalAnchor:M},F):a==="insideBottomLeft"?wn({x:v+C,y:d+p-I,textAnchor:P,verticalAnchor:R},F):a==="insideBottomRight"?wn({x:v+f-C,y:d+p-I,textAnchor:L,verticalAnchor:R},F):a&&typeof a=="object"&&($e(a.x)||Ls(a.x))&&($e(a.y)||Ls(a.y))?wn({x:c+jr(a.x,_),y:d+jr(a.y,p),textAnchor:"end",verticalAnchor:"end"},F):wn({x:j,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},F)},see={angle:0,offset:5,zIndex:gr.label,position:"middle",textBreakAll:!1};function Pl(t){var e=Sr(t,see),{viewBox:n,position:r,value:a,children:l,content:c,className:d="",textBreakAll:h,labelRef:f}=e,p=eee(),g=T6(),v=r==="center"?g:p??g,N,_,j;if(n==null?N=v:lN(n)?N=n:N=Bk(n),!N||ir(a)&&ir(l)&&!w.isValidElement(c)&&typeof c!="function")return null;var E=wn(wn({},e),{},{viewBox:N});if(w.isValidElement(c)){var{labelRef:I}=E,R=KZ(E,GZ);return w.cloneElement(c,R)}if(typeof c=="function"){if(_=w.createElement(c,E),w.isValidElement(_))return _}else _=tee(e);var M=Ra(e);if(lN(N)){if(r==="insideStart"||r==="insideEnd"||r==="end")return ree(e,r,_,M,N);j=aee(N,e.offset,e.position)}else j=iee(e,N);return w.createElement(fi,{zIndex:e.zIndex},w.createElement(E0,Ss({ref:f,className:Ft("recharts-label",d)},M,j,{textAnchor:FZ(M.textAnchor)?M.textAnchor:j.textAnchor,breakAll:h}),_))}Pl.displayName="Label";var lee=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Pl,Ss({key:"label-implicit"},r)):Wi(t)?w.createElement(Pl,Ss({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Pl?w.cloneElement(t,wn({key:"label-implicit"},r)):w.createElement(Pl,Ss({key:"label-implicit",content:t},r)):Pj(t)?w.createElement(Pl,Ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Pl,Ss({},t,{key:"label-implicit"},r)):null};function oee(t){var{label:e,labelRef:n}=t,r=T6();return lee(e,r,n)||null}var Cw={},Iw={},s4;function cee(){return s4||(s4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Iw)),Iw}var Ow={},l4;function uee(){return l4||(l4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Ow)),Ow}var o4;function dee(){return o4||(o4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cee(),n=uee(),r=o_();function a(l){if(r.isArrayLike(l))return e.last(n.toArray(l))}t.last=a})(Cw)),Cw}var Dw,c4;function hee(){return c4||(c4=1,Dw=dee().last),Dw}var fee=hee();const mee=ts(fee);var pee=["valueAccessor"],gee=["dataKey","clockWise","id","textBreakAll","zIndex"];function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(null,arguments)}function u4(t,e){if(t==null)return{};var n,r,a=yee(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xee=t=>Array.isArray(t.value)?mee(t.value):t.value,C6=w.createContext(void 0),vee=C6.Provider,I6=w.createContext(void 0),bee=I6.Provider;function wee(){return w.useContext(C6)}function Nee(){return w.useContext(I6)}function sg(t){var{valueAccessor:e=xee}=t,n=u4(t,pee),{dataKey:r,clockWise:a,id:l,textBreakAll:c,zIndex:d}=n,h=u4(n,gee),f=wee(),p=Nee(),g=f||p;return!g||!g.length?null:w.createElement(fi,{zIndex:d??gr.label},w.createElement(Dr,{className:"recharts-label-list"},g.map((v,N)=>{var _,j=ir(r)?e(v,N):rn(v&&v.payload,r),E=ir(l)?{}:{id:"".concat(l,"-").concat(N)};return w.createElement(Pl,ty({key:"label-".concat(N)},Ra(v),h,E,{fill:(_=n.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:j,textBreakAll:c,viewBox:v.viewBox,index:N,zIndex:0}))})))}sg.displayName="LabelList";function O6(t){var{label:e}=t;return e?e===!0?w.createElement(sg,{key:"labelList-implicit"}):w.isValidElement(e)||Pj(e)?w.createElement(sg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(sg,ty({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var D6=t=>t.graphicalItems.polarItems,_ee=oe([on,Cf],aj),S0=oe([D6,hn,_ee],sj),jee=oe([S0],lj),A0=oe([jee,G_],oj),Eee=oe([A0,hn,S0],uj);oe([A0,hn,S0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var l,c=rn(r,(l=e.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:rn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var d4=()=>{},See=oe([A0,hn,S0,w0,on],mj),Aee=oe([hn,hj,fj,d4,See,d4,_t,on],pj),R6=oe([hn,_t,A0,Eee,Tf,on,Aee],gj),Tee=oe([R6,hn,sd],vj);oe([hn,R6,Tee,on],wj);var Cee={radiusAxis:{},angleAxis:{}},P6=Wr({name:"polarAxis",initialState:Cee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Zge,removeRadiusAxis:eye,addAngleAxis:tye,removeAngleAxis:nye}=P6.actions,Iee=P6.reducer;function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function f4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Dee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=Ree(t,"string");return typeof e=="symbol"?e:e+""}function Ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pee=(t,e)=>e,kj=oe([D6,Pee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),kee=[],Mj=(t,e,n)=>(n==null?void 0:n.length)===0?kee:n,k6=oe([G_,kj,Mj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(l=>f4(f4({},e.presentationProps),l.props))),a!=null)return a}}),Mee=oe([k6,kj,Mj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var l,c=rn(r,e.nameKey,e.name),d;return n!=null&&(l=n[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Xy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),Lee=oe([k6,kj,Mj,Gn],(t,e,n,r)=>{if(!(e==null||t==null))return zte({offset:r,pieSettings:e,displayedData:t,cells:n})}),Rw={exports:{}},zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m4;function Uee(){if(m4)return zt;m4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function _(j){if(typeof j=="object"&&j!==null){var E=j.$$typeof;switch(E){case t:switch(j=j.type,j){case n:case a:case r:case h:case f:case v:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case g:case p:return j;case l:return j;default:return E}}case e:return E}}}return zt.ContextConsumer=l,zt.ContextProvider=c,zt.Element=t,zt.ForwardRef=d,zt.Fragment=n,zt.Lazy=g,zt.Memo=p,zt.Portal=e,zt.Profiler=a,zt.StrictMode=r,zt.Suspense=h,zt.SuspenseList=f,zt.isContextConsumer=function(j){return _(j)===l},zt.isContextProvider=function(j){return _(j)===c},zt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},zt.isForwardRef=function(j){return _(j)===d},zt.isFragment=function(j){return _(j)===n},zt.isLazy=function(j){return _(j)===g},zt.isMemo=function(j){return _(j)===p},zt.isPortal=function(j){return _(j)===e},zt.isProfiler=function(j){return _(j)===a},zt.isStrictMode=function(j){return _(j)===r},zt.isSuspense=function(j){return _(j)===h},zt.isSuspenseList=function(j){return _(j)===f},zt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===a||j===r||j===h||j===f||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===p||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===N||j.getModuleId!==void 0)},zt.typeOf=_,zt}var p4;function Vee(){return p4||(p4=1,Rw.exports=Uee()),Rw.exports}var zee=Vee(),g4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",y4=null,Pw=null,M6=t=>{if(t===y4&&Array.isArray(Pw))return Pw;var e=[];return w.Children.forEach(t,n=>{ir(n)||(zee.isFragment(n)?e=e.concat(M6(n.props.children)):e.push(n))}),Pw=e,y4=t,e};function Lj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>g4(a)):r=[g4(e)],M6(t).forEach(a=>{var l=ac(a,"type.displayName")||ac(a,"type.name");l&&r.indexOf(l)!==-1&&n.push(a)}),n}var kw={},x4;function Fee(){return x4||(x4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(kw)),kw}var Mw,v4;function $ee(){return v4||(v4=1,Mw=Fee().isPlainObject),Mw}var Bee=$ee();const qee=ts(Bee);function b4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(n),!0).forEach(function(r){Hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hee(t,e,n){return(e=Gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=Kee(t,"string");return typeof e=="symbol"?e:e+""}function Kee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}var N4=(t,e,n,r,a)=>{var l=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-l/2,",").concat(e+a),c+="L ".concat(t+n-l/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},Yee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wee=t=>{var e=Sr(t,Yee),{x:n,y:r,upperWidth:a,lowerWidth:l,height:c,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:g}=e,v=w.useRef(null),[N,_]=w.useState(-1),j=w.useRef(a),E=w.useRef(l),I=w.useRef(c),R=w.useRef(n),M=w.useRef(r),T=o0(t,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ue=v.current.getTotalLength();ue&&_(ue)}catch{}},[]),n!==+n||r!==+r||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var C=Ft("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",ny({},Ra(e),{className:C,d:N4(n,r,a,l,c)})));var L=j.current,P=E.current,V=I.current,$=R.current,A=M.current,D="0px ".concat(N===-1?1:N,"px"),F="".concat(N,"px 0px"),U=aM(["strokeDasharray"],f,h);return w.createElement(l0,{animationId:T,key:T,canBegin:N>0,duration:f,easing:h,isActive:g,begin:p},ue=>{var ne=$n(L,a,ue),G=$n(P,l,ue),Y=$n(V,c,ue),H=$n($,n,ue),pe=$n(A,r,ue);v.current&&(j.current=ne,E.current=G,I.current=Y,R.current=H,M.current=pe);var X=ue>0?{transition:U,strokeDasharray:F}:{strokeDasharray:D};return w.createElement("path",ny({},Ra(e),{className:C,d:N4(H,pe,ne,G,Y),ref:v,style:w4(w4({},X),e.style)}))})},Xee=["option","shapeType","propTransformer","activeClassName"];function Qee(t,e){if(t==null)return{};var n,r,a=Jee(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Jee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return(e=ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ete(t){var e=tte(t,"string");return typeof e=="symbol"?e:e+""}function tte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nte(t,e){return ry(ry({},e),t)}function rte(t,e){return t==="symbols"}function j4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(oM,n);case"trapezoid":return w.createElement(Wee,n);case"sector":return w.createElement(hM,n);case"symbols":if(rte(e))return w.createElement(BP,n);break;case"curve":return w.createElement(N_,n);default:return null}}function ate(t){return w.isValidElement(t)?t.props:t}function L6(t){var{option:e,shapeType:n,propTransformer:r=nte,activeClassName:a="recharts-active-shape"}=t,l=Qee(t,Xee),c;if(w.isValidElement(e))c=w.cloneElement(e,ry(ry({},l),ate(e)));else if(typeof e=="function")c=e(l);else if(qee(e)&&typeof e!="boolean"){var d=r(e,l);c=w.createElement(j4,{shapeType:n,elementProps:d})}else{var h=l;c=w.createElement(j4,{shapeType:n,elementProps:h})}return l.isActive?w.createElement(Dr,{className:a},c):c}var Uj=(t,e)=>{var n=ln();return(r,a)=>l=>{t==null||t(r,a,l),n(K5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Vj=t=>{var e=ln();return(n,r)=>a=>{t==null||t(n,r,a),e(yQ())}},zj=(t,e)=>{var n=ln();return(r,a)=>l=>{t==null||t(r,a,l),n(xQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function U6(t){var{tooltipEntrySettings:e}=t,n=ln(),r=Xr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(fQ(e)):a.current!==e&&n(mQ({prev:a.current,next:e})),a.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{a.current&&(n(pQ(a.current)),a.current=null)},[n]),null}function ite(t){var{legendPayload:e}=t,n=ln(),r=Xr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(eM(e)):a.current!==e&&n(tM({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(nM(a.current)),a.current=null)},[n]),null}function ste(t){var{legendPayload:e}=t,n=ln(),r=Be(_t),a=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(eM(e)):a.current!==e&&n(tM({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(nM(a.current)),a.current=null)},[n]),null}var Lw,lte=()=>{var[t]=w.useState(()=>Bh("uid-"));return t},ote=(Lw=t7.useId)!==null&&Lw!==void 0?Lw:lte;function V6(t,e){var n=ote();return e||(t?"".concat(t,"-").concat(n):n)}var cte=w.createContext(void 0),z6=t=>{var{id:e,type:n,children:r}=t,a=V6("recharts-".concat(n),e);return w.createElement(cte.Provider,{value:a},r(a))},ute={cartesianItems:[],polarItems:[]},F6=Wr({name:"graphicalItems",initialState:ute,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:nn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:nn()},removeCartesianGraphicalItem:{reducer(t,e){var n=ii(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:nn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:nn()},removePolarGraphicalItem:{reducer(t,e){var n=ii(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:nn()}}}),{addCartesianGraphicalItem:dte,replaceCartesianGraphicalItem:hte,removeCartesianGraphicalItem:fte,addPolarGraphicalItem:mte,removePolarGraphicalItem:pte}=F6.actions,gte=F6.reducer,yte=t=>{var e=ln(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(dte(t)):n.current!==t&&e(hte({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(fte(n.current)),n.current=null)},[e]),null},xte=w.memo(yte);function vte(t){var e=ln();return w.useLayoutEffect(()=>(e(mte(t)),()=>{e(pte(t))}),[e,t]),null}var bte=["key"],wte=["onMouseEnter","onClick","onMouseLeave"],Nte=["id"],_te=["id"];function E4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E4(Object(n),!0).forEach(function(r){jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e,n){return(e=Ete(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=Ste(t,"string");return typeof e=="symbol"?e:e+""}function Ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function T0(t,e){if(t==null)return{};var n,r,a=Ate(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ate(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tte(t){var e=w.useMemo(()=>Lj(t.children,Lf),[t.children]),n=Be(r=>Mee(r,t.id,e));return n==null?null:w.createElement(ste,{legendPayload:n})}var Cte=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:l,fill:c,name:d,hide:h,tooltipType:f}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:l,fill:c,dataKey:e,nameKey:n,name:Xy(d,e),hide:h,type:f,color:c,unit:""}};return w.createElement(U6,{tooltipEntrySettings:p})}),Ite=(t,e)=>t>e?"start":t<e?"end":"middle",Ote=(t,e,n)=>jr(typeof e=="function"?e(t):e,n,n*.8),Dte=(t,e,n)=>{var{top:r,left:a,width:l,height:c}=e,d=cM(l,c),h=a+jr(t.cx,l,l/2),f=r+jr(t.cy,c,c/2),p=jr(t.innerRadius,d,0),g=Ote(n,t.outerRadius,d),v=t.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:h,cy:f,innerRadius:p,outerRadius:g,maxRadius:v}},Rte=(t,e)=>{var n=rr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Pte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var kte=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ft("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=T0(e,bte);return w.createElement(N_,Wl({},a,{type:"linear",className:n}))},Mte=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var a=Ft("recharts-pie-label-text",Pte(t));return w.createElement(E0,Wl({},e,{alignmentBaseline:"middle",className:a}),r)};function Lte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:l,dataKey:c}=n;if(!r||!a||!e)return null;var d=si(n),h=$h(a),f=$h(l),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((v,N)=>{var _=(v.startAngle+v.endAngle)/2,j=Ln(v.cx,v.cy,v.outerRadius+p,_),E=pn(pn(pn(pn({},d),v),{},{stroke:"none"},h),{},{index:N,textAnchor:Ite(j.x,v.cx)},j),I=pn(pn(pn(pn({},d),v),{},{fill:"none",stroke:v.fill},f),{},{index:N,points:[Ln(v.cx,v.cy,v.outerRadius,_),j],key:"line"});return w.createElement(fi,{zIndex:gr.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(N)},w.createElement(Dr,null,l&&kte(l,I),Mte(a,E,rn(v,c))))});return w.createElement(Dr,{className:"recharts-pie-labels"},g)}function Ute(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(O6,{label:a}):w.createElement(Lte,{sectors:e,props:n,showLabels:r})}function Vte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:l}=t,c=Be(oc),{onMouseEnter:d,onClick:h,onMouseLeave:f}=a,p=T0(a,wte),g=Uj(d,a.dataKey),v=Vj(f),N=zj(h,a.dataKey);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((_,j)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&e.length!==1)return null;var E=String(j)===c,I=c?r:null,R=n&&E?n:I,M=pn(pn({},_),{},{stroke:_.stroke,tabIndex:-1,[Lk]:j,[Uk]:a.dataKey});return w.createElement(Dr,Wl({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},zy(p,_,j),{onMouseEnter:g(_,j),onMouseLeave:v(_,j),onClick:N(_,j)}),w.createElement(L6,Wl({option:l??R,shapeType:"sector",isActive:E},M)))}))}function zte(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:l}=t,{cornerRadius:c,startAngle:d,endAngle:h,dataKey:f,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),N=Rte(d,h),_=Math.abs(N),j=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(L=>rn(L,f,0)!==0).length,I=(_>=360?E:E-1)*j,R=_-E*v-I,M=r.reduce((L,P)=>{var V=rn(P,f,0);return L+($e(V)?V:0)},0),T;if(M>0){var C;T=r.map((L,P)=>{var V=rn(L,f,0),$=rn(L,p,P),A=Dte(n,l,L),D=($e(V)?V:0)/M,F,U=pn(pn({},L),a&&a[P]&&a[P].props);P?F=C.endAngle+rr(N)*j*(V!==0?1:0):F=d;var ue=F+rr(N)*((V!==0?v:0)+D*R),ne=(F+ue)/2,G=(A.innerRadius+A.outerRadius)/2,Y=[{name:$,value:V,payload:U,dataKey:f,type:g}],H=Ln(A.cx,A.cy,G,ne);return C=pn(pn(pn(pn({},n.presentationProps),{},{percent:D,cornerRadius:typeof c=="string"?parseFloat(c):c,name:$,tooltipPayload:Y,midAngle:ne,middleRadius:G,tooltipPosition:H},U),A),{},{value:V,startAngle:F,endAngle:ue,payload:U,paddingAngle:rr(N)*j}),C})}return T}function Fte(t){var{showLabels:e,sectors:n,children:r}=t,a=w.useMemo(()=>!e||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,e]);return w.createElement(bee,{value:e?a:void 0},r)}function $te(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:h,inactiveShape:f,onAnimationStart:p,onAnimationEnd:g}=e,v=o0(e,"recharts-pie-"),N=n.current,[_,j]=w.useState(!1),E=w.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),I=w.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return w.createElement(Fte,{showLabels:!_,sectors:r},w.createElement(l0,{animationId:v,begin:l,duration:c,isActive:a,easing:d,onAnimationStart:I,onAnimationEnd:E,key:v},R=>{var M=[],T=r&&r[0],C=T==null?void 0:T.startAngle;return r==null||r.forEach((L,P)=>{var V=N&&N[P],$=P>0?ac(L,"paddingAngle",0):0;if(V){var A=$n(V.endAngle-V.startAngle,L.endAngle-L.startAngle,R),D=pn(pn({},L),{},{startAngle:C+$,endAngle:C+A+$});M.push(D),C=D.endAngle}else{var{endAngle:F,startAngle:U}=L,ue=$n(0,F-U,R),ne=pn(pn({},L),{},{startAngle:C+$,endAngle:C+ue+$});M.push(ne),C=ne.endAngle}}),n.current=M,w.createElement(Dr,null,w.createElement(Vte,{sectors:M,activeShape:h,inactiveShape:f,allOtherPieProps:e,shape:e.shape}))}),w.createElement(Ute,{showLabels:!_,sectors:r,props:e}),e.children)}var Bte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!xc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gr.area};function qte(t){var{id:e}=t,n=T0(t,Nte),{hide:r,className:a,rootTabIndex:l}=t,c=w.useMemo(()=>Lj(t.children,Lf),[t.children]),d=Be(p=>Lee(p,e,c)),h=w.useRef(null),f=Ft("recharts-pie",a);return r||d==null?(h.current=null,w.createElement(Dr,{tabIndex:l,className:f})):w.createElement(fi,{zIndex:t.zIndex},w.createElement(Cte,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),w.createElement(Dr,{tabIndex:l,className:f},w.createElement($te,{props:pn(pn({},n),{},{sectors:d}),previousSectorsRef:h})))}function $6(t){var e=Sr(t,Bte),{id:n}=e,r=T0(e,_te),a=si(r);return w.createElement(z6,{id:n,type:"pie"},l=>w.createElement(w.Fragment,null,w.createElement(vte,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),w.createElement(Tte,Wl({},r,{id:l})),w.createElement(qte,Wl({},r,{id:l}))))}$6.displayName="Pie";function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function A4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return(e=Gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gte(t){var e=Kte(t,"string");return typeof e=="symbol"?e:e+""}function Kte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yte={xAxis:{},yAxis:{},zAxis:{}},B6=Wr({name:"cartesianAxis",initialState:Yte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:nn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:nn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:nn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:nn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:nn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:nn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:nn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:nn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:nn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==a.width&&Math.abs(r-l[0])<=1)return;var c=[...l,r].slice(-3);t.yAxis[n]=A4(A4({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Wte,replaceXAxis:Xte,removeXAxis:Qte,addYAxis:Jte,replaceYAxis:Zte,removeYAxis:ene,addZAxis:rye,replaceZAxis:aye,removeZAxis:iye,updateYAxisWidth:tne}=B6.actions,nne=B6.reducer,rne=oe([Gn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ane=oe([rne,Ws,Xs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),q6=()=>Be(ane),ine="Invariant failed";function sne(t,e){throw new Error(ine)}var lne=["x","y"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(null,arguments)}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return(e=cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=une(t,"string");return typeof e=="symbol"?e:e+""}function une(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dne(t,e){if(t==null)return{};var n,r,a=hne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function hne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fne(t,e){var{x:n,y:r}=t,a=dne(t,lne),l="".concat(n),c=parseInt(l,10),d="".concat(r),h=parseInt(d,10),f="".concat(e.height||a.height),p=parseInt(f,10),g="".concat(e.width||a.width),v=parseInt(g,10);return Sh(Sh(Sh(Sh(Sh({},e),a),c?{x:c}:{}),h?{y:h}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function ay(t){return w.createElement(L6,oN({shapeType:"rectangle",propTransformer:fne,activeClassName:"recharts-active-bar"},t))}var mne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if($e(e))return e;var l=$e(r)||ir(r);return l?e(r,a):(l||sne(),n)}},pne={},H6=Wr({name:"errorBars",initialState:pne,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?a:l))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:sye,replaceErrorBar:lye,removeErrorBar:oye}=H6.actions,gne=H6.reducer,yne=["children"];function xne(t,e){if(t==null)return{};var n,r,a=vne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},wne=w.createContext(bne);function Nne(t){var{children:e}=t,n=xne(t,yne);return w.createElement(wne.Provider,{value:n},e)}function G6(t,e){var n,r,a=Be(f=>Js(f,t)),l=Be(f=>Zs(f,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Zn.allowDataOverflow,d=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:er.allowDataOverflow,h=c||d;return{needClip:h,needClipX:c,needClipY:d}}function _ne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=q6(),{needClipX:l,needClipY:c,needClip:d}=G6(e,n);if(!d||!a)return null;var{x:h,y:f,width:p,height:g}=a;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:l?h:h-p/2,y:c?f:f-g/2,width:l?p:p*2,height:c?g:g*2}))}function jne(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&jn(t.zIndex)?t.zIndex:e}var Uw={exports:{}},Vw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C4;function Ene(){if(C4)return Vw;C4=1;var t=Ju();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Vw.useSyncExternalStoreWithSelector=function(h,f,p,g,v){var N=a(null);if(N.current===null){var _={hasValue:!1,value:null};N.current=_}else _=N.current;N=c(function(){function E(C){if(!I){if(I=!0,R=C,C=g(C),v!==void 0&&_.hasValue){var L=_.value;if(v(L,C))return M=L}return M=C}if(L=M,n(R,C))return L;var P=g(C);return v!==void 0&&v(L,P)?(R=C,L):(R=C,M=P)}var I=!1,R,M,T=p===void 0?null:p;return[function(){return E(f())},T===null?void 0:function(){return E(T())}]},[f,p,g,v]);var j=r(h,N[0],N[1]);return l(function(){_.hasValue=!0,_.value=j},[j]),d(j),j},Vw}var I4;function Sne(){return I4||(I4=1,Uw.exports=Ene()),Uw.exports}Sne();function Ane(t){t()}function Tne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ane(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var O4={notify(){},get:()=>[]};function Cne(t,e){let n,r=O4,a=0,l=!1;function c(j){p();const E=r.subscribe(j);let I=!1;return()=>{I||(I=!0,E(),g())}}function d(){r.notify()}function h(){_.onStateChange&&_.onStateChange()}function f(){return l}function p(){a++,n||(n=t.subscribe(h),r=Tne())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=O4)}function v(){l||(l=!0,p())}function N(){l&&(l=!1,g())}const _={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:f,trySubscribe:v,tryUnsubscribe:N,getListeners:()=>r};return _}var Ine=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",One=Ine(),Dne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rne=Dne(),Pne=()=>One||Rne?w.useLayoutEffect:w.useEffect,kne=Pne();function D4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Mne(t,e){if(D4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!D4(t[n[a]],e[n[a]]))return!1;return!0}var zw=Symbol.for("react-redux-context"),Fw=typeof globalThis<"u"?globalThis:{};function Lne(){if(!w.createContext)return{};const t=Fw[zw]??(Fw[zw]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Une=Lne();function Vne(t){const{children:e,context:n,serverState:r,store:a}=t,l=w.useMemo(()=>{const h=Cne(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),c=w.useMemo(()=>a.getState(),[a]);kne(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,c]);const d=n||Une;return w.createElement(d.Provider,{value:l},e)}var zne=Vne,Fne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function $ne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Fj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Fne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Mne(t[r],e[r]))return!1}else if(!$ne(t[r],e[r]))return!1;return!0}var Bne=["onMouseEnter","onMouseLeave","onClick"],qne=["value","background","tooltipPosition"],Hne=["id"],Gne=["onMouseEnter","onClick","onMouseLeave"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(null,arguments)}function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){Kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e,n){return(e=Yne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yne(t){var e=Wne(t,"string");return typeof e=="symbol"?e:e+""}function Wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iy(t,e){if(t==null)return{};var n,r,a=Xne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:l}=t;return[{inactive:l,dataKey:e,type:a,color:r,value:Xy(n,e),payload:t}]},Jne=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:l,hide:c,unit:d,tooltipType:h}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Xy(l,e),hide:c,type:h,color:a,unit:d}};return w.createElement(U6,{tooltipEntrySettings:f})});function Zne(t){var e=Be(oc),{data:n,dataKey:r,background:a,allOtherBarProps:l}=t,{onMouseEnter:c,onMouseLeave:d,onClick:h}=l,f=iy(l,Bne),p=Uj(c,r),g=Vj(d),v=zj(h,r);if(!a||n==null)return null;var N=$h(a);return w.createElement(fi,{zIndex:jne(a,gr.barBackground)},n.map((_,j)=>{var{value:E,background:I,tooltipPosition:R}=_,M=iy(_,qne);if(!I)return null;var T=p(_,j),C=g(_,j),L=v(_,j),P=Cr(Cr(Cr(Cr(Cr({option:a,isActive:String(j)===e},M),{},{fill:"#eee"},I),N),zy(f,_,j)),{},{onMouseEnter:T,onMouseLeave:C,onClick:L,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return w.createElement(ay,Bs({key:"background-bar-".concat(j)},P))}))}function ere(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return Cr(Cr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return w.createElement(vee,{value:e?a:void 0},n)}function tre(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:l,dataKey:c}=t,d=Be(oc),h=Be(l6),f=n&&String(l)===d&&(h==null||c===h),p=f?n:e;return f?w.createElement(fi,{zIndex:gr.activeBar},w.createElement(ay,Bs({},r,{name:String(r.name)},a,{isActive:f,option:p,index:l,dataKey:c}))):w.createElement(ay,Bs({},r,{name:String(r.name)},a,{isActive:f,option:p,index:l,dataKey:c}))}function nre(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:l}=t;return w.createElement(ay,Bs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:l}))}function rre(t){var e,{data:n,props:r}=t,a=(e=si(r))!==null&&e!==void 0?e:{},{id:l}=a,c=iy(a,Hne),{shape:d,dataKey:h,activeBar:f}=r,{onMouseEnter:p,onClick:g,onMouseLeave:v}=r,N=iy(r,Gne),_=Uj(p,h),j=Vj(v),E=zj(g,h);return n?w.createElement(w.Fragment,null,n.map((I,R)=>w.createElement(Dr,Bs({key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(R),className:"recharts-bar-rectangle"},zy(N,I,R),{onMouseEnter:_(I,R),onMouseLeave:j(I,R),onClick:E(I,R)}),f?w.createElement(tre,{shape:d,activeBar:f,baseProps:c,entry:I,index:R,dataKey:h}):w.createElement(nre,{shape:d,baseProps:c,entry:I,index:R,dataKey:h})))):null}function are(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:h,onAnimationEnd:f,onAnimationStart:p}=e,g=n.current,v=o0(e,"recharts-bar-"),[N,_]=w.useState(!1),j=!N,E=w.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),I=w.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return w.createElement(ere,{showLabels:j,rects:r},w.createElement(l0,{animationId:v,begin:c,duration:d,isActive:l,easing:h,onAnimationEnd:E,onAnimationStart:I,key:v},R=>{var M=R===1?r:r==null?void 0:r.map((T,C)=>{var L=g&&g[C];if(L)return Cr(Cr({},T),{},{x:$n(L.x,T.x,R),y:$n(L.y,T.y,R),width:$n(L.width,T.width,R),height:$n(L.height,T.height,R)});if(a==="horizontal"){var P=$n(0,T.height,R),V=$n(T.stackedBarStart,T.y,R);return Cr(Cr({},T),{},{y:V,height:P})}var $=$n(0,T.width,R),A=$n(T.stackedBarStart,T.x,R);return Cr(Cr({},T),{},{width:$,x:A})});return R>0&&(n.current=M??null),M==null?null:w.createElement(Dr,null,w.createElement(rre,{props:e,data:M}))}),w.createElement(O6,{label:e.label}),e.children)}function ire(t){var e=w.useRef(null);return w.createElement(are,{previousRectanglesRef:e,props:t})}var K6=0,sre=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:rn(t,e)}};class lre extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:l,yAxisId:c,needClip:d,background:h,id:f}=this.props;if(e||n==null)return null;var p=Ft("recharts-bar",a),g=f;return w.createElement(Dr,{className:p,id:f},d&&w.createElement("defs",null,w.createElement(_ne,{clipPathId:g,xAxisId:l,yAxisId:c})),w.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Zne,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),w.createElement(ire,this.props)))}}var ore={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:K6,xAxisId:0,yAxisId:0,zIndex:gr.bar};function cre(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:h,animationEasing:f,isAnimationActive:p}=t,{needClip:g}=G6(e,n),v=n0(),N=Xr(),_=Lj(t.children,Lf),j=Be(R=>Lre(R,e,n,N,t.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var E,I=j==null?void 0:j[0];return I==null||I.height==null||I.width==null?E=0:E=v==="vertical"?I.height/2:I.width/2,w.createElement(Nne,{xAxisId:e,yAxisId:n,data:j,dataPointFormatter:sre,errorBarOffset:E},w.createElement(lre,Bs({},t,{layout:v,needClip:g,data:j,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:h,animationEasing:f,isAnimationActive:p})))}function ure(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:h,yAxisTicks:f,stackedData:p,displayedData:g,offset:v,cells:N,parentViewBox:_,dataStartIndex:j}=t,E=e==="horizontal"?d:c,I=p?E.scale.domain():null,R=iH({numericAxis:E}),M=E.scale(R);return g.map((T,C)=>{var L,P,V,$,A,D;p?L=Zq(p[C+j],I):(L=rn(T,n),Array.isArray(L)||(L=[R,L]));var F=mne(r,K6)(L[1],C);if(e==="horizontal"){var U,[ue,ne]=[d.scale(L[0]),d.scale(L[1])];P=eI({axis:c,ticks:h,bandSize:l,offset:a.offset,entry:T,index:C}),V=(U=ne??ue)!==null&&U!==void 0?U:void 0,$=a.size;var G=ue-ne;if(A=li(G)?0:G,D={x:P,y:v.top,width:$,height:v.height},Math.abs(F)>0&&Math.abs(A)<Math.abs(F)){var Y=rr(A||F)*(Math.abs(F)-Math.abs(A));V-=Y,A+=Y}}else{var[H,pe]=[c.scale(L[0]),c.scale(L[1])];if(P=H,V=eI({axis:d,ticks:f,bandSize:l,offset:a.offset,entry:T,index:C}),$=pe-H,A=a.size,D={x:v.left,y:V,width:v.width,height:A},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var X=rr($||F)*(Math.abs(F)-Math.abs($));$+=X}}if(P==null||V==null||$==null||A==null)return null;var z=Cr(Cr({},T),{},{stackedBarStart:M,x:P,y:V,width:$,height:A,value:p?L:L[1],payload:T,background:D,tooltipPosition:{x:P+$/2,y:V+A/2},parentViewBox:_},N&&N[C]&&N[C].props);return z}).filter(Boolean)}function dre(t){var e=Sr(t,ore),n=Xr();return w.createElement(z6,{id:e.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(ite,{legendPayload:Qne(e)}),w.createElement(Jne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),w.createElement(xte,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:aH(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),w.createElement(fi,{zIndex:e.zIndex},w.createElement(cre,Bs({},e,{id:r})))))}var Y6=w.memo(dre,Fj);Y6.displayName="Bar";function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return(e=fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pre=(t,e)=>e,gre=(t,e,n)=>n,yre=(t,e,n,r)=>r,xre=(t,e,n,r,a)=>a,Uf=oe([ij,xre],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),vre=oe([Uf],t=>t==null?void 0:t.maxBarSize),bre=(t,e,n,r,a,l)=>l,k4=(t,e,n)=>{var r=n??t;if(!ir(r))return jr(r,e,0)},wre=oe([_t,ij,pre,gre,yre],(t,e,n,r,a)=>e.filter(l=>t==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===a).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Nre=(t,e,n,r)=>{var a=_t(t);return a==="horizontal"?tN(t,"yAxis",n,r):tN(t,"xAxis",e,r)},_re=(t,e,n)=>{var r=_t(t);return r==="horizontal"?OO(t,"xAxis",e):OO(t,"yAxis",n)},jre=(t,e,n)=>{var r={},a=t.filter(y0),l=t.filter(f=>f.stackId==null),c=a.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),d=Object.entries(c).map(f=>{var[p,g]=f,v=g.map(_=>_.dataKey),N=k4(e,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:N}}),h=l.map(f=>{var p=[f.dataKey].filter(v=>v!=null),g=k4(e,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...h]},Ere=oe([wre,sX,_re],jre),Sre=(t,e,n,r,a)=>{var l,c,d=Uf(t,e,n,r,a);if(d!=null){var h=_t(t),f=o5(t),{maxBarSize:p}=d,g=ir(p)?f:p,v,N;return h==="horizontal"?(v=qu(t,"xAxis",e,r),N=Bu(t,"xAxis",e,r)):(v=qu(t,"yAxis",n,r),N=Bu(t,"yAxis",n,r)),(l=(c=Dg(v,N,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},W6=(t,e,n,r)=>{var a=_t(t),l,c;return a==="horizontal"?(l=qu(t,"xAxis",e,r),c=Bu(t,"xAxis",e,r)):(l=qu(t,"yAxis",n,r),c=Bu(t,"yAxis",n,r)),Dg(l,c)};function Are(t,e,n,r,a){var l=r.length;if(!(l<1)){var c=jr(t,n,0,!0),d,h=[];if(jn(r[0].barSize)){var f=!1,p=n/l,g=r.reduce((I,R)=>I+(R.barSize||0),0);g+=(l-1)*c,g>=n&&(g-=(l-1)*c,c=0),g>=n&&p>0&&(f=!0,p*=.9,g=l*p);var v=(n-g)/2>>0,N={offset:v-c,size:0};d=r.reduce((I,R)=>{var M,T={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:N.offset+N.size+c,size:f?p:(M=R.barSize)!==null&&M!==void 0?M:0}},C=[...I,T];return N=C[C.length-1].position,C},h)}else{var _=jr(e,n,0,!0);n-2*_-(l-1)*c<=0&&(c=0);var j=(n-2*_-(l-1)*c)/l;j>1&&(j>>=0);var E=jn(a)?Math.min(j,a):j;d=r.reduce((I,R,M)=>[...I,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:_+(j+c)*M+(j-E)/2,size:E}}],h)}return d}}var Tre=(t,e,n,r,a,l,c)=>{var d=ir(c)?e:c,h=Are(n,r,a!==l?a:l,t,d);return a!==l&&h!=null&&(h=h.map(f=>Fp(Fp({},f),{},{position:Fp(Fp({},f.position),{},{offset:f.position.offset-a/2})}))),h},Cre=oe([Ere,o5,iX,c5,Sre,W6,vre],Tre),Ire=(t,e,n,r)=>qu(t,"xAxis",e,r),Ore=(t,e,n,r)=>qu(t,"yAxis",n,r),Dre=(t,e,n,r)=>Bu(t,"xAxis",e,r),Rre=(t,e,n,r)=>Bu(t,"yAxis",n,r),Pre=oe([Cre,Uf],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),kre=(t,e)=>{var n=nj(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:l}=a;if(l)return l.find(c=>c.key===n)}}}},Mre=oe([Nre,Uf],kre),Lre=oe([Gn,x_,Ire,Ore,Dre,Rre,Pre,_t,K_,W6,Mre,Uf,bre],(t,e,n,r,a,l,c,d,h,f,p,g,v)=>{var{chartData:N,dataStartIndex:_,dataEndIndex:j}=h;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||l==null||f==null)){var{data:E}=g,I;if(E!=null&&E.length>0?I=E:I=N==null?void 0:N.slice(_,j+1),I!=null)return ure({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,stackedData:p,displayedData:I,offset:t,cells:v,dataStartIndex:_})}}),X6=t=>{var{chartData:e}=t,n=ln(),r=Xr();return w.useEffect(()=>r?()=>{}:(n(qO(e)),()=>{n(qO(void 0))}),[e,n,r]),null},M4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Q6=Wr({name:"brush",initialState:M4,reducers:{setBrushSettings(t,e){return e.payload==null?M4:e.payload}}}),{setBrushSettings:cye}=Q6.actions,Ure=Q6.reducer;function Vre(t,e,n){return(e=zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $j{static create(e){return new $j(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(e)+l}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}Vre($j,"EPS",1e-4);function $re(t){return(t%180+180)%180}var Bre=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=$re(a),c=l*Math.PI/180,d=Math.atan(r/n),h=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(h)},qre={dots:[],areas:[],lines:[]},J6=Wr({name:"referenceElements",initialState:qre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ii(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ii(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ii(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:uye,removeDot:dye,addArea:hye,removeArea:fye,addLine:mye,removeLine:pye}=J6.actions,Hre=J6.reducer,Gre=w.createContext(void 0),Kre=t=>{var{children:e}=t,[n]=w.useState("".concat(Bh("recharts"),"-clip")),r=q6();if(r==null)return null;var{x:a,y:l,width:c,height:d}=r;return w.createElement(Gre.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:a,y:l,height:d,width:c}))),e)};function Z6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Yre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Bre(r,n)}function Wre(t,e,n){var r=n==="width",{x:a,y:l,width:c,height:d}=t;return e===1?{start:r?a:l,end:r?a+c:l+d}:{start:r?a+c:l+d,end:r?a:l}}function sy(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var l=n();return t*(e-t*l/2-r)>=0&&t*(e+t*l/2-a)<=0}function Xre(t,e){return Z6(t,e+1)}function Qre(t,e,n,r,a){for(var l=(r||[]).slice(),{start:c,end:d}=e,h=0,f=1,p=c,g=function(){var _=r==null?void 0:r[h];if(_===void 0)return{v:Z6(r,f)};var j=h,E,I=()=>(E===void 0&&(E=n(_,j)),E),R=_.coordinate,M=h===0||sy(t,R,I,p,d);M||(h=0,p=c,f+=1),M&&(p=R+t*(I()/2+a),h+=f)},v;f<=l.length;)if(v=g(),v)return v.v;return[]}function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return(e=Zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=eae(t,"string");return typeof e=="symbol"?e:e+""}function eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tae(t,e,n,r,a){for(var l=(r||[]).slice(),c=l.length,{start:d}=e,{end:h}=e,f=function(v){var N=l[v],_,j=()=>(_===void 0&&(_=n(N,v)),_);if(v===c-1){var E=t*(N.coordinate+t*j()/2-h);l[v]=N=br(br({},N),{},{tickCoord:E>0?N.coordinate-E*t:N.coordinate})}else l[v]=N=br(br({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var I=sy(t,N.tickCoord,j,d,h);I&&(h=N.tickCoord-t*(j()/2+a),l[v]=br(br({},N),{},{isShow:!0}))}},p=c-1;p>=0;p--)f(p);return l}function nae(t,e,n,r,a,l){var c=(r||[]).slice(),d=c.length,{start:h,end:f}=e;if(l){var p=r[d-1],g=n(p,d-1),v=t*(p.coordinate+t*g/2-f);if(c[d-1]=p=br(br({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate}),p.tickCoord!=null){var N=sy(t,p.tickCoord,()=>g,h,f);N&&(f=p.tickCoord-t*(g/2+a),c[d-1]=br(br({},p),{},{isShow:!0}))}}for(var _=l?d-1:d,j=function(R){var M=c[R],T,C=()=>(T===void 0&&(T=n(M,R)),T);if(R===0){var L=t*(M.coordinate-t*C()/2-h);c[R]=M=br(br({},M),{},{tickCoord:L<0?M.coordinate-L*t:M.coordinate})}else c[R]=M=br(br({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var P=sy(t,M.tickCoord,C,h,f);P&&(h=M.tickCoord+t*(C()/2+a),c[R]=br(br({},M),{},{isShow:!0}))}},E=0;E<_;E++)j(E);return c}function Bj(t,e,n){var{tick:r,ticks:a,viewBox:l,minTickGap:c,orientation:d,interval:h,tickFormatter:f,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if($e(h)||xc.isSsr){var v;return(v=Xre(a,$e(h)?h:0))!==null&&v!==void 0?v:[]}var N=[],_=d==="top"||d==="bottom"?"width":"height",j=p&&_==="width"?Rh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(M,T)=>{var C=typeof f=="function"?f(M.value,T):M.value;return _==="width"?Yre(Rh(C,{fontSize:e,letterSpacing:n}),j,g):Rh(C,{fontSize:e,letterSpacing:n})[_]},I=a.length>=2?rr(a[1].coordinate-a[0].coordinate):1,R=Wre(l,I,_);return h==="equidistantPreserveStart"?Qre(I,R,E,a,c):(h==="preserveStart"||h==="preserveStartEnd"?N=nae(I,R,E,a,c,h==="preserveStartEnd"):N=tae(I,R,E,a,c),N.filter(M=>M.isShow))}var rae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:l=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,h=a+l,f=c+h+d+(n?r:0);return Math.round(f)}return 0},aae=["axisLine","width","height","className","hide","ticks","axisType"];function iae(t,e){if(t==null)return{};var n,r,a=sae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lae(t,e,n){return(e=oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oae(t){var e=cae(t,"string");return typeof e=="symbol"?e:e+""}function cae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gr.axis};function uae(t){var{x:e,y:n,width:r,height:a,orientation:l,mirror:c,axisLine:d,otherSvgProps:h}=t;if(!d)return null;var f=kn(kn(kn({},h),si(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=kn(kn({},f),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=kn(kn({},f),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return w.createElement("line",cc({},f,{className:Ft("recharts-cartesian-axis-line",ac(d,"className"))}))}function dae(t,e,n,r,a,l,c,d,h){var f,p,g,v,N,_,j=d?-1:1,E=t.tickSize||c,I=$e(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":f=p=t.coordinate,v=n+ +!d*a,g=v-j*E,_=g-j*h,N=I;break;case"left":g=v=t.coordinate,p=e+ +!d*r,f=p-j*E,N=f-j*h,_=I;break;case"right":g=v=t.coordinate,p=e+ +d*r,f=p+j*E,N=f+j*h,_=I;break;default:f=p=t.coordinate,v=n+ +d*a,g=v+j*E,_=g+j*h,N=I;break}return{line:{x1:f,y1:g,x2:p,y2:v},tick:{x:N,y:_}}}function hae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function fae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function mae(t){var{option:e,tickProps:n,value:r}=t,a,l=Ft(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))a=w.cloneElement(e,kn(kn({},n),{},{className:l}));else if(typeof e=="function")a=e(kn(kn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Ft(c,e==null?void 0:e.className)),a=w.createElement(E0,cc({},n,{className:c}),r)}return a}var pae=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:l,tickFormatter:c,unit:d,padding:h,tickTextProps:f,orientation:p,mirror:g,x:v,y:N,width:_,height:j,tickSize:E,tickMargin:I,fontSize:R,letterSpacing:M,getTicksConfig:T,events:C,axisType:L}=t,P=Bj(kn(kn({},T),{},{ticks:n}),R,M),V=hae(p,g),$=fae(p,g),A=si(T),D=$h(r),F={};typeof a=="object"&&(F=a);var U=kn(kn({},A),{},{fill:"none"},F),ue=P.map(Y=>kn({entry:Y},dae(Y,v,N,_,j,p,E,g,I))),ne=ue.map(Y=>{var{entry:H,line:pe}=Y;return w.createElement(Dr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&w.createElement("line",cc({},U,pe,{className:Ft("recharts-cartesian-axis-tick-line",ac(a,"className"))})))}),G=ue.map((Y,H)=>{var{entry:pe,tick:X}=Y,z=kn(kn(kn(kn({textAnchor:V,verticalAnchor:$},A),{},{stroke:"none",fill:l},D),X),{},{index:H,payload:pe,visibleTicksCount:P.length,tickFormatter:c,padding:h},f);return w.createElement(Dr,cc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},zy(C,pe,H)),r&&w.createElement(mae,{option:r,tickProps:z,value:"".concat(typeof c=="function"?c(pe.value,H):pe.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},G.length>0&&w.createElement(fi,{zIndex:gr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},G)),ne.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},ne))}),gae=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:l,hide:c,ticks:d,axisType:h}=t,f=iae(t,aae),[p,g]=w.useState(""),[v,N]=w.useState(""),_=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return rae({ticks:_.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=w.useCallback(E=>{if(E){var I=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=I;var R=I[0];if(R){var M=window.getComputedStyle(R),T=M.fontSize,C=M.letterSpacing;(T!==p||C!==v)&&(g(T),N(C))}}},[p,v]);return c||r!=null&&r<=0||a!=null&&a<=0?null:w.createElement(fi,{zIndex:t.zIndex},w.createElement(Dr,{className:Ft("recharts-cartesian-axis",l)},w.createElement(uae,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:si(t)}),w.createElement(pae,{ref:j,axisType:h,events:f,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(JZ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(oee,{label:t.label,labelRef:t.labelRef}),t.children)))}),qj=w.forwardRef((t,e)=>{var n=Sr(t,Ps);return w.createElement(gae,cc({},n,{ref:e}))});qj.displayName="CartesianAxis";var yae=["x1","y1","x2","y2","key"],xae=["offset"],vae=["xAxisId","yAxisId"],bae=["xAxisId","yAxisId"];function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(null,arguments)}function ly(t,e){if(t==null)return{};var n,r,a=jae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Eae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:l,height:c,ry:d}=t;return w.createElement("rect",{x:r,y:a,ry:d,width:l,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function e3(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:l,y1:c,x2:d,y2:h,key:f}=n,p=ly(n,yae),g=(a=si(p))!==null&&a!==void 0?a:{},{offset:v}=g,N=ly(g,xae);r=w.createElement("line",Xo({},N,{x1:l,y1:c,x2:d,y2:h,fill:"none",key:f}))}return r}function Sae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=t,d=ly(t,vae),h=a.map((f,p)=>{var g=Nr(Nr({},d),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(p),index:p});return w.createElement(e3,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function Aae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=t,d=ly(t,bae),h=a.map((f,p)=>{var g=Nr(Nr({},d),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(e3,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function Tae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:l,height:c,horizontalPoints:d,horizontal:h=!0}=t;if(!h||!e||!e.length||d==null)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var N=!f[v+1],_=N?a+c-g:f[v+1]-g;if(_<=0)return null;var j=v%e.length;return w.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:_,width:l,stroke:"none",fill:e[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Cae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:l,width:c,height:d,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var N=!f[v+1],_=N?a+c-g:f[v+1]-g;if(_<=0)return null;var j=v%n.length;return w.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:_,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Iae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:l}=t;return Pk(Bj(Nr(Nr(Nr({},Ps),n),{},{ticks:kk(n),viewBox:{x:0,y:0,width:r,height:a}})),l.left,l.left+l.width,e)},Oae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:l}=t;return Pk(Bj(Nr(Nr(Nr({},Ps),n),{},{ticks:kk(n),viewBox:{x:0,y:0,width:r,height:a}})),l.top,l.top+l.height,e)},Dae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gr.grid};function t3(t){var e=Hk(),n=Gk(),r=qk(),a=Nr(Nr({},Sr(t,Dae)),{},{x:$e(t.x)?t.x:r.left,y:$e(t.y)?t.y:r.top,width:$e(t.width)?t.width:r.width,height:$e(t.height)?t.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:h,width:f,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:N}=a,_=Xr(),j=Be($=>DO($,"xAxis",l,_)),E=Be($=>DO($,"yAxis",c,_));if(!Qi(f)||!Qi(p)||!$e(d)||!$e(h))return null;var I=a.verticalCoordinatesGenerator||Iae,R=a.horizontalCoordinatesGenerator||Oae,{horizontalPoints:M,verticalPoints:T}=a;if((!M||!M.length)&&typeof R=="function"){var C=v&&v.length,L=R({yAxis:E?Nr(Nr({},E),{},{ticks:C?v:E.ticks}):void 0,width:e??f,height:n??p,offset:r},C?!0:g);Rg(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(M=L)}if((!T||!T.length)&&typeof I=="function"){var P=N&&N.length,V=I({xAxis:j?Nr(Nr({},j),{},{ticks:P?N:j.ticks}):void 0,width:e??f,height:n??p,offset:r},P?!0:g);Rg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(T=V)}return w.createElement(fi,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Eae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(Tae,Xo({},a,{horizontalPoints:M})),w.createElement(Cae,Xo({},a,{verticalPoints:T})),w.createElement(Sae,Xo({},a,{offset:r,horizontalPoints:M,xAxis:j,yAxis:E})),w.createElement(Aae,Xo({},a,{offset:r,verticalPoints:T,xAxis:j,yAxis:E}))))}t3.displayName="CartesianGrid";var Rae=["domain","range"],Pae=["domain","range"];function z4(t,e){if(t==null)return{};var n,r,a=kae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function F4(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function n3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=z4(t,Rae),{domain:l,range:c}=e,d=z4(e,Pae);return!F4(n,l)||!F4(r,c)?!1:Fj(a,d)}var Mae=["dangerouslySetInnerHTML","ticks"],Lae=["id"];function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(null,arguments)}function $4(t,e){if(t==null)return{};var n,r,a=Uae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Uae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vae(t){var e=ln(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Wte(t)):n.current!==t&&e(Xte({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Qte(n.current)),n.current=null)},[e]),null}var zae=t=>{var{xAxisId:e,className:n}=t,r=Be(x_),a=Xr(),l="xAxis",c=Be(E=>ld(E,l,e,a)),d=Be(E=>F5(E,l,e,a)),h=Be(E=>L5(E,e)),f=Be(E=>rQ(E,e)),p=Be(E=>x5(E,e));if(h==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=t,N=$4(t,Mae),{id:_}=p,j=$4(p,Lae);return w.createElement(qj,cN({},N,j,{scale:c,x:f.x,y:f.y,width:h.width,height:h.height,className:Ft("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:d,axisType:l}))},Fae={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:Ps.axisLine,height:Zn.height,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:Zn.type,xAxisId:0},$ae=t=>{var e=Sr(t,Fae);return w.createElement(w.Fragment,null,w.createElement(Vae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(zae,e))},r3=w.memo($ae,n3);r3.displayName="XAxis";var Bae=["dangerouslySetInnerHTML","ticks"],qae=["id"];function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uN.apply(null,arguments)}function B4(t,e){if(t==null)return{};var n,r,a=Hae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Hae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gae(t){var e=ln(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Jte(t)):n.current!==t&&e(Zte({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(ene(n.current)),n.current=null)},[e]),null}var Kae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,l=w.useRef(null),c=w.useRef(null),d=Be(x_),h=Xr(),f=ln(),p="yAxis",g=Be(C=>ld(C,p,e,h)),v=Be(C=>U5(C,e)),N=Be(C=>iQ(C,e)),_=Be(C=>F5(C,p,e,h)),j=Be(C=>v5(C,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Pj(a)||w.isValidElement(a)||j==null)){var C=l.current;if(C){var L=C.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&f(tne({id:e,width:L}))}}},[_,v,f,a,e,r,j]),v==null||N==null||j==null)return null;var{dangerouslySetInnerHTML:E,ticks:I}=t,R=B4(t,Bae),{id:M}=j,T=B4(j,qae);return w.createElement(qj,uN({},R,T,{ref:l,labelRef:c,scale:g,x:N.x,y:N.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Ft("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:_,axisType:p}))},Yae={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,angle:er.angle,axisLine:Ps.axisLine,hide:!1,includeHidden:er.includeHidden,interval:er.interval,minTickGap:er.minTickGap,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:er.type,width:er.width,yAxisId:0},Wae=t=>{var e=Sr(t,Yae);return w.createElement(w.Fragment,null,w.createElement(Gae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Kae,e))},a3=w.memo(Wae,n3);a3.displayName="YAxis";var Xae=(t,e)=>e,Hj=oe([Xae,_t,g5,Yn,r6,el,vJ,Gn],SJ),Gj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},i3=Pa("mouseClick"),s3=wf();s3.startListening({actionCreator:i3,effect:(t,e)=>{var n=t.payload,r=Hj(e.getState(),Gj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(vQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var dN=Pa("mouseMove"),l3=wf(),$p=null;l3.startListening({actionCreator:dN,effect:(t,e)=>{var n=t.payload;$p!==null&&cancelAnimationFrame($p);var r=Gj(n);$p=requestAnimationFrame(()=>{var a=e.getState(),l=jj(a,a.tooltip.settings.shared);if(l==="axis"){var c=Hj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch(W5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(Y5())}$p=null})}});var q4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},o3=Wr({name:"rootProps",initialState:q4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:q4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Qae=o3.reducer,{updateOptions:Jae}=o3.actions,c3=Wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Zae}=c3.actions,eie=c3.reducer,u3=Pa("keyDown"),d3=Pa("focus"),Kj=wf();Kj.startListening({actionCreator:u3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=t.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Ej(a,cd(n),Df(n),Mf(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var h=el(n);if(l==="Enter"){var f=ey(n,"axis","hover",String(a.index));e.dispatch(rN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var p=cQ(n),g=p==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,N=d+v*g;if(!(h==null||N>=h.length||N<0)){var _=ey(n,"axis","hover",String(N));e.dispatch(rN({active:!0,activeIndex:N.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});Kj.startListening({actionCreator:d3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",c=ey(n,"axis","hover",String(l));e.dispatch(rN({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Ca=Pa("externalEvent"),h3=wf(),$w=new Map;h3.startListening({actionCreator:Ca,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,l=$w.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=e.getState(),h={activeCoordinate:aJ(d),activeDataKey:l6(d),activeIndex:oc(d),activeLabel:s6(d),activeTooltipIndex:oc(d),isTooltipActive:iJ(d)};n(h,r)}finally{$w.delete(a)}});$w.set(a,c)}}});var tie=oe([od],t=>t.tooltipItemPayloads),nie=oe([tie,Pf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:l}=a;if(l!=null){var c=e(l,n);return c}}}),f3=Pa("touchMove"),m3=wf();m3.startListening({actionCreator:f3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=jj(r,r.tooltip.settings.shared);if(a==="axis"){var l=Hj(r,Gj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&e.dispatch(W5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(Lk),p=(c=h.getAttribute(Uk))!==null&&c!==void 0?c:void 0,g=nie(e.getState(),f,p);e.dispatch(K5({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}}});var rie=ik({brush:Ure,cartesianAxis:nne,chartData:rZ,errorBars:gne,graphicalItems:gte,layout:Kq,legend:ZH,options:JJ,polarAxis:Iee,polarOptions:eie,referenceElements:Hre,rootProps:Qae,tooltip:bQ,zIndex:zJ}),aie=function(e){return xq({reducer:rie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([s3.middleware,l3.middleware,Kj.middleware,h3.middleware,m3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(bk({type:"raf"}))},devTools:xc.devToolsEnabled})};function p3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Xr(),l=w.useRef(null);if(a)return n;l.current==null&&(l.current=aie(e));var c=c_;return w.createElement(zne,{context:c,store:l.current},n)}function iie(t){var{layout:e,margin:n}=t,r=ln(),a=Xr();return w.useEffect(()=>{a||(r(qq(e)),r(Bq(n)))},[r,a,e,n]),null}var g3=w.memo(iie,Fj);function y3(t){var e=ln();return w.useEffect(()=>{e(Jae(t))},[e,t]),null}function H4(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=V6("".concat(r).concat(e)),l=ln();return w.useLayoutEffect(()=>(l(UJ({zIndex:e,elementId:a,isPanorama:n})),()=>{l(VJ({zIndex:e,isPanorama:n}))}),[l,e,a,n]),w.createElement("g",{id:a})}function G4(t){var{children:e,isPanorama:n}=t,r=Be(TJ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),l=r.filter(c=>c>0);return w.createElement(w.Fragment,null,a.map(c=>w.createElement(H4,{key:c,zIndex:c,isPanorama:n})),e,l.map(c=>w.createElement(H4,{key:c,zIndex:c,isPanorama:n})))}var sie=["children"];function lie(t,e){if(t==null)return{};var n,r,a=oie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}var cie={width:"100%",height:"100%",display:"block"},uie=w.forwardRef((t,e)=>{var n=Hk(),r=Gk(),a=rM();if(!Qi(n)||!Qi(r))return null;var{children:l,otherAttributes:c,title:d,desc:h}=t,f,p;return c!=null&&(typeof c.tabIndex=="number"?f=c.tabIndex:f=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),w.createElement(_P,oy({},c,{title:d,desc:h,role:p,tabIndex:f,width:n,height:r,style:cie,ref:e}),l)}),die=t=>{var{children:e}=t,n=Be(e0);if(!n)return null;var{width:r,height:a,y:l,x:c}=n;return w.createElement(_P,{width:r,height:a,x:c,y:l},e)},K4=w.forwardRef((t,e)=>{var{children:n}=t,r=lie(t,sie),a=Xr();return a?w.createElement(die,null,w.createElement(G4,{isPanorama:!0},n)):w.createElement(uie,oy({ref:e},r),w.createElement(G4,{isPanorama:!1},n))});function hie(){var t=ln(),[e,n]=w.useState(null),r=Be(dH);return w.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),l=a.width/e.offsetWidth;jn(l)&&l!==r&&t(Gq(l))}},[e,t,r]),n}function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){mie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mie(t,e,n){return(e=pie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=gie(t,"string");return typeof e=="symbol"?e:e+""}function gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(null,arguments)}var yie=()=>(hZ(),null);function cy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var xie=w.forwardRef((t,e)=>{var n,r,a=w.useRef(null),[l,c]=w.useState({containerWidth:cy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:cy((r=t.style)===null||r===void 0?void 0:r.height)}),d=w.useCallback((f,p)=>{c(g=>{var v=Math.round(f),N=Math.round(p);return g.containerWidth===v&&g.containerHeight===N?g:{containerWidth:v,containerHeight:N}})},[]),h=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=f.getBoundingClientRect();d(p,g);var v=_=>{var{width:j,height:E}=_[0].contentRect;d(j,E)},N=new ResizeObserver(v);N.observe(f),a.current=N}},[e,d]);return w.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(r0,{width:l.containerWidth,height:l.containerHeight}),w.createElement("div",uc({ref:h},t)))}),vie=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,l]=w.useState({containerWidth:cy(n),containerHeight:cy(r)}),c=w.useCallback((h,f)=>{l(p=>{var g=Math.round(h),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),d=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();c(f,p)}},[e,c]);return w.createElement(w.Fragment,null,w.createElement(r0,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",uc({ref:d},t)))}),bie=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(r0,{width:n,height:r}),w.createElement("div",uc({ref:e},t)))}),wie=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ls(n)||Ls(r)?w.createElement(vie,uc({},t,{ref:e})):w.createElement(bie,uc({},t,{ref:e}))});function Nie(t){return t===!0?xie:wie}var _ie=w.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:N,onTouchMove:_,onTouchStart:j,style:E,width:I,responsive:R,dispatchTouchEvents:M=!0}=t,T=w.useRef(null),C=ln(),[L,P]=w.useState(null),[V,$]=w.useState(null),A=hie(),D=v_(),F=(D==null?void 0:D.width)>0?D.width:I,U=(D==null?void 0:D.height)>0?D.height:a,ue=w.useCallback(le=>{A(le),typeof e=="function"&&e(le),P(le),$(le),le!=null&&(T.current=le)},[A,e,P,$]),ne=w.useCallback(le=>{C(i3(le)),C(Ca({handler:l,reactEvent:le}))},[C,l]),G=w.useCallback(le=>{C(dN(le)),C(Ca({handler:f,reactEvent:le}))},[C,f]),Y=w.useCallback(le=>{C(Y5()),C(Ca({handler:p,reactEvent:le}))},[C,p]),H=w.useCallback(le=>{C(dN(le)),C(Ca({handler:g,reactEvent:le}))},[C,g]),pe=w.useCallback(()=>{C(d3())},[C]),X=w.useCallback(le=>{C(u3(le.key))},[C]),z=w.useCallback(le=>{C(Ca({handler:c,reactEvent:le}))},[C,c]),W=w.useCallback(le=>{C(Ca({handler:d,reactEvent:le}))},[C,d]),ge=w.useCallback(le=>{C(Ca({handler:h,reactEvent:le}))},[C,h]),Z=w.useCallback(le=>{C(Ca({handler:v,reactEvent:le}))},[C,v]),ve=w.useCallback(le=>{C(Ca({handler:j,reactEvent:le}))},[C,j]),Ce=w.useCallback(le=>{M&&C(f3(le)),C(Ca({handler:_,reactEvent:le}))},[C,M,_]),De=w.useCallback(le=>{C(Ca({handler:N,reactEvent:le}))},[C,N]),ae=Nie(R);return w.createElement(m6.Provider,{value:L},w.createElement(QF.Provider,{value:V},w.createElement(ae,{width:F??(E==null?void 0:E.width),height:U??(E==null?void 0:E.height),className:Ft("recharts-wrapper",r),style:fie({position:"relative",cursor:"default",width:F,height:U},E),onClick:ne,onContextMenu:z,onDoubleClick:W,onFocus:pe,onKeyDown:X,onMouseDown:ge,onMouseEnter:G,onMouseLeave:Y,onMouseMove:H,onMouseUp:Z,onTouchEnd:De,onTouchMove:Ce,onTouchStart:ve,ref:ue},w.createElement(yie,null),n)))}),jie=["width","height","responsive","children","className","style","compact","title","desc"];function Eie(t,e){if(t==null)return{};var n,r,a=Sie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x3=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:l,className:c,style:d,compact:h,title:f,desc:p}=t,g=Eie(t,jie),v=si(g);return h?w.createElement(w.Fragment,null,w.createElement(r0,{width:n,height:r}),w.createElement(K4,{otherAttributes:v,title:f,desc:p},l)):w.createElement(_ie,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(K4,{otherAttributes:v,title:f,desc:p,ref:e},w.createElement(Kre,null,l)))});function hN(){return hN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hN.apply(null,arguments)}var Aie={top:5,right:5,bottom:5,left:5},Tie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Aie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Cie=w.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,Tie),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:f}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return w.createElement(p3,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},w.createElement(X6,{chartData:f.data}),w.createElement(g3,{layout:a.layout,margin:a.margin}),w.createElement(y3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(x3,hN({},a,{ref:n})))}),Iie=["axis","item"],Oie=w.forwardRef((t,e)=>w.createElement(Cie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Iie,tooltipPayloadSearcher:p6,categoricalChartProps:t,ref:e}));function Die(t){var e=ln();return w.useEffect(()=>{e(Zae(t))},[e,t]),null}var Rie=["layout"];function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fN.apply(null,arguments)}function Pie(t,e){if(t==null)return{};var n,r,a=kie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mie={top:5,right:5,bottom:5,left:5},Lie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Uie=w.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,Lie),{layout:l}=a,c=Pie(a,Rie),{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(p3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},w.createElement(X6,{chartData:a.data}),w.createElement(g3,{layout:l,margin:a.margin}),w.createElement(y3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Die,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(x3,fN({},c,{ref:n})))}),Vie=["item"],zie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Fie=w.forwardRef((t,e)=>{var n=Sr(t,zie);return w.createElement(Uie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Vie,tooltipPayloadSearcher:p6,categoricalChartProps:n,ref:e})});const Ia=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),s.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:s.jsx(n,{className:"w-6 h-6"})})]})},$ie=()=>{};var W4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Bie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},b3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,p=l>>2,g=(l&3)<<4|d>>4;let v=(d&15)<<2|f>>6,N=f&63;h||(N=64,c||(v=64)),r.push(n[p],n[g],n[v],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||f==null||g==null)throw new qie;const v=l<<2|d>>4;if(r.push(v),f!==64){const N=d<<4&240|f>>2;if(r.push(N),g!==64){const _=f<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hie=function(t){const e=v3(t);return b3.encodeByteArray(e,!0)},uy=function(t){return Hie(t).replace(/\./g,"")},w3=function(t){try{return b3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie=()=>Gie().__FIREBASE_DEFAULTS__,Yie=()=>{if(typeof process>"u"||typeof W4>"u")return;const t=W4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w3(t[1]);return e&&JSON.parse(e)},C0=()=>{try{return $ie()||Kie()||Yie()||Wie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N3=t=>{var e,n;return(n=(e=C0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_3=t=>{const e=N3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},j3=()=>{var t;return(t=C0())==null?void 0:t.config},E3=t=>{var e;return(e=C0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uy(JSON.stringify(n)),uy(JSON.stringify(c)),""].join(".")}const Ph={};function Qie(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ph))Ph[e]?t.emulator.push(e):t.prod.push(e);return t}function Jie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X4=!1;function Wj(t,e){if(typeof window>"u"||typeof document>"u"||!wc(window.location.host)||Ph[t]===e||Ph[t]||X4)return;Ph[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=Qie().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,N){v.setAttribute("width","24"),v.setAttribute("id",N),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{X4=!0,c()},v}function p(v,N){v.setAttribute("id",N),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=Jie(r),N=n("text"),_=document.getElementById(N)||document.createElement("span"),j=n("learnmore"),E=document.getElementById(j)||document.createElement("a"),I=n("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;d(M),p(E,j);const T=f();h(R,I),M.append(R,_,E,T),document.body.appendChild(M)}l?(_.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function ese(){var e;const t=(e=C0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tse(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nse(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rse(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ase(){return!ese()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T3(){try{return typeof indexedDB=="object"}catch{return!1}}function C3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function ise(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse="FirebaseError";class Ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sse,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?lse(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ua(a,d,r)}}function lse(t,e){return t.replace(ose,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const ose=/\{\$([^}]+)}/g;function cse(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(Q4(l)&&Q4(c)){if(!Xl(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Q4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function use(t,e){const n=new dse(t,e);return n.subscribe.bind(n)}class dse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hse(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Bw),a.error===void 0&&(a.error=Bw),a.complete===void 0&&(a.complete=Bw);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hse(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fse=1e3,mse=2,pse=14400*1e3,gse=.5;function J4(t,e=fse,n=mse){const r=e*Math.pow(n,t),a=Math.round(gse*r*(Math.random()-.5)*2);return Math.min(pse,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class Ma{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vse(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xse(t){return t===Go?void 0:t}function vse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const wse={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},Nse=ft.INFO,_se={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},jse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=_se[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=Nse,this._logHandler=jse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const Ese=(t,e)=>e.some(n=>t instanceof n);let Z4,eD;function Sse(){return Z4||(Z4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ase(){return eD||(eD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I3=new WeakMap,mN=new WeakMap,O3=new WeakMap,qw=new WeakMap,Xj=new WeakMap;function Tse(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n($l(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&I3.set(n,t)}).catch(()=>{}),Xj.set(e,t),e}function Cse(t){if(mN.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});mN.set(t,e)}let pN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $l(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ise(t){pN=t(pN)}function Ose(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hw(this),e,...n);return O3.set(r,e.sort?e.sort():[e]),$l(r)}:Ase().includes(t)?function(...e){return t.apply(Hw(this),e),$l(I3.get(this))}:function(...e){return $l(t.apply(Hw(this),e))}}function Dse(t){return typeof t=="function"?Ose(t):(t instanceof IDBTransaction&&Cse(t),Ese(t,Sse())?new Proxy(t,pN):t)}function $l(t){if(t instanceof IDBRequest)return Tse(t);if(qw.has(t))return qw.get(t);const e=Dse(t);return e!==t&&(qw.set(t,e),Xj.set(e,t)),e}const Hw=t=>Xj.get(t);function D3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=$l(c);return r&&c.addEventListener("upgradeneeded",h=>{r($l(c.result),h.oldVersion,h.newVersion,$l(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const Rse=["get","getKey","getAll","getAllKeys","count"],Pse=["put","add","delete","clear"],Gw=new Map;function tD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gw.get(e))return Gw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Pse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Rse.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&h.done]))[0]};return Gw.set(e,l),l}Ise(t=>({...t,get:(e,n,r)=>tD(e,n)||t.get(e,n,r),has:(e,n)=>!!tD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gN="@firebase/app",nD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new I0("@firebase/app"),Lse="@firebase/app-compat",Use="@firebase/analytics-compat",Vse="@firebase/analytics",zse="@firebase/app-check-compat",Fse="@firebase/app-check",$se="@firebase/auth",Bse="@firebase/auth-compat",qse="@firebase/database",Hse="@firebase/data-connect",Gse="@firebase/database-compat",Kse="@firebase/functions",Yse="@firebase/functions-compat",Wse="@firebase/installations",Xse="@firebase/installations-compat",Qse="@firebase/messaging",Jse="@firebase/messaging-compat",Zse="@firebase/performance",ele="@firebase/performance-compat",tle="@firebase/remote-config",nle="@firebase/remote-config-compat",rle="@firebase/storage",ale="@firebase/storage-compat",ile="@firebase/firestore",sle="@firebase/ai",lle="@firebase/firestore-compat",ole="firebase",cle="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="[DEFAULT]",ule={[gN]:"fire-core",[Lse]:"fire-core-compat",[Vse]:"fire-analytics",[Use]:"fire-analytics-compat",[Fse]:"fire-app-check",[zse]:"fire-app-check-compat",[$se]:"fire-auth",[Bse]:"fire-auth-compat",[qse]:"fire-rtdb",[Hse]:"fire-data-connect",[Gse]:"fire-rtdb-compat",[Kse]:"fire-fn",[Yse]:"fire-fn-compat",[Wse]:"fire-iid",[Xse]:"fire-iid-compat",[Qse]:"fire-fcm",[Jse]:"fire-fcm-compat",[Zse]:"fire-perf",[ele]:"fire-perf-compat",[tle]:"fire-rc",[nle]:"fire-rc-compat",[rle]:"fire-gcs",[ale]:"fire-gcs-compat",[ile]:"fire-fst",[lle]:"fire-fst-compat",[sle]:"fire-vertex","fire-js":"fire-js",[ole]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map,dle=new Map,xN=new Map;function rD(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oi(t){const e=t.name;if(xN.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;xN.set(e,t);for(const n of dy.values())rD(n,t);for(const n of dle.values())rD(n,t);return!0}function lo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bl=new Nc("app","Firebase",hle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=cle;function R3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:yN,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Bl.create("bad-app-name",{appName:String(a)});if(n||(n=j3()),!n)throw Bl.create("no-options");const l=dy.get(a);if(l){if(Xl(n,l.options)&&Xl(r,l.config))return l;throw Bl.create("duplicate-app",{appName:a})}const c=new bse(a);for(const h of xN.values())c.addComponent(h);const d=new fle(n,r,c);return dy.set(a,d),d}function O0(t=yN){const e=dy.get(t);if(!e&&t===yN&&j3())return R3();if(!e)throw Bl.create("no-app",{appName:t});return e}function Kr(t,e,n){let r=ule[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(c.join(" "));return}oi(new Ma(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mle="firebase-heartbeat-database",ple=1,rf="firebase-heartbeat-store";let Kw=null;function P3(){return Kw||(Kw=D3(mle,ple,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bl.create("idb-open",{originalErrorMessage:t.message})})),Kw}async function gle(t){try{const n=(await P3()).transaction(rf),r=await n.objectStore(rf).get(k3(t));return await n.done,r}catch(e){if(e instanceof Ua)qs.warn(e.message);else{const n=Bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function aD(t,e){try{const r=(await P3()).transaction(rf,"readwrite");await r.objectStore(rf).put(e,k3(t)),await r.done}catch(n){if(n instanceof Ua)qs.warn(n.message);else{const r=Bl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function k3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yle=1024,xle=30;class vle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=iD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>xle){const c=Nle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iD(),{heartbeatsToSend:r,unsentEntries:a}=ble(this._heartbeatsCache.heartbeats),l=uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return qs.warn(n),""}}}function iD(){return new Date().toISOString().substring(0,10)}function ble(t,e=yle){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),sD(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T3()?C3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sD(t){return uy(JSON.stringify({version:2,heartbeats:t})).length}function Nle(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _le(t){oi(new Ma("platform-logger",e=>new kse(e),"PRIVATE")),oi(new Ma("heartbeat",e=>new vle(e),"PRIVATE")),Kr(gN,nD,t),Kr(gN,nD,"esm2020"),Kr("fire-js","")}_le("");var jle="firebase",Ele="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(jle,Ele,"app");const M3="@firebase/installations",Qj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=1e4,U3=`w:${Qj}`,V3="FIS_v2",Sle="https://firebaseinstallations.googleapis.com/v1",Ale=3600*1e3,Tle="installations",Cle="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ile={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dc=new Nc(Tle,Cle,Ile);function z3(t){return t instanceof Ua&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3({projectId:t}){return`${Sle}/projects/${t}/installations`}function $3(t){return{token:t.token,requestStatus:2,expiresIn:Dle(t.expiresIn),creationTime:Date.now()}}async function B3(t,e){const r=(await e.json()).error;return dc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function q3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ole(t,{refreshToken:e}){const n=q3(t);return n.append("Authorization",Rle(e)),n}async function H3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Dle(t){return Number(t.replace("s","000"))}function Rle(t){return`${V3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ple({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=F3(t),a=q3(t),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={fid:n,authVersion:V3,appId:t.appId,sdkVersion:U3},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await H3(()=>fetch(r,d));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:$3(f.authToken)}}else throw await B3("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=/^[cdef][\w-]{21}$/,vN="";function Lle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Ule(t);return Mle.test(n)?n:vN}catch{return vN}}function Ule(t){return kle(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Map;function Y3(t,e){const n=D0(t);W3(n,e),Vle(n,e)}function W3(t,e){const n=K3.get(t);if(n)for(const r of n)r(e)}function Vle(t,e){const n=zle();n&&n.postMessage({key:t,fid:e}),Fle()}let Qo=null;function zle(){return!Qo&&"BroadcastChannel"in self&&(Qo=new BroadcastChannel("[Firebase] FID Change"),Qo.onmessage=t=>{W3(t.data.key,t.data.fid)}),Qo}function Fle(){K3.size===0&&Qo&&(Qo.close(),Qo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $le="firebase-installations-database",Ble=1,hc="firebase-installations-store";let Yw=null;function Jj(){return Yw||(Yw=D3($le,Ble,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hc)}}})),Yw}async function hy(t,e){const n=D0(t),a=(await Jj()).transaction(hc,"readwrite"),l=a.objectStore(hc),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&Y3(t,e.fid),e}async function X3(t){const e=D0(t),r=(await Jj()).transaction(hc,"readwrite");await r.objectStore(hc).delete(e),await r.done}async function R0(t,e){const n=D0(t),a=(await Jj()).transaction(hc,"readwrite"),l=a.objectStore(hc),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&Y3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t){let e;const n=await R0(t.appConfig,r=>{const a=qle(r),l=Hle(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===vN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function qle(t){const e=t||{fid:Lle(),registrationStatus:0};return Q3(e)}function Hle(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(dc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Gle(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Kle(t)}:{installationEntry:e}}async function Gle(t,e){try{const n=await Ple(t,e);return hy(t.appConfig,n)}catch(n){throw z3(n)&&n.customData.serverCode===409?await X3(t.appConfig):await hy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Kle(t){let e=await lD(t.appConfig);for(;e.registrationStatus===1;)await G3(100),e=await lD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Zj(t);return r||n}return e}function lD(t){return R0(t,e=>{if(!e)throw dc.create("installation-not-found");return Q3(e)})}function Q3(t){return Yle(t)?{fid:t.fid,registrationStatus:0}:t}function Yle(t){return t.registrationStatus===1&&t.registrationTime+L3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wle({appConfig:t,heartbeatServiceProvider:e},n){const r=Xle(t,n),a=Ole(t,n),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={installation:{sdkVersion:U3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await H3(()=>fetch(r,d));if(h.ok){const f=await h.json();return $3(f)}else throw await B3("Generate Auth Token",h)}function Xle(t,{fid:e}){return`${F3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(t,e=!1){let n;const r=await R0(t.appConfig,l=>{if(!J3(l))throw dc.create("not-registered");const c=l.authToken;if(!e&&Zle(c))return l;if(c.requestStatus===1)return n=Qle(t,e),l;{if(!navigator.onLine)throw dc.create("app-offline");const d=toe(l);return n=Jle(t,d),d}});return n?await n:r.authToken}async function Qle(t,e){let n=await oD(t.appConfig);for(;n.authToken.requestStatus===1;)await G3(100),n=await oD(t.appConfig);const r=n.authToken;return r.requestStatus===0?eE(t,e):r}function oD(t){return R0(t,e=>{if(!J3(e))throw dc.create("not-registered");const n=e.authToken;return noe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Jle(t,e){try{const n=await Wle(t,e),r={...e,authToken:n};return await hy(t.appConfig,r),n}catch(n){if(z3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await X3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await hy(t.appConfig,r)}throw n}}function J3(t){return t!==void 0&&t.registrationStatus===2}function Zle(t){return t.requestStatus===2&&!eoe(t)}function eoe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ale}function toe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function noe(t){return t.requestStatus===1&&t.requestTime+L3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function roe(t){const e=t,{installationEntry:n,registrationPromise:r}=await Zj(e);return r?r.catch(console.error):eE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aoe(t,e=!1){const n=t;return await ioe(n),(await eE(n,e)).token}async function ioe(t){const{registrationPromise:e}=await Zj(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t){if(!t||!t.options)throw Ww("App Configuration");if(!t.name)throw Ww("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ww(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ww(t){return dc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="installations",loe="installations-internal",ooe=t=>{const e=t.getProvider("app").getImmediate(),n=soe(e),r=lo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},coe=t=>{const e=t.getProvider("app").getImmediate(),n=lo(e,Z3).getImmediate();return{getId:()=>roe(n),getToken:a=>aoe(n,a)}};function uoe(){oi(new Ma(Z3,ooe,"PUBLIC")),oi(new Ma(loe,coe,"PRIVATE"))}uoe();Kr(M3,Qj);Kr(M3,Qj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="analytics",doe="firebase_id",hoe="origin",foe=60*1e3,moe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new I0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},da=new Nc("analytics","Analytics",poe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t){if(!t.startsWith(tE)){const e=da.create("invalid-gtag-resource",{gtagURL:t});return Or.warn(e.message),""}return t}function eL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function yoe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xoe(t,e){const n=yoe("firebase-js-sdk-policy",{createScriptURL:goe}),r=document.createElement("script"),a=`${tE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function voe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function boe(t,e,n,r,a,l){const c=r[a];try{if(c)await e[c];else{const h=(await eL(n)).find(f=>f.measurementId===a);h&&await e[h.appId]}}catch(d){Or.error(d)}t("config",a,l)}async function woe(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await eL(n);for(const h of c){const f=d.find(g=>g.measurementId===h),p=f&&e[f.appId];if(p)l.push(p);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){Or.error(l)}}function Noe(t,e,n,r){async function a(l,...c){try{if(l==="event"){const[d,h]=c;await woe(t,e,n,d,h)}else if(l==="config"){const[d,h]=c;await boe(t,e,n,r,d,h)}else if(l==="consent"){const[d,h]=c;t("consent",d,h)}else if(l==="get"){const[d,h,f]=c;t("get",d,h,f)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){Or.error(d)}}return a}function _oe(t,e,n,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=Noe(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function joe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(tE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eoe=30,Soe=1e3;class Aoe{constructor(e={},n=Soe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tL=new Aoe;function Toe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Coe(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Toe(n)},a=moe.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let d="";try{const h=await l.json();(c=h.error)!=null&&c.message&&(d=h.error.message)}catch{}throw da.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function Ioe(t,e=tL,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw da.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw da.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Roe;return setTimeout(async()=>{d.abort()},foe),nL({appId:r,apiKey:a,measurementId:l},c,d,e)}async function nL(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=tL){var d;const{appId:l,measurementId:c}=t;try{await Ooe(r,e)}catch(h){if(c)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await Coe(t);return a.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!Doe(f)){if(a.deleteThrottleMetadata(l),c)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const p=Number((d=f==null?void 0:f.customData)==null?void 0:d.httpStatus)===503?J4(n,a.intervalMillis,Eoe):J4(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,g),Or.debug(`Calling attemptFetch again in ${p} millis`),nL(t,g,r,a)}}function Ooe(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Doe(t){if(!(t instanceof Ua)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Roe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Poe(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,c={...r,send_to:l};t("event",n,c)}}async function koe(t,e,n,r){if(r&&r.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Moe(){if(T3())try{await C3()}catch(t){return Or.warn(da.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Or.warn(da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Loe(t,e,n,r,a,l,c){const d=Ioe(t);d.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Or.error(v)),e.push(d);const h=Moe().then(v=>{if(v)return r.getId()}),[f,p]=await Promise.all([d,h]);joe(l)||xoe(l,f.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[hoe]="firebase",g.update=!0,p!=null&&(g[doe]=p),a("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(e){this.app=e}_delete(){return delete Cu[this.app.options.appId],Promise.resolve()}}let Cu={},cD=[];const uD={};let Xw="dataLayer",Voe="gtag",dD,nE,hD=!1;function zoe(){const t=[];if(A3()&&t.push("This is a browser extension environment."),ise()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=da.create("invalid-analytics-context",{errorInfo:e});Or.warn(n.message)}}function Foe(t,e,n){zoe();const r=t.options.appId;if(!r)throw da.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw da.create("no-api-key");if(Cu[r]!=null)throw da.create("already-exists",{id:r});if(!hD){voe(Xw);const{wrappedGtag:l,gtagCore:c}=_oe(Cu,cD,uD,Xw,Voe);nE=l,dD=c,hD=!0}return Cu[r]=Loe(t,cD,uD,e,dD,Xw,n),new Uoe(t)}function $oe(t=O0()){t=En(t);const e=lo(t,fy);return e.isInitialized()?e.getImmediate():Boe(t)}function Boe(t,e={}){const n=lo(t,fy);if(n.isInitialized()){const a=n.getImmediate();if(Xl(e,n.getOptions()))return a;throw da.create("already-initialized")}return n.initialize({options:e})}function qoe(t,e,n){t=En(t),koe(nE,Cu[t.app.options.appId],e,n).catch(r=>Or.error(r))}function Hoe(t,e,n,r){t=En(t),Poe(nE,Cu[t.app.options.appId],e,n,r).catch(a=>Or.error(a))}const fD="@firebase/analytics",mD="0.10.19";function Goe(){oi(new Ma(fy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Foe(r,a,n)},"PUBLIC")),oi(new Ma("analytics-internal",t,"PRIVATE")),Kr(fD,mD),Kr(fD,mD,"esm2020");function t(e){try{const n=e.getProvider(fy).getImmediate();return{logEvent:(r,a,l)=>Hoe(n,r,a,l),setUserProperties:(r,a)=>qoe(n,r,a)}}catch(n){throw da.create("interop-component-reg-failed",{reason:n})}}}Goe();var pD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ql,rL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,V){function $(){}$.prototype=V.prototype,P.F=V.prototype,P.prototype=new $,P.prototype.constructor=P,P.D=function(A,D,F){for(var U=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)U[ue-2]=arguments[ue];return V.prototype[D].apply(A,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,V,$){$||($=0);const A=Array(16);if(typeof V=="string")for(var D=0;D<16;++D)A[D]=V.charCodeAt($++)|V.charCodeAt($++)<<8|V.charCodeAt($++)<<16|V.charCodeAt($++)<<24;else for(D=0;D<16;++D)A[D]=V[$++]|V[$++]<<8|V[$++]<<16|V[$++]<<24;V=P.g[0],$=P.g[1],D=P.g[2];let F=P.g[3],U;U=V+(F^$&(D^F))+A[0]+3614090360&4294967295,V=$+(U<<7&4294967295|U>>>25),U=F+(D^V&($^D))+A[1]+3905402710&4294967295,F=V+(U<<12&4294967295|U>>>20),U=D+($^F&(V^$))+A[2]+606105819&4294967295,D=F+(U<<17&4294967295|U>>>15),U=$+(V^D&(F^V))+A[3]+3250441966&4294967295,$=D+(U<<22&4294967295|U>>>10),U=V+(F^$&(D^F))+A[4]+4118548399&4294967295,V=$+(U<<7&4294967295|U>>>25),U=F+(D^V&($^D))+A[5]+1200080426&4294967295,F=V+(U<<12&4294967295|U>>>20),U=D+($^F&(V^$))+A[6]+2821735955&4294967295,D=F+(U<<17&4294967295|U>>>15),U=$+(V^D&(F^V))+A[7]+4249261313&4294967295,$=D+(U<<22&4294967295|U>>>10),U=V+(F^$&(D^F))+A[8]+1770035416&4294967295,V=$+(U<<7&4294967295|U>>>25),U=F+(D^V&($^D))+A[9]+2336552879&4294967295,F=V+(U<<12&4294967295|U>>>20),U=D+($^F&(V^$))+A[10]+4294925233&4294967295,D=F+(U<<17&4294967295|U>>>15),U=$+(V^D&(F^V))+A[11]+2304563134&4294967295,$=D+(U<<22&4294967295|U>>>10),U=V+(F^$&(D^F))+A[12]+1804603682&4294967295,V=$+(U<<7&4294967295|U>>>25),U=F+(D^V&($^D))+A[13]+4254626195&4294967295,F=V+(U<<12&4294967295|U>>>20),U=D+($^F&(V^$))+A[14]+2792965006&4294967295,D=F+(U<<17&4294967295|U>>>15),U=$+(V^D&(F^V))+A[15]+1236535329&4294967295,$=D+(U<<22&4294967295|U>>>10),U=V+(D^F&($^D))+A[1]+4129170786&4294967295,V=$+(U<<5&4294967295|U>>>27),U=F+($^D&(V^$))+A[6]+3225465664&4294967295,F=V+(U<<9&4294967295|U>>>23),U=D+(V^$&(F^V))+A[11]+643717713&4294967295,D=F+(U<<14&4294967295|U>>>18),U=$+(F^V&(D^F))+A[0]+3921069994&4294967295,$=D+(U<<20&4294967295|U>>>12),U=V+(D^F&($^D))+A[5]+3593408605&4294967295,V=$+(U<<5&4294967295|U>>>27),U=F+($^D&(V^$))+A[10]+38016083&4294967295,F=V+(U<<9&4294967295|U>>>23),U=D+(V^$&(F^V))+A[15]+3634488961&4294967295,D=F+(U<<14&4294967295|U>>>18),U=$+(F^V&(D^F))+A[4]+3889429448&4294967295,$=D+(U<<20&4294967295|U>>>12),U=V+(D^F&($^D))+A[9]+568446438&4294967295,V=$+(U<<5&4294967295|U>>>27),U=F+($^D&(V^$))+A[14]+3275163606&4294967295,F=V+(U<<9&4294967295|U>>>23),U=D+(V^$&(F^V))+A[3]+4107603335&4294967295,D=F+(U<<14&4294967295|U>>>18),U=$+(F^V&(D^F))+A[8]+1163531501&4294967295,$=D+(U<<20&4294967295|U>>>12),U=V+(D^F&($^D))+A[13]+2850285829&4294967295,V=$+(U<<5&4294967295|U>>>27),U=F+($^D&(V^$))+A[2]+4243563512&4294967295,F=V+(U<<9&4294967295|U>>>23),U=D+(V^$&(F^V))+A[7]+1735328473&4294967295,D=F+(U<<14&4294967295|U>>>18),U=$+(F^V&(D^F))+A[12]+2368359562&4294967295,$=D+(U<<20&4294967295|U>>>12),U=V+($^D^F)+A[5]+4294588738&4294967295,V=$+(U<<4&4294967295|U>>>28),U=F+(V^$^D)+A[8]+2272392833&4294967295,F=V+(U<<11&4294967295|U>>>21),U=D+(F^V^$)+A[11]+1839030562&4294967295,D=F+(U<<16&4294967295|U>>>16),U=$+(D^F^V)+A[14]+4259657740&4294967295,$=D+(U<<23&4294967295|U>>>9),U=V+($^D^F)+A[1]+2763975236&4294967295,V=$+(U<<4&4294967295|U>>>28),U=F+(V^$^D)+A[4]+1272893353&4294967295,F=V+(U<<11&4294967295|U>>>21),U=D+(F^V^$)+A[7]+4139469664&4294967295,D=F+(U<<16&4294967295|U>>>16),U=$+(D^F^V)+A[10]+3200236656&4294967295,$=D+(U<<23&4294967295|U>>>9),U=V+($^D^F)+A[13]+681279174&4294967295,V=$+(U<<4&4294967295|U>>>28),U=F+(V^$^D)+A[0]+3936430074&4294967295,F=V+(U<<11&4294967295|U>>>21),U=D+(F^V^$)+A[3]+3572445317&4294967295,D=F+(U<<16&4294967295|U>>>16),U=$+(D^F^V)+A[6]+76029189&4294967295,$=D+(U<<23&4294967295|U>>>9),U=V+($^D^F)+A[9]+3654602809&4294967295,V=$+(U<<4&4294967295|U>>>28),U=F+(V^$^D)+A[12]+3873151461&4294967295,F=V+(U<<11&4294967295|U>>>21),U=D+(F^V^$)+A[15]+530742520&4294967295,D=F+(U<<16&4294967295|U>>>16),U=$+(D^F^V)+A[2]+3299628645&4294967295,$=D+(U<<23&4294967295|U>>>9),U=V+(D^($|~F))+A[0]+4096336452&4294967295,V=$+(U<<6&4294967295|U>>>26),U=F+($^(V|~D))+A[7]+1126891415&4294967295,F=V+(U<<10&4294967295|U>>>22),U=D+(V^(F|~$))+A[14]+2878612391&4294967295,D=F+(U<<15&4294967295|U>>>17),U=$+(F^(D|~V))+A[5]+4237533241&4294967295,$=D+(U<<21&4294967295|U>>>11),U=V+(D^($|~F))+A[12]+1700485571&4294967295,V=$+(U<<6&4294967295|U>>>26),U=F+($^(V|~D))+A[3]+2399980690&4294967295,F=V+(U<<10&4294967295|U>>>22),U=D+(V^(F|~$))+A[10]+4293915773&4294967295,D=F+(U<<15&4294967295|U>>>17),U=$+(F^(D|~V))+A[1]+2240044497&4294967295,$=D+(U<<21&4294967295|U>>>11),U=V+(D^($|~F))+A[8]+1873313359&4294967295,V=$+(U<<6&4294967295|U>>>26),U=F+($^(V|~D))+A[15]+4264355552&4294967295,F=V+(U<<10&4294967295|U>>>22),U=D+(V^(F|~$))+A[6]+2734768916&4294967295,D=F+(U<<15&4294967295|U>>>17),U=$+(F^(D|~V))+A[13]+1309151649&4294967295,$=D+(U<<21&4294967295|U>>>11),U=V+(D^($|~F))+A[4]+4149444226&4294967295,V=$+(U<<6&4294967295|U>>>26),U=F+($^(V|~D))+A[11]+3174756917&4294967295,F=V+(U<<10&4294967295|U>>>22),U=D+(V^(F|~$))+A[2]+718787259&4294967295,D=F+(U<<15&4294967295|U>>>17),U=$+(F^(D|~V))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+V&4294967295,P.g[1]=P.g[1]+(D+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.v=function(P,V){V===void 0&&(V=P.length);const $=V-this.blockSize,A=this.C;let D=this.h,F=0;for(;F<V;){if(D==0)for(;F<=$;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<V;)if(A[D++]=P.charCodeAt(F++),D==this.blockSize){a(this,A),D=0;break}}else for(;F<V;)if(A[D++]=P[F++],D==this.blockSize){a(this,A),D=0;break}}this.h=D,this.o+=V},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var V=1;V<P.length-8;++V)P[V]=0;V=this.o*8;for(var $=P.length-8;$<P.length;++$)P[$]=V&255,V/=256;for(this.v(P),P=Array(16),V=0,$=0;$<4;++$)for(let A=0;A<32;A+=8)P[V++]=this.g[$]>>>A&255;return P};function l(P,V){var $=d;return Object.prototype.hasOwnProperty.call($,P)?$[P]:$[P]=V(P)}function c(P,V){this.h=V;const $=[];let A=!0;for(let D=P.length-1;D>=0;D--){const F=P[D]|0;A&&F==V||($[D]=F,A=!1)}this.g=$}var d={};function h(P){return-128<=P&&P<128?l(P,function(V){return new c([V|0],V<0?-1:0)}):new c([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return g;if(P<0)return E(f(-P));const V=[];let $=1;for(let A=0;P>=$;A++)V[A]=P/$|0,$*=4294967296;return new c(V,0)}function p(P,V){if(P.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(P.charAt(0)=="-")return E(p(P.substring(1),V));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const $=f(Math.pow(V,8));let A=g;for(let F=0;F<P.length;F+=8){var D=Math.min(8,P.length-F);const U=parseInt(P.substring(F,F+D),V);D<8?(D=f(Math.pow(V,D)),A=A.j(D).add(f(U))):(A=A.j($),A=A.add(f(U)))}return A}var g=h(0),v=h(1),N=h(16777216);t=c.prototype,t.m=function(){if(j(this))return-E(this).m();let P=0,V=1;for(let $=0;$<this.g.length;$++){const A=this.i($);P+=(A>=0?A:4294967296+A)*V,V*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(j(this))return"-"+E(this).toString(P);const V=f(Math.pow(P,6));var $=this;let A="";for(;;){const D=T($,V).g;$=I($,D.j(V));let F=(($.g.length>0?$.g[0]:$.h)>>>0).toString(P);if($=D,_($))return F+A;for(;F.length<6;)F="0"+F;A=F+A}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(let V=0;V<P.g.length;V++)if(P.g[V]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=I(this,P),j(P)?-1:_(P)?0:1};function E(P){const V=P.g.length,$=[];for(let A=0;A<V;A++)$[A]=~P.g[A];return new c($,~P.h).add(v)}t.abs=function(){return j(this)?E(this):this},t.add=function(P){const V=Math.max(this.g.length,P.g.length),$=[];let A=0;for(let D=0;D<=V;D++){let F=A+(this.i(D)&65535)+(P.i(D)&65535),U=(F>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);A=U>>>16,F&=65535,U&=65535,$[D]=U<<16|F}return new c($,$[$.length-1]&-2147483648?-1:0)};function I(P,V){return P.add(E(V))}t.j=function(P){if(_(this)||_(P))return g;if(j(this))return j(P)?E(this).j(E(P)):E(E(this).j(P));if(j(P))return E(this.j(E(P)));if(this.l(N)<0&&P.l(N)<0)return f(this.m()*P.m());const V=this.g.length+P.g.length,$=[];for(var A=0;A<2*V;A++)$[A]=0;for(A=0;A<this.g.length;A++)for(let D=0;D<P.g.length;D++){const F=this.i(A)>>>16,U=this.i(A)&65535,ue=P.i(D)>>>16,ne=P.i(D)&65535;$[2*A+2*D]+=U*ne,R($,2*A+2*D),$[2*A+2*D+1]+=F*ne,R($,2*A+2*D+1),$[2*A+2*D+1]+=U*ue,R($,2*A+2*D+1),$[2*A+2*D+2]+=F*ue,R($,2*A+2*D+2)}for(P=0;P<V;P++)$[P]=$[2*P+1]<<16|$[2*P];for(P=V;P<2*V;P++)$[P]=0;return new c($,0)};function R(P,V){for(;(P[V]&65535)!=P[V];)P[V+1]+=P[V]>>>16,P[V]&=65535,V++}function M(P,V){this.g=P,this.h=V}function T(P,V){if(_(V))throw Error("division by zero");if(_(P))return new M(g,g);if(j(P))return V=T(E(P),V),new M(E(V.g),E(V.h));if(j(V))return V=T(P,E(V)),new M(E(V.g),V.h);if(P.g.length>30){if(j(P)||j(V))throw Error("slowDivide_ only works with positive integers.");for(var $=v,A=V;A.l(P)<=0;)$=C($),A=C(A);var D=L($,1),F=L(A,1);for(A=L(A,2),$=L($,2);!_(A);){var U=F.add(A);U.l(P)<=0&&(D=D.add($),F=U),A=L(A,1),$=L($,1)}return V=I(P,D.j(V)),new M(D,V)}for(D=g;P.l(V)>=0;){for($=Math.max(1,Math.floor(P.m()/V.m())),A=Math.ceil(Math.log($)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),F=f($),U=F.j(V);j(U)||U.l(P)>0;)$-=A,F=f($),U=F.j(V);_(F)&&(F=v),D=D.add(F),P=I(P,U)}return new M(D,P)}t.B=function(P){return T(this,P).h},t.and=function(P){const V=Math.max(this.g.length,P.g.length),$=[];for(let A=0;A<V;A++)$[A]=this.i(A)&P.i(A);return new c($,this.h&P.h)},t.or=function(P){const V=Math.max(this.g.length,P.g.length),$=[];for(let A=0;A<V;A++)$[A]=this.i(A)|P.i(A);return new c($,this.h|P.h)},t.xor=function(P){const V=Math.max(this.g.length,P.g.length),$=[];for(let A=0;A<V;A++)$[A]=this.i(A)^P.i(A);return new c($,this.h^P.h)};function C(P){const V=P.g.length+1,$=[];for(let A=0;A<V;A++)$[A]=P.i(A)<<1|P.i(A-1)>>>31;return new c($,P.h)}function L(P,V){const $=V>>5;V%=32;const A=P.g.length-$,D=[];for(let F=0;F<A;F++)D[F]=V>0?P.i(F+$)>>>V|P.i(F+$+1)<<32-V:P.i(F+$);return new c(D,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rL=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=p,ql=c}).apply(typeof pD<"u"?pD:typeof self<"u"?self:typeof window<"u"?window:{});var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aL,Ch,iL,lg,bN,sL,lL,oL;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bp=="object"&&Bp];for(var S=0;S<y.length;++S){var k=y[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var k=r;y=y.split(".");for(var q=0;q<y.length-1;q++){var re=y[q];if(!(re in k))break e;k=k[re]}y=y[y.length-1],q=k[y],S=S(q),S!=q&&S!=null&&e(k,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var k=[],q;for(q in S)Object.prototype.hasOwnProperty.call(S,q)&&k.push([q,S[q]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function h(y,S,k){return y.call.apply(y.bind,arguments)}function f(y,S,k){return f=h,f.apply(null,arguments)}function p(y,S){var k=Array.prototype.slice.call(arguments,1);return function(){var q=k.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,S){function k(){}k.prototype=S.prototype,y.Z=S.prototype,y.prototype=new k,y.prototype.constructor=y,y.Ob=function(q,re,de){for(var Te=Array(arguments.length-2),it=2;it<arguments.length;it++)Te[it-2]=arguments[it];return S.prototype[re].apply(q,Te)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function N(y){const S=y.length;if(S>0){const k=Array(S);for(let q=0;q<S;q++)k[q]=y[q];return k}return[]}function _(y,S){for(let q=1;q<arguments.length;q++){const re=arguments[q];var k=typeof re;if(k=k!="object"?k:re?Array.isArray(re)?"array":k:"null",k=="array"||k=="object"&&typeof re.length=="number"){k=y.length||0;const de=re.length||0;y.length=k+de;for(let Te=0;Te<de;Te++)y[k+Te]=re[Te]}else y.push(re)}}class j{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function E(y){c.setTimeout(()=>{throw y},0)}function I(){var y=P;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class R{constructor(){this.h=this.g=null}add(S,k){const q=M.get();q.set(S,k),this.h?this.h.next=q:this.g=q,this.h=q}}var M=new j(()=>new T,y=>y.reset());class T{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let C,L=!1,P=new R,V=()=>{const y=Promise.resolve(void 0);C=()=>{y.then($)}};function $(){for(var y;y=I();){try{y.h.call(y.g)}catch(k){E(k)}var S=M;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}L=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const k=()=>{};c.addEventListener("test",k,S),c.removeEventListener("test",k,S)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function ue(y,S){D.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(ue,D),ue.prototype.init=function(y,S){const k=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(k=="mouseover"?S=y.fromElement:k=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),G=0;function Y(y,S,k,q,re){this.listener=y,this.proxy=null,this.src=S,this.type=k,this.capture=!!q,this.ha=re,this.key=++G,this.da=this.fa=!1}function H(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function pe(y,S,k){for(const q in y)S.call(k,y[q],q,y)}function X(y,S){for(const k in y)S.call(void 0,y[k],k,y)}function z(y){const S={};for(const k in y)S[k]=y[k];return S}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(y,S){let k,q;for(let re=1;re<arguments.length;re++){q=arguments[re];for(k in q)y[k]=q[k];for(let de=0;de<W.length;de++)k=W[de],Object.prototype.hasOwnProperty.call(q,k)&&(y[k]=q[k])}}function Z(y){this.src=y,this.g={},this.h=0}Z.prototype.add=function(y,S,k,q,re){const de=y.toString();y=this.g[de],y||(y=this.g[de]=[],this.h++);const Te=Ce(y,S,q,re);return Te>-1?(S=y[Te],k||(S.fa=!1)):(S=new Y(S,this.src,de,!!q,re),S.fa=k,y.push(S)),S};function ve(y,S){const k=S.type;if(k in y.g){var q=y.g[k],re=Array.prototype.indexOf.call(q,S,void 0),de;(de=re>=0)&&Array.prototype.splice.call(q,re,1),de&&(H(S),y.g[k].length==0&&(delete y.g[k],y.h--))}}function Ce(y,S,k,q){for(let re=0;re<y.length;++re){const de=y[re];if(!de.da&&de.listener==S&&de.capture==!!k&&de.ha==q)return re}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ae={};function le(y,S,k,q,re){if(Array.isArray(S)){for(let de=0;de<S.length;de++)le(y,S[de],k,q,re);return null}return k=xe(k),y&&y[ne]?y.J(S,k,d(q)?!!q.capture:!1,re):ke(y,S,k,!1,q,re)}function ke(y,S,k,q,re,de){if(!S)throw Error("Invalid event type");const Te=d(re)?!!re.capture:!!re;let it=Ee(y);if(it||(y[De]=it=new Z(y)),k=it.add(S,k,q,Te,de),k.proxy)return k;if(q=J(),k.proxy=q,q.src=y,q.listener=k,y.addEventListener)F||(re=Te),re===void 0&&(re=!1),y.addEventListener(S.toString(),q,re);else if(y.attachEvent)y.attachEvent(Ge(S.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return k}function J(){function y(k){return S.call(y.src,y.listener,k)}const S=St;return y}function he(y,S,k,q,re){if(Array.isArray(S))for(var de=0;de<S.length;de++)he(y,S[de],k,q,re);else q=d(q)?!!q.capture:!!q,k=xe(k),y&&y[ne]?(y=y.i,de=String(S).toString(),de in y.g&&(S=y.g[de],k=Ce(S,k,q,re),k>-1&&(H(S[k]),Array.prototype.splice.call(S,k,1),S.length==0&&(delete y.g[de],y.h--)))):y&&(y=Ee(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Ce(S,k,q,re)),(k=y>-1?S[y]:null)&&Ve(k))}function Ve(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[ne])ve(S.i,y);else{var k=y.type,q=y.proxy;S.removeEventListener?S.removeEventListener(k,q,y.capture):S.detachEvent?S.detachEvent(Ge(k),q):S.addListener&&S.removeListener&&S.removeListener(q),(k=Ee(S))?(ve(k,y),k.h==0&&(k.src=null,S[De]=null)):H(y)}}}function Ge(y){return y in ae?ae[y]:ae[y]="on"+y}function St(y,S){if(y.da)y=!0;else{S=new ue(S,this);const k=y.listener,q=y.ha||y.src;y.fa&&Ve(y),y=k.call(q,S)}return y}function Ee(y){return y=y[De],y instanceof Z?y:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function xe(y){return typeof y=="function"?y:(y[yt]||(y[yt]=function(S){return y.handleEvent(S)}),y[yt])}function et(){A.call(this),this.i=new Z(this),this.M=this,this.G=null}g(et,A),et.prototype[ne]=!0,et.prototype.removeEventListener=function(y,S,k,q){he(this,y,S,k,q)};function Je(y,S){var k,q=y.G;if(q)for(k=[];q;q=q.G)k.push(q);if(y=y.M,q=S.type||S,typeof S=="string")S=new D(S,y);else if(S instanceof D)S.target=S.target||y;else{var re=S;S=new D(q,y),ge(S,re)}re=!0;let de,Te;if(k)for(Te=k.length-1;Te>=0;Te--)de=S.g=k[Te],re=kt(de,q,!0,S)&&re;if(de=S.g=y,re=kt(de,q,!0,S)&&re,re=kt(de,q,!1,S)&&re,k)for(Te=0;Te<k.length;Te++)de=S.g=k[Te],re=kt(de,q,!1,S)&&re}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const k=y.g[S];for(let q=0;q<k.length;q++)H(k[q]);delete y.g[S],y.h--}}this.G=null},et.prototype.J=function(y,S,k,q){return this.i.add(String(y),S,!1,k,q)},et.prototype.K=function(y,S,k,q){return this.i.add(String(y),S,!0,k,q)};function kt(y,S,k,q){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let re=!0;for(let de=0;de<S.length;++de){const Te=S[de];if(Te&&!Te.da&&Te.capture==k){const it=Te.listener,xn=Te.ha||Te.src;Te.fa&&ve(y.i,Te),re=it.call(xn,q)!==!1&&re}}return re&&!q.defaultPrevented}function mi(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function te(y){y.g=mi(()=>{y.g=null,y.i&&(y.i=!1,te(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class Pe extends A{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:te(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(y){A.call(this),this.h=y,this.g={}}g(Qe,A);var Fe=[];function Ht(y){pe(y.g,function(S,k){this.g.hasOwnProperty(k)&&Ve(S)},y),y.g={}}Qe.prototype.N=function(){Qe.Z.N.call(this),Ht(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=c.JSON.stringify,pi=c.JSON.parse,Va=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Jf(){}function Zf(){}var za={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lr(){D.call(this,"d")}g(lr,D);function ma(){D.call(this,"c")}g(ma,D);var yn={},em=null;function Sc(){return em=em||new et}yn.Ia="serverreachability";function tm(y){D.call(this,yn.Ia,y)}g(tm,D);function gi(y){const S=Sc();Je(S,new tm(S))}yn.STAT_EVENT="statevent";function mo(y,S){D.call(this,yn.STAT_EVENT,y),this.stat=S}g(mo,D);function Sn(y){const S=Sc();Je(S,new mo(S,y))}yn.Ja="timingevent";function yi(y,S){D.call(this,yn.Ja,y),this.size=S}g(yi,D);function xi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function Fa(){this.g=!0}Fa.prototype.ua=function(){this.g=!1};function rx(y,S,k,q,re,de){y.info(function(){if(y.g)if(de){var Te="",it=de.split("&");for(let jt=0;jt<it.length;jt++){var xn=it[jt].split("=");if(xn.length>1){const en=xn[0];xn=xn[1];const xa=en.split("_");Te=xa.length>=2&&xa[1]=="type"?Te+(en+"="+xn+"&"):Te+(en+"=redacted&")}}}else Te=null;else Te=de;return"XMLHTTP REQ ("+q+") [attempt "+re+"]: "+S+`
`+k+`
`+Te})}function nm(y,S,k,q,re,de,Te){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+re+"]: "+S+`
`+k+`
`+de+" "+Te})}function vi(y,S,k,q){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+ax(y,k)+(q?" "+q:"")})}function po(y,S){y.info(function(){return"TIMEOUT: "+S})}Fa.prototype.info=function(){};function ax(y,S){if(!y.g)return S;if(!S)return null;try{const de=JSON.parse(S);if(de){for(y=0;y<de.length;y++)if(Array.isArray(de[y])){var k=de[y];if(!(k.length<2)){var q=k[1];if(Array.isArray(q)&&!(q.length<1)){var re=q[0];if(re!="noop"&&re!="stop"&&re!="close")for(let Te=1;Te<q.length;Te++)q[Te]=""}}}}return $t(de)}catch{return S}}var go={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xd;function yo(){}g(yo,Jf),yo.prototype.g=function(){return new XMLHttpRequest},xd=new yo;function is(y){return encodeURIComponent(String(y))}function rm(y){var S=1;y=y.split(":");const k=[];for(;S>0&&y.length;)k.push(y.shift()),S--;return y.length&&k.push(y.join(":")),k}function $a(y,S,k,q){this.j=y,this.i=S,this.l=k,this.S=q||1,this.V=new Qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var An={},Xn={};function bi(y,S,k){y.M=1,y.A=xo(Cn(S)),y.u=k,y.R=!0,Ac(y,null)}function Ac(y,S){y.F=Date.now(),wi(y),y.B=Cn(y.A);var k=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Oc(k.i,"t",q),y.C=0,k=y.j.L,y.h=new Ba,y.g=xm(y.j,k?S:null,!y.u),y.P>0&&(y.O=new Pe(f(y.Y,y,y.g),y.P)),S=y.V,k=y.g,q=y.ba;var re="readystatechange";Array.isArray(re)||(re&&(Fe[0]=re.toString()),re=Fe);for(let de=0;de<re.length;de++){const Te=le(k,re[de],q||S.handleEvent,!1,S.h||S);if(!Te)break;S.g[Te.key]=Te}S=y.J?z(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),gi(),rx(y.i,y.v,y.B,y.l,y.S,y.u)}$a.prototype.ba=function(y){y=y.target;const S=this.O;S&&Ga(y)==3?S.j():this.Y(y)},$a.prototype.Y=function(y){try{if(y==this.g)e:{const it=Ga(this.g),xn=this.g.ya(),jt=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||or(this.g)))){this.K||it!=4||xn==7||(xn==8||jt<=0?gi(3):gi(2)),Ni(this);var S=this.g.ca();this.X=S;var k=ix(this);if(this.o=S==200,nm(this.i,this.v,this.B,this.l,this.S,it,S),this.o){if(this.U&&!this.L){t:{if(this.g){var q,re=this.g;if((q=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(q)){var de=q;break t}}de=null}if(y=de)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,y);else{this.o=!1,this.m=3,Sn(12),Qr(this),pa(this);break e}}if(this.R){y=!0;let en;for(;!this.K&&this.C<k.length;)if(en=im(this,k),en==Xn){it==4&&(this.m=4,Sn(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==An){this.m=4,Sn(15),vi(this.i,this.l,k,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,en,null),_i(this,en);if(am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||k.length!=0||this.h.h||(this.m=1,Sn(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,k,"[Invalid Chunked Response]"),Qr(this),pa(this);else if(k.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Rd(Te),Te.P=!0,Sn(11))}}else vi(this.i,this.l,k,null),_i(this,k);it==4&&Qr(this),this.o&&!this.K&&(it==4?mm(this.j,this):(this.o=!1,wi(this)))}else ls(this.g),S==400&&k.indexOf("Unknown SID")>0?(this.m=3,Sn(12)):(this.m=0,Sn(13)),Qr(this),pa(this)}}}catch{}finally{}};function ix(y){if(!am(y))return y.g.la();const S=or(y.g);if(S==="")return"";let k="";const q=S.length,re=Ga(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Qr(y),pa(y),"";y.h.i=new c.TextDecoder}for(let de=0;de<q;de++)y.h.h=!0,k+=y.h.i.decode(S[de],{stream:!(re&&de==q-1)});return S.length=0,y.h.g+=k,y.C=0,y.h.g}function am(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function im(y,S){var k=y.C,q=S.indexOf(`
`,k);return q==-1?Xn:(k=Number(S.substring(k,q)),isNaN(k)?An:(q+=1,q+k>S.length?Xn:(S=S.slice(q,q+k),y.C=q+k,S)))}$a.prototype.cancel=function(){this.K=!0,Qr(this)};function wi(y){y.T=Date.now()+y.H,Tc(y,y.H)}function Tc(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=xi(f(y.aa,y),S)}function Ni(y){y.D&&(c.clearTimeout(y.D),y.D=null)}$a.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(po(this.i,this.B),this.M!=2&&(gi(),Sn(17)),Qr(this),this.m=2,pa(this)):Tc(this,this.T-y)};function pa(y){y.j.I==0||y.K||mm(y.j,y)}function Qr(y){Ni(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,Ht(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function _i(y,S){try{var k=y.j;if(k.I!=0&&(k.g==y||Ei(k.h,y))){if(!y.L&&Ei(k.h,y)&&k.I==3){try{var q=k.Ba.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var re=q;if(re[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<y.F)Mc(k),ol(k);else break e;Eo(k),Sn(18)}}else k.xa=re[1],0<k.xa-k.K&&re[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=xi(f(k.Va,k),6e3));ji(k.h)<=1&&k.ta&&(k.ta=void 0)}else Oi(k,11)}else if((y.L||k.g==y)&&Mc(k),!U(S))for(re=k.Ba.g.parse(S),S=0;S<re.length;S++){let jt=re[S];const en=jt[0];if(!(en<=k.K))if(k.K=en,jt=jt[1],k.I==2)if(jt[0]=="c"){k.M=jt[1],k.ba=jt[2];const xa=jt[3];xa!=null&&(k.ka=xa,k.j.info("VER="+k.ka));const Di=jt[4];Di!=null&&(k.za=Di,k.j.info("SVER="+k.za));const Ka=jt[5];Ka!=null&&typeof Ka=="number"&&Ka>0&&(q=1.5*Ka,k.O=q,k.j.info("backChannelRequestTimeoutMs_="+q)),q=k;const Ya=y.g;if(Ya){const So=Ya.g?Ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var de=q.h;de.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(wd(de,de.h),de.h=null))}if(q.G){const Lc=Ya.g?Ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Lc&&(q.wa=Lc,Ct(q.J,q.G,Lc))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-y.F,k.j.info("Handshake RTT: "+k.T+"ms")),q=k;var Te=y;if(q.na=ym(q,q.L?q.ba:null,q.W),Te.L){Nd(q.h,Te);var it=Te,xn=q.O;xn&&(it.H=xn),it.D&&(Ni(it),wi(it)),q.g=Te}else hm(q);k.i.length>0&&Ii(k)}else jt[0]!="stop"&&jt[0]!="close"||Oi(k,7);else k.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Oi(k,7):Od(k):jt[0]!="noop"&&k.l&&k.l.qa(jt),k.A=0)}}gi(4)}catch{}}var Tn=class{constructor(y,S){this.g=y,this.map=S}};function vd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function ji(y){return y.h?1:y.g?y.g.size:0}function Ei(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function wd(y,S){y.g?y.g.add(S):y.h=S}function Nd(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}vd.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function _d(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const k of y.g.values())S=S.concat(k.G);return S}return N(y.i)}var sm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(y,S){if(y){y=y.split("&");for(let k=0;k<y.length;k++){const q=y[k].indexOf("=");let re,de=null;q>=0?(re=y[k].substring(0,q),de=y[k].substring(q+1)):re=y[k],S(re,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Jr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof Jr?(this.l=y.l,Qn(this,y.j),this.o=y.o,this.g=y.g,tl(this,y.u),this.h=y.h,jd(this,um(y.i)),this.m=y.m):y&&(S=String(y).match(sm))?(this.l=!1,Qn(this,S[1]||"",!0),this.o=Si(S[2]||""),this.g=Si(S[3]||"",!0),tl(this,S[4]),this.h=Si(S[5]||"",!0),jd(this,S[6]||"",!0),this.m=Si(S[7]||"")):(this.l=!1,this.i=new rl(null,this.l))}Jr.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(vo(S,Ic,!0),":");var k=this.g;return(k||S=="file")&&(y.push("//"),(S=this.o)&&y.push(vo(S,Ic,!0),"@"),y.push(is(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&y.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&y.push("/"),y.push(vo(k,k.charAt(0)=="/"?Ed:lm,!0))),(k=this.i.toString())&&y.push("?",k),(k=this.m)&&y.push("#",vo(k,om)),y.join("")},Jr.prototype.resolve=function(y){const S=Cn(this);let k=!!y.j;k?Qn(S,y.j):k=!!y.o,k?S.o=y.o:k=!!y.g,k?S.g=y.g:k=y.u!=null;var q=y.h;if(k)tl(S,y.u);else if(k=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var re=S.h.lastIndexOf("/");re!=-1&&(q=S.h.slice(0,re+1)+q)}if(re=q,re==".."||re==".")q="";else if(re.indexOf("./")!=-1||re.indexOf("/.")!=-1){q=re.lastIndexOf("/",0)==0,re=re.split("/");const de=[];for(let Te=0;Te<re.length;){const it=re[Te++];it=="."?q&&Te==re.length&&de.push(""):it==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),q&&Te==re.length&&de.push("")):(de.push(it),q=!0)}q=de.join("/")}else q=re}return k?S.h=q:k=y.i.toString()!=="",k?jd(S,um(y.i)):k=!!y.m,k&&(S.m=y.m),S};function Cn(y){return new Jr(y)}function Qn(y,S,k){y.j=k?Si(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function tl(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function jd(y,S,k){S instanceof rl?(y.i=S,Dc(y.i,y.l)):(k||(S=vo(S,nl)),y.i=new rl(S,y.l))}function Ct(y,S,k){y.i.set(S,k)}function xo(y){return Ct(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Si(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function vo(y,S,k){return typeof y=="string"?(y=encodeURI(y).replace(S,Pr),k&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Pr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ic=/[#\/\?@]/g,lm=/[#\?:]/g,Ed=/[#\?]/g,nl=/[#\?@]/g,om=/#/g;function rl(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function kr(y){y.g||(y.g=new Map,y.h=0,y.i&&Cc(y.i,function(S,k){y.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=rl.prototype,t.add=function(y,S){kr(this),this.i=null,y=al(this,y);let k=this.g.get(y);return k||this.g.set(y,k=[]),k.push(S),this.h+=1,this};function cm(y,S){kr(y),S=al(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Sd(y,S){return kr(y),S=al(y,S),y.g.has(S)}t.forEach=function(y,S){kr(this),this.g.forEach(function(k,q){k.forEach(function(re){y.call(S,re,q,this)},this)},this)};function Ad(y,S){kr(y);let k=[];if(typeof S=="string")Sd(y,S)&&(k=k.concat(y.g.get(al(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)k=k.concat(y[S]);return k}t.set=function(y,S){return kr(this),this.i=null,y=al(this,y),Sd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=Ad(this,y),y.length>0?String(y[0]):S):S};function Oc(y,S,k){cm(y,S),k.length>0&&(y.i=null,y.g.set(al(y,S),N(k)),y.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let q=0;q<S.length;q++){var k=S[q];const re=is(k);k=Ad(this,k);for(let de=0;de<k.length;de++){let Te=re;k[de]!==""&&(Te+="="+is(k[de])),y.push(Te)}}return this.i=y.join("&")};function um(y){const S=new rl;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function al(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Dc(y,S){S&&!y.j&&(kr(y),y.i=null,y.g.forEach(function(k,q){const re=q.toLowerCase();q!=re&&(cm(this,q),Oc(this,re,k))},y)),y.j=S}function qa(y,S){const k=new Fa;if(c.Image){const q=new Image;q.onload=p(ga,k,"TestLoadImage: loaded",!0,S,q),q.onerror=p(ga,k,"TestLoadImage: error",!1,S,q),q.onabort=p(ga,k,"TestLoadImage: abort",!1,S,q),q.ontimeout=p(ga,k,"TestLoadImage: timeout",!1,S,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else S(!1)}function Td(y,S){const k=new Fa,q=new AbortController,re=setTimeout(()=>{q.abort(),ga(k,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:q.signal}).then(de=>{clearTimeout(re),de.ok?ga(k,"TestPingServer: ok",!0,S):ga(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(re),ga(k,"TestPingServer: error",!1,S)})}function ga(y,S,k,q,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),q(k)}catch{}}function il(){this.g=new Va}function Ai(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Ai,Jf),Ai.prototype.g=function(){return new bo(this.i,this.h)};function bo(y,S){et.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bo,et),t=bo.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ha(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?sl(this):Ha(this),this.readyState==3&&Rc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,sl(this))},t.Na=function(y){this.g&&(this.response=y,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ha(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,y.push(k[0]+": "+k[1]),k=S.next();return y.join(`\r
`)};function Ha(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ya(y){let S="";return pe(y,function(k,q){S+=q,S+=":",S+=k,S+=`\r
`}),S}function wo(y,S,k){e:{for(q in k){var q=!1;break e}q=!0}q||(k=ya(k),typeof y=="string"?k!=null&&is(k):Ct(y,S,k))}function Mt(y){et.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Mt,et);var Ti=/^https?$/i,Cd=["POST","PUT"];t=Mt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,k,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(de){No(this,de);return}if(y=k||"",k=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var re in q)k.set(re,q[re]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const de of q.keys())k.set(de,q.get(de));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(k.keys()).find(de=>de.toLowerCase()=="content-type"),re=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Cd,S,void 0)>=0)||q||re||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Te]of k)this.g.setRequestHeader(de,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(de){No(this,de)}};function No(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Id(y),ss(y)}function Id(y){y.A||(y.A=!0,Je(y,"complete"),Je(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Je(this,"complete"),Je(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_o(this):this.Xa())},t.Xa=function(){_o(this)};function _o(y){if(y.h&&typeof l<"u"){if(y.v&&Ga(y)==4)setTimeout(y.Ca.bind(y),0);else if(Je(y,"readystatechange"),Ga(y)==4){y.h=!1;try{const de=y.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var q;if(q=de===0){let Te=String(y.D).match(sm)[1]||null;!Te&&c.self&&c.self.location&&(Te=c.self.location.protocol.slice(0,-1)),q=!Ti.test(Te?Te.toLowerCase():"")}k=q}if(k)Je(y,"complete"),Je(y,"success");else{y.o=6;try{var re=Ga(y)>2?y.g.statusText:""}catch{re=""}y.l=re+" ["+y.ca()+"]",Id(y)}}finally{ss(y)}}}}function ss(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const k=y.g;y.g=null,S||Je(y,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ga(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ga(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),pi(S)}};function or(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(y){const S={};y=(y.g&&Ga(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(U(y[q]))continue;var k=rm(y[q]);const re=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const de=S[re]||[];S[re]=de,de.push(k)}X(S,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(y,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[y]||S}function ll(y){this.za=0,this.i=[],this.j=new Fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,y),this.Za=Ci("retryDelaySeedMs",1e4,y),this.Ta=Ci("forwardChannelMaxRetries",2,y),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new vd(y&&y.concurrentRequestLimit),this.Ba=new il,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ll.prototype,t.ka=8,t.I=1,t.connect=function(y,S,k,q){Sn(0),this.W=y,this.H=S||{},k&&q!==void 0&&(this.H.OSID=k,this.H.OAID=q),this.F=this.X,this.J=ym(this,null,this.W),Ii(this)};function Od(y){if(Pc(y),y.I==3){var S=y.V++,k=Cn(y.J);if(Ct(k,"SID",y.M),Ct(k,"RID",S),Ct(k,"TYPE","terminate"),jo(y,k),S=new $a(y,y.j,S),S.M=2,S.A=xo(Cn(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!k&&c.Image&&(new Image().src=S.A,k=!0),k||(S.g=xm(S.j,null),S.g.ea(S.A)),S.F=Date.now(),wi(S)}gm(y)}function ol(y){y.g&&(Rd(y),y.g.cancel(),y.g=null)}function Pc(y){ol(y),y.v&&(c.clearTimeout(y.v),y.v=null),Mc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ii(y){if(!bd(y.h)&&!y.m){y.m=!0;var S=y.Ea;C||V(),L||(C(),L=!0),P.add(S,y),y.D=0}}function kc(y,S){return ji(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=xi(f(y.Ea,y,S),pm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const re=new $a(this,this.j,y);let de=this.o;if(this.U&&(de?(de=z(de),ge(de,this.U)):de=this.U),this.u!==null||this.R||(re.J=de,de=null),this.S)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var q=this.i[k];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(S+=q,S>4096){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=dm(this,re,S),k=Cn(this.J),Ct(k,"RID",y),Ct(k,"CVER",22),this.G&&Ct(k,"X-HTTP-Session-Id",this.G),jo(this,k),de&&(this.R?S="headers="+is(ya(de))+"&"+S:this.u&&wo(k,this.u,de)),wd(this.h,re),this.Ra&&Ct(k,"TYPE","init"),this.S?(Ct(k,"$req",S),Ct(k,"SID","null"),re.U=!0,bi(re,k,null)):bi(re,k,S),this.I=2}}else this.I==3&&(y?Dd(this,y):this.i.length==0||bd(this.h)||Dd(this))};function Dd(y,S){var k;S?k=S.l:k=y.V++;const q=Cn(y.J);Ct(q,"SID",y.M),Ct(q,"RID",k),Ct(q,"AID",y.K),jo(y,q),y.u&&y.o&&wo(q,y.u,y.o),k=new $a(y,y.j,k,y.D+1),y.u===null&&(k.J=y.o),S&&(y.i=S.G.concat(y.i)),S=dm(y,k,1e3),k.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),wd(y.h,k),bi(k,q,S)}function jo(y,S){y.H&&pe(y.H,function(k,q){Ct(S,q,k)}),y.l&&pe({},function(k,q){Ct(S,q,k)})}function dm(y,S,k){k=Math.min(y.i.length,k);const q=y.l?f(y.l.Ka,y.l,y):null;e:{var re=y.i;let it=-1;for(;;){const xn=["count="+k];it==-1?k>0?(it=re[0].g,xn.push("ofs="+it)):it=0:xn.push("ofs="+it);let jt=!0;for(let en=0;en<k;en++){var de=re[en].g;const xa=re[en].map;if(de-=it,de<0)it=Math.max(0,re[en].g-100),jt=!1;else try{de="req"+de+"_"||"";try{var Te=xa instanceof Map?xa:Object.entries(xa);for(const[Di,Ka]of Te){let Ya=Ka;d(Ka)&&(Ya=$t(Ka)),xn.push(de+Di+"="+encodeURIComponent(Ya))}}catch(Di){throw xn.push(de+"type="+encodeURIComponent("_badmap")),Di}}catch{q&&q(xa)}}if(jt){Te=xn.join("&");break e}}Te=void 0}return y=y.i.splice(0,k),S.G=y,Te}function hm(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;C||V(),L||(C(),L=!0),P.add(S,y),y.A=0}}function Eo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=xi(f(y.Da,y),pm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=xi(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Sn(10),ol(this),fm(this))};function Rd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function fm(y){y.g=new $a(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=Cn(y.na);Ct(S,"RID","rpc"),Ct(S,"SID",y.M),Ct(S,"AID",y.K),Ct(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&Ct(S,"TO",y.ia),Ct(S,"TYPE","xmlhttp"),jo(y,S),y.u&&y.o&&wo(S,y.u,y.o),y.O&&(y.g.H=y.O);var k=y.g;y=y.ba,k.M=1,k.A=xo(Cn(S)),k.u=null,k.R=!0,Ac(k,y)}t.Va=function(){this.C!=null&&(this.C=null,ol(this),Eo(this),Sn(19))};function Mc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function mm(y,S){var k=null;if(y.g==S){Mc(y),Rd(y),y.g=null;var q=2}else if(Ei(y.h,S))k=S.G,Nd(y.h,S),q=1;else return;if(y.I!=0){if(S.o)if(q==1){k=S.u?S.u.length:0,S=Date.now()-S.F;var re=y.D;q=Sc(),Je(q,new yi(q,k)),Ii(y)}else hm(y);else if(re=S.m,re==3||re==0&&S.X>0||!(q==1&&kc(y,S)||q==2&&Eo(y)))switch(k&&k.length>0&&(S=y.h,S.i=S.i.concat(k)),re){case 1:Oi(y,5);break;case 4:Oi(y,10);break;case 3:Oi(y,6);break;default:Oi(y,2)}}}function pm(y,S){let k=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(k*=2),k*S}function Oi(y,S){if(y.j.info("Error code "+S),S==2){var k=f(y.bb,y),q=y.Ua;const re=!q;q=new Jr(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qn(q,"https"),xo(q),re?qa(q.toString(),k):Td(q.toString(),k)}else Sn(2);y.I=0,y.l&&y.l.pa(S),gm(y),Pc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function gm(y){if(y.I=0,y.ja=[],y.l){const S=_d(y.h);(S.length!=0||y.i.length!=0)&&(_(y.ja,S),_(y.ja,y.i),y.h.i.length=0,N(y.i),y.i.length=0),y.l.oa()}}function ym(y,S,k){var q=k instanceof Jr?Cn(k):new Jr(k);if(q.g!="")S&&(q.g=S+"."+q.g),tl(q,q.u);else{var re=c.location;q=re.protocol,S=S?S+"."+re.hostname:re.hostname,re=+re.port;const de=new Jr(null);q&&Qn(de,q),S&&(de.g=S),re&&tl(de,re),k&&(de.h=k),q=de}return k=y.G,S=y.wa,k&&S&&Ct(q,k,S),Ct(q,"VER",y.ka),jo(y,q),q}function xm(y,S,k){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new Mt(new Ai({ab:k})):new Mt(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}t=vm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cl(){}cl.prototype.g=function(y,S){return new Ar(y,S)};function Ar(y,S){et.call(this),this.g=new ll(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!U(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!U(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new os(this)}g(Ar,et),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){Od(this.g)},Ar.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var k={};k.__data__=y,y=k}else this.v&&(k={},k.__data__=$t(y),y=k);S.i.push(new Tn(S.Ya++,y)),S.I==3&&Ii(S)},Ar.prototype.N=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,Ar.Z.N.call(this)};function bm(y){lr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const k in S){y=k;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(bm,lr);function wm(){ma.call(this),this.status=1}g(wm,ma);function os(y){this.g=y}g(os,vm),os.prototype.ra=function(){Je(this.g,"a")},os.prototype.qa=function(y){Je(this.g,new bm(y))},os.prototype.pa=function(y){Je(this.g,new wm)},os.prototype.oa=function(){Je(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,oL=function(){return new cl},lL=function(){return Sc()},sL=yn,bN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,lg=go,yd.COMPLETE="complete",iL=yd,Zf.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",et.prototype.listen=et.prototype.J,Ch=Zf,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,aL=Mt}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});const gD="@firebase/firestore",yD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new I0("@firebase/firestore");function vu(){return fc.logLevel}function Re(t,...e){if(fc.logLevel<=ft.DEBUG){const n=e.map(rE);fc.debug(`Firestore (${ud}): ${t}`,...n)}}function Hs(t,...e){if(fc.logLevel<=ft.ERROR){const n=e.map(rE);fc.error(`Firestore (${ud}): ${t}`,...n)}}function Hu(t,...e){if(fc.logLevel<=ft.WARN){const n=e.map(rE);fc.warn(`Firestore (${ud}): ${t}`,...n)}}function rE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cL(t,r,n)}function cL(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Hs(r),new Error(r)}function At(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||cL(e,a,r)}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Koe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wr.UNAUTHENTICATED)))}shutdown(){}}class Yoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Woe{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new Hl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hl,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hl)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new uL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new wr(e)}}class Xoe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qoe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Xoe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Joe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zoe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Zoe(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function mt(t,e){return t<e?-1:t>e?1:0}function wN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Qw(a)===Qw(l)?mt(a,l):Qw(a)?1:-1}return mt(t.length,e.length)}const ece=55296,tce=57343;function Qw(t){const e=t.charCodeAt(0);return e>=ece&&e<=tce}function Gu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&We(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return mt(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),a=Li.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Li.extractNumericId(e).compare(Li.extractNumericId(n)):wN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ql.fromString(e.substring(4,e.length-2))}}class Yt extends Li{construct(e,n,r){return new Yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Yt(n)}static emptyPath(){return new Yt([])}}const nce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Li{construct(e,n,r){return new pr(e,n,r)}static isValidIdentifier(e){return nce.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vD}static keyField(){return new pr([vD])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Oe(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Oe(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Oe(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new Oe(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Yt.fromString(e))}static fromName(e){return new He(Yt.fromString(e).popFirst(5))}static empty(){return new He(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t,e,n){if(!n)throw new Oe(Ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rce(t,e,n,r){if(e===!0&&r===!0)throw new Oe(Ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bD(t){if(!He.isDocumentKey(t))throw new Oe(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wD(t){if(He.isDocumentKey(t))throw new Oe(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function P0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We(12329,{type:typeof t})}function Ql(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=P0(t);throw new Oe(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){const n={typeString:t};return e&&(n.value=e),n}function zf(t,e){if(!hL(t))throw new Oe(Ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new Oe(Ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=-62135596800,_D=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_D);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ND)throw new Oe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_D}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zf(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ND;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Un("string",Zt._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new Zt(0,0))}static max(){return new tt(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;function ace(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=tt.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Jl(a,He.empty(),e)}function ice(t){return new Jl(t.readTime,t.key,af)}class Jl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jl(tt.min(),He.empty(),af)}static max(){return new Jl(tt.max(),He.empty(),af)}}function sce(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){if(t.code!==Ne.FAILED_PRECONDITION||t.message!==lce)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):je.reject(n)}static resolve(e){return new je(((n,r)=>{n(e)}))}static reject(e){return new je(((n,r)=>{r(e)}))}static waitFor(e){return new je(((n,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(h=>r(h)))})),c=!0,l===a&&n()}))}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next((a=>a?je.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new je(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let h=0;h<l;h++){const f=h;n(e[f]).next((p=>{c[f]=p,++d,d===l&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new je(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function cce(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}k0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=-1;function M0(t){return t==null}function my(t){return t===0&&1/t==-1/0}function uce(t){return typeof t=="number"&&Number.isInteger(t)&&!my(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="";function dce(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jD(e)),e=hce(t.get(n),e);return jD(e)}function hce(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case fL:n+="";break;default:n+=l}}return n}function jD(t){return t+fL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??mr.RED,this.left=a??mr.EMPTY,this.right=l??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new mr(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw We(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SD(this.data.getIterator())}getIteratorFrom(e){return new SD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Hn(this.comparator);return n.data=e,n}}class SD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new ca([])}unionWith(e){let n=new Hn(pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ca(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new pL("Invalid base64 string: "+l):l}})(e);return new yr(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const fce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=fce.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(t.seconds),nanos:Nn(t.nanos)}}function Nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="server_timestamp",yL="__type__",xL="__previous_value__",vL="__local_write_time__";function sE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yL])==null?void 0:r.stringValue)===gL}function L0(t){const e=t.mapValue.fields[xL];return sE(e)?L0(e):e}function sf(t){const e=Zl(t.mapValue.fields[vL].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mce{constructor(e,n,r,a,l,c,d,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const py="(default)";class lf{constructor(e,n){this.projectId=e,this.database=n||py}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database===py}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="__type__",pce="__max__",Hp={mapValue:{}},wL="__vector__",gy="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:yce(t)?9007199254740991:gce(t)?10:11:We(28295,{value:t})}function Zi(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sf(t).isEqual(sf(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Zl(a.timestampValue),d=Zl(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return eo(a.bytesValue).isEqual(eo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nn(a.geoPointValue.latitude)===Nn(l.geoPointValue.latitude)&&Nn(a.geoPointValue.longitude)===Nn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nn(a.integerValue)===Nn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nn(a.doubleValue),d=Nn(l.doubleValue);return c===d?my(c)===my(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(ED(c)!==ED(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Zi(c[h],d[h])))return!1;return!0})(t,e);default:return We(52216,{left:t})}}function of(t,e){return(t.values||[]).find((n=>Zi(n,e)))!==void 0}function Ku(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Nn(l.integerValue||l.doubleValue),h=Nn(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return AD(t.timestampValue,e.timestampValue);case 4:return AD(sf(t),sf(e));case 5:return wN(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=eo(l),h=eo(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const p=mt(d[f],h[f]);if(p!==0)return p}return mt(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=mt(Nn(l.latitude),Nn(c.latitude));return d!==0?d:mt(Nn(l.longitude),Nn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TD(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var v,N,_,j;const d=l.fields||{},h=c.fields||{},f=(v=d[gy])==null?void 0:v.arrayValue,p=(N=h[gy])==null?void 0:N.arrayValue,g=mt(((_=f==null?void 0:f.values)==null?void 0:_.length)||0,((j=p==null?void 0:p.values)==null?void 0:j.length)||0);return g!==0?g:TD(f,p)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Hp.mapValue&&c===Hp.mapValue)return 0;if(l===Hp.mapValue)return 1;if(c===Hp.mapValue)return-1;const d=l.fields||{},h=Object.keys(d),f=c.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let g=0;g<h.length&&g<p.length;++g){const v=wN(h[g],p[g]);if(v!==0)return v;const N=Ku(d[h[g]],f[p[g]]);if(N!==0)return N}return mt(h.length,p.length)})(t.mapValue,e.mapValue);default:throw We(23264,{he:n})}}function AD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=Zl(t),r=Zl(e),a=mt(n.seconds,r.seconds);return a!==0?a:mt(n.nanos,r.nanos)}function TD(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ku(n[a],r[a]);if(l)return l}return mt(n.length,r.length)}function Yu(t){return NN(t)}function NN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return He.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=NN(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${NN(n.fields[c])}`;return a+"}"})(t.mapValue):We(61005,{value:t})}function og(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=L0(t);return e?16+og(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+og(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return oo(r.fields,((l,c)=>{a+=l.length+og(c)})),a})(t.mapValue);default:throw We(13486,{value:t})}}function CD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _N(t){return!!t&&"integerValue"in t}function lE(t){return!!t&&"arrayValue"in t}function ID(t){return!!t&&"nullValue"in t}function OD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cg(t){return!!t&&"mapValue"in t}function gce(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bL])==null?void 0:r.stringValue)===wL}function kh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kh(t.arrayValue.values[n]);return e}return{...t}}function yce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pce}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(n)}setAll(e){let n=pr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=kh(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());cg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];cg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){oo(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Br(kh(this.value))}}function NL(t){const e=[];return oo(t.fields,((n,r)=>{const a=new pr([n]);if(cg(r)){const l=NL(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ca(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,a,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _r(e,0,tt.min(),tt.min(),tt.min(),Br.empty(),0)}static newFoundDocument(e,n,r,a){return new _r(e,1,n,tt.min(),r,a,0)}static newNoDocument(e,n){return new _r(e,2,n,tt.min(),tt.min(),Br.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,tt.min(),tt.min(),Br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.position=e,this.inclusive=n}}function DD(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=He.comparator(He.fromName(c.referenceValue),n.key):r=Ku(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function RD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n="asc"){this.field=e,this.dir=n}}function xce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{}class Mn extends _L{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bce(e,n,r):n==="array-contains"?new _ce(e,r):n==="in"?new jce(e,r):n==="not-in"?new Ece(e,r):n==="array-contains-any"?new Sce(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wce(e,r):new Nce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends _L{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return jL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jL(t){return t.op==="and"}function EL(t){return vce(t)&&jL(t)}function vce(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function jN(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(EL(t))return t.filters.map((e=>jN(e))).join(",");{const e=t.filters.map((n=>jN(n))).join(",");return`${t.op}(${e})`}}function SL(t,e){return t instanceof Mn?(function(r,a){return a instanceof Mn&&r.op===a.op&&r.field.isEqual(a.field)&&Zi(r.value,a.value)})(t,e):t instanceof ci?(function(r,a){return a instanceof ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&SL(c,a.filters[d])),!0):!1})(t,e):void We(19439)}function AL(t){return t instanceof Mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`})(t):t instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(AL).join(" ,")+"}"})(t):"Filter"}class bce extends Mn{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class wce extends Mn{constructor(e,n){super(e,"in",n),this.keys=TL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Nce extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=TL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>He.fromName(r.referenceValue)))}class _ce extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lE(n)&&of(n.arrayValue,this.value)}}class jce extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&of(this.value.arrayValue,n)}}class Ece extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!of(this.value.arrayValue,n)}}class Sce extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>of(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e,n=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function PD(t,e=null,n=[],r=[],a=null,l=null,c=null){return new Ace(t,e,n,r,a,l,c)}function oE(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),M0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yu(r))).join(",")),e.Te=n}return e.Te}function cE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RD(t.startAt,e.startAt)&&RD(t.endAt,e.endAt)}function EN(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n=null,r=[],a=[],l=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Tce(t,e,n,r,a,l,c,d){return new fd(t,e,n,r,a,l,c,d)}function CL(t){return new fd(t)}function kD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IL(t){return t.collectionGroup!==null}function Mh(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Hn(pr.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new cf(l,r))})),n.has(pr.keyField().canonicalString())||e.Ie.push(new cf(pr.keyField(),r))}return e.Ie}function Fi(t){const e=at(t);return e.Ee||(e.Ee=Cce(e,Mh(t))),e.Ee}function Cce(t,e){if(t.limitType==="F")return PD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new cf(a.field,l)}));const n=t.endAt?new yy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yy(t.startAt.position,t.startAt.inclusive):null;return PD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function SN(t,e){const n=t.filters.concat([e]);return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xy(t,e,n){return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function U0(t,e){return cE(Fi(t),Fi(e))&&t.limitType===e.limitType}function OL(t){return`${oE(Fi(t))}|lt:${t.limitType}`}function bu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>AL(a))).join(", ")}]`),M0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Yu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Yu(a))).join(",")),`Target(${r})`})(Fi(t))}; limitType=${t.limitType})`}function V0(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):He.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Mh(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,h){const f=DD(c,d,h);return c.inclusive?f<=0:f<0})(r.startAt,Mh(r),a)||r.endAt&&!(function(c,d,h){const f=DD(c,d,h);return c.inclusive?f>=0:f>0})(r.endAt,Mh(r),a))})(t,e)}function Ice(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DL(t){return(e,n)=>{let r=!1;for(const a of Mh(t)){const l=Oce(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Oce(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):(function(l,c,d){const h=c.data.field(l),f=d.data.field(l);return h!==null&&f!==null?Ku(h,f):We(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return mL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dce=new dn(He.comparator);function Gs(){return Dce}const RL=new dn(He.comparator);function Ih(...t){let e=RL;for(const n of t)e=e.insert(n.key,n);return e}function PL(t){let e=RL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jo(){return Lh()}function kL(){return Lh()}function Lh(){return new jc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Rce=new dn(He.comparator),Pce=new Hn(He.comparator);function pt(...t){let e=Pce;for(const n of t)e=e.add(n);return e}const kce=new Hn(mt);function Mce(){return kce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function ML(t){return{integerValue:""+t}}function Lce(t,e){return uce(e)?ML(e):uE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this._=void 0}}function Uce(t,e,n){return t instanceof vy?(function(a,l){const c={fields:{[yL]:{stringValue:gL},[vL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&sE(l)&&(l=L0(l)),l&&(c.fields[xL]=l),{mapValue:c}})(n,e):t instanceof uf?UL(t,e):t instanceof df?VL(t,e):(function(a,l){const c=LL(a,l),d=MD(c)+MD(a.Ae);return _N(c)&&_N(a.Ae)?ML(d):uE(a.serializer,d)})(t,e)}function Vce(t,e,n){return t instanceof uf?UL(t,e):t instanceof df?VL(t,e):n}function LL(t,e){return t instanceof by?(function(r){return _N(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class vy extends z0{}class uf extends z0{constructor(e){super(),this.elements=e}}function UL(t,e){const n=zL(e);for(const r of t.elements)n.some((a=>Zi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class df extends z0{constructor(e){super(),this.elements=e}}function VL(t,e){let n=zL(e);for(const r of t.elements)n=n.filter((a=>!Zi(a,r)));return{arrayValue:{values:n}}}class by extends z0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MD(t){return Nn(t.integerValue||t.doubleValue)}function zL(t){return lE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zce(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof uf&&a instanceof uf||r instanceof df&&a instanceof df?Gu(r.elements,a.elements,Zi):r instanceof by&&a instanceof by?Zi(r.Ae,a.Ae):r instanceof vy&&a instanceof vy})(t.transform,e.transform)}class Fce{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ug(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class F0{}function FL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $0(t.key,Yr.none()):new Ff(t.key,t.data,Yr.none());{const n=t.data,r=Br.empty();let a=new Hn(pr.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new co(t.key,r,new ca(a.toArray()),Yr.none())}}function $ce(t,e,n){t instanceof Ff?(function(a,l,c){const d=a.value.clone(),h=UD(a.fieldTransforms,l,c.transformResults);d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof co?(function(a,l,c){if(!ug(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=UD(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll($L(a)),h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Uh(t,e,n,r){return t instanceof Ff?(function(l,c,d,h){if(!ug(l.precondition,c))return d;const f=l.value.clone(),p=VD(l.fieldTransforms,h,c);return f.setAll(p),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof co?(function(l,c,d,h){if(!ug(l.precondition,c))return d;const f=VD(l.fieldTransforms,h,c),p=c.data;return p.setAll($L(l)),p.setAll(f),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(l,c,d){return ug(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function Bce(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=LL(r.transform,a||null);l!=null&&(n===null&&(n=Br.empty()),n.set(r.field,l))}return n||null}function LD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Gu(r,a,((l,c)=>zce(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ff extends F0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class co extends F0{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $L(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UD(t,e,n){const r=new Map;At(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,Vce(c,d,n[a]))}return r}function VD(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,Uce(l,c,e))}return r}class $0 extends F0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qce extends F0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hce{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&$ce(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kL();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const h=FL(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,((n,r)=>LD(n,r)))&&Gu(this.baseMutations,e.baseMutations,((n,r)=>LD(n,r)))}}class dE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Rce})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new dE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,xt;function Yce(t){switch(t){case Ne.OK:return We(64938);case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0;default:return We(15467,{code:t})}}function BL(t){if(t===void 0)return Hs("GRPC error has no .code"),Ne.UNKNOWN;switch(t){case Pn.OK:return Ne.OK;case Pn.CANCELLED:return Ne.CANCELLED;case Pn.UNKNOWN:return Ne.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return Ne.INTERNAL;case Pn.UNAVAILABLE:return Ne.UNAVAILABLE;case Pn.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Pn.NOT_FOUND:return Ne.NOT_FOUND;case Pn.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Pn.ABORTED:return Ne.ABORTED;case Pn.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Pn.DATA_LOSS:return Ne.DATA_LOSS;default:return We(39323,{code:t})}}(xt=Pn||(Pn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xce=new ql([4294967295,4294967295],0);function zD(t){const e=Wce().encode(t),n=new rL;return n.update(e),new Uint8Array(n.digest())}function FD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ql([n,r],0),new ql([a,l],0)]}class hE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oh(`Invalid padding: ${n}`);if(r<0)throw new Oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ql.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(ql.fromNumber(r)));return a.compare(Xce)===1&&(a=new ql([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zD(e),[r,a]=FD(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new hE(l,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=zD(e),[r,a]=FD(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,$f.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new B0(tt.min(),a,new dn(mt),Gs(),pt())}}class $f{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $f(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class qL{constructor(e,n){this.targetId=e,this.Ce=n}}class HL{constructor(e,n,r=yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class $D{constructor(){this.ve=0,this.Fe=BD(),this.Me=yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:We(38017,{changeType:l})}})),new $f(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=BD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qce{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gs(),this.Je=Gp(),this.He=Gp(),this.Ye=new dn(mt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:We(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(EN(l))if(r===0){const c=new He(l.path);this.et(n,c,_r.newNoDocument(c,tt.min()))}else At(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=eo(r).toUint8Array()}catch(h){if(h instanceof pL)return Hu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new hE(c,a,l)}catch(h){return Hu(h instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&EN(d.target)){const h=new He(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,_r.newNoDocument(h,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=pt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new B0(e,n,this.Ye,this.je,r);return this.je=Gs(),this.Je=Gp(),this.He=Gp(),this.Ye=new dn(mt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $D,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Hn(mt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Hn(mt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $D),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gp(){return new dn(He.comparator)}function BD(){return new dn(He.comparator)}const Jce={asc:"ASCENDING",desc:"DESCENDING"},Zce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eue={and:"AND",or:"OR"};class tue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function AN(t,e){return t.useProto3Json||M0(e)?e:{value:e}}function wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nue(t,e){return wy(t,e.toTimestamp())}function $i(t){return At(!!t,49232),tt.fromTimestamp((function(n){const r=Zl(n);return new Zt(r.seconds,r.nanos)})(t))}function fE(t,e){return TN(t,e).canonicalString()}function TN(t,e){const n=(function(a){return new Yt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KL(t){const e=Yt.fromString(t);return At(JL(e),10190,{key:e.toString()}),e}function CN(t,e){return fE(t.databaseId,e.path)}function Jw(t,e){const n=KL(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(WL(n))}function YL(t,e){return fE(t.databaseId,e)}function rue(t){const e=KL(t);return e.length===4?Yt.emptyPath():WL(e)}function IN(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WL(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qD(t,e,n){return{name:CN(t,e),fields:n.value.mapValue.fields}}function aue(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(f,p){return f.useProto3Json?(At(p===void 0||typeof p=="string",58123),yr.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const p=f.code===void 0?Ne.UNKNOWN:BL(f.code);return new Oe(p,f.message||"")})(c);n=new HL(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Jw(t,r.document.name),l=$i(r.document.updateTime),c=r.document.createTime?$i(r.document.createTime):tt.min(),d=new Br({mapValue:{fields:r.document.fields}}),h=_r.newFoundDocument(a,l,c,d),f=r.targetIds||[],p=r.removedTargetIds||[];n=new dg(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Jw(t,r.document),l=r.readTime?$i(r.readTime):tt.min(),c=_r.newNoDocument(a,l),d=r.removedTargetIds||[];n=new dg([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Jw(t,r.document),l=r.removedTargetIds||[];n=new dg([],l,a,null)}else{if(!("filter"in e))return We(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new Kce(a,l),d=r.targetId;n=new qL(d,c)}}return n}function iue(t,e){let n;if(e instanceof Ff)n={update:qD(t,e.key,e.value)};else if(e instanceof $0)n={delete:CN(t,e.key)};else if(e instanceof co)n={update:qD(t,e.key,e.data),updateMask:mue(e.fieldMask)};else{if(!(e instanceof qce))return We(16599,{Vt:e.type});n={verify:CN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof vy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof df)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof by)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw We(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:nue(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:We(27497)})(t,e.precondition)),n}function sue(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?$i(a.updateTime):$i(l);return c.isEqual(tt.min())&&(c=$i(l)),new Fce(c,a.transformResults||[])})(n,e)))):[]}function lue(t,e){return{documents:[YL(t,e.path)]}}function oue(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YL(t,a);const l=(function(f){if(f.length!==0)return QL(ci.create(f,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(f){if(f.length!==0)return f.map((p=>(function(v){return{field:wu(v.field),direction:due(v.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=AN(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:a}}function cue(t){let e=rue(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){At(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let l=[];n.where&&(l=(function(g){const v=XL(g);return v instanceof ci&&EL(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((v=>(function(_){return new cf(Nu(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let v;return v=typeof g=="object"?g.value:g,M0(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(g){const v=!!g.before,N=g.values||[];return new yy(N,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const v=!g.before,N=g.values||[];return new yy(N,v)})(n.endAt)),Tce(e,a,c,l,d,"F",h,f)}function uue(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nu(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Nu(n.unaryFilter.field);return Mn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Nu(n.unaryFilter.field);return Mn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Nu(n.unaryFilter.field);return Mn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Mn.create(Nu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>XL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return We(1026)}})(n.compositeFilter.op))})(t):We(30097,{filter:t})}function due(t){return Jce[t]}function hue(t){return Zce[t]}function fue(t){return eue[t]}function wu(t){return{fieldPath:t.canonicalString()}}function Nu(t){return pr.fromServerFormat(t.fieldPath)}function QL(t){return t instanceof Mn?(function(n){if(n.op==="=="){if(OD(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NAN"}};if(ID(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OD(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NAN"}};if(ID(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(n.field),op:hue(n.op),value:n.value}}})(t):t instanceof ci?(function(n){const r=n.getFilters().map((a=>QL(a)));return r.length===1?r[0]:{compositeFilter:{op:fue(n.op),filters:r}}})(t):We(54877,{filter:t})}function mue(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,a,l=tt.min(),c=tt.min(),d=yr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e){this.yt=e}}function gue(t){const e=cue({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(){this.Cn=new xue}addToCollectionParentIndex(e,n){return this.Cn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Jl.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Jl.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class xue{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Hn(Yt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Hn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZL=41943040;class $r{static withCacheSize(e){return new $r(e,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(ZL,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wu(0)}static cr(){return new Wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="LruGarbageCollector",vue=1048576;function KD([t,e],[n,r]){const a=mt(t,n);return a===0?mt(e,r):a}class bue{constructor(e){this.Ir=e,this.buffer=new Hn(KD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(GD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hd(n)?Re(GD,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class Nue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return je.resolve(k0.ce);const r=new bue(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(HD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,c,d,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(l=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),vu()<=ft.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(h-d)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:g}))))}}function _ue(t,e){return new Nue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(){this.changes=new jc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Uh(r.mutation,a,ca.empty(),Zt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=pt()){const a=Jo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Ih();return l.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Jo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,pt())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let l=Gs();const c=Lh(),d=(function(){return Lh()})();return n.forEach(((h,f)=>{const p=r.get(f.key);a.has(f.key)&&(p===void 0||p.mutation instanceof co)?l=l.insert(f.key,f):p!==void 0?(c.set(f.key,p.mutation.getFieldMask()),Uh(p.mutation,f,p.mutation.getFieldMask(),Zt.now())):c.set(f.key,ca.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((f,p)=>c.set(f,p))),n.forEach(((f,p)=>d.set(f,new Eue(p,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Lh();let a=new dn(((c,d)=>c-d)),l=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||ca.empty();p=d.applyToLocalView(f,p),r.set(h,p);const g=(a.get(d.batchId)||pt()).add(h);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,p=h.value,g=kL();p.forEach((v=>{if(!l.has(v)){const N=FL(n.get(v),r.get(v));N!==null&&g.set(v,N),l=l.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,g))}return je.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return He.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):je.resolve(Jo());let d=af,h=l;return c.next((f=>je.forEach(f,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),l.get(p)?je.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{h=h.insert(p,v)}))))).next((()=>this.populateOverlays(e,f,l))).next((()=>this.computeViews(e,h,f,pt()))).next((p=>({batchId:d,changes:PL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next((r=>{let a=Ih();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Ih();return this.indexManager.getCollectionParents(e,l).next((d=>je.forEach(d,(h=>{const f=(function(g,v){return new fd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((p=>{p.forEach(((g,v)=>{c=c.insert(g,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((h,f)=>{const p=f.getKey();c.get(p)===null&&(c=c.insert(p,_r.newInvalidDocument(p)))}));let d=Ih();return c.forEach(((h,f)=>{const p=l.get(h);p!==void 0&&Uh(p.mutation,f,ca.empty(),Zt.now()),V0(n,f)&&(d=d.insert(h,f))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aue{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:$i(a.createTime)}})(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:gue(a.bundledQuery),readTime:$i(a.readTime)}})(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(){this.overlays=new dn(He.comparator),this.qr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jo();return je.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),je.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const a=Jo(),l=n.length+1,c=new He(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===l&&h.largestBatchId>r&&a.set(h.getKey(),h)}return je.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new dn(((f,p)=>f-p));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=l.get(f.largestBatchId);p===null&&(p=Jo(),l=l.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const d=Jo(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,p)=>d.set(f,p))),!(d.size()>=a)););return je.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Gce(n,r));let l=this.qr.get(n);l===void 0&&(l=pt(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.Qr=new Hn(nr.$r),this.Ur=new Hn(nr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new He(new Yt([])),r=new nr(n,e),a=new nr(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new He(new Yt([])),r=new nr(n,e),a=new nr(n,e+1);let l=pt();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new nr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return He.comparator(e.key,n.key)||mt(e.Yr,n.Yr)}static Kr(e,n){return mt(e.Yr,n.Yr)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Hn(nr.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Hce(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new nr(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return je.resolve(c)}lookupMutationBatch(e,n){return je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return je.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?iE:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),a=new nr(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hn(mt);return n.forEach((a=>{const l=new nr(a,0),c=new nr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;He.isDocumentKey(l)||(l=l.child(""));const c=new nr(new He(l),0);let d=new Hn(mt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(d=d.add(h.Yr)),!0)}),c),je.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){At(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return je.forEach(n.mutations,(a=>{const l=new nr(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nr(n,0),a=this.Zr.firstAfterOrEqual(r);return je.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(e){this.ri=e,this.docs=(function(){return new dn(He.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=Gs();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():_r.newInvalidDocument(a))})),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Gs();const c=n.path,d=new He(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||sce(ice(p),r)<=0||(a.has(p.key)||V0(n,p))&&(l=l.insert(p.key,p.mutableCopy()))}return je.resolve(l)}getAllFromCollectionGroup(e,n,r,a){We(9500)}ii(e,n){return je.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Due(this)}getSize(e){return je.resolve(this.size)}}class Due extends jue{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e){this.persistence=e,this.si=new jc((n=>oE(n)),cE),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new mE,this.targetCount=0,this.ai=Wu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Pr(n),je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),je.waitFor(l).next((()=>a))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),je.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n){this.ui={},this.overlays={},this.ci=new k0(0),this.li=!1,this.li=!0,this.hi=new Cue,this.referenceDelegate=e(this),this.Pi=new Rue(this),this.indexManager=new yue,this.remoteDocumentCache=(function(a){return new Oue(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pue(n),this.Ii=new Aue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Iue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const a=new Pue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Pue extends oce{constructor(e){super(),this.currentSequenceNumber=e}}class pE{constructor(e){this.persistence=e,this.Ri=new mE,this.Vi=null}static mi(e){return new pE(e)}get fi(){if(this.Vi)return this.Vi;throw We(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(r=>{const a=He.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ny{constructor(e,n){this.persistence=e,this.pi=new jc((r=>dce(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=_ue(this,n)}static mi(e,n){return new Ny(e,n)}Ei(){}di(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return je.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?je.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,l.removeEntry(c,tt.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=og(e.data.value)),n}br(e,n,r){return je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return je.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=pt(),a=pt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ase()?8:cce(Er())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new kue;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(vu()<=ft.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",bu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(vu()<=ft.DEBUG&&Re("QueryEngine","Query:",bu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(vu()<=ft.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",bu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):je.resolve())}ys(e,n){if(kD(n))return je.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=xy(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=pt(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,d);return this.Cs(n,f,c,h.readTime)?this.ys(e,xy(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,a){return kD(n)||a.isEqual(tt.min())?je.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?je.resolve(null):(vu()<=ft.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bu(n)),this.vs(e,c,n,ace(a,af)).next((d=>d)))}))}Ds(e,n){let r=new Hn(DL(e));return n.forEach(((a,l)=>{V0(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return vu()<=ft.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",bu(n)),this.ps.getDocumentsMatchingQuery(e,n,Jl.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LocalStore",Lue=3e8;class Uue{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new dn(mt),this.xs=new jc((l=>oE(l)),cE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sue(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Vue(t,e,n,r){return new Uue(t,e,n,r)}async function tU(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let h=pt();for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of l){d.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function zue(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,p){const g=f.batch,v=g.keys();let N=je.resolve();return v.forEach((_=>{N=N.next((()=>p.getEntry(h,_))).next((j=>{const E=f.docVersions.get(_);At(E!==null,48541),j.version.compareTo(E)<0&&(g.applyToRemoteDocument(j,f),j.isValidDocument()&&(j.setReadTime(f.commitVersion),p.addEntry(j)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(h,g)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=pt();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function nU(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Fue(t,e){const n=at(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const v=a.get(g);if(!v)return;d.push(n.Pi.removeMatchingKeys(l,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(l,p.addedDocuments,g))));let N=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(g)!==null?N=N.withResumeToken(yr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(p.resumeToken,r)),a=a.insert(g,N),(function(j,E,I){return j.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Lue?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,N,p)&&d.push(n.Pi.updateTargetData(l,N))}));let h=Gs(),f=pt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,p))})),d.push($ue(l,c,e.documentUpdates).next((p=>{h=p.ks,f=p.qs}))),!r.isEqual(tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(l).next((g=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(p)}return je.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,f))).next((()=>h))})).then((l=>(n.Ms=a,l)))}function $ue(t,e,n){let r=pt(),a=pt();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Gs();return n.forEach(((d,h)=>{const f=l.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(tt.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Re(yE,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function Bue(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=iE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function que(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,je.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new zl(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ON(t,e,n){const r=at(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hd(c))throw c;Re(yE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function YD(t,e,n){const r=at(t);let a=tt.min(),l=pt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,p){const g=at(h),v=g.xs.get(p);return v!==void 0?je.resolve(g.Ms.get(v)):g.Pi.getTargetData(f,p)})(r,c,Fi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{l=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:tt.min(),n?l:pt()))).next((d=>(Hue(r,Ice(e),d),{documents:d,Qs:l})))))}function Hue(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class WD{constructor(){this.activeTargetIds=Mce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gue{constructor(){this.Mo=new WD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="ConnectivityMonitor";class QD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(XD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(XD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp=null;function DN(){return Kp===null?Kp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kp++,"0x"+Kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="RestConnection",Yue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===py?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const c=DN(),d=this.zo(e,n.toUriEncodedString());Re(Zw,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,l);const{host:f}=new URL(d),p=wc(f);return this.Jo(e,d,h,r,p).then((g=>(Re(Zw,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Hu(Zw,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,l,c){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=Yue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="WebChannelConnection";class Que extends Wue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const c=DN();return new Promise(((d,h)=>{const f=new aL;f.setWithCredentials(!0),f.listenOnce(iL.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case lg.NO_ERROR:const g=f.getResponseJson();Re(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case lg.TIMEOUT:Re(vr,`RPC '${e}' ${c} timed out`),h(new Oe(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case lg.HTTP_ERROR:const v=f.getStatus();if(Re(vr,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let N=f.getResponseJson();Array.isArray(N)&&(N=N[0]);const _=N==null?void 0:N.error;if(_&&_.status&&_.message){const j=(function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(R)>=0?R:Ne.UNKNOWN})(_.status);h(new Oe(j,_.message))}else h(new Oe(Ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Oe(Ne.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Re(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);Re(vr,`RPC '${e}' ${c} sending request:`,a),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=DN(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=oL(),d=lL(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=l.join("");Re(vr,`Creating RPC '${e}' stream ${a}: ${p}`,h);const g=c.createWebChannel(p,h);this.I_(g);let v=!1,N=!1;const _=new Xue({Yo:E=>{N?Re(vr,`Not sending because RPC '${e}' stream ${a} is closed:`,E):(v||(Re(vr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),v=!0),Re(vr,`RPC '${e}' stream ${a} sending:`,E),g.send(E))},Zo:()=>g.close()}),j=(E,I,R)=>{E.listen(I,(M=>{try{R(M)}catch(T){setTimeout((()=>{throw T}),0)}}))};return j(g,Ch.EventType.OPEN,(()=>{N||(Re(vr,`RPC '${e}' stream ${a} transport opened.`),_.o_())})),j(g,Ch.EventType.CLOSE,(()=>{N||(N=!0,Re(vr,`RPC '${e}' stream ${a} transport closed`),_.a_(),this.E_(g))})),j(g,Ch.EventType.ERROR,(E=>{N||(N=!0,Hu(vr,`RPC '${e}' stream ${a} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new Oe(Ne.UNAVAILABLE,"The operation could not be completed")))})),j(g,Ch.EventType.MESSAGE,(E=>{var I;if(!N){const R=E.data[0];At(!!R,16349);const M=R,T=(M==null?void 0:M.error)||((I=M[0])==null?void 0:I.error);if(T){Re(vr,`RPC '${e}' stream ${a} received error:`,T);const C=T.status;let L=(function($){const A=Pn[$];if(A!==void 0)return BL(A)})(C),P=T.message;L===void 0&&(L=Ne.INTERNAL,P="Unknown error status: "+C+" with message "+T.message),N=!0,_.a_(new Oe(L,P)),g.close()}else Re(vr,`RPC '${e}' stream ${a} received:`,R),_.u_(R)}})),j(d,sL.STAT_EVENT,(E=>{E.stat===bN.PROXY?Re(vr,`RPC '${e}' stream ${a} detected buffering proxy`):E.stat===bN.NOPROXY&&Re(vr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function e1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){return new tue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="PersistentStream";class aU{constructor(e,n,r,a,l,c,d,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(Hs(n.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Oe(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(JD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Re(JD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jue extends aU{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aue(this.serializer,e),r=(function(l){if(!("targetChange"in l))return tt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?tt.min():c.readTime?$i(c.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=IN(this.serializer),n.addTarget=(function(l,c){let d;const h=c.target;if(d=EN(h)?{documents:lue(l,h)}:{query:oue(l,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=GL(l,c.resumeToken);const f=AN(l,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(tt.min())>0){d.readTime=wy(l,c.snapshotVersion.toTimestamp());const f=AN(l,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const r=uue(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=IN(this.serializer),n.removeTarget=e,this.q_(n)}}class Zue extends aU{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sue(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=IN(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>iue(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ede{}class tde extends ede{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Oe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,TN(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Oe(Ne.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,TN(n,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Oe(Ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="RemoteStore";class rde{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ec(this)&&(Re(mc,"Restarting streams for network reachability change."),await(async function(h){const f=at(h);f.Ea.add(4),await Bf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await H0(f)})(this))}))})),this.Ra=new nde(r,a)}}async function H0(t){if(Ec(t))for(const e of t.da)await e(!0)}async function Bf(t){for(const e of t.da)await e(!1)}function iU(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wE(n)?bE(n):md(n).O_()&&vE(n,e))}function xE(t,e){const n=at(t),r=md(n);n.Ia.delete(e),r.O_()&&sU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ec(n)&&n.Ra.set("Unknown"))}function vE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function sU(t,e){t.Va.Ue(e),md(t).Z_(e)}function bE(t){t.Va=new Qce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function wE(t){return Ec(t)&&!md(t).x_()&&t.Ia.size>0}function Ec(t){return at(t).Ea.size===0}function lU(t){t.Va=void 0}async function ade(t){t.Ra.set("Online")}async function ide(t){t.Ia.forEach(((e,n)=>{vE(t,e)}))}async function sde(t,e){lU(t),wE(t)?(t.Ra.ha(e),bE(t)):t.Ra.set("Unknown")}async function lde(t,e,n){if(t.Ra.set("Online"),e instanceof HL&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Re(mc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _y(t,r)}else if(e instanceof dg?t.Va.Ze(e):e instanceof qL?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await nU(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=l.Ia.get(f);p&&l.Ia.set(f,p.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,f)=>{const p=l.Ia.get(h);if(!p)return;l.Ia.set(h,p.withResumeToken(yr.EMPTY_BYTE_STRING,p.snapshotVersion)),sU(l,h);const g=new zl(p.target,h,f,p.sequenceNumber);vE(l,g)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Re(mc,"Failed to raise snapshot:",r),await _y(t,r)}}async function _y(t,e,n){if(!hd(e))throw e;t.Ea.add(1),await Bf(t),t.Ra.set("Offline"),n||(n=()=>nU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(mc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await H0(t)}))}function oU(t,e){return e().catch((n=>_y(t,n,e)))}async function G0(t){const e=at(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iE;for(;ode(e);)try{const a=await Bue(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,cde(e,a)}catch(a){await _y(e,a)}cU(e)&&uU(e)}function ode(t){return Ec(t)&&t.Ta.length<10}function cde(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cU(t){return Ec(t)&&!no(t).x_()&&t.Ta.length>0}function uU(t){no(t).start()}async function ude(t){no(t).ra()}async function dde(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function hde(t,e,n){const r=t.Ta.shift(),a=dE.from(r,e,n);await oU(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await G0(t)}async function fde(t,e){e&&no(t).X_&&await(async function(r,a){if((function(c){return Yce(c)&&c!==Ne.ABORTED})(a.code)){const l=r.Ta.shift();no(r).B_(),await oU(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await G0(r)}})(t,e),cU(t)&&uU(t)}async function ZD(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Re(mc,"RemoteStore received new credentials");const r=Ec(n);n.Ea.add(3),await Bf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await H0(n)}async function mde(t,e){const n=at(t);e?(n.Ea.delete(2),await H0(n)):e||(n.Ea.add(2),await Bf(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,a){const l=at(n);return l.sa(),new Jue(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:ade.bind(null,t),t_:ide.bind(null,t),r_:sde.bind(null,t),H_:lde.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wE(t)?bE(t):t.Ra.set("Unknown")):(await t.ma.stop(),lU(t))}))),t.ma}function no(t){return t.fa||(t.fa=(function(n,r,a){const l=at(n);return l.sa(),new Zue(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ude.bind(null,t),r_:fde.bind(null,t),ta:dde.bind(null,t),na:hde.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await G0(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(mc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,d=new NE(e,n,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _E(t,e){if(Hs("AsyncQueue",`${e}: ${t}`),hd(t))return new Oe(Ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(e){return new Iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=Ih(),this.sortedSet=new dn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.ga=new dn(He.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):We(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xu{constructor(e,n,r,a,l,c,d,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xu(e,n,Iu.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pde{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gde{constructor(){this.queries=tR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=at(n),l=a.queries;a.queries=tR(),l.forEach(((c,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new Oe(Ne.ABORTED,"Firestore shutting down"))}}function tR(){return new jc((t=>OL(t)),U0)}async function yde(t,e){const n=at(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new pde,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=_E(c,`Initialization of query '${bu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&jE(n)}async function xde(t,e){const n=at(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vde(t,e){const n=at(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&jE(n)}function bde(t,e,n){const r=at(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function jE(t){t.Ca.forEach((e=>{e.next()}))}var RN,nR;(nR=RN||(RN={})).Ma="default",nR.Cache="cache";class wde{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==RN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.key=e}}class hU{constructor(e){this.key=e}}class Nde{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=DL(e),this.tu=new Iu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new eR,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const v=a.get(p),N=V0(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let E=!1;v&&N?v.data.isEqual(N.data)?_!==j&&(r.track({type:3,doc:N}),E=!0):this.su(v,N)||(r.track({type:2,doc:N}),E=!0,(h&&this.eu(N,h)>0||f&&this.eu(N,f)<0)&&(d=!0)):!v&&N?(r.track({type:0,doc:N}),E=!0):v&&!N&&(r.track({type:1,doc:v}),E=!0,(h||f)&&(d=!0)),E&&(N?(c=c.add(N),l=j?l.add(p):l.delete(p)):(c=c.delete(p),l=l.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),l=l.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(N,_){const j=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{Rt:E})}};return j(N)-j(_)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Xu(this.query,e.tu,l,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new hU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new dU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const EE="SyncEngine";class _de{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jde{constructor(e){this.key=e,this.hu=!1}}class Ede{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new jc((d=>OL(d)),U0),this.Iu=new Map,this.Eu=new Set,this.du=new dn(He.comparator),this.Au=new Map,this.Ru=new mE,this.Vu={},this.mu=new Map,this.fu=Wu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sde(t,e,n=!0){const r=xU(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await fU(r,e,n,!0),a}async function Ade(t,e){const n=xU(t);await fU(n,e,!0,!1)}async function fU(t,e,n,r){const a=await que(t.localStore,Fi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await Tde(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&iU(t.remoteStore,a),d}async function Tde(t,e,n,r,a){t.pu=(g,v,N)=>(async function(j,E,I,R){let M=E.view.ru(I);M.Cs&&(M=await YD(j.localStore,E.query,!1).then((({documents:P})=>E.view.ru(P,M))));const T=R&&R.targetChanges.get(E.targetId),C=R&&R.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(M,j.isPrimaryClient,T,C);return aR(j,E.targetId,L.au),L.snapshot})(t,g,v,N);const l=await YD(t.localStore,e,!0),c=new Nde(e,l.Qs),d=c.ru(l.documents),h=$f.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=c.applyChanges(d,t.isPrimaryClient,h);aR(t,n,f.au);const p=new _de(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function Cde(t,e,n){const r=at(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!U0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ON(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&xE(r.remoteStore,a.targetId),PN(r,a.targetId)})).catch(dd)):(PN(r,a.targetId),await ON(r.localStore,a.targetId,!0))}async function Ide(t,e){const n=at(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xE(n.remoteStore,r.targetId))}async function Ode(t,e,n){const r=Ude(t);try{const a=await(function(c,d){const h=at(c),f=Zt.now(),p=d.reduce(((N,_)=>N.add(_.key)),pt());let g,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let _=Gs(),j=pt();return h.Ns.getEntries(N,p).next((E=>{_=E,_.forEach(((I,R)=>{R.isValidDocument()||(j=j.add(I))}))})).next((()=>h.localDocuments.getOverlayedDocuments(N,_))).next((E=>{g=E;const I=[];for(const R of d){const M=Bce(R,g.get(R.key).overlayedDocument);M!=null&&I.push(new co(R.key,M,NL(M.value.mapValue),Yr.exists(!0)))}return h.mutationQueue.addMutationBatch(N,f,I,d)})).next((E=>{v=E;const I=E.applyToLocalDocumentSet(g,j);return h.documentOverlayCache.saveOverlays(N,E.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:PL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new dn(mt)),f=f.insert(d,h),c.Vu[c.currentUser.toKey()]=f})(r,a.batchId,n),await qf(r,a.changes),await G0(r.remoteStore)}catch(a){const l=_E(a,"Failed to persist write");n.reject(l)}}async function mU(t,e){const n=at(t);try{const r=await Fue(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?At(c.hu,14607):a.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await qf(n,r,e)}catch(r){await dd(r)}}function rR(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=at(c);h.onlineState=d;let f=!1;h.queries.forEach(((p,g)=>{for(const v of g.Sa)v.va(d)&&(f=!0)})),f&&jE(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dde(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new dn(He.comparator);c=c.insert(l,_r.newNoDocument(l,tt.min()));const d=pt().add(l),h=new B0(tt.min(),new Map,new dn(mt),c,d);await mU(r,h),r.du=r.du.remove(l),r.Au.delete(e),SE(r)}else await ON(r.localStore,e,!1).then((()=>PN(r,e,n))).catch(dd)}async function Rde(t,e){const n=at(t),r=e.batch.batchId;try{const a=await zue(n.localStore,e);gU(n,r,null),pU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qf(n,a)}catch(a){await dd(a)}}async function Pde(t,e,n){const r=at(t);try{const a=await(function(c,d){const h=at(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return h.mutationQueue.lookupMutationBatch(f,d).next((g=>(At(g!==null,37113),p=g.keys(),h.mutationQueue.removeMutationBatch(f,g)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>h.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);gU(r,e,n),pU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qf(r,a)}catch(a){await dd(a)}}function pU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function gU(t,e,n){const r=at(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function PN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yU(t,r)}))}function yU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),SE(t))}function aR(t,e,n){for(const r of n)r instanceof dU?(t.Ru.addReference(r.key,e),kde(t,r)):r instanceof hU?(Re(EE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yU(t,r.key)):We(19791,{wu:r})}function kde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(EE,"New document in limbo: "+n),t.Eu.add(r),SE(t))}function SE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new He(Yt.fromString(e)),r=t.fu.next();t.Au.set(r,new jde(n)),t.du=t.du.insert(n,r),iU(t.remoteStore,new zl(Fi(CL(n.path)),r,"TargetPurposeLimboResolution",k0.ce))}}async function qf(t,e,n){const r=at(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{c.push(r.pu(h,e,n).then((f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=gE.As(h.targetId,f);l.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,f){const p=at(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>je.forEach(f,(v=>je.forEach(v.Es,(N=>p.persistence.referenceDelegate.addReference(g,v.targetId,N))).next((()=>je.forEach(v.ds,(N=>p.persistence.referenceDelegate.removeReference(g,v.targetId,N)))))))))}catch(g){if(!hd(g))throw g;Re(yE,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const N=p.Ms.get(v),_=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(_);p.Ms=p.Ms.insert(v,j)}}})(r.localStore,l))}async function Mde(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Re(EE,"User change. New user:",e.toKey());const r=await tU(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((h=>{h.reject(new Oe(Ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qf(n,r.Ls)}}function Lde(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let a=pt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function xU(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dde.bind(null,e),e.Pu.H_=vde.bind(null,e.eventManager),e.Pu.yu=bde.bind(null,e.eventManager),e}function Ude(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pde.bind(null,e),e}class jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=q0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Vue(this.persistence,new Mue,e.initialUser,this.serializer)}Cu(e){return new eU(pE.mi,this.serializer)}Du(e){return new Gue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jy.provider={build:()=>new jy};class Vde extends jy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof Ny,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wue(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new eU((r=>Ny.mi(r,n)),this.serializer)}}class kN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mde.bind(null,this.syncEngine),await mde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gde})()}createDatastore(e){const n=q0(e.databaseInfo.databaseId),r=(function(l){return new Que(l)})(e.databaseInfo);return(function(l,c,d,h){return new tde(l,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,d){return new rde(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>rR(this.syncEngine,n,0)),(function(){return QD.v()?new QD:new Kue})())}createSyncEngine(e,n){return(function(a,l,c,d,h,f,p){const g=new Ede(a,l,c,d,h,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=at(a);Re(mc,"RemoteStore shutting down."),l.Ea.add(5),await Bf(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}kN.provider={build:()=>new kN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zde{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class Fde{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=wr.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Re(ro,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Re(ro,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_E(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function t1(t,e){t.asyncQueue.verifyOperationInProgress(),Re(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await tU(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function iR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $de(t);Re(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ZD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>ZD(e.remoteStore,a))),t._onlineComponents=e}async function $de(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(ro,"Using user provided OfflineComponentProvider");try{await t1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ne.FAILED_PRECONDITION||a.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await t1(t,new jy)}}else Re(ro,"Using default OfflineComponentProvider"),await t1(t,new Vde(void 0));return t._offlineComponents}async function vU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(ro,"Using user provided OnlineComponentProvider"),await iR(t,t._uninitializedComponentsProvider._online)):(Re(ro,"Using default OnlineComponentProvider"),await iR(t,new kN))),t._onlineComponents}function Bde(t){return vU(t).then((e=>e.syncEngine))}async function qde(t){const e=await vU(t),n=e.eventManager;return n.onListen=Sde.bind(null,e.syncEngine),n.onUnlisten=Cde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ade.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ide.bind(null,e.syncEngine),n}function Hde(t,e,n={}){const r=new Hl;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,f){const p=new zde({next:v=>{p.Nu(),c.enqueueAndForget((()=>xde(l,g))),v.fromCache&&h.source==="server"?f.reject(new Oe(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new wde(d,p,{includeMetadataChanges:!0,qa:!0});return yde(l,g)})(await qde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="firestore.googleapis.com",lR=!0;class oR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wU,this.ssl=lR}else this.host=e.host,this.ssl=e.ssl??lR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vue)throw new Oe(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rce("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Koe;switch(r.type){case"firstParty":return new Qoe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sR.get(n);r&&(Re("ComponentProvider","Removing Datastore"),sR.delete(n),r.terminate())})(this),Promise.resolve()}}function Gde(t,e,n,r={}){var f;t=Ql(t,K0);const a=wc(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Yj(`https://${d}`),Wj("Firestore",!0)),l.host!==wU&&l.host!==d&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:d,ssl:a,emulatorOptions:r};if(!Xl(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=wr.MOCK_USER;else{p=S3(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Oe(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wr(v)}t._authCredentials=new Yoe(new uL(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}toJSON(){return{type:qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zf(n,qn._jsonSchema))return new qn(e,r||null,new He(Yt.fromString(n.referencePath)))}}qn._jsonSchemaVersion="firestore/documentReference/1.0",qn._jsonSchema={type:Un("string",qn._jsonSchemaVersion),referencePath:Un("string")};class Gl extends uo{constructor(e,n,r){super(e,n,CL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new He(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function Ie(t,e,...n){if(t=En(t),dL("collection","path",e),t instanceof K0){const r=Yt.fromString(e,...n);return wD(r),new Gl(t,null,r)}{if(!(t instanceof qn||t instanceof Gl))throw new Oe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return wD(r),new Gl(t.firestore,null,r)}}function ze(t,e,...n){if(t=En(t),arguments.length===1&&(e=aE.newId()),dL("doc","path",e),t instanceof K0){const r=Yt.fromString(e,...n);return bD(r),new qn(t,null,new He(r))}{if(!(t instanceof qn||t instanceof Gl))throw new Oe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return bD(r),new qn(t.firestore,t instanceof Gl?t.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="AsyncQueue";class uR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rU(this,"async_queue_retry"),this._c=()=>{const r=e1();r&&Re(cR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=e1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=e1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hd(e))throw e;Re(cR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",dR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=NE.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&We(47125,{Pc:dR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pd extends K0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new uR,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uR(e),this._firestoreClient=void 0,await e}}}function Kde(t,e){const n=typeof t=="object"?t:O0(),r=typeof t=="string"?t:py,a=lo(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=_3("firestore");l&&Gde(a,...l)}return a}function AE(t){if(t._terminated)throw new Oe(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yde(t),t._firestoreClient}function Yde(t){var r,a,l;const e=t._freezeSettings(),n=(function(d,h,f,p){return new mce(d,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Fde(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(yr.fromBase64String(e))}catch(n){throw new Oe(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zf(e,Oa._jsonSchema))return Oa.fromBase64String(e.bytes)}}Oa._jsonSchemaVersion="firestore/bytes/1.0",Oa._jsonSchema={type:Un("string",Oa._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(zf(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Un("string",Bi._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zf(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new Oe(Ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Un("string",qi._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wde=/^__.*__$/;class Xde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ff(e,this.data,n,this.fieldTransforms)}}class NU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _U(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{Ac:t})}}class CE{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new CE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_U(this.Ac)&&Wde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Qde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||q0(e)}Cc(e,n,r,a=!1){return new CE({Ac:e,methodName:n,Dc:r,path:pr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y0(t){const e=t._freezeSettings(),n=q0(t._databaseId);return new Qde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jU(t,e,n,r,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);IE("Data must be an object, but it was:",c,r);const d=AU(r,c);let h,f;if(l.merge)h=new ca(c.fieldMask),f=c.fieldTransforms;else if(l.mergeFields){const p=[];for(const g of l.mergeFields){const v=MN(e,g,n);if(!c.contains(v))throw new Oe(Ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);CU(p,v)||p.push(v)}h=new ca(p),f=c.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,f=c.fieldTransforms;return new Xde(new Br(d),h,f)}class W0 extends TE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W0}}function EU(t,e,n,r){const a=t.Cc(1,e,n);IE("Data must be an object, but it was:",a,r);const l=[],c=Br.empty();oo(r,((h,f)=>{const p=OE(e,h,n);f=En(f);const g=a.yc(p);if(f instanceof W0)l.push(p);else{const v=Gf(f,g);v!=null&&(l.push(p),c.set(p,v))}}));const d=new ca(l);return new NU(c,d,a.fieldTransforms)}function SU(t,e,n,r,a,l){const c=t.Cc(1,e,n),d=[MN(e,r,n)],h=[a];if(l.length%2!=0)throw new Oe(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)d.push(MN(e,l[v])),h.push(l[v+1]);const f=[],p=Br.empty();for(let v=d.length-1;v>=0;--v)if(!CU(f,d[v])){const N=d[v];let _=h[v];_=En(_);const j=c.yc(N);if(_ instanceof W0)f.push(N);else{const E=Gf(_,j);E!=null&&(f.push(N),p.set(N,E))}}const g=new ca(f);return new NU(p,g,c.fieldTransforms)}function Jde(t,e,n,r=!1){return Gf(n,t.Cc(r?4:3,e))}function Gf(t,e){if(TU(t=En(t)))return IE("Unsupported field value:",e,t),AU(t,e);if(t instanceof TE)return(function(r,a){if(!_U(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let h=Gf(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Lce(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Zt.fromDate(r);return{timestampValue:wy(a.serializer,l)}}if(r instanceof Zt){const l=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wy(a.serializer,l)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:GL(a.serializer,r._byteString)};if(r instanceof qn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof qi)return(function(c,d){return{mapValue:{fields:{[bL]:{stringValue:wL},[gy]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return uE(d.serializer,f)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${P0(r)}`)})(t,e)}function AU(t,e){const n={};return mL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,((r,a)=>{const l=Gf(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function TU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Bi||t instanceof Oa||t instanceof qn||t instanceof TE||t instanceof qi)}function IE(t,e,n){if(!TU(n)||!hL(n)){const r=P0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function MN(t,e,n){if((e=En(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return OE(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const Zde=new RegExp("[~\\*/\\[\\]]");function OE(t,e,n){if(e.search(Zde)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hf(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ey(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new Oe(Ne.INVALID_ARGUMENT,d+t+h)}function CU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ehe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ehe extends IU{data(){return super.data()}}function X0(t,e){return typeof e=="string"?OE(t,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function the(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DE{}class RE extends DE{}function un(t,e,...n){let r=[];e instanceof DE&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof PE)).length,d=l.filter((h=>h instanceof Q0)).length;if(c>1||c>0&&d>0)throw new Oe(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Q0 extends RE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Q0(e,n,r)}_apply(e){const n=this._parse(e);return OU(e._query,n),new uo(e.firestore,e.converter,SN(e._query,n))}_parse(e){const n=Y0(e.firestore);return(function(l,c,d,h,f,p,g){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Oe(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){fR(g,p);const _=[];for(const j of g)_.push(hR(h,l,j));v={arrayValue:{values:_}}}else v=hR(h,l,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||fR(g,p),v=Jde(d,c,g,p==="in"||p==="not-in");return Mn.create(f,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cn(t,e,n){const r=e,a=X0("where",t);return Q0._create(a,r,n)}class PE extends DE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const h of d)OU(c,h),c=SN(c,h)})(e._query,n),new uo(e.firestore,e.converter,SN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kE extends RE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kE(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new Oe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Oe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cf(l,c)})(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new fd(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function ho(t,e="asc"){const n=e,r=X0("orderBy",t);return kE._create(r,n)}class ME extends RE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ME(e,n,r)}_apply(e){return new uo(e.firestore,e.converter,xy(e._query,this._limit,this._limitType))}}function nhe(t){return ME._create("limit",t,"F")}function hR(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new Oe(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IL(e)&&n.indexOf("/")!==-1)throw new Oe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Yt.fromString(n));if(!He.isDocumentKey(r))throw new Oe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CD(t,new He(r))}if(n instanceof qn)return CD(t,n._key);throw new Oe(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${P0(n)}.`)}function fR(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OU(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rhe{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw We(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){var r,a,l;const n=(l=(a=(r=e.fields)==null?void 0:r[gy].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Nn(c.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Bi(Nn(e.latitude),Nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=L0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const n=Zl(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Yt.fromString(e);At(JL(r),9688,{name:e});const a=new lf(r.get(1),r.get(3)),l=new He(r.popFirst(5));return a.isEqual(n)||Hs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends IU{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(Ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ou._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ou._jsonSchema={type:Un("string",Ou._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class hg extends Ou{data(e={}){return super.data(e)}}class Du{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new hg(this._firestore,this._userDataWriter,r.key,r,new Yp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new hg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Yp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const h=new hg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Yp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,p=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:ahe(d.type),doc:h,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(Ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=aE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ahe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:t})}}Du._jsonSchemaVersion="firestore/querySnapshot/1.0",Du._jsonSchema={type:Un("string",Du._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class ihe extends rhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function Xe(t){t=Ql(t,uo);const e=Ql(t.firestore,pd),n=AE(e),r=new ihe(e);return the(t._query),Hde(n,t._query).then((a=>new Du(e,r,t,a)))}function Tt(t,e,n,...r){t=Ql(t,qn);const a=Ql(t.firestore,pd),l=Y0(a);let c;return c=typeof(e=En(e))=="string"||e instanceof Hf?SU(l,"updateDoc",t._key,e,n,r):EU(l,"updateDoc",t._key,e),J0(a,[c.toMutation(t._key,Yr.exists(!0))])}function Wt(t){return J0(Ql(t.firestore,pd),[new $0(t._key,Yr.none())])}function Pt(t,e){const n=Ql(t.firestore,pd),r=ze(t),a=DU(t.converter,e);return J0(n,[jU(Y0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then((()=>r))}function J0(t,e){return(function(r,a){const l=new Hl;return r.asyncQueue.enqueueAndForget((async()=>Ode(await Bde(r),a,l))),l.promise})(AE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class she{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Y0(e)}set(e,n,r){this._verifyNotCommitted();const a=n1(e,this._firestore),l=DU(a.converter,n,r),c=jU(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Yr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const l=n1(e,this._firestore);let c;return c=typeof(n=En(n))=="string"||n instanceof Hf?SU(this._dataReader,"WriteBatch.update",l._key,n,r,a):EU(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=n1(e,this._firestore);return this._mutations=this._mutations.concat(new $0(n._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function n1(t,e){if((t=En(t)).firestore!==e)throw new Oe(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){return AE(t=Ql(t,pd)),new she(t,(e=>J0(t,e)))}(function(e,n=!0){(function(a){ud=a})(_c),oi(new Ma("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new pd(new Woe(r.getProvider("auth-internal")),new Joe(c,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(f.options.projectId,p)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Kr(gD,yD,e),Kr(gD,yD,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firebasestorage.googleapis.com",lhe="storageBucket",ohe=120*1e3,che=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ua{constructor(e,n,r=0){super(r1(e),`Firebase Storage: ${n} (${r1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return r1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var es;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(es||(es={}));function r1(t){return"storage/"+t}function uhe(){const t="An unknown error occurred, please check the error payload for server response.";return new as(es.UNKNOWN,t)}function dhe(){return new as(es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hhe(){return new as(es.CANCELED,"User canceled the upload/download.")}function fhe(t){return new as(es.INVALID_URL,"Invalid URL '"+t+"'.")}function mhe(t){return new as(es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mR(t){return new as(es.INVALID_ARGUMENT,t)}function PU(){return new as(es.APP_DELETED,"The Firebase app was deleted.")}function phe(t){return new as(es.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(r.path==="")return r;throw mhe(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function f(T){T.path_=decodeURIComponent(T.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",N=new RegExp(`^https?://${g}/${p}/b/${a}/o${v}`,"i"),_={bucket:1,path:3},j=n===RU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",I=new RegExp(`^https?://${j}/${a}/${E}`,"i"),M=[{regex:d,indices:h,postModify:l},{regex:N,indices:_,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let T=0;T<M.length;T++){const C=M[T],L=C.regex.exec(e);if(L){const P=L[C.indices.bucket];let V=L[C.indices.path];V||(V=""),r=new ni(P,V),C.postModify(r);break}}if(r==null)throw fhe(e);return r}}class ghe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yhe(t,e,n){let r=1,a=null,l=null,c=!1,d=0;function h(){return d===2}let f=!1;function p(...E){f||(f=!0,e.apply(null,E))}function g(E){a=setTimeout(()=>{a=null,t(N,h())},E)}function v(){l&&clearTimeout(l)}function N(E,...I){if(f){v();return}if(E){v(),p.call(null,E,...I);return}if(h()||c){v(),p.call(null,E,...I);return}r<64&&(r*=2);let M;d===1?(d=2,M=0):M=(r+Math.random())*1e3,g(M)}let _=!1;function j(E){_||(_=!0,v(),!f&&(a!==null?(E||(d=2),clearTimeout(a),g(0)):E||(d=1)))}return g(0),l=setTimeout(()=>{c=!0,j(!0)},n),j}function xhe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vhe(t){return t!==void 0}function pR(t,e,n,r){if(r<e)throw mR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mR(`Invalid value for '${t}'. Expected ${n} or less.`)}function bhe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Sy;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sy||(Sy={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function whe(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nhe{constructor(e,n,r,a,l,c,d,h,f,p,g,v=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,j)=>{this.resolve_=_,this.reject_=j,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Wp(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const h=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Sy.NO_ERROR,h=l.getStatus();if(!d||whe(h,this.additionalRetryCodes_)&&this.retry){const p=l.getErrorCode()===Sy.ABORT;r(!1,new Wp(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Wp(f,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());vhe(h)?l(h):l()}catch(h){c(h)}else if(d!==null){const h=uhe();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(a.canceled){const h=this.appDelete_?PU():hhe();c(h)}else{const h=dhe();c(h)}};this.canceled_?n(!1,new Wp(!1,null,!0)):this.backoffId_=yhe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xhe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _he(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jhe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ehe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function She(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ahe(t,e,n,r,a,l,c=!0,d=!1){const h=bhe(t.urlParams),f=t.url+h,p=Object.assign({},t.headers);return Ehe(p,e),_he(p,n),jhe(p,l),She(p,r),new Nhe(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function The(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Che(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ay(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Che(this._location.path)}get storage(){return this._service}get parent(){const e=The(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new Ay(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw phe(e)}}function gR(t,e){const n=e==null?void 0:e[lhe];return n==null?null:ni.makeFromBucketSpec(n,t)}function Ihe(t,e,n,r={}){t.host=`${e}:${n}`;const a=wc(e);a&&(Yj(`https://${t.host}/b`),Wj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:S3(l,t.app.options.projectId))}class Ohe{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=RU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ohe,this._maxUploadRetryTime=che,this._requests=new Set,a!=null?this._bucket=ni.makeFromBucketSpec(a,this._host):this._bucket=gR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=gR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new ghe(PU());{const c=Ahe(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const yR="@firebase/storage",xR="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="storage";function Dhe(t=O0(),e){t=En(t);const r=lo(t,kU).getImmediate({identifier:e}),a=_3("storage");return a&&Rhe(r,...a),r}function Rhe(t,e,n,r={}){Ihe(t,e,n,r)}function Phe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ohe(n,r,a,e,_c)}function khe(){oi(new Ma(kU,Phe,"PUBLIC").setMultipleInstances(!0)),Kr(yR,xR,""),Kr(yR,xR,"esm2020")}khe();function MU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mhe=MU,LU=new Nc("auth","Firebase",MU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new I0("@firebase/auth");function Lhe(t,...e){Ty.logLevel<=ft.WARN&&Ty.warn(`Auth (${_c}): ${t}`,...e)}function fg(t,...e){Ty.logLevel<=ft.ERROR&&Ty.error(`Auth (${_c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw UE(t,...e)}function Hi(t,...e){return UE(t,...e)}function UU(t,e,n){const r={...Mhe(),[e]:n};return new Nc("auth","Firebase",r).create(e,{appName:t.name})}function rc(t){return UU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LU.create(t,...e)}function Ze(t,e,...n){if(!t)throw UE(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fg(e),new Error(e)}function Ys(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Uhe(){return vR()==="http:"||vR()==="https:"}function vR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vhe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uhe()||A3()||"connection"in navigator)?navigator.onLine:!0}function zhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=Zie()||nse()}get(){return Vhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fhe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bhe=new Kf(3e4,6e4);function zE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gd(t,e,n,r,a={}){return zU(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Vf({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...l};return tse()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&wc(t.emulatorConfig.host)&&(f.credentials="include"),VU.fetch()(await FU(t,t.config.apiHost,n,d),f)})}async function zU(t,e,n){t._canInitEmulator=!1;const r={...Fhe,...e};try{const a=new Hhe(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Xp(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xp(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Xp(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Xp(t,"user-disabled",c);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw UU(t,p,f);Ks(t,p)}}catch(a){if(a instanceof Ua)throw a;Ks(t,"network-request-failed",{message:String(a)})}}async function qhe(t,e,n,r,a={}){const l=await gd(t,e,n,r,a);return"mfaPendingCredential"in l&&Ks(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function FU(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?VE(t.config,a):`${t.config.apiScheme}://${a}`;return $he.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Hhe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),Bhe.get())})}}function Xp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Hi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ghe(t,e){return gd(t,"POST","/v1/accounts:delete",e)}async function Cy(t,e){return gd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Khe(t,e=!1){const n=En(t),r=await n.getIdToken(e),a=FE(r);Ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Vh(a1(a.auth_time)),issuedAtTime:Vh(a1(a.iat)),expirationTime:Vh(a1(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function a1(t){return Number(t)*1e3}function FE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fg("JWT malformed, contained fewer than 3 sections"),null;try{const a=w3(n);return a?JSON.parse(a):(fg("Failed to decode base64 JWT payload"),null)}catch(a){return fg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function bR(t){const e=FE(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ua&&Yhe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Yhe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Whe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vh(this.lastLoginAt),this.creationTime=Vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await hf(t,Cy(e,{idToken:n}));Ze(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=(g=a.providerUserInfo)!=null&&g.length?$U(a.providerUserInfo):[],c=Qhe(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),f=d?h:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new UN(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function Xhe(t){const e=En(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qhe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function $U(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jhe(t,e){const n=await zU(t,{},async()=>{const r=Vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await FU(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&wc(t.emulatorConfig.host)&&(h.credentials="include"),VU.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zhe(t,e){return gd(t,"POST","/v2/accounts:revokeToken",zE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const n=bR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await Jhe(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Ru;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ze(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ze(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Whe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new UN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hf(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Khe(this,e)}reload(){return Xhe(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(rc(this.auth));const e=await this.getIdToken();return await hf(this,Ghe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:N,providerData:_,stsTokenManager:j}=n;Ze(g&&j,e,"internal-error");const E=Ru.fromJSON(this.name,j);Ze(typeof g=="string",e,"internal-error"),Dl(r,e.name),Dl(a,e.name),Ze(typeof v=="boolean",e,"internal-error"),Ze(typeof N=="boolean",e,"internal-error"),Dl(l,e.name),Dl(c,e.name),Dl(d,e.name),Dl(h,e.name),Dl(f,e.name),Dl(p,e.name);const I=new ri({uid:g,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:E,createdAt:f,lastLoginAt:p});return _&&Array.isArray(_)&&(I.providerData=_.map(R=>({...R}))),h&&(I._redirectEventId=h),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ru;a.updateFromServerResponse(n);const l=new ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Iy(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?$U(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ru;d.updateFromIdToken(r);const h=new ri({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new UN(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new Map;function Is(t){Ys(t instanceof Function,"Expected a class definition");let e=wR.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BU.type="NONE";const NR=BU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e,n){return`firebase:${t}:${e}:${n}`}class Pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=mg(this.userKey,a.apiKey,l),this.fullPersistenceKey=mg("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cy(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pu(Is(NR),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=a[0]||Is(NR);const c=mg(r,e.config.apiKey,e.name);let d=null;for(const f of n)try{const p=await f._get(c);if(p){let g;if(typeof p=="string"){const v=await Cy(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ri._fromGetAccountInfoResponse(e,v,p)}else g=ri._fromJSON(e,p);f!==l&&(d=g),l=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Pu(l,e,r):(l=h[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==l)try{await f._remove(c)}catch{}})),new Pu(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WU(e))return"Blackberry";if(XU(e))return"Webos";if(HU(e))return"Safari";if((e.includes("chrome/")||GU(e))&&!e.includes("edge/"))return"Chrome";if(YU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qU(t=Er()){return/firefox\//i.test(t)}function HU(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GU(t=Er()){return/crios\//i.test(t)}function KU(t=Er()){return/iemobile/i.test(t)}function YU(t=Er()){return/android/i.test(t)}function WU(t=Er()){return/blackberry/i.test(t)}function XU(t=Er()){return/webos/i.test(t)}function $E(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function efe(t=Er()){var e;return $E(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tfe(){return rse()&&document.documentMode===10}function QU(t=Er()){return $E(t)||YU(t)||XU(t)||WU(t)||/windows phone/i.test(t)||KU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e=[]){let n;switch(t){case"Browser":n=_R(Er());break;case"Worker":n=`${_R(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const h=e(l);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rfe(t,e={}){return gd(t,"GET","/v2/passwordPolicy",zE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const afe=6;class ife{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??afe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jR(this),this.idTokenSubscription=new jR(this),this.beforeStateQueue=new nfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Pu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cy(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zhe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(rc(this));const n=e?En(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(rc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(rc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rfe(this),n=new ife(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zhe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await Pu.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Lhe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function BE(t){return En(t)}class jR{constructor(e){this.auth=e,this.observer=null,this.addObserver=use(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lfe(t){qE=t}function ofe(t){return qE.loadJS(t)}function cfe(){return qE.gapiScript}function ufe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dfe(t,e){const n=lo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Xl(l,e??{}))return a;Ks(a,"already-initialized")}return n.initialize({options:e})}function hfe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ffe(t,e,n){const r=BE(t);Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=ZU(e),{host:c,port:d}=mfe(e),h=d===null?"":`:${d}`,f={url:`${l}//${c}${h}/`},p=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ze(Xl(f,r.config.emulator)&&Xl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,wc(c)?(Yj(`${l}//${c}${h}`),Wj("Auth",!0)):pfe()}function ZU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mfe(t){const e=ZU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:ER(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:ER(c)}}}function ER(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e){return qhe(t,"POST","/v1/accounts:signInWithIdp",zE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gfe="http://localhost";class pc extends e8{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new pc(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ku(e,n)}buildRequest(){const e={requestUri:gfe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends t8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Yf{constructor(){super("facebook.com")}static credential(e){return pc._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pc._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ll.credential(n,r)}catch{return null}}}Ll.GOOGLE_SIGN_IN_METHOD="google.com";Ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Yf{constructor(){super("github.com")}static credential(e){return pc._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ul.credentialFromTaggedObject(e)}static credentialFromError(e){return Ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ul.credential(e.oauthAccessToken)}catch{return null}}}Ul.GITHUB_SIGN_IN_METHOD="github.com";Ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Yf{constructor(){super("twitter.com")}static credential(e,n){return pc._fromParams({providerId:Vl.PROVIDER_ID,signInMethod:Vl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vl.credentialFromTaggedObject(e)}static credentialFromError(e){return Vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vl.credential(n,r)}catch{return null}}}Vl.TWITTER_SIGN_IN_METHOD="twitter.com";Vl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await ri._fromIdTokenResponse(e,r,a),c=SR(r);return new Qu({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=SR(r);return new Qu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function SR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Ua{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Oy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Oy(e,n,r,a)}}function n8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oy._fromErrorAndOperation(t,l,e,r):l})}async function yfe(t,e,n=!1){const r=await hf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xfe(t,e,n=!1){const{auth:r}=t;if(ti(r.app))return Promise.reject(rc(r));const a="reauthenticate";try{const l=await hf(t,n8(r,a,e,t),n);Ze(l.idToken,r,"internal-error");const c=FE(l.idToken);Ze(c,r,"internal-error");const{sub:d}=c;return Ze(t.uid===d,r,"user-mismatch"),Qu._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ks(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vfe(t,e,n=!1){if(ti(t.app))return Promise.reject(rc(t));const r="signIn",a=await n8(t,r,e),l=await Qu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}function bfe(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function wfe(t,e,n){return En(t).beforeAuthStateChanged(e,n)}const Dy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dy,"1"),this.storage.removeItem(Dy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nfe=1e3,_fe=10;class a8 extends r8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);tfe()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_fe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Nfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a8.type="LOCAL";const jfe=a8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8 extends r8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i8.type="SESSION";const s8=i8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Efe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Z0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async f=>f(n.origin,l)),h=await Efe(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Z0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,h)=>{const f=HE("",20);a.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(p),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function Afe(t){Gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function Tfe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cfe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ife(){return l8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="firebaseLocalStorageDb",Ofe=1,Ry="firebaseLocalStorage",c8="fbase_key";class Wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ex(t,e){return t.transaction([Ry],e?"readwrite":"readonly").objectStore(Ry)}function Dfe(){const t=indexedDB.deleteDatabase(o8);return new Wf(t).toPromise()}function VN(){const t=indexedDB.open(o8,Ofe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ry,{keyPath:c8})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ry)?e(r):(r.close(),await Dfe(),e(await VN()))})})}async function AR(t,e,n){const r=ex(t,!0).put({[c8]:e,value:n});return new Wf(r).toPromise()}async function Rfe(t,e){const n=ex(t,!1).get(e),r=await new Wf(n).toPromise();return r===void 0?null:r.value}function TR(t,e){const n=ex(t,!0).delete(e);return new Wf(n).toPromise()}const Pfe=800,kfe=3;class u8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kfe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Z0._getInstance(Ife()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Tfe(),!this.activeServiceWorker)return;this.sender=new Sfe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cfe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VN();return await AR(e,Dy,"1"),await TR(e,Dy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Rfe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ex(a,!1).getAll();return new Wf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u8.type="LOCAL";const Mfe=u8;new Kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lfe(t,e){return e?Is(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends e8{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ufe(t){return vfe(t.auth,new GE(t),t.bypassAuthState)}function Vfe(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),xfe(n,new GE(t),t.bypassAuthState)}async function zfe(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),yfe(n,new GE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ufe;case"linkViaPopup":case"linkViaRedirect":return zfe;case"reauthViaPopup":case"reauthViaRedirect":return Vfe;default:Ks(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ffe=new Kf(2e3,1e4);class Su extends d8{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Su.currentPopupAction&&Su.currentPopupAction.cancel(),Su.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=HE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Su.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ffe.get())};e()}}Su.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe="pendingRedirect",pg=new Map;class Bfe extends d8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pg.get(this.auth._key());if(!e){try{const r=await qfe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pg.set(this.auth._key(),e)}return this.bypassAuthState||pg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qfe(t,e){const n=Kfe(e),r=Gfe(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Hfe(t,e){pg.set(t._key(),e)}function Gfe(t){return Is(t._redirectPersistence)}function Kfe(t){return mg($fe,t.config.apiKey,t.name)}async function Yfe(t,e,n=!1){if(ti(t.app))return Promise.reject(rc(t));const r=BE(t),a=Lfe(r,e),c=await new Bfe(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wfe=600*1e3;class Xfe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qfe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h8(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wfe&&this.cachedEventUids.clear(),this.cachedEventUids.has(CR(e))}saveEventToCache(e){this.cachedEventUids.add(CR(e)),this.lastProcessedEventTime=Date.now()}}function CR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jfe(t,e={}){return gd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eme=/^https?/;async function tme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jfe(t);for(const n of e)try{if(nme(n))return}catch{}Ks(t,"unauthorized-domain")}function nme(t){const e=LN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!eme.test(n))return!1;if(Zfe.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme=new Kf(3e4,6e4);function IR(){const t=Gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ame(t){return new Promise((e,n)=>{var a,l,c;function r(){IR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IR(),n(Hi(t,"network-request-failed"))},timeout:rme.get()})}if((l=(a=Gi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Gi().gapi)!=null&&c.load)r();else{const d=ufe("iframefcb");return Gi()[d]=()=>{gapi.load?r():n(Hi(t,"network-request-failed"))},ofe(`${cfe()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw gg=null,e})}let gg=null;function ime(t){return gg=gg||ame(t),gg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sme=new Kf(5e3,15e3),lme="__/auth/iframe",ome="emulator/auth/iframe",cme={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ume=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dme(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VE(e,ome):`https://${t.config.authDomain}/${lme}`,r={apiKey:e.apiKey,appName:t.name,v:_c},a=ume.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Vf(r).slice(1)}`}async function hme(t){const e=await ime(t),n=Gi().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:dme(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cme,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Hi(t,"network-request-failed"),d=Gi().setTimeout(()=>{l(c)},sme.get());function h(){Gi().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mme=500,pme=600,gme="_blank",yme="http://localhost";class OR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xme(t,e,n,r=mme,a=pme){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...fme,width:r.toString(),height:a.toString(),top:l,left:c},f=Er().toLowerCase();n&&(d=GU(f)?gme:n),qU(f)&&(e=e||yme,h.scrollbars="yes");const p=Object.entries(h).reduce((v,[N,_])=>`${v}${N}=${_},`,"");if(efe(f)&&d!=="_self")return vme(e||"",d),new OR(null);const g=window.open(e||"",d,p);Ze(g,t,"popup-blocked");try{g.focus()}catch{}return new OR(g)}function vme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme="__/auth/handler",wme="emulator/auth/handler",Nme=encodeURIComponent("fac");async function DR(t,e,n,r,a,l){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_c,eventId:a};if(e instanceof t8){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",cse(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Yf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const h=await t._getAppCheckToken(),f=h?`#${Nme}=${encodeURIComponent(h)}`:"";return`${_me(t)}?${Vf(d).slice(1)}${f}`}function _me({config:t}){return t.emulator?VE(t,wme):`https://${t.authDomain}/${bme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="webStorageSupport";class jme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s8,this._completeRedirectFn=Yfe,this._overrideRedirectResult=Hfe}async _openPopup(e,n,r,a){var c;Ys((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await DR(e,n,r,LN(),a);return xme(e,l,HE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await DR(e,n,r,LN(),a);return Afe(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ys(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hme(e),r=new Xfe(e);return n.register("authEvent",a=>(Ze(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(i1,{type:i1},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[i1];l!==void 0&&n(!!l),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tme(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QU()||HU()||$E()}}const Eme=jme;var RR="@firebase/auth",PR="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ame(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tme(t){oi(new Ma("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ze(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JU(t)},f=new sfe(r,a,l,h);return hfe(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oi(new Ma("auth-internal",e=>{const n=BE(e.getProvider("auth").getImmediate());return(r=>new Sme(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(RR,PR,Ame(t)),Kr(RR,PR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cme=300,Ime=E3("authIdTokenMaxAge")||Cme;let kR=null;const Ome=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ime)return;const a=n==null?void 0:n.token;kR!==a&&(kR=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Dme(t=O0()){const e=lo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dfe(t,{popupRedirectResolver:Eme,persistence:[Mfe,jfe,s8]}),r=E3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=Ome(l.toString());wfe(n,c,()=>c(n.currentUser)),bfe(n,d=>c(d))}}const a=N3("auth");return a&&ffe(n,`http://${a}`),n}function Rme(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}lfe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Hi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",Rme().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tme("Browser");const Pme={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},tx=R3(Pme);$oe(tx);const me=Kde(tx);Dhe(tx);Dme(tx);const kme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",ui=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const l=r.result.split(",")[1];if(!l){n(new Error("   ."));return}const c={base64:l,type:t.type,name:t.name},d=await fetch(kme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=await d.json();h.status==="success"&&h.url?e(h.url):n(new Error(h.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Se=async(t,e,n="")=>{try{await Pt(Ie(me,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},Mme=async()=>{try{const t=un(Ie(me,"activity_logs"),nhe(100));let n=(await Xe(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},Lme=async t=>{await Wt(ze(me,"activity_logs",t))},Ume=async(t,e)=>{try{const n=un(Ie(me,"staff"),cn("username","==",t),cn("password","==",e)),r=await Xe(n);if(!r.empty){const v=r.docs[0].data();let N=we.STAFF;return t.toLowerCase()==="admin"&&(N=we.ADMIN),await Se(" ",v.name,`  ${N}`),{id:r.docs[0].id,name:v.name,role:N,details:v.rank}}const a=un(Ie(me,"employees"),cn("username","==",t),cn("password","==",e)),l=await Xe(a);if(!l.empty){const v=l.docs[0].data();return await Se(" ",v.name,`: ${v.jobTitle}`),{id:l.docs[0].id,name:v.name,role:we.EMPLOYEE,details:v.jobTitle}}const c=un(Ie(me,"pg_students"),cn("username","==",t),cn("password","==",e)),d=await Xe(c);if(!d.empty){const v=d.docs[0].data();return await Se(" ",v.name,"  "),{id:d.docs[0].id,name:v.name,role:we.STUDENT_PG,details:" "}}const h=un(Ie(me,"ug_students"),cn("username","==",t),cn("password","==",e)),f=await Xe(h);if(!f.empty){const v=f.docs[0].data();return await Se(" ",v.name," "),{id:f.docs[0].id,name:v.name,role:we.STUDENT_UG,details:" "}}const p=un(Ie(me,"alumni"),cn("username","==",t),cn("password","==",e)),g=await Xe(p);if(!g.empty){const v=g.docs[0].data();return await Se(" ",v.name,""),{id:g.docs[0].id,name:v.name,role:we.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},fo=async t=>{try{const e=Ie(me,"archive");let n;return t?n=un(e,cn("type","==",t)):n=un(e),(await Xe(n)).docs.map(l=>({id:l.id,...l.data()})).sort((l,c)=>c.createdAt-l.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},nx=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await Pt(Ie(me,"archive"),e);return{...e,id:n.id}},ff=async(t,e)=>{await Tt(ze(me,"archive",t),e)},Xf=async t=>{await Wt(ze(me,"archive",t))},KE=async t=>{const e=await fo(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},Vme=async()=>{const t=await Xe(Ie(me,"archive")),e=await Xe(Ie(me,"staff")),n=await Xe(Ie(me,"pg_students")),r=await Xe(Ie(me,"alumni")),a=await Xe(Ie(me,"employees")),l=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:l.filter(d=>d.type===rt.INCOMING).length,totalOutgoing:l.filter(d=>d.type===rt.OUTGOING).length,totalCouncils:l.filter(d=>d.type===rt.DEPARTMENT_COUNCIL).length,totalCommittees:l.filter(d=>d.type===rt.COMMITTEE_MEETING).length,todayCount:l.filter(d=>d.date===c).length,unansweredCount:l.filter(d=>d.type===rt.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},Qf=async()=>(await Xe(Ie(me,"staff"))).docs.map(e=>({id:e.id,...e.data()})),f8=async t=>{await Pt(Ie(me,"staff"),t)},zN=async(t,e)=>{await Tt(ze(me,"staff",t),e)},m8=async t=>{await Wt(ze(me,"staff",t))},p8=async()=>(await Xe(Ie(me,"employees"))).docs.map(e=>({id:e.id,...e.data()})),zme=async t=>{await Pt(Ie(me,"employees"),t)},Fme=async(t,e)=>{await Tt(ze(me,"employees",t),e)},$me=async t=>{await Wt(ze(me,"employees",t))},Bme=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},g8=async()=>(await Xe(Ie(me,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:Bme(n.dates)}}),qme=async t=>{await Pt(Ie(me,"pg_students"),t)},FN=async(t,e)=>{await Tt(ze(me,"pg_students",t),e)},Hme=async t=>{await Wt(ze(me,"pg_students",t))},Gme=async()=>(await Xe(Ie(me,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),Kme=async t=>{await Pt(Ie(me,"ug_students"),t)},Yme=async(t,e)=>{await Tt(ze(me,"ug_students",t),e)},Wme=async t=>{await Wt(ze(me,"ug_students",t))},Xme=async()=>(await Xe(Ie(me,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),y8=async t=>{await Pt(Ie(me,"alumni"),t)},Qme=async(t,e)=>{await Tt(ze(me,"alumni",t),e)},Jme=async t=>{await Wt(ze(me,"alumni",t))},Zme=async()=>(await Xe(Ie(me,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),epe=async t=>{await Pt(Ie(me,"jobs"),{...t,status:t.status||"OPEN"})},tpe=async(t,e)=>{await Tt(ze(me,"jobs",t),e)},npe=async t=>{await Wt(ze(me,"jobs",t))},rpe=async()=>(await Xe(Ie(me,"assets"))).docs.map(e=>({id:e.id,...e.data()})),ape=async t=>{await Pt(Ie(me,"assets"),{...t,createdAt:Date.now()})},ipe=async(t,e)=>{await Tt(ze(me,"assets",t),e)},spe=async t=>{await Wt(ze(me,"assets",t))},lpe=async()=>(await Xe(Ie(me,"labs"))).docs.map(e=>({id:e.id,...e.data()})),ope=async t=>{await Pt(Ie(me,"labs"),t)},cpe=async(t,e)=>{await Tt(ze(me,"labs",t),e)},upe=async t=>{await Wt(ze(me,"labs",t))},dpe=async()=>(await Xe(Ie(me,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),hpe=async t=>{await Pt(Ie(me,"lab_classes"),t)},fpe=async(t,e)=>{await Tt(ze(me,"lab_classes",t),e)},mpe=async t=>{await Wt(ze(me,"lab_classes",t))},ppe=async()=>(await Xe(Ie(me,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),gpe=async t=>{await Pt(Ie(me,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},ype=async(t,e)=>{await Tt(ze(me,"lab_bookings",t),e)},xpe=async t=>{await Wt(ze(me,"lab_bookings",t))},vpe=async()=>{const e=(await Xe(Ie(me,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=LE(me),r=[];for(let a=1;a<=12;a++){const l=ze(Ie(me,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(l,c),r.push({id:l.id,...c})}return await n.commit(),r}return e},MR=async(t,e)=>{await Tt(ze(me,"greenhouse_plots",t),e)},bpe=async()=>(await Xe(Ie(me,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),wpe=async t=>{await Pt(Ie(me,"greenhouse_history"),t)},Npe=async t=>{await Wt(ze(me,"greenhouse_history",t))},_pe=async()=>(await Xe(Ie(me,"materials"))).docs.map(e=>({id:e.id,...e.data()})),jpe=async t=>{await Pt(Ie(me,"materials"),t)},Epe=async t=>{await Wt(ze(me,"materials",t))},Spe=async()=>(await Xe(Ie(me,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),Ape=async t=>{await Pt(Ie(me,"announcements"),t)},Tpe=async t=>{await Wt(ze(me,"announcements",t))},Cpe=async()=>(await Xe(Ie(me,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),Ipe=async t=>{await Pt(Ie(me,"schedules"),t)},Ope=async t=>{await Wt(ze(me,"schedules",t))},Dpe=async()=>(await Xe(Ie(me,"events"))).docs.map(e=>({id:e.id,...e.data()})),Rpe=async t=>{await Pt(Ie(me,"events"),{...t,createdAt:Date.now()})},Ppe=async(t,e)=>{await Tt(ze(me,"events",t),e)},kpe=async t=>{await Wt(ze(me,"events",t))},Mpe=async()=>(await Xe(Ie(me,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),Lpe=async t=>{await Pt(Ie(me,"dept_councils"),t)},Upe=async(t,e)=>{await Tt(ze(me,"dept_councils",t),e)},Vpe=async t=>{await Wt(ze(me,"dept_councils",t))},zpe=async()=>(await Xe(Ie(me,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),Fpe=async t=>{await Pt(Ie(me,"dept_committees"),t)},$pe=async(t,e)=>{await Tt(ze(me,"dept_committees",t),e)},Bpe=async t=>{await Wt(ze(me,"dept_committees",t))},qpe=async(t,e)=>{const n=un(Ie(me,"annual_reports"),cn("userId","==",t),cn("academicYear","==",e)),r=await Xe(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},Hpe=async(t,e)=>{e?await Tt(ze(me,"annual_reports",e),{...t}):await Pt(Ie(me,"annual_reports"),t)},Gpe=async t=>{const e=un(Ie(me,"annual_reports"),cn("academicYear","==",t));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},YE=async()=>{const t=un(Ie(me,"research_plans"),cn("status","==","ACTIVE")),e=await Xe(t);return e.empty?(await Nge(),YE()):{id:e.docs[0].id,...e.docs[0].data()}},Kpe=async()=>{const t=un(Ie(me,"research_plans"),ho("startDate","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},Ype=async t=>{if(t.status==="ACTIVE"){const e=await YE();e&&await Xpe(e.id)}await Pt(Ie(me,"research_plans"),t)},$o=async(t,e)=>{await Tt(ze(me,"research_plans",t),e)},Wpe=async t=>{await Wt(ze(me,"research_plans",t))},Xpe=async t=>{await Tt(ze(me,"research_plans",t),{status:"ARCHIVED"})},Qpe=async()=>{const t=un(Ie(me,"research_proposals"),ho("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},Jpe=async t=>{const e=JSON.parse(JSON.stringify(t));await Pt(Ie(me,"research_proposals"),{...e,createdAt:Date.now()})},Zpe=async(t,e,n)=>{await Tt(ze(me,"research_proposals",t),{status:e,adminNotes:n})},ege=async t=>{await Pt(Ie(me,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},tge=async t=>{const e=un(Ie(me,"leave_requests"),cn("userId","==",t),ho("createdAt","desc"));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},nge=async t=>{const e=un(Ie(me,"leave_requests"),cn("substituteId","==",t),cn("status","==","PENDING_SUBSTITUTE"));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},rge=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await Tt(ze(me,"leave_requests",t),r)},age=async()=>{const t=un(Ie(me,"leave_requests"),ho("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},s1=async t=>{await Pt(Ie(me,"career_requests"),{...t,createdAt:Date.now(),status:"PENDING_DEPT"})},ige=async t=>{const e=un(Ie(me,"career_requests"));return(await Xe(e)).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.userId===t).sort((a,l)=>l.createdAt-a.createdAt)},sge=async()=>{const t=un(Ie(me,"career_requests"),ho("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},lge=async(t,e)=>{await Tt(ze(me,"career_requests",t),{status:e})},oge=async t=>{const e=un(Ie(me,"career_requests"),cn("userId","==",t),cn("type","==","LOAN"),cn("status","==","APPROVED")),n=await Xe(e);let r=0;return n.forEach(a=>{const l=a.data(),c=new Date(l.startDate).getFullYear(),d=new Date(l.endDate).getFullYear();r+=d-c+1}),r},cge=async()=>{const t=un(Ie(me,"repository_items"),ho("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},uge=async t=>{await Pt(Ie(me,"repository_items"),{...t,createdAt:Date.now()})},dge=async t=>{await Pt(Ie(me,"repository_requests"),{...t,status:"PENDING",createdAt:Date.now()})},hge=async t=>{const e=un(Ie(me,"repository_requests"),cn("itemAuthorId","==",t),cn("status","==","PENDING"));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},fge=async(t,e)=>{await Tt(ze(me,"repository_requests",t),{status:e,responseDate:new Date().toISOString()})},mge=async()=>{const e=(await Xe(Ie(me,"repository_items"))).docs.map(n=>n.data());return{totalItems:e.length,theses:e.filter(n=>n.type.includes("THESIS")).length,papers:e.filter(n=>n.type.includes("PAPER")).length,books:e.filter(n=>n.type==="BOOK").length}},pge=async()=>{const t=un(Ie(me,"dept_forms"),ho("updatedAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},gge=async t=>{await Pt(Ie(me,"dept_forms"),t)},yge=async t=>{await Wt(ze(me,"dept_forms",t))},LR=async()=>{const t=un(Ie(me,"courses"),ho("code","asc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},xge=async t=>{await Pt(Ie(me,"courses"),{...t,createdAt:Date.now()})},vge=async(t,e)=>{await Tt(ze(me,"courses",t),e)},bge=async t=>{await Wt(ze(me,"courses",t))},wge=async()=>{if(!(await Xe(Ie(me,"courses"))).empty)return;console.log("Seeding Courses...");const e=LE(me);[{code:"BOT101",nameAr:"  ( )",nameEn:"General Botany",level:"Level 1",semester:"First",division:"General",creditHours:3,lectureHours:2,labHours:1,coordinator:"./  ",type:"Compulsory"},{code:"PP301",nameAr:"  ",nameEn:"Fungal Plant Pathology",level:"Level 3",semester:"First",division:"Plant Pathology",creditHours:3,lectureHours:2,labHours:1,prerequisiteName:"BOT101",coordinator:".  ",type:"Compulsory",description:"     ."},{code:"PP605",nameAr:" ",nameEn:"Physiology of Parasitism",level:"MSc",creditHours:3,coordinator:"./  ",type:"Compulsory",description:"      ."}].forEach(r=>{const a=ze(Ie(me,"courses"));e.set(a,{...r,createdAt:Date.now()})}),await e.commit()},Nge=async()=>{if(!(await Xe(Ie(me,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await Pt(Ie(me,"research_plans"),e)},_ge=async()=>{if(!(await Xe(Ie(me,"staff"))).empty)return;console.log("Seeding initial data...");const e=LE(me),n=ze(Ie(me,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},jge=()=>{const[t,e]=w.useState(null),[n,r]=w.useState([]),[a,l]=w.useState(!0),c=async()=>{l(!0);const h=await Vme(),f=await fo();e(h),r(f.slice(0,5)),l(!1)};if(w.useEffect(()=>{c()},[]),a||!t)return s.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:s.jsx(m1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),s.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(m1,{className:"w-4 h-4"})," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ia,{title:" ",value:t.totalIncoming,icon:cP,color:"blue"}),s.jsx(Ia,{title:" ",value:t.totalOutgoing,icon:uP,color:"green"}),s.jsx(Ia,{title:" ",value:t.totalCouncils,icon:ai,color:"purple"}),s.jsx(Ia,{title:" ",value:t.totalCommittees,icon:oP,color:"amber"})]}),s.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ia,{title:"  ",value:t.totalStaff,icon:ai,color:"green"}),s.jsx(Ia,{title:" ",value:t.totalEmployees,icon:sP,color:"amber"}),s.jsx(Ia,{title:"  ",value:t.totalStudentsPG,icon:Ds,color:"blue"}),s.jsx(Ia,{title:" ",value:t.totalAlumni,icon:Ms,color:"purple"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b text-gray-500",children:[s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[n.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs ${h.type===rt.INCOMING?"bg-blue-100 text-blue-700":h.type===rt.OUTGOING?"bg-green-100 text-green-700":h.type===rt.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:h.type===rt.INCOMING?"":h.type===rt.OUTGOING?"":h.type===rt.DEPARTMENT_COUNCIL?"":""}),h.type===rt.INCOMING&&h.actionRequired&&(h.isFollowedUp?s.jsx(qr,{className:"w-4 h-4 text-green-500",title:" "}):s.jsx(Ki,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),s.jsx("td",{className:"py-3 font-medium text-gray-700",children:h.serialNumber}),s.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:h.subject}),s.jsx("td",{className:"py-3 text-gray-500",children:h.date})]},h.id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),s.jsx($k,{width:"100%",height:250,children:s.jsxs(Oie,{data:d,children:[s.jsx(t3,{strokeDasharray:"3 3",vertical:!1}),s.jsx(r3,{dataKey:"name",tick:{fontFamily:"Cairo"}}),s.jsx(a3,{allowDecimals:!1}),s.jsx(x6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),s.jsx(Y6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},Ege=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[N,_]=w.useState(null);w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const T=await fo(rt.OUTGOING);c(T),n(!1)},E=async()=>{const T=await KE(rt.OUTGOING);v({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),_(null),p(null),h(!0)},I=T=>{v({serialNumber:T.serialNumber,date:T.date,recipient:T.recipient||"",subject:T.subject,notes:T.notes||""}),p(T.id),_(null),h(!0)},R=async T=>{if(window.confirm("      "))try{await Xf(T.id),await Se(" ",t.name,`   : ${T.serialNumber}`),j()}catch(C){console.error(C),alert(" ")}},M=async T=>{T.preventDefault(),a(!0);try{let C="";if(N)try{C=await ui(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(f){const L={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};C&&(L.fileUrl=C),await ff(f,L),await Se(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await nx({type:rt.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:C||""}),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ");h(!1),j()}catch(C){console.error(C),alert(" : "+C.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&s.jsxs("button",{onClick:E,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-green-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:T=>v({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>v({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:T=>v({...g,recipient:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:T=>v({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:2,value:g.notes,onChange:T=>v({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>_(T.target.files?T.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ye,{className:"w-8 h-8 text-green-600 animate-spin"}):s.jsx(ar,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),s.jsx("td",{className:"p-4",children:T.date}),s.jsx("td",{className:"p-4",children:T.recipient}),s.jsx("td",{className:"p-4 max-w-xs truncate",title:T.subject,children:T.subject}),s.jsx("td",{className:"p-4",children:T.fileUrl?s.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),s.jsxs("td",{className:"p-4 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>I(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},T.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Sge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[N,_]=w.useState(null),j=["./  ",".  ",".  "," "," "];w.useEffect(()=>{E()},[]);const E=async()=>{n(!0);const L=await fo(rt.INCOMING);c(L),n(!1)},I=async()=>{const L=await KE(rt.INCOMING);v({...g,serialNumber:L,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),_(null),p(null),h(!0)},R=L=>{v({serialNumber:L.serialNumber,date:L.date,sender:L.sender||"",senderRefNumber:L.senderRefNumber||"",subject:L.subject,actionRequired:L.actionRequired||"",assignedTo:L.assignedTo||"",notes:L.notes||""}),p(L.id),_(null),h(!0)},M=async L=>{if(window.confirm("       "))try{await Xf(L.id),await Se(" ",t.name,`    : ${L.serialNumber}`),E()}catch(P){console.error(P),alert(" ")}},T=async L=>{L.preventDefault(),a(!0);try{let P="";if(N)try{P=await ui(N)}catch(V){throw console.error("Upload failed:",V),new Error("  .    Google Drive Script.")}if(f){const V={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};P&&(V.fileUrl=P),await ff(f,V),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await nx({type:rt.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:P||"",isFollowedUp:!1}),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ");h(!1),E()}catch(P){console.error(P),alert("   : "+P.message)}finally{a(!1)}},C=async L=>{if(!L.actionRequired)return;const P=!L.isFollowedUp;c(V=>V.map($=>$.id===L.id?{...$,isFollowedUp:P}:$));try{await ff(L.id,{isFollowedUp:P}),await Se(" ",t.name,`     ${L.serialNumber}  ${P?"":" "}`)}catch{c($=>$.map(A=>A.id===L.id?{...A,isFollowedUp:!P}:A)),alert("  ")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&s.jsxs("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-blue-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:L=>v({...g,serialNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:L=>v({...g,date:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsx("div",{}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:L=>v({...g,sender:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:L=>v({...g,senderRefNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,value:g.subject,onChange:L=>v({...g,subject:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:L=>v({...g,actionRequired:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),s.jsxs("select",{value:g.assignedTo,onChange:L=>v({...g,assignedTo:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[s.jsx("option",{value:"",children:"--     --"}),j.map((L,P)=>s.jsx("option",{value:L,children:L},P))]})]})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:L=>_(L.target.files?L.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ye,{className:"w-8 h-8 text-blue-600 animate-spin"}):s.jsx(ar,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(L=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4",children:L.actionRequired?s.jsx("button",{onClick:()=>C(L),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${L.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:L.isFollowedUp?"  ":"  ",children:L.isFollowedUp?s.jsxs(s.Fragment,{children:[s.jsx(qr,{className:"w-3 h-3"}),s.jsx("span",{children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ki,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})}):s.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),s.jsx("td",{className:"p-4 font-bold text-gray-700",children:L.serialNumber}),s.jsx("td",{className:"p-4",children:L.date}),s.jsx("td",{className:"p-4",children:L.sender}),s.jsx("td",{className:"p-4 max-w-xs truncate",title:L.subject,children:L.subject}),s.jsx("td",{className:"p-4",children:L.assignedTo?s.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:L.assignedTo}):"-"}),s.jsx("td",{className:"p-4",children:L.fileUrl?s.jsxs("a",{href:L.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>R(L),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(L),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},L.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Age=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[N,_]=w.useState(null);w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const T=await fo(rt.DEPARTMENT_COUNCIL);c(T),n(!1)},E=async()=>{const T=await KE(rt.DEPARTMENT_COUNCIL);v({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),_(null),p(null),h(!0)},I=T=>{v({serialNumber:T.serialNumber,date:T.date,subject:T.subject,notes:T.notes||""}),p(T.id),_(null),h(!0)},R=async T=>{if(window.confirm("      "))try{await Xf(T.id),await Se("  ",t.name,`    : ${T.serialNumber}`),j()}catch(C){console.error(C),alert(" ")}},M=async T=>{T.preventDefault(),a(!0);try{let C="";if(N)try{C=await ui(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(f){const L={date:g.date,subject:g.subject,notes:g.notes};C&&(L.fileUrl=C),await ff(f,L),await Se("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await nx({type:rt.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:C||""}),await Se("  ",t.name,`    : ${g.serialNumber}`),alert("   ");h(!1),j()}catch(C){console.error(C),alert("   : "+C.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&s.jsxs("button",{onClick:E,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-purple-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:T=>v({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>v({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:T=>v({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("textarea",{rows:4,value:g.notes,onChange:T=>v({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>_(T.target.files?T.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ye,{className:"w-8 h-8 text-purple-600 animate-spin"}):s.jsx(ar,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),s.jsx("td",{className:"p-4",children:T.date}),s.jsx("td",{className:"p-4 max-w-lg truncate",title:T.subject,children:T.subject}),s.jsx("td",{className:"p-4",children:T.fileUrl?s.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>I(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},T.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Tge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[N,_]=w.useState(null),j=["   ","  ","  ","  ","  "," "];w.useEffect(()=>{E()},[]);const E=async()=>{n(!0);const C=await fo(rt.COMMITTEE_MEETING);c(C),n(!1)},I=async()=>{v({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),_(null),p(null),h(!0)},R=C=>{v({serialNumber:C.serialNumber,date:C.date,committeeName:C.sender||"",subject:C.subject,notes:C.notes||""}),p(C.id),_(null),h(!0)},M=async C=>{if(window.confirm("      "))try{await Xf(C.id),await Se("  ",t.name,`   : ${C.sender}  ${C.date}`),E()}catch(L){console.error(L),alert(" ")}},T=async C=>{C.preventDefault(),a(!0);try{let L="";if(N)try{L=await ui(N)}catch(P){throw console.error("Upload failed:",P),new Error("  .    Google Drive Script.")}if(f){const P={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};L&&(P.fileUrl=L),await ff(f,P),await Se("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await nx({type:rt.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:L||""}),await Se("  ",t.name,`    : ${g.committeeName}`),alert("   ");h(!1),E()}catch(L){console.error(L),alert("   : "+L.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&s.jsxs("button",{onClick:I,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-amber-800",children:f?" ":" "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{required:!0,value:g.committeeName,onChange:C=>v({...g,committeeName:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[s.jsx("option",{value:"",children:"--   --"}),j.map(C=>s.jsx("option",{value:C,children:C},C)),s.jsx("option",{value:"other",children:"  (   )"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:C=>v({...g,serialNumber:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:C=>v({...g,date:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:C=>v({...g,subject:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:4,value:g.notes,onChange:C=>v({...g,notes:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:C=>_(C.target.files?C.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ye,{className:"w-8 h-8 text-amber-600 animate-spin"}):s.jsx(ar,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ye,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-amber-800",children:C.sender}),s.jsx("td",{className:"p-4 text-gray-700",children:C.serialNumber}),s.jsx("td",{className:"p-4",children:C.date}),s.jsx("td",{className:"p-4 max-w-lg truncate",title:C.subject,children:C.subject}),s.jsx("td",{className:"p-4",children:C.fileUrl?s.jsxs("a",{href:C.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>R(C),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(C),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},C.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Cge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!1),[d,h]=w.useState(""),[f,p]=w.useState("ALL"),[g,v]=w.useState(""),[N,_]=w.useState("");w.useEffect(()=>{j()},[]);const j=async()=>{c(!0);const C=await fo();n(C),a(C),c(!1)},E=()=>{let C=e;if(f!=="ALL"&&(C=C.filter(L=>L.type===f)),d.trim()){const L=d.toLowerCase();C=C.filter(P=>P.subject.toLowerCase().includes(L)||P.serialNumber.toLowerCase().includes(L)||P.notes&&P.notes.toLowerCase().includes(L)||P.recipient&&P.recipient.toLowerCase().includes(L)||P.sender&&P.sender.toLowerCase().includes(L))}g&&(C=C.filter(L=>L.date>=g)),N&&(C=C.filter(L=>L.date<=N)),a(C)},I=()=>{h(""),p("ALL"),v(""),_(""),a(e)},R=async C=>{if(window.confirm("      ")){const L=e.find(P=>P.id===C);await Xf(C),await Se("  ",t.name,`  : ${(L==null?void 0:L.serialNumber)||C} - : ${L==null?void 0:L.type}`),j()}},M=C=>{switch(C){case rt.INCOMING:return"";case rt.OUTGOING:return"";case rt.DEPARTMENT_COUNCIL:return" ";case rt.COMMITTEE_MEETING:return" ";default:return C}},T=C=>{switch(C){case rt.INCOMING:return"bg-blue-100 text-blue-700";case rt.OUTGOING:return"bg-green-100 text-green-700";case rt.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case rt.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Yi,{className:"w-5 h-5 text-green-600"})," "]}),s.jsxs("button",{onClick:I,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[s.jsx(vt,{className:"w-4 h-4"}),"  "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:C=>h(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[s.jsx("option",{value:"ALL",children:""}),s.jsx("option",{value:rt.INCOMING,children:""}),s.jsx("option",{value:rt.OUTGOING,children:""}),s.jsx("option",{value:rt.DEPARTMENT_COUNCIL,children:" "}),s.jsx("option",{value:rt.COMMITTEE_MEETING,children:" "})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",value:g,onChange:C=>v(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",value:N,onChange:C=>_(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:s.jsxs("button",{onClick:E,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[s.jsx(Rz,{className:"w-4 h-4"})," "]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:" / "}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:l?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${T(C.type)}`,children:M(C.type)})}),s.jsx("td",{className:"p-3 font-semibold",children:C.serialNumber}),s.jsx("td",{className:"p-3",children:C.date}),s.jsx("td",{className:"p-3 max-w-xs truncate",title:C.subject,children:C.subject}),s.jsxs("td",{className:"p-3",children:[C.type===rt.OUTGOING&&C.recipient,C.type===rt.INCOMING&&C.sender,C.type===rt.DEPARTMENT_COUNCIL&&" ",C.type===rt.COMMITTEE_MEETING&&C.sender]}),s.jsxs("td",{className:"p-3 flex items-center gap-2",children:[C.fileUrl&&s.jsx("a",{href:C.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:s.jsx(Vn,{className:"w-4 h-4"})}),t.role==="ADMIN"&&s.jsx("button",{onClick:()=>R(C.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:s.jsx(vt,{className:"w-4 h-4"})})]})]},C.id))})]})})]})]})},Ige=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[l,c]=w.useState(""),[d,h]=w.useState(!1),[f,p]=w.useState("FACULTY"),[g,v]=w.useState(!1),[N,_]=w.useState(!1),[j,E]=w.useState(null),[I,R]=w.useState({}),[M,T]=w.useState({}),[C,L]=w.useState(!1),[P,V]=w.useState(!1),$=t.role===we.ADMIN;w.useEffect(()=>{A()},[]);const A=async()=>{a(!0);const z=await Qf();n(z),a(!1)},D=z=>!!($||t.role===we.STAFF&&t.id===z),F=z=>{z?(E(z),R(z)):(E(null),R({name:"",rank:"",specialization:"",email:"",phone:"",subRole:"FACULTY"})),v(!0)},U=async(z,W)=>{if(window.confirm("      "))try{await m8(z),await Se("   ",t.name,`  : ${W}`),A()}catch{alert(" ")}},ue=async z=>{z.preventDefault(),h(!0);try{j?(await zN(j.id,I),await Se("  ",t.name,`  : ${I.name}`),alert("  ")):(await f8(I),await Se("   ",t.name,`  : ${I.name}`),alert("  ")),v(!1),A()}catch{alert("   ")}finally{h(!1)}},ne=z=>{var W,ge,Z,ve,Ce,De,ae,le,ke,J;E(z),T({...z.documents,promotionDecisions:((W=z.documents)==null?void 0:W.promotionDecisions)||[],adminPositions:((ge=z.documents)==null?void 0:ge.adminPositions)||[],extensionDecisions:((Z=z.documents)==null?void 0:Z.extensionDecisions)||[],progressReports:((ve=z.documents)==null?void 0:ve.progressReports)||[],efficiencyReports:((Ce=z.documents)==null?void 0:Ce.efficiencyReports)||[],coursePortfolios:((De=z.documents)==null?void 0:De.coursePortfolios)||[],publications:((ae=z.documents)==null?void 0:ae.publications)||[],conferenceCerts:((le=z.documents)==null?void 0:le.conferenceCerts)||[],arbitrationCerts:((ke=z.documents)==null?void 0:ke.arbitrationCerts)||[],communityServiceDocs:((J=z.documents)==null?void 0:J.communityServiceDocs)||[]}),V(!1),_(!0)},G=z=>{const W=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;T(ge=>({...ge,[z]:W})),alert("   ()")},Y=(z,W)=>{if(!W)return;const ge=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,Z={id:Math.random().toString(36).substr(2,9),title:W,url:ge,date:new Date().toISOString().split("T")[0]};T(ve=>({...ve,[z]:[...ve[z]||[],Z]}))},H=(z,W)=>{T(ge=>({...ge,[z]:(ge[z]||[]).filter(Z=>Z.id!==W)}))},pe=async()=>{if(j){L(!0);try{await zN(j.id,{documents:M}),await Se("  ",t.name,`   : ${j.name}`),n(z=>z.map(W=>W.id===j.id?{...W,documents:M}:W)),alert("    "),V(!1)}catch{alert("   ")}finally{L(!1)}}},X=e.filter(z=>(z.subRole||"FACULTY")===f&&(z.name.toLowerCase().includes(l.toLowerCase())||z.specialization.toLowerCase().includes(l.toLowerCase())));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-8 h-8 text-green-600"})," "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),$&&s.jsxs("button",{onClick:()=>F(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow-sm",children:[s.jsx(Rt,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>p("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${f==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ms,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>p("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${f==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ds,{className:"w-4 h-4"}),"  "]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-6 top-6"}),s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-3 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:l,onChange:z=>c(z.target.value)})]}),r?s.jsx("div",{className:"text-center py-12",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[X.map(z=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group",children:s.jsxs("div",{className:"p-6 flex flex-col items-center text-center relative",children:[s.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[D(z.id)&&s.jsx("button",{onClick:()=>F(z),className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",title:"  ",children:s.jsx(gn,{className:"w-4 h-4"})}),$&&s.jsx("button",{onClick:()=>U(z.id,z.name),className:"p-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 border-4 border-white shadow-sm",children:z.imageUrl?s.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-full h-full rounded-full object-cover"}):s.jsx(lP,{className:"w-16 h-16 text-gray-400"})}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:z.name}),s.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-bold mb-2",children:z.rank}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4 flex items-center gap-1",children:[s.jsx(Vi,{className:"w-4 h-4"})," ",z.specialization]}),s.jsxs("div",{className:"w-full border-t pt-4 flex flex-col gap-2 text-sm text-gray-600",children:[z.email&&s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(h1,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:z.email})]}),z.phone&&s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(eg,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{dir:"ltr",children:z.phone})]}),s.jsxs("button",{onClick:()=>ne(z),className:"mt-2 w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[s.jsx(FileText,{className:"w-4 h-4"}),"   "]})]})]})},z.id)),X.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-gray-400",children:"    ."})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"  ":"  "}),s.jsx("button",{onClick:()=>v(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:I.name||"",onChange:z=>R({...I,name:z.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:I.rank||"",onChange:z=>R({...I,rank:z.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:I.specialization||"",onChange:z=>R({...I,specialization:z.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"email",className:"w-full border p-2 rounded-lg",value:I.email||"",onChange:z=>R({...I,email:z.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"tel",className:"w-full border p-2 rounded-lg",value:I.phone||"",onChange:z=>R({...I,phone:z.target.value})})]}),$&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg bg-white",value:I.subRole||"FACULTY",onChange:z=>R({...I,subRole:z.target.value}),children:[s.jsx("option",{value:"FACULTY",children:"  "}),s.jsx("option",{value:"ASSISTANT",children:" "})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-8 py-2 rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[d&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})]})}),N&&j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:j.name}),s.jsx("p",{className:"text-green-100 text-sm",children:"  "})]}),s.jsxs("div",{className:"flex gap-2",children:[D(j.id)&&(P?s.jsxs("button",{onClick:pe,disabled:C,className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm font-bold",children:[C?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),"  "]}):s.jsxs("button",{onClick:()=>V(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[s.jsx(gn,{className:"w-4 h-4"}),"  "]})),s.jsx("button",{onClick:()=>_(!1),className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:s.jsx(vt,{className:"w-6 h-6"})})]})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[P&&s.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[s.jsx(ar,{className:"w-4 h-4"}),s.jsx("span",{children:"      .         ."})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Ms,{className:"w-5 h-5 text-gray-500"}),"   "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(gu,{title:"1.   ",url:M.appointmentDecision,isEditing:P,onUpload:()=>G("appointmentDecision")}),s.jsx(gu,{title:"2.   ",url:M.joiningReport,isEditing:P,onUpload:()=>G("joiningReport")}),s.jsx(UR,{title:"3.  ",description:"   .",items:M.promotionDecisions,isEditing:P,onAdd:z=>Y("promotionDecisions",z),onRemove:z=>H("promotionDecisions",z)})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gu,{title:" ",url:M.bachelorCert,isEditing:P,onUpload:()=>G("bachelorCert")}),s.jsx(gu,{title:" ",url:M.masterCert,isEditing:P,onUpload:()=>G("masterCert")}),s.jsx(gu,{title:" ",url:M.phdCert,isEditing:P,onUpload:()=>G("phdCert")})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Zp,{className:"w-5 h-5 text-blue-600"}),"  "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(UR,{title:"  ",description:"  .",items:M.conferenceCerts,isEditing:P,onAdd:z=>Y("conferenceCerts",z),onRemove:z=>H("conferenceCerts",z)}),s.jsx(gu,{title:"  ",url:M.publicationsListFile,isEditing:P,onUpload:()=>G("publicationsListFile")})]})]})]})]})})]})},gu=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>s.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-green-50 border-green-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"text-xs bg-white border border-green-200 text-green-700 px-2 py-1 rounded hover:bg-green-50 transition-colors",children:""}),r&&s.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[s.jsx(ar,{className:"w-3 h-3"})," ",n?s.jsx("span",{children:""}):s.jsx("span",{children:""})]}),!n&&!r&&s.jsx("span",{className:"text-xs text-red-400 font-medium",children:""})]})]}),e&&s.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),UR=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:l})=>{const[c,d]=w.useState("");return s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white shadow-sm",children:[s.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?s.jsx("ul",{className:"space-y-2 mb-3",children:n.map(h=>s.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm border border-gray-100",children:[s.jsx("span",{className:"truncate flex-1 ml-2 font-medium text-gray-700",children:h.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("a",{href:h.url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline font-bold",children:""}),r&&s.jsx("button",{onClick:()=>l(h.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-3 h-3"})})]})]},h.id))}):!r&&s.jsx("p",{className:"text-xs text-gray-400 italic mb-3 bg-gray-50 p-2 rounded text-center",children:"   ."}),r&&s.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-3 border-dashed",children:[s.jsx("input",{type:"text",placeholder:"  ...",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500 bg-gray-50 focus:bg-white",value:c,onChange:h=>d(h.target.value)}),s.jsxs("button",{onClick:()=>{c&&(a(c),d(""))},className:"bg-blue-600 text-white text-xs px-3 py-2 rounded hover:bg-blue-700 flex items-center gap-1 shadow-sm disabled:opacity-50",disabled:!c,children:[s.jsx(Rt,{className:"w-3 h-3"})," "]})]})]})},VR=({user:t})=>{const[e,n]=w.useState(t.role===we.STUDENT_PG?"PG":"UG"),[r,a]=w.useState("MATERIALS"),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,p]=w.useState([]),[g,v]=w.useState([]),[N,_]=w.useState([]),[j,E]=w.useState(!0),[I,R]=w.useState(!1),[M,T]=w.useState(!1),[C,L]=w.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[P,V]=w.useState(!1),[$,A]=w.useState(null),[D,F]=w.useState(!1),[U,ue]=w.useState(!1),[ne,G]=w.useState(null),[Y,H]=w.useState({content:"",isImportant:!1}),[pe,X]=w.useState(!1),[z,W]=w.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[ge,Z]=w.useState(!1),[ve,Ce]=w.useState(null),De=t.role===we.ADMIN||t.role===we.STAFF;w.useEffect(()=>{ae()},[]),w.useEffect(()=>{const Ee=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];v(l.filter(xe=>Ee.includes(xe.year))),_(f.filter(xe=>Ee.includes(xe.year)));const yt=e==="UG"?"Third":"Pre-Master";L(xe=>({...xe,year:yt})),W(xe=>({...xe,year:yt}))},[e,l,f]);const ae=async()=>{E(!0);const[Ee,yt,xe]=await Promise.all([_pe(),Spe(),Cpe()]);c(Ee),h(yt),p(xe),E(!1)},le=async Ee=>{Ee.preventDefault(),R(!0);try{await jpe({title:C.title,year:C.year,fileUrl:C.fileUrl||"#",description:C.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Se("  ",t.name,`: ${C.title} - : ${C.year}`),await ae(),T(!1),L({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(yt){console.error(yt),alert("   ")}finally{R(!1)}},ke=async()=>{if($){R(!0);try{const Ee=l.find(yt=>yt.id===$);await Epe($),Se("  ",t.name,`  : ${Ee==null?void 0:Ee.title}`),await ae(),V(!1),A(null)}catch(Ee){console.error(Ee),alert("  ")}finally{R(!1)}}},J=async Ee=>{Ee.preventDefault(),R(!0);try{await Ape({content:Y.content,isImportant:Y.isImportant,date:new Date().toISOString().split("T")[0]}),Se(" ",t.name,Y.content.substring(0,50)+"..."),await ae(),F(!1),H({content:"",isImportant:!1})}catch(yt){console.error(yt),alert("    ")}finally{R(!1)}},he=async()=>{if(ne){R(!0);try{await Tpe(ne),Se(" ",t.name,"    "),await ae(),ue(!1),G(null)}catch(Ee){console.error(Ee),alert("   ")}finally{R(!1)}}},Ve=async Ee=>{Ee.preventDefault(),R(!0);try{await Ipe({title:z.title,type:z.type,year:z.year,fileUrl:z.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Se(" ",t.name,`: ${z.title}`),await ae(),X(!1),W({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(yt){console.error(yt),alert("    ")}finally{R(!1)}},Ge=async()=>{if(ve){R(!0);try{const Ee=f.find(yt=>yt.id===ve);await Ope(ve),Se(" ",t.name,`  : ${Ee==null?void 0:Ee.title}`),await ae(),Z(!1),Ce(null)}catch(Ee){console.error(Ee),alert("   ")}finally{R(!1)}}},St=Ee=>{const yt=`https://picsum.photos/seed/${Math.random()}/800/600`;Ee(xe=>({...xe,fileUrl:yt}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),s.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Vi,{className:"w-4 h-4"}),"  ( 3  4)"]}),s.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ds,{className:"w-4 h-4"}),"  ()"]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(gf,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[s.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),De&&s.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[s.jsx(Dh,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(Ee=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:s.jsx(Vn,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:Ee.title}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Ee.year==="Third"&&" ",Ee.year==="Fourth"&&" ",Ee.year==="Pre-Master"&&" ",Ee.year==="Pre-PhD"&&" "," | ",": ",Ee.uploadedBy]}),Ee.description&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ee.description}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:Ee.date})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("a",{href:Ee.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[s.jsx(Kl,{className:"w-4 h-4"})," "]}),De&&s.jsx("button",{onClick:()=>{A(Ee.id),V(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},Ee.id)):s.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:s.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),De&&s.jsxs("button",{onClick:()=>X(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[s.jsx(Dh,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.length>0?N.map(Ee=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[s.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[s.jsx("img",{src:Ee.fileUrl,alt:Ee.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${Ee.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:Ee.type==="EXAM"?" ":" "})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:Ee.title}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[Ee.year==="Third"&&" ",Ee.year==="Fourth"&&" ",Ee.year==="Pre-Master"&&" ",Ee.year==="Pre-PhD"&&" "," | ",Ee.date]}),s.jsxs("a",{href:Ee.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[s.jsx(Kl,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),De&&s.jsx("button",{onClick:()=>{Ce(Ee.id),Z(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},Ee.id)):s.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:s.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),s.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:" "}),De&&s.jsxs("button",{onClick:()=>F(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[s.jsx(Dh,{className:"w-3 h-3"})," "]})]}),d.length>0?s.jsx("ul",{className:"space-y-4 text-sm",children:d.map(Ee=>s.jsxs("li",{className:"flex gap-2 relative group",children:[s.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${Ee.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{children:Ee.content}),s.jsx("p",{className:"text-green-300 text-xs mt-1",children:Ee.date})]}),De&&s.jsx("button",{onClick:()=>{G(Ee.id),ue(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:s.jsx(ot,{className:"w-4 h-4"})})]},Ee.id))}):s.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:le,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:C.title,onChange:Ee=>L({...C,title:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:C.year,onChange:Ee=>L({...C,year:Ee.target.value}),children:e==="UG"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Pre-Master",children:" "}),s.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:C.description,onChange:Ee=>L({...C,description:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:C.fileUrl}),s.jsxs("button",{type:"button",onClick:()=>St(L),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[s.jsx(ar,{className:"w-4 h-4"})," "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:I,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[I?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),pe&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:Ve,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:z.title,onChange:Ee=>W({...z,title:Ee.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:z.type,onChange:Ee=>W({...z,type:Ee.target.value}),children:[s.jsx("option",{value:"LECTURE",children:" "}),s.jsx("option",{value:"EXAM",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:z.year,onChange:Ee=>W({...z,year:Ee.target.value}),children:e==="UG"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Pre-Master",children:" "}),s.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:z.fileUrl}),s.jsxs("button",{type:"button",onClick:()=>St(W),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[s.jsx(ar,{className:"w-4 h-4"})," "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:I,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[I?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),D&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:J,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:Y.content,onChange:Ee=>H({...Y,content:Ee.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isImportant",checked:Y.isImportant,onChange:Ee=>H({...Y,isImportant:Ee.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),s.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:I,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[I?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:ke,disabled:I,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[I&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),ge&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:Ge,disabled:I,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[I&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>ue(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:he,disabled:I,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[I&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},zR=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!1),l=ky(),[c,d]=w.useState(!1),[h,f]=w.useState(!1),[p,g]=w.useState(!1),[v,N]=w.useState(null),[_,j]=w.useState(!1),[E,I]=w.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[R,M]=w.useState(null),[T,C]=w.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),L=async()=>{a(!0);const ne=await Zme();n(ne),a(!1)};w.useEffect(()=>{L()},[]);const P=()=>{l("/users",{state:{initialTab:"ALUMNI"}})},V=async ne=>{ne.preventDefault(),j(!0);try{await y8({...E,username:E.email.split("@")[0],password:"123"});const G=(t==null?void 0:t.name)||E.name;Se("  ",G,` : ${E.name} -  ${E.graduationYear}`),alert("   !    ."),d(!1),I({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(G){console.error(G),alert("   ")}finally{j(!1)}},$=ne=>{ne?(M(ne.id),C({title:ne.title,company:ne.company,description:ne.description,contactInfo:ne.contactInfo,datePosted:ne.datePosted,status:ne.status||"OPEN"})):(M(null),C({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),f(!0)},A=async ne=>{ne.preventDefault(),j(!0);const G=(t==null?void 0:t.name)||"Unknown";try{R?(await tpe(R,T),Se("  ",G,`: ${T.title}`)):(await epe(T),Se("  ",G,`: ${T.title} - : ${T.company}`)),f(!1),L()}catch(Y){console.error(Y),alert("    ")}finally{j(!1)}},D=ne=>{N(ne),g(!0)},F=async()=>{if(v){j(!0);try{const ne=e.find(G=>G.id===v);await npe(v),Se("  ",(t==null?void 0:t.name)||"Unknown",`  : ${ne==null?void 0:ne.title}`),n(G=>G.filter(Y=>Y.id!==v)),g(!1),N(null)}catch(ne){console.error("Delete failed",ne),alert("  "),L()}finally{j(!1)}}},U=(t==null?void 0:t.role)===we.ADMIN||(t==null?void 0:t.role)===we.STAFF,ue=U||(t==null?void 0:t.role)===we.ALUMNI;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),s.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[s.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[s.jsx(xP,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===we.ADMIN&&s.jsxs("button",{onClick:P,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[s.jsx(gP,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),s.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:s.jsx(Ms,{className:"w-64 h-64"})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[s.jsx(Ms,{className:"w-6 h-6 text-amber-600"}),s.jsx("h2",{children:"  "})]}),ue&&s.jsxs("button",{onClick:()=>$(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[s.jsx(Dh,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(ne=>s.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${ne.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:ne.title}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[s.jsx(Q9,{className:"w-4 h-4"}),s.jsx("span",{children:ne.company})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${ne.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:ne.status==="CLOSED"?"":" "}),U&&s.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[s.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),$(ne)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),D(ne.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]}),s.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:ne.description}),s.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),s.jsx("p",{className:"text-amber-600",children:ne.contactInfo})]}),s.jsx("div",{className:"mt-4 flex items-center justify-between",children:s.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",ne.datePosted]})})]},ne.id)),s.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[s.jsx("p",{className:"font-medium",children:"   "}),s.jsx("p",{className:"text-sm mt-1",children:"   "}),ue&&s.jsx("button",{onClick:()=>$(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:E.name,onChange:ne=>I({...E,name:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:E.graduationYear,onChange:ne=>I({...E,graduationYear:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",value:E.currentJob,onChange:ne=>I({...E,currentJob:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"email",required:!0,value:E.email,onChange:ne=>I({...E,email:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"tel",required:!0,value:E.phone,onChange:ne=>I({...E,phone:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:_,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[_?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:F,disabled:_,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[_&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?"  ":"   "}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":  ",value:T.title,onChange:ne=>C({...T,title:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,value:T.company,onChange:ne=>C({...T,company:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.status,onChange:ne=>C({...T,status:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[s.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),s.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:T.description,onChange:ne=>C({...T,description:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"    ",value:T.contactInfo,onChange:ne=>C({...T,contactInfo:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:T.datePosted,onChange:ne=>C({...T,datePosted:ne.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:_,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[_?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})})]})},Oge=({user:t})=>{if(t.role!==we.ADMIN)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] animate-in fade-in",children:[s.jsx("div",{className:"bg-red-50 p-6 rounded-full mb-4",children:s.jsx(yP,{className:"w-12 h-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"   "}),s.jsx("p",{className:"text-gray-500 text-center max-w-md",children:"      .         ."})]});const e=rs(),[n,r]=w.useState("STAFF"),[a,l]=w.useState(!1),[c,d]=w.useState([]),[h,f]=w.useState([]),[p,g]=w.useState([]),[v,N]=w.useState([]),[_,j]=w.useState([]),[E,I]=w.useState(!1),[R,M]=w.useState(null),[T,C]=w.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});w.useEffect(()=>{e.state&&e.state.initialTab&&r(e.state.initialTab)},[e.state]),w.useEffect(()=>{L()},[n]);const L=async()=>{l(!0),n==="STAFF"?d(await Qf()):n==="PG"?f(await g8()):n==="UG"?g(await Gme()):n==="ALUMNI"?N(await Xme()):n==="EMPLOYEE"&&j(await p8()),l(!1)},P=A=>{if(A)M(A.id),C({name:A.name||"",email:A.email||"",phone:A.phone||"",whatsapp:A.whatsapp||"",address:A.address||"",subRole:A.subRole||"FACULTY",rank:A.rank||"",specialization:A.specialization||"",degree:A.degree||"MSc",researchTopic:A.researchTopic||"",supervisor:A.supervisor||"",status:A.status||"Researching",year:A.year||"Third",section:A.section||"",graduationYear:A.graduationYear||"",currentJob:A.currentJob||"",jobTitle:A.jobTitle||"",department:A.department||"",username:A.username||"",password:A.password||""});else{M(null);const D="user"+Math.floor(Math.random()*1e3);C({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:D,password:"123"})}I(!0)},V=async(A,D)=>{if(window.confirm("      "))try{n==="STAFF"?await m8(A):n==="PG"?await Hme(A):n==="UG"?await Wme(A):n==="ALUMNI"?await Jme(A):n==="EMPLOYEE"&&await $me(A),await Se(" ","Admin",`  : ${D}   ${n}`),L()}catch(F){console.error("Error deleting user:",F),alert("   ")}},$=async A=>{A.preventDefault();const D={email:T.email,phone:T.phone,whatsapp:T.whatsapp,address:T.address};try{if(n==="STAFF"){const F={name:T.name,...D,subRole:T.subRole,rank:T.rank,specialization:T.specialization,username:T.username,password:T.password};R?await zN(R,F):await f8(F)}else if(n==="PG")if(R){const F={name:T.name,...D,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password};await FN(R,F)}else{const F={name:T.name,...D,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await qme(F)}else if(n==="UG"){const F={name:T.name,...D,year:T.year,section:T.section,username:T.username,password:T.password};R?await Yme(R,F):await Kme(F)}else if(n==="ALUMNI"){const F={name:T.name,...D,graduationYear:T.graduationYear,currentJob:T.currentJob,username:T.username,password:T.password};R?await Qme(R,F):await y8(F)}else if(n==="EMPLOYEE"){const F={name:T.name,...D,jobTitle:T.jobTitle,department:T.department,username:T.username,password:T.password};R?await Fme(R,F):await zme(F)}await Se(R?"  ":"  ","Admin",` ${R?"":""} : ${T.name}   ${n}`),I(!1),L(),alert("   ")}catch(F){console.error("Error saving user:",F),alert("   ")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(d1,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),s.jsxs("button",{onClick:()=>P(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(xP,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:ai,label:" "},{id:"EMPLOYEE",icon:sP,label:" "},{id:"PG",icon:Ds,label:" "},{id:"UG",icon:Vi,label:" (3  4)"},{id:"ALUMNI",icon:Ms,label:""}].map(A=>s.jsx("button",{onClick:()=>r(A.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${n===A.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(A.icon,{className:"w-4 h-4"})," ",A.label]})},A.id))}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:n==="STAFF"?" ":n==="EMPLOYEE"?" ":n==="PG"?"":n==="UG"?"":" "}),s.jsx("th",{className:"p-4",children:n==="STAFF"?"":n==="EMPLOYEE"?" / ":n==="PG"?"":n==="UG"?"":" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let A=[];return n==="STAFF"?A=c:n==="EMPLOYEE"?A=_:n==="PG"?A=h:n==="UG"?A=p:A=v,A.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):A.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:D.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:n==="STAFF"?D.rank:n==="EMPLOYEE"?D.jobTitle:n==="PG"?D.degree:n==="UG"?D.year==="Third"?"":"":D.graduationYear})}),s.jsx("td",{className:"p-4",children:n==="STAFF"?D.specialization:n==="EMPLOYEE"?D.department:n==="PG"?D.supervisor:n==="UG"?D.section||"-":D.currentJob||"-"}),s.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[D.phone&&s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(eg,{className:"w-3 h-3 text-gray-400"})," ",D.phone]}),D.whatsapp&&s.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[s.jsx(PT,{className:"w-3 h-3"})," ",D.whatsapp]}),D.email&&s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(h1,{className:"w-3 h-3"})," ",D.email]})]}),s.jsx("td",{className:"p-4 font-mono text-gray-600",children:D.username||"-"}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>P(D),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V(D.id,D.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},D.id))})()})]})})]}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[R?" ":"  ",s.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",n==="STAFF"?" ":n==="EMPLOYEE"?"/":n==="PG"?" ":n==="UG"?" ":"",")"]})]}),s.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.name,onChange:A=>C({...T,name:A.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(eg,{className:"w-4 h-4"}),"   ()"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(eg,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.phone,onChange:A=>C({...T,phone:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(PT,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),s.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.whatsapp,onChange:A=>C({...T,whatsapp:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(h1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:T.email,onChange:A=>C({...T,email:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(mP,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:" - ",value:T.address,onChange:A=>C({...T,address:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),n==="EMPLOYEE"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":   ",required:!0,value:T.jobTitle,onChange:A=>C({...T,jobTitle:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.department,onChange:A=>C({...T,department:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="STAFF"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.subRole,onChange:A=>C({...T,subRole:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[s.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),s.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.rank,onChange:A=>C({...T,rank:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.specialization,onChange:A=>C({...T,specialization:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="PG"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:T.degree,onChange:A=>C({...T,degree:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.status,onChange:A=>C({...T,status:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"Researching",children:" "}),s.jsx("option",{value:"Writing",children:" "}),s.jsx("option",{value:"Defense",children:""})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.researchTopic,onChange:A=>C({...T,researchTopic:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:T.supervisor,onChange:A=>C({...T,supervisor:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="UG"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.year,onChange:A=>C({...T,year:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",placeholder:":  ",value:T.section,onChange:A=>C({...T,section:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="ALUMNI"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",placeholder:"2023",required:!0,value:T.graduationYear,onChange:A=>C({...T,graduationYear:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"",value:T.currentJob,onChange:A=>C({...T,currentJob:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[s.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[s.jsx(d1,{className:"w-4 h-4"}),"   "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.username,onChange:A=>C({...T,username:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.password,onChange:A=>C({...T,password:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),s.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},Dge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[a,l]=w.useState(null),[c,d]=w.useState(0),[h,f]=w.useState(0),[p,g]=w.useState(!1),[v,N]=w.useState(null),[_,j]=w.useState([]),[E,I]=w.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[R,M]=w.useState({title:"",url:"",date:""}),[T,C]=w.useState("UPLOAD"),[L,P]=w.useState({title:"",url:"",archiveId:""}),[V,$]=w.useState(!1);w.useEffect(()=>{A()},[]);const A=async()=>{r(!0);const X=await g8();e(X),d(X.filter(z=>z.alerts.reportOverdue).length),f(X.filter(z=>z.alerts.extensionNeeded).length),r(!1)},D=X=>{l(a===X?null:X)},F=async(X,z,W)=>{const ge=t.find(ve=>ve.id===X);if(!ge)return;const Z={...ge.dates,[z]:W};if(z==="lastReport"){const ve=new Date(W);ve.setMonth(ve.getMonth()+6),Z.nextReportDue=ve.toISOString().split("T")[0]}try{await FN(X,{dates:Z}),A()}catch(ve){console.error(ve),alert("   ")}},U=async X=>{N(X.id),I({protocolUrl:X.documents.protocolUrl||"",toeflUrl:X.documents.toeflUrl||"",publishedPapers:X.documents.publishedPapers?[...X.documents.publishedPapers]:[],otherDocuments:X.documents.otherDocuments?[...X.documents.otherDocuments]:[]}),M({title:"",url:"",date:""}),P({title:"",url:"",archiveId:""}),C("UPLOAD");const W=(await fo()).filter(ge=>ge.type===rt.INCOMING||ge.type===rt.OUTGOING||ge.type===rt.DEPARTMENT_COUNCIL);j(W),g(!0)},ue=X=>{const z=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;X==="protocol"?I(W=>({...W,protocolUrl:z})):X==="toefl"?I(W=>({...W,toeflUrl:z})):X==="other"&&P(W=>({...W,url:z}))},ne=()=>{!R.title||!R.date||(I(X=>({...X,publishedPapers:[...X.publishedPapers,{...R}]})),M({title:"",url:"",date:""}))},G=X=>{I(z=>({...z,publishedPapers:z.publishedPapers.filter((W,ge)=>ge!==X)}))},Y=()=>{if(!L.title)return;const X={id:Math.random().toString(36).substr(2,9),title:L.title,date:new Date().toISOString().split("T")[0],type:T};if(T==="UPLOAD"){if(!L.url)return;X.url=L.url}else{if(!L.archiveId)return;const z=_.find(W=>W.id===L.archiveId);X.archiveId=L.archiveId,X.archiveSerial=(z==null?void 0:z.serialNumber)||"???"}I(z=>({...z,otherDocuments:[...z.otherDocuments,X]})),P({title:"",url:"",archiveId:""})},H=X=>{I(z=>({...z,otherDocuments:z.otherDocuments.filter((W,ge)=>ge!==X)}))},pe=async X=>{if(X.preventDefault(),!!v){$(!0);try{const z=t.find(W=>W.id===v);if(z){const W={...z.documents,protocolUrl:E.protocolUrl,toeflUrl:E.toeflUrl,publishedPapers:E.publishedPapers,otherDocuments:E.otherDocuments};await FN(v,{documents:W}),await A()}g(!1)}catch(z){console.error(z),alert("    ")}finally{$(!1)}}};return n?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:s.jsx(Ds,{})})]}),s.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),s.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),s.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:s.jsx(Ki,{})})]}),s.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${h>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`${h>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),s.jsx("h3",{className:`text-2xl font-bold ${h>0?"text-amber-800":"text-gray-800"}`,children:h}),h>0&&s.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),s.jsx("div",{className:`${h>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:s.jsx(Gr,{})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:s.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),s.jsx("div",{className:"divide-y",children:t.map(X=>s.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[s.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>D(X.id),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${X.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:X.degree==="PhD"?"D":"M"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:X.name}),s.jsx("p",{className:"text-sm text-gray-500",children:X.researchTopic})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-left md:text-right",children:[s.jsx("p",{className:"text-gray-500 text-xs",children:" "}),s.jsx("p",{className:"font-medium",children:X.supervisor})]}),s.jsxs("div",{className:"flex gap-2",children:[X.alerts.reportOverdue&&s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[s.jsx(Ki,{className:"w-3 h-3"}),"  "]}),X.alerts.extensionNeeded&&s.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[s.jsx(Gr,{className:"w-3 h-3"}),"  "]})]}),s.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===X.id?s.jsx(QN,{}):s.jsx(XN,{})})]})]}),a===X.id&&s.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[s.jsx(gf,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.enrollment||"",onChange:z=>F(X.id,"enrollment",z.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.registration||"",onChange:z=>F(X.id,"registration",z.target.value)})]})]}),s.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),X.alerts.reportOverdue&&s.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:X.dates.lastReport||"",onChange:z=>F(X.id,"lastReport",z.target.value)}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",s.jsx("span",{className:"font-mono text-gray-600",children:X.dates.nextReportDue||"-"})]})]}),s.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.expectedDefense||"",onChange:z=>F(X.id,"expectedDefense",z.target.value)})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[s.jsx(Vn,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),X.documents.protocolUrl?s.jsxs("a",{href:X.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(Fh,{className:"w-3 h-3"})," "]}):s.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),X.documents.toeflUrl?s.jsxs("a",{href:X.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(Fh,{className:"w-3 h-3"})," "]}):s.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),X.documents.otherDocuments&&X.documents.otherDocuments.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[s.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),s.jsx("ul",{className:"space-y-1",children:X.documents.otherDocuments.map((z,W)=>s.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[z.type==="ARCHIVE_LINK"?s.jsx(RT,{className:"w-3 h-3 text-amber-500"}):s.jsx(Vn,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"truncate",children:z.title})]},W))})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("button",{onClick:()=>U(X),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[s.jsx(Rt,{className:"w-3 h-3"}),"   "]})})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs("button",{onClick:()=>D(X.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})})]})]},X.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[s.jsx(Vi,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[t.map(X=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:X.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${X.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:X.degree==="PhD"?"":""})}),s.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:X.researchTopic,children:X.researchTopic}),s.jsxs("td",{className:"p-4 text-gray-600",children:[X.supervisor,X.coSupervisors&&s.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",X.coSupervisors]})]}),s.jsx("td",{className:"p-4 font-mono text-gray-500",children:X.dates.registration||"-"}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[X.status==="Researching"&&" ",X.status==="Writing"&&" ",X.status==="Defense"&&" ",X.status==="Granted"&&" ",X.status==="Recording"&&" "]})})]},X.id)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:pe,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),s.jsx("input",{type:"text",readOnly:!0,value:E.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),s.jsx("button",{type:"button",onClick:()=>ue("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:s.jsx(ar,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),s.jsx("input",{type:"text",readOnly:!0,value:E.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),s.jsx("button",{type:"button",onClick:()=>ue("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:s.jsx(ar,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),E.otherDocuments&&E.otherDocuments.length>0?s.jsx("ul",{className:"space-y-2",children:E.otherDocuments.map((X,z)=>s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[X.type==="ARCHIVE_LINK"?s.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:s.jsx(RT,{className:"w-4 h-4"})}):s.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:s.jsx(Vn,{className:"w-4 h-4"})}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-bold text-gray-800",children:X.title}),X.type==="ARCHIVE_LINK"?s.jsxs("p",{className:"text-amber-600",children:["  : ",X.archiveSerial]}):s.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),s.jsx("button",{type:"button",onClick:()=>H(z),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]},z))}):s.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[s.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[s.jsx("button",{type:"button",onClick:()=>C("UPLOAD"),className:`text-xs font-bold pb-1 ${T==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),s.jsx("button",{type:"button",onClick:()=>C("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${T==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:L.title,onChange:X=>P({...L,title:X.target.value})}),T==="UPLOAD"?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:L.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),s.jsxs("button",{type:"button",onClick:()=>ue("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[s.jsx(ar,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):s.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:L.archiveId,onChange:X=>P({...L,archiveId:X.target.value}),children:[s.jsx("option",{value:"",children:"--     --"}),_.map(X=>s.jsxs("option",{value:X.id,children:["[",X.type===rt.INCOMING?"":"","] ",X.serialNumber," - ",X.subject]},X.id))]}),s.jsxs("button",{type:"button",onClick:Y,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[s.jsx(Rt,{className:"w-3 h-3"})," "]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),E.publishedPapers.length>0?s.jsx("ul",{className:"space-y-2",children:E.publishedPapers.map((X,z)=>s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-bold text-gray-800",children:X.title}),s.jsx("p",{className:"text-gray-500",children:X.date})]}),s.jsx("button",{type:"button",onClick:()=>G(z),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]},z))}):s.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[s.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),s.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:R.title,onChange:X=>M({...R,title:X.target.value})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:R.date,onChange:X=>M({...R,date:X.target.value})}),s.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:R.url,onChange:X=>M({...R,url:X.target.value})})]}),s.jsxs("button",{type:"button",onClick:ne,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[s.jsx(Rt,{className:"w-3 h-3"}),"  "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:V,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[V?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})})]})},Rge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[l,c]=w.useState(!1),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState(null),[N,_]=w.useState(!1),[j,E]=w.useState(null),[I,R]=w.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});w.useEffect(()=>{M()},[]);const M=async()=>{a(!0);const A=await rpe();n(A),a(!1)},T=A=>{A?(p(A.id),R({name:A.name,model:A.model,serialNumber:A.serialNumber,status:A.status,location:A.location,assignedTo:A.assignedTo,dateAcquired:A.dateAcquired})):(p(null),R({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),h(!0)},C=async A=>{A.preventDefault(),c(!0);const D=(t==null?void 0:t.name)||"Unknown";try{f?(await ipe(f,I),Se(" ",D,`  : ${I.name}`),alert("    ")):(await ape(I),Se(" ",D,`: ${I.name} - ${I.serialNumber}`),alert("   ")),await M(),h(!1)}catch(F){console.error(F),alert("   ")}finally{c(!1)}},L=A=>{E(A),_(!0)},P=async()=>{if(j){c(!0);try{const A=e.find(D=>D.id===j);await spe(j),Se(" ",(t==null?void 0:t.name)||"Unknown",` : ${A==null?void 0:A.name}`),n(D=>D.filter(F=>F.id!==j)),_(!1),E(null)}catch(A){console.error(A),alert("   "),M()}finally{c(!1)}}},V=A=>{switch(A){case"WORKING":return s.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return s.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(Gr,{className:"w-3 h-3"})," "]});case"BROKEN":return s.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(ZN,{className:"w-3 h-3"})," "]})}},$={total:e.length,working:e.filter(A=>A.status==="WORKING").length,maintenance:e.filter(A=>A.status==="MAINTENANCE").length,broken:e.filter(A=>A.status==="BROKEN").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(xg,{className:"w-6 h-6 text-blue-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),s.jsxs("button",{onClick:()=>T(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:$.total})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[s.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-green-800",children:$.working})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[s.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:$.maintenance})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[s.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),s.jsx("h3",{className:"text-2xl font-bold text-red-800",children:$.broken})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:"  (SN)"}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})," ",s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:A.name}),s.jsx("td",{className:"p-4 text-gray-600",children:A.model}),s.jsx("td",{className:"p-4 font-mono text-gray-500",children:A.serialNumber||"-"}),s.jsx("td",{className:"p-4",children:A.location}),s.jsx("td",{className:"p-4",children:A.assignedTo}),s.jsx("td",{className:"p-4",children:V(A.status)}),s.jsx("td",{className:"p-4",children:s.jsxs("button",{onClick:()=>v(A),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[s.jsx(xF,{className:"w-4 h-4"}),"QR"]})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>T(A),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),L(A.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},A.id)),!r&&e.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:I.name,onChange:A=>R({...I,name:A.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:I.model,onChange:A=>R({...I,model:A.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:I.serialNumber,onChange:A=>R({...I,serialNumber:A.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:I.status,onChange:A=>R({...I,status:A.target.value}),children:[s.jsx("option",{value:"WORKING",children:"  "}),s.jsx("option",{value:"MAINTENANCE",children:" "}),s.jsx("option",{value:"BROKEN",children:" / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:I.dateAcquired,onChange:A=>R({...I,dateAcquired:A.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:I.location,onChange:A=>R({...I,location:A.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:I.assignedTo,onChange:A=>R({...I,assignedTo:A.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[l?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),s.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),s.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),s.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),s.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:P,disabled:l,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[l&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},Pge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState([]),[d,h]=w.useState(!0),[f,p]=w.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,v]=w.useState(!1),[N,_]=w.useState(null),[j,E]=w.useState({name:"",supervisor:"",location:""}),[I,R]=w.useState(!1),[M,T]=w.useState(null),[C,L]=w.useState(null),[P,V]=w.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[$,A]=w.useState(!1),[D,F]=w.useState(null),[U,ue]=w.useState(!1),[ne,G]=w.useState(null),[Y,H]=w.useState(!1),[pe,X]=w.useState(null),[z,W]=w.useState(!1),ge=(t==null?void 0:t.role)===we.ADMIN||(t==null?void 0:t.role)===we.STAFF;w.useEffect(()=>{Z()},[]);const Z=async()=>{h(!0);const[xe,et,Je]=await Promise.all([ppe(),lpe(),dpe()]),kt=xe.sort((mi,te)=>mi.date!==te.date?mi.date.localeCompare(te.date):mi.startTime.localeCompare(te.startTime));a(kt),n(et),c(Je),h(!1)},ve=xe=>{xe?(_(xe.id),E({name:xe.name,supervisor:xe.supervisor,location:xe.location})):(_(null),E({name:"",supervisor:"",location:""})),v(!0)},Ce=async xe=>{xe.preventDefault(),W(!0);const et=(t==null?void 0:t.name)||"Unknown";try{N?(await cpe(N,j),Se(" ",et,`   : ${j.name}`)):(await ope(j),Se(" ",et,`  : ${j.name}`)),await Z(),v(!1)}catch(Je){console.error(Je),alert("    ")}finally{W(!1)}},De=async()=>{if(ne){W(!0);try{const xe=e.find(et=>et.id===ne);await upe(ne),Se(" ",(t==null?void 0:t.name)||"Unknown",`  : ${xe==null?void 0:xe.name}`),await Z(),ue(!1),G(null)}catch(xe){console.error(xe),alert("   ")}finally{W(!1)}}},ae=xe=>{T(xe),L(null),V({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),R(!0)},le=xe=>{L(xe.id),V({courseName:xe.courseName,instructor:xe.instructor,day:xe.day,startTime:xe.startTime,endTime:xe.endTime})},ke=async xe=>{if(xe.preventDefault(),!M)return;W(!0);const et=(t==null?void 0:t.name)||"Unknown";try{C?(await fpe(C,P),Se("  ",et,`: ${P.courseName}`),L(null)):(await hpe({...P,labId:M.id}),Se("  ",et,`: ${P.courseName} - : ${M.name}`)),await Z(),V(Je=>({...Je,courseName:"",instructor:""}))}catch(Je){console.error(Je),alert("    ")}finally{W(!1)}},J=xe=>{X(xe),H(!0)},he=async()=>{if(pe){W(!0);try{const xe=l.find(et=>et.id===pe);await mpe(pe),Se("  ",(t==null?void 0:t.name)||"Unknown",` : ${xe==null?void 0:xe.courseName}`),await Z(),H(!1),X(null)}catch{alert(" ")}finally{W(!1)}}},Ve=xe=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[xe]||xe,Ge=async xe=>{if(xe.preventDefault(),f.endTime<=f.startTime){alert("       ");return}const et=f.experimentType.trim().toLowerCase();if(r.some(kt=>kt.status==="CANCELLED"||kt.date!==f.date||kt.experimentType.trim().toLowerCase()!==et?!1:f.startTime<kt.endTime&&f.endTime>kt.startTime)){alert(`     / (${f.experimentType})   .    .`);return}W(!0);try{await gpe({...f,labName:"   ",status:"CONFIRMED"}),Se(" ",(t==null?void 0:t.name)||f.researcherName,` : ${f.date} - ${f.experimentType}`),await Z(),p(kt=>({...kt,experimentType:""})),alert("    ")}catch(kt){console.error(kt),alert("   ")}finally{W(!1)}},St=async(xe,et)=>{try{await ype(xe,{status:et}),a(Je=>Je.map(kt=>kt.id===xe?{...kt,status:et}:kt)),Se("  ",(t==null?void 0:t.name)||"Unknown",`  : ${et}`)}catch(Je){console.error(Je),alert("  ")}},Ee=async()=>{if(D){W(!0);try{await xpe(D),Se("/ ",(t==null?void 0:t.name)||"Unknown","   "),await Z(),A(!1),F(null)}catch(xe){console.error(xe),alert("   ")}finally{W(!1)}}},yt=xe=>{switch(xe){case"CONFIRMED":return s.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"COMPLETED":return s.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(cz,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return s.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(ZN,{className:"w-3 h-3"})," "]});default:return null}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(u1,{className:"w-6 h-6 text-purple-600"})," "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),ge&&s.jsxs("button",{onClick:()=>ve(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[s.jsx(Rt,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(xe=>s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[s.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:s.jsx(u1,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:xe.name}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:xe.location}),s.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[s.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",xe.supervisor]}),s.jsxs("button",{onClick:()=>ae(xe),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[s.jsx(IF,{className:"w-3 h-3"}),"  "]}),ge&&s.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>ve(xe),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{G(xe.id),ue(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},xe.id)),e.length===0&&s.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx(gf,{className:"w-5 h-5"}),"  -   "]}),s.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),s.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Ki,{className:"w-4 h-4"}),"   "]}),s.jsxs("form",{onSubmit:Ge,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:f.researcherName,onChange:xe=>p({...f,researcherName:xe.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:f.date,onChange:xe=>p({...f,date:xe.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:f.startTime,onChange:xe=>p({...f,startTime:xe.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:f.endTime,onChange:xe=>p({...f,endTime:xe.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),s.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:f.experimentType,onChange:xe=>p({...f,experimentType:xe.target.value})}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),s.jsxs("button",{type:"submit",disabled:z,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[s.jsx(Rt,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-green-600"}),"  "]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(xe=>s.jsxs("tr",{className:`hover:bg-gray-50 ${xe.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[s.jsx("td",{className:"p-3 font-mono text-gray-600",children:xe.date}),s.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[xe.startTime," - ",xe.endTime]}),s.jsx("td",{className:"p-3 font-bold text-gray-800",children:xe.researcherName}),s.jsx("td",{className:"p-3 text-gray-600",children:xe.experimentType}),s.jsx("td",{className:"p-3",children:ge?s.jsxs("select",{value:xe.status,onChange:et=>St(xe.id,et.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${xe.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":xe.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[s.jsx("option",{value:"CONFIRMED",children:""}),s.jsx("option",{value:"COMPLETED",children:" "}),s.jsx("option",{value:"CANCELLED",children:""})]}):yt(xe.status)}),s.jsx("td",{className:"p-3",children:(ge||(t==null?void 0:t.name)===xe.researcherName)&&s.jsx("button",{onClick:()=>{F(xe.id),A(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},xe.id)),!d&&r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:N?"  ":"  "}),s.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.name,onChange:xe=>E({...j,name:xe.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.supervisor,onChange:xe=>E({...j,supervisor:xe.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.location,onChange:xe=>E({...j,location:xe.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:z,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[z?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),I&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("p",{className:"text-sm text-purple-700",children:M.name})]}),s.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6",children:[ge&&s.jsxs("form",{onSubmit:ke,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Rt,{className:"w-4 h-4"})," ",C?"  ":"  "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:P.courseName,onChange:xe=>V({...P,courseName:xe.target.value})}),s.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:P.instructor,onChange:xe=>V({...P,instructor:xe.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:P.day,onChange:xe=>V({...P,day:xe.target.value}),children:[s.jsx("option",{value:"Saturday",children:""}),s.jsx("option",{value:"Sunday",children:""}),s.jsx("option",{value:"Monday",children:""}),s.jsx("option",{value:"Tuesday",children:""}),s.jsx("option",{value:"Wednesday",children:""}),s.jsx("option",{value:"Thursday",children:""})]}),s.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:P.startTime,onChange:xe=>V({...P,startTime:xe.target.value})}),s.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:P.endTime,onChange:xe=>V({...P,endTime:xe.target.value})})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[C&&s.jsx("button",{type:"button",onClick:()=>{L(null),V(xe=>({...xe,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),s.jsx("button",{type:"submit",disabled:z,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:C?" ":" "})]})]}),s.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(xe=>{const et=l.filter(Je=>Je.labId===M.id&&Je.day===xe).sort((Je,kt)=>Je.startTime.localeCompare(kt.startTime));return et.length===0?null:s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:Ve(xe)}),s.jsx("ul",{className:"space-y-2",children:et.map(Je=>s.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[Je.startTime," - ",Je.endTime]}),s.jsx("span",{className:"font-semibold text-gray-800",children:Je.courseName}),s.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",Je.instructor,")"]})]}),ge&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>le(Je),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:s.jsx(gn,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>J(Je.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:s.jsx(ot,{className:"w-3 h-3"})})]})]},Je.id))})]},xe)}),l.filter(xe=>xe.labId===M.id).length===0&&s.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>ue(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:De,disabled:z,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[z&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),Y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:he,disabled:z,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[z&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),$&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsx("button",{onClick:Ee,disabled:z,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},kge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[f,p]=w.useState(!1),[g,v]=w.useState(null),[N,_]=w.useState(!1),[j,E]=w.useState(!1),[I,R]=w.useState(null),[M,T]=w.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});w.useEffect(()=>{C()},[]);const C=async()=>{c(!0);const[A,D]=await Promise.all([vpe(),bpe()]);n(A.sort((F,U)=>F.number-U.number)),a(D.sort((F,U)=>U.endDate.localeCompare(F.endDate))),c(!1)},L=A=>{v(A),A.status==="OCCUPIED"?T({researcher:A.researcher||"",plantType:A.plantType||"",notes:A.notes||"",startDate:A.startDate||""}):T({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},P=async A=>{if(A.preventDefault(),!!g){h(!0);try{await MR(g.id,{status:"OCCUPIED",...M}),Se("  ",(t==null?void 0:t.name)||M.researcher,`    ${g.number}`),await C(),p(!1),alert("    ")}catch(D){console.error(D),alert("   ")}finally{h(!1)}}},V=async()=>{if(g){h(!0);try{g.researcher&&g.plantType&&await wpe({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await MR(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Se("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await C(),_(!1),p(!1),alert("      ")}catch(A){console.error(A),alert("   ")}finally{h(!1)}}},$=async()=>{if(I){h(!0);try{await Npe(I),Se("   ",(t==null?void 0:t.name)||"Unknown","   "),await C(),E(!1),R(null)}catch{alert("  ")}finally{h(!1)}}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(hP,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),s.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),s.jsx("span",{className:"text-green-700",children:" "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),s.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),l?s.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-green-600"}),s.jsx("span",{children:"   ..."})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>{const D=A.status==="OCCUPIED";return s.jsxs("div",{onClick:()=>L(A),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${D?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[s.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",A.number]}),D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:s.jsx(_u,{className:"w-8 h-8 text-red-500"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800 truncate",children:A.plantType}),s.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:A.researcher})]}),s.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",A.startDate]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[s.jsx(_u,{className:"w-8 h-8 text-green-400"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),s.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},A.id)})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[s.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lz,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",A.plotNumber]}),s.jsx("td",{className:"p-4",children:A.researcher}),s.jsx("td",{className:"p-4",children:A.plantType}),s.jsx("td",{className:"p-4 text-gray-500",children:A.startDate}),s.jsx("td",{className:"p-4 text-gray-500",children:A.endDate}),s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:()=>{R(A.id),E(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},A.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),f&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(_u,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(vP,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.researcher,onChange:A=>T({...M,researcher:A.target.value}),placeholder:"  "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),s.jsxs("div",{className:"relative",children:[s.jsx(_u,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.plantType,onChange:A=>T({...M,plantType:A.target.value}),placeholder:":  ( 95)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(gf,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.startDate,onChange:A=>T({...M,startDate:A.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),s.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.notes,onChange:A=>T({...M,notes:A.target.value}),placeholder:"     ..."})]}),s.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(qr,{className:"w-4 h-4"})," "]})]}):s.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[s.jsx(ot,{className:"w-4 h-4"}),"   "]})})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(Gr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(ot,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:$,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},Mge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[f,p]=w.useState("ALL"),[g,v]=w.useState(!1),[N,_]=w.useState(null),[j,E]=w.useState(!1),[I,R]=w.useState(null),[M,T]=w.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});w.useEffect(()=>{C()},[]),w.useEffect(()=>{a(f==="ALL"?e:e.filter(D=>D.type===f))},[e,f]);const C=async()=>{c(!0);const F=(await Dpe()).sort((U,ue)=>ue.date.localeCompare(U.date));n(F),c(!1)},L=D=>{D?(_(D.id),T({title:D.title,type:D.type,date:D.date,location:D.location,description:D.description,regLink:D.regLink||"",status:D.status||"UPCOMING"})):(_(null),T({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),v(!0)},P=async D=>{D.preventDefault(),h(!0);const F=(t==null?void 0:t.name)||"Unknown";try{N?(await Ppe(N,M),Se(" ",F,` : ${M.title}`)):(await Rpe(M),Se("  ",F,`: ${M.title}`)),await C(),v(!1),alert(N?"   ":"   ")}catch(U){console.error(U),alert("   ")}finally{h(!1)}},V=async()=>{if(I){h(!0);try{const D=e.find(F=>F.id===I);await kpe(I),Se(" ",(t==null?void 0:t.name)||"Unknown",` : ${D==null?void 0:D.title}`),await C(),E(!1),R(null)}catch{alert("  ")}finally{h(!1)}}},$=D=>{switch(D){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:mF};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:iF};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:Z9};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:ai};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:Vi};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:f1}}},A=D=>{switch(D){case"UPCOMING":return s.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[s.jsx(Ki,{className:"w-3 h-3"})," "]});case"COMPLETED":return s.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"CANCELLED":return s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[s.jsx(ZN,{className:"w-3 h-3"})," "]});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(f1,{className:"w-6 h-6 text-purple-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),s.jsxs("button",{onClick:()=>L(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[s.jsx(yu,{active:f==="ALL",onClick:()=>p("ALL"),label:""}),s.jsx(yu,{active:f==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),s.jsx(yu,{active:f==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),s.jsx(yu,{active:f==="TRIP",onClick:()=>p("TRIP"),label:" "}),s.jsx(yu,{active:f==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),s.jsx(yu,{active:f==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),l?s.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[s.jsx(Ye,{className:"w-8 h-8 animate-spin text-purple-600"}),s.jsx("span",{children:"  ..."})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(D=>{const F=$(D.type),U=F.icon;return s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${F.border}`,children:[s.jsxs("div",{className:"p-5 flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${F.bg} ${F.color}`,children:[s.jsx(U,{className:"w-3 h-3"})," ",F.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A(D.status),s.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[s.jsx(gf,{className:"w-3 h-3"})," ",D.date]})]})]}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:D.title}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[s.jsx(mP,{className:"w-4 h-4"}),s.jsx("span",{children:D.location})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:D.description})]}),s.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[D.regLink&&D.status==="UPCOMING"?s.jsxs("a",{href:D.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",s.jsx(Fh,{className:"w-3 h-3"})]}):s.jsx("span",{className:"text-xs text-gray-400 italic",children:D.status==="UPCOMING"?"   ":" "}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>L(D),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{R(D.id),E(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]},D.id)}),r.length===0&&s.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N?" ":"  "}),s.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(vt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.title,onChange:D=>T({...M,title:D.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:M.type,onChange:D=>T({...M,type:D.target.value}),children:[s.jsx("option",{value:"WORKSHOP",children:" "}),s.jsx("option",{value:"SEMINAR",children:""}),s.jsx("option",{value:"TRIP",children:" / "}),s.jsx("option",{value:"CONFERENCE",children:""}),s.jsx("option",{value:"COURSE",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:M.status,onChange:D=>T({...M,status:D.target.value}),children:[s.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),s.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),s.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.date,onChange:D=>T({...M,date:D.target.value})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.location,onChange:D=>T({...M,location:D.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.description,onChange:D=>T({...M,description:D.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:M.regLink,onChange:D=>T({...M,regLink:D.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):N?s.jsx(_n,{className:"w-4 h-4"}):s.jsx(Rt,{className:"w-4 h-4"}),N?" ":" "]})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(ot,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},yu=({active:t,onClick:e,label:n})=>s.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),Lge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,l]=w.useState(!0),[c,d]=w.useState(""),[h,f]=w.useState(!1),[p,g]=w.useState(null),[v,N]=w.useState(!1);w.useEffect(()=>{_()},[]),w.useEffect(()=>{if(!c)r(t);else{const R=c.toLowerCase();r(t.filter(M=>M.action.toLowerCase().includes(R)||M.performedBy.toLowerCase().includes(R)||M.details.toLowerCase().includes(R)))}},[c,t]);const _=async()=>{l(!0);const R=await Mme();e(R),r(R),l(!1)},j=R=>{g(R),f(!0)},E=async()=>{if(p){N(!0);try{await Lme(p),await _(),f(!1),g(null)}catch(R){console.error(R),alert("  ")}finally{N(!1)}}},I=async()=>{l(!0),await Se(" ","Admin","     "),await _(),l(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(iP,{className:"w-6 h-6 text-red-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:I,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[s.jsx(Dh,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:_,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[s.jsx(m1,{className:"w-4 h-4"})," "]})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:R=>d(R.target.value)})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:R.action}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:R.performedBy})}),s.jsx("td",{className:"p-4 text-gray-600",children:R.details}),s.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(R.timestamp).toLocaleString("ar-EG")}),s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:()=>j(R.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},R.id)):s.jsx("tr",{children:s.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[s.jsx(yP,{className:"w-10 h-10 mb-2 opacity-20"}),s.jsx("p",{children:"     "}),s.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:I,children:"    "})]})})})]})})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(Gr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:E,disabled:v,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[v&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},Uge=({user:t})=>{const e=ky(),[n,r]=w.useState([]),[a,l]=w.useState(!0),[c,d]=w.useState(""),[h,f]=w.useState("ALL"),[p,g]=w.useState(!1),[v,N]=w.useState(!1),[_,j]=w.useState({category:"ADMIN_FINANCE",isActive:!0}),[E,I]=w.useState(null),[R,M]=w.useState(null),[T,C]=w.useState(null),L=t.role===we.ADMIN||t.role===we.DATA_ENTRY;w.useEffect(()=>{P()},[]);const P=async()=>{l(!0);const U=await pge();r(U),l(!1)},V=async()=>{let U="",ue="";return E&&(U=await ui(E)),R&&(ue=await ui(R)),{sourceUrl:U,previewUrl:ue}},$=async U=>{var ue,ne;U.preventDefault(),N(!0);try{const G=await V();await gge({title:_.title,category:_.category,description:_.description||"",updatedAt:new Date().toISOString().split("T")[0],isActive:!0,sourceFileUrl:G.sourceUrl,previewFileUrl:G.previewUrl,isFillableOnline:(ue=_.title)==null?void 0:ue.includes(""),fillableLink:(ne=_.title)!=null&&ne.includes("")?"/leaves":void 0}),await Se(" ",t.name,`  : ${_.title}`),g(!1),j({category:"ADMIN_FINANCE",isActive:!0}),I(null),M(null),P(),alert("   ")}catch{alert("   ")}finally{N(!1)}},A=async(U,ue)=>{window.confirm("  ")&&(await yge(U),await Se(" ",t.name,` : ${ue}`),P())},D=({category:U})=>{const ne={ADMIN_FINANCE:{label:"  ",color:"bg-blue-100 text-blue-800"},STUDENT_AFFAIRS:{label:" ",color:"bg-green-100 text-green-800"},POSTGRAD_RESEARCH:{label:" ",color:"bg-purple-100 text-purple-800"},QUALITY:{label:" ",color:"bg-amber-100 text-amber-800"}}[U]||{label:U,color:"bg-gray-100"};return s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${ne.color}`,children:ne.label})},F=n.filter(U=>{var ue;return(h==="ALL"||U.category===h)&&(U.title.includes(c)||((ue=U.description)==null?void 0:ue.includes(c)))});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx($z,{className:"w-8 h-8 text-indigo-600"}),"   "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),L&&s.jsxs("button",{onClick:()=>g(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-md transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Fh,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("button",{onClick:()=>e("/leaves"),className:"p-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-blue-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Plane,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{className:"p-3 bg-green-50 hover:bg-green-100 rounded-lg text-green-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{className:"p-3 bg-purple-50 hover:bg-purple-100 rounded-lg text-purple-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{className:"p-3 bg-amber-50 hover:bg-amber-100 rounded-lg text-amber-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Oz,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-3"}),s.jsx("input",{type:"text",placeholder:"   (:   ...)",className:"w-full border p-3 pr-10 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 focus:bg-white transition-all",value:c,onChange:U=>d(U.target.value)})]})]}),s.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2",children:[{id:"ALL",label:""},{id:"ADMIN_FINANCE",label:"  "},{id:"STUDENT_AFFAIRS",label:"  "},{id:"POSTGRAD_RESEARCH",label:" "},{id:"QUALITY",label:" "}].map(U=>s.jsx("button",{onClick:()=>f(U.id),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${h===U.id?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100 border"}`,children:U.label},U.id))}),a?s.jsx("div",{className:"text-center py-12",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[F.map(U=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg transition-all group relative",children:[L&&s.jsx("button",{onClick:()=>A(U.id,U.title),className:"absolute top-4 left-4 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(Tz,{className:"w-6 h-6"})}),s.jsx(D,{category:U.category})]}),s.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-1",children:U.title}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[" : ",U.updatedAt]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 h-10",children:U.description}),s.jsxs("div",{className:"flex gap-2 border-t pt-4",children:[U.sourceFileUrl?s.jsxs("a",{href:U.sourceFileUrl,target:"_blank",rel:"noreferrer",className:"flex-1 bg-indigo-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-indigo-700 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  Word"]}):s.jsx("button",{disabled:!0,className:"flex-1 bg-gray-100 text-gray-400 py-2 rounded-lg text-sm cursor-not-allowed",children:" "}),U.isFillableOnline?s.jsx("button",{onClick:()=>e(U.fillableLink),className:"px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 border border-green-200",title:" ",children:s.jsx(gF,{className:"w-5 h-5"})}):U.previewFileUrl?s.jsx("button",{onClick:()=>C(U),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",title:"",children:s.jsx(wz,{className:"w-5 h-5"})}):null]})]},U.id)),F.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-gray-400",children:"    "})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>g(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:$,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:_.title||"",onChange:U=>j({..._,title:U.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:_.category,onChange:U=>j({..._,category:U.target.value}),children:[s.jsx("option",{value:"ADMIN_FINANCE",children:"  "}),s.jsx("option",{value:"STUDENT_AFFAIRS",children:"  "}),s.jsx("option",{value:"POSTGRAD_RESEARCH",children:"  "}),s.jsx("option",{value:"QUALITY",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:2,value:_.description||"",onChange:U=>j({..._,description:U.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"border-2 border-dashed p-4 rounded-lg text-center",children:[s.jsx("label",{className:"block text-xs font-bold text-blue-600 mb-2",children:" Word ()"}),s.jsx("input",{type:"file",className:"text-xs",accept:".doc,.docx",onChange:U=>{var ue;return I(((ue=U.target.files)==null?void 0:ue[0])||null)}})]}),s.jsxs("div",{className:"border-2 border-dashed p-4 rounded-lg text-center",children:[s.jsx("label",{className:"block text-xs font-bold text-red-600 mb-2",children:" PDF ()"}),s.jsx("input",{type:"file",className:"text-xs",accept:".pdf",onChange:U=>{var ue;return M(((ue=U.target.files)==null?void 0:ue[0])||null)}})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{type:"submit",disabled:v,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700 flex items-center gap-2",children:[v&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"})," "]})]})]})]})}),T&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl h-[85vh] flex flex-col shadow-2xl",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-lg",children:T.title}),s.jsx("button",{onClick:()=>C(null),children:s.jsx(vt,{className:"w-6 h-6 text-gray-500"})})]}),s.jsx("div",{className:"flex-1 bg-gray-100 p-4 overflow-hidden",children:T.previewFileUrl?s.jsx("iframe",{src:T.previewFileUrl,className:"w-full h-full rounded border",title:"Preview"}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"   "})}),s.jsx("div",{className:"p-4 border-t flex justify-end",children:s.jsxs("a",{href:T.sourceFileUrl,target:"_blank",rel:"noreferrer",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 hover:bg-indigo-700",children:[s.jsx(Kl,{className:"w-4 h-4"}),"    "]})})]})})]})},Vge=({user:t})=>{const[e,n]=w.useState("COUNCIL"),[r,a]=w.useState(!0),[l,c]=w.useState([]),[d,h]=w.useState([]),f=new Date().getFullYear(),[p,g]=w.useState(`${f}-${f+1}`),[v,N]=w.useState(!1),[_,j]=w.useState(!1),[E,I]=w.useState(null),[R,M]=w.useState(null),[T,C]=w.useState({academicYear:"",members:[]}),[L,P]=w.useState({name:"",academicYear:"",members:[]}),[V,$]=w.useState(null),A=t.role===we.ADMIN;w.useEffect(()=>{D()},[]);const D=async()=>{a(!0);const[Z,ve]=await Promise.all([Mpe(),zpe()]);c(Z),h(ve),a(!1)},F=()=>{const Z=new Set([...l.map(ve=>ve.academicYear),...d.map(ve=>ve.academicYear)]);return Z.add(`${f}-${f+1}`),Array.from(Z).sort().reverse()},U=Z=>{Z?(I(Z.id),C({academicYear:Z.academicYear,members:[...Z.members]})):(I(null),C({academicYear:p,members:[]})),N(!0)},ue=async()=>{if(!T.academicYear){alert("   ");return}try{E?(await Upe(E,T),await Se("   ",t.name,`     : ${T.academicYear}`)):(await Lpe(T),await Se("   ",t.name,`      : ${T.academicYear}`)),N(!1),D(),alert("   ")}catch(Z){console.error(Z),alert("   ")}},ne=async Z=>{if(window.confirm("       "))try{await Vpe(Z),await Se("   ",t.name,"      "),D()}catch(ve){console.error(ve),alert(" ")}},G=Z=>{Z?(M(Z.id),P({name:Z.name,academicYear:Z.academicYear,members:[...Z.members]})):(M(null),P({name:"",academicYear:p,members:[]})),j(!0)},Y=async()=>{if(!L.name||!L.academicYear){alert(" ");return}try{R?(await $pe(R,L),await Se(" ",t.name,`  ${L.name}  ${L.academicYear}`)):(await Fpe(L),await Se(" ",t.name,`   : ${L.name}  ${L.academicYear}`)),j(!1),D(),alert("   ")}catch(Z){console.error(Z),alert("   ")}},H=async(Z,ve)=>{if(window.confirm(`      ${ve}`))try{await Bpe(Z),await Se(" ",t.name,`  : ${ve}`),D()}catch(Ce){console.error(Ce),alert(" ")}},pe=Z=>{Z(ve=>({...ve,members:[...ve.members,{name:"",role:"",title:""}]}))},X=(Z,ve,Ce,De)=>{Z(ae=>{const le=[...ae.members];return le[ve]={...le[ve],[Ce]:De},{...ae,members:le}})},z=(Z,ve)=>{Z(Ce=>({...Ce,members:Ce.members.filter((De,ae)=>ae!==ve)}))},W=l.find(Z=>Z.academicYear===p),ge=d.filter(Z=>Z.academicYear===p);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ko,{className:"w-6 h-6 text-indigo-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),s.jsx("select",{value:p,onChange:Z=>g(Z.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:F().map(Z=>s.jsx("option",{value:Z,children:Z},Z))})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(ai,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(Ko,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),A&&s.jsxs("button",{onClick:()=>U(W),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[W?s.jsx(gn,{className:"w-4 h-4"}):s.jsx(Rt,{className:"w-4 h-4"}),W?" ":"  "]})]}),W?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" (Role)"})]})}),s.jsx("tbody",{className:"divide-y",children:W.members.map((Z,ve)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 text-gray-500",children:Z.title}),s.jsx("td",{className:"p-4 font-bold text-gray-800",children:Z.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${Z.role.includes("")?"bg-indigo-100 text-indigo-700":Z.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:Z.role})})]},ve))})]})}),A&&s.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:s.jsxs("button",{onClick:()=>ne(W.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(ot,{className:"w-3 h-3"}),"   "]})})]}):s.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[s.jsx(ai,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"       ."}),A&&s.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),A&&s.jsxs("button",{onClick:()=>G(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[s.jsx(Rt,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[ge.map(Z=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>$(V===Z.id?null:Z.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:s.jsx(Ko,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:Z.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Z.members.length," "]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A&&s.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[s.jsx("button",{onClick:ve=>{ve.stopPropagation(),G(Z)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:ve=>{ve.stopPropagation(),H(Z.id,Z.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]}),V===Z.id?s.jsx(QN,{className:"w-5 h-5 text-gray-400"}):s.jsx(XN,{className:"w-5 h-5 text-gray-400"})]})]}),V===Z.id&&s.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""})]})}),s.jsx("tbody",{children:Z.members.map((ve,Ce)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 text-gray-500 w-20",children:ve.title}),s.jsx("td",{className:"py-2 font-medium",children:ve.name}),s.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:ve.role})]},Ce))})]})})]},Z.id)),ge.length===0&&s.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[s.jsx(Ko,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"     ."})]})]})]}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:E?"   ":"  "}),s.jsx("button",{onClick:()=>N(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:T.academicYear,onChange:Z=>C({...T,academicYear:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),s.jsxs("button",{onClick:()=>pe(C),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[s.jsx(Rt,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"space-y-2",children:T.members.map((Z,ve)=>s.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[s.jsx("input",{type:"text",placeholder:" (.)",value:Z.title,onChange:Ce=>X(C,ve,"title",Ce.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("input",{type:"text",placeholder:" ",value:Z.name,onChange:Ce=>X(C,ve,"name",Ce.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),s.jsx("input",{type:"text",placeholder:" (/)",value:Z.role,onChange:Ce=>X(C,ve,"role",Ce.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("button",{onClick:()=>z(C,ve),className:"text-red-400 hover:text-red-600 p-1",children:s.jsx(ot,{className:"w-4 h-4"})})]},ve))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{onClick:ue,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?" ":"  "}),s.jsx("button",{onClick:()=>j(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:L.name,onChange:Z=>P({...L,name:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:L.academicYear,onChange:Z=>P({...L,academicYear:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),s.jsxs("button",{onClick:()=>pe(P),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[s.jsx(Rt,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"space-y-2",children:L.members.map((Z,ve)=>s.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[s.jsx("input",{type:"text",placeholder:"",value:Z.title,onChange:Ce=>X(P,ve,"title",Ce.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("input",{type:"text",placeholder:" ",value:Z.name,onChange:Ce=>X(P,ve,"name",Ce.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),s.jsx("input",{type:"text",placeholder:"",value:Z.role,onChange:Ce=>X(P,ve,"role",Ce.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("button",{onClick:()=>z(P,ve),className:"text-red-400 hover:text-red-600 p-1",children:s.jsx(ot,{className:"w-4 h-4"})})]},ve))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{onClick:Y,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},zge=({user:t})=>{const e="2024-2025",[n,r]=w.useState(t.role===we.ADMIN),[a,l]=w.useState(!0),[c,d]=w.useState(!1),[h,f]=w.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=w.useState(1),[v,N]=w.useState([]),[_,j]=w.useState([]);w.useEffect(()=>{n&&t.role===we.ADMIN?I():E()},[n,t.id,t.role]);const E=async()=>{l(!0);try{const A=await qpe(t.id,e);f(A||(D=>({...D,userId:t.id,userName:t.name})))}catch(A){console.error("Error fetching report:",A)}l(!1)},I=async()=>{l(!0);try{const A=await Gpe(e),D=await Qf();N(A),j(D.map(F=>F.name))}catch(A){console.error("Error fetching dept data:",A)}l(!1)},R=async(A=!1)=>{d(!0);try{const D={...h,status:A?"SUBMITTED":"DRAFT",submissionDate:A?new Date().toISOString():h.submissionDate};await Hpe(D,h.id||void 0),A?(await Se("  ",t.name,`     ${e}`),alert("    ")):(await Se("  ",t.name,`     ${e}`),alert("   ")),E()}catch(D){console.error(D),alert("   ")}finally{d(!1)}},M=async()=>{if(!window.confirm("     .   "))return;const A={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};f(D=>({...D,publishedResearch:[...D.publishedResearch,A]})),await Se(" ",t.name,"        "),alert("   ()")},T=async(A,D)=>{try{const F=await ui(A),U=[...h.publishedResearch];U[D].fileUrl=F,f({...h,publishedResearch:U}),alert("   ")}catch(F){alert("  : "+F.message)}},C=()=>{window.print()},L=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx(Vi,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),s.jsxs("button",{onClick:M,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[s.jsx(Vz,{className:"w-4 h-4"}),"    "]})]}),h.publishedResearch.map((A,D)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[s.jsx("button",{onClick:()=>{const F=h.publishedResearch.filter((U,ue)=>ue!==D);f({...h,publishedResearch:F})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.title,onChange:F=>{const U=[...h.publishedResearch];U[D].title=F.target.value,f({...h,publishedResearch:U})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.journal,onChange:F=>{const U=[...h.publishedResearch];U[D].journal=F.target.value,f({...h,publishedResearch:U})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.type,onChange:F=>{const U=[...h.publishedResearch];U[D].type=F.target.value,f({...h,publishedResearch:U})},children:[s.jsx("option",{value:"International",children:" (International)"}),s.jsx("option",{value:"Regional",children:" (Regional)"}),s.jsx("option",{value:"Local",children:" (Local)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:A.date,onChange:F=>{const U=[...h.publishedResearch];U[D].date=F.target.value,f({...h,publishedResearch:U})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),s.jsx("div",{className:"flex items-center gap-2",children:A.fileUrl?s.jsxs("a",{href:A.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}):s.jsxs("div",{className:"relative w-full",children:[s.jsx("input",{type:"file",id:`file-${D}`,className:"hidden",onChange:F=>F.target.files&&T(F.target.files[0],D)}),s.jsxs("label",{htmlFor:`file-${D}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[s.jsx(ar,{className:"w-4 h-4"}),"  "]})]})})]})]})]},D)),s.jsxs("button",{onClick:()=>f({...h,publishedResearch:[...h.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),"   "]})]}),P=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(xg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),h.ongoingResearch.map((A,D)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[s.jsx("button",{onClick:()=>{const F=h.ongoingResearch.filter((U,ue)=>ue!==D);f({...h,ongoingResearch:F})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"space-y-3 pl-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.topic,onChange:F=>{const U=[...h.ongoingResearch];U[D].topic=F.target.value,f({...h,ongoingResearch:U})}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.stage,onChange:F=>{const U=[...h.ongoingResearch];U[D].stage=F.target.value,f({...h,ongoingResearch:U})},children:[s.jsx("option",{value:"Data Collection",children:"  "}),s.jsx("option",{value:"Lab Experiments",children:" "}),s.jsx("option",{value:"Writing",children:" "}),s.jsx("option",{value:"Under Review",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",A.progress,"%)"]}),s.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:A.progress,onChange:F=>{const U=[...h.ongoingResearch];U[D].progress=parseInt(F.target.value),f({...h,ongoingResearch:U})}})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),s.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.participants||"",onChange:F=>{const U=[...h.ongoingResearch];U[D].participants=F.target.value,f({...h,ongoingResearch:U})}})]})]})]},D)),s.jsxs("button",{onClick:()=>f({...h,ongoingResearch:[...h.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),"   "]})]}),V=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(Zp,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:h.scientificActivity.thesesJudged,onChange:A=>f({...h,scientificActivity:{...h.scientificActivity,thesesJudged:parseInt(A.target.value)}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:h.scientificActivity.supervisionCount,onChange:A=>f({...h,scientificActivity:{...h.scientificActivity,supervisionCount:parseInt(A.target.value)}})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:h.scientificActivity.trainingCourses,onChange:A=>f({...h,scientificActivity:{...h.scientificActivity,trainingCourses:A.target.value}})})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),s.jsx("button",{onClick:()=>f({...h,scientificActivity:{...h.scientificActivity,conferences:[...h.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),h.scientificActivity.conferences.map((A,D)=>s.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[s.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:A.name,onChange:F=>{const U=[...h.scientificActivity.conferences];U[D].name=F.target.value,f({...h,scientificActivity:{...h.scientificActivity,conferences:U}})}}),s.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:A.role,onChange:F=>{const U=[...h.scientificActivity.conferences];U[D].role=F.target.value,f({...h,scientificActivity:{...h.scientificActivity,conferences:U}})},children:[s.jsx("option",{value:"Attendance",children:""}),s.jsx("option",{value:"Speaker",children:""}),s.jsx("option",{value:"Organizer",children:""})]}),s.jsx("button",{onClick:()=>{const F=h.scientificActivity.conferences.filter((U,ue)=>ue!==D);f({...h,scientificActivity:{...h.scientificActivity,conferences:F}})},className:"text-red-500",title:"",children:s.jsx(vt,{className:"w-4 h-4"})})]},D))]})]}),$=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5 text-amber-600"}),"   "]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.books,onChange:A=>f({...h,communityActivity:{...h.communityActivity,books:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.convoys,onChange:A=>f({...h,communityActivity:{...h.communityActivity,convoys:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.media,onChange:A=>f({...h,communityActivity:{...h.communityActivity,media:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.memberships,onChange:A=>f({...h,communityActivity:{...h.communityActivity,memberships:A.target.value}})})]})]});if(n&&t.role===we.ADMIN){if(a)return s.jsx("div",{className:"p-10 text-center",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const A=v.reduce((ue,ne)=>{var G;return ue+(((G=ne.publishedResearch)==null?void 0:G.length)||0)},0),D=v.reduce((ue,ne)=>{var G;return ue+(((G=ne.publishedResearch)==null?void 0:G.filter(Y=>Y.type==="International").length)||0)},0),F=v.filter(ue=>ue.status==="SUBMITTED").length,U=[...v].sort((ue,ne)=>{var G,Y;return(((G=ne.publishedResearch)==null?void 0:G.length)||0)-(((Y=ue.publishedResearch)==null?void 0:Y.length)||0)})[0];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(qr,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),s.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[s.jsx(Ia,{title:" ",value:`${F} / ${_.length}`,icon:qr,color:"green"}),s.jsx(Ia,{title:" ",value:A,icon:Vi,color:"blue"}),s.jsx(Ia,{title:" ",value:D,icon:dP,color:"purple"}),s.jsx(Ia,{title:" ",value:U?U.userName.split(" ")[0]:"-",icon:Zp,color:"amber"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[s.jsx("div",{className:"p-4 border-b border-gray-100",children:s.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "})]})}),s.jsxs("tbody",{className:"divide-y",children:[_.map((ue,ne)=>{var Y,H;const G=v.find(pe=>pe.userName===ue);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:ue}),s.jsx("td",{className:"p-4",children:(G==null?void 0:G.status)==="SUBMITTED"?s.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(qr,{className:"w-3 h-3"}),"  "]}):G?s.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(Ki,{className:"w-3 h-3"}),"  "]}):s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(JN,{className:"w-3 h-3"}),"  "]})}),s.jsx("td",{className:"p-4 font-mono",children:((Y=G==null?void 0:G.publishedResearch)==null?void 0:Y.length)||0}),s.jsx("td",{className:"p-4 font-mono",children:((H=G==null?void 0:G.ongoingResearch)==null?void 0:H.length)||0}),s.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:G!=null&&G.submissionDate?new Date(G.submissionDate).toLocaleDateString("ar-EG"):"-"})]},ne)}),_.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?s.jsx("div",{className:"p-10 text-center",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Vn,{className:"w-6 h-6 text-blue-600"}),"   "]}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===we.ADMIN&&s.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[s.jsx(ai,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${h.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:h.status==="SUBMITTED"?s.jsx(qr,{className:"w-5 h-5"}):s.jsx(Ki,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("p",{className:`font-bold ${h.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:h.status==="SUBMITTED"?"   ":"   "})]})]}),s.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:s.jsxs("button",{onClick:C,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  PDF"]})})]}),s.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:Vi},{id:2,label:" ",icon:xg},{id:3,label:" ",icon:Zp},{id:4,label:" ",icon:ai}].map(A=>s.jsxs("button",{onClick:()=>g(A.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===A.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[s.jsx(A.icon,{className:`w-4 h-4 ${p===A.id?"text-blue-600":"text-gray-400"}`})," ",A.label]},A.id))}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&L(),p===2&&P(),p===3&&V(),p===4&&$(),s.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[s.jsxs("button",{onClick:()=>R(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>R(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(pP,{className:"w-4 h-4"}),"   "]})]})]}),s.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),s.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),s.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),s.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",t.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),s.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:h.publishedResearch.length>0?h.publishedResearch.map((A,D)=>s.jsxs("li",{className:"pl-2",children:[s.jsx("span",{className:"font-bold",children:A.title}),s.jsx("br",{}),s.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",A.journal," (",A.date,") - [",A.type,"]"]})]},D)):s.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),s.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:h.ongoingResearch.length>0?h.ongoingResearch.map((A,D)=>s.jsxs("li",{className:"pl-2",children:[s.jsx("span",{className:"font-bold",children:A.topic}),s.jsx("br",{}),s.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",A.stage," ( : ",A.progress,"%)"]})]},D)):s.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),s.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[s.jsxs("div",{className:"border p-4",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:" :"})," ",h.scientificActivity.thesesJudged]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:" :"})," ",h.scientificActivity.supervisionCount]}),s.jsx("p",{children:s.jsx("strong",{children:" :"})}),s.jsx("p",{className:"text-sm mt-1",children:h.scientificActivity.trainingCourses||" "})]}),s.jsxs("div",{className:"border p-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",h.scientificActivity.conferences.length>0?h.scientificActivity.conferences.map(A=>A.name).join(" "):" "]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:" :"})," ",h.communityActivity.books||" "]})]})]})]}),s.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:" "}),s.jsx("p",{className:"mt-8",children:"...................."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:"  "}),s.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},Fge=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState(null),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,p]=w.useState(null),[g,v]=w.useState(""),[N,_]=w.useState("ALL"),[j,E]=w.useState(!1),[I,R]=w.useState(!1),[M,T]=w.useState(!1),[C,L]=w.useState(null),[P,V]=w.useState(null),[$,A]=w.useState(null),[D,F]=w.useState(null),[U,ue]=w.useState({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[ne,G]=w.useState({title:"",vision:"",startDate:"",endDate:"",strategicGoals:""}),[Y,H]=w.useState({title:"",description:"",coordinator:""}),[pe,X]=w.useState(null),z=t.role===we.ADMIN;w.useEffect(()=>{W()},[]);const W=async()=>{const te=await YE();a(te);const Pe=await Kpe();c(Pe.filter(Fe=>Fe.status==="ARCHIVED"));const Qe=await Qpe();h(z?Qe:Qe.filter(Fe=>Fe.proposedById===t.id))},ge=te=>{te?(A(te.id),H({title:te.title,description:te.description,coordinator:te.coordinator})):(A(null),H({title:"",description:"",coordinator:""})),T(!0)},Z=async te=>{if(te.preventDefault(),!!r)try{let Pe=[...r.axes];if($)Pe=Pe.map(Qe=>Qe.id===$?{...Qe,...Y}:Qe),await Se("  ",t.name,` : ${Y.title}`);else{const Qe={id:`axis-${Date.now()}`,title:Y.title,description:Y.description,coordinator:Y.coordinator,topics:[]};Pe.push(Qe),await Se("  ",t.name,` : ${Y.title}`)}await $o(r.id,{axes:Pe}),T(!1),W(),alert("     ")}catch(Pe){console.error(Pe),alert("  ")}},ve=async(te,Pe)=>{if(!(!r||!z)&&window.confirm(`      "${Pe}"    `))try{const Qe=r.axes.filter(Fe=>Fe.id!==te);await $o(r.id,{axes:Qe}),await Se("  ",t.name,` : ${Pe}`),W(),alert("   ")}catch{alert(" ")}},Ce=async te=>{if(te.preventDefault(),!r||!D)return;const Pe=r.axes.map(Qe=>Qe.id===D.axisId?{...Qe,topics:Qe.topics.map(Fe=>Fe.id===D.topic.id?D.topic:Fe)}:Qe);try{await $o(r.id,{axes:Pe}),await Se("  ",t.name,` : ${D.topic.title}`),F(null),W(),alert("  ")}catch{alert(" ")}},De=async(te,Pe,Qe)=>{if(!(!r||!z)&&window.confirm("         "))try{const Fe=r.axes.map(Ht=>Ht.id===te?{...Ht,topics:Ht.topics.filter($t=>$t.id!==Pe)}:Ht);await $o(r.id,{axes:Fe}),await Se("   ",t.name,`  : ${Qe}`),W()}catch{alert("  ")}},ae=async(te,Pe,Qe)=>{if(r){if(t.role!==we.STUDENT_PG&&t.role!==we.STAFF&&!z){alert("      .");return}if(window.confirm(`      : "${Qe}"`))try{const Fe=r.axes.map(Ht=>Ht.id===te?{...Ht,topics:Ht.topics.map($t=>$t.id===Pe?{...$t,status:"IN_PROGRESS",studentName:`${t.name} ( )`}:$t)}:Ht);await $o(r.id,{axes:Fe}),await Se("   ",t.name,`  : ${Qe}`),W(),alert("         .")}catch{alert("  ")}}},le=async(te,Pe,Qe,Fe)=>{const Ht=prompt("  ():");if(Ht!==null)try{if(await Zpe(te,Qe,Ht||""),Qe==="APPROVED"&&Fe&&r){const $t={id:`topic-${Date.now()}`,title:Fe.title,goal:Fe.appliedGoal,status:"AVAILABLE",studentName:Fe.studentName||""};Fe.studentName&&($t.status="IN_PROGRESS");let pi=[...r.axes];if(Fe.axisId==="NEW"){const Va={id:`axis-${Date.now()}`,title:Fe.newAxisName||" ",description:Fe.justification,coordinator:Fe.proposedBy,topics:[$t]};pi.push(Va)}else pi=pi.map(Va=>Va.id===Fe.axisId?{...Va,topics:[...Va.topics,$t]}:Va);await $o(r.id,{axes:pi}),await Se("  ",t.name,`    : ${Pe}`)}await Se("  ",t.name,` ${Qe} : ${Pe}`),W(),alert("   .")}catch($t){console.error($t),alert("     (  )")}},ke=()=>{L(null),ue({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),E(!0)},J=te=>{L(te.id),ue({title:te.title,axisId:te.axisId,newAxisName:te.newAxisName||"",type:te.type,justification:te.justification,appliedGoal:te.appliedGoal,studentName:te.studentName||"",hasStudent:!!te.studentName}),E(!0)},he=async(te,Pe)=>{if(window.confirm("      "))try{await Wt(ze(me,"research_proposals",te)),await Se("  ",t.name,`  : ${Pe}`),W(),alert("  ")}catch(Qe){console.error(Qe),alert(" ")}},Ve=async te=>{te.preventDefault();try{const Pe={title:U.title,axisId:U.axisId,newAxisName:U.axisId==="NEW"&&U.newAxisName||"",type:U.type,justification:U.justification,appliedGoal:U.appliedGoal,studentName:U.hasStudent&&U.studentName||"",proposedBy:t.name,proposedById:t.id,status:"PENDING"};C?(await Tt(ze(me,"research_proposals",C),Pe),await Se("  ",t.name,`  : ${U.title}`)):(await Jpe(Pe),await Se("  ",t.name,`   : ${U.title}`)),E(!1),W(),alert(C?"   ":"     ")}catch(Pe){console.error(Pe),alert("   .         .")}},Ge=te=>{if(!r||te.length<5){X(null);return}let Pe=!1;r.axes.forEach(Qe=>{Qe.topics.forEach(Fe=>{(Fe.title.includes(te)||te.includes(Fe.title))&&(X(` :     "${Fe.title}"`),Pe=!0)})}),Pe||X(null)},St=te=>{if(te)V(te.id),G({title:te.title,vision:te.vision,startDate:te.startDate,endDate:te.endDate,strategicGoals:te.strategicGoals.join(", ")});else{V(null);const Pe=new Date().getFullYear();G({title:`   ${Pe}-${Pe+5}`,vision:"",startDate:`${Pe}-01-01`,endDate:`${Pe+5}-12-31`,strategicGoals:"  2030,  "})}R(!0)},Ee=async te=>{te.preventDefault();const Pe={title:ne.title,vision:ne.vision,startDate:ne.startDate,endDate:ne.endDate,strategicGoals:ne.strategicGoals.split(",").map(Qe=>Qe.trim()),status:"ACTIVE",axes:P&&r?r.axes:[]};try{P?await $o(P,Pe):await Ype(Pe),R(!1),W()}catch{alert("")}},yt=async()=>{r&&window.confirm(":   ")&&(await Wpe(r.id),W())},xe=()=>s.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"relative z-10",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),s.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsxs("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30",children:["   (",r.startDate.split("-")[0]," - ",r.endDate.split("-")[0],")"]}),z&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>St(r),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(gP,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>St(),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(Rt,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:yt,className:"bg-red-500/30 hover:bg-red-500/50 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(ot,{className:"w-4 h-4"})," "]})]})]})]}),s.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((te,Pe)=>s.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[s.jsx(tg,{className:"w-3 h-3 text-green-300"})," ",te]},Pe))})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),z&&s.jsxs("button",{onClick:()=>St(),className:"bg-white text-green-800 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition shadow-lg flex items-center gap-2 mx-auto",children:[s.jsx(Rt,{className:"w-5 h-5"}),"    "]})]})}),s.jsx(tg,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),et=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[z&&r&&s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("button",{onClick:()=>ge(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold hover:bg-green-700",children:[s.jsx(Rt,{className:"w-4 h-4"}),"   "]})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:g,onChange:te=>v(te.target.value)})]}),s.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:N,onChange:te=>_(te.target.value),children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"AVAILABLE",children:" "}),s.jsx("option",{value:"IN_PROGRESS",children:"  "}),s.jsx("option",{value:"COMPLETED",children:" "})]})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.axes.map(te=>{const Pe=te.topics.filter(Fe=>(N==="ALL"||Fe.status===N)&&Fe.title.toLowerCase().includes(g.toLowerCase()));if(Pe.length===0&&g)return null;const Qe=Math.round(te.topics.filter(Fe=>Fe.status==="COMPLETED").length/te.topics.length*100)||0;return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>p(f===te.id?null:te.id),children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[f===te.id?s.jsx(QN,{className:"w-5 h-5"}):s.jsx(XN,{className:"w-5 h-5"}),te.title]}),s.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",te.coordinator]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center hidden md:block",children:[s.jsx("div",{className:"text-xs text-gray-500",children:" "}),s.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500",style:{width:`${Qe}%`}})})]}),s.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[Pe.length," "]})]})]}),f===te.id&&s.jsxs("div",{className:"p-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("p",{className:"text-gray-600 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm flex-1",children:[" ",te.description]}),z&&s.jsxs("div",{className:"flex gap-2 mr-2",children:[s.jsx("button",{onClick:()=>ge(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:" ",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ve(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid gap-3",children:[Pe.map(Fe=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-gray-800",children:Fe.title}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Fe.status==="AVAILABLE"?"bg-green-100 text-green-700":Fe.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:Fe.status==="AVAILABLE"?" ":Fe.status==="IN_PROGRESS"?" ":" "})]}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx(tg,{className:"w-3 h-3"})," : ",Fe.goal]}),Fe.studentName&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[s.jsx(vP,{className:"w-3 h-3"}),"  : ",Fe.studentName]})]}),s.jsx("div",{className:"flex items-center gap-2",children:z?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>F({axisId:te.id,topic:Fe}),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>De(te.id,Fe.id,Fe.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]}):Fe.status==="AVAILABLE"&&s.jsx("button",{onClick:()=>ae(te.id,Fe.id,Fe.title),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},Fe.id)),Pe.length===0&&s.jsx("p",{className:"text-center text-gray-400 py-4",children:"        ."})]})]})]},te.id)})}),M&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:$?" ":"  "}),s.jsx("button",{onClick:()=>T(!1),children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:Y.title,onChange:te=>H({...Y,title:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:Y.description,onChange:te=>H({...Y,description:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded",value:Y.coordinator,onChange:te=>H({...Y,coordinator:te.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded text-sm",children:""})]})]})]})}),D&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:"  "}),s.jsx("button",{onClick:()=>F(null),children:s.jsx(vt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Ce,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:D.topic.title,onChange:te=>F({...D,topic:{...D.topic,title:te.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:D.topic.goal,onChange:te=>F({...D,topic:{...D.topic,goal:te.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"    ",value:D.topic.studentName||"",onChange:te=>F({...D,topic:{...D.topic,studentName:te.target.value||void 0}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded",value:D.topic.status,onChange:te=>F({...D,topic:{...D.topic,status:te.target.value}}),children:[s.jsx("option",{value:"AVAILABLE",children:""}),s.jsx("option",{value:"IN_PROGRESS",children:" "}),s.jsx("option",{value:"COMPLETED",children:""})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",onClick:()=>F(null),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded text-sm",children:" "})]})]})]})})]}),Je=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[r&&s.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),s.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),s.jsxs("button",{onClick:ke,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[s.jsx(Rt,{className:"w-5 h-5"}),"    "]})]}),s.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",z&&s.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.filter(te=>te.status==="PENDING").length,"  "]})]}),s.jsxs("div",{className:"space-y-3",children:[d.length===0&&s.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),d.map(te=>{var Pe;return s.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg",children:te.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${te.status==="PENDING"?"bg-amber-100 text-amber-800":te.status==="APPROVED"?"bg-green-100 text-green-800":te.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:te.status==="PENDING"?" ":te.status==="APPROVED"?" ":te.status==="REJECTED"?"":" "})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[s.jsx("strong",{children:" :"})," ",te.proposedBy," |",s.jsx("strong",{children:" :"})," ",te.axisId==="NEW"?`  (${te.newAxisName})`:((Pe=r==null?void 0:r.axes.find(Qe=>Qe.id===te.axisId))==null?void 0:Pe.title)||" "]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[s.jsx("strong",{children:":"})," ",te.justification]}),te.adminNotes&&s.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",te.adminNotes]})]}),s.jsxs("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:[z&&te.status==="PENDING"?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>le(te.id,te.title,"APPROVED",te),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),s.jsx("button",{onClick:()=>le(te.id,te.title,"MODIFICATION_REQUESTED",te),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),s.jsx("button",{onClick:()=>le(te.id,te.title,"REJECTED",te),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):te.proposedById===t.id&&(te.status==="PENDING"||te.status==="MODIFICATION_REQUESTED")&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>J(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded flex items-center gap-1 text-sm font-bold border border-blue-200",children:[s.jsx(gn,{className:"w-4 h-4"}),"   "]}),s.jsx("button",{onClick:()=>he(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),z&&te.status!=="PENDING"&&s.jsxs("button",{onClick:()=>he(te.id,te.title),className:"text-gray-400 hover:text-red-500 p-1 text-xs flex items-center justify-end gap-1 mt-2",children:[s.jsx(ot,{className:"w-3 h-3"}),"   "]})]})]},te.id)})]})]}),kt=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(DT,{className:"w-5 h-5"}),"    "]}),l.length===0?s.jsx("p",{className:"text-center text-gray-400 py-12 border-2 border-dashed rounded-xl",children:"   "}):l.map(te=>s.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold text-gray-800",children:te.title}),s.jsxs("p",{className:"text-gray-500 text-sm",children:[te.startDate," - ",te.endDate]})]}),s.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-bold",children:""})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",te.vision]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:" :"})," ",te.axes.length]})]})]},te.id))]}),mi=()=>{if(!r)return s.jsx("p",{className:"text-center p-8",children:"     ."});const te=r.axes.reduce((Ht,$t)=>Ht+$t.topics.length,0),Pe=r.axes.reduce((Ht,$t)=>Ht+$t.topics.filter(pi=>pi.status==="COMPLETED").length,0),Qe=r.axes.map(Ht=>({name:Ht.title.split(" ").slice(0,3).join(" ")+"...",value:Ht.topics.length})),Fe=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:te}),s.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-green-700",children:Pe}),s.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[te>0?Math.round(Pe/te*100):0,"%"]}),s.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),s.jsx($k,{width:"100%",height:"90%",children:s.jsxs(Fie,{children:[s.jsx($6,{data:Qe,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:Qe.map((Ht,$t)=>s.jsx(Lf,{fill:Fe[$t%Fe.length]},`cell-${$t}`))}),s.jsx(x6,{})]})})]})})]})};return s.jsxs("div",{className:"space-y-6",children:[xe(),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Yi,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(rz,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("ARCHIVE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ARCHIVE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(DT,{className:"w-4 h-4"})," "]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&et(),e==="PROPOSALS"&&Je(),e==="ANALYTICS"&&mi(),e==="ARCHIVE"&&kt()]}),I&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P?"  ":"   "}),s.jsx("button",{onClick:()=>R(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[P===null&&s.jsx("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 text-sm text-yellow-800 mb-4",children:" :         ."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:ne.title,onChange:te=>G({...ne,title:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:ne.vision,onChange:te=>G({...ne,vision:te.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ne.startDate,onChange:te=>G({...ne,startDate:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ne.endDate,onChange:te=>G({...ne,endDate:te.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  (  )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:ne.strategicGoals,onChange:te=>G({...ne,strategicGoals:te.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded font-bold hover:bg-green-700",children:" "})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:C?"  ":"   "}),s.jsx("button",{onClick:()=>E(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:Ve,className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:U.title,onChange:te=>{ue({...U,title:te.target.value}),Ge(te.target.value)}}),pe&&s.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[s.jsx(JN,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{children:pe})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:U.axisId,onChange:te=>ue({...U,axisId:te.target.value}),children:[s.jsx("option",{value:"",children:"--   --"}),r&&r.axes.map(te=>s.jsx("option",{value:te.id,children:te.title},te.id)),s.jsx("option",{value:"NEW",children:"   / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:U.type,onChange:te=>ue({...U,type:te.target.value}),children:[s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),U.axisId==="NEW"&&s.jsxs("div",{className:"col-span-2 animate-in fade-in",children:[s.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-1",children:"   "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg border-purple-300 focus:ring-2 focus:ring-purple-500 outline-none bg-purple-50",placeholder:"   ...",value:U.newAxisName,onChange:te=>ue({...U,newAxisName:te.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"     ",value:U.justification,onChange:te=>ue({...U,justification:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:U.appliedGoal,onChange:te=>ue({...U,appliedGoal:te.target.value})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:U.hasStudent,onChange:te=>ue({...U,hasStudent:te.target.checked})}),s.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),U.hasStudent&&s.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:U.studentName,onChange:te=>ue({...U,studentName:te.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[s.jsx(pP,{className:"w-4 h-4"})," ",C?" ":" "]})]})]})]})})]})},$ge=({user:t})=>{const[e,n]=w.useState("DASHBOARD"),[r,a]=w.useState([]),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,p]=w.useState([]),[g,v]=w.useState(!0),N=t.role===we.ADMIN,[_,j]=w.useState(!1),[E,I]=w.useState(null),[R,M]=w.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[T,C]=w.useState([]),[L,P]=w.useState(!1),[V,$]=w.useState(null),[A,D]=w.useState(null),[F,U]=w.useState("");w.useEffect(()=>{ue()},[]);const ue=async()=>{v(!0);try{const[ae,le,ke,J]=await Promise.all([tge(t.id),nge(t.id),Qf(),p8()]);a(ae),c(le);const he=[...ke.map(Ve=>({id:Ve.id,name:Ve.name,role:Ve.rank||"  "})),...J.map(Ve=>({id:Ve.id,name:Ve.name,role:Ve.jobTitle||""}))].filter(Ve=>Ve.id!==t.id);if(p(he),N){const Ve=await age();h(Ve)}}catch(ae){console.error("Error fetching data:",ae)}v(!1)},ne=()=>{if(!R.startDate||!R.endDate)return 0;const ae=new Date(R.startDate),ke=new Date(R.endDate).getTime()-ae.getTime();return Math.ceil(ke/(1e3*3600*24))+1},G=ae=>{switch(ae){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return ae}},Y=()=>{j(!1),I(null),M({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),C([]),n("NEW")},H=ae=>{if(ae.status==="APPROVED"||ae.status==="REJECTED"){alert("    ");return}j(!0),I(ae.id),M({type:ae.type,startDate:ae.startDate,endDate:ae.endDate,substituteId:ae.substituteId||"",address:ae.address||"",phone:ae.phone||"",hospital:ae.hospital||"",conferenceName:ae.conferenceName||"",conferenceLocation:ae.conferenceLocation||"",spouseName:ae.spouseName||"",spouseJob:ae.spouseJob||"",country:ae.country||""}),C([]),n("NEW")},pe=async(ae,le)=>{if(window.confirm("      "))try{await Wt(ze(me,"leave_requests",ae)),await Se("  ",t.name,`   ${G(le)}`),ue()}catch{alert(" ")}},X=async ae=>{var ke;ae.preventDefault();const le=ne();if(le<=0){alert("      ");return}if(R.type==="CASUAL"&&!_){const J=r.filter(he=>he.type==="CASUAL"&&he.status==="APPROVED").reduce((he,Ve)=>he+Ve.daysCount,0);if(J+le>7){alert(`     (${7-J} )  .`);return}}P(!0);try{const J=[];for(const Ge of T){const St=await ui(Ge);J.push(St)}const he=(ke=f.find(Ge=>Ge.id===R.substituteId))==null?void 0:ke.name,Ve={userId:t.id,userName:t.name,type:R.type,startDate:R.startDate,endDate:R.endDate,daysCount:le,substituteId:R.substituteId,substituteName:he,address:R.address,phone:R.phone,hospital:R.hospital,conferenceName:R.conferenceName,conferenceLocation:R.conferenceLocation,spouseName:R.spouseName,spouseJob:R.spouseJob,country:R.country,...J.length>0&&{documentsUrls:J,medicalReportUrl:J[0]}};_&&E?(await Tt(ze(me,"leave_requests",E),Ve),await Se("  ",t.name,`   ${G(R.type)}`),alert("   ")):(await ege(Ve),await Se(" ",t.name,`  ${G(R.type)}  ${le} `),alert("   ")),n("HISTORY"),ue()}catch(J){console.error(J),alert("   ")}finally{P(!1)}},z=async ae=>{if(V)try{await rge(V.id,ae,F),await Se("  ",t.name,`${ae?"":""}   ${V.userName}`),alert("  "),$(null),D(null),ue()}catch{alert(" ")}},W=async(ae,le)=>{if(window.confirm(`    ${le==="APPROVED"?"":""}  `))try{await Tt(ze(me,"leave_requests",ae),{status:le}),await Se(" ",t.name,` ${le==="APPROVED"?"":""}  `),ue()}catch{alert("")}},ge=()=>{const ae=r.filter(J=>J.type==="CASUAL"&&J.status==="APPROVED").reduce((J,he)=>J+he.daysCount,0),le=r.filter(J=>J.status.includes("PENDING")).length,ke=N?d.filter(J=>J.status==="PENDING_HEAD").length:0;return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),s.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-ae," ",s.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),s.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:s.jsx(Ki,{className:"w-6 h-6 text-orange-600"})})]}),s.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${ae/7*100}%`}})})]}),s.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),s.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:le})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(Vn,{className:"w-6 h-6 text-blue-600"})})]}),s.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),s.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),s.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:l.length})]}),s.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[s.jsx(kT,{className:"w-6 h-6 text-purple-600"}),l.length>0&&s.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),s.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]}),N&&s.jsx("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100 cursor-pointer hover:bg-green-100 transition-colors md:col-span-3",onClick:()=>n("ALL_REQUESTS"),children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-200 rounded-full",children:s.jsx(qr,{className:"w-6 h-6 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-green-900",children:"  (  )"}),s.jsxs("p",{className:"text-sm text-green-700",children:[" ",ke,"    "]})]})]}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:" "})]})})]}),s.jsxs("button",{onClick:Y,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[s.jsx(Rt,{className:"w-6 h-6"}),"    "]})]})},Z=()=>s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[s.jsx(c1,{className:"w-6 h-6 text-green-600"})," ",_?"  ":"  "]}),_&&s.jsx("button",{onClick:Y,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),s.jsxs("form",{onSubmit:X,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:R.type,onChange:ae=>M({...R,type:ae.target.value}),disabled:_,children:[s.jsx("option",{value:"CASUAL",children:" "}),s.jsx("option",{value:"ANNUAL",children:" "}),s.jsx("option",{value:"SICK",children:" "}),s.jsx("option",{value:"SCIENTIFIC",children:"  / "}),s.jsx("option",{value:"SPOUSE",children:" /"}),s.jsx("option",{value:"CHILD_CARE",children:" "}),s.jsx("option",{value:"HAJJ",children:" / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:R.startDate,onChange:ae=>M({...R,startDate:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:R.endDate,onChange:ae=>M({...R,endDate:ae.target.value})}),ne()>0&&s.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",ne()," "]})]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[s.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(kT,{className:"w-4 h-4"}),"   ( )"]}),s.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:R.substituteId,onChange:ae=>M({...R,substituteId:ae.target.value}),required:R.type!=="CHILD_CARE"&&R.type!=="SPOUSE",children:[s.jsx("option",{value:"",children:"--   --"}),f.length===0?s.jsx("option",{disabled:!0,children:"     (  )"}):f.map(ae=>s.jsxs("option",{value:ae.id,children:[ae.name," - ",ae.role]},ae.id))]}),f.length===0&&s.jsx("p",{className:"text-xs text-red-500 font-bold mt-1",children:':      .       " "   .'}),s.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"*        ."})]}),(R.type==="CASUAL"||R.type==="ANNUAL"||R.type==="HAJJ")&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.address,onChange:ae=>M({...R,address:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:R.phone,onChange:ae=>M({...R,phone:ae.target.value})})]})]}),R.type==="SICK"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:R.hospital,onChange:ae=>M({...R,hospital:ae.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:ae=>C(Array.from(ae.target.files||[]))}),s.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(TF,{className:"w-8 h-8 text-red-500"}),s.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),T.length>0&&s.jsx("span",{className:"text-xs text-green-600",children:T[0].name})]})]})]}),R.type==="SCIENTIFIC"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.conferenceName,onChange:ae=>M({...R,conferenceName:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.conferenceLocation,onChange:ae=>M({...R,conferenceLocation:ae.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:ae=>C(Array.from(ae.target.files||[]))}),s.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:T.length>0?T[0].name:"  "})]})]}),R.type==="SPOUSE"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(e_,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:R.spouseName,onChange:ae=>M({...R,spouseName:ae.target.value})}),s.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:R.foreignEntity,onChange:ae=>M({...R,foreignEntity:ae.target.value})}),s.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:R.country,onChange:ae=>M({...R,country:ae.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:ae=>C(Array.from(ae.target.files||[]))}),s.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[s.jsx(ar,{className:"w-6 h-6 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),T.length>0&&s.jsxs("span",{className:"text-xs text-green-600",children:[T.length,"   "]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",disabled:L,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[L?s.jsx(Ye,{className:"w-5 h-5 animate-spin"}):_?s.jsx(_n,{className:"w-5 h-5"}):s.jsx(qr,{className:"w-5 h-5"}),_?" ":" "]})]})]})]}),ve=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),l.length===0&&s.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),s.jsx("div",{className:"grid gap-4",children:l.map(ae=>s.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:ae.userName})]}),s.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",s.jsx("span",{className:"font-bold",children:G(ae.type)})]}),s.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[s.jsxs("span",{children:[": ",ae.startDate]}),s.jsxs("span",{children:[": ",ae.endDate]}),s.jsxs("span",{children:["(",ae.daysCount," )"]})]})]}),s.jsx("button",{onClick:()=>{$(ae),D(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},ae.id))}),V&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[s.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[s.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),s.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",V.userName]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',s.jsx("strong",{children:t.name}),"                 / ",s.jsx("strong",{children:V.userName}),'      ."']}),A?A==="ACCEPT"?s.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[s.jsx(qr,{className:"w-16 h-16 text-green-500 mx-auto"}),s.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),s.jsx("button",{onClick:()=>z(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),s.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:F,onChange:ae=>U(ae.target.value)}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>D(null),className:"px-4 text-gray-500",children:""}),s.jsx("button",{onClick:()=>z(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:()=>D("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),s.jsx("button",{onClick:()=>D("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("button",{onClick:()=>$(null),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),Ce=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r.map(ae=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:G(ae.type)}),s.jsx("td",{className:"p-4",children:ae.startDate}),s.jsx("td",{className:"p-4",children:ae.endDate}),s.jsx("td",{className:"p-4 text-gray-600",children:ae.substituteName||"-"}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ae.status==="APPROVED"?"bg-green-100 text-green-700":ae.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:ae.status==="APPROVED"?"":ae.status==="PENDING_SUBSTITUTE"?" ":ae.status==="PENDING_HEAD"?" ":""})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[(ae.status==="PENDING_SUBSTITUTE"||ae.status==="PENDING_HEAD")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>H(ae),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>pe(ae.id,ae.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),ae.status==="APPROVED"&&s.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(Vn,{className:"w-3 h-3"})," "]})]})]},ae.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]}),De=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   ()"}),s.jsx("div",{className:"grid gap-4",children:d.map(ae=>s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl p-4 flex flex-col md:flex-row justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg",children:ae.userName}),s.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:G(ae.type)})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[": ",ae.daysCount,"  (",ae.startDate," - ",ae.endDate,") ",s.jsx("br",{}),": ",ae.substituteName||" "]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ae.status==="APPROVED"?"bg-green-100 text-green-700":ae.status==="REJECTED"?"bg-red-100 text-red-700":ae.status==="PENDING_HEAD"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:ae.status==="PENDING_HEAD"?" ":ae.status==="PENDING_SUBSTITUTE"?" ":ae.status})})]}),ae.status==="PENDING_HEAD"&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>W(ae.id,"APPROVED"),className:"bg-green-600 text-white px-4 py-2 rounded font-bold hover:bg-green-700",children:""}),s.jsx("button",{onClick:()=>W(ae.id,"REJECTED"),className:"bg-red-600 text-white px-4 py-2 rounded font-bold hover:bg-red-700",children:""})]})]},ae.id))})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(c1,{className:"w-8 h-8 text-green-600"}),"  "]})}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:Y,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:""}),N&&s.jsx("button",{onClick:()=>n("ALL_REQUESTS"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="ALL_REQUESTS"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:"  ()"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&ge(),e==="NEW"&&Z(),e==="SUBSTITUTE"&&ve(),e==="HISTORY"&&Ce(),e==="ALL_REQUESTS"&&N&&De()]})]})},Bge=({user:t})=>{const[e,n]=w.useState("LOAN"),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[f,p]=w.useState(0),g=t.role===we.ADMIN,[v,N]=w.useState("MY_REQUESTS"),[_,j]=w.useState(!1),[E,I]=w.useState(null),[R,M]=w.useState({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),[T,C]=w.useState({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),[L,P]=w.useState({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"}),[V,$]=w.useState([]);w.useEffect(()=>{A()},[v]);const A=async()=>{c(!0);try{g&&v==="ALL_REQUESTS"?a(await sge()):(a(await ige(t.id)),(!g||v==="MY_REQUESTS")&&p(await oge(t.id)))}catch(H){console.error("Error fetching data:",H)}c(!1)},D=H=>{$([]),H?(I(H.id),H.type==="LOAN"?(M({...H}),n("LOAN")):H.type==="SECONDMENT"?(C({...H}),n("SECONDMENT")):(P({...H}),n("TRANSFER"))):(I(null),M({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),C({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),P({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"})),j(!0)},F=async(H,pe)=>{if(window.confirm("      "))try{await Wt(ze(me,"career_requests",H)),await Se("  /",t.name,`   ${pe}`),A()}catch{alert(" ")}},U=async(H,pe,X)=>{try{await lge(H,pe),await Se("  ",t.name,`    ${X}  ${pe}`),A()}catch{alert("  ")}},ue=async H=>{try{return await ui(H)}catch(pe){return alert("  : "+pe.message),null}},ne=async H=>{H.preventDefault(),h(!0);try{if(e==="LOAN"){if(f>=10&&!E){alert("      (10 )."),h(!1);return}let pe;if(V.length>0){const z=await ue(V[0]);z&&(pe=z)}const X={userId:t.id,userName:t.name,type:"LOAN",...R,...pe&&{nominationLetterUrl:pe},status:E?void 0:"PENDING_DEPT"};if(E){const z={...X};delete z.status,pe||delete z.nominationLetterUrl,await Tt(ze(me,"career_requests",E),z),await Se("  ",t.name,`    ${R.country}`)}else await s1(X),await Se(" ",t.name,`    ${R.country}`)}else if(e==="SECONDMENT"){const pe={userId:t.id,userName:t.name,type:"SECONDMENT",...T,status:E?void 0:"PENDING_DEPT"};if(E){const X={...pe};delete X.status,await Tt(ze(me,"career_requests",E),X),await Se("  ",t.name,`    ${T.targetInstitution}`)}else await s1(pe),await Se(" ",t.name,`   ${T.targetInstitution}`)}else if(e==="TRANSFER"){const pe={userId:t.id,userName:t.name,type:"TRANSFER",...L,status:E?void 0:"PENDING_DEPT"};if(E){const X={...pe};delete X.status,await Tt(ze(me,"career_requests",E),X),await Se("  ",t.name,`    ${L.targetUniversity}`)}else await s1(pe),await Se(" ",t.name,`   ${L.targetUniversity}`)}j(!1),alert(E?"   ":"    "),A()}catch(pe){console.error(pe),alert("   ")}finally{h(!1)}},G=({status:H})=>{const X={PENDING_DEPT:{label:" ",color:"bg-yellow-100 text-yellow-800"},PENDING_COLLEGE:{label:" ",color:"bg-orange-100 text-orange-800"},PENDING_UNIV:{label:" ",color:"bg-blue-100 text-blue-800"},APPROVED:{label:" ",color:"bg-green-100 text-green-800"},REJECTED:{label:"",color:"bg-red-100 text-red-800"}}[H]||{label:H,color:"bg-gray-100"};return s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${X.color}`,children:X.label})},Y=({status:H})=>{const pe=["PENDING_DEPT","PENDING_COLLEGE","PENDING_UNIV","APPROVED"],X=pe.indexOf(H),z=H==="REJECTED";return s.jsx("div",{className:"flex items-center gap-1 mt-2 text-[10px]",children:pe.map((W,ge)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border 
                            ${ge<=X?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-300"}
                            ${z&&ge===X+1?"bg-red-500 border-red-500":""}
                        `,children:ge+1}),ge<pe.length-1&&s.jsx("div",{className:`w-4 h-0.5 ${ge<X?"bg-green-600":"bg-gray-200"}`})]},W))})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(e_,{className:"w-8 h-8 text-blue-600"}),"  "]}),s.jsxs("div",{className:"flex gap-2",children:[g&&s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>N("MY_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${v==="MY_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""}),s.jsx("button",{onClick:()=>N("ALL_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${v==="ALL_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""})]}),(!g||v==="MY_REQUESTS")&&s.jsxs("button",{onClick:()=>D(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold",children:[s.jsx(Rt,{className:"w-4 h-4"}),"  "]})]})]}),!g&&s.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${f>=10?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ki,{className:`w-6 h-6 ${f>=10?"text-red-600":"text-blue-600"}`}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold ${f>=10?"text-red-800":"text-blue-800"}`,children:"  "}),s.jsx("p",{className:"text-xs text-gray-600",children:"      10    ."})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:`text-2xl font-bold ${f>=10?"text-red-600":"text-blue-600"}`,children:f}),s.jsx("span",{className:"text-gray-500 text-xs",children:" / 10 "})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[s.jsxs("button",{onClick:()=>n("LOAN"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="LOAN"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(dP,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>n("SECONDMENT"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="SECONDMENT"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Ms,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>n("TRANSFER"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="TRANSFER"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(B9,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:l?s.jsx("div",{className:"text-center py-10",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsx("div",{children:r.filter(H=>H.type===e).length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed rounded-xl",children:[s.jsx(Ms,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),s.jsx("p",{children:"      "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:" "}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:" / "}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:r.filter(H=>H.type===e).map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 font-bold text-gray-800",children:H.userName}),s.jsx("td",{className:"p-3 text-xs",children:H.type==="LOAN"?H.loanType==="EXTERNAL"?"":"":H.type==="SECONDMENT"?H.secondmentType:H.transferType}),s.jsx("td",{className:"p-3 text-gray-600",children:H.type==="LOAN"?H.institution:H.type==="SECONDMENT"?H.targetInstitution:H.targetUniversity}),s.jsx("td",{className:"p-3 font-mono text-xs",children:H.type!=="TRANSFER"?s.jsxs(s.Fragment,{children:[H.startDate," ",s.jsx("br",{}),s.jsx("span",{className:"text-gray-400",children:""})," ",H.endDate]}):"-"}),s.jsx("td",{className:"p-3",children:s.jsx(G,{status:H.status})}),s.jsx("td",{className:"p-3",children:s.jsx(Y,{status:H.status})}),s.jsxs("td",{className:"p-3 flex items-center gap-2",children:[g&&v==="ALL_REQUESTS"&&s.jsxs("select",{className:"text-xs border rounded p-1",value:H.status,onChange:pe=>U(H.id,pe.target.value,H.type),children:[s.jsx("option",{value:"PENDING_DEPT",children:" "}),s.jsx("option",{value:"PENDING_COLLEGE",children:" "}),s.jsx("option",{value:"PENDING_UNIV",children:" "}),s.jsx("option",{value:"APPROVED",children:""}),s.jsx("option",{value:"REJECTED",children:""})]}),(g||H.userId===t.id)&&H.status.startsWith("PENDING")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>D(H),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>F(H.id,H.type),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]},H.id))})]})})})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:E?" ":`  ${e==="LOAN"?"":e==="SECONDMENT"?"":""} `}),s.jsx("button",{onClick:()=>j(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"p-6",children:[e==="LOAN"&&s.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:R.loanType,onChange:H=>M({...R,loanType:H.target.value}),children:[s.jsx("option",{value:"EXTERNAL",children:" "}),s.jsx("option",{value:"INTERNAL",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:R.requestType,onChange:H=>M({...R,requestType:H.target.value}),children:[s.jsx("option",{value:"NEW",children:" "}),s.jsx("option",{value:"RENEWAL",children:" "})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.country,onChange:H=>M({...R,country:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.institution,onChange:H=>M({...R,institution:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.college,onChange:H=>M({...R,college:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.startDate,onChange:H=>M({...R,startDate:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.endDate,onChange:H=>M({...R,endDate:H.target.value})})]}),s.jsxs("div",{className:"col-span-2 border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"loan-file",onChange:H=>$(Array.from(H.target.files||[]))}),s.jsxs("label",{htmlFor:"loan-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(ar,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"text-sm font-bold text-gray-600",children:R.requestType==="NEW"?"  ":"   "}),V.length>0&&s.jsx("span",{className:"text-xs text-green-600",children:V[0].name})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="SECONDMENT"&&s.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:T.secondmentType,onChange:H=>C({...T,secondmentType:H.target.value}),children:[s.jsx("option",{value:"FULL_TIME",children:"  ( )"}),s.jsx("option",{value:"PART_TIME",children:"  ( )"}),s.jsx("option",{value:"OFF_HOURS",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:T.targetInstitution,onChange:H=>C({...T,targetInstitution:H.target.value})})]}),T.secondmentType==="PART_TIME"&&s.jsxs("div",{className:"col-span-2 bg-blue-50 p-3 rounded border border-blue-100",children:[s.jsx("label",{className:"block text-sm font-bold mb-2 text-blue-800",children:"  "}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:["","","","","",""].map(H=>{var pe;return s.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-2 py-1 rounded border",children:[s.jsx("input",{type:"checkbox",checked:(pe=T.secondmentDays)==null?void 0:pe.includes(H),onChange:X=>{const z=T.secondmentDays||[];C({...T,secondmentDays:X.target.checked?[...z,H]:z.filter(W=>W!==H)})}})," ",H]},H)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.startDate,onChange:H=>C({...T,startDate:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.endDate,onChange:H=>C({...T,endDate:H.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="TRANSFER"&&s.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded text-red-700 text-sm border border-red-200 flex items-center gap-2 mb-4",children:[s.jsx(Gr,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{children:":            ."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetUniversity,onChange:H=>P({...L,targetUniversity:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetCollege,onChange:H=>P({...L,targetCollege:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:L.transferType,onChange:H=>P({...L,transferType:H.target.value}),children:[s.jsx("option",{value:"VACANT_DEGREE",children:"    "}),s.jsx("option",{value:"WITH_DEGREE",children:"   ( )"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 flex items-center gap-2",children:[d&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})]})})]})},qge=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState([]),[l,c]=w.useState({totalItems:0,theses:0,papers:0,books:0}),[d,h]=w.useState(!0),[f,p]=w.useState(""),[g,v]=w.useState("ALL"),[N,_]=w.useState(!1),[j,E]=w.useState(null),[I,R]=w.useState("JOURNAL_PAPER"),M={titleAr:"",titleEn:"",abstract:"",authorNames:"",journalName:"",conferenceName:"",doi:"",publicationYear:new Date().getFullYear().toString(),supervisors:"",shelfLocation:""},[T,C]=w.useState(M),[L,P]=w.useState(null),[V,$]=w.useState(null),[A,D]=w.useState(!1),[F,U]=w.useState(null),[ue,ne]=w.useState("RESEARCH"),[G,Y]=w.useState(""),[H,pe]=w.useState([]),X=t.role===we.ADMIN||t.role===we.STAFF||t.role===we.DATA_ENTRY;w.useEffect(()=>{z()},[]);const z=async()=>{h(!0);try{const[J,he]=await Promise.all([cge(),mge()]);if(a(J),c(he),t.role===we.STAFF||t.role===we.ADMIN){const Ve=await hge(t.id);pe(Ve)}}catch(J){console.error("Error fetching repository data:",J)}h(!1)},W=J=>{let he="";J.type.includes("PAPER")?he=`${J.authorNames||""} (${J.publicationYear}). "${J.titleAr}". ${J.journalName||J.conferenceName||""}, ${J.volume||""}(${J.issue||""}), ${J.pages||""}. ${J.doi?`DOI: ${J.doi}`:""}`:J.type.includes("THESIS")?he=`${J.authorNames||""} (${J.publicationYear}). ${J.titleAr}. [${J.type==="THESIS_MASTER"?"Master Thesis":"PhD Thesis"}]. Al-Azhar University.`:he=`${J.authorNames||J.publisher||""} (${J.publicationYear}). ${J.titleAr}. ${J.publisher||""}.`,navigator.clipboard.writeText(he),alert("   ")},ge=async J=>{try{return await ui(J)}catch(he){return alert("  : "+he.message),null}},Z=J=>{_(!0),E(J.id),R(J.type),C({titleAr:J.titleAr||"",titleEn:J.titleEn||"",abstract:J.abstract||"",authorNames:J.authorNames||"",journalName:J.journalName||"",conferenceName:J.conferenceName||"",doi:J.doi||"",publicationYear:J.publicationYear||"",supervisors:J.supervisors||"",shelfLocation:J.shelfLocation||""}),n("ADD")},ve=async(J,he)=>{if(window.confirm("        "))try{await Wt(ze(me,"repository_items",J)),await Se("  ",t.name,`  : ${he}`),z()}catch{alert(" ")}},Ce=async J=>{J.preventDefault(),D(!0);try{let he,Ve;L&&(he=await ge(L)),V&&(Ve=await ge(V));const Ge={...T,type:I,...he&&{fileUrl:he},...Ve&&{privateFileUrl:Ve},addedBy:t.id,authorIds:N?void 0:[t.id],publicationYear:T.publicationYear||new Date().getFullYear().toString()};N&&j?(await Tt(ze(me,"repository_items",j),Ge),await Se("  ",t.name,`  ${I}: ${T.titleAr}`),alert("  ")):(await uge(Ge),await Se(" ",t.name,`  ${I}: ${T.titleAr}`),alert("  ")),_(!1),E(null),C(M),P(null),$(null),n("BROWSE"),z()}catch(he){console.error(he),alert("   ")}finally{D(!1)}},De=async()=>{if(F)try{await dge({itemId:F.id,itemTitle:F.titleAr,itemAuthorId:F.addedBy,requesterName:t.name,requesterEmail:"user@example.com",reason:ue,message:G}),await Se("  ",t.name,`   : ${F.titleAr}`),alert("   "),U(null)}catch{alert("  ")}},ae=async(J,he,Ve)=>{await fge(J,Ve),await Se("   ",t.name,` ${Ve==="APPROVED"?" ":""}   : ${he}`),alert(` ${Ve==="APPROVED"?"  ":" "}`),z()},le=()=>{n("ADD"),C(M),E(null),_(!1)},ke=J=>{const he=J.type.includes("PAPER"),Ve=J.type.includes("THESIS"),Ge=J.addedBy===t.id||t.role===we.ADMIN;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow flex flex-col gap-3 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${he?"bg-blue-100 text-blue-700":Ve?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:he?J.type==="JOURNAL_PAPER"?" ":"":Ve?J.type==="THESIS_MASTER"?"":"":""}),s.jsx("span",{className:"text-gray-500 text-xs",children:J.publicationYear})]}),s.jsxs("div",{className:"flex gap-2",children:[J.doi&&s.jsx("a",{href:J.doi,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",title:"DOI",children:s.jsx(Fh,{className:"w-4 h-4"})}),Ge&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>Z(J),className:"text-blue-400 hover:text-blue-600 p-1",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ve(J.id,J.titleAr),className:"text-red-400 hover:text-red-600 p-1",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-snug mb-1",children:J.titleAr}),J.titleEn&&s.jsx("h4",{className:"text-sm text-gray-500 font-medium ltr text-right",dir:"ltr",children:J.titleEn})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[he&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.authorNames]}),he&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.journalName||J.conferenceName,", ",J.volume,"(",J.issue,")"]}),Ve&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.authorNames]}),Ve&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.supervisors]})]}),J.abstract&&s.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 bg-gray-50 p-2 rounded",children:J.abstract}),s.jsxs("div",{className:"mt-auto pt-4 border-t flex items-center justify-between gap-2",children:[s.jsx("div",{className:"flex gap-2",children:J.fileUrl?s.jsxs("a",{href:J.fileUrl,target:"_blank",rel:"noreferrer",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  PDF"]}):s.jsxs("button",{onClick:()=>U(J),className:"bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-amber-100",children:[s.jsx(ob,{className:"w-4 h-4"}),"   "]})}),s.jsx("button",{onClick:()=>W(J),className:"text-gray-400 hover:text-gray-600",title:" ",children:s.jsx(yz,{className:"w-5 h-5"})})]})]},J.id)};return s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-screen",children:[s.jsxs("aside",{className:"w-full lg:w-64 shrink-0 space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(fP,{className:"w-5 h-5 text-green-600"})," "]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold",children:l.totalItems})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-purple-600",children:l.theses})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-blue-600",children:l.papers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-amber-600",children:l.books})]})]})]}),H.length>0&&s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 animate-pulse",children:[s.jsxs("h4",{className:"font-bold text-amber-800 text-sm mb-2 flex items-center gap-2",children:[s.jsx(JN,{className:"w-4 h-4"}),"   (",H.length,")"]}),s.jsx("div",{className:"space-y-2",children:H.map(J=>s.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[s.jsx("p",{className:"font-bold mb-1",children:J.requesterName}),s.jsxs("p",{className:"text-gray-500 mb-2 truncate",children:[": ",J.itemTitle]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>ae(J.id,J.itemTitle,"APPROVED"),className:"flex-1 bg-green-600 text-white py-1 rounded",children:""}),s.jsx("button",{onClick:()=>ae(J.id,J.itemTitle,"REJECTED"),className:"flex-1 bg-gray-200 text-gray-700 py-1 rounded",children:""})]})]},J.id))})]})]}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),X&&s.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>{n("BROWSE"),_(!1)},className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="BROWSE"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:le,className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="ADD"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "})]})]}),e==="BROWSE"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:f,onChange:J=>p(J.target.value)})]}),s.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50 min-w-[150px]",value:g,onChange:J=>v(J.target.value),children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"PAPER",children:" "}),s.jsx("option",{value:"THESIS",children:" "}),s.jsx("option",{value:"BOOK",children:""})]})]}),d?s.jsx("div",{className:"text-center py-12",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(J=>g==="ALL"||J.type.includes(g)).filter(J=>{var he;return J.titleAr.includes(f)||J.titleEn&&J.titleEn.toLowerCase().includes(f.toLowerCase())||((he=J.authorNames)==null?void 0:he.includes(f))}).map(ke),r.length===0&&s.jsx("p",{className:"text-center text-gray-400 col-span-2 py-12",children:"  "})]})]}),e==="ADD"&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:N?" ":"   "}),N&&s.jsx("button",{onClick:()=>{_(!1),n("BROWSE")},className:"text-sm text-gray-500 hover:text-red-500",children:""})]}),s.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:[s.jsx("button",{onClick:()=>R("JOURNAL_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I==="JOURNAL_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("CONF_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I==="CONF_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("THESIS_MASTER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I.includes("THESIS")?"bg-purple-50 border-purple-500 text-purple-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("BOOK"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I==="BOOK"?"bg-amber-50 border-amber-500 text-amber-700":"hover:bg-gray-50"}`,children:""})]}),s.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" () *"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:T.titleAr||"",onChange:J=>C({...T,titleAr:J.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg text-left",dir:"ltr",value:T.titleEn||"",onChange:J=>C({...T,titleEn:J.target.value})})]}),I.includes("PAPER")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Authors)"}),s.jsx("input",{type:"text",placeholder:"Ahmed M., Sara H., ...",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:J=>C({...T,authorNames:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:I==="JOURNAL_PAPER"?" ":" "}),I==="JOURNAL_PAPER"?s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.journalName||"",onChange:J=>C({...T,journalName:J.target.value})}):s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.conferenceName||"",onChange:J=>C({...T,conferenceName:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" DOI"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.doi||"",onChange:J=>C({...T,doi:J.target.value})})]})]}),I.includes("THESIS")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:J=>C({...T,authorNames:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.supervisors||"",onChange:J=>C({...T,supervisors:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded-lg",value:T.publicationYear||"",onChange:J=>C({...T,publicationYear:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded-lg",value:T.shelfLocation||"",onChange:J=>C({...T,shelfLocation:J.target.value})})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Abstract)"}),s.jsx("textarea",{rows:4,className:"w-full border p-2 rounded-lg",value:T.abstract||"",onChange:J=>C({...T,abstract:J.target.value})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 col-span-2",children:[s.jsx("h4",{className:"font-bold text-sm mb-2",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"   (Public PDF)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ar,{className:"w-4 h-4 text-gray-400"}),s.jsx("input",{type:"file",className:"text-sm",onChange:J=>P(J.target.files?J.target.files[0]:null)})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"   (:  )"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ( )"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ob,{className:"w-4 h-4 text-amber-400"}),s.jsx("input",{type:"file",className:"text-sm",onChange:J=>$(J.target.files?J.target.files[0]:null)})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"      "})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>n("BROWSE"),className:"px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:A,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[A?s.jsx(Ye,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," ",N?" ":" "]})]})]})]})]}),F&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95",children:[s.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[s.jsx(ob,{className:"w-5 h-5 text-amber-600"}),"   "]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"    .      ."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:ue,onChange:J=>ne(J.target.value),children:[s.jsx("option",{value:"RESEARCH",children:" "}),s.jsx("option",{value:"CITATION",children:"   "}),s.jsx("option",{value:"OTHER",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,value:G,onChange:J=>Y(J.target.value),placeholder:" ..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{onClick:()=>U(null),className:"px-4 py-2 text-gray-500",children:""}),s.jsx("button",{onClick:De,className:"bg-amber-600 text-white px-4 py-2 rounded font-bold hover:bg-amber-700",children:" "})]})]})]})})]})},Hge=({user:t})=>{const[e,n]=w.useState("UNDERGRAD"),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState([]),[f,p]=w.useState("Level 1"),[g,v]=w.useState("First"),[N,_]=w.useState("General"),[j,E]=w.useState(""),[I,R]=w.useState(!1),[M,T]=w.useState(null),[C,L]=w.useState({}),[P,V]=w.useState(!1),$=t.role===we.ADMIN||t.role===we.STAFF;w.useEffect(()=>{(async()=>{c(!0),await wge();const[H,pe]=await Promise.all([LR(),Qf()]);a(H),h(pe.map(X=>X.name)),c(!1)})()},[]);const A=async(Y,H)=>{if(window.confirm("      "))try{await bge(Y),await Se(" ",t.name,`  : ${H}`),a(pe=>pe.filter(X=>X.id!==Y))}catch{alert(" ")}},D=Y=>{Y?(T(Y.id),L(Y)):(T(null),L({level:"Level 1",semester:"First",division:"General",type:"Compulsory",creditHours:3,lectureHours:2,labHours:1})),R(!0)},F=async Y=>{Y.preventDefault(),V(!0);try{if(M)await vge(M,C),await Se(" ",t.name,`  : ${C.nameAr}`),a(H=>H.map(pe=>pe.id===M?{...pe,...C}:pe)),alert("  ");else{await xge(C),await Se(" ",t.name,`   : ${C.nameAr}`);const H=await LR();a(H),alert("  ")}R(!1)}catch{alert("   ")}finally{V(!1)}},U=async(Y,H)=>{try{const pe=await ui(H);L(X=>({...X,[Y]:pe})),alert("   ")}catch(pe){alert(" : "+pe.message)}},ue=()=>{const Y=r.filter(H=>["Level 1","Level 2","Level 3","Level 4"].includes(H.level)&&H.level===f&&H.semester===g&&(f==="Level 3"||f==="Level 4"?H.division===N:!0)&&(H.nameAr.includes(j)||H.code.includes(j)));return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-wrap gap-4 items-end sticky top-0 z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:f,onChange:H=>p(H.target.value),children:[s.jsx("option",{value:"Level 1",children:" "}),s.jsx("option",{value:"Level 2",children:" "}),s.jsx("option",{value:"Level 3",children:" "}),s.jsx("option",{value:"Level 4",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:g,onChange:H=>v(H.target.value),children:[s.jsx("option",{value:"First",children:""}),s.jsx("option",{value:"Second",children:""})]})]}),(f==="Level 3"||f==="Level 4")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:N,onChange:H=>_(H.target.value),children:[s.jsx("option",{value:"General",children:" "}),s.jsx("option",{value:"Plant Pathology",children:"  "}),s.jsx("option",{value:"Genetics",children:" "}),s.jsx("option",{value:"Physiology",children:" "})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"w-4 h-4 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full border p-2 pr-9 rounded focus:outline-none focus:border-green-500",placeholder:"   ...",value:j,onChange:H=>E(H.target.value)})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" (+)"}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" (Specs)"}),s.jsx("th",{className:"p-4",children:" "}),$&&s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[Y.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-mono font-bold text-blue-600",children:H.code}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-bold",children:H.nameAr}),s.jsx("div",{className:"text-xs text-gray-500",dir:"ltr",children:H.nameEn})]}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-bold",children:[H.creditHours," (",H.lectureHours,"+",H.labHours,")"]})}),s.jsx("td",{className:"p-4 text-gray-600",children:H.prerequisiteName?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-amber-50 text-amber-700 px-2 py-1 rounded border border-amber-200 cursor-help",title:"  ()",children:[s.jsx(H9,{className:"w-3 h-3"})," ",H.prerequisiteName]}):"-"}),s.jsx("td",{className:"p-4",children:H.specsUrl?s.jsxs("a",{href:H.specsUrl,target:"_blank",className:"text-green-600 hover:underline flex items-center gap-1 text-xs font-bold",children:[s.jsx(Vn,{className:"w-3 h-3"}),"  PDF"]}):s.jsx("span",{className:"text-gray-300 text-xs",children:" "})}),s.jsx("td",{className:"p-4",children:H.materialsUrl?s.jsxs("a",{href:H.materialsUrl,target:"_blank",className:"text-blue-600 hover:underline flex items-center gap-1 text-xs font-bold",children:[s.jsx(Kl,{className:"w-3 h-3"}),"  "]}):s.jsx("span",{className:"text-gray-300 text-xs",children:" "})}),$&&s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>D(H),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(H.id,H.nameAr),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},H.id)),Y.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})},ne=()=>{const Y=r.filter(H=>["Diploma","MSc","PhD"].includes(H.level)&&(H.nameAr.includes(j)||H.code.includes(j)));return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsx("div",{className:"flex gap-4 mb-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",className:"w-full border p-2 pr-10 rounded-lg focus:outline-none focus:border-green-500",placeholder:"    ...",value:j,onChange:H=>E(H.target.value)})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(H=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all relative group",children:[$&&s.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>D(H),className:"p-1.5 bg-blue-50 text-blue-600 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(H.id,H.nameAr),className:"p-1.5 bg-red-50 text-red-600 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${H.level==="MSc"?"bg-purple-100 text-purple-700":H.level==="PhD"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:H.level==="MSc"?"":H.level==="PhD"?"":""}),s.jsx("span",{className:"font-mono text-gray-400 font-bold",children:H.code})]}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:H.nameAr}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:H.nameEn}),s.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded mb-4 line-clamp-3",children:H.description||"   ."}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",H.creditHours," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",H.coordinator||" "]})]}),s.jsxs("div",{className:"flex gap-2 mt-auto pt-4 border-t",children:[H.materialsUrl?s.jsxs("a",{href:H.materialsUrl,target:"_blank",className:"flex-1 text-center bg-green-600 text-white py-2 rounded-lg text-sm hover:bg-green-700 flex items-center justify-center gap-1",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  "]}):s.jsx("button",{disabled:!0,className:"flex-1 bg-gray-100 text-gray-400 py-2 rounded-lg text-sm cursor-not-allowed",children:"  "}),H.specsUrl&&s.jsx("a",{href:H.specsUrl,target:"_blank",className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:" ",children:s.jsx(Vn,{className:"w-4 h-4 text-gray-600"})})]})]},H.id))})]})},G=()=>s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 text-center animate-in fade-in",children:[s.jsx(Ko,{className:"w-16 h-16 text-green-200 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"  (Course Map)"}),s.jsx("p",{className:"text-gray-500 mb-8",children:"      ."}),s.jsxs("div",{className:"inline-flex flex-col items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 text-green-800 rounded-lg font-bold border-2 border-green-200",children:"  (BOT101)"}),s.jsx("div",{className:"h-8 w-0.5 bg-gray-300"}),s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:" (BOT201)"}),s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:"  (BOT305)"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:" (BOT202)"}),s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:"  (BOT308)"})]})]})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-8",children:"*   "})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Vi,{className:"w-8 h-8 text-green-600"}),"   "]}),$&&s.jsxs("button",{onClick:()=>D(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsxs("button",{onClick:()=>n("UNDERGRAD"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="UNDERGRAD"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ds,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("POSTGRAD"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="POSTGRAD"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(cF,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("MAP"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="MAP"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ko,{className:"w-4 h-4"}),"  "]})]}),s.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:l?s.jsx("div",{className:"text-center py-12",children:s.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs(s.Fragment,{children:[e==="UNDERGRAD"&&ue(),e==="POSTGRAD"&&ne(),e==="MAP"&&G()]})}),I&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:M?"  ":"  "}),s.jsx("button",{onClick:()=>R(!1),children:s.jsx(vt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:C.nameAr||"",onChange:Y=>L({...C,nameAr:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded text-left",dir:"ltr",value:C.nameEn||"",onChange:Y=>L({...C,nameEn:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded uppercase font-mono",value:C.code||"",onChange:Y=>L({...C,code:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" / "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.level,onChange:Y=>L({...C,level:Y.target.value}),children:[s.jsx("option",{value:"Level 1",children:" "}),s.jsx("option",{value:"Level 2",children:" "}),s.jsx("option",{value:"Level 3",children:" "}),s.jsx("option",{value:"Level 4",children:" "}),s.jsx("option",{value:"Diploma",children:""}),s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),["Level 1","Level 2","Level 3","Level 4"].includes(C.level||"")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.semester,onChange:Y=>L({...C,semester:Y.target.value}),children:[s.jsx("option",{value:"First",children:""}),s.jsx("option",{value:"Second",children:""}),s.jsx("option",{value:"Summer",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" ()"}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.division,onChange:Y=>L({...C,division:Y.target.value}),children:[s.jsx("option",{value:"General",children:" / "}),s.jsx("option",{value:"Plant Pathology",children:" "}),s.jsx("option",{value:"Genetics",children:""}),s.jsx("option",{value:"Physiology",children:""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 col-span-2 bg-gray-50 p-3 rounded border",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.creditHours,onChange:Y=>L({...C,creditHours:parseInt(Y.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.lectureHours,onChange:Y=>L({...C,lectureHours:parseInt(Y.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.labHours,onChange:Y=>L({...C,labHours:parseInt(Y.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.coordinator||"",onChange:Y=>L({...C,coordinator:Y.target.value}),children:[s.jsx("option",{value:"",children:"--  --"}),d.map(Y=>s.jsx("option",{value:Y,children:Y},Y))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:": BOT101",value:C.prerequisiteName||"",onChange:Y=>L({...C,prerequisiteName:Y.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" /  "}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:2,value:C.description||"",onChange:Y=>L({...C,description:Y.target.value})})]})]}),s.jsxs("div",{className:"space-y-2 bg-blue-50 p-4 rounded border border-blue-100",children:[s.jsx("h4",{className:"font-bold text-blue-800 text-sm mb-2",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (Specs)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-specs",className:"hidden",onChange:Y=>Y.target.files&&U("specsUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-specs",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(ar,{className:"w-3 h-3"}),"  PDF"]}),C.specsUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (ILOs)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-ilos",className:"hidden",onChange:Y=>Y.target.files&&U("ilosUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-ilos",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(ar,{className:"w-3 h-3"}),"  PDF"]}),C.ilosUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (Materials)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-mat",className:"hidden",onChange:Y=>Y.target.files&&U("materialsUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-mat",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(ar,{className:"w-3 h-3"}),"  "]}),C.materialsUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-6 py-2 text-gray-600",children:""}),s.jsxs("button",{type:"submit",disabled:P,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[P&&s.jsx(Ye,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})})]})},Gge=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(!1),[h,f]=w.useState("");w.useEffect(()=>{(async()=>{try{await _ge()}catch(v){console.error("Failed to seed initial data:",v)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),f("");try{const v=await Ume(n,a);v?e(v):f("      ")}catch(v){console.error(v),f("     (  )")}finally{d(!1)}};return t?s.jsx(_9,{children:s.jsx(FF,{user:t,onLogout:()=>{e(null),r(""),l("")},children:s.jsxs(e9,{children:[s.jsx(Gt,{path:"/",element:t.role===we.STUDENT_UG||t.role===we.STUDENT_PG?s.jsx(VR,{user:t}):t.role===we.ALUMNI?s.jsx(zR,{user:t}):s.jsx(jge,{})}),s.jsx(Gt,{path:"/staff",element:s.jsx(Ige,{user:t})}),s.jsx(Gt,{path:"/outgoing",element:s.jsx(Ege,{user:t})}),s.jsx(Gt,{path:"/incoming",element:s.jsx(Sge,{user:t})}),s.jsx(Gt,{path:"/councils",element:s.jsx(Age,{user:t})}),s.jsx(Gt,{path:"/committees",element:s.jsx(Tge,{user:t})}),s.jsx(Gt,{path:"/search",element:s.jsx(Cge,{user:t})}),s.jsx(Gt,{path:"/students",element:s.jsx(VR,{user:t})}),s.jsx(Gt,{path:"/alumni",element:s.jsx(zR,{user:t})}),s.jsx(Gt,{path:"/users",element:s.jsx(Oge,{user:t})}),s.jsx(Gt,{path:"/pg-manager",element:s.jsx(Dge,{})}),s.jsx(Gt,{path:"/inventory",element:s.jsx(Rge,{user:t})}),s.jsx(Gt,{path:"/labs",element:s.jsx(Pge,{user:t})}),s.jsx(Gt,{path:"/greenhouse",element:s.jsx(kge,{user:t})}),s.jsx(Gt,{path:"/events",element:s.jsx(Mge,{user:t})}),s.jsx(Gt,{path:"/formation",element:s.jsx(Vge,{user:t})}),s.jsx(Gt,{path:"/annual-report",element:s.jsx(zge,{user:t})}),s.jsx(Gt,{path:"/research-plan",element:s.jsx(Fge,{user:t})}),s.jsx(Gt,{path:"/leaves",element:s.jsx($ge,{user:t})}),s.jsx(Gt,{path:"/career-movements",element:s.jsx(Bge,{user:t})}),s.jsx(Gt,{path:"/repository",element:s.jsx(qge,{user:t})}),s.jsx(Gt,{path:"/forms",element:s.jsx(Uge,{user:t})}),s.jsx(Gt,{path:"/courses",element:s.jsx(Hge,{user:t})})," ",s.jsx(Gt,{path:"/activity-log",element:s.jsx(Lge,{})}),s.jsx(Gt,{path:"*",element:s.jsx(J7,{to:"/"})})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[s.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[s.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:s.jsx(_u,{className:"w-16 h-16 text-green-700"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),s.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),s.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),s.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(d1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"password",required:!0,value:a,onChange:g=>l(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),h&&s.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:h}),s.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?s.jsx(Ye,{className:"w-5 h-5 animate-spin"}):s.jsx(F9,{className:"w-5 h-5"}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},x8=document.getElementById("root");if(!x8)throw new Error("Could not find root element to mount to");const Kge=o7.createRoot(x8);Kge.render(s.jsx(FR.StrictMode,{children:s.jsx(Gge,{})}));
