var V8=Object.defineProperty;var z8=(t,e,n)=>e in t?V8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xx=(t,e,n)=>z8(t,typeof e!="symbol"?e+"":e,n);function B8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qx={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function F8(){if(c2)return gf;c2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:s}}return gf.Fragment=e,gf.jsx=n,gf.jsxs=n,gf}var u2;function $8(){return u2||(u2=1,Qx.exports=F8()),Qx.exports}var l=$8(),Zx={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function q8(){if(d2)return Xe;d2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function A(q,K,H){this.props=q,this.context=K,this.refs=j,this.updater=H||E}A.prototype.isReactComponent={},A.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},A.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function U(){}U.prototype=A.prototype;function T(q,K,H){this.props=q,this.context=K,this.refs=j,this.updater=H||E}var M=T.prototype=new U;M.constructor=T,N(M,A.prototype),M.isPureReactComponent=!0;var P=Array.isArray;function L(){}var k={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function D(q,K,H){var Q=H.ref;return{$$typeof:t,type:q,key:K,ref:Q!==void 0?Q:null,props:H}}function I(q,K){return D(q.type,K,q.props)}function R(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(H){return K[H]})}var B=/\/+/g;function pe(q,K){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):K.toString(36)}function le(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(L,L):(q.status="pending",q.then(function(K){q.status==="pending"&&(q.status="fulfilled",q.value=K)},function(K){q.status==="pending"&&(q.status="rejected",q.reason=K)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Y(q,K,H,Q,ue){var _e=typeof q;(_e==="undefined"||_e==="boolean")&&(q=null);var Ae=!1;if(q===null)Ae=!0;else switch(_e){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(q.$$typeof){case t:case e:Ae=!0;break;case p:return Ae=q._init,Y(Ae(q._payload),K,H,Q,ue)}}if(Ae)return ue=ue(q),Ae=Q===""?"."+pe(q,0):Q,P(ue)?(H="",Ae!=null&&(H=Ae.replace(B,"$&/")+"/"),Y(ue,K,H,"",function(Ve){return Ve})):ue!=null&&(R(ue)&&(ue=I(ue,H+(ue.key==null||q&&q.key===ue.key?"":(""+ue.key).replace(B,"$&/")+"/")+Ae)),K.push(ue)),1;Ae=0;var He=Q===""?".":Q+":";if(P(q))for(var ce=0;ce<q.length;ce++)Q=q[ce],_e=He+pe(Q,ce),Ae+=Y(Q,K,H,_e,ue);else if(ce=w(q),typeof ce=="function")for(q=ce.call(q),ce=0;!(Q=q.next()).done;)Q=Q.value,_e=He+pe(Q,ce++),Ae+=Y(Q,K,H,_e,ue);else if(_e==="object"){if(typeof q.then=="function")return Y(le(q),K,H,Q,ue);throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ie(q,K,H){if(q==null)return q;var Q=[],ue=0;return Y(q,Q,"","",function(_e){return K.call(H,_e,ue++)}),Q}function xe(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(H){(q._status===0||q._status===-1)&&(q._status=1,q._result=H)},function(H){(q._status===0||q._status===-1)&&(q._status=2,q._result=H)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var Z=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},X={map:ie,forEach:function(q,K,H){ie(q,function(){K.apply(this,arguments)},H)},count:function(q){var K=0;return ie(q,function(){K++}),K},toArray:function(q){return ie(q,function(K){return K})||[]},only:function(q){if(!R(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Xe.Activity=g,Xe.Children=X,Xe.Component=A,Xe.Fragment=n,Xe.Profiler=a,Xe.PureComponent=T,Xe.StrictMode=r,Xe.Suspense=f,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return k.H.useMemoCache(q)}},Xe.cache=function(q){return function(){return q.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(q,K,H){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Q=N({},q.props),ue=q.key;if(K!=null)for(_e in K.key!==void 0&&(ue=""+K.key),K)!V.call(K,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&K.ref===void 0||(Q[_e]=K[_e]);var _e=arguments.length-2;if(_e===1)Q.children=H;else if(1<_e){for(var Ae=Array(_e),He=0;He<_e;He++)Ae[He]=arguments[He+2];Q.children=Ae}return D(q.type,ue,Q)},Xe.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Xe.createElement=function(q,K,H){var Q,ue={},_e=null;if(K!=null)for(Q in K.key!==void 0&&(_e=""+K.key),K)V.call(K,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ue[Q]=K[Q]);var Ae=arguments.length-2;if(Ae===1)ue.children=H;else if(1<Ae){for(var He=Array(Ae),ce=0;ce<Ae;ce++)He[ce]=arguments[ce+2];ue.children=He}if(q&&q.defaultProps)for(Q in Ae=q.defaultProps,Ae)ue[Q]===void 0&&(ue[Q]=Ae[Q]);return D(q,_e,ue)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(q){return{$$typeof:d,render:q}},Xe.isValidElement=R,Xe.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:xe}},Xe.memo=function(q,K){return{$$typeof:h,type:q,compare:K===void 0?null:K}},Xe.startTransition=function(q){var K=k.T,H={};k.T=H;try{var Q=q(),ue=k.S;ue!==null&&ue(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(L,Z)}catch(_e){Z(_e)}finally{K!==null&&H.types!==null&&(K.types=H.types),k.T=K}},Xe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Xe.use=function(q){return k.H.use(q)},Xe.useActionState=function(q,K,H){return k.H.useActionState(q,K,H)},Xe.useCallback=function(q,K){return k.H.useCallback(q,K)},Xe.useContext=function(q){return k.H.useContext(q)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(q,K){return k.H.useDeferredValue(q,K)},Xe.useEffect=function(q,K){return k.H.useEffect(q,K)},Xe.useEffectEvent=function(q){return k.H.useEffectEvent(q)},Xe.useId=function(){return k.H.useId()},Xe.useImperativeHandle=function(q,K,H){return k.H.useImperativeHandle(q,K,H)},Xe.useInsertionEffect=function(q,K){return k.H.useInsertionEffect(q,K)},Xe.useLayoutEffect=function(q,K){return k.H.useLayoutEffect(q,K)},Xe.useMemo=function(q,K){return k.H.useMemo(q,K)},Xe.useOptimistic=function(q,K){return k.H.useOptimistic(q,K)},Xe.useReducer=function(q,K,H){return k.H.useReducer(q,K,H)},Xe.useRef=function(q){return k.H.useRef(q)},Xe.useState=function(q){return k.H.useState(q)},Xe.useSyncExternalStore=function(q,K,H){return k.H.useSyncExternalStore(q,K,H)},Xe.useTransition=function(){return k.H.useTransition()},Xe.version="19.2.0",Xe}var f2;function Xu(){return f2||(f2=1,Zx.exports=q8()),Zx.exports}var _=Xu();const RD=Qi(_),H8=B8({__proto__:null,default:RD},[_]);var Jx={exports:{}},yf={},eb={exports:{}},tb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function G8(){return h2||(h2=1,(function(t){function e(Y,ie){var xe=Y.length;Y.push(ie);e:for(;0<xe;){var Z=xe-1>>>1,X=Y[Z];if(0<a(X,ie))Y[Z]=ie,Y[xe]=X,xe=Z;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ie=Y[0],xe=Y.pop();if(xe!==ie){Y[0]=xe;e:for(var Z=0,X=Y.length,q=X>>>1;Z<q;){var K=2*(Z+1)-1,H=Y[K],Q=K+1,ue=Y[Q];if(0>a(H,xe))Q<X&&0>a(ue,H)?(Y[Z]=ue,Y[Q]=xe,Z=Q):(Y[Z]=H,Y[K]=xe,Z=K);else if(Q<X&&0>a(ue,xe))Y[Z]=ue,Y[Q]=xe,Z=Q;else break e}}return ie}function a(Y,ie){var xe=Y.sortIndex-ie.sortIndex;return xe!==0?xe:Y.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,x=3,w=!1,E=!1,N=!1,j=!1,A=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(Y){for(var ie=n(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=Y)r(h),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=n(h)}}function P(Y){if(N=!1,M(Y),!E)if(n(f)!==null)E=!0,L||(L=!0,F());else{var ie=n(h);ie!==null&&le(P,ie.startTime-Y)}}var L=!1,k=-1,V=5,D=-1;function I(){return j?!0:!(t.unstable_now()-D<V)}function R(){if(j=!1,L){var Y=t.unstable_now();D=Y;var ie=!0;try{e:{E=!1,N&&(N=!1,U(k),k=-1),w=!0;var xe=x;try{t:{for(M(Y),g=n(f);g!==null&&!(g.expirationTime>Y&&I());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,x=g.priorityLevel;var X=Z(g.expirationTime<=Y);if(Y=t.unstable_now(),typeof X=="function"){g.callback=X,M(Y),ie=!0;break t}g===n(f)&&r(f),M(Y)}else r(f);g=n(f)}if(g!==null)ie=!0;else{var q=n(h);q!==null&&le(P,q.startTime-Y),ie=!1}}break e}finally{g=null,x=xe,w=!1}ie=void 0}}finally{ie?F():L=!1}}}var F;if(typeof T=="function")F=function(){T(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,pe=B.port2;B.port1.onmessage=R,F=function(){pe.postMessage(null)}}else F=function(){A(R,0)};function le(Y,ie){k=A(function(){Y(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var xe=x;x=ie;try{return Y()}finally{x=xe}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var xe=x;x=Y;try{return ie()}finally{x=xe}},t.unstable_scheduleCallback=function(Y,ie,xe){var Z=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Z+xe:Z):xe=Z,Y){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=xe+X,Y={id:p++,callback:ie,priorityLevel:Y,startTime:xe,expirationTime:X,sortIndex:-1},xe>Z?(Y.sortIndex=xe,e(h,Y),n(f)===null&&Y===n(h)&&(N?(U(k),k=-1):N=!0,le(P,xe-Z))):(Y.sortIndex=X,e(f,Y),E||w||(E=!0,L||(L=!0,F()))),Y},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(Y){var ie=x;return function(){var xe=x;x=ie;try{return Y.apply(this,arguments)}finally{x=xe}}}})(tb)),tb}var m2;function K8(){return m2||(m2=1,eb.exports=G8()),eb.exports}var nb={exports:{}},pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function Y8(){if(p2)return pr;p2=1;var t=Xu();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},pr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},pr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},pr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},pr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},pr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},pr.requestFormReset=function(f){r.d.r(f)},pr.unstable_batchedUpdates=function(f,h){return f(h)},pr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},pr.useFormStatus=function(){return c.H.useHostTransitionStatus()},pr.version="19.2.0",pr}var g2;function PD(){if(g2)return nb.exports;g2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nb.exports=Y8(),nb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function W8(){if(y2)return yf;y2=1;var t=K8(),e=Xu(),n=PD();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return f(v),i;if(b===m)return f(v),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=b;else{for(var C=!1,z=v.child;z;){if(z===u){C=!0,u=v,m=b;break}if(z===m){C=!0,m=v,u=b;break}z=z.sibling}if(!C){for(z=b.child;z;){if(z===u){C=!0,u=b,m=v;break}if(z===m){C=!0,m=b,u=v;break}z=z.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case A:return"Profiler";case j:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case T:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case M:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return o=i.displayName||null,o!==null?o:pe(i.type)||"Memo";case V:o=i._payload,i=i._init;try{return pe(i(o))}catch{}}return null}var le=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Z=[],X=-1;function q(i){return{current:i}}function K(i){0>X||(i.current=Z[X],Z[X]=null,X--)}function H(i,o){X++,Z[X]=i.current,i.current=o}var Q=q(null),ue=q(null),_e=q(null),Ae=q(null);function He(i,o){switch(H(_e,o),H(ue,i),H(Q,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?RA(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=RA(o),i=PA(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(Q),H(Q,i)}function ce(){K(Q),K(ue),K(_e)}function Ve(i){i.memoizedState!==null&&H(Ae,i);var o=Q.current,u=PA(o,i.type);o!==u&&(H(ue,i),H(Q,u))}function Ge(i){ue.current===i&&(K(Q),K(ue)),Ae.current===i&&(K(Ae),ff._currentValue=xe)}var be,At;function We(i){if(be===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);be=o&&o[1]||"",At=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+i+At}var kt=!1;function we(i,o){if(!i||kt)return"";kt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(oe){var ae=oe}Reflect.construct(i,[],ge)}else{try{ge.call()}catch(oe){ae=oe}i.call(ge.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(ge=i())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),C=b[0],z=b[1];if(C&&z){var G=C.split(`
`),ne=z.split(`
`);for(v=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ne.length&&!ne[v].includes("DetermineComponentFrameRoot");)v++;if(m===G.length||v===ne.length)for(m=G.length-1,v=ne.length-1;1<=m&&0<=v&&G[m]!==ne[v];)v--;for(;1<=m&&0<=v;m--,v--)if(G[m]!==ne[v]){if(m!==1||v!==1)do if(m--,v--,0>v||G[m]!==ne[v]){var fe=`
`+G[m].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=m&&0<=v);break}}}finally{kt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?We(u):""}function dt(i,o){switch(i.tag){case 26:case 27:case 5:return We(i.type);case 16:return We("Lazy");case 13:return i.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return we(i.type,!1);case 11:return we(i.type.render,!1);case 1:return we(i.type,!0);case 31:return We("Activity");default:return""}}function de(i){try{var o="",u=null;do o+=dt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var $e=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,_t=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,Fa=t.unstable_requestPaint,Gn=t.unstable_now,Ne=t.unstable_getCurrentPriorityLevel,Nt=t.unstable_ImmediatePriority,en=t.unstable_UserBlockingPriority,tn=t.unstable_NormalPriority,Zr=t.unstable_LowPriority,cl=t.unstable_IdlePriority,ul=t.log,dl=t.unstable_setDisableYieldValue,Pr=null,wn=null;function jr(i){if(typeof ul=="function"&&dl(i),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Pr,i)}catch{}}var fn=Math.clz32?Math.clz32:Jh,Zh=Math.log,jc=Math.LN2;function Jh(i){return i>>>=0,i===0?32:31-(Zh(i)/jc|0)|0}var pi=256,fl=262144,_n=4194304;function gi(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,b=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var z=m&134217727;return z!==0?(m=z&~b,m!==0?v=gi(m):(C&=z,C!==0?v=gi(C):u||(u=z&~i,u!==0&&(v=gi(u))))):(z=m&~b,z!==0?v=gi(z):C!==0?v=gi(C):u||(u=m&~i,u!==0&&(v=gi(u)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:v}function $a(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ev(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function em(){var i=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),i}function vi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function hl(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function tv(i,o,u,m,v,b){var C=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var z=i.entanglements,G=i.expirationTimes,ne=i.hiddenUpdates;for(u=C&~u;0<u;){var fe=31-fn(u),ge=1<<fe;z[fe]=0,G[fe]=-1;var ae=ne[fe];if(ae!==null)for(ne[fe]=null,fe=0;fe<ae.length;fe++){var oe=ae[fe];oe!==null&&(oe.lane&=-536870913)}u&=~ge}m!==0&&ml(i,m,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(C&~o))}function ml(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-fn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function gd(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-fn(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function yd(i,o){var u=o&-o;return u=(u&42)!==0?1:pl(u),(u&(i.suspendedLanes|o))!==0?0:u}function pl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ts(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function tm(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:n2(i.type))}function qa(i,o){var u=ie.p;try{return ie.p=i,o()}finally{ie.p=u}}var Ha=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ha,Kn="__reactProps$"+Ha,xi="__reactContainer$"+Ha,Ec="__reactEvents$"+Ha,nv="__reactListeners$"+Ha,nm="__reactHandles$"+Ha,rm="__reactResources$"+Ha,bi="__reactMarker$"+Ha;function Sc(i){delete i[Nn],delete i[Kn],delete i[Ec],delete i[nv],delete i[nm]}function wi(i){var o=i[Nn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[xi]||u[Nn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=zA(i);i!==null;){if(u=i[Nn])return u;i=zA(i)}return o}i=u,u=i.parentNode}return null}function ya(i){if(i=i[Nn]||i[xi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Jr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function _i(i){var o=i[rm];return o||(o=i[rm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function jn(i){i[bi]=!0}var vd=new Set,xd={};function Ni(i,o){ji(i,o),ji(i+"Capture",o)}function ji(i,o){for(xd[i]=o,i=0;i<o.length;i++)vd.add(o[i])}var bd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},_d={};function am(i){return $e.call(_d,i)?!0:$e.call(wd,i)?!1:bd.test(i)?_d[i]=!0:(wd[i]=!0,!1)}function Tc(i,o,u){if(am(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function ea(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function En(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Nd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(C){u=""+C,b.call(this,C)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function jt(i){if(!i._valueTracker){var o=Zs(i)?"checked":"value";i._valueTracker=Nd(i,o,""+i[o])}}function gl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=Zs(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var yl=/[\n"\\]/g;function Dr(i){return i.replace(yl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ac(i,o,u,m,v,b,C,z){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),o!=null?C==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Yn(o)):i.value!==""+Yn(o)&&(i.value=""+Yn(o)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),o!=null?jd(i,C,Yn(o)):u!=null?jd(i,C,Yn(u)):m!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.name=""+Yn(z):i.removeAttribute("name")}function im(i,o,u,m,v,b,C,z){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){jt(i);return}u=u!=null?""+Yn(u):"",o=o!=null?""+Yn(o):u,z||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=z?i.checked:!!m,i.defaultChecked=!!m,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),jt(i)}function jd(i,o,u){o==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Js(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Yn(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function sm(i,o,u){if(o!=null&&(o=""+Yn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Yn(u):""}function eo(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(le(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Yn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),jt(i)}function kr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var om=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ed(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||om.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Sd(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&Ed(i,v,m)}else for(var b in o)o.hasOwnProperty(b)&&Ed(i,b,o[b])}function Cc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),to=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ic(i){return to.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ga(){}var Td=null;function va(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var no=null,Si=null;function vl(i){var o=ya(i);if(o&&(i=o.stateNode)){var u=i[Kn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ac(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Dr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Kn]||null;if(!v)throw Error(r(90));Ac(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&gl(m)}break e;case"textarea":sm(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Js(i,!!u.multiple,o,!1)}}}var Oc=!1;function ro(i,o,u){if(Oc)return i(o,u);Oc=!0;try{var m=i(o);return m}finally{if(Oc=!1,(no!==null||Si!==null)&&(tp(),no&&(o=no,i=Si,Si=no=null,vl(o),i)))for(o=0;o<i.length;o++)vl(i[o])}}function Ka(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Kn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(xa)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){xl=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{xl=!1}var Ti=null,Ad=null,bl=null;function Cd(){if(bl)return bl;var i,o=Ad,u=o.length,m,v="value"in Ti?Ti.value:Ti.textContent,b=v.length;for(i=0;i<u&&o[i]===v[i];i++);var C=u-i;for(m=1;m<=C&&o[u-m]===v[b-m];m++);return bl=v.slice(i,1<m?1-m:void 0)}function wl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ns(){return!0}function Ya(){return!1}function ar(i){function o(u,m,v,b,C){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ns:Ya,this.isPropagationStopped=Ya,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),o}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=ar(rs),ao=g({},rs,{view:0,detail:0}),Id=ar(ao),io,Rc,Ci,Pc=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(io=i.screenX-Ci.screenX,Rc=i.screenY-Ci.screenY):Rc=io=0,Ci=i),io)},movementY:function(i){return"movementY"in i?i.movementY:Rc}}),Od=ar(Pc),_l=g({},Pc,{dataTransfer:0}),cm=ar(_l),um=g({},ao,{relatedTarget:0}),Nl=ar(um),Rd=g({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=ar(Rd),Dc=g({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fm=ar(Dc),hm=g({},rs,{data:0}),Ii=ar(hm),mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ym(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=gm[i])?!!o[i]:!1}function so(){return ym}var Er=g({},ao,{key:function(i){if(i.key){var o=mm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=wl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(i){return i.type==="keypress"?wl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vm=ar(Er),xm=g({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=ar(xm),y=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),S=ar(y),O=g({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$=ar(O),ee=g({},Pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=ar(ee),Ee=g({},rs,{newState:0,oldState:0}),Je=ar(Ee),hn=[9,13,27,32],xt=xa&&"CompositionEvent"in window,Ht=null;xa&&"documentMode"in document&&(Ht=document.documentMode);var ba=xa&&"TextEvent"in window&&!Ht,Oi=xa&&(!xt||Ht&&8<Ht&&11>=Ht),Wa=" ",Xa=!1;function jl(i,o){switch(i){case"keyup":return hn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mc=!1;function cV(i,o){switch(i){case"compositionend":return kc(o);case"keypress":return o.which!==32?null:(Xa=!0,Wa);case"textInput":return i=o.data,i===Wa&&Xa?null:i;default:return null}}function uV(i,o){if(Mc)return i==="compositionend"||!xt&&jl(i,o)?(i=Cd(),bl=Ad=Ti=null,Mc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oi&&o.locale!=="ko"?null:o.data;default:return null}}var dV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $E(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!dV[i.type]:o==="textarea"}function qE(i,o,u,m){no?Si?Si.push(m):Si=[m]:no=m,o=lp(o,"onChange"),0<o.length&&(u=new Ai("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Pd=null,Dd=null;function fV(i){SA(i,0)}function bm(i){var o=Jr(i);if(gl(o))return i}function HE(i,o){if(i==="change")return o}var GE=!1;if(xa){var rv;if(xa){var av="oninput"in document;if(!av){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),av=typeof KE.oninput=="function"}rv=av}else rv=!1;GE=rv&&(!document.documentMode||9<document.documentMode)}function YE(){Pd&&(Pd.detachEvent("onpropertychange",WE),Dd=Pd=null)}function WE(i){if(i.propertyName==="value"&&bm(Dd)){var o=[];qE(o,Dd,i,va(i)),ro(fV,o)}}function hV(i,o,u){i==="focusin"?(YE(),Pd=o,Dd=u,Pd.attachEvent("onpropertychange",WE)):i==="focusout"&&YE()}function mV(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bm(Dd)}function pV(i,o){if(i==="click")return bm(o)}function gV(i,o){if(i==="input"||i==="change")return bm(o)}function yV(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ta=typeof Object.is=="function"?Object.is:yV;function kd(i,o){if(ta(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!$e.call(o,v)||!ta(i[v],o[v]))return!1}return!0}function XE(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function QE(i,o){var u=XE(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=XE(u)}}function ZE(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ZE(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function JE(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ei(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ei(i.document)}return o}function iv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var vV=xa&&"documentMode"in document&&11>=document.documentMode,Lc=null,sv=null,Md=null,ov=!1;function eS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ov||Lc==null||Lc!==Ei(m)||(m=Lc,"selectionStart"in m&&iv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Md&&kd(Md,m)||(Md=m,m=lp(sv,"onSelect"),0<m.length&&(o=new Ai("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Lc)))}function El(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Uc={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionrun:El("Transition","TransitionRun"),transitionstart:El("Transition","TransitionStart"),transitioncancel:El("Transition","TransitionCancel"),transitionend:El("Transition","TransitionEnd")},lv={},tS={};xa&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete Uc.animationend.animation,delete Uc.animationiteration.animation,delete Uc.animationstart.animation),"TransitionEvent"in window||delete Uc.transitionend.transition);function Sl(i){if(lv[i])return lv[i];if(!Uc[i])return i;var o=Uc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in tS)return lv[i]=o[u];return i}var nS=Sl("animationend"),rS=Sl("animationiteration"),aS=Sl("animationstart"),xV=Sl("transitionrun"),bV=Sl("transitionstart"),wV=Sl("transitioncancel"),iS=Sl("transitionend"),sS=new Map,cv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cv.push("scrollEnd");function Qa(i,o){sS.set(i,o),Ni(o,[i])}var wm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},wa=[],Vc=0,uv=0;function _m(){for(var i=Vc,o=uv=Vc=0;o<i;){var u=wa[o];wa[o++]=null;var m=wa[o];wa[o++]=null;var v=wa[o];wa[o++]=null;var b=wa[o];if(wa[o++]=null,m!==null&&v!==null){var C=m.pending;C===null?v.next=v:(v.next=C.next,C.next=v),m.pending=v}b!==0&&oS(u,v,b)}}function Nm(i,o,u,m){wa[Vc++]=i,wa[Vc++]=o,wa[Vc++]=u,wa[Vc++]=m,uv|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function dv(i,o,u,m){return Nm(i,o,u,m),jm(i)}function Tl(i,o){return Nm(i,null,null,o),jm(i)}function oS(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&o!==null&&(v=31-fn(u),i=b.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),b):null}function jm(i){if(50<af)throw af=0,bx=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var zc={};function _V(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(i,o,u,m){return new _V(i,o,u,m)}function fv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function is(i,o){var u=i.alternate;return u===null?(u=na(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function lS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Em(i,o,u,m,v,b){var C=0;if(m=i,typeof i=="function")fv(i)&&(C=1);else if(typeof i=="string")C=T8(i,u,Q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=na(31,u,o,v),i.elementType=D,i.lanes=b,i;case N:return Al(u.children,v,b,o);case j:C=8,v|=24;break;case A:return i=na(12,u,o,v|2),i.elementType=A,i.lanes=b,i;case P:return i=na(13,u,o,v),i.elementType=P,i.lanes=b,i;case L:return i=na(19,u,o,v),i.elementType=L,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:C=10;break e;case U:C=9;break e;case M:C=11;break e;case k:C=14;break e;case V:C=16,m=null;break e}C=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=na(C,u,o,v),o.elementType=i,o.type=m,o.lanes=b,o}function Al(i,o,u,m){return i=na(7,i,m,o),i.lanes=u,i}function hv(i,o,u){return i=na(6,i,null,o),i.lanes=u,i}function cS(i){var o=na(18,null,null,0);return o.stateNode=i,o}function mv(i,o,u){return o=na(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var uS=new WeakMap;function _a(i,o){if(typeof i=="object"&&i!==null){var u=uS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:de(o)},uS.set(i,o),o)}return{value:i,source:o,stack:de(o)}}var Bc=[],Fc=0,Sm=null,Ld=0,Na=[],ja=0,oo=null,Ri=1,Pi="";function ss(i,o){Bc[Fc++]=Ld,Bc[Fc++]=Sm,Sm=i,Ld=o}function dS(i,o,u){Na[ja++]=Ri,Na[ja++]=Pi,Na[ja++]=oo,oo=i;var m=Ri;i=Pi;var v=32-fn(m)-1;m&=~(1<<v),u+=1;var b=32-fn(o)+v;if(30<b){var C=v-v%5;b=(m&(1<<C)-1).toString(32),m>>=C,v-=C,Ri=1<<32-fn(o)+v|u<<v|m,Pi=b+i}else Ri=1<<b|u<<v|m,Pi=i}function pv(i){i.return!==null&&(ss(i,1),dS(i,1,0))}function gv(i){for(;i===Sm;)Sm=Bc[--Fc],Bc[Fc]=null,Ld=Bc[--Fc],Bc[Fc]=null;for(;i===oo;)oo=Na[--ja],Na[ja]=null,Pi=Na[--ja],Na[ja]=null,Ri=Na[--ja],Na[ja]=null}function fS(i,o){Na[ja++]=Ri,Na[ja++]=Pi,Na[ja++]=oo,Ri=o.id,Pi=o.overflow,oo=i}var ir=null,zt=null,ft=!1,lo=null,Ea=!1,yv=Error(r(519));function co(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ud(_a(o,i)),yv}function hS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[Nn]=i,o[Kn]=m,u){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(u=0;u<of.length;u++)at(of[u],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),im(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),eo(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||IA(o.textContent,u)?(m.popover!=null&&(at("beforetoggle",o),at("toggle",o)),m.onScroll!=null&&at("scroll",o),m.onScrollEnd!=null&&at("scrollend",o),m.onClick!=null&&(o.onclick=Ga),o=!0):o=!1,o||co(i,!0)}function mS(i){for(ir=i.return;ir;)switch(ir.tag){case 5:case 31:case 13:Ea=!1;return;case 27:case 3:Ea=!0;return;default:ir=ir.return}}function $c(i){if(i!==ir)return!1;if(!ft)return mS(i),ft=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||kx(i.type,i.memoizedProps)),u=!u),u&&zt&&co(i),mS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));zt=VA(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));zt=VA(i)}else o===27?(o=zt,jo(i.type)?(i=zx,zx=null,zt=i):zt=o):zt=ir?Ta(i.stateNode.nextSibling):null;return!0}function Cl(){zt=ir=null,ft=!1}function vv(){var i=lo;return i!==null&&(Vr===null?Vr=i:Vr.push.apply(Vr,i),lo=null),i}function Ud(i){lo===null?lo=[i]:lo.push(i)}var xv=q(null),Il=null,os=null;function uo(i,o,u){H(xv,o._currentValue),o._currentValue=u}function ls(i){i._currentValue=xv.current,K(xv)}function bv(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function wv(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var z=b;b=v;for(var G=0;G<o.length;G++)if(z.context===o[G]){b.lanes|=u,z=b.alternate,z!==null&&(z.lanes|=u),bv(b.return,u,i),m||(C=null);break e}b=z.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),bv(C,u,i),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===i){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function qc(i,o,u,m){i=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var z=v.type;ta(v.pendingProps.value,C.value)||(i!==null?i.push(z):i=[z])}}else if(v===Ae.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(ff):i=[ff])}v=v.return}i!==null&&wv(o,i,u,m),o.flags|=262144}function Tm(i){for(i=i.firstContext;i!==null;){if(!ta(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ol(i){Il=i,os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sr(i){return pS(Il,i)}function Am(i,o){return Il===null&&Ol(i),pS(i,o)}function pS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},os===null){if(i===null)throw Error(r(308));os=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else os=os.next=o;return u}var NV=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},jV=t.unstable_scheduleCallback,EV=t.unstable_NormalPriority,Sn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _v(){return{controller:new NV,data:new Map,refCount:0}}function Vd(i){i.refCount--,i.refCount===0&&jV(EV,function(){i.controller.abort()})}var zd=null,Nv=0,Hc=0,Gc=null;function SV(i,o){if(zd===null){var u=zd=[];Nv=0,Hc=Sx(),Gc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Nv++,o.then(gS,gS),o}function gS(){if(--Nv===0&&zd!==null){Gc!==null&&(Gc.status="fulfilled");var i=zd;zd=null,Hc=0,Gc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function TV(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var yS=Y.S;Y.S=function(i,o){eA=Gn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&SV(i,o),yS!==null&&yS(i,o)};var Rl=q(null);function jv(){var i=Rl.current;return i!==null?i:Mt.pooledCache}function Cm(i,o){o===null?H(Rl,Rl.current):H(Rl,o.pool)}function vS(){var i=jv();return i===null?null:{parent:Sn._currentValue,pool:i}}var Kc=Error(r(460)),Ev=Error(r(474)),Im=Error(r(542)),Om={then:function(){}};function xS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ga,Ga),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,_S(i),i;default:if(typeof o.status=="string")o.then(Ga,Ga);else{if(i=Mt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,_S(i),i}throw Dl=o,Kc}}function Pl(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Dl=u,Kc):u}}var Dl=null;function wS(){if(Dl===null)throw Error(r(459));var i=Dl;return Dl=null,i}function _S(i){if(i===Kc||i===Im)throw Error(r(483))}var Yc=null,Bd=0;function Rm(i){var o=Bd;return Bd+=1,Yc===null&&(Yc=[]),bS(Yc,i,o)}function Fd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Pm(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function NS(i){function o(J,W){if(i){var te=J.deletions;te===null?(J.deletions=[W],J.flags|=16):te.push(W)}}function u(J,W){if(!i)return null;for(;W!==null;)o(J,W),W=W.sibling;return null}function m(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function v(J,W){return J=is(J,W),J.index=0,J.sibling=null,J}function b(J,W,te){return J.index=te,i?(te=J.alternate,te!==null?(te=te.index,te<W?(J.flags|=67108866,W):te):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function C(J){return i&&J.alternate===null&&(J.flags|=67108866),J}function z(J,W,te,he){return W===null||W.tag!==6?(W=hv(te,J.mode,he),W.return=J,W):(W=v(W,te),W.return=J,W)}function G(J,W,te,he){var Le=te.type;return Le===N?fe(J,W,te.props.children,he,te.key):W!==null&&(W.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===V&&Pl(Le)===W.type)?(W=v(W,te.props),Fd(W,te),W.return=J,W):(W=Em(te.type,te.key,te.props,null,J.mode,he),Fd(W,te),W.return=J,W)}function ne(J,W,te,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=mv(te,J.mode,he),W.return=J,W):(W=v(W,te.children||[]),W.return=J,W)}function fe(J,W,te,he,Le){return W===null||W.tag!==7?(W=Al(te,J.mode,he,Le),W.return=J,W):(W=v(W,te),W.return=J,W)}function ge(J,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=hv(""+W,J.mode,te),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return te=Em(W.type,W.key,W.props,null,J.mode,te),Fd(te,W),te.return=J,te;case E:return W=mv(W,J.mode,te),W.return=J,W;case V:return W=Pl(W),ge(J,W,te)}if(le(W)||F(W))return W=Al(W,J.mode,te,null),W.return=J,W;if(typeof W.then=="function")return ge(J,Rm(W),te);if(W.$$typeof===T)return ge(J,Am(J,W),te);Pm(J,W)}return null}function ae(J,W,te,he){var Le=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Le!==null?null:z(J,W,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===Le?G(J,W,te,he):null;case E:return te.key===Le?ne(J,W,te,he):null;case V:return te=Pl(te),ae(J,W,te,he)}if(le(te)||F(te))return Le!==null?null:fe(J,W,te,he,null);if(typeof te.then=="function")return ae(J,W,Rm(te),he);if(te.$$typeof===T)return ae(J,W,Am(J,te),he);Pm(J,te)}return null}function oe(J,W,te,he,Le){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return J=J.get(te)||null,z(W,J,""+he,Le);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return J=J.get(he.key===null?te:he.key)||null,G(W,J,he,Le);case E:return J=J.get(he.key===null?te:he.key)||null,ne(W,J,he,Le);case V:return he=Pl(he),oe(J,W,te,he,Le)}if(le(he)||F(he))return J=J.get(te)||null,fe(W,J,he,Le,null);if(typeof he.then=="function")return oe(J,W,te,Rm(he),Le);if(he.$$typeof===T)return oe(J,W,te,Am(W,he),Le);Pm(W,he)}return null}function Re(J,W,te,he){for(var Le=null,mt=null,De=W,tt=W=0,ot=null;De!==null&&tt<te.length;tt++){De.index>tt?(ot=De,De=null):ot=De.sibling;var pt=ae(J,De,te[tt],he);if(pt===null){De===null&&(De=ot);break}i&&De&&pt.alternate===null&&o(J,De),W=b(pt,W,tt),mt===null?Le=pt:mt.sibling=pt,mt=pt,De=ot}if(tt===te.length)return u(J,De),ft&&ss(J,tt),Le;if(De===null){for(;tt<te.length;tt++)De=ge(J,te[tt],he),De!==null&&(W=b(De,W,tt),mt===null?Le=De:mt.sibling=De,mt=De);return ft&&ss(J,tt),Le}for(De=m(De);tt<te.length;tt++)ot=oe(De,J,tt,te[tt],he),ot!==null&&(i&&ot.alternate!==null&&De.delete(ot.key===null?tt:ot.key),W=b(ot,W,tt),mt===null?Le=ot:mt.sibling=ot,mt=ot);return i&&De.forEach(function(Co){return o(J,Co)}),ft&&ss(J,tt),Le}function ze(J,W,te,he){if(te==null)throw Error(r(151));for(var Le=null,mt=null,De=W,tt=W=0,ot=null,pt=te.next();De!==null&&!pt.done;tt++,pt=te.next()){De.index>tt?(ot=De,De=null):ot=De.sibling;var Co=ae(J,De,pt.value,he);if(Co===null){De===null&&(De=ot);break}i&&De&&Co.alternate===null&&o(J,De),W=b(Co,W,tt),mt===null?Le=Co:mt.sibling=Co,mt=Co,De=ot}if(pt.done)return u(J,De),ft&&ss(J,tt),Le;if(De===null){for(;!pt.done;tt++,pt=te.next())pt=ge(J,pt.value,he),pt!==null&&(W=b(pt,W,tt),mt===null?Le=pt:mt.sibling=pt,mt=pt);return ft&&ss(J,tt),Le}for(De=m(De);!pt.done;tt++,pt=te.next())pt=oe(De,J,tt,pt.value,he),pt!==null&&(i&&pt.alternate!==null&&De.delete(pt.key===null?tt:pt.key),W=b(pt,W,tt),mt===null?Le=pt:mt.sibling=pt,mt=pt);return i&&De.forEach(function(U8){return o(J,U8)}),ft&&ss(J,tt),Le}function Rt(J,W,te,he){if(typeof te=="object"&&te!==null&&te.type===N&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var Le=te.key;W!==null;){if(W.key===Le){if(Le=te.type,Le===N){if(W.tag===7){u(J,W.sibling),he=v(W,te.props.children),he.return=J,J=he;break e}}else if(W.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===V&&Pl(Le)===W.type){u(J,W.sibling),he=v(W,te.props),Fd(he,te),he.return=J,J=he;break e}u(J,W);break}else o(J,W);W=W.sibling}te.type===N?(he=Al(te.props.children,J.mode,he,te.key),he.return=J,J=he):(he=Em(te.type,te.key,te.props,null,J.mode,he),Fd(he,te),he.return=J,J=he)}return C(J);case E:e:{for(Le=te.key;W!==null;){if(W.key===Le)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){u(J,W.sibling),he=v(W,te.children||[]),he.return=J,J=he;break e}else{u(J,W);break}else o(J,W);W=W.sibling}he=mv(te,J.mode,he),he.return=J,J=he}return C(J);case V:return te=Pl(te),Rt(J,W,te,he)}if(le(te))return Re(J,W,te,he);if(F(te)){if(Le=F(te),typeof Le!="function")throw Error(r(150));return te=Le.call(te),ze(J,W,te,he)}if(typeof te.then=="function")return Rt(J,W,Rm(te),he);if(te.$$typeof===T)return Rt(J,W,Am(J,te),he);Pm(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(u(J,W.sibling),he=v(W,te),he.return=J,J=he):(u(J,W),he=hv(te,J.mode,he),he.return=J,J=he),C(J)):u(J,W)}return function(J,W,te,he){try{Bd=0;var Le=Rt(J,W,te,he);return Yc=null,Le}catch(De){if(De===Kc||De===Im)throw De;var mt=na(29,De,null,J.mode);return mt.lanes=he,mt.return=J,mt}finally{}}}var kl=NS(!0),jS=NS(!1),fo=!1;function Sv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ho(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mo(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(bt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=jm(i),oS(i,null,u),o}return Nm(i,m,o,u),jm(i)}function $d(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,gd(i,u)}}function Av(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?v=b=o:b=b.next=o}else v=b=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Cv=!1;function qd(){if(Cv){var i=Gc;if(i!==null)throw i}}function Hd(i,o,u,m){Cv=!1;var v=i.updateQueue;fo=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var G=z,ne=G.next;G.next=null,C===null?b=ne:C.next=ne,C=G;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,z=fe.lastBaseUpdate,z!==C&&(z===null?fe.firstBaseUpdate=ne:z.next=ne,fe.lastBaseUpdate=G))}if(b!==null){var ge=v.baseState;C=0,fe=ne=G=null,z=b;do{var ae=z.lane&-536870913,oe=ae!==z.lane;if(oe?(st&ae)===ae:(m&ae)===ae){ae!==0&&ae===Hc&&(Cv=!0),fe!==null&&(fe=fe.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Re=i,ze=z;ae=o;var Rt=u;switch(ze.tag){case 1:if(Re=ze.payload,typeof Re=="function"){ge=Re.call(Rt,ge,ae);break e}ge=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ze.payload,ae=typeof Re=="function"?Re.call(Rt,ge,ae):Re,ae==null)break e;ge=g({},ge,ae);break e;case 2:fo=!0}}ae=z.callback,ae!==null&&(i.flags|=64,oe&&(i.flags|=8192),oe=v.callbacks,oe===null?v.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:z.tag,payload:z.payload,callback:z.callback,next:null},fe===null?(ne=fe=oe,G=ge):fe=fe.next=oe,C|=ae;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);fe===null&&(G=ge),v.baseState=G,v.firstBaseUpdate=ne,v.lastBaseUpdate=fe,b===null&&(v.shared.lanes=0),xo|=C,i.lanes=C,i.memoizedState=ge}}function ES(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function SS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)ES(u[i],o)}var Wc=q(null),Dm=q(0);function TS(i,o){i=ys,H(Dm,i),H(Wc,o),ys=i|o.baseLanes}function Iv(){H(Dm,ys),H(Wc,Wc.current)}function Ov(){ys=Dm.current,K(Wc),K(Dm)}var ra=q(null),Sa=null;function po(i){var o=i.alternate;H(mn,mn.current&1),H(ra,i),Sa===null&&(o===null||Wc.current!==null||o.memoizedState!==null)&&(Sa=i)}function Rv(i){H(mn,mn.current),H(ra,i),Sa===null&&(Sa=i)}function AS(i){i.tag===22?(H(mn,mn.current),H(ra,i),Sa===null&&(Sa=i)):go()}function go(){H(mn,mn.current),H(ra,ra.current)}function aa(i){K(ra),Sa===i&&(Sa=null),K(mn)}var mn=q(0);function km(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ux(u)||Vx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var cs=0,et=null,It=null,Tn=null,Mm=!1,Xc=!1,Ml=!1,Lm=0,Gd=0,Qc=null,AV=0;function on(){throw Error(r(321))}function Pv(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!ta(i[u],o[u]))return!1;return!0}function Dv(i,o,u,m,v,b){return cs=b,et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=i===null||i.memoizedState===null?dT:Wv,Ml=!1,b=u(m,v),Ml=!1,Xc&&(b=IS(o,u,m,v)),CS(i),b}function CS(i){Y.H=Wd;var o=It!==null&&It.next!==null;if(cs=0,Tn=It=et=null,Mm=!1,Gd=0,Qc=null,o)throw Error(r(300));i===null||An||(i=i.dependencies,i!==null&&Tm(i)&&(An=!0))}function IS(i,o,u,m){et=i;var v=0;do{if(Xc&&(Qc=null),Gd=0,Xc=!1,25<=v)throw Error(r(301));if(v+=1,Tn=It=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Y.H=fT,b=o(u,m)}while(Xc);return b}function CV(){var i=Y.H,o=i.useState()[0];return o=typeof o.then=="function"?Kd(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(et.flags|=1024),o}function kv(){var i=Lm!==0;return Lm=0,i}function Mv(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Lv(i){if(Mm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Mm=!1}cs=0,Tn=It=et=null,Xc=!1,Gd=Lm=0,Qc=null}function Sr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?et.memoizedState=Tn=i:Tn=Tn.next=i,Tn}function pn(){if(It===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=Tn===null?et.memoizedState:Tn.next;if(o!==null)Tn=o,It=i;else{if(i===null)throw et.alternate===null?Error(r(467)):Error(r(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Tn===null?et.memoizedState=Tn=i:Tn=Tn.next=i}return Tn}function Um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kd(i){var o=Gd;return Gd+=1,Qc===null&&(Qc=[]),i=bS(Qc,i,o),o=et,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?dT:Wv),i}function Vm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Kd(i);if(i.$$typeof===T)return sr(i)}throw Error(r(438,String(i)))}function Uv(i){var o=null,u=et.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=et.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Um(),et.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=I;return o.index++,u}function us(i,o){return typeof o=="function"?o(i):o}function zm(i){var o=pn();return Vv(o,It,i)}function Vv(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,b=m.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}o.baseQueue=v=b,m.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{o=v.next;var z=C=null,G=null,ne=o,fe=!1;do{var ge=ne.lane&-536870913;if(ge!==ne.lane?(st&ge)===ge:(cs&ge)===ge){var ae=ne.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ge===Hc&&(fe=!0);else if((cs&ae)===ae){ne=ne.next,ae===Hc&&(fe=!0);continue}else ge={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(z=G=ge,C=b):G=G.next=ge,et.lanes|=ae,xo|=ae;ge=ne.action,Ml&&u(b,ge),b=ne.hasEagerState?ne.eagerState:u(b,ge)}else ae={lane:ge,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(z=G=ae,C=b):G=G.next=ae,et.lanes|=ge,xo|=ge;ne=ne.next}while(ne!==null&&ne!==o);if(G===null?C=b:G.next=z,!ta(b,i.memoizedState)&&(An=!0,fe&&(u=Gc,u!==null)))throw u;i.memoizedState=b,i.baseState=C,i.baseQueue=G,m.lastRenderedState=b}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function zv(i){var o=pn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,b=o.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do b=i(b,C.action),C=C.next;while(C!==v);ta(b,o.memoizedState)||(An=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function OS(i,o,u){var m=et,v=pn(),b=ft;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var C=!ta((It||v).memoizedState,u);if(C&&(v.memoizedState=u,An=!0),v=v.queue,$v(DS.bind(null,m,v,i),[i]),v.getSnapshot!==o||C||Tn!==null&&Tn.memoizedState.tag&1){if(m.flags|=2048,Zc(9,{destroy:void 0},PS.bind(null,m,v,u,o),null),Mt===null)throw Error(r(349));b||(cs&127)!==0||RS(m,o,u)}return u}function RS(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=et.updateQueue,o===null?(o=Um(),et.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function PS(i,o,u,m){o.value=u,o.getSnapshot=m,kS(o)&&MS(i)}function DS(i,o,u){return u(function(){kS(o)&&MS(i)})}function kS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!ta(i,u)}catch{return!0}}function MS(i){var o=Tl(i,2);o!==null&&zr(o,i,2)}function Bv(i){var o=Sr();if(typeof i=="function"){var u=i;if(i=u(),Ml){jr(!0);try{u()}finally{jr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:i},o}function LS(i,o,u,m){return i.baseState=u,Vv(i,It,typeof m=="function"?m:us)}function IV(i,o,u,m,v){if($m(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};Y.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,US(o,b)):(b.next=u.next,o.pending=u.next=b)}}function US(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var b=Y.T,C={};Y.T=C;try{var z=u(v,m),G=Y.S;G!==null&&G(C,z),VS(i,o,z)}catch(ne){Fv(i,o,ne)}finally{b!==null&&C.types!==null&&(b.types=C.types),Y.T=b}}else try{b=u(v,m),VS(i,o,b)}catch(ne){Fv(i,o,ne)}}function VS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){zS(i,o,m)},function(m){return Fv(i,o,m)}):zS(i,o,u)}function zS(i,o,u){o.status="fulfilled",o.value=u,BS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,US(i,u)))}function Fv(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,BS(o),o=o.next;while(o!==m)}i.action=null}function BS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function FS(i,o){return o}function $S(i,o){if(ft){var u=Mt.formState;if(u!==null){e:{var m=et;if(ft){if(zt){t:{for(var v=zt,b=Ea;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ta(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){zt=Ta(v.nextSibling),m=v.data==="F!";break e}}co(m)}m=!1}m&&(o=u[0])}}return u=Sr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FS,lastRenderedState:o},u.queue=m,u=lT.bind(null,et,m),m.dispatch=u,m=Bv(!1),b=Yv.bind(null,et,!1,m.queue),m=Sr(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=IV.bind(null,et,v,b,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function qS(i){var o=pn();return HS(o,It,i)}function HS(i,o,u){if(o=Vv(i,o,FS)[0],i=zm(us)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Kd(o)}catch(C){throw C===Kc?Im:C}else m=o;o=pn();var v=o.queue,b=v.dispatch;return u!==o.memoizedState&&(et.flags|=2048,Zc(9,{destroy:void 0},OV.bind(null,v,u),null)),[m,b,i]}function OV(i,o){i.action=o}function GS(i){var o=pn(),u=It;if(u!==null)return HS(o,u,i);pn(),o=o.memoizedState,u=pn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function Zc(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=et.updateQueue,o===null&&(o=Um(),et.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function KS(){return pn().memoizedState}function Bm(i,o,u,m){var v=Sr();et.flags|=i,v.memoizedState=Zc(1|o,{destroy:void 0},u,m===void 0?null:m)}function Fm(i,o,u,m){var v=pn();m=m===void 0?null:m;var b=v.memoizedState.inst;It!==null&&m!==null&&Pv(m,It.memoizedState.deps)?v.memoizedState=Zc(o,b,u,m):(et.flags|=i,v.memoizedState=Zc(1|o,b,u,m))}function YS(i,o){Bm(8390656,8,i,o)}function $v(i,o){Fm(2048,8,i,o)}function RV(i){et.flags|=4;var o=et.updateQueue;if(o===null)o=Um(),et.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function WS(i){var o=pn().memoizedState;return RV({ref:o,nextImpl:i}),function(){if((bt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function XS(i,o){return Fm(4,2,i,o)}function QS(i,o){return Fm(4,4,i,o)}function ZS(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function JS(i,o,u){u=u!=null?u.concat([i]):null,Fm(4,4,ZS.bind(null,o,i),u)}function qv(){}function eT(i,o){var u=pn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Pv(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function tT(i,o){var u=pn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Pv(o,m[1]))return m[0];if(m=i(),Ml){jr(!0);try{i()}finally{jr(!1)}}return u.memoizedState=[m,o],m}function Hv(i,o,u){return u===void 0||(cs&1073741824)!==0&&(st&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=nA(),et.lanes|=i,xo|=i,u)}function nT(i,o,u,m){return ta(u,o)?u:Wc.current!==null?(i=Hv(i,u,m),ta(i,o)||(An=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(st&261930)===0?(An=!0,i.memoizedState=u):(i=nA(),et.lanes|=i,xo|=i,o)}function rT(i,o,u,m,v){var b=ie.p;ie.p=b!==0&&8>b?b:8;var C=Y.T,z={};Y.T=z,Yv(i,!1,o,u);try{var G=v(),ne=Y.S;if(ne!==null&&ne(z,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=TV(G,m);Yd(i,o,fe,oa(i))}else Yd(i,o,m,oa(i))}catch(ge){Yd(i,o,{then:function(){},status:"rejected",reason:ge},oa())}finally{ie.p=b,C!==null&&z.types!==null&&(C.types=z.types),Y.T=C}}function PV(){}function Gv(i,o,u,m){if(i.tag!==5)throw Error(r(476));var v=aT(i).queue;rT(i,v,o,xe,u===null?PV:function(){return iT(i),u(m)})}function aT(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:xe},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function iT(i){var o=aT(i);o.next===null&&(o=i.alternate.memoizedState),Yd(i,o.next.queue,{},oa())}function Kv(){return sr(ff)}function sT(){return pn().memoizedState}function oT(){return pn().memoizedState}function DV(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=oa();i=ho(u);var m=mo(o,i,u);m!==null&&(zr(m,o,u),$d(m,o,u)),o={cache:_v()},i.payload=o;return}o=o.return}}function kV(i,o,u){var m=oa();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},$m(i)?cT(o,u):(u=dv(i,o,u,m),u!==null&&(zr(u,i,m),uT(u,o,m)))}function lT(i,o,u){var m=oa();Yd(i,o,u,m)}function Yd(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if($m(i))cT(o,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var C=o.lastRenderedState,z=b(C,u);if(v.hasEagerState=!0,v.eagerState=z,ta(z,C))return Nm(i,o,v,0),Mt===null&&_m(),!1}catch{}finally{}if(u=dv(i,o,v,m),u!==null)return zr(u,i,m),uT(u,o,m),!0}return!1}function Yv(i,o,u,m){if(m={lane:2,revertLane:Sx(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},$m(i)){if(o)throw Error(r(479))}else o=dv(i,u,m,2),o!==null&&zr(o,i,2)}function $m(i){var o=i.alternate;return i===et||o!==null&&o===et}function cT(i,o){Xc=Mm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function uT(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,gd(i,u)}}var Wd={readContext:sr,use:Vm,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Wd.useEffectEvent=on;var dT={readContext:sr,use:Vm,useCallback:function(i,o){return Sr().memoizedState=[i,o===void 0?null:o],i},useContext:sr,useEffect:YS,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Bm(4194308,4,ZS.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Bm(4194308,4,i,o)},useInsertionEffect:function(i,o){Bm(4,2,i,o)},useMemo:function(i,o){var u=Sr();o=o===void 0?null:o;var m=i();if(Ml){jr(!0);try{i()}finally{jr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Sr();if(u!==void 0){var v=u(o);if(Ml){jr(!0);try{u(o)}finally{jr(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=kV.bind(null,et,i),[m.memoizedState,i]},useRef:function(i){var o=Sr();return i={current:i},o.memoizedState=i},useState:function(i){i=Bv(i);var o=i.queue,u=lT.bind(null,et,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:qv,useDeferredValue:function(i,o){var u=Sr();return Hv(u,i,o)},useTransition:function(){var i=Bv(!1);return i=rT.bind(null,et,i.queue,!0,!1),Sr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=et,v=Sr();if(ft){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Mt===null)throw Error(r(349));(st&127)!==0||RS(m,o,u)}v.memoizedState=u;var b={value:u,getSnapshot:o};return v.queue=b,YS(DS.bind(null,m,b,i),[i]),m.flags|=2048,Zc(9,{destroy:void 0},PS.bind(null,m,b,u,o),null),u},useId:function(){var i=Sr(),o=Mt.identifierPrefix;if(ft){var u=Pi,m=Ri;u=(m&~(1<<32-fn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Lm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=AV++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Kv,useFormState:$S,useActionState:$S,useOptimistic:function(i){var o=Sr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Yv.bind(null,et,!0,u),u.dispatch=o,[i,o]},useMemoCache:Uv,useCacheRefresh:function(){return Sr().memoizedState=DV.bind(null,et)},useEffectEvent:function(i){var o=Sr(),u={impl:i};return o.memoizedState=u,function(){if((bt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Wv={readContext:sr,use:Vm,useCallback:eT,useContext:sr,useEffect:$v,useImperativeHandle:JS,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:tT,useReducer:zm,useRef:KS,useState:function(){return zm(us)},useDebugValue:qv,useDeferredValue:function(i,o){var u=pn();return nT(u,It.memoizedState,i,o)},useTransition:function(){var i=zm(us)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Kd(i),o]},useSyncExternalStore:OS,useId:sT,useHostTransitionStatus:Kv,useFormState:qS,useActionState:qS,useOptimistic:function(i,o){var u=pn();return LS(u,It,i,o)},useMemoCache:Uv,useCacheRefresh:oT};Wv.useEffectEvent=WS;var fT={readContext:sr,use:Vm,useCallback:eT,useContext:sr,useEffect:$v,useImperativeHandle:JS,useInsertionEffect:XS,useLayoutEffect:QS,useMemo:tT,useReducer:zv,useRef:KS,useState:function(){return zv(us)},useDebugValue:qv,useDeferredValue:function(i,o){var u=pn();return It===null?Hv(u,i,o):nT(u,It.memoizedState,i,o)},useTransition:function(){var i=zv(us)[0],o=pn().memoizedState;return[typeof i=="boolean"?i:Kd(i),o]},useSyncExternalStore:OS,useId:sT,useHostTransitionStatus:Kv,useFormState:GS,useActionState:GS,useOptimistic:function(i,o){var u=pn();return It!==null?LS(u,It,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Uv,useCacheRefresh:oT};fT.useEffectEvent=WS;function Xv(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Qv={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=oa(),v=ho(m);v.payload=o,u!=null&&(v.callback=u),o=mo(i,v,m),o!==null&&(zr(o,i,m),$d(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=oa(),v=ho(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=mo(i,v,m),o!==null&&(zr(o,i,m),$d(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=oa(),m=ho(u);m.tag=2,o!=null&&(m.callback=o),o=mo(i,m,u),o!==null&&(zr(o,i,u),$d(o,i,u))}};function hT(i,o,u,m,v,b,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,C):o.prototype&&o.prototype.isPureReactComponent?!kd(u,m)||!kd(v,b):!0}function mT(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Qv.enqueueReplaceState(o,o.state,null)}function Ll(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function pT(i){wm(i)}function gT(i){console.error(i)}function yT(i){wm(i)}function qm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function vT(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Zv(i,o,u){return u=ho(u),u.tag=3,u.payload={element:null},u.callback=function(){qm(i,o)},u}function xT(i){return i=ho(i),i.tag=3,i}function bT(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;i.payload=function(){return v(b)},i.callback=function(){vT(o,u,m)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){vT(o,u,m),typeof v!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var z=m.stack;this.componentDidCatch(m.value,{componentStack:z!==null?z:""})})}function MV(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&qc(o,u,v,!0),u=ra.current,u!==null){switch(u.tag){case 31:case 13:return Sa===null?np():u.alternate===null&&ln===0&&(ln=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Om?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Nx(i,m,v)),!1;case 22:return u.flags|=65536,m===Om?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Nx(i,m,v)),!1}throw Error(r(435,u.tag))}return Nx(i,m,v),np(),!1}if(ft)return o=ra.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==yv&&(i=Error(r(422),{cause:m}),Ud(_a(i,u)))):(m!==yv&&(o=Error(r(423),{cause:m}),Ud(_a(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=_a(m,u),v=Zv(i.stateNode,m,v),Av(i,v),ln!==4&&(ln=2)),!1;var b=Error(r(520),{cause:m});if(b=_a(b,u),rf===null?rf=[b]:rf.push(b),ln!==4&&(ln=2),o===null)return!0;m=_a(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=Zv(u.stateNode,m,i),Av(u,i),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(bo===null||!bo.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=xT(v),bT(v,i,u,m),Av(u,v),!1}u=u.return}while(u!==null);return!1}var Jv=Error(r(461)),An=!1;function or(i,o,u,m){o.child=i===null?jS(o,null,u,m):kl(o,i.child,u,m)}function wT(i,o,u,m,v){u=u.render;var b=o.ref;if("ref"in m){var C={};for(var z in m)z!=="ref"&&(C[z]=m[z])}else C=m;return Ol(o),m=Dv(i,o,u,C,b,v),z=kv(),i!==null&&!An?(Mv(i,o,v),ds(i,o,v)):(ft&&z&&pv(o),o.flags|=1,or(i,o,m,v),o.child)}function _T(i,o,u,m,v){if(i===null){var b=u.type;return typeof b=="function"&&!fv(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,NT(i,o,b,m,v)):(i=Em(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!ox(i,v)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:kd,u(C,m)&&i.ref===o.ref)return ds(i,o,v)}return o.flags|=1,i=is(b,m),i.ref=o.ref,i.return=o,o.child=i}function NT(i,o,u,m,v){if(i!==null){var b=i.memoizedProps;if(kd(b,m)&&i.ref===o.ref)if(An=!1,o.pendingProps=m=b,ox(i,v))(i.flags&131072)!==0&&(An=!0);else return o.lanes=i.lanes,ds(i,o,v)}return ex(i,o,u,m,v)}function jT(i,o,u,m){var v=m.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,o.child=null;return ET(i,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Cm(o,b!==null?b.cachePool:null),b!==null?TS(o,b):Iv(),AS(o);else return m=o.lanes=536870912,ET(i,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Cm(o,b.cachePool),TS(o,b),go(),o.memoizedState=null):(i!==null&&Cm(o,null),Iv(),go());return or(i,o,v,u),o.child}function Xd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ET(i,o,u,m,v){var b=jv();return b=b===null?null:{parent:Sn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},i!==null&&Cm(o,null),Iv(),AS(o),i!==null&&qc(i,o,m,!0),o.childLanes=v,null}function Hm(i,o){return o=Km({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function ST(i,o,u){return kl(o,i.child,null,u),i=Hm(o,o.pendingProps),i.flags|=2,aa(o),o.memoizedState=null,i}function LV(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ft){if(m.mode==="hidden")return i=Hm(o,m),o.lanes=536870912,Xd(null,i);if(Rv(o),(i=zt)?(i=UA(i,Ea),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:oo!==null?{id:Ri,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},u=cS(i),u.return=o,o.child=u,ir=o,zt=null)):i=null,i===null)throw co(o);return o.lanes=536870912,null}return Hm(o,m)}var b=i.memoizedState;if(b!==null){var C=b.dehydrated;if(Rv(o),v)if(o.flags&256)o.flags&=-257,o=ST(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(An||qc(i,o,u,!1),v=(u&i.childLanes)!==0,An||v){if(m=Mt,m!==null&&(C=yd(m,u),C!==0&&C!==b.retryLane))throw b.retryLane=C,Tl(i,C),zr(m,i,C),Jv;np(),o=ST(i,o,u)}else i=b.treeContext,zt=Ta(C.nextSibling),ir=o,ft=!0,lo=null,Ea=!1,i!==null&&fS(o,i),o=Hm(o,m),o.flags|=4096;return o}return i=is(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Gm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function ex(i,o,u,m,v){return Ol(o),u=Dv(i,o,u,m,void 0,v),m=kv(),i!==null&&!An?(Mv(i,o,v),ds(i,o,v)):(ft&&m&&pv(o),o.flags|=1,or(i,o,u,v),o.child)}function TT(i,o,u,m,v,b){return Ol(o),o.updateQueue=null,u=IS(o,m,u,v),CS(i),m=kv(),i!==null&&!An?(Mv(i,o,b),ds(i,o,b)):(ft&&m&&pv(o),o.flags|=1,or(i,o,u,b),o.child)}function AT(i,o,u,m,v){if(Ol(o),o.stateNode===null){var b=zc,C=u.contextType;typeof C=="object"&&C!==null&&(b=sr(C)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Qv,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Sv(o),C=u.contextType,b.context=typeof C=="object"&&C!==null?sr(C):zc,b.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Xv(o,u,C,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Qv.enqueueReplaceState(b,b.state,null),Hd(o,m,b,v),qd(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){b=o.stateNode;var z=o.memoizedProps,G=Ll(u,z);b.props=G;var ne=b.context,fe=u.contextType;C=zc,typeof fe=="object"&&fe!==null&&(C=sr(fe));var ge=u.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z||ne!==C)&&mT(o,b,m,C),fo=!1;var ae=o.memoizedState;b.state=ae,Hd(o,m,b,v),qd(),ne=o.memoizedState,z||ae!==ne||fo?(typeof ge=="function"&&(Xv(o,u,ge,m),ne=o.memoizedState),(G=fo||hT(o,u,G,m,ae,ne,C))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ne),b.props=m,b.state=ne,b.context=C,m=G):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Tv(i,o),C=o.memoizedProps,fe=Ll(u,C),b.props=fe,ge=o.pendingProps,ae=b.context,ne=u.contextType,G=zc,typeof ne=="object"&&ne!==null&&(G=sr(ne)),z=u.getDerivedStateFromProps,(ne=typeof z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==ge||ae!==G)&&mT(o,b,m,G),fo=!1,ae=o.memoizedState,b.state=ae,Hd(o,m,b,v),qd();var oe=o.memoizedState;C!==ge||ae!==oe||fo||i!==null&&i.dependencies!==null&&Tm(i.dependencies)?(typeof z=="function"&&(Xv(o,u,z,m),oe=o.memoizedState),(fe=fo||hT(o,u,fe,m,ae,oe,G)||i!==null&&i.dependencies!==null&&Tm(i.dependencies))?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,oe,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,oe,G)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=oe),b.props=m,b.state=oe,b.context=G,m=fe):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),m=!1)}return b=m,Gm(i,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&m?(o.child=kl(o,i.child,null,v),o.child=kl(o,null,u,v)):or(i,o,u,v),o.memoizedState=b.state,i=o.child):i=ds(i,o,v),i}function CT(i,o,u,m){return Cl(),o.flags|=256,or(i,o,u,m),o.child}var tx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nx(i){return{baseLanes:i,cachePool:vS()}}function rx(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=sa),i}function IT(i,o,u){var m=o.pendingProps,v=!1,b=(o.flags&128)!==0,C;if((C=b)||(C=i!==null&&i.memoizedState===null?!1:(mn.current&2)!==0),C&&(v=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,i===null){if(ft){if(v?po(o):go(),(i=zt)?(i=UA(i,Ea),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:oo!==null?{id:Ri,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},u=cS(i),u.return=o,o.child=u,ir=o,zt=null)):i=null,i===null)throw co(o);return Vx(i)?o.lanes=32:o.lanes=536870912,null}var z=m.children;return m=m.fallback,v?(go(),v=o.mode,z=Km({mode:"hidden",children:z},v),m=Al(m,v,u,null),z.return=o,m.return=o,z.sibling=m,o.child=z,m=o.child,m.memoizedState=nx(u),m.childLanes=rx(i,C,u),o.memoizedState=tx,Xd(null,m)):(po(o),ax(o,z))}var G=i.memoizedState;if(G!==null&&(z=G.dehydrated,z!==null)){if(b)o.flags&256?(po(o),o.flags&=-257,o=ix(i,o,u)):o.memoizedState!==null?(go(),o.child=i.child,o.flags|=128,o=null):(go(),z=m.fallback,v=o.mode,m=Km({mode:"visible",children:m.children},v),z=Al(z,v,u,null),z.flags|=2,m.return=o,z.return=o,m.sibling=z,o.child=m,kl(o,i.child,null,u),m=o.child,m.memoizedState=nx(u),m.childLanes=rx(i,C,u),o.memoizedState=tx,o=Xd(null,m));else if(po(o),Vx(z)){if(C=z.nextSibling&&z.nextSibling.dataset,C)var ne=C.dgst;C=ne,m=Error(r(419)),m.stack="",m.digest=C,Ud({value:m,source:null,stack:null}),o=ix(i,o,u)}else if(An||qc(i,o,u,!1),C=(u&i.childLanes)!==0,An||C){if(C=Mt,C!==null&&(m=yd(C,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,Tl(i,m),zr(C,i,m),Jv;Ux(z)||np(),o=ix(i,o,u)}else Ux(z)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,zt=Ta(z.nextSibling),ir=o,ft=!0,lo=null,Ea=!1,i!==null&&fS(o,i),o=ax(o,m.children),o.flags|=4096);return o}return v?(go(),z=m.fallback,v=o.mode,G=i.child,ne=G.sibling,m=is(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ne!==null?z=is(ne,z):(z=Al(z,v,u,null),z.flags|=2),z.return=o,m.return=o,m.sibling=z,o.child=m,Xd(null,m),m=o.child,z=i.child.memoizedState,z===null?z=nx(u):(v=z.cachePool,v!==null?(G=Sn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=vS(),z={baseLanes:z.baseLanes|u,cachePool:v}),m.memoizedState=z,m.childLanes=rx(i,C,u),o.memoizedState=tx,Xd(i.child,m)):(po(o),u=i.child,i=u.sibling,u=is(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(C=o.deletions,C===null?(o.deletions=[i],o.flags|=16):C.push(i)),o.child=u,o.memoizedState=null,u)}function ax(i,o){return o=Km({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Km(i,o){return i=na(22,i,null,o),i.lanes=0,i}function ix(i,o,u){return kl(o,i.child,null,u),i=ax(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function OT(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),bv(i.return,o,u)}function sx(i,o,u,m,v,b){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=u,C.tailMode=v,C.treeForkCount=b)}function RT(i,o,u){var m=o.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var C=mn.current,z=(C&2)!==0;if(z?(C=C&1|2,o.flags|=128):C&=1,H(mn,C),or(i,o,m,u),m=ft?Ld:0,!z&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&OT(i,u,o);else if(i.tag===19)OT(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&km(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),sx(o,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&km(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}sx(o,!0,u,null,b,m);break;case"together":sx(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ds(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),xo|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(qc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=is(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=is(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ox(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Tm(i)))}function UV(i,o,u){switch(o.tag){case 3:He(o,o.stateNode.containerInfo),uo(o,Sn,i.memoizedState.cache),Cl();break;case 27:case 5:Ve(o);break;case 4:He(o,o.stateNode.containerInfo);break;case 10:uo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Rv(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(po(o),o.flags|=128,null):(u&o.child.childLanes)!==0?IT(i,o,u):(po(o),i=ds(i,o,u),i!==null?i.sibling:null);po(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(qc(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return RT(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(mn,mn.current),m)break;return null;case 22:return o.lanes=0,jT(i,o,u,o.pendingProps);case 24:uo(o,Sn,i.memoizedState.cache)}return ds(i,o,u)}function PT(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)An=!0;else{if(!ox(i,u)&&(o.flags&128)===0)return An=!1,UV(i,o,u);An=(i.flags&131072)!==0}else An=!1,ft&&(o.flags&1048576)!==0&&dS(o,Ld,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Pl(o.elementType),o.type=i,typeof i=="function")fv(i)?(m=Ll(i,m),o.tag=1,o=AT(null,o,i,m,u)):(o.tag=0,o=ex(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===M){o.tag=11,o=wT(null,o,i,m,u);break e}else if(v===k){o.tag=14,o=_T(null,o,i,m,u);break e}}throw o=pe(i)||i,Error(r(306,o,""))}}return o;case 0:return ex(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Ll(m,o.pendingProps),AT(i,o,m,v,u);case 3:e:{if(He(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;v=b.element,Tv(i,o),Hd(o,m,null,u);var C=o.memoizedState;if(m=C.cache,uo(o,Sn,m),m!==b.cache&&wv(o,[Sn],u,!0),qd(),m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=CT(i,o,m,u);break e}else if(m!==v){v=_a(Error(r(424)),o),Ud(v),o=CT(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(zt=Ta(i.firstChild),ir=o,ft=!0,lo=null,Ea=!0,u=jS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Cl(),m===v){o=ds(i,o,u);break e}or(i,o,m,u)}o=o.child}return o;case 26:return Gm(i,o),i===null?(u=qA(o.type,null,o.pendingProps,null))?o.memoizedState=u:ft||(u=o.type,i=o.pendingProps,m=cp(_e.current).createElement(u),m[Nn]=o,m[Kn]=i,lr(m,u,i),jn(m),o.stateNode=m):o.memoizedState=qA(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ve(o),i===null&&ft&&(m=o.stateNode=BA(o.type,o.pendingProps,_e.current),ir=o,Ea=!0,v=zt,jo(o.type)?(zx=v,zt=Ta(m.firstChild)):zt=v),or(i,o,o.pendingProps.children,u),Gm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ft&&((v=m=zt)&&(m=m8(m,o.type,o.pendingProps,Ea),m!==null?(o.stateNode=m,ir=o,zt=Ta(m.firstChild),Ea=!1,v=!0):v=!1),v||co(o)),Ve(o),v=o.type,b=o.pendingProps,C=i!==null?i.memoizedProps:null,m=b.children,kx(v,b)?m=null:C!==null&&kx(v,C)&&(o.flags|=32),o.memoizedState!==null&&(v=Dv(i,o,CV,null,null,u),ff._currentValue=v),Gm(i,o),or(i,o,m,u),o.child;case 6:return i===null&&ft&&((i=u=zt)&&(u=p8(u,o.pendingProps,Ea),u!==null?(o.stateNode=u,ir=o,zt=null,i=!0):i=!1),i||co(o)),null;case 13:return IT(i,o,u);case 4:return He(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=kl(o,null,m,u):or(i,o,m,u),o.child;case 11:return wT(i,o,o.type,o.pendingProps,u);case 7:return or(i,o,o.pendingProps,u),o.child;case 8:return or(i,o,o.pendingProps.children,u),o.child;case 12:return or(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,uo(o,o.type,m.value),or(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Ol(o),v=sr(v),m=m(v),o.flags|=1,or(i,o,m,u),o.child;case 14:return _T(i,o,o.type,o.pendingProps,u);case 15:return NT(i,o,o.type,o.pendingProps,u);case 19:return RT(i,o,u);case 31:return LV(i,o,u);case 22:return jT(i,o,u,o.pendingProps);case 24:return Ol(o),m=sr(Sn),i===null?(v=jv(),v===null&&(v=Mt,b=_v(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),o.memoizedState={parent:m,cache:v},Sv(o),uo(o,Sn,v)):((i.lanes&u)!==0&&(Tv(i,o),Hd(o,null,null,u),qd()),v=i.memoizedState,b=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),uo(o,Sn,m)):(m=b.cache,uo(o,Sn,m),m!==v.cache&&wv(o,[Sn],u,!0))),or(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function fs(i){i.flags|=4}function lx(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(sA())i.flags|=8192;else throw Dl=Om,Ev}else i.flags&=-16777217}function DT(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!WA(o))if(sA())i.flags|=8192;else throw Dl=Om,Ev}function Ym(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?em():536870912,i.lanes|=o,nu|=o)}function Qd(i,o){if(!ft)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Bt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function VV(i,o,u){var m=o.pendingProps;switch(gv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return Bt(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ls(Sn),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&($c(o)?fs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,vv())),Bt(o),null;case 26:var v=o.type,b=o.memoizedState;return i===null?(fs(o),b!==null?(Bt(o),DT(o,b)):(Bt(o),lx(o,v,null,m,u))):b?b!==i.memoizedState?(fs(o),Bt(o),DT(o,b)):(Bt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&fs(o),Bt(o),lx(o,v,i,m,u)),null;case 27:if(Ge(o),u=_e.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&fs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}i=Q.current,$c(o)?hS(o):(i=BA(v,m,u),o.stateNode=i,fs(o))}return Bt(o),null;case 5:if(Ge(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&fs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Bt(o),null}if(b=Q.current,$c(o))hS(o);else{var C=cp(_e.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?C.createElement("select",{is:m.is}):C.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?C.createElement(v,{is:m.is}):C.createElement(v)}}b[Nn]=o,b[Kn]=m;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=b;e:switch(lr(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&fs(o)}}return Bt(o),lx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&fs(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=_e.current,$c(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=ir,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[Nn]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||IA(i.nodeValue,u)),i||co(o,!0)}else i=cp(i).createTextNode(m),i[Nn]=o,o.stateNode=i}return Bt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=$c(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Nn]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),i=!1}else u=vv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(aa(o),o):(aa(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Bt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=$c(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Nn]=o}else Cl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Bt(o),v=!1}else v=vv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(aa(o),o):(aa(o),null)}return aa(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Ym(o,o.updateQueue),Bt(o),null);case 4:return ce(),i===null&&Ix(o.stateNode.containerInfo),Bt(o),null;case 10:return ls(o.type),Bt(o),null;case 19:if(K(mn),m=o.memoizedState,m===null)return Bt(o),null;if(v=(o.flags&128)!==0,b=m.rendering,b===null)if(v)Qd(m,!1);else{if(ln!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=km(i),b!==null){for(o.flags|=128,Qd(m,!1),i=b.updateQueue,o.updateQueue=i,Ym(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)lS(u,i),u=u.sibling;return H(mn,mn.current&1|2),ft&&ss(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&Gn()>Jm&&(o.flags|=128,v=!0,Qd(m,!1),o.lanes=4194304)}else{if(!v)if(i=km(b),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,Ym(o,i),Qd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ft)return Bt(o),null}else 2*Gn()-m.renderingStartTime>Jm&&u!==536870912&&(o.flags|=128,v=!0,Qd(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Gn(),i.sibling=null,u=mn.current,H(mn,v?u&1|2:u&1),ft&&ss(o,m.treeForkCount),i):(Bt(o),null);case 22:case 23:return aa(o),Ov(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),u=o.updateQueue,u!==null&&Ym(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&K(Rl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ls(Sn),Bt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function zV(i,o){switch(gv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ls(Sn),ce(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ge(o),null;case 31:if(o.memoizedState!==null){if(aa(o),o.alternate===null)throw Error(r(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(aa(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Cl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return K(mn),null;case 4:return ce(),null;case 10:return ls(o.type),null;case 22:case 23:return aa(o),Ov(),i!==null&&K(Rl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ls(Sn),null;case 25:return null;default:return null}}function kT(i,o){switch(gv(o),o.tag){case 3:ls(Sn),ce();break;case 26:case 27:case 5:Ge(o);break;case 4:ce();break;case 31:o.memoizedState!==null&&aa(o);break;case 13:aa(o);break;case 19:K(mn);break;case 10:ls(o.type);break;case 22:case 23:aa(o),Ov(),i!==null&&K(Rl);break;case 24:ls(Sn)}}function Zd(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var b=u.create,C=u.inst;m=b(),C.destroy=m}u=u.next}while(u!==v)}}catch(z){St(o,o.return,z)}}function yo(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&i)===i){var C=m.inst,z=C.destroy;if(z!==void 0){C.destroy=void 0,v=o;var G=u,ne=z;try{ne()}catch(fe){St(v,G,fe)}}}m=m.next}while(m!==b)}}catch(fe){St(o,o.return,fe)}}function MT(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{SS(o,u)}catch(m){St(i,i.return,m)}}}function LT(i,o,u){u.props=Ll(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){St(i,o,m)}}function Jd(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){St(i,o,v)}}function Di(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){St(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){St(i,o,v)}else u.current=null}function UT(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){St(i,i.return,v)}}function cx(i,o,u){try{var m=i.stateNode;l8(m,i.type,u,o),m[Kn]=o}catch(v){St(i,i.return,v)}}function VT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&jo(i.type)||i.tag===4}function ux(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||VT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&jo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dx(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ga));else if(m!==4&&(m===27&&jo(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(dx(i,o,u),i=i.sibling;i!==null;)dx(i,o,u),i=i.sibling}function Wm(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&jo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Wm(i,o,u),i=i.sibling;i!==null;)Wm(i,o,u),i=i.sibling}function zT(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);lr(o,m,u),o[Nn]=i,o[Kn]=u}catch(b){St(i,i.return,b)}}var hs=!1,Cn=!1,fx=!1,BT=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function BV(i,o){if(i=i.containerInfo,Px=gp,i=JE(i),iv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var C=0,z=-1,G=-1,ne=0,fe=0,ge=i,ae=null;t:for(;;){for(var oe;ge!==u||v!==0&&ge.nodeType!==3||(z=C+v),ge!==b||m!==0&&ge.nodeType!==3||(G=C+m),ge.nodeType===3&&(C+=ge.nodeValue.length),(oe=ge.firstChild)!==null;)ae=ge,ge=oe;for(;;){if(ge===i)break t;if(ae===u&&++ne===v&&(z=C),ae===b&&++fe===m&&(G=C),(oe=ge.nextSibling)!==null)break;ge=ae,ae=ge.parentNode}ge=oe}u=z===-1||G===-1?null:{start:z,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dx={focusedElem:i,selectionRange:u},gp=!1,Wn=o;Wn!==null;)if(o=Wn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Wn=i;else for(;Wn!==null;){switch(o=Wn,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=o,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Re=Ll(u.type,v);i=m.getSnapshotBeforeUpdate(Re,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(ze){St(u,u.return,ze)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Lx(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Lx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Wn=i;break}Wn=o.return}}function FT(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ps(i,u),m&4&&Zd(5,u);break;case 1:if(ps(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(C){St(u,u.return,C)}else{var v=Ll(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(C){St(u,u.return,C)}}m&64&&MT(u),m&512&&Jd(u,u.return);break;case 3:if(ps(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{SS(i,o)}catch(C){St(u,u.return,C)}}break;case 27:o===null&&m&4&&zT(u);case 26:case 5:ps(i,u),o===null&&m&4&&UT(u),m&512&&Jd(u,u.return);break;case 12:ps(i,u);break;case 31:ps(i,u),m&4&&HT(i,u);break;case 13:ps(i,u),m&4&&GT(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=XV.bind(null,u),g8(i,u))));break;case 22:if(m=u.memoizedState!==null||hs,!m){o=o!==null&&o.memoizedState!==null||Cn,v=hs;var b=Cn;hs=m,(Cn=o)&&!b?gs(i,u,(u.subtreeFlags&8772)!==0):ps(i,u),hs=v,Cn=b}break;case 30:break;default:ps(i,u)}}function $T(i){var o=i.alternate;o!==null&&(i.alternate=null,$T(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Sc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Gt=null,Mr=!1;function ms(i,o,u){for(u=u.child;u!==null;)qT(i,o,u),u=u.sibling}function qT(i,o,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Pr,u)}catch{}switch(u.tag){case 26:Cn||Di(u,o),ms(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Cn||Di(u,o);var m=Gt,v=Mr;jo(u.type)&&(Gt=u.stateNode,Mr=!1),ms(i,o,u),cf(u.stateNode),Gt=m,Mr=v;break;case 5:Cn||Di(u,o);case 6:if(m=Gt,v=Mr,Gt=null,ms(i,o,u),Gt=m,Mr=v,Gt!==null)if(Mr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(u.stateNode)}catch(b){St(u,o,b)}else try{Gt.removeChild(u.stateNode)}catch(b){St(u,o,b)}break;case 18:Gt!==null&&(Mr?(i=Gt,MA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),uu(i)):MA(Gt,u.stateNode));break;case 4:m=Gt,v=Mr,Gt=u.stateNode.containerInfo,Mr=!0,ms(i,o,u),Gt=m,Mr=v;break;case 0:case 11:case 14:case 15:yo(2,u,o),Cn||yo(4,u,o),ms(i,o,u);break;case 1:Cn||(Di(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&LT(u,o,m)),ms(i,o,u);break;case 21:ms(i,o,u);break;case 22:Cn=(m=Cn)||u.memoizedState!==null,ms(i,o,u),Cn=m;break;default:ms(i,o,u)}}function HT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{uu(i)}catch(u){St(o,o.return,u)}}}function GT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uu(i)}catch(u){St(o,o.return,u)}}function FV(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new BT),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new BT),o;default:throw Error(r(435,i.tag))}}function Xm(i,o){var u=FV(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=QV.bind(null,i,m);m.then(v,v)}})}function Lr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=i,C=o,z=C;e:for(;z!==null;){switch(z.tag){case 27:if(jo(z.type)){Gt=z.stateNode,Mr=!1;break e}break;case 5:Gt=z.stateNode,Mr=!1;break e;case 3:case 4:Gt=z.stateNode.containerInfo,Mr=!0;break e}z=z.return}if(Gt===null)throw Error(r(160));qT(b,C,v),Gt=null,Mr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)KT(o,i),o=o.sibling}var Za=null;function KT(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(o,i),Ur(i),m&4&&(yo(3,i,i.return),Zd(3,i),yo(5,i,i.return));break;case 1:Lr(o,i),Ur(i),m&512&&(Cn||u===null||Di(u,u.return)),m&64&&hs&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Za;if(Lr(o,i),Ur(i),m&512&&(Cn||u===null||Di(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[bi]||b[Nn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),lr(b,m,u),b[Nn]=i,jn(b),m=b;break e;case"link":var C=KA("link","href",v).get(m+(u.href||""));if(C){for(var z=0;z<C.length;z++)if(b=C[z],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(z,1);break t}}b=v.createElement(m),lr(b,m,u),v.head.appendChild(b);break;case"meta":if(C=KA("meta","content",v).get(m+(u.content||""))){for(z=0;z<C.length;z++)if(b=C[z],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(z,1);break t}}b=v.createElement(m),lr(b,m,u),v.head.appendChild(b);break;default:throw Error(r(468,m))}b[Nn]=i,jn(b),m=b}i.stateNode=m}else YA(v,i.type,i.stateNode);else i.stateNode=GA(v,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?YA(v,i.type,i.stateNode):GA(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&cx(i,i.memoizedProps,u.memoizedProps)}break;case 27:Lr(o,i),Ur(i),m&512&&(Cn||u===null||Di(u,u.return)),u!==null&&m&4&&cx(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Lr(o,i),Ur(i),m&512&&(Cn||u===null||Di(u,u.return)),i.flags&32){v=i.stateNode;try{kr(v,"")}catch(Re){St(i,i.return,Re)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,cx(i,v,u!==null?u.memoizedProps:v)),m&1024&&(fx=!0);break;case 6:if(Lr(o,i),Ur(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Re){St(i,i.return,Re)}}break;case 3:if(fp=null,v=Za,Za=up(o.containerInfo),Lr(o,i),Za=v,Ur(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{uu(o.containerInfo)}catch(Re){St(i,i.return,Re)}fx&&(fx=!1,YT(i));break;case 4:m=Za,Za=up(i.stateNode.containerInfo),Lr(o,i),Ur(i),Za=m;break;case 12:Lr(o,i),Ur(i);break;case 31:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Xm(i,m)));break;case 13:Lr(o,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Zm=Gn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Xm(i,m)));break;case 22:v=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ne=hs,fe=Cn;if(hs=ne||v,Cn=fe||G,Lr(o,i),Cn=fe,hs=ne,Ur(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||G||hs||Cn||Ul(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(b=G.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{z=G.stateNode;var ge=G.memoizedProps.style,ae=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;z.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){St(G,G.return,Re)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Re){St(G,G.return,Re)}}}else if(o.tag===18){if(u===null){G=o;try{var oe=G.stateNode;v?LA(oe,!0):LA(G.stateNode,!1)}catch(Re){St(G,G.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Xm(i,u))));break;case 19:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Xm(i,m)));break;case 30:break;case 21:break;default:Lr(o,i),Ur(i)}}function Ur(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(VT(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=ux(i);Wm(i,b,v);break;case 5:var C=u.stateNode;u.flags&32&&(kr(C,""),u.flags&=-33);var z=ux(i);Wm(i,z,C);break;case 3:case 4:var G=u.stateNode.containerInfo,ne=ux(i);dx(i,ne,G);break;default:throw Error(r(161))}}catch(fe){St(i,i.return,fe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function YT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;YT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ps(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)FT(i,o.alternate,o),o=o.sibling}function Ul(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),Ul(o);break;case 1:Di(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&LT(o,o.return,u),Ul(o);break;case 27:cf(o.stateNode);case 26:case 5:Di(o,o.return),Ul(o);break;case 22:o.memoizedState===null&&Ul(o);break;case 30:Ul(o);break;default:Ul(o)}i=i.sibling}}function gs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,b=o,C=b.flags;switch(b.tag){case 0:case 11:case 15:gs(v,b,u),Zd(4,b);break;case 1:if(gs(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ne){St(m,m.return,ne)}if(m=b,v=m.updateQueue,v!==null){var z=m.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)ES(G[v],z)}catch(ne){St(m,m.return,ne)}}u&&C&64&&MT(b),Jd(b,b.return);break;case 27:zT(b);case 26:case 5:gs(v,b,u),u&&m===null&&C&4&&UT(b),Jd(b,b.return);break;case 12:gs(v,b,u);break;case 31:gs(v,b,u),u&&C&4&&HT(v,b);break;case 13:gs(v,b,u),u&&C&4&&GT(v,b);break;case 22:b.memoizedState===null&&gs(v,b,u),Jd(b,b.return);break;case 30:break;default:gs(v,b,u)}o=o.sibling}}function hx(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Vd(u))}function mx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Vd(i))}function Ja(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)WT(i,o,u,m),o=o.sibling}function WT(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ja(i,o,u,m),v&2048&&Zd(9,o);break;case 1:Ja(i,o,u,m);break;case 3:Ja(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Vd(i)));break;case 12:if(v&2048){Ja(i,o,u,m),i=o.stateNode;try{var b=o.memoizedProps,C=b.id,z=b.onPostCommit;typeof z=="function"&&z(C,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){St(o,o.return,G)}}else Ja(i,o,u,m);break;case 31:Ja(i,o,u,m);break;case 13:Ja(i,o,u,m);break;case 23:break;case 22:b=o.stateNode,C=o.alternate,o.memoizedState!==null?b._visibility&2?Ja(i,o,u,m):ef(i,o):b._visibility&2?Ja(i,o,u,m):(b._visibility|=2,Jc(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&hx(C,o);break;case 24:Ja(i,o,u,m),v&2048&&mx(o.alternate,o);break;default:Ja(i,o,u,m)}}function Jc(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,C=o,z=u,G=m,ne=C.flags;switch(C.tag){case 0:case 11:case 15:Jc(b,C,z,G,v),Zd(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?Jc(b,C,z,G,v):ef(b,C):(fe._visibility|=2,Jc(b,C,z,G,v)),v&&ne&2048&&hx(C.alternate,C);break;case 24:Jc(b,C,z,G,v),v&&ne&2048&&mx(C.alternate,C);break;default:Jc(b,C,z,G,v)}o=o.sibling}}function ef(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:ef(u,m),v&2048&&hx(m.alternate,m);break;case 24:ef(u,m),v&2048&&mx(m.alternate,m);break;default:ef(u,m)}o=o.sibling}}var tf=8192;function eu(i,o,u){if(i.subtreeFlags&tf)for(i=i.child;i!==null;)XT(i,o,u),i=i.sibling}function XT(i,o,u){switch(i.tag){case 26:eu(i,o,u),i.flags&tf&&i.memoizedState!==null&&A8(u,Za,i.memoizedState,i.memoizedProps);break;case 5:eu(i,o,u);break;case 3:case 4:var m=Za;Za=up(i.stateNode.containerInfo),eu(i,o,u),Za=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=tf,tf=16777216,eu(i,o,u),tf=m):eu(i,o,u));break;default:eu(i,o,u)}}function QT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function nf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Wn=m,JT(m,i)}QT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ZT(i),i=i.sibling}function ZT(i){switch(i.tag){case 0:case 11:case 15:nf(i),i.flags&2048&&yo(9,i,i.return);break;case 3:nf(i);break;case 12:nf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Qm(i)):nf(i);break;default:nf(i)}}function Qm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Wn=m,JT(m,i)}QT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:yo(8,o,o.return),Qm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Qm(o));break;default:Qm(o)}i=i.sibling}}function JT(i,o){for(;Wn!==null;){var u=Wn;switch(u.tag){case 0:case 11:case 15:yo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Wn=m;else e:for(u=i;Wn!==null;){m=Wn;var v=m.sibling,b=m.return;if($T(m),m===u){Wn=null;break e}if(v!==null){v.return=b,Wn=v;break e}Wn=b}}}var $V={getCacheForType:function(i){var o=sr(Sn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return sr(Sn).controller.signal}},qV=typeof WeakMap=="function"?WeakMap:Map,bt=0,Mt=null,rt=null,st=0,Et=0,ia=null,vo=!1,tu=!1,px=!1,ys=0,ln=0,xo=0,Vl=0,gx=0,sa=0,nu=0,rf=null,Vr=null,yx=!1,Zm=0,eA=0,Jm=1/0,ep=null,bo=null,Ln=0,wo=null,ru=null,vs=0,vx=0,xx=null,tA=null,af=0,bx=null;function oa(){return(bt&2)!==0&&st!==0?st&-st:Y.T!==null?Sx():tm()}function nA(){if(sa===0)if((st&536870912)===0||ft){var i=fl;fl<<=1,(fl&3932160)===0&&(fl=262144),sa=i}else sa=536870912;return i=ra.current,i!==null&&(i.flags|=32),sa}function zr(i,o,u){(i===Mt&&(Et===2||Et===9)||i.cancelPendingCommit!==null)&&(au(i,0),_o(i,st,sa,!1)),hl(i,u),((bt&2)===0||i!==Mt)&&(i===Mt&&((bt&2)===0&&(Vl|=u),ln===4&&_o(i,st,sa,!1)),ki(i))}function rA(i,o,u){if((bt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||$a(i,o),v=m?KV(i,o):_x(i,o,!0),b=m;do{if(v===0){tu&&!m&&_o(i,o,0,!1);break}else{if(u=i.current.alternate,b&&!HV(u)){v=_x(i,o,!1),b=!1;continue}if(v===2){if(b=o,i.errorRecoveryDisabledLanes&b)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var z=i;v=rf;var G=z.current.memoizedState.isDehydrated;if(G&&(au(z,C).flags|=256),C=_x(z,C,!1),C!==2){if(px&&!G){z.errorRecoveryDisabledLanes|=b,Vl|=b,v=4;break e}b=Vr,Vr=v,b!==null&&(Vr===null?Vr=b:Vr.push.apply(Vr,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){au(i,0),_o(i,o,0,!0);break}e:{switch(m=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:_o(m,o,sa,!vo);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Zm+300-Gn(),10<v)){if(_o(m,o,sa,!vo),yi(m,0,!0)!==0)break e;vs=o,m.timeoutHandle=DA(aA.bind(null,m,u,Vr,ep,yx,o,sa,Vl,nu,vo,b,"Throttled",-0,0),v);break e}aA(m,u,Vr,ep,yx,o,sa,Vl,nu,vo,b,null,-0,0)}}break}while(!0);ki(i)}function aA(i,o,u,m,v,b,C,z,G,ne,fe,ge,ae,oe){if(i.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},XT(o,b,ge);var Re=(b&62914560)===b?Zm-Gn():(b&4194048)===b?eA-Gn():0;if(Re=C8(ge,Re),Re!==null){vs=b,i.cancelPendingCommit=Re(fA.bind(null,i,o,b,u,m,v,C,z,G,fe,ge,null,ae,oe)),_o(i,b,C,!ne);return}}fA(i,o,b,u,m,v,C,z,G)}function HV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!ta(b(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _o(i,o,u,m){o&=~gx,o&=~Vl,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var b=31-fn(v),C=1<<b;m[b]=-1,v&=~C}u!==0&&ml(i,u,o)}function tp(){return(bt&6)===0?(sf(0),!1):!0}function wx(){if(rt!==null){if(Et===0)var i=rt.return;else i=rt,os=Il=null,Lv(i),Yc=null,Bd=0,i=rt;for(;i!==null;)kT(i.alternate,i),i=i.return;rt=null}}function au(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,d8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),vs=0,wx(),Mt=i,rt=u=is(i.current,null),st=o,Et=0,ia=null,vo=!1,tu=$a(i,o),px=!1,nu=sa=gx=Vl=xo=ln=0,Vr=rf=null,yx=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-fn(m),b=1<<v;o|=i[v],m&=~b}return ys=o,_m(),u}function iA(i,o){et=null,Y.H=Wd,o===Kc||o===Im?(o=wS(),Et=3):o===Ev?(o=wS(),Et=4):Et=o===Jv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ia=o,rt===null&&(ln=1,qm(i,_a(o,i.current)))}function sA(){var i=ra.current;return i===null?!0:(st&4194048)===st?Sa===null:(st&62914560)===st||(st&536870912)!==0?i===Sa:!1}function oA(){var i=Y.H;return Y.H=Wd,i===null?Wd:i}function lA(){var i=Y.A;return Y.A=$V,i}function np(){ln=4,vo||(st&4194048)!==st&&ra.current!==null||(tu=!0),(xo&134217727)===0&&(Vl&134217727)===0||Mt===null||_o(Mt,st,sa,!1)}function _x(i,o,u){var m=bt;bt|=2;var v=oA(),b=lA();(Mt!==i||st!==o)&&(ep=null,au(i,o)),o=!1;var C=ln;e:do try{if(Et!==0&&rt!==null){var z=rt,G=ia;switch(Et){case 8:wx(),C=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(o=!0);var ne=Et;if(Et=0,ia=null,iu(i,z,G,ne),u&&tu){C=0;break e}break;default:ne=Et,Et=0,ia=null,iu(i,z,G,ne)}}GV(),C=ln;break}catch(fe){iA(i,fe)}while(!0);return o&&i.shellSuspendCounter++,os=Il=null,bt=m,Y.H=v,Y.A=b,rt===null&&(Mt=null,st=0,_m()),C}function GV(){for(;rt!==null;)cA(rt)}function KV(i,o){var u=bt;bt|=2;var m=oA(),v=lA();Mt!==i||st!==o?(ep=null,Jm=Gn()+500,au(i,o)):tu=$a(i,o);e:do try{if(Et!==0&&rt!==null){o=rt;var b=ia;t:switch(Et){case 1:Et=0,ia=null,iu(i,o,b,1);break;case 2:case 9:if(xS(b)){Et=0,ia=null,uA(o);break}o=function(){Et!==2&&Et!==9||Mt!==i||(Et=7),ki(i)},b.then(o,o);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:xS(b)?(Et=0,ia=null,uA(o)):(Et=0,ia=null,iu(i,o,b,7));break;case 5:var C=null;switch(rt.tag){case 26:C=rt.memoizedState;case 5:case 27:var z=rt;if(C?WA(C):z.stateNode.complete){Et=0,ia=null;var G=z.sibling;if(G!==null)rt=G;else{var ne=z.return;ne!==null?(rt=ne,rp(ne)):rt=null}break t}}Et=0,ia=null,iu(i,o,b,5);break;case 6:Et=0,ia=null,iu(i,o,b,6);break;case 8:wx(),ln=6;break e;default:throw Error(r(462))}}YV();break}catch(fe){iA(i,fe)}while(!0);return os=Il=null,Y.H=m,Y.A=v,bt=u,rt!==null?0:(Mt=null,st=0,_m(),ln)}function YV(){for(;rt!==null&&!Ba();)cA(rt)}function cA(i){var o=PT(i.alternate,i,ys);i.memoizedProps=i.pendingProps,o===null?rp(i):rt=o}function uA(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=TT(u,o,o.pendingProps,o.type,void 0,st);break;case 11:o=TT(u,o,o.pendingProps,o.type.render,o.ref,st);break;case 5:Lv(o);default:kT(u,o),o=rt=lS(o,ys),o=PT(u,o,ys)}i.memoizedProps=i.pendingProps,o===null?rp(i):rt=o}function iu(i,o,u,m){os=Il=null,Lv(o),Yc=null,Bd=0;var v=o.return;try{if(MV(i,v,o,u,st)){ln=1,qm(i,_a(u,i.current)),rt=null;return}}catch(b){if(v!==null)throw rt=v,b;ln=1,qm(i,_a(u,i.current)),rt=null;return}o.flags&32768?(ft||m===1?i=!0:tu||(st&536870912)!==0?i=!1:(vo=i=!0,(m===2||m===9||m===3||m===6)&&(m=ra.current,m!==null&&m.tag===13&&(m.flags|=16384))),dA(o,i)):rp(o)}function rp(i){var o=i;do{if((o.flags&32768)!==0){dA(o,vo);return}i=o.return;var u=VV(o.alternate,o,ys);if(u!==null){rt=u;return}if(o=o.sibling,o!==null){rt=o;return}rt=o=i}while(o!==null);ln===0&&(ln=5)}function dA(i,o){do{var u=zV(i.alternate,i);if(u!==null){u.flags&=32767,rt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){rt=i;return}rt=i=u}while(i!==null);ln=6,rt=null}function fA(i,o,u,m,v,b,C,z,G){i.cancelPendingCommit=null;do ap();while(Ln!==0);if((bt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=uv,tv(i,u,b,C,z,G),i===Mt&&(rt=Mt=null,st=0),ru=o,wo=i,vs=u,vx=b,xx=v,tA=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZV(tn,function(){return yA(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null,v=ie.p,ie.p=2,C=bt,bt|=4;try{BV(i,o,u)}finally{bt=C,ie.p=v,Y.T=m}}Ln=1,hA(),mA(),pA()}}function hA(){if(Ln===1){Ln=0;var i=wo,o=ru,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null;var m=ie.p;ie.p=2;var v=bt;bt|=4;try{KT(o,i);var b=Dx,C=JE(i.containerInfo),z=b.focusedElem,G=b.selectionRange;if(C!==z&&z&&z.ownerDocument&&ZE(z.ownerDocument.documentElement,z)){if(G!==null&&iv(z)){var ne=G.start,fe=G.end;if(fe===void 0&&(fe=ne),"selectionStart"in z)z.selectionStart=ne,z.selectionEnd=Math.min(fe,z.value.length);else{var ge=z.ownerDocument||document,ae=ge&&ge.defaultView||window;if(ae.getSelection){var oe=ae.getSelection(),Re=z.textContent.length,ze=Math.min(G.start,Re),Rt=G.end===void 0?ze:Math.min(G.end,Re);!oe.extend&&ze>Rt&&(C=Rt,Rt=ze,ze=C);var J=QE(z,ze),W=QE(z,Rt);if(J&&W&&(oe.rangeCount!==1||oe.anchorNode!==J.node||oe.anchorOffset!==J.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var te=ge.createRange();te.setStart(J.node,J.offset),oe.removeAllRanges(),ze>Rt?(oe.addRange(te),oe.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),oe.addRange(te))}}}}for(ge=[],oe=z;oe=oe.parentNode;)oe.nodeType===1&&ge.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ge.length;z++){var he=ge[z];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}gp=!!Px,Dx=Px=null}finally{bt=v,ie.p=m,Y.T=u}}i.current=o,Ln=2}}function mA(){if(Ln===2){Ln=0;var i=wo,o=ru,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=Y.T,Y.T=null;var m=ie.p;ie.p=2;var v=bt;bt|=4;try{FT(i,o.alternate,o)}finally{bt=v,ie.p=m,Y.T=u}}Ln=3}}function pA(){if(Ln===4||Ln===3){Ln=0,Fa();var i=wo,o=ru,u=vs,m=tA;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ln=5:(Ln=0,ru=wo=null,gA(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(bo=null),ts(u),o=o.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Pr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Y.T,v=ie.p,ie.p=2,Y.T=null;try{for(var b=i.onRecoverableError,C=0;C<m.length;C++){var z=m[C];b(z.value,{componentStack:z.stack})}}finally{Y.T=o,ie.p=v}}(vs&3)!==0&&ap(),ki(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===bx?af++:(af=0,bx=i):af=0,sf(0)}}function gA(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Vd(o)))}function ap(){return hA(),mA(),pA(),yA()}function yA(){if(Ln!==5)return!1;var i=wo,o=vx;vx=0;var u=ts(vs),m=Y.T,v=ie.p;try{ie.p=32>u?32:u,Y.T=null,u=xx,xx=null;var b=wo,C=vs;if(Ln=0,ru=wo=null,vs=0,(bt&6)!==0)throw Error(r(331));var z=bt;if(bt|=4,ZT(b.current),WT(b,b.current,C,u),bt=z,sf(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Pr,b)}catch{}return!0}finally{ie.p=v,Y.T=m,gA(i,o)}}function vA(i,o,u){o=_a(u,o),o=Zv(i.stateNode,o,2),i=mo(i,o,2),i!==null&&(hl(i,2),ki(i))}function St(i,o,u){if(i.tag===3)vA(i,i,u);else for(;o!==null;){if(o.tag===3){vA(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(bo===null||!bo.has(m))){i=_a(u,i),u=xT(2),m=mo(o,u,2),m!==null&&(bT(u,m,o,i),hl(m,2),ki(m));break}}o=o.return}}function Nx(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new qV;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(px=!0,v.add(u),i=WV.bind(null,i,o,u),o.then(i,i))}function WV(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Mt===i&&(st&u)===u&&(ln===4||ln===3&&(st&62914560)===st&&300>Gn()-Zm?(bt&2)===0&&au(i,0):gx|=u,nu===st&&(nu=0)),ki(i)}function xA(i,o){o===0&&(o=em()),i=Tl(i,o),i!==null&&(hl(i,o),ki(i))}function XV(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),xA(i,u)}function QV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),xA(i,u)}function ZV(i,o){return Fe(i,o)}var ip=null,su=null,jx=!1,sp=!1,Ex=!1,No=0;function ki(i){i!==su&&i.next===null&&(su===null?ip=su=i:su=su.next=i),sp=!0,jx||(jx=!0,e8())}function sf(i,o){if(!Ex&&sp){Ex=!0;do for(var u=!1,m=ip;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var C=m.suspendedLanes,z=m.pingedLanes;b=(1<<31-fn(42|i)+1)-1,b&=v&~(C&~z),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,NA(m,b))}else b=st,b=yi(m,m===Mt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||$a(m,b)||(u=!0,NA(m,b));m=m.next}while(u);Ex=!1}}function JV(){bA()}function bA(){sp=jx=!1;var i=0;No!==0&&u8()&&(i=No);for(var o=Gn(),u=null,m=ip;m!==null;){var v=m.next,b=wA(m,o);b===0?(m.next=null,u===null?ip=v:u.next=v,v===null&&(su=u)):(u=m,(i!==0||(b&3)!==0)&&(sp=!0)),m=v}Ln!==0&&Ln!==5||sf(i),No!==0&&(No=0)}function wA(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var C=31-fn(b),z=1<<C,G=v[C];G===-1?((z&u)===0||(z&m)!==0)&&(v[C]=ev(z,o)):G<=o&&(i.expiredLanes|=z),b&=~z}if(o=Mt,u=st,u=yi(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(Et===2||Et===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&_t(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||$a(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&_t(m),ts(u)){case 2:case 8:u=en;break;case 32:u=tn;break;case 268435456:u=cl;break;default:u=tn}return m=_A.bind(null,i),u=Fe(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&_t(m),i.callbackPriority=2,i.callbackNode=null,2}function _A(i,o){if(Ln!==0&&Ln!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ap()&&i.callbackNode!==u)return null;var m=st;return m=yi(i,i===Mt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(rA(i,m,o),wA(i,Gn()),i.callbackNode!=null&&i.callbackNode===u?_A.bind(null,i):null)}function NA(i,o){if(ap())return null;rA(i,o,!0)}function e8(){f8(function(){(bt&6)!==0?Fe(Nt,JV):bA()})}function Sx(){if(No===0){var i=Hc;i===0&&(i=pi,pi<<=1,(pi&261888)===0&&(pi=256)),No=i}return No}function jA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ic(""+i)}function EA(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function t8(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var b=jA((v[Kn]||null).action),C=m.submitter;C&&(o=(o=C[Kn]||null)?jA(o.formAction):C.getAttribute("formAction"),o!==null&&(b=o,C=null));var z=new Ai("action","action",null,m,v);i.push({event:z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(No!==0){var G=C?EA(v,C):new FormData(v);Gv(u,{pending:!0,data:G,method:v.method,action:b},null,G)}}else typeof b=="function"&&(z.preventDefault(),G=C?EA(v,C):new FormData(v),Gv(u,{pending:!0,data:G,method:v.method,action:b},b,G))},currentTarget:v}]})}}for(var Tx=0;Tx<cv.length;Tx++){var Ax=cv[Tx],n8=Ax.toLowerCase(),r8=Ax[0].toUpperCase()+Ax.slice(1);Qa(n8,"on"+r8)}Qa(nS,"onAnimationEnd"),Qa(rS,"onAnimationIteration"),Qa(aS,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(xV,"onTransitionRun"),Qa(bV,"onTransitionStart"),Qa(wV,"onTransitionCancel"),Qa(iS,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function SA(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var C=m.length-1;0<=C;C--){var z=m[C],G=z.instance,ne=z.currentTarget;if(z=z.listener,G!==b&&v.isPropagationStopped())break e;b=z,v.currentTarget=ne;try{b(v)}catch(fe){wm(fe)}v.currentTarget=null,b=G}else for(C=0;C<m.length;C++){if(z=m[C],G=z.instance,ne=z.currentTarget,z=z.listener,G!==b&&v.isPropagationStopped())break e;b=z,v.currentTarget=ne;try{b(v)}catch(fe){wm(fe)}v.currentTarget=null,b=G}}}}function at(i,o){var u=o[Ec];u===void 0&&(u=o[Ec]=new Set);var m=i+"__bubble";u.has(m)||(TA(o,i,2,!1),u.add(m))}function Cx(i,o,u){var m=0;o&&(m|=4),TA(u,i,m,o)}var op="_reactListening"+Math.random().toString(36).slice(2);function Ix(i){if(!i[op]){i[op]=!0,vd.forEach(function(u){u!=="selectionchange"&&(a8.has(u)||Cx(u,!1,i),Cx(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[op]||(o[op]=!0,Cx("selectionchange",!1,o))}}function TA(i,o,u,m){switch(n2(o)){case 2:var v=R8;break;case 8:v=P8;break;default:v=Hx}u=v.bind(null,o,u,i),v=void 0,!xl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Ox(i,o,u,m,v){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var z=m.stateNode.containerInfo;if(z===v)break;if(C===4)for(C=m.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;z!==null;){if(C=wi(z),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){m=b=C;continue e}z=z.parentNode}}m=m.return}ro(function(){var ne=b,fe=va(u),ge=[];e:{var ae=sS.get(i);if(ae!==void 0){var oe=Ai,Re=i;switch(i){case"keypress":if(wl(u)===0)break e;case"keydown":case"keyup":oe=vm;break;case"focusin":Re="focus",oe=Nl;break;case"focusout":Re="blur",oe=Nl;break;case"beforeblur":case"afterblur":oe=Nl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=S;break;case nS:case rS:case aS:oe=dm;break;case iS:oe=$;break;case"scroll":case"scrollend":oe=Id;break;case"wheel":oe=se;break;case"copy":case"cut":case"paste":oe=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=as;break;case"toggle":case"beforetoggle":oe=Je}var ze=(o&4)!==0,Rt=!ze&&(i==="scroll"||i==="scrollend"),J=ze?ae!==null?ae+"Capture":null:ae;ze=[];for(var W=ne,te;W!==null;){var he=W;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||J===null||(he=Ka(W,J),he!=null&&ze.push(lf(W,he,te))),Rt)break;W=W.return}0<ze.length&&(ae=new oe(ae,Re,null,u,fe),ge.push({event:ae,listeners:ze}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",oe=i==="mouseout"||i==="pointerout",ae&&u!==Td&&(Re=u.relatedTarget||u.fromElement)&&(wi(Re)||Re[xi]))break e;if((oe||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(Re=u.relatedTarget||u.toElement,oe=ne,Re=Re?wi(Re):null,Re!==null&&(Rt=s(Re),ze=Re.tag,Re!==Rt||ze!==5&&ze!==27&&ze!==6)&&(Re=null)):(oe=null,Re=ne),oe!==Re)){if(ze=Od,he="onMouseLeave",J="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(ze=as,he="onPointerLeave",J="onPointerEnter",W="pointer"),Rt=oe==null?ae:Jr(oe),te=Re==null?ae:Jr(Re),ae=new ze(he,W+"leave",oe,u,fe),ae.target=Rt,ae.relatedTarget=te,he=null,wi(fe)===ne&&(ze=new ze(J,W+"enter",Re,u,fe),ze.target=te,ze.relatedTarget=Rt,he=ze),Rt=he,oe&&Re)t:{for(ze=i8,J=oe,W=Re,te=0,he=J;he;he=ze(he))te++;he=0;for(var Le=W;Le;Le=ze(Le))he++;for(;0<te-he;)J=ze(J),te--;for(;0<he-te;)W=ze(W),he--;for(;te--;){if(J===W||W!==null&&J===W.alternate){ze=J;break t}J=ze(J),W=ze(W)}ze=null}else ze=null;oe!==null&&AA(ge,ae,oe,ze,!1),Re!==null&&Rt!==null&&AA(ge,Rt,Re,ze,!0)}}e:{if(ae=ne?Jr(ne):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var mt=HE;else if($E(ae))if(GE)mt=gV;else{mt=mV;var De=hV}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Cc(ne.elementType)&&(mt=HE):mt=pV;if(mt&&(mt=mt(i,ne))){qE(ge,mt,u,fe);break e}De&&De(i,ae,ne),i==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&jd(ae,"number",ae.value)}switch(De=ne?Jr(ne):window,i){case"focusin":($E(De)||De.contentEditable==="true")&&(Lc=De,sv=ne,Md=null);break;case"focusout":Md=sv=Lc=null;break;case"mousedown":ov=!0;break;case"contextmenu":case"mouseup":case"dragend":ov=!1,eS(ge,u,fe);break;case"selectionchange":if(vV)break;case"keydown":case"keyup":eS(ge,u,fe)}var tt;if(xt)e:{switch(i){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Mc?jl(i,u)&&(ot="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ot="onCompositionStart");ot&&(Oi&&u.locale!=="ko"&&(Mc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Mc&&(tt=Cd()):(Ti=fe,Ad="value"in Ti?Ti.value:Ti.textContent,Mc=!0)),De=lp(ne,ot),0<De.length&&(ot=new Ii(ot,i,null,u,fe),ge.push({event:ot,listeners:De}),tt?ot.data=tt:(tt=kc(u),tt!==null&&(ot.data=tt)))),(tt=ba?cV(i,u):uV(i,u))&&(ot=lp(ne,"onBeforeInput"),0<ot.length&&(De=new Ii("onBeforeInput","beforeinput",null,u,fe),ge.push({event:De,listeners:ot}),De.data=tt)),t8(ge,i,ne,u,fe)}SA(ge,o)})}function lf(i,o,u){return{instance:i,listener:o,currentTarget:u}}function lp(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ka(i,u),v!=null&&m.unshift(lf(i,v,b)),v=Ka(i,o),v!=null&&m.push(lf(i,v,b))),i.tag===3)return m;i=i.return}return[]}function i8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function AA(i,o,u,m,v){for(var b=o._reactName,C=[];u!==null&&u!==m;){var z=u,G=z.alternate,ne=z.stateNode;if(z=z.tag,G!==null&&G===m)break;z!==5&&z!==26&&z!==27||ne===null||(G=ne,v?(ne=Ka(u,b),ne!=null&&C.unshift(lf(u,ne,G))):v||(ne=Ka(u,b),ne!=null&&C.push(lf(u,ne,G)))),u=u.return}C.length!==0&&i.push({event:o,listeners:C})}var s8=/\r\n?/g,o8=/\u0000|\uFFFD/g;function CA(i){return(typeof i=="string"?i:""+i).replace(s8,`
`).replace(o8,"")}function IA(i,o){return o=CA(o),CA(i)===o}function Ot(i,o,u,m,v,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||kr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&kr(i,""+m);break;case"className":ea(i,"class",m);break;case"tabIndex":ea(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ea(i,u,m);break;case"style":Sd(i,m,b);break;case"data":if(o!=="object"){ea(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Ic(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Ot(i,o,"name",v.name,v,null),Ot(i,o,"formEncType",v.formEncType,v,null),Ot(i,o,"formMethod",v.formMethod,v,null),Ot(i,o,"formTarget",v.formTarget,v,null)):(Ot(i,o,"encType",v.encType,v,null),Ot(i,o,"method",v.method,v,null),Ot(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Ic(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ga);break;case"onScroll":m!=null&&at("scroll",i);break;case"onScrollEnd":m!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Ic(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":at("beforetoggle",i),at("toggle",i),Tc(i,"popover",m);break;case"xlinkActuate":En(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":En(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":En(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":En(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":En(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":En(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":En(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":En(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":En(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=lm.get(u)||u,Tc(i,u,m))}}function Rx(i,o,u,m,v,b){switch(u){case"style":Sd(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?kr(i,m):(typeof m=="number"||typeof m=="bigint")&&kr(i,""+m);break;case"onScroll":m!=null&&at("scroll",i);break;case"onScrollEnd":m!=null&&at("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),b=i[Kn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(o,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Tc(i,u,m)}}}function lr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ot(i,o,b,C,u,null)}}v&&Ot(i,o,"srcSet",u.srcSet,u,null),m&&Ot(i,o,"src",u.src,u,null);return;case"input":at("invalid",i);var z=b=C=v=null,G=null,ne=null;for(m in u)if(u.hasOwnProperty(m)){var fe=u[m];if(fe!=null)switch(m){case"name":v=fe;break;case"type":C=fe;break;case"checked":G=fe;break;case"defaultChecked":ne=fe;break;case"value":b=fe;break;case"defaultValue":z=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:Ot(i,o,m,fe,u,null)}}im(i,b,z,G,ne,C,v,!1);return;case"select":at("invalid",i),m=C=b=null;for(v in u)if(u.hasOwnProperty(v)&&(z=u[v],z!=null))switch(v){case"value":b=z;break;case"defaultValue":C=z;break;case"multiple":m=z;default:Ot(i,o,v,z,u,null)}o=b,u=C,i.multiple=!!m,o!=null?Js(i,!!m,o,!1):u!=null&&Js(i,!!m,u,!0);return;case"textarea":at("invalid",i),b=v=m=null;for(C in u)if(u.hasOwnProperty(C)&&(z=u[C],z!=null))switch(C){case"value":m=z;break;case"defaultValue":v=z;break;case"children":b=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:Ot(i,o,C,z,u,null)}eo(i,m,v,b);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ot(i,o,G,m,u,null)}return;case"dialog":at("beforetoggle",i),at("toggle",i),at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(m=0;m<of.length;m++)at(of[m],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in u)if(u.hasOwnProperty(ne)&&(m=u[ne],m!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ot(i,o,ne,m,u,null)}return;default:if(Cc(o)){for(fe in u)u.hasOwnProperty(fe)&&(m=u[fe],m!==void 0&&Rx(i,o,fe,m,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(m=u[z],m!=null&&Ot(i,o,z,m,u,null))}function l8(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,z=null,G=null,ne=null,fe=null;for(oe in u){var ge=u[oe];if(u.hasOwnProperty(oe)&&ge!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":G=ge;default:m.hasOwnProperty(oe)||Ot(i,o,oe,null,m,ge)}}for(var ae in m){var oe=m[ae];if(ge=u[ae],m.hasOwnProperty(ae)&&(oe!=null||ge!=null))switch(ae){case"type":b=oe;break;case"name":v=oe;break;case"checked":ne=oe;break;case"defaultChecked":fe=oe;break;case"value":C=oe;break;case"defaultValue":z=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:oe!==ge&&Ot(i,o,ae,oe,m,ge)}}Ac(i,C,z,G,ne,fe,b,v);return;case"select":oe=C=z=ae=null;for(b in u)if(G=u[b],u.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":oe=G;default:m.hasOwnProperty(b)||Ot(i,o,b,null,m,G)}for(v in m)if(b=m[v],G=u[v],m.hasOwnProperty(v)&&(b!=null||G!=null))switch(v){case"value":ae=b;break;case"defaultValue":z=b;break;case"multiple":C=b;default:b!==G&&Ot(i,o,v,b,m,G)}o=z,u=C,m=oe,ae!=null?Js(i,!!u,ae,!1):!!m!=!!u&&(o!=null?Js(i,!!u,o,!0):Js(i,!!u,u?[]:"",!1));return;case"textarea":oe=ae=null;for(z in u)if(v=u[z],u.hasOwnProperty(z)&&v!=null&&!m.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Ot(i,o,z,null,m,v)}for(C in m)if(v=m[C],b=u[C],m.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":ae=v;break;case"defaultValue":oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Ot(i,o,C,v,m,b)}sm(i,ae,oe);return;case"option":for(var Re in u)if(ae=u[Re],u.hasOwnProperty(Re)&&ae!=null&&!m.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:Ot(i,o,Re,null,m,ae)}for(G in m)if(ae=m[G],oe=u[G],m.hasOwnProperty(G)&&ae!==oe&&(ae!=null||oe!=null))switch(G){case"selected":i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Ot(i,o,G,ae,m,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in u)ae=u[ze],u.hasOwnProperty(ze)&&ae!=null&&!m.hasOwnProperty(ze)&&Ot(i,o,ze,null,m,ae);for(ne in m)if(ae=m[ne],oe=u[ne],m.hasOwnProperty(ne)&&ae!==oe&&(ae!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Ot(i,o,ne,ae,m,oe)}return;default:if(Cc(o)){for(var Rt in u)ae=u[Rt],u.hasOwnProperty(Rt)&&ae!==void 0&&!m.hasOwnProperty(Rt)&&Rx(i,o,Rt,void 0,m,ae);for(fe in m)ae=m[fe],oe=u[fe],!m.hasOwnProperty(fe)||ae===oe||ae===void 0&&oe===void 0||Rx(i,o,fe,ae,m,oe);return}}for(var J in u)ae=u[J],u.hasOwnProperty(J)&&ae!=null&&!m.hasOwnProperty(J)&&Ot(i,o,J,null,m,ae);for(ge in m)ae=m[ge],oe=u[ge],!m.hasOwnProperty(ge)||ae===oe||ae==null&&oe==null||Ot(i,o,ge,ae,m,oe)}function OA(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,C=v.initiatorType,z=v.duration;if(b&&z&&OA(C)){for(C=0,z=v.responseEnd,m+=1;m<u.length;m++){var G=u[m],ne=G.startTime;if(ne>z)break;var fe=G.transferSize,ge=G.initiatorType;fe&&OA(ge)&&(G=G.responseEnd,C+=fe*(G<z?1:(z-ne)/(G-ne)))}if(--m,o+=8*(b+C)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Px=null,Dx=null;function cp(i){return i.nodeType===9?i:i.ownerDocument}function RA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PA(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function kx(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Mx=null;function u8(){var i=window.event;return i&&i.type==="popstate"?i===Mx?!1:(Mx=i,!0):(Mx=null,!1)}var DA=typeof setTimeout=="function"?setTimeout:void 0,d8=typeof clearTimeout=="function"?clearTimeout:void 0,kA=typeof Promise=="function"?Promise:void 0,f8=typeof queueMicrotask=="function"?queueMicrotask:typeof kA<"u"?function(i){return kA.resolve(null).then(i).catch(h8)}:DA;function h8(i){setTimeout(function(){throw i})}function jo(i){return i==="head"}function MA(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),uu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")cf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,cf(u);for(var b=u.firstChild;b;){var C=b.nextSibling,z=b.nodeName;b[bi]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=C}}else u==="body"&&cf(i.ownerDocument.body);u=v}while(u);uu(o)}function LA(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Lx(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Lx(u),Sc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function m8(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[bi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ta(i.nextSibling),i===null)break}return null}function p8(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ta(i.nextSibling),i===null))return null;return i}function UA(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ta(i.nextSibling),i===null))return null;return i}function Ux(i){return i.data==="$?"||i.data==="$~"}function Vx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function g8(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ta(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var zx=null;function VA(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Ta(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function zA(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function BA(i,o,u){switch(o=cp(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function cf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Sc(i)}var Aa=new Map,FA=new Set;function up(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xs=ie.d;ie.d={f:y8,r:v8,D:x8,C:b8,L:w8,m:_8,X:j8,S:N8,M:E8};function y8(){var i=xs.f(),o=tp();return i||o}function v8(i){var o=ya(i);o!==null&&o.tag===5&&o.type==="form"?iT(o):xs.r(i)}var ou=typeof document>"u"?null:document;function $A(i,o,u){var m=ou;if(m&&typeof o=="string"&&o){var v=Dr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),FA.has(v)||(FA.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),lr(o,"link",i),jn(o),m.head.appendChild(o)))}}function x8(i){xs.D(i),$A("dns-prefetch",i,null)}function b8(i,o){xs.C(i,o),$A("preconnect",i,o)}function w8(i,o,u){xs.L(i,o,u);var m=ou;if(m&&i&&o){var v='link[rel="preload"][as="'+Dr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Dr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Dr(u.imageSizes)+'"]')):v+='[href="'+Dr(i)+'"]';var b=v;switch(o){case"style":b=lu(i);break;case"script":b=cu(i)}Aa.has(b)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Aa.set(b,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(uf(b))||o==="script"&&m.querySelector(df(b))||(o=m.createElement("link"),lr(o,"link",i),jn(o),m.head.appendChild(o)))}}function _8(i,o){xs.m(i,o);var u=ou;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Dr(m)+'"][href="'+Dr(i)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=cu(i)}if(!Aa.has(b)&&(i=g({rel:"modulepreload",href:i},o),Aa.set(b,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(df(b)))return}m=u.createElement("link"),lr(m,"link",i),jn(m),u.head.appendChild(m)}}}function N8(i,o,u){xs.S(i,o,u);var m=ou;if(m&&i){var v=_i(m).hoistableStyles,b=lu(i);o=o||"default";var C=v.get(b);if(!C){var z={loading:0,preload:null};if(C=m.querySelector(uf(b)))z.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Aa.get(b))&&Bx(i,u);var G=C=m.createElement("link");jn(G),lr(G,"link",i),G._p=new Promise(function(ne,fe){G.onload=ne,G.onerror=fe}),G.addEventListener("load",function(){z.loading|=1}),G.addEventListener("error",function(){z.loading|=2}),z.loading|=4,dp(C,o,m)}C={type:"stylesheet",instance:C,count:1,state:z},v.set(b,C)}}}function j8(i,o){xs.X(i,o);var u=ou;if(u&&i){var m=_i(u).hoistableScripts,v=cu(i),b=m.get(v);b||(b=u.querySelector(df(v)),b||(i=g({src:i,async:!0},o),(o=Aa.get(v))&&Fx(i,o),b=u.createElement("script"),jn(b),lr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function E8(i,o){xs.M(i,o);var u=ou;if(u&&i){var m=_i(u).hoistableScripts,v=cu(i),b=m.get(v);b||(b=u.querySelector(df(v)),b||(i=g({src:i,async:!0,type:"module"},o),(o=Aa.get(v))&&Fx(i,o),b=u.createElement("script"),jn(b),lr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function qA(i,o,u,m){var v=(v=_e.current)?up(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=lu(u.href),u=_i(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=lu(u.href);var b=_i(v).hoistableStyles,C=b.get(i);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,C),(b=v.querySelector(uf(i)))&&!b._p&&(C.instance=b,C.state.loading=5),Aa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Aa.set(i,u),b||S8(v,i,u,C.state))),o&&m===null)throw Error(r(528,""));return C}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cu(u),u=_i(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function lu(i){return'href="'+Dr(i)+'"'}function uf(i){return'link[rel="stylesheet"]['+i+"]"}function HA(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function S8(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),lr(o,"link",u),jn(o),i.head.appendChild(o))}function cu(i){return'[src="'+Dr(i)+'"]'}function df(i){return"script[async]"+i}function GA(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Dr(u.href)+'"]');if(m)return o.instance=m,jn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),jn(m),lr(m,"style",v),dp(m,u.precedence,i),o.instance=m;case"stylesheet":v=lu(u.href);var b=i.querySelector(uf(v));if(b)return o.state.loading|=4,o.instance=b,jn(b),b;m=HA(u),(v=Aa.get(v))&&Bx(m,v),b=(i.ownerDocument||i).createElement("link"),jn(b);var C=b;return C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),lr(b,"link",m),o.state.loading|=4,dp(b,u.precedence,i),o.instance=b;case"script":return b=cu(u.src),(v=i.querySelector(df(b)))?(o.instance=v,jn(v),v):(m=u,(v=Aa.get(b))&&(m=g({},u),Fx(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),jn(v),lr(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,dp(m,u.precedence,i));return o.instance}function dp(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,C=0;C<m.length;C++){var z=m[C];if(z.dataset.precedence===o)b=z;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Bx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Fx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var fp=null;function KA(i,o,u){if(fp===null){var m=new Map,v=fp=new Map;v.set(u,m)}else v=fp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var b=u[v];if(!(b[bi]||b[Nn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(o)||"";C=i+C;var z=m.get(C);z?z.push(b):m.set(C,[b])}}return m}function YA(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function T8(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function WA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function A8(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=lu(m.href),b=o.querySelector(uf(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=hp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=b,jn(b);return}b=o.ownerDocument||o,m=HA(m),(v=Aa.get(v))&&Bx(m,v),b=b.createElement("link"),jn(b);var C=b;C._p=new Promise(function(z,G){C.onload=z,C.onerror=G}),lr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=hp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var $x=0;function C8(i,o){return i.stylesheets&&i.count===0&&pp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&pp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&$x===0&&($x=62500*c8());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&pp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>$x?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function hp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mp=null;function pp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mp=new Map,o.forEach(I8,i),mp=null,hp.call(i))}function I8(i,o){if(!(o.state.loading&4)){var u=mp.get(i);if(u)var m=u.get(null);else{u=new Map,mp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),m=C)}m&&u.set(null,m)}v=o.instance,C=v.getAttribute("data-precedence"),b=u.get(C)||m,b===m&&u.set(null,v),u.set(C,v),this.count++,m=hp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var ff={$$typeof:T,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function O8(i,o,u,m,v,b,C,z,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function XA(i,o,u,m,v,b,C,z,G,ne,fe,ge){return i=new O8(i,o,u,C,G,ne,fe,ge,z),o=1,b===!0&&(o|=24),b=na(3,null,null,o),i.current=b,b.stateNode=i,o=_v(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Sv(b),i}function QA(i){return i?(i=zc,i):zc}function ZA(i,o,u,m,v,b){v=QA(v),m.context===null?m.context=v:m.pendingContext=v,m=ho(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=mo(i,m,o),u!==null&&(zr(u,i,o),$d(u,i,o))}function JA(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function qx(i,o){JA(i,o),(i=i.alternate)&&JA(i,o)}function e2(i){if(i.tag===13||i.tag===31){var o=Tl(i,67108864);o!==null&&zr(o,i,67108864),qx(i,67108864)}}function t2(i){if(i.tag===13||i.tag===31){var o=oa();o=pl(o);var u=Tl(i,o);u!==null&&zr(u,i,o),qx(i,o)}}var gp=!0;function R8(i,o,u,m){var v=Y.T;Y.T=null;var b=ie.p;try{ie.p=2,Hx(i,o,u,m)}finally{ie.p=b,Y.T=v}}function P8(i,o,u,m){var v=Y.T;Y.T=null;var b=ie.p;try{ie.p=8,Hx(i,o,u,m)}finally{ie.p=b,Y.T=v}}function Hx(i,o,u,m){if(gp){var v=Gx(m);if(v===null)Ox(i,o,m,yp,u),r2(i,m);else if(k8(v,i,o,u,m))m.stopPropagation();else if(r2(i,m),o&4&&-1<D8.indexOf(i)){for(;v!==null;){var b=ya(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=gi(b.pendingLanes);if(C!==0){var z=b;for(z.pendingLanes|=2,z.entangledLanes|=2;C;){var G=1<<31-fn(C);z.entanglements[1]|=G,C&=~G}ki(b),(bt&6)===0&&(Jm=Gn()+500,sf(0))}}break;case 31:case 13:z=Tl(b,2),z!==null&&zr(z,b,2),tp(),qx(b,2)}if(b=Gx(m),b===null&&Ox(i,o,m,yp,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else Ox(i,o,m,null,u)}}function Gx(i){return i=va(i),Kx(i)}var yp=null;function Kx(i){if(yp=null,i=wi(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return yp=i,null}function n2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ne()){case Nt:return 2;case en:return 8;case tn:case Zr:return 32;case cl:return 268435456;default:return 32}default:return 32}}var Yx=!1,Eo=null,So=null,To=null,hf=new Map,mf=new Map,Ao=[],D8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r2(i,o){switch(i){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":hf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(o.pointerId)}}function pf(i,o,u,m,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},o!==null&&(o=ya(o),o!==null&&e2(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function k8(i,o,u,m,v){switch(o){case"focusin":return Eo=pf(Eo,i,o,u,m,v),!0;case"dragenter":return So=pf(So,i,o,u,m,v),!0;case"mouseover":return To=pf(To,i,o,u,m,v),!0;case"pointerover":var b=v.pointerId;return hf.set(b,pf(hf.get(b)||null,i,o,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,mf.set(b,pf(mf.get(b)||null,i,o,u,m,v)),!0}return!1}function a2(i){var o=wi(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,qa(i.priority,function(){t2(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,qa(i.priority,function(){t2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Gx(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Td=m,u.target.dispatchEvent(m),Td=null}else return o=ya(u),o!==null&&e2(o),i.blockedOn=u,!1;o.shift()}return!0}function i2(i,o,u){vp(i)&&u.delete(o)}function M8(){Yx=!1,Eo!==null&&vp(Eo)&&(Eo=null),So!==null&&vp(So)&&(So=null),To!==null&&vp(To)&&(To=null),hf.forEach(i2),mf.forEach(i2)}function xp(i,o){i.blockedOn===o&&(i.blockedOn=null,Yx||(Yx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,M8)))}var bp=null;function s2(i){bp!==i&&(bp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bp===i&&(bp=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(Kx(m||u)===null)continue;break}var b=ya(u);b!==null&&(i.splice(o,3),o-=3,Gv(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function uu(i){function o(G){return xp(G,i)}Eo!==null&&xp(Eo,i),So!==null&&xp(So,i),To!==null&&xp(To,i),hf.forEach(o),mf.forEach(o);for(var u=0;u<Ao.length;u++){var m=Ao[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Ao.length&&(u=Ao[0],u.blockedOn===null);)a2(u),u.blockedOn===null&&Ao.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],C=v[Kn]||null;if(typeof b=="function")C||s2(u);else if(C){var z=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[Kn]||null)z=C.formAction;else if(Kx(v)!==null)continue}else z=C.action;typeof z=="function"?u[m+1]=z:(u.splice(m,3),m-=3),s2(u)}}}function o2(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Wx(i){this._internalRoot=i}wp.prototype.render=Wx.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=oa();ZA(u,m,i,o,null,null)},wp.prototype.unmount=Wx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ZA(i.current,2,null,i,null,null),tp(),o[xi]=null}};function wp(i){this._internalRoot=i}wp.prototype.unstable_scheduleHydration=function(i){if(i){var o=tm();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ao.length&&o!==0&&o<Ao[u].priority;u++);Ao.splice(u,0,i),u===0&&a2(i)}};var l2=e.version;if(l2!=="19.2.0")throw Error(r(527,l2,"19.2.0"));ie.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var L8={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{Pr=_p.inject(L8),wn=_p}catch{}}return yf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",v=pT,b=gT,C=yT;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=XA(i,1,!1,null,null,u,m,null,v,b,C,o2),i[xi]=o.current,Ix(i),new Wx(o)},yf.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,v="",b=pT,C=gT,z=yT,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=XA(i,1,!0,o,u??null,m,v,G,b,C,z,o2),o.context=QA(null),u=o.current,m=oa(),m=pl(m),v=ho(m),v.callback=null,mo(u,v,m),u=m,o.current.lanes=u,hl(o,u),ki(o),i[xi]=o.current,Ix(i),new wp(o)},yf.version="19.2.0",yf}var v2;function X8(){if(v2)return Jx.exports;v2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jx.exports=W8(),Jx.exports}var Q8=X8();const Z8=Qi(Q8);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x2="popstate";function J8(t={}){function e(a,s){let{pathname:c="/",search:d="",hash:f=""}=mc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),r1("",{pathname:c,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:Ff(s))}function r(a,s){pa(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return t9(e,n,r,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e9(){return Math.random().toString(36).substring(2,10)}function b2(t,e){return{usr:t.state,key:t.key,idx:e}}function r1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?mc(e):e,state:n,key:e&&e.key||r||e9()}}function Ff({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function t9(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let j=p(),A=j==null?null:j-h;h=j,f&&f({action:d,location:N.location,delta:A})}function x(j,A){d="PUSH";let U=r1(N.location,j,A);n&&n(U,j),h=p()+1;let T=b2(U,h),M=N.createHref(U);try{c.pushState(T,"",M)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(M)}s&&f&&f({action:d,location:N.location,delta:1})}function w(j,A){d="REPLACE";let U=r1(N.location,j,A);n&&n(U,j),h=p();let T=b2(U,h),M=N.createHref(U);c.replaceState(T,"",M),s&&f&&f({action:d,location:N.location,delta:0})}function E(j){return n9(j)}let N={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(x2,g),f=j,()=>{a.removeEventListener(x2,g),f=null}},createHref(j){return e(a,j)},createURL:E,encodeLocation(j){let A=E(j);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:w,go(j){return c.go(j)}};return N}function n9(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ff(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function DD(t,e,n="/"){return r9(t,e,n,!1)}function r9(t,e,n,r){let a=typeof e=="string"?mc(e):e,s=Rs(a.pathname||"/",n);if(s==null)return null;let c=kD(t);a9(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=p9(s);d=h9(c[f],h,r)}return d}function kD(t,e=[],n=[],r="",a=!1){let s=(c,d,f=a,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;Qt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=As([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(Qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kD(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:d9(g,c.index),routesMeta:x})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))s(c,d);else for(let h of MD(c.path))s(c,d,!0,h)}),e}function MD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=MD(r.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function a9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var i9=/^:[\w-]+$/,s9=3,o9=2,l9=1,c9=10,u9=-2,w2=t=>t==="*";function d9(t,e){let n=t.split("/"),r=n.length;return n.some(w2)&&(r+=u9),e&&(r+=o9),n.filter(a=>!w2(a)).reduce((a,s)=>a+(i9.test(s)?s9:s===""?l9:c9),r)}function f9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function h9(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:As([s,g.pathname]),pathnameBase:b9(As([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=As([s,g.pathnameBase]))}return c}function mg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=m9(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[x];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function m9(t,e=!1,n=!0){pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function p9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var g9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y9=t=>g9.test(t);function v9(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?mc(t):t,s;if(n)if(y9(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),pa(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?s=_2(n.substring(1),"/"):s=_2(n,e)}else s=e;return{pathname:s,search:w9(r),hash:_9(a)}}function _2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function rb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function U_(t){let e=x9(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function V_(t,e,n,r=!1){let a;typeof t=="string"?a=mc(t):(a={...t},Qt(!a.pathname||!a.pathname.includes("?"),rb("?","pathname","search",a)),Qt(!a.pathname||!a.pathname.includes("#"),rb("#","pathname","hash",a)),Qt(!a.search||!a.search.includes("#"),rb("#","search","hash",a)));let s=t===""||a.pathname==="",c=s?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=v9(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var As=t=>t.join("/").replace(/\/\/+/g,"/"),b9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LD=["POST","PUT","PATCH","DELETE"];new Set(LD);var j9=["GET",...LD];new Set(j9);var Qu=_.createContext(null);Qu.displayName="DataRouter";var Oy=_.createContext(null);Oy.displayName="DataRouterState";_.createContext(!1);var UD=_.createContext({isTransitioning:!1});UD.displayName="ViewTransition";var E9=_.createContext(new Map);E9.displayName="Fetchers";var S9=_.createContext(null);S9.displayName="Await";var fi=_.createContext(null);fi.displayName="Navigation";var ph=_.createContext(null);ph.displayName="Location";var Zi=_.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var z_=_.createContext(null);z_.displayName="RouteError";function T9(t,{relative:e}={}){Qt(Zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(fi),{hash:a,pathname:s,search:c}=gh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:As([n,s])),r.createHref({pathname:d,search:c,hash:a})}function Zu(){return _.useContext(ph)!=null}function Ji(){return Qt(Zu(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ph).location}var VD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zD(t){_.useContext(fi).static||_.useLayoutEffect(t)}function B_(){let{isDataRoute:t}=_.useContext(Zi);return t?z9():A9()}function A9(){Qt(Zu(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Qu),{basename:e,navigator:n}=_.useContext(fi),{matches:r}=_.useContext(Zi),{pathname:a}=Ji(),s=JSON.stringify(U_(r)),c=_.useRef(!1);return zD(()=>{c.current=!0}),_.useCallback((f,h={})=>{if(pa(c.current,VD),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=V_(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:As([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}_.createContext(null);function gh(t,{relative:e}={}){let{matches:n}=_.useContext(Zi),{pathname:r}=Ji(),a=JSON.stringify(U_(n));return _.useMemo(()=>V_(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function C9(t,e){return BD(t,e)}function BD(t,e,n,r,a){var U;Qt(Zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(fi),{matches:c}=_.useContext(Zi),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let T=g&&g.path||"";FD(h,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let x=Ji(),w;if(e){let T=typeof e=="string"?mc(e):e;Qt(p==="/"||((U=T.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=x;let E=w.pathname||"/",N=E;if(p!=="/"){let T=p.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(T.length).join("/")}let j=DD(t,{pathname:N});pa(g||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pa(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=D9(j&&j.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:As([p,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:As([p,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),c,n,r,a);return e&&A?_.createElement(ph.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function I9(){let t=V9(),e=N9(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:a},n):null,c)}var O9=_.createElement(I9,null),R9=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(Zi.Provider,{value:this.props.routeContext},_.createElement(z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P9({routeContext:t,match:e,children:n}){let r=_.useContext(Qu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Zi.Provider,{value:t},n)}function D9(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,c=n==null?void 0:n.errors;if(c!=null){let p=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Qt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:w}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var x,w;r(p,{location:n.location,params:((w=(x=n.matches)==null?void 0:x[0])==null?void 0:w.params)??{},errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let w,E=!1,N=null,j=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||O9,d&&(f<0&&x===0?(FD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,j=null):f===x&&(E=!0,j=g.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,x+1)),U=()=>{let T;return w?T=N:E?T=j:g.route.Component?T=_.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=p,_.createElement(P9,{match:g,routeContext:{outlet:p,matches:A,isDataRoute:n!=null},children:T})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?_.createElement(R9,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:U(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:h}):U()},null)}function F_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k9(t){let e=_.useContext(Qu);return Qt(e,F_(t)),e}function M9(t){let e=_.useContext(Oy);return Qt(e,F_(t)),e}function L9(t){let e=_.useContext(Zi);return Qt(e,F_(t)),e}function $_(t){let e=L9(t),n=e.matches[e.matches.length-1];return Qt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function U9(){return $_("useRouteId")}function V9(){var r;let t=_.useContext(z_),e=M9("useRouteError"),n=$_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function z9(){let{router:t}=k9("useNavigate"),e=$_("useNavigate"),n=_.useRef(!1);return zD(()=>{n.current=!0}),_.useCallback(async(a,s={})=>{pa(n.current,VD),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var N2={};function FD(t,e,n){!e&&!N2[t]&&(N2[t]=!0,pa(!1,n))}_.memo(B9);function B9({routes:t,future:e,state:n,unstable_onError:r}){return BD(t,void 0,n,r,e)}function F9({to:t,replace:e,state:n,relative:r}){Qt(Zu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(fi);pa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Zi),{pathname:c}=Ji(),d=B_(),f=V_(t,U_(s),c,r==="path"),h=JSON.stringify(f);return _.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function cn(t){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){Qt(!Zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof n=="string"&&(n=mc(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,w=_.useMemo(()=>{let E=Rs(f,c);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return pa(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:_.createElement(fi.Provider,{value:d},_.createElement(ph.Provider,{children:e,value:w}))}function q9({children:t,location:e}){return C9(a1(t),e)}function a1(t,e=[]){let n=[];return _.Children.forEach(t,(r,a)=>{if(!_.isValidElement(r))return;let s=[...e,a];if(r.type===_.Fragment){n.push.apply(n,a1(r.props.children,s));return}Qt(r.type===cn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=a1(r.props.children,s)),n.push(c)}),n}var Xp="get",Qp="application/x-www-form-urlencoded";function Ry(t){return t!=null&&typeof t.tagName=="string"}function H9(t){return Ry(t)&&t.tagName.toLowerCase()==="button"}function G9(t){return Ry(t)&&t.tagName.toLowerCase()==="form"}function K9(t){return Ry(t)&&t.tagName.toLowerCase()==="input"}function Y9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W9(t,e){return t.button===0&&(!e||e==="_self")&&!Y9(t)}var Np=null;function X9(){if(Np===null)try{new FormData(document.createElement("form"),0),Np=!1}catch{Np=!0}return Np}var Q9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ab(t){return t!=null&&!Q9.has(t)?(pa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qp}"`),null):t}function Z9(t,e){let n,r,a,s,c;if(G9(t)){let d=t.getAttribute("action");r=d?Rs(d,e):null,n=t.getAttribute("method")||Xp,a=ab(t.getAttribute("enctype"))||Qp,s=new FormData(t)}else if(H9(t)||K9(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Rs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Xp,a=ab(t.getAttribute("formenctype"))||ab(d.getAttribute("enctype"))||Qp,s=new FormData(d,t),!X9()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(Ry(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xp,r=null,a=Qp,c=t}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Rs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ez(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function nz(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let c=await ez(s,n);return c.links?c.links():[]}return[]}));return sz(r.flat(1).filter(tz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function j2(t,e,n,r,a,s){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function rz(t,e,{includeHydrateFallback:n}={}){return az(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function az(t){return[...new Set(t)]}function iz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function sz(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(iz(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function $D(){let t=_.useContext(Qu);return q_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oz(){let t=_.useContext(Oy);return q_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var H_=_.createContext(void 0);H_.displayName="FrameworkContext";function qD(){let t=_.useContext(H_);return q_(t,"You must render this element inside a <HydratedRouter> element"),t}function lz(t,e){let n=_.useContext(H_),[r,a]=_.useState(!1),[s,c]=_.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=_.useRef(null);_.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=A=>{A.forEach(U=>{c(U.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),_.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:vf(d,w),onBlur:vf(f,E),onMouseEnter:vf(h,w),onMouseLeave:vf(p,E),onTouchStart:vf(g,w)}]:[!1,x,{}]}function vf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cz({page:t,...e}){let{router:n}=$D(),r=_.useMemo(()=>DD(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(dz,{page:t,matches:r,...e}):null}function uz(t){let{manifest:e,routeModules:n}=qD(),[r,a]=_.useState([]);return _.useEffect(()=>{let s=!1;return nz(t,e,n).then(c=>{s||a(c)}),()=>{s=!0}},[t,e,n]),r}function dz({page:t,matches:e,...n}){let r=Ji(),{manifest:a,routeModules:s}=qD(),{basename:c}=$D(),{loaderData:d,matches:f}=oz(),h=_.useMemo(()=>j2(t,e,f,a,r,"data"),[t,e,f,a,r]),p=_.useMemo(()=>j2(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,N=!1;if(e.forEach(A=>{var T;let U=a.routes[A.route.id];!U||!U.hasLoader||(!h.some(M=>M.route.id===A.route.id)&&A.route.id in d&&((T=s[A.route.id])!=null&&T.shouldRevalidate)||U.hasClientLoader?N=!0:E.add(A.route.id))}),E.size===0)return[];let j=J9(t,c,"data");return N&&E.size>0&&j.searchParams.set("_routes",e.filter(A=>E.has(A.route.id)).map(A=>A.route.id).join(",")),[j.pathname+j.search]},[c,d,r,a,h,e,t,s]),x=_.useMemo(()=>rz(p,a),[p,a]),w=uz(p);return _.createElement(_.Fragment,null,g.map(E=>_.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>_.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:N})=>_.createElement("link",{key:E,nonce:n.nonce,...N})))}function fz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HD&&(window.__reactRouterVersion="7.9.6")}catch{}function hz({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=J8({window:n,v5Compat:!0}));let a=r.current,[s,c]=_.useState({action:a.action,location:a.location}),d=_.useCallback(f=>{_.startTransition(()=>c(f))},[c]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.createElement($9,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var GD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G_=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},w){let{basename:E}=_.useContext(fi),N=typeof h=="string"&&GD.test(h),j,A=!1;if(typeof h=="string"&&N&&(j=h,HD))try{let D=new URL(window.location.href),I=h.startsWith("//")?new URL(D.protocol+h):new URL(h),R=Rs(I.pathname,E);I.origin===D.origin&&R!=null?h=R+I.search+I.hash:A=!0}catch{pa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=T9(h,{relative:a}),[T,M,P]=lz(r,x),L=yz(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function k(D){e&&e(D),D.defaultPrevented||L(D)}let V=_.createElement("a",{...x,...P,href:j||U,onClick:A||s?e:k,ref:fz(w,M),target:f,"data-discover":!N&&n==="render"?"true":void 0});return T&&!N?_.createElement(_.Fragment,null,V,_.createElement(cz,{page:U})):V});G_.displayName="Link";var mz=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:d,children:f,...h},p){let g=gh(c,{relative:h.relative}),x=Ji(),w=_.useContext(Oy),{navigator:E,basename:N}=_.useContext(fi),j=w!=null&&_z(g)&&d===!0,A=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,U=x.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(U=U.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&N&&(T=Rs(T,N)||T);const M=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let P=U===A||!a&&U.startsWith(A)&&U.charAt(M)==="/",L=T!=null&&(T===A||!a&&T.startsWith(A)&&T.charAt(A.length)==="/"),k={isActive:P,isPending:L,isTransitioning:j},V=P?e:void 0,D;typeof r=="function"?D=r(k):D=[r,P?"active":null,L?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(k):s;return _.createElement(G_,{...h,"aria-current":V,className:D,ref:p,style:I,to:c,viewTransition:d},typeof f=="function"?f(k):f)});mz.displayName="NavLink";var pz=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Xp,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},w)=>{let E=bz(),N=wz(d,{relative:h}),j=c.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&GD.test(d),U=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,P=(M==null?void 0:M.getAttribute("formmethod"))||c;E(M||T.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:w,method:j,action:N,onSubmit:r?f:U,...x,"data-discover":!A&&t==="render"?"true":void 0})});pz.displayName="Form";function gz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KD(t){let e=_.useContext(Qu);return Qt(e,gz(t)),e}function yz(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c}={}){let d=B_(),f=Ji(),h=gh(t,{relative:s});return _.useCallback(p=>{if(W9(p,e)){p.preventDefault();let g=n!==void 0?n:Ff(f)===Ff(h);d(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:c})}},[f,d,h,n,r,e,t,a,s,c])}var vz=0,xz=()=>`__${String(++vz)}__`;function bz(){let{router:t}=KD("useSubmit"),{basename:e}=_.useContext(fi),n=U9();return _.useCallback(async(r,a={})=>{let{action:s,method:c,encType:d,formData:f,body:h}=Z9(r,e);if(a.navigate===!1){let p=a.fetcherKey||xz();await t.fetch(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function wz(t,{relative:e}={}){let{basename:n}=_.useContext(fi),r=_.useContext(Zi);Qt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...gh(t||".",{relative:e})},c=Ji();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:As([n,s.pathname])),Ff(s)}function _z(t,{relative:e}={}){let n=_.useContext(UD);Qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KD("useViewTransitionState"),a=gh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mg(a.pathname,c)!=null||mg(a.pathname,s)!=null}var YD=PD();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),E2=t=>{const e=jz(t);return e.charAt(0).toUpperCase()+e.slice(1)},WD=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Ez=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...d},f)=>_.createElement("svg",{ref:f,...Sz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WD("lucide",a),...!s&&!Ez(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>_.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=_.forwardRef(({className:r,...a},s)=>_.createElement(Tz,{ref:s,iconNode:e,className:WD(`lucide-${Nz(E2(t))}`,`lucide-${t}`,r),...a}));return n.displayName=E2(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],XD=Te("activity",Az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Iz=Te("arrow-left",Cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ju=Te("award",Oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QD=Te("badge-check",Rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cs=Te("book-open",Pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],tc=Te("briefcase",Dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Mz=Te("building",kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Uz=Te("bus",Lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Zp=Te("calendar-days",Vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yh=Te("calendar",zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Fz=Te("chart-column",Bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K_=Te("chevron-down",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Y_=Te("chevron-up",qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZD=Te("circle-alert",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Hr=Te("circle-check",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Yz=Te("circle-play",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Df=Te("circle-plus",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],JD=Te("circle-user",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],W_=Te("circle-x",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ek=Te("clipboard-list",Zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ps=Te("clock",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Kr=Te("cloud-upload",e7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],n7=Te("coins",t7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],i1=Te("download",r7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],s1=Te("external-link",a7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],s7=Te("file-clock",i7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],tk=Te("file-input",o7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],nk=Te("file-output",l7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hr=Te("file-text",c7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],o1=Te("flask-conical",u7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],f7=Te("funnel",d7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rk=Te("globe",h7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Wl=Te("graduation-cap",m7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],g7=Te("history",p7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],v7=Te("import",y7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],l1=Te("key",x7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],w7=Te("layout-dashboard",b7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],ak=Te("leaf",_7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],S2=Te("link",N7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],it=Te("loader-circle",j7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],S7=Te("log-out",E7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],c1=Te("mail",T7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ik=Te("map-pin",A7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],u1=Te("megaphone",C7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],O7=Te("menu",I7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],T2=Te("message-circle",R7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],D7=Te("mic-vocal",P7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],pg=Te("microscope",k7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Tf=Te("network",M7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ib=Te("phone",L7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],sk=Te("plane",U7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nn=Te("plus",V7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],B7=Te("presentation",z7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],$7=Te("qr-code",F7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],d1=Te("refresh-ccw",q7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kn=Te("save",H7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$f=Te("search",G7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ok=Te("send",K7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W7=Te("settings",Y7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Q7=Te("shield-alert",X7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],bu=Te("sprout",Z7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ir=Te("square-pen",J7);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],tB=Te("stethoscope",eB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],rB=Te("table",nB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Af=Te("target",aB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gt=Te("trash-2",iB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fa=Te("triangle-alert",sB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],A2=Te("user-check",oB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cB=Te("user-cog",lB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],lk=Te("user-plus",uB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],X_=Te("user",dB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],si=Te("users",fB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qt=Te("x",hB);var je=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(je||{}),Qe=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(Qe||{});const mB=({children:t,user:e,onLogout:n})=>{const[r,a]=_.useState(!1),s=Ji(),c=h=>s.pathname===h,f=[{path:"/",label:" ",icon:w7,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY,je.EMPLOYEE]},{path:"/outgoing",label:"",icon:nk,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY]},{path:"/incoming",label:"",icon:tk,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY]},{path:"/leaves",label:" ",icon:Zp,roles:[je.ADMIN,je.STAFF,je.EMPLOYEE]},{path:"/councils",label:" ",icon:si,roles:[je.ADMIN,je.STAFF]},{path:"/committees",label:" ",icon:ek,roles:[je.ADMIN,je.STAFF]},{path:"/formation",label:"  ",icon:Tf,roles:[je.ADMIN,je.STAFF]},{path:"/research-plan",label:"  ",icon:Af,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG]},{path:"/annual-report",label:" ",icon:hr,roles:[je.ADMIN,je.STAFF]},{path:"/events",label:"  ",icon:u1,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG,je.ALUMNI,je.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:s7,roles:[je.ADMIN,je.STAFF]},{path:"/inventory",label:" ",icon:pg,roles:[je.ADMIN,je.STAFF]},{path:"/labs",label:" ",icon:o1,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:bu,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG]},{path:"/staff",label:" ",icon:JD,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG]},{path:"/students",label:" ",icon:Cs,roles:[je.ADMIN,je.STAFF,je.STUDENT_PG,je.STUDENT_UG]},{path:"/alumni",label:" ",icon:tc,roles:[je.ADMIN,je.STAFF,je.ALUMNI]},{path:"/users",label:" ",icon:cB,roles:[je.ADMIN]},{path:"/activity-log",label:" ",icon:XD,roles:[je.ADMIN]},{path:"/search",label:" ",icon:$f,roles:[je.ADMIN,je.STAFF,je.DATA_ENTRY]}].filter(h=>h.roles.includes(e.role));return l.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),l.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[l.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[l.jsx("div",{className:"bg-white p-2 rounded-full",children:l.jsx(ak,{className:"w-6 h-6 text-green-700"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-bold text-sm",children:"   "}),l.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),l.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:f.map(h=>l.jsxs(G_,{to:h.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(h.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[l.jsx(h.icon,{className:"w-5 h-5"}),l.jsx("span",{children:h.label})]},h.path))}),l.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),l.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===je.ADMIN?" ":e.role===je.STAFF?"  ":e.role===je.STUDENT_PG?" ":e.role===je.STUDENT_UG?"":e.role===je.EMPLOYEE?" / ":""})]})]}),l.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[l.jsx(S7,{className:"w-4 h-4"}),l.jsx("span",{children:" "})]})]})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[l.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[l.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),l.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:l.jsx(O7,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function ck(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=ck(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=ck(t))&&(r&&(r+=" "),r+=e);return r}var pB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Q_(t){if(typeof t!="string")return!1;var e=pB;return e.includes(t)}var gB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yB=new Set(gB);function uk(t){return typeof t!="string"?!1:yB.has(t)}function dk(t){return typeof t=="string"&&t.startsWith("data-")}function li(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(uk(n)||dk(n))&&(e[n]=t[n]);return e}function qf(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return li(e)}return typeof t=="object"&&!Array.isArray(t)?li(t):null}function ka(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(uk(n)||dk(n)||Q_(n))&&(e[n]=t[n]);return e}var vB=["children","width","height","viewBox","className","style","title","desc"];function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f1.apply(null,arguments)}function xB(t,e){if(t==null)return{};var n,r,a=bB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fk=_.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:d,title:f,desc:h}=t,p=xB(t,vB),g=s||{width:r,height:a,x:0,y:0},x=Dt("recharts-surface",c);return _.createElement("svg",f1({},ka(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),wB=["children","className"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h1.apply(null,arguments)}function _B(t,e){if(t==null)return{};var n,r,a=NB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function NB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Or=_.forwardRef((t,e)=>{var{children:n,className:r}=t,a=_B(t,wB),s=Dt("recharts-layer",r);return _.createElement("g",h1({className:s},ka(a),{ref:e}),n)}),jB=_.createContext(null);function Ut(t){return function(){return t}}const hk=Math.cos,gg=Math.sin,hi=Math.sqrt,yg=Math.PI,Py=2*yg,m1=Math.PI,p1=2*m1,zl=1e-6,EB=p1-zl;function mk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function SB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mk;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class TB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mk:SB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=r-e,h=a-n,p=c-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>zl)if(!(Math.abs(g*f-h*p)>zl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-c,E=a-d,N=f*f+h*h,j=w*w+E*E,A=Math.sqrt(N),U=Math.sqrt(x),T=s*Math.tan((m1-Math.acos((N+x-j)/(2*A*U)))/2),M=T/U,P=T/A;Math.abs(M-1)>zl&&this._append`L${e+M*p},${n+M*g}`,this._append`A${s},${s},0,0,${+(g*w>p*E)},${this._x1=e+P*f},${this._y1=n+P*h}`}}arc(e,n,r,a,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>zl||Math.abs(this._y1-p)>zl)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%p1+p1),x>EB?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>zl&&this._append`A${r},${r},0,${+(x>=m1)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Z_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new TB(e)}function J_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pk(t){this._context=t}pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dy(t){return new pk(t)}function gk(t){return t[0]}function yk(t){return t[1]}function vk(t,e){var n=Ut(!0),r=null,a=Dy,s=null,c=Z_(d);t=typeof t=="function"?t:t===void 0?gk:Ut(t),e=typeof e=="function"?e:e===void 0?yk:Ut(e);function d(f){var h,p=(f=J_(f)).length,g,x=!1,w;for(r==null&&(s=a(w=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ut(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function jp(t,e,n){var r=null,a=Ut(!0),s=null,c=Dy,d=null,f=Z_(h);t=typeof t=="function"?t:t===void 0?gk:Ut(+t),e=typeof e=="function"?e:Ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yk:Ut(+n);function h(g){var x,w,E,N=(g=J_(g)).length,j,A=!1,U,T=new Array(N),M=new Array(N);for(s==null&&(d=c(U=f())),x=0;x<=N;++x){if(!(x<N&&a(j=g[x],x,g))===A)if(A=!A)w=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=w;--E)d.point(T[E],M[E]);d.lineEnd(),d.areaEnd()}A&&(T[x]=+t(j,x,g),M[x]=+e(j,x,g),d.point(r?+r(j,x,g):T[x],n?+n(j,x,g):M[x]))}if(U)return d=null,U+""||null}function p(){return vk().defined(a).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Ut(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Ut(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ut(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Ut(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Ut(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ut(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Ut(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class xk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function AB(t){return new xk(t,!0)}function CB(t){return new xk(t,!1)}const eN={draw(t,e){const n=hi(e/yg);t.moveTo(n,0),t.arc(0,0,n,0,Py)}},IB={draw(t,e){const n=hi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bk=hi(1/3),OB=bk*2,RB={draw(t,e){const n=hi(e/OB),r=n*bk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},PB={draw(t,e){const n=hi(e),r=-n/2;t.rect(r,r,n,n)}},DB=.8908130915292852,wk=gg(yg/10)/gg(7*yg/10),kB=gg(Py/10)*wk,MB=-hk(Py/10)*wk,LB={draw(t,e){const n=hi(e*DB),r=kB*n,a=MB*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const c=Py*s/5,d=hk(c),f=gg(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},sb=hi(3),UB={draw(t,e){const n=-hi(e/(sb*3));t.moveTo(0,n*2),t.lineTo(-sb*n,-n),t.lineTo(sb*n,-n),t.closePath()}},Ca=-.5,Ia=hi(3)/2,g1=1/hi(12),VB=(g1/2+1)*3,zB={draw(t,e){const n=hi(e/VB),r=n/2,a=n*g1,s=r,c=n*g1+n,d=-s,f=c;t.moveTo(r,a),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(Ca*r-Ia*a,Ia*r+Ca*a),t.lineTo(Ca*s-Ia*c,Ia*s+Ca*c),t.lineTo(Ca*d-Ia*f,Ia*d+Ca*f),t.lineTo(Ca*r+Ia*a,Ca*a-Ia*r),t.lineTo(Ca*s+Ia*c,Ca*c-Ia*s),t.lineTo(Ca*d+Ia*f,Ca*f-Ia*d),t.closePath()}};function BB(t,e){let n=null,r=Z_(a);t=typeof t=="function"?t:Ut(t||eN),e=typeof e=="function"?e:Ut(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ut(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function vg(){}function xg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _k(t){this._context=t}_k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FB(t){return new _k(t)}function Nk(t){this._context=t}Nk.prototype={areaStart:vg,areaEnd:vg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $B(t){return new Nk(t)}function jk(t){this._context=t}jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qB(t){return new jk(t)}function Ek(t){this._context=t}Ek.prototype={areaStart:vg,areaEnd:vg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HB(t){return new Ek(t)}function C2(t){return t<0?-1:1}function I2(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(s*a+c*r)/(r+a);return(C2(s)+C2(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function O2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ob(t,e,n){var r=t._x0,a=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,c-d*n,s,c)}function bg(t){this._context=t}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ob(this,this._t0,O2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ob(this,O2(this,n=I2(this,t,e)),n);break;default:ob(this,this._t0,n=I2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Sk(t){this._context=new Tk(t)}(Sk.prototype=Object.create(bg.prototype)).point=function(t,e){bg.prototype.point.call(this,e,t)};function Tk(t){this._context=t}Tk.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function GB(t){return new bg(t)}function KB(t){return new Sk(t)}function Ak(t){this._context=t}Ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=R2(t),a=R2(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function R2(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function YB(t){return new Ak(t)}function ky(t,e){this._context=t,this._t=e}ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function WB(t){return new ky(t,.5)}function XB(t){return new ky(t,0)}function QB(t){return new ky(t,1)}function Du(t,e){if((c=t.length)>1)for(var n=1,r,a,s=t[e[0]],c,d=s.length;n<c;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function y1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ZB(t,e){return t[e]}function JB(t){const e=[];return e.key=t,e}function eF(){var t=Ut([]),e=y1,n=Du,r=ZB;function a(s){var c=Array.from(t.apply(this,arguments),JB),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,s)]).data=g;for(d=0,p=J_(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ut(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ut(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?y1:typeof s=="function"?s:Ut(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Du,a):n},a}function tF(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Du(t,e)}}function nF(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Du(t,e)}}function rF(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,w=(g-x)/2,E=0;E<d;++E){var N=t[e[E]],j=N[r][1]||0,A=N[r-1][1]||0;w+=j-A}f+=g,h+=w*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Du(t,e)}}var lb={},cb={},P2;function aF(){return P2||(P2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(cb)),cb}var ub={},D2;function Ck(){return D2||(D2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ub)),ub}var db={},k2;function tN(){return k2||(k2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(db)),db}var fb={},hb={},M2;function iF(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(hb)),hb}var L2;function nN(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iF(),n=tN();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=a[d];h?g==="\\"&&d+1<c?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(fb)),fb}var U2;function rN(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aF(),n=Ck(),r=tN(),a=nN();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(lb)),lb}var mb,V2;function sF(){return V2||(V2=1,mb=rN().get),mb}var oF=sF();const nc=Qi(oF);var tr=t=>t===0?0:t>0?1:-1,ci=t=>typeof t=="number"&&t!=+t,Ds=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ke=t=>(typeof t=="number"||t instanceof Number)&&!ci(t),Hi=t=>ke(t)||typeof t=="string",lF=0,Hf=t=>{var e=++lF;return"".concat(t||"").concat(e)},wr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&typeof e!="string")return r;var s;if(Ds(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return ci(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},Ik=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Un(t,e,n){return ke(t)&&ke(e)?t+n*(e-t):e}function cF(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):nc(r,e))===n)}var nr=t=>t===null||typeof t>"u",vh=t=>nr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function uF(t){return t!=null}function xh(){}var dF=["type","size","sizeType"];function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v1.apply(null,arguments)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function B2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){fF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fF(t,e,n){return(e=hF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hF(t){var e=mF(t,"string");return typeof e=="symbol"?e:e+""}function mF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pF(t,e){if(t==null)return{};var n,r,a=gF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ok={symbolCircle:eN,symbolCross:IB,symbolDiamond:RB,symbolSquare:PB,symbolStar:LB,symbolTriangle:UB,symbolWye:zB},yF=Math.PI/180,vF=t=>{var e="symbol".concat(vh(t));return Ok[e]||eN},xF=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*yF;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bF=(t,e)=>{Ok["symbol".concat(vh(t))]=e},Rk=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=pF(t,dF),s=B2(B2({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var x=vF(c),w=BB().type(x).size(xF(n,r,c)),E=w();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=ka(s);return ke(h)&&ke(p)&&ke(n)?_.createElement("path",v1({},g,{className:Dt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Rk.registerSymbol=bF;var Pk=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,wF=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Q_(a)&&(r[a]=(s=>n[a](n,s)))}),r},_F=(t,e,n)=>r=>(t(e,n,r),null),My=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];Q_(a)&&typeof s=="function"&&(r||(r={}),r[a]=_F(s,e,n))}),r};function F2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function NF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(n),!0).forEach(function(r){jF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jF(t,e,n){return(e=EF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t){var e=SF(t,"string");return typeof e=="symbol"?e:e+""}function SF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nr(t,e){var n=NF({},t),r=e,a=Object.keys(e),s=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var pb={},gb={},$2;function TF(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(gb)),gb}var yb={},q2;function Dk(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(yb)),yb}var vb={},xb={},bb={},H2;function AF(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(bb)),bb}var G2;function aN(){return G2||(G2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AF();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(xb)),xb}var wb={},K2;function CF(){return K2||(K2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(wb)),wb}var Y2;function IF(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aN(),n=CF();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(vb)),vb}var _b={},Nb={},W2;function OF(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rN();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Nb)),Nb}var jb={},Eb={},Sb={},Tb={},X2;function kk(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Tb)),Tb}var Ab={},Q2;function Mk(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Ab)),Ab}var Cb={},Z2;function Lk(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Cb)),Cb}var J2;function RF(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kk(),n=Mk(),r=Lk();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function w(E,N,j,A,U,T){const M=x(E,N,j,A,U,T);return M!==void 0?!!M:s(E,N,w,T)},new Map)}function s(p,g,x,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,w);case"function":return Object.keys(g).length>0?s(p,{...g},x,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,x,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,w);if(g instanceof Map)return d(p,g,x,w);if(g instanceof Set)return h(p,g,x,w);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let N=0;N<E.length;N++){const j=E[N];if(!n.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!x(p[j],g[j],j,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,x,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,N]of g.entries()){const j=p.get(E);if(x(j,N,E,p,g,w)===!1)return!1}return!0}function f(p,g,x,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let N=0;N<g.length;N++){const j=g[N];let A=!1;for(let U=0;U<p.length;U++){if(E.has(U))continue;const T=p[U];let M=!1;if(x(T,j,N,p,g,w)&&(M=!0),M){E.add(U),A=!0;break}}if(!A)return!1}return!0}function h(p,g,x,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,w):!1}t.isMatchWith=a,t.isSetMatch=h})(Sb)),Sb}var eC;function Uk(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RF();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Eb)),Eb}var Ib={},Ob={},Rb={},tC;function PF(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Rb)),Rb}var Pb={},nC;function Vk(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Pb)),Pb}var Db={},rC;function zk(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",N="[object DataView]",j="[object Uint8Array]",A="[object Uint8ClampedArray]",U="[object Uint16Array]",T="[object Uint32Array]",M="[object BigUint64Array]",P="[object Int8Array]",L="[object Int16Array]",k="[object Int32Array]",V="[object BigInt64Array]",D="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=M,t.booleanTag=a,t.dataViewTag=N,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=I,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=k,t.int8ArrayTag=P,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=U,t.uint32ArrayTag=T,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=A})(Db)),Db}var kb={},aC;function DF(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(kb)),kb}var iC;function Bk(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PF(),n=Vk(),r=zk(),a=Mk(),s=DF();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,w=new Map,E=void 0){const N=E==null?void 0:E(p,g,x,w);if(N!==void 0)return N;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const j=new Array(p.length);w.set(p,j);for(let A=0;A<p.length;A++)j[A]=d(p[A],A,x,w,E);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;w.set(p,j);for(const[A,U]of p)j.set(A,d(U,A,x,w,E));return j}if(p instanceof Set){const j=new Set;w.set(p,j);for(const A of p)j.add(d(A,void 0,x,w,E));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,j);for(let A=0;A<p.length;A++)j[A]=d(p[A],A,x,w,E);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,j),f(j,p,x,w,E),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(typeof Blob<"u"&&p instanceof Blob){const j=new Blob([p],{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Error){const j=new p.constructor;return w.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,x,w,E),j}if(p instanceof Boolean){const j=new Boolean(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Number){const j=new Number(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof String){const j=new String(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return w.set(p,j),f(j,p,x,w,E),j}return p}function f(p,g,x=p,w,E){const N=[...Object.keys(g),...e.getSymbols(g)];for(let j=0;j<N.length;j++){const A=N[j],U=Object.getOwnPropertyDescriptor(p,A);(U==null||U.writable)&&(p[A]=d(g[A],A,x,w,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(Ob)),Ob}var sC;function kF(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bk();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Ib)),Ib}var oC;function MF(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uk(),n=kF();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(jb)),jb}var Mb={},Lb={},Ub={},lC;function LF(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bk(),n=zk();function r(a,s){return e.cloneDeepWith(a,(c,d,f,h)=>{const p=s==null?void 0:s(c,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Ub)),Ub}var cC;function UF(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LF();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Lb)),Lb}var Vb={},zb={},uC;function Fk(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(zb)),zb}var Bb={},dC;function VF(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vk();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Bb)),Bb}var fC;function zF(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ck(),n=Fk(),r=VF(),a=nN();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(Vb)),Vb}var hC;function BF(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uk(),n=tN(),r=UF(),a=rN(),s=zF();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(Mb)),Mb}var mC;function FF(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dk(),n=OF(),r=MF(),a=BF();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(_b)),_b}var pC;function $F(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TF(),n=Dk(),r=IF(),a=FF();function s(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=s})(pb)),pb}var Fb,gC;function qF(){return gC||(gC=1,Fb=$F().uniqBy),Fb}var HF=qF();const yC=Qi(HF);function GF(t,e,n){return e===!0?yC(t,n):typeof e=="function"?yC(t,e):t}var $b={exports:{}},qb={},Hb={exports:{}},Gb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function KF(){if(vC)return Gb;vC=1;var t=Xu();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),N=E[0].inst,j=E[1];return s(function(){N.value=w,N.getSnapshot=x,f(N)&&j({inst:N})},[g,w,x]),a(function(){return f(N)&&j({inst:N}),g(function(){f(N)&&j({inst:N})})},[g]),c(w),w}function f(g){var x=g.getSnapshot;g=g.value;try{var w=x();return!n(g,w)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Gb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Gb}var xC;function YF(){return xC||(xC=1,Hb.exports=KF()),Hb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function WF(){if(bC)return qb;bC=1;var t=Xu(),e=YF();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return qb.useSyncExternalStoreWithSelector=function(h,p,g,x,w){var E=s(null);if(E.current===null){var N={hasValue:!1,value:null};E.current=N}else N=E.current;E=d(function(){function A(L){if(!U){if(U=!0,T=L,L=x(L),w!==void 0&&N.hasValue){var k=N.value;if(w(k,L))return M=k}return M=L}if(k=M,r(T,L))return k;var V=x(L);return w!==void 0&&w(k,V)?(T=L,k):(T=L,M=V)}var U=!1,T,M,P=g===void 0?null:g;return[function(){return A(p())},P===null?void 0:function(){return A(P())}]},[p,g,x,w]);var j=a(h,E[0],E[1]);return c(function(){N.hasValue=!0,N.value=j},[j]),f(j),j},qb}var wC;function XF(){return wC||(wC=1,$b.exports=WF()),$b.exports}var QF=XF(),iN=_.createContext(null),ZF=t=>t,Zt=()=>{var t=_.useContext(iN);return t?t.store.dispatch:ZF},Jp=()=>{},JF=()=>Jp,e$=(t,e)=>t===e;function Me(t){var e=_.useContext(iN);return QF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:JF,e?e.store.getState:Jp,e?e.store.getState:Jp,e?t:Jp,e$)}function t$(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function n$(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function r$(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var _C=t=>Array.isArray(t)?t:[t];function a$(t){const e=Array.isArray(t[0])?t[0]:t;return r$(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function i$(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var s$=class{constructor(t){this.value=t}deref(){return this.value}},o$=typeof WeakRef<"u"?WeakRef:s$,l$=0,NC=1;function Ep(){return{s:l$,v:void 0,o:null,p:null}}function $k(t,e={}){let n=Ep();const{resultEqualityCheck:r}=e;let a,s=0;function c(){var g;let d=n;const{length:f}=arguments;for(let x=0,w=f;x<w;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const j=N.get(E);j===void 0?(d=Ep(),N.set(E,d)):d=j}else{let N=d.p;N===null&&(d.p=N=new Map);const j=N.get(E);j===void 0?(d=Ep(),N.set(E,d)):d=j}}const h=d;let p;if(d.s===NC)p=d.v;else if(p=t.apply(null,arguments),s++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new o$(p):p}return h.s=NC,h.v=p,p}return c.clearCache=()=>{n=Ep(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function c$(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,c=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),t$(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:w=$k,argsMemoizeOptions:E=[]}=p,N=_C(x),j=_C(E),A=a$(a),U=g(function(){return s++,h.apply(null,arguments)},...N),T=w(function(){c++;const P=i$(A,arguments);return d=U.apply(null,P),d},...j);return Object.assign(T,{resultFunc:h,memoizedResultFunc:U,dependencies:A,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var re=c$($k),u$=Object.assign((t,e=re)=>{n$(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>u$}),Kb={},Yb={},Wb={},jC;function d$(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n})(Wb)),Wb}var Xb={},Qb={},EC;function qk(){return EC||(EC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Qb)),Qb}var SC;function f$(){return SC||(SC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(Xb)),Xb}var TC;function h$(){return TC||(TC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d$(),n=f$(),r=nN();function a(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,E)=>{let N=w;for(let j=0;j<E.length&&N!=null;++j)N=N[E[j]];return N},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:h(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?h(E,w):typeof E=="object"?E[w]:E,g=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let N=0;N<g.length;N++){const j=e.compareValues(w.criteria[N],E.criteria[N],d[N]);if(j!==0)return j}return 0}).map(w=>w.original)}t.orderBy=a})(Yb)),Yb}var Zb={},AC;function m$(){return AC||(AC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):a.push(p)}};return c(n,0),a}t.flatten=e})(Zb)),Zb}var Jb={},CC;function Hk(){return CC||(CC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fk(),n=aN(),r=kk(),a=Lk();function s(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],c):!1}t.isIterateeCall=s})(Jb)),Jb}var IC;function p$(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h$(),n=m$(),r=Hk();function a(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=a})(Kb)),Kb}var ew,OC;function g$(){return OC||(OC=1,ew=p$().sortBy),ew}var y$=g$();const Ly=Qi(y$);var Gk=t=>t.legend.settings,v$=t=>t.legend.size,x$=t=>t.legend.payload;re([x$,Gk],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Ly(r,n):r});var Sp=1;function b$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Sp||Math.abs(c.left-e.left)>Sp||Math.abs(c.top-e.top)>Sp||Math.abs(c.width-e.width)>Sp)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function cr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var w$=typeof Symbol=="function"&&Symbol.observable||"@@observable",RC=w$,tw=()=>Math.random().toString(36).substring(7).split("").join("."),_$={INIT:`@@redux/INIT${tw()}`,REPLACE:`@@redux/REPLACE${tw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tw()}`},wg=_$;function sN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Kk(t,e,n){if(typeof t!="function")throw new Error(cr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(cr(1));return n(Kk)(t,e)}let r=t,a=e,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((j,A)=>{c.set(A,j)}))}function p(){if(f)throw new Error(cr(3));return a}function g(j){if(typeof j!="function")throw new Error(cr(4));if(f)throw new Error(cr(5));let A=!0;h();const U=d++;return c.set(U,j),function(){if(A){if(f)throw new Error(cr(6));A=!1,h(),c.delete(U),s=null}}}function x(j){if(!sN(j))throw new Error(cr(7));if(typeof j.type>"u")throw new Error(cr(8));if(typeof j.type!="string")throw new Error(cr(17));if(f)throw new Error(cr(9));try{f=!0,a=r(a,j)}finally{f=!1}return(s=c).forEach(U=>{U()}),j}function w(j){if(typeof j!="function")throw new Error(cr(10));r=j,x({type:wg.REPLACE})}function E(){const j=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(cr(11));function U(){const M=A;M.next&&M.next(p())}return U(),{unsubscribe:j(U)}},[RC](){return this}}}return x({type:wg.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:w,[RC]:E}}function N$(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:wg.INIT})>"u")throw new Error(cr(12));if(typeof n(void 0,{type:wg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(cr(13))})}function Yk(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{N$(n)}catch(s){a=s}return function(c={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],w=c[g],E=x(w,d);if(typeof E>"u")throw d&&d.type,new Error(cr(14));h[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(c).length,f?h:c}}function _g(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function j$(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(cr(15))};const c={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(c));return s=_g(...d)(a.dispatch),{...a,dispatch:s}}}function Wk(t){return sN(t)&&"type"in t&&typeof t.type=="string"}var Xk=Symbol.for("immer-nothing"),PC=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function ei(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ua=Object,ku=ua.getPrototypeOf,Ng="constructor",Uy="prototype",x1="configurable",jg="enumerable",eg="writable",Gf="value",ks=t=>!!t&&!!t[Rr];function Gi(t){var e;return t?Qk(t)||Vy(t)||!!t[PC]||!!((e=t[Ng])!=null&&e[PC])||zy(t)||By(t):!1}var E$=ua[Uy][Ng].toString(),DC=new WeakMap;function Qk(t){if(!t||!oN(t))return!1;const e=ku(t);if(e===null||e===ua[Uy])return!0;const n=ua.hasOwnProperty.call(e,Ng)&&e[Ng];if(n===Object)return!0;if(!pu(n))return!1;let r=DC.get(n);return r===void 0&&(r=Function.toString.call(n),DC.set(n,r)),r===E$}function bh(t,e,n=!0){wh(t)===0?(n?Reflect.ownKeys(t):ua.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function wh(t){const e=t[Rr];return e?e.type_:Vy(t)?1:zy(t)?2:By(t)?3:0}var kC=(t,e,n=wh(t))=>n===2?t.has(e):ua[Uy].hasOwnProperty.call(t,e),b1=(t,e,n=wh(t))=>n===2?t.get(e):t[e],Eg=(t,e,n,r=wh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function S$(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Vy=Array.isArray,zy=t=>t instanceof Map,By=t=>t instanceof Set,oN=t=>typeof t=="object",pu=t=>typeof t=="function",nw=t=>typeof t=="boolean",ws=t=>t.copy_||t.base_,lN=t=>t.modified_?t.copy_:t.base_;function w1(t,e){if(zy(t))return new Map(t);if(By(t))return new Set(t);if(Vy(t))return Array[Uy].slice.call(t);const n=Qk(t);if(e===!0||e==="class_only"&&!n){const r=ua.getOwnPropertyDescriptors(t);delete r[Rr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d[eg]===!1&&(d[eg]=!0,d[x1]=!0),(d.get||d.set)&&(r[c]={[x1]:!0,[eg]:!0,[jg]:d[jg],[Gf]:t[c]})}return ua.create(ku(t),r)}else{const r=ku(t);if(r!==null&&n)return{...t};const a=ua.create(r);return ua.assign(a,t)}}function cN(t,e=!1){return Fy(t)||ks(t)||(wh(t)>1&&ua.defineProperties(t,{set:Tp,add:Tp,clear:Tp,delete:Tp}),ua.freeze(t),e&&bh(t,(n,r)=>{cN(r,!0)},!1)),t}function T$(){ei(2)}var Tp={[Gf]:T$};function Fy(t){return t===null||!oN(t)?!0:ua.isFrozen(t)}var Sg="MapSet",_1="Patches",Zk={};function Mu(t){const e=Zk[t];return e||ei(0,t),e}var A$=t=>!!Zk[t],Kf,Jk=()=>Kf,C$=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:A$(Sg)?Mu(Sg):void 0});function MC(t,e){e&&(t.patchPlugin_=Mu(_1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function N1(t){j1(t),t.drafts_.forEach(I$),t.drafts_=null}function j1(t){t===Kf&&(Kf=t.parent_)}var LC=t=>Kf=C$(Kf,t);function I$(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rr].modified_&&(N1(e),ei(4)),Gi(t)&&(t=VC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Rr].base_,t,e)}else t=VC(e,n);return O$(e,t,!0),N1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Xk?t:void 0}function VC(t,e){if(Fy(e))return e;const n=e[Rr];if(!n)return uN(e,t.handledSet_,t);if(!$y(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);n4(n,t)}return n.copy_}function O$(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&cN(e,n)}function e4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var $y=(t,e)=>t.scope_===e,R$=[];function t4(t,e,n,r){const a=ws(t),s=t.type_;if(r!==void 0&&b1(a,r,s)===e){Eg(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;bh(a,(f,h)=>{if(ks(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??R$;for(const d of c)Eg(a,d,n,s)}function P$(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!$y(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const c=lN(s);t4(t,s.draft_??s,c,n),n4(s,a)})}function n4(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}e4(t)}}function D$(t,e,n){const{scope_:r}=t;if(ks(n)){const a=n[Rr];$y(a,r)&&a.callbacks_.push(function(){tg(t);const c=lN(a);t4(t,n,c,e)})}else Gi(n)&&t.callbacks_.push(function(){const s=ws(t);b1(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&uN(b1(t.copy_,e,t.type_),r.handledSet_,r)})}function uN(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ks(t)||e.has(t)||!Gi(t)||Fy(t)||(e.add(t),bh(t,(r,a)=>{if(ks(a)){const s=a[Rr];if($y(s,n)){const c=lN(s);Eg(t,r,c,t.type_),e4(s)}}else Gi(a)&&uN(a,e,n)})),t}function k$(t,e){const n=Vy(t),r={type_:n?1:0,scope_:e?e.scope_:Jk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=dN;n&&(a=[r],s=Yf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,[d,r]}var dN={get(t,e){if(e===Rr)return t;const n=ws(t);if(!kC(n,e,t.type_))return M$(t,n,e);const r=n[e];if(t.finalized_||!Gi(r))return r;if(r===rw(t.base_,e)){tg(t);const a=t.type_===1?+e:e,s=S1(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in ws(t)},ownKeys(t){return Reflect.ownKeys(ws(t))},set(t,e,n){const r=r4(ws(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=rw(ws(t),e),s=a==null?void 0:a[Rr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(S$(n,a)&&(n!==void 0||kC(t.base_,e,t.type_)))return!0;tg(t),E1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),D$(t,e,n)),!0},deleteProperty(t,e){return tg(t),rw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),E1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ws(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[eg]:!0,[x1]:t.type_!==1||e!=="length",[jg]:r[jg],[Gf]:n[e]}},defineProperty(){ei(11)},getPrototypeOf(t){return ku(t.base_)},setPrototypeOf(){ei(12)}},Yf={};bh(dN,(t,e)=>{Yf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Yf.deleteProperty=function(t,e){return Yf.set.call(this,t,e,void 0)};Yf.set=function(t,e,n){return dN.set.call(this,t[0],e,n,t[0])};function rw(t,e){const n=t[Rr];return(n?ws(n):t)[e]}function M$(t,e,n){var a;const r=r4(e,n);return r?Gf in r?r[Gf]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function r4(t,e){if(!(e in t))return;let n=ku(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ku(n)}}function E1(t){t.modified_||(t.modified_=!0,t.parent_&&E1(t.parent_))}function tg(t){t.copy_||(t.assigned_=new Map,t.copy_=w1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var L$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(pu(n)&&!pu(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}pu(r)||ei(6),a!==void 0&&!pu(a)&&ei(7);let s;if(Gi(n)){const c=LC(this),d=S1(c,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?N1(c):j1(c)}return MC(c,a),UC(s,c)}else if(!n||!oN(n)){if(s=r(n),s===void 0&&(s=n),s===Xk&&(s=void 0),this.autoFreeze_&&cN(s,!0),a){const c=[],d=[];Mu(_1).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:d}),a(c,d)}return s}else ei(1,n)},this.produceWithPatches=(n,r)=>{if(pu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},nw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),nw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),nw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gi(e)||ei(8),ks(e)&&(e=oi(e));const n=LC(this),r=S1(n,e,void 0);return r[Rr].isManual_=!0,j1(n),r}finishDraft(e,n){const r=e&&e[Rr];(!r||!r.isManual_)&&ei(9);const{scope_:a}=r;return MC(a,n),UC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Mu(_1).applyPatches_;return ks(e)?a(e,n):this.produce(e,s=>a(s,n))}};function S1(t,e,n,r){const[a,s]=zy(e)?Mu(Sg).proxyMap_(e,n):By(e)?Mu(Sg).proxySet_(e,n):k$(e,n);return((n==null?void 0:n.scope_)??Jk()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?P$(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function oi(t){return ks(t)||ei(10,t),a4(t)}function a4(t){if(!Gi(t)||Fy(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=w1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=w1(t,!0);return bh(n,(a,s)=>{Eg(n,a,a4(s))},r),e&&(e.finalized_=!1),n}var U$=new L$,i4=U$.produce;function s4(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var V$=s4(),z$=s4,B$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_g:_g.apply(null,arguments)};function Ma(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ha(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Wk(r)&&r.type===t,n}var o4=class Cf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cf.prototype)}static get[Symbol.species](){return Cf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cf(...e[0].concat(this)):new Cf(...e.concat(this))}};function zC(t){return Gi(t)?i4(t,()=>{}):t}function Ap(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function F$(t){return typeof t=="boolean"}var $$=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new o4;return n&&(F$(n)?c.push(V$):c.push(z$(n.extraArgument))),c},l4="RTK_autoBatch",Yt=()=>t=>({payload:t,meta:{[l4]:!0}}),BC=t=>e=>{setTimeout(e,t)},c4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BC(10):t.type==="callback"?t.queueNotification:BC(t.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[l4]),s=!a,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},q$=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new o4(t);return r&&a.push(c4(typeof r=="object"?r:void 0)),a};function H$(t){const e=$$(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(sN(n))d=Yk(n);else throw new Error(ha(1));let f;typeof r=="function"?f=r(e):f=e();let h=_g;a&&(h=B$({trace:!1,...typeof a=="object"&&a}));const p=j$(...f),g=q$(p);let x=typeof c=="function"?c(g):g();const w=h(...x);return Kk(d,s,w)}function u4(t){const e={},n=[];let r;const a={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ha(28));if(d in e)throw new Error(ha(29));return e[d]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function G$(t){return typeof t=="function"}function K$(t,e){let[n,r,a]=u4(e),s;if(G$(t))s=()=>zC(t());else{const d=zC(t);s=()=>d}function c(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(ks(p)){const w=g(p,f);return w===void 0?p:w}else{if(Gi(p))return i4(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=s,c}var Y$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",W$=(t=21)=>{let e="",n=t;for(;n--;)e+=Y$[Math.random()*64|0];return e},X$=Symbol.for("rtk-slice-createasyncthunk");function Q$(t,e){return`${t}/${e}`}function Z$({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[X$];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(ha(11));const d=(typeof a.reducers=="function"?a.reducers(eq()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(M,P){const L=typeof M=="string"?M:M.type;if(!L)throw new Error(ha(12));if(L in h.sliceCaseReducersByType)throw new Error(ha(13));return h.sliceCaseReducersByType[L]=P,p},addMatcher(M,P){return h.sliceMatchers.push({matcher:M,reducer:P}),p},exposeAction(M,P){return h.actionCreators[M]=P,p},exposeCaseReducer(M,P){return h.sliceCaseReducersByName[M]=P,p}};f.forEach(M=>{const P=d[M],L={reducerName:M,type:Q$(s,M),createNotation:typeof a.reducers=="function"};nq(P)?aq(L,P,p,e):tq(L,P,p)});function g(){const[M={},P=[],L=void 0]=typeof a.extraReducers=="function"?u4(a.extraReducers):[a.extraReducers],k={...M,...h.sliceCaseReducersByType};return K$(a.initialState,V=>{for(let D in k)V.addCase(D,k[D]);for(let D of h.sliceMatchers)V.addMatcher(D.matcher,D.reducer);for(let D of P)V.addMatcher(D.matcher,D.reducer);L&&V.addDefaultCase(L)})}const x=M=>M,w=new Map,E=new WeakMap;let N;function j(M,P){return N||(N=g()),N(M,P)}function A(){return N||(N=g()),N.getInitialState()}function U(M,P=!1){function L(V){let D=V[M];return typeof D>"u"&&P&&(D=Ap(E,L,A)),D}function k(V=x){const D=Ap(w,P,()=>new WeakMap);return Ap(D,V,()=>{const I={};for(const[R,F]of Object.entries(a.selectors??{}))I[R]=J$(F,V,()=>Ap(E,V,A),P);return I})}return{reducerPath:M,getSelectors:k,get selectors(){return k(L)},selectSlice:L}}const T={name:s,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:A,...U(c),injectInto(M,{reducerPath:P,...L}={}){const k=P??c;return M.inject({reducerPath:k,reducer:j},L),{...T,...U(k,!0)}}};return T}}function J$(t,e,n,r){function a(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Xr=Z$();function eq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function tq({type:t,reducerName:e,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!rq(r))throw new Error(ha(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Ma(t,c):Ma(t))}function nq(t){return t._reducerDefinitionType==="asyncThunk"}function rq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function aq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ha(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||Cp,pending:d||Cp,rejected:f||Cp,settled:h||Cp})}function Cp(){}var iq="task",d4="listener",f4="completed",fN="cancelled",sq=`task-${fN}`,oq=`task-${f4}`,T1=`${d4}-${fN}`,lq=`${d4}-${f4}`,qy=class{constructor(t){Xx(this,"name","TaskAbortError");Xx(this,"message");this.code=t,this.message=`${iq} ${fN} (reason: ${t})`}},hN=(t,e)=>{if(typeof t!="function")throw new TypeError(ha(32))},Tg=()=>{},h4=(t,e=Tg)=>(t.catch(e),t),m4=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Xl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ql=t=>{if(t.aborted){const{reason:e}=t;throw new qy(e)}};function p4(t,e){let n=Tg;return new Promise((r,a)=>{const s=()=>a(new qy(t.reason));if(t.aborted){s();return}n=m4(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Tg})}var cq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof qy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Ag=t=>e=>h4(p4(t,e).then(n=>(Ql(t),n))),g4=t=>{const e=Ag(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Eu}=Object,FC={},Hy="listenerMiddleware",uq=(t,e)=>{const n=r=>m4(t,()=>Xl(r,t.reason));return(r,a)=>{hN(r);const s=new AbortController;n(s);const c=cq(async()=>{Ql(t),Ql(s.signal);const d=await r({pause:Ag(s.signal),delay:g4(s.signal),signal:s.signal});return Ql(s.signal),d},()=>Xl(s,oq));return a!=null&&a.autoJoin&&e.push(c.catch(Tg)),{result:Ag(t)(c),cancel(){Xl(s,sq)}}}},dq=(t,e)=>{const n=async(r,a)=>{Ql(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await p4(e,Promise.race(d));return Ql(e),f}finally{s()}};return(r,a)=>h4(n(r,a))},y4=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Ma(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ha(21));return hN(s),{predicate:a,type:e,effect:s}},v4=Eu(t=>{const{type:e,predicate:n,effect:r}=y4(t);return{id:W$(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ha(22))}}},{withTypes:()=>v4}),$C=(t,e)=>{const{type:n,effect:r,predicate:a}=y4(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},A1=t=>{t.pending.forEach(e=>{Xl(e,T1)})},fq=(t,e)=>()=>{for(const n of e.keys())A1(n);t.clear()},qC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},x4=Eu(Ma(`${Hy}/add`),{withTypes:()=>x4}),hq=Ma(`${Hy}/removeAll`),b4=Eu(Ma(`${Hy}/remove`),{withTypes:()=>b4}),mq=(...t)=>{console.error(`${Hy}/error`,...t)},_h=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:c=mq}=t;hN(c);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&A1(w)}),f=w=>{const E=$C(e,w)??v4(w);return d(E)};Eu(f,{withTypes:()=>f});const h=w=>{const E=$C(e,w);return E&&(E.unsubscribe(),w.cancelActive&&A1(E)),!!E};Eu(h,{withTypes:()=>h});const p=async(w,E,N,j)=>{const A=new AbortController,U=dq(f,A.signal),T=[];try{w.pending.add(A),r(w),await Promise.resolve(w.effect(E,Eu({},N,{getOriginalState:j,condition:(M,P)=>U(M,P).then(Boolean),take:U,delay:g4(A.signal),pause:Ag(A.signal),extra:s,signal:A.signal,fork:uq(A.signal,T),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((M,P,L)=>{M!==A&&(Xl(M,T1),L.delete(M))})},cancel:()=>{Xl(A,T1),w.pending.delete(A)},throwIfCancelled:()=>{Ql(A.signal)}})))}catch(M){M instanceof qy||qC(c,M,{raisedBy:"effect"})}finally{await Promise.all(T),Xl(A,lq),a(w),w.pending.delete(A)}},g=fq(e,n);return{middleware:w=>E=>N=>{if(!Wk(N))return E(N);if(x4.match(N))return f(N.payload);if(hq.match(N)){g();return}if(b4.match(N))return h(N.payload);let j=w.getState();const A=()=>{if(j===FC)throw new Error(ha(23));return j};let U;try{if(U=E(N),e.size>0){const T=w.getState(),M=Array.from(e.values());for(const P of M){let L=!1;try{L=P.predicate(N,T,j)}catch(k){L=!1,qC(c,k,{raisedBy:"predicate"})}L&&p(P,N,w,A)}}}finally{j=FC}return U},startListening:f,stopListening:h,clearListeners:g}};function ha(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},w4=Xr({name:"chartLayout",initialState:pq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:gq,setLayout:yq,setChartSize:vq,setScale:xq}=w4.actions,bq=w4.reducer;function _4(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function HC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(n),!0).forEach(function(r){wq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wq(t,e,n){return(e=_q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=Nq(t,"string");return typeof e=="symbol"?e:e+""}function Nq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wt(t,e,n){return nr(t)||nr(e)?n:Hi(e)?nc(t,e,n):typeof e=="function"?e(t):n}var jq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&ke(t[s]))return wu(wu({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&ke(t[c]))return wu(wu({},t),{},{[c]:t[c]+(a||0)})}return t},pc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",N4=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||c.push(e),s||c.push(n),c},j4=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:w}=t;if(!c)return null;var E=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,N=a==="category"&&c.bandwidth?c.bandwidth()/E:0;if(N=w==="angleAxis"&&s&&s.length>=2?tr(s[0]-s[1])*2*N:N,g||x){var j=(g||x||[]).map((A,U)=>{var T=r?r.indexOf(A):A;return{coordinate:c(T)+N,value:A,offset:N,index:U}});return j.filter(A=>!ci(A.coordinate))}return f&&h?h.map((A,U)=>({coordinate:c(A)+N,value:A,index:U,offset:N})):c.ticks&&p!=null?c.ticks(p).map((A,U)=>({coordinate:c(A)+N,value:A,offset:N,index:U})):c.domain().map((A,U)=>({coordinate:c(A)+N,value:r?r[A]:A,index:U,offset:N}))},GC=1e-4,Eq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-GC,s=Math.max(r[0],r[1])+GC,c=t(e[0]),d=t(e[n-1]);(c<a||c>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},Sq=(t,e)=>{if(!e||e.length!==2||!ke(e[0])||!ke(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!ke(t[0])||t[0]<n)&&(a[0]=n),(!ke(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Tq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,c=0;c<e;++c){var d=ci(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},Aq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var c=ci(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Cq={sign:Tq,expand:tF,none:Du,silhouette:nF,wiggle:rF,positive:Aq},Iq=(t,e,n)=>{var r=Cq[n],a=eF().keys(e).value((s,c)=>Number(Wt(s,c,0))).order(y1).offset(r);return a(t)};function Oq(t){return t==null?void 0:String(t)}var KC=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=Wt(s,e.dataKey,e.scale.domain()[c]);return nr(d)?null:e.scale(d)-a/2+r},Rq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Pq=t=>{var e=t.flat(2).filter(ke);return[Math.min(...e),Math.max(...e)]},Dq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],kq=(t,e,n)=>{if(t!=null)return Dq(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:c}=s,d=c.reduce((f,h)=>{var p=_4(h,e,n),g=Pq(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},YC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=Ly(e,p=>p.coordinate),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],h=a[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function XC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return wu(wu({},e),{},{dataKey:n,payload:r,value:a,name:s})}function Gy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Mq=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Lq=(t,e)=>e==="centric"?t.angle:t.radius,Gs=t=>t.layout.width,Ks=t=>t.layout.height,Uq=t=>t.layout.scale,E4=t=>t.layout.margin,Ky=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Yy=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),S4="data-recharts-item-index",T4="data-recharts-item-data-key",Nh=60;function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ip(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){Vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vq(t,e,n){return(e=zq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zq(t){var e=Bq(t,"string");return typeof e=="symbol"?e:e+""}function Bq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fq=t=>t.brush.height;function $q(t){var e=Yy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nh;return n+a}return n},0)}function qq(t){var e=Yy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nh;return n+a}return n},0)}function Hq(t){var e=Ky(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Gq(t){var e=Ky(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Fn=re([Gs,Ks,E4,Fq,$q,qq,Hq,Gq,Gk,v$],(t,e,n,r,a,s,c,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},x=Ip(Ip({},g),p),w=x.bottom;x.bottom+=r,x=jq(x,f,h);var E=t-x.left-x.right,N=e-x.top-x.bottom;return Ip(Ip({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(N,0)})}),Kq=re(Fn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),mN=re(Gs,Ks,(t,e)=>({x:0,y:0,width:t,height:e})),Yq=_.createContext(null),Qr=()=>_.useContext(Yq)!=null,Wy=t=>t.brush,Xy=re([Wy,Fn,E4],(t,e,n)=>({height:t.height,x:ke(t.x)?t.x:e.left,y:ke(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:ke(t.width)?t.width:e.width})),aw={},iw={},sw={},ZC;function Wq(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),N()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},N=()=>{E(),c=void 0,d=null},j=()=>{p()},A=function(...U){if(a!=null&&a.aborted)return;c=this,d=U;const T=x==null;w(),f&&T&&p()};return A.schedule=w,A.cancel=N,A.flush=j,a==null||a.addEventListener("abort",N,{once:!0}),A}t.debounce=e})(sw)),sw}var JC;function Xq(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wq();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...N){p=r.apply(this,N),g=null},a,{edges:h}),w=function(...N){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,N),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,N),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}t.debounce=n})(iw)),iw}var eI;function Qq(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xq();function n(r,a=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(aw)),aw}var ow,tI;function Zq(){return tI||(tI=1,ow=Qq().throttle),ow}var Jq=Zq();const eH=Qi(Jq);var Ig=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},A4=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:c}=n,d=Ds(r)?t:Number(r),f=Ds(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},tH={width:0,height:0,overflow:"visible"},nH={width:0,overflowX:"visible"},rH={height:0,overflowY:"visible"},aH={},iH=t=>{var{width:e,height:n}=t,r=Ds(e),a=Ds(n);return r&&a?tH:r?nH:a?rH:aH};function sH(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function vn(t){return Number.isFinite(t)}function Ki(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C1.apply(null,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){oH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oH(t,e,n){return(e=lH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lH(t){var e=cH(t,"string");return typeof e=="symbol"?e:e+""}function cH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C4=_.createContext({width:-1,height:-1});function uH(t){return Ki(t.width)&&Ki(t.height)}function I4(t){var{children:e,width:n,height:r}=t,a=_.useMemo(()=>({width:n,height:r}),[n,r]);return uH(a)?_.createElement(C4.Provider,{value:a},e):null}var pN=()=>_.useContext(C4),dH=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:c=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:w,style:E={}}=t,N=_.useRef(null),j=_.useRef();j.current=w,_.useImperativeHandle(e,()=>N.current);var[A,U]=_.useState({containerWidth:r.width,containerHeight:r.height}),T=_.useCallback((V,D)=>{U(I=>{var R=Math.round(V),F=Math.round(D);return I.containerWidth===R&&I.containerHeight===F?I:{containerWidth:R,containerHeight:F}})},[]);_.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return xh;var V=F=>{var B,{width:pe,height:le}=F[0].contentRect;T(pe,le),(B=j.current)===null||B===void 0||B.call(j,pe,le)};p>0&&(V=eH(V,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(V),{width:I,height:R}=N.current.getBoundingClientRect();return T(I,R),D.observe(N.current),()=>{D.disconnect()}},[T,p]);var{containerWidth:M,containerHeight:P}=A;Ig(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:k}=A4(M,P,{width:a,height:s,aspect:n,maxHeight:f});return Ig(L!=null&&L>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,k,a,s,c,d,n),_.createElement("div",{id:g?"".concat(g):void 0,className:Dt("recharts-responsive-container",x),style:rI(rI({},E),{},{width:a,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:N},_.createElement("div",{style:iH({width:a,height:s})},_.createElement(I4,{width:L,height:k},h)))}),O4=_.forwardRef((t,e)=>{var n=pN();if(Ki(n.width)&&Ki(n.height))return t.children;var{width:r,height:a}=sH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=A4(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return ke(s)&&ke(c)?_.createElement(I4,{width:s,height:c},t.children):_.createElement(dH,C1({},t,{width:r,height:a,ref:e}))});function R4(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Qy=()=>{var t,e=Qr(),n=Me(Kq),r=Me(Xy),a=(t=Me(Wy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},fH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},P4=()=>{var t;return(t=Me(Fn))!==null&&t!==void 0?t:fH},D4=()=>Me(Gs),k4=()=>Me(Ks),vt=t=>t.layout.layoutType,Zy=()=>Me(vt),hH=()=>{var t=Zy();return t!==void 0},Jy=t=>{var e=Zt(),n=Qr(),{width:r,height:a}=t,s=pN(),c=r,d=a;return s&&(c=s.width>0?s.width:r,d=s.height>0?s.height:a),_.useEffect(()=>{!n&&Ki(c)&&Ki(d)&&e(vq({width:c,height:d}))},[e,n,c,d]),null},M4=Symbol.for("immer-nothing"),aI=Symbol.for("immer-draftable"),ga=Symbol.for("immer-state");function ti(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wf=Object.getPrototypeOf;function Lu(t){return!!t&&!!t[ga]}function rc(t){var e;return t?L4(t)||Array.isArray(t)||!!t[aI]||!!((e=t.constructor)!=null&&e[aI])||jh(t)||t0(t):!1}var mH=Object.prototype.constructor.toString(),iI=new WeakMap;function L4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=iI.get(n);return r===void 0&&(r=Function.toString.call(n),iI.set(n,r)),r===mH}function Og(t,e,n=!0){e0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function e0(t){const e=t[ga];return e?e.type_:Array.isArray(t)?1:jh(t)?2:t0(t)?3:0}function I1(t,e){return e0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function U4(t,e,n){const r=e0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jh(t){return t instanceof Map}function t0(t){return t instanceof Set}function Bl(t){return t.copy_||t.base_}function O1(t,e){if(jh(t))return new Map(t);if(t0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=L4(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ga];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Wf(t),r)}else{const r=Wf(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function gN(t,e=!1){return n0(t)||Lu(t)||!rc(t)||(e0(t)>1&&Object.defineProperties(t,{set:Op,add:Op,clear:Op,delete:Op}),Object.freeze(t),e&&Object.values(t).forEach(n=>gN(n,!0))),t}function gH(){ti(2)}var Op={value:gH};function n0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var yH={};function ac(t){const e=yH[t];return e||ti(0,t),e}var Xf;function V4(){return Xf}function vH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sI(t,e){e&&(ac("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function R1(t){P1(t),t.drafts_.forEach(xH),t.drafts_=null}function P1(t){t===Xf&&(Xf=t.parent_)}function oI(t){return Xf=vH(Xf,t)}function xH(t){const e=t[ga];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ga].modified_&&(R1(e),ti(4)),rc(t)&&(t=Rg(e,t),e.parent_||Pg(e,t)),e.patches_&&ac("Patches").generateReplacementPatches_(n[ga].base_,t,e.patches_,e.inversePatches_)):t=Rg(e,n,[]),R1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==M4?t:void 0}function Rg(t,e,n){if(n0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ga];if(!a)return Og(e,(s,c)=>cI(t,a,e,s,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Pg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,d=!1;a.type_===3&&(c=new Set(s),s.clear(),d=!0),Og(c,(f,h)=>cI(t,a,s,f,h,n,d),r),Pg(t,s,!1),n&&t.patches_&&ac("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function cI(t,e,n,r,a,s,c){if(a==null||typeof a!="object"&&!c)return;const d=n0(a);if(!(d&&!c)){if(Lu(a)){const f=s&&e&&e.type_!==3&&!I1(e.assigned_,r)?s.concat(r):void 0,h=Rg(t,a,f);if(U4(n,r,h),Lu(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(rc(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;Rg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(jh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Pg(t,a)}}}function Pg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&gN(e,n)}function bH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:V4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=yN;n&&(a=[r],s=Qf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,d}var yN={get(t,e){if(e===ga)return t;const n=Bl(t);if(!I1(n,e))return wH(t,n,e);const r=n[e];return t.finalized_||!rc(r)?r:r===lw(t.base_,e)?(cw(t),t.copy_[e]=k1(r,t)):r},has(t,e){return e in Bl(t)},ownKeys(t){return Reflect.ownKeys(Bl(t))},set(t,e,n){const r=z4(Bl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=lw(Bl(t),e),s=a==null?void 0:a[ga];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(pH(n,a)&&(n!==void 0||I1(t.base_,e)))return!0;cw(t),D1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return lw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,cw(t),D1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Bl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ti(11)},getPrototypeOf(t){return Wf(t.base_)},setPrototypeOf(){ti(12)}},Qf={};Og(yN,(t,e)=>{Qf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qf.deleteProperty=function(t,e){return Qf.set.call(this,t,e,void 0)};Qf.set=function(t,e,n){return yN.set.call(this,t[0],e,n,t[0])};function lw(t,e){const n=t[ga];return(n?Bl(n):t)[e]}function wH(t,e,n){var a;const r=z4(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function z4(t,e){if(!(e in t))return;let n=Wf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wf(n)}}function D1(t){t.modified_||(t.modified_=!0,t.parent_&&D1(t.parent_))}function cw(t){t.copy_||(t.copy_=O1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _H=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&ti(6),r!==void 0&&typeof r!="function"&&ti(7);let a;if(rc(e)){const s=oI(this),c=k1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?R1(s):P1(s)}return sI(s,r),lI(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===M4&&(a=void 0),this.autoFreeze_&&gN(a,!0),r){const s=[],c=[];ac("Patches").generateReplacementPatches_(e,a,s,c),r(s,c)}return a}else ti(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){rc(t)||ti(8),Lu(t)&&(t=NH(t));const e=oI(this),n=k1(t,void 0);return n[ga].isManual_=!0,P1(e),n}finishDraft(t,e){const n=t&&t[ga];(!n||!n.isManual_)&&ti(9);const{scope_:r}=n;return sI(r,e),lI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=ac("Patches").applyPatches_;return Lu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function k1(t,e){const n=jh(t)?ac("MapSet").proxyMap_(t,e):t0(t)?ac("MapSet").proxySet_(t,e):bH(t,e);return(e?e.scope_:V4()).drafts_.push(n),n}function NH(t){return Lu(t)||ti(10,t),B4(t)}function B4(t){if(!rc(t)||n0(t))return t;const e=t[ga];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=O1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=O1(t,!0);return Og(n,(a,s)=>{U4(n,a,B4(s))},r),e&&(e.finalized_=!1),n}var jH=new _H;jH.produce;var EH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},F4=Xr({name:"legend",initialState:EH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Yt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Yt()},removeLegendPayload:{reducer(t,e){var n=oi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Yt()}}}),{setLegendSize:tge,setLegendSettings:nge,addLegendPayload:$4,replaceLegendPayload:q4,removeLegendPayload:H4}=F4.actions,SH=F4.reducer;function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M1.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){TH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TH(t,e,n){return(e=AH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AH(t){var e=CH(t,"string");return typeof e=="symbol"?e:e+""}function CH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IH(t){return Array.isArray(t)&&Hi(t[0])&&Hi(t[1])?t.join(" ~ "):t}var OH=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var P={padding:0,margin:0},L=(d?Ly(s,d):s).map((k,V)=>{if(k.type==="none")return null;var D=k.formatter||c||IH,{value:I,name:R}=k,F=I,B=R;if(D){var pe=D(I,R,k,V,s);if(Array.isArray(pe))[F,B]=pe;else if(pe!=null)F=pe;else return null}var le=uw({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:le},Hi(B)?_.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Hi(B)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},F),_.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:P},L)}return null},E=uw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),N=uw({margin:0},a),j=!nr(p),A=j?p:"",U=Dt("recharts-default-tooltip",f),T=Dt("recharts-tooltip-label",h);j&&g&&s!==void 0&&s!==null&&(A=g(p,s));var M=x?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",M1({className:U,style:E},M),_.createElement("p",{className:T,style:N},_.isValidElement(A)?A:"".concat(A)),w())},xf="recharts-tooltip-wrapper",RH={visibility:"hidden"};function PH(t){var{coordinate:e,translateX:n,translateY:r}=t;return Dt(xf,{["".concat(xf,"-right")]:ke(n)&&e&&ke(e.x)&&n>=e.x,["".concat(xf,"-left")]:ke(n)&&e&&ke(e.x)&&n<e.x,["".concat(xf,"-bottom")]:ke(r)&&e&&ke(e.y)&&r>=e.y,["".concat(xf,"-top")]:ke(r)&&e&&ke(e.y)&&r<e.y})}function dI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&ke(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var x=f[r];if(x==null)return 0;if(c[r]){var w=p,E=x;return w<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var N=g+d,j=x+h;return N>j?Math.max(p,x):Math.max(g,x)}function DH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function kH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:f}=t,h,p,g;return c.height>0&&c.width>0&&n?(p=dI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=dI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=DH({translateX:p,translateY:g,useTranslate3d:d})):h=RH,{cssProperties:h,cssClasses:PH({translateX:p,translateY:g,coordinate:n})}}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){L1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1(t,e,n){return(e=MH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=LH(t,"string");return typeof e=="symbol"?e:e+""}function LH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UH extends _.PureComponent{constructor(){super(...arguments),L1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),L1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:N,innerRef:j,hasPortalFromProps:A}=this.props,{cssClasses:U,cssProperties:T}=kH({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:w}),M=A?{}:Rp(Rp({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),P=Rp(Rp({},M),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:P,ref:j},s)}}var VH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),gc={devToolsEnabled:!1,isSsr:VH()},G4=()=>{var t;return(t=Me(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(null,arguments)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){zH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zH(t,e,n){return(e=BH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){var e=FH(t,"string");return typeof e=="symbol"?e:e+""}function FH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pI={curveBasisClosed:$B,curveBasisOpen:qB,curveBasis:FB,curveBumpX:AB,curveBumpY:CB,curveLinearClosed:HB,curveLinear:Dy,curveMonotoneX:GB,curveMonotoneY:KB,curveNatural:YB,curveStep:WB,curveStepAfter:QB,curveStepBefore:XB},Dg=t=>vn(t.x)&&vn(t.y),gI=t=>t.base!=null&&Dg(t.base)&&Dg(t),bf=t=>t.x,wf=t=>t.y,$H=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(vh(t));return(n==="curveMonotone"||n==="curveBump")&&e?pI["".concat(n).concat(e==="vertical"?"Y":"X")]:pI[n]||Dy},qH=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,c=$H(e,a),d=s?n.filter(Dg):n,f;if(Array.isArray(r)){var h=n.map((w,E)=>mI(mI({},w),{},{base:r[E]}));a==="vertical"?f=jp().y(wf).x1(bf).x0(w=>w.base.x):f=jp().x(bf).y1(wf).y0(w=>w.base.y);var p=f.defined(gI).curve(c),g=s?h.filter(gI):h;return p(g)}a==="vertical"&&ke(r)?f=jp().y(wf).x1(bf).x0(r):ke(r)?f=jp().x(bf).y1(wf).y0(r):f=vk().x(bf).y(wf);var x=f.defined(Dg).curve(c);return x(d)},vN=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?qH(t):r;return _.createElement("path",U1({},li(t),wF(t),{className:Dt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},HH=["x","y","top","left","width","height","className"];function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V1.apply(null,arguments)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function GH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){KH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KH(t,e,n){return(e=YH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YH(t){var e=WH(t,"string");return typeof e=="symbol"?e:e+""}function WH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XH(t,e){if(t==null)return{};var n,r,a=QH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function QH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZH=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),JH=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:d}=t,f=XH(t,HH),h=GH({x:e,y:n,top:r,left:a,width:s,height:c},f);return!ke(e)||!ke(n)||!ke(s)||!ke(c)||!ke(r)||!ke(a)?null:_.createElement("path",V1({},ka(h),{className:Dt("recharts-cross",d),d:ZH(e,n,s,c,r,a)}))};function eG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){tG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tG(t,e,n){return(e=nG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nG(t){var e=rG(t,"string");return typeof e=="symbol"?e:e+""}function rG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),K4=(t,e,n)=>t.map(r=>"".concat(aG(r)," ").concat(e,"ms ").concat(n)).join(","),iG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Zf=(t,e)=>Object.keys(e).reduce((n,r)=>xI(xI({},n),{},{[r]:t(r,e[r])}),{});function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){sG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sG(t,e,n){return(e=oG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oG(t){var e=lG(t,"string");return typeof e=="symbol"?e:e+""}function lG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kg=(t,e,n)=>t+(e-t)*n,z1=t=>{var{from:e,to:n}=t;return e!==n},Y4=(t,e,n)=>{var r=Zf((a,s)=>{if(z1(s)){var[c,d]=t(s.from,s.to,s.velocity);return Vn(Vn({},s),{},{from:c,velocity:d})}return s},e);return n<1?Zf((a,s)=>z1(s)?Vn(Vn({},s),{},{velocity:kg(s.velocity,r[a].velocity,n),from:kg(s.from,r[a].from,n)}):s,e):Y4(t,r,n-1)};function cG(t,e,n,r,a,s){var c,d=r.reduce((x,w)=>Vn(Vn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Zf((x,w)=>w.from,d),h=()=>!Object.values(d).filter(z1).length,p=null,g=x=>{c||(c=x);var w=x-c,E=w/n.dt;d=Y4(n,d,E),a(Vn(Vn(Vn({},t),e),f())),c=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function uG(t,e,n,r,a,s,c){var d=null,f=a.reduce((g,x)=>Vn(Vn({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,w=Zf((N,j)=>kg(...j,n(x)),f);if(s(Vn(Vn(Vn({},t),e),w)),x<1)d=c.setTimeout(p);else{var E=Zf((N,j)=>kg(...j,n(1)),f);s(Vn(Vn(Vn({},t),e),E))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const dG=(t,e,n,r,a,s)=>{var c=iG(t,e);return n==null?()=>(a(Vn(Vn({},t),e)),()=>{}):n.isStepper===!0?cG(t,e,n,c,a,s):uG(t,e,n,r,c,a,s)};var Mg=1e-4,W4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],X4=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),wI=(t,e)=>n=>{var r=W4(t,e);return X4(r,n)},fG=(t,e)=>n=>{var r=W4(t,e),a=[...r.map((s,c)=>s*c).slice(1),0];return X4(a,n)},hG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},mG=(t,e,n,r)=>{var a=wI(t,n),s=wI(e,r),c=fG(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var w=a(g)-p,E=c(g);if(Math.abs(w-p)<Mg||E<Mg)return s(g);g=d(g-w/E)}return s(g)};return f.isStepper=!1,f},_I=function(){return mG(...hG(...arguments))},pG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+c;return Math.abs(x-d)<Mg&&Math.abs(g)<Mg?[d,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},gG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(t);case"spring":return pG();default:if(t.split("(")[0]==="cubic-bezier")return _I(t)}return typeof t=="function"?t:null};function yG(t){var e,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class vG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function xG(){return yG(new vG)}var bG=_.createContext(xG);function wG(t,e){var n=_.useContext(bG);return _.useMemo(()=>e??n(t),[t,e,n])}var _G={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},NI={t:0},dw={t:1};function r0(t){var e=Nr(t,_G),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!gc.isSsr:n,g=wG(e.animationId,e.animationManager),[x,w]=_.useState(p?NI:dw),E=_.useRef(null);return _.useEffect(()=>{p||w(dw)},[p]),_.useEffect(()=>{if(!p||!r)return xh;var N=dG(NI,dw,gG(s),a,w,g.getTimeoutController()),j=()=>{E.current=N()};return g.start([f,c,j,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,c,f,d,g]),h(x.t)}function a0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Hf(e)),r=_.useRef(t);return r.current!==t&&(n.current=Hf(e),r.current=t),n.current}var NG=["radius"],jG=["radius"];function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){EG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EG(t,e,n){return(e=SG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SG(t){var e=TG(t,"string");return typeof e=="symbol"?e:e+""}function TG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(null,arguments)}function SI(t,e){if(t==null)return{};var n,r,a=AG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function AG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TI=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+c*p[1])),h+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-c*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);h="M ".concat(t,",").concat(e+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+c*w,`
            L `).concat(t+n,",").concat(e+r-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-c*w," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},AI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q4=t=>{var e=Nr(t,AI),n=_.useRef(null),[r,a]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&a(ie)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:N}=e,j=_.useRef(d),A=_.useRef(f),U=_.useRef(s),T=_.useRef(c),M=_.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),P=a0(M,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var L=Dt("recharts-rectangle",p);if(!N){var k=ka(e),{radius:V}=k,D=SI(k,NG);return _.createElement("path",Lg({},D,{radius:typeof h=="number"?h:void 0,className:L,d:TI(s,c,d,f,h)}))}var I=j.current,R=A.current,F=U.current,B=T.current,pe="0px ".concat(r===-1?1:r,"px"),le="".concat(r,"px 0px"),Y=K4(["strokeDasharray"],x,typeof g=="string"?g:AI.animationEasing);return _.createElement(r0,{animationId:P,key:P,canBegin:r>0,duration:x,easing:g,isActive:N,begin:w},ie=>{var xe=Un(I,d,ie),Z=Un(R,f,ie),X=Un(F,s,ie),q=Un(B,c,ie);n.current&&(j.current=xe,A.current=Z,U.current=X,T.current=q);var K;E?ie>0?K={transition:Y,strokeDasharray:le}:K={strokeDasharray:pe}:K={strokeDasharray:le};var H=ka(e),{radius:Q}=H,ue=SI(H,jG);return _.createElement("path",Lg({},ue,{radius:typeof h=="number"?h:void 0,className:L,d:TI(X,q,xe,Z,h),ref:n,style:EI(EI({},K),e.style)}))})};function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){CG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CG(t,e,n){return(e=IG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IG(t){var e=OG(t,"string");return typeof e=="symbol"?e:e+""}function OG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=Math.PI/180,RG=t=>t*180/Math.PI,Pn=(t,e,n,r)=>({x:t+Math.cos(-Ug*r)*n,y:e+Math.sin(-Ug*r)*n}),Z4=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PG=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},DG=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,c=PG({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:c,angle:RG(f),angleInRadian:f}},kG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},MG=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return t+c*360},LG=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=DG({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:h}=kG(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?II(II({},e),{},{radius:a,angle:MG(p,e)}):null};function J4(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,c=Pn(e,n,r,a),d=Pn(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}var UG=(t,e)=>{var n=tr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Pp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/Ug,g=f?a:a+s*p,x=Pn(e,n,h,g),w=Pn(e,n,r,g),E=f?a-s*p:a,N=Pn(e,n,h*Math.cos(p*Ug),E);return{center:x,circleTangency:w,lineTangency:N,theta:p}},eM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=t,d=UG(s,c),f=s+d,h=Pn(e,n,a,s),p=Pn(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=Pn(e,n,r,s),w=Pn(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},VG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=tr(h-f),{circleTangency:g,lineTangency:x,theta:w}=Pp({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:N,theta:j}=Pp({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),A=d?Math.abs(f-h):Math.abs(f-h)-w-j;if(A<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var U="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:M,theta:P}=Pp({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:L,lineTangency:k,theta:V}=Pp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),D=d?Math.abs(f-h):Math.abs(f-h)-P-V;if(D<0&&s===0)return"".concat(U,"L").concat(e,",").concat(n,"Z");U+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(p>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,"Z")}else U+="L".concat(e,",").concat(n,"Z");return U},zG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tM=t=>{var e=Nr(t,zG),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=Dt("recharts-sector",g),w=s-a,E=wr(c,w,0,!0),N;return E>0&&Math.abs(h-p)<360?N=VG({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):N=eM({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),_.createElement("path",B1({},ka(e),{className:x,d:N}))};function BG(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Pk(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:c,angle:d}=e,f=Pn(r,a,s,d),h=Pn(r,a,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return J4(e)}}var fw={},hw={},mw={},OI;function FG(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qk();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(mw)),mw}var RI;function $G(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FG();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(hw)),hw}var PI;function qG(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hk(),n=$G();function r(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=c;return f}t.range=r})(fw)),fw}var pw,DI;function HG(){return DI||(DI=1,pw=qG().range),pw}var GG=HG();const nM=Qi(GG);function Vo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xN(t){let e,n,r;t.length!==2?(e=Vo,n=(d,f)=>Vo(t(d),f),r=(d,f)=>t(d)-f):(e=t===Vo||t===KG?t:YG,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:c,right:s}}function YG(){return 0}function rM(t){return t===null?NaN:+t}function*WG(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const XG=xN(Vo),Eh=XG.right;xN(rM).center;class kI extends Map{constructor(e,n=JG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(MI(this,e))}has(e){return super.has(MI(this,e))}set(e,n){return super.set(QG(this,e),n)}delete(e){return super.delete(ZG(this,e))}}function MI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function QG({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ZG({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function JG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function eK(t=Vo){if(t===Vo)return aM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function aM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const tK=Math.sqrt(50),nK=Math.sqrt(10),rK=Math.sqrt(2);function Vg(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=tK?10:s>=nK?5:s>=rK?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?Vg(t,e,n*2):[d,f,h]}function F1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,c]=r?Vg(e,t,n):Vg(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(a+h)/-c;else for(let h=0;h<d;++h)f[h]=(a+h)*c;return f}function $1(t,e,n){return e=+e,t=+t,n=+n,Vg(t,e,n)[2]}function q1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?$1(e,t,n):$1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function LI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function iM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?aM:eK(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));iM(t,e,w,E,a)}const s=t[e];let c=n,d=r;for(_f(t,n,e),a(t[r],s)>0&&_f(t,n,r);c<d;){for(_f(t,c,d),++c,--d;a(t[c],s)<0;)++c;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?_f(t,n,d):(++d,_f(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function _f(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function aK(t,e,n){if(t=Float64Array.from(WG(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return UI(t);if(e>=1)return LI(t);var r,a=(r-1)*e,s=Math.floor(a),c=LI(iM(t,s).subarray(0,s+1)),d=UI(t.subarray(s+1));return c+(d-c)*(a-s)}}function iK(t,e,n=rM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(a-s)}}function sK(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const H1=Symbol("implicit");function bN(){var t=new kI,e=[],n=[],r=H1;function a(s){let c=t.get(s);if(c===void 0){if(r!==H1)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new kI;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return bN(e,n).unknown(r)},Va.apply(a,arguments),a}function wN(){var t=bN().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,w=a<r,E=w?a:r,N=w?r:a;s=(N-E)/Math.max(1,x-f+h*2),d&&(s=Math.floor(s)),E+=(N-E-s*(x-f))*p,c=s*(1-f),d&&(E=Math.round(E),c=Math.round(c));var j=sK(x).map(function(A){return E+s*A});return n(w?j.reverse():j)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return wN(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Va.apply(g(),arguments)}function sM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sM(e())},t}function oK(){return sM(wN.apply(null,arguments).paddingInner(1))}function _N(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function oM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sh(){}var Jf=.7,zg=1/Jf,Su="\\s*([+-]?\\d+)\\s*",eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lK=/^#([0-9a-f]{3,8})$/,cK=new RegExp(`^rgb\\(${Su},${Su},${Su}\\)$`),uK=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),dK=new RegExp(`^rgba\\(${Su},${Su},${Su},${eh}\\)$`),fK=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${eh}\\)$`),hK=new RegExp(`^hsl\\(${eh},${Ui},${Ui}\\)$`),mK=new RegExp(`^hsla\\(${eh},${Ui},${Ui},${eh}\\)$`),VI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_N(Sh,th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zI,formatHex:zI,formatHex8:pK,formatHsl:gK,formatRgb:BI,toString:BI});function zI(){return this.rgb().formatHex()}function pK(){return this.rgb().formatHex8()}function gK(){return lM(this).formatHsl()}function BI(){return this.rgb().formatRgb()}function th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?FI(e):n===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cK.exec(t))?new Gr(e[1],e[2],e[3],1):(e=uK.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dK.exec(t))?Dp(e[1],e[2],e[3],e[4]):(e=fK.exec(t))?Dp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hK.exec(t))?HI(e[1],e[2]/100,e[3]/100,1):(e=mK.exec(t))?HI(e[1],e[2]/100,e[3]/100,e[4]):VI.hasOwnProperty(t)?FI(VI[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function FI(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function Dp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gr(t,e,n,r)}function yK(t){return t instanceof Sh||(t=th(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function G1(t,e,n,r){return arguments.length===1?yK(t):new Gr(t,e,n,r??1)}function Gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}_N(Gr,G1,oM(Sh,{brighter(t){return t=t==null?zg:Math.pow(zg,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jf:Math.pow(Jf,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(Zl(this.r),Zl(this.g),Zl(this.b),Bg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$I,formatHex:$I,formatHex8:vK,formatRgb:qI,toString:qI}));function $I(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}`}function vK(){return`#${ql(this.r)}${ql(this.g)}${ql(this.b)}${ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function qI(){const t=Bg(this.opacity);return`${t===1?"rgb(":"rgba("}${Zl(this.r)}, ${Zl(this.g)}, ${Zl(this.b)}${t===1?")":`, ${t})`}`}function Bg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ql(t){return t=Zl(t),(t<16?"0":"")+t.toString(16)}function HI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ni(t,e,n,r)}function lM(t){if(t instanceof ni)return new ni(t.h,t.s,t.l,t.opacity);if(t instanceof Sh||(t=th(t)),!t)return new ni;if(t instanceof ni)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-a,f=(s+a)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new ni(c,d,f,t.opacity)}function xK(t,e,n,r){return arguments.length===1?lM(t):new ni(t,e,n,r??1)}function ni(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}_N(ni,xK,oM(Sh,{brighter(t){return t=t==null?zg:Math.pow(zg,t),new ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jf:Math.pow(Jf,t),new ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Gr(gw(t>=240?t-240:t+120,a,r),gw(t,a,r),gw(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ni(GI(this.h),kp(this.s),kp(this.l),Bg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bg(this.opacity);return`${t===1?"hsl(":"hsla("}${GI(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GI(t){return t=(t||0)%360,t<0?t+360:t}function kp(t){return Math.max(0,Math.min(1,t||0))}function gw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const NN=t=>()=>t;function bK(t,e){return function(n){return t+n*e}}function wK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _K(t){return(t=+t)==1?cM:function(e,n){return n-e?wK(e,n,t):NN(isNaN(e)?n:e)}}function cM(t,e){var n=e-t;return n?bK(t,n):NN(isNaN(t)?e:t)}const KI=(function t(e){var n=_K(e);function r(a,s){var c=n((a=G1(a)).r,(s=G1(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=cM(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function NK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function jK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function EK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=Ju(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=a[c](d);return s}}function SK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function TK(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Ju(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var K1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yw=new RegExp(K1.source,"g");function AK(t){return function(){return t}}function CK(t){return function(e){return t(e)+""}}function IK(t,e){var n=K1.lastIndex=yw.lastIndex=0,r,a,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=K1.exec(t))&&(a=yw.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:Fg(r,a)})),n=yw.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?CK(f[0].x):AK(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Ju(t,e){var n=typeof e,r;return e==null||n==="boolean"?NN(e):(n==="number"?Fg:n==="string"?(r=th(e))?(e=r,KI):IK:e instanceof th?KI:e instanceof Date?SK:jK(e)?NK:Array.isArray(e)?EK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?TK:Fg)(t,e)}function jN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function OK(t,e){e===void 0&&(e=t,t=Ju);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function RK(t){return function(){return t}}function $g(t){return+t}var YI=[0,1];function Ar(t){return t}function Y1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:RK(isNaN(e)?NaN:.5)}function PK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function DK(t,e,n){var r=t[0],a=t[1],s=e[0],c=e[1];return a<r?(r=Y1(a,r),s=n(c,s)):(r=Y1(r,a),s=n(s,c)),function(d){return s(r(d))}}function kK(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=Y1(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var f=Eh(t,d,1,r)-1;return s[f](a[f](d))}}function Th(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function i0(){var t=YI,e=YI,n=Ju,r,a,s,c=Ar,d,f,h;function p(){var x=Math.min(t.length,e.length);return c!==Ar&&(c=PK(t[0],t[x-1])),d=x>2?kK:DK,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=d(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(a((h||(h=d(e,t.map(r),Fg)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,$g),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=jN,p()},g.clamp=function(x){return arguments.length?(c=x?!0:Ar,p()):c!==Ar},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,w){return r=x,a=w,p()}}function EN(){return i0()(Ar,Ar)}function MK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Uu(t){return t=qg(Math.abs(t)),t?t[1]:NaN}function LK(t,e){return function(n,r){for(var a=n.length,s=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function UK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var VK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nh(t){if(!(e=VK.exec(t)))throw new Error("invalid format: "+t);var e;return new SN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nh.prototype=SN.prototype;function SN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zK(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var uM;function BK(t,e){var n=qg(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(uM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+qg(t,Math.max(0,e+s-1))[0]}function WI(t,e){var n=qg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const XI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:MK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>WI(t*100,e),r:WI,s:BK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QI(t){return t}var ZI=Array.prototype.map,JI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FK(t){var e=t.grouping===void 0||t.thousands===void 0?QI:LK(ZI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?QI:UK(ZI.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=nh(g);var x=g.fill,w=g.align,E=g.sign,N=g.symbol,j=g.zero,A=g.width,U=g.comma,T=g.precision,M=g.trim,P=g.type;P==="n"?(U=!0,P="g"):XI[P]||(T===void 0&&(T=12),M=!0,P="g"),(j||x==="0"&&w==="=")&&(j=!0,x="0",w="=");var L=N==="$"?n:N==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=N==="$"?r:/[%p]/.test(P)?c:"",V=XI[P],D=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function I(R){var F=L,B=k,pe,le,Y;if(P==="c")B=V(R)+B,R="";else{R=+R;var ie=R<0||1/R<0;if(R=isNaN(R)?f:V(Math.abs(R),T),M&&(R=zK(R)),ie&&+R==0&&E!=="+"&&(ie=!1),F=(ie?E==="("?E:d:E==="-"||E==="("?"":E)+F,B=(P==="s"?JI[8+uM/3]:"")+B+(ie&&E==="("?")":""),D){for(pe=-1,le=R.length;++pe<le;)if(Y=R.charCodeAt(pe),48>Y||Y>57){B=(Y===46?a+R.slice(pe+1):R.slice(pe))+B,R=R.slice(0,pe);break}}}U&&!j&&(R=e(R,1/0));var xe=F.length+R.length+B.length,Z=xe<A?new Array(A-xe+1).join(x):"";switch(U&&j&&(R=e(Z+R,Z.length?A-B.length:1/0),Z=""),w){case"<":R=F+R+B+Z;break;case"=":R=F+Z+R+B;break;case"^":R=Z.slice(0,xe=Z.length>>1)+F+R+B+Z.slice(xe);break;default:R=Z+F+R+B;break}return s(R)}return I.toString=function(){return g+""},I}function p(g,x){var w=h((g=nh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Uu(x)/3)))*3,N=Math.pow(10,-E),j=JI[8+E/3];return function(A){return w(N*A)+j}}return{format:h,formatPrefix:p}}var Mp,TN,dM;$K({thousands:",",grouping:[3],currency:["$",""]});function $K(t){return Mp=FK(t),TN=Mp.format,dM=Mp.formatPrefix,Mp}function qK(t){return Math.max(0,-Uu(Math.abs(t)))}function HK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uu(e)/3)))*3-Uu(Math.abs(t)))}function GK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Uu(e)-Uu(t))+1}function fM(t,e,n,r){var a=q1(t,e,n),s;switch(r=nh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=HK(a,c))&&(r.precision=s),dM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=GK(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=qK(a))&&(r.precision=s-(r.type==="%")*2);break}}return TN(r)}function tl(t){var e=t.domain;return t.ticks=function(n){var r=e();return F1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return fM(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,c=r[a],d=r[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=$1(c,d,n),h===f)return r[a]=c,r[s]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function hM(){var t=EN();return t.copy=function(){return Th(t,hM())},Va.apply(t,arguments),tl(t)}function mM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,$g),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return mM(t).unknown(e)},t=arguments.length?Array.from(t,$g):[0,1],tl(n)}function pM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),t[n]=e.floor(a),t[r]=e.ceil(s),t}function eO(t){return Math.log(t)}function tO(t){return Math.exp(t)}function KK(t){return-Math.log(-t)}function YK(t){return-Math.exp(-t)}function WK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function XK(t){return t===10?WK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function QK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nO(t){return(e,n)=>-t(-e,n)}function AN(t){const e=t(eO,tO),n=e.domain;let r=10,a,s;function c(){return a=QK(r),s=XK(r),n()[0]<0?(a=nO(a),s=nO(s),t(KK,YK)):t(eO,tO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),w=a(p),E,N;const j=d==null?10:+d;let A=[];if(!(r%1)&&w-x<j){if(x=Math.floor(x),w=Math.ceil(w),h>0){for(;x<=w;++x)for(E=1;E<r;++E)if(N=x<0?E/s(-x):E*s(x),!(N<h)){if(N>p)break;A.push(N)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(N=x>0?E/s(-x):E*s(x),!(N<h)){if(N>p)break;A.push(N)}A.length*2<j&&(A=F1(h,p,j))}else A=F1(x,w,Math.min(w-x,j)).map(s);return g?A.reverse():A},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=nh(f)).precision==null&&(f.trim=!0),f=TN(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(pM(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function gM(){const t=AN(i0()).domain([1,10]);return t.copy=()=>Th(t,gM()).base(t.base()),Va.apply(t,arguments),t}function rO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function aO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CN(t){var e=1,n=t(rO(e),aO(e));return n.constant=function(r){return arguments.length?t(rO(e=+r),aO(e)):e},tl(n)}function yM(){var t=CN(i0());return t.copy=function(){return Th(t,yM()).constant(t.constant())},Va.apply(t,arguments)}function iO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ZK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function JK(t){return t<0?-t*t:t*t}function IN(t){var e=t(Ar,Ar),n=1;function r(){return n===1?t(Ar,Ar):n===.5?t(ZK,JK):t(iO(n),iO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},tl(e)}function ON(){var t=IN(i0());return t.copy=function(){return Th(t,ON()).exponent(t.exponent())},Va.apply(t,arguments),t}function eY(){return ON.apply(null,arguments).exponent(.5)}function sO(t){return Math.sign(t)*t*t}function tY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vM(){var t=EN(),e=[0,1],n=!1,r;function a(s){var c=tY(t(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return t.invert(sO(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,$g)).map(sO)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return vM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Va.apply(a,arguments),tl(a)}function xM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=iK(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[Eh(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Vo),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return xM().domain(t).range(e).unknown(r)},Va.apply(s,arguments)}function bM(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Eh(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return bM().domain([t,e]).range(a).unknown(s)},Va.apply(tl(c),arguments)}function wM(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Eh(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return wM().domain(t).range(e).unknown(n)},Va.apply(a,arguments)}const vw=new Date,xw=new Date;function $n(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<c);return f},a.filter=s=>$n(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(a.count=(s,c)=>(vw.setTime(+s),xw.setTime(+c),t(vw),t(xw),Math.floor(n(vw,xw))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Hg=$n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Hg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Hg);Hg.range;const js=1e3,Da=js*60,Es=Da*60,Ms=Es*24,RN=Ms*7,oO=Ms*30,bw=Ms*365,Hl=$n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCSeconds());Hl.range;const PN=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getMinutes());PN.range;const DN=$n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCMinutes());DN.range;const kN=$n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js-t.getMinutes()*Da)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getHours());kN.range;const MN=$n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCHours());MN.range;const Ah=$n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Da)/Ms,t=>t.getDate()-1);Ah.range;const s0=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>t.getUTCDate()-1);s0.range;const _M=$n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>Math.floor(t/Ms));_M.range;function yc(t){return $n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Da)/RN)}const o0=yc(0),Gg=yc(1),nY=yc(2),rY=yc(3),Vu=yc(4),aY=yc(5),iY=yc(6);o0.range;Gg.range;nY.range;rY.range;Vu.range;aY.range;iY.range;function vc(t){return $n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/RN)}const l0=vc(0),Kg=vc(1),sY=vc(2),oY=vc(3),zu=vc(4),lY=vc(5),cY=vc(6);l0.range;Kg.range;sY.range;oY.range;zu.range;lY.range;cY.range;const LN=$n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LN.range;const UN=$n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());UN.range;const Ls=$n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ls.range;const Us=$n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Us.range;function NM(t,e,n,r,a,s){const c=[[Hl,1,js],[Hl,5,5*js],[Hl,15,15*js],[Hl,30,30*js],[s,1,Da],[s,5,5*Da],[s,15,15*Da],[s,30,30*Da],[a,1,Es],[a,3,3*Es],[a,6,6*Es],[a,12,12*Es],[r,1,Ms],[r,2,2*Ms],[n,1,RN],[e,1,oO],[e,3,3*oO],[t,1,bw]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),E=w?w.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,w=xN(([,,j])=>j).right(c,x);if(w===c.length)return t.every(q1(h/bw,p/bw,g));if(w===0)return Hg.every(Math.max(q1(h,p,g),1));const[E,N]=c[x/c[w-1][2]<c[w][2]/x?w-1:w];return E.every(N)}return[d,f]}const[uY,dY]=NM(Us,UN,l0,_M,MN,DN),[fY,hY]=NM(Ls,LN,o0,Ah,kN,PN);function ww(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _w(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function mY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=jf(a),p=Ef(a),g=jf(s),x=Ef(s),w=jf(c),E=Ef(c),N=jf(d),j=Ef(d),A=jf(f),U=Ef(f),T={a:ie,A:xe,b:Z,B:X,c:null,d:hO,e:hO,f:LY,g:KY,G:WY,H:DY,I:kY,j:MY,L:jM,m:UY,M:VY,p:q,q:K,Q:gO,s:yO,S:zY,u:BY,U:FY,V:$Y,w:qY,W:HY,x:null,X:null,y:GY,Y:YY,Z:XY,"%":pO},M={a:H,A:Q,b:ue,B:_e,c:null,d:mO,e:mO,f:eW,g:uW,G:fW,H:QY,I:ZY,j:JY,L:SM,m:tW,M:nW,p:Ae,q:He,Q:gO,s:yO,S:rW,u:aW,U:iW,V:sW,w:oW,W:lW,x:null,X:null,y:cW,Y:dW,Z:hW,"%":pO},P={a:I,A:R,b:F,B,c:pe,d:dO,e:dO,f:IY,g:uO,G:cO,H:fO,I:fO,j:SY,L:CY,m:EY,M:TY,p:D,q:jY,Q:RY,s:PY,S:AY,u:xY,U:bY,V:wY,w:vY,W:_Y,x:le,X:Y,y:uO,Y:cO,Z:NY,"%":OY};T.x=L(n,T),T.X=L(r,T),T.c=L(e,T),M.x=L(n,M),M.X=L(r,M),M.c=L(e,M);function L(ce,Ve){return function(Ge){var be=[],At=-1,We=0,kt=ce.length,we,dt,de;for(Ge instanceof Date||(Ge=new Date(+Ge));++At<kt;)ce.charCodeAt(At)===37&&(be.push(ce.slice(We,At)),(dt=lO[we=ce.charAt(++At)])!=null?we=ce.charAt(++At):dt=we==="e"?" ":"0",(de=Ve[we])&&(we=de(Ge,dt)),be.push(we),We=At+1);return be.push(ce.slice(We,At)),be.join("")}}function k(ce,Ve){return function(Ge){var be=Nf(1900,void 0,1),At=V(be,ce,Ge+="",0),We,kt;if(At!=Ge.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ve&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(We=_w(Nf(be.y,0,1)),kt=We.getUTCDay(),We=kt>4||kt===0?Kg.ceil(We):Kg(We),We=s0.offset(We,(be.V-1)*7),be.y=We.getUTCFullYear(),be.m=We.getUTCMonth(),be.d=We.getUTCDate()+(be.w+6)%7):(We=ww(Nf(be.y,0,1)),kt=We.getDay(),We=kt>4||kt===0?Gg.ceil(We):Gg(We),We=Ah.offset(We,(be.V-1)*7),be.y=We.getFullYear(),be.m=We.getMonth(),be.d=We.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),kt="Z"in be?_w(Nf(be.y,0,1)).getUTCDay():ww(Nf(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(kt+5)%7:be.w+be.U*7-(kt+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,_w(be)):ww(be)}}function V(ce,Ve,Ge,be){for(var At=0,We=Ve.length,kt=Ge.length,we,dt;At<We;){if(be>=kt)return-1;if(we=Ve.charCodeAt(At++),we===37){if(we=Ve.charAt(At++),dt=P[we in lO?Ve.charAt(At++):we],!dt||(be=dt(ce,Ge,be))<0)return-1}else if(we!=Ge.charCodeAt(be++))return-1}return be}function D(ce,Ve,Ge){var be=h.exec(Ve.slice(Ge));return be?(ce.p=p.get(be[0].toLowerCase()),Ge+be[0].length):-1}function I(ce,Ve,Ge){var be=w.exec(Ve.slice(Ge));return be?(ce.w=E.get(be[0].toLowerCase()),Ge+be[0].length):-1}function R(ce,Ve,Ge){var be=g.exec(Ve.slice(Ge));return be?(ce.w=x.get(be[0].toLowerCase()),Ge+be[0].length):-1}function F(ce,Ve,Ge){var be=A.exec(Ve.slice(Ge));return be?(ce.m=U.get(be[0].toLowerCase()),Ge+be[0].length):-1}function B(ce,Ve,Ge){var be=N.exec(Ve.slice(Ge));return be?(ce.m=j.get(be[0].toLowerCase()),Ge+be[0].length):-1}function pe(ce,Ve,Ge){return V(ce,e,Ve,Ge)}function le(ce,Ve,Ge){return V(ce,n,Ve,Ge)}function Y(ce,Ve,Ge){return V(ce,r,Ve,Ge)}function ie(ce){return c[ce.getDay()]}function xe(ce){return s[ce.getDay()]}function Z(ce){return f[ce.getMonth()]}function X(ce){return d[ce.getMonth()]}function q(ce){return a[+(ce.getHours()>=12)]}function K(ce){return 1+~~(ce.getMonth()/3)}function H(ce){return c[ce.getUTCDay()]}function Q(ce){return s[ce.getUTCDay()]}function ue(ce){return f[ce.getUTCMonth()]}function _e(ce){return d[ce.getUTCMonth()]}function Ae(ce){return a[+(ce.getUTCHours()>=12)]}function He(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ve=L(ce+="",T);return Ve.toString=function(){return ce},Ve},parse:function(ce){var Ve=k(ce+="",!1);return Ve.toString=function(){return ce},Ve},utcFormat:function(ce){var Ve=L(ce+="",M);return Ve.toString=function(){return ce},Ve},utcParse:function(ce){var Ve=k(ce+="",!0);return Ve.toString=function(){return ce},Ve}}}var lO={"-":"",_:" ",0:"0"},rr=/^\s*\d+/,pY=/^%/,gY=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function yY(t){return t.replace(gY,"\\$&")}function jf(t){return new RegExp("^(?:"+t.map(yY).join("|")+")","i")}function Ef(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function vY(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xY(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function bY(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wY(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _Y(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cO(t,e,n){var r=rr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function uO(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function NY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jY(t,e,n){var r=rr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function EY(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dO(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function SY(t,e,n){var r=rr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fO(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function TY(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function AY(t,e,n){var r=rr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function CY(t,e,n){var r=rr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function IY(t,e,n){var r=rr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function OY(t,e,n){var r=pY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function RY(t,e,n){var r=rr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PY(t,e,n){var r=rr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hO(t,e){return yt(t.getDate(),e,2)}function DY(t,e){return yt(t.getHours(),e,2)}function kY(t,e){return yt(t.getHours()%12||12,e,2)}function MY(t,e){return yt(1+Ah.count(Ls(t),t),e,3)}function jM(t,e){return yt(t.getMilliseconds(),e,3)}function LY(t,e){return jM(t,e)+"000"}function UY(t,e){return yt(t.getMonth()+1,e,2)}function VY(t,e){return yt(t.getMinutes(),e,2)}function zY(t,e){return yt(t.getSeconds(),e,2)}function BY(t){var e=t.getDay();return e===0?7:e}function FY(t,e){return yt(o0.count(Ls(t)-1,t),e,2)}function EM(t){var e=t.getDay();return e>=4||e===0?Vu(t):Vu.ceil(t)}function $Y(t,e){return t=EM(t),yt(Vu.count(Ls(t),t)+(Ls(t).getDay()===4),e,2)}function qY(t){return t.getDay()}function HY(t,e){return yt(Gg.count(Ls(t)-1,t),e,2)}function GY(t,e){return yt(t.getFullYear()%100,e,2)}function KY(t,e){return t=EM(t),yt(t.getFullYear()%100,e,2)}function YY(t,e){return yt(t.getFullYear()%1e4,e,4)}function WY(t,e){var n=t.getDay();return t=n>=4||n===0?Vu(t):Vu.ceil(t),yt(t.getFullYear()%1e4,e,4)}function XY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function mO(t,e){return yt(t.getUTCDate(),e,2)}function QY(t,e){return yt(t.getUTCHours(),e,2)}function ZY(t,e){return yt(t.getUTCHours()%12||12,e,2)}function JY(t,e){return yt(1+s0.count(Us(t),t),e,3)}function SM(t,e){return yt(t.getUTCMilliseconds(),e,3)}function eW(t,e){return SM(t,e)+"000"}function tW(t,e){return yt(t.getUTCMonth()+1,e,2)}function nW(t,e){return yt(t.getUTCMinutes(),e,2)}function rW(t,e){return yt(t.getUTCSeconds(),e,2)}function aW(t){var e=t.getUTCDay();return e===0?7:e}function iW(t,e){return yt(l0.count(Us(t)-1,t),e,2)}function TM(t){var e=t.getUTCDay();return e>=4||e===0?zu(t):zu.ceil(t)}function sW(t,e){return t=TM(t),yt(zu.count(Us(t),t)+(Us(t).getUTCDay()===4),e,2)}function oW(t){return t.getUTCDay()}function lW(t,e){return yt(Kg.count(Us(t)-1,t),e,2)}function cW(t,e){return yt(t.getUTCFullYear()%100,e,2)}function uW(t,e){return t=TM(t),yt(t.getUTCFullYear()%100,e,2)}function dW(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function fW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zu(t):zu.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function hW(){return"+0000"}function pO(){return"%"}function gO(t){return+t}function yO(t){return Math.floor(+t/1e3)}var du,AM,CM;mW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mW(t){return du=mY(t),AM=du.format,du.parse,CM=du.utcFormat,du.utcParse,du}function pW(t){return new Date(t)}function gW(t){return t instanceof Date?+t:+new Date(+t)}function VN(t,e,n,r,a,s,c,d,f,h){var p=EN(),g=p.invert,x=p.domain,w=h(".%L"),E=h(":%S"),N=h("%I:%M"),j=h("%I %p"),A=h("%a %d"),U=h("%b %d"),T=h("%B"),M=h("%Y");function P(L){return(f(L)<L?w:d(L)<L?E:c(L)<L?N:s(L)<L?j:r(L)<L?a(L)<L?A:U:n(L)<L?T:M)(L)}return p.invert=function(L){return new Date(g(L))},p.domain=function(L){return arguments.length?x(Array.from(L,gW)):x().map(pW)},p.ticks=function(L){var k=x();return t(k[0],k[k.length-1],L??10)},p.tickFormat=function(L,k){return k==null?P:h(k)},p.nice=function(L){var k=x();return(!L||typeof L.range!="function")&&(L=e(k[0],k[k.length-1],L??10)),L?x(pM(k,L)):p},p.copy=function(){return Th(p,VN(t,e,n,r,a,s,c,d,f,h))},p}function yW(){return Va.apply(VN(fY,hY,Ls,LN,o0,Ah,kN,PN,Hl,AM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vW(){return Va.apply(VN(uY,dY,Us,UN,l0,s0,MN,DN,Hl,CM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c0(){var t=0,e=1,n,r,a,s,c=Ar,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(x){var w,E;return arguments.length?([w,E]=x,c=g(w,E),h):[c(0),c(1)]}}return h.range=p(Ju),h.rangeRound=p(jN),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function nl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IM(){var t=tl(c0()(Ar));return t.copy=function(){return nl(t,IM())},Ys.apply(t,arguments)}function OM(){var t=AN(c0()).domain([1,10]);return t.copy=function(){return nl(t,OM()).base(t.base())},Ys.apply(t,arguments)}function RM(){var t=CN(c0());return t.copy=function(){return nl(t,RM()).constant(t.constant())},Ys.apply(t,arguments)}function zN(){var t=IN(c0());return t.copy=function(){return nl(t,zN()).exponent(t.exponent())},Ys.apply(t,arguments)}function xW(){return zN.apply(null,arguments).exponent(.5)}function PM(){var t=[],e=Ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((Eh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Vo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>aK(t,s/r))},n.copy=function(){return PM(e).domain(t)},Ys.apply(n,arguments)}function u0(){var t=0,e=.5,n=1,r=1,a,s,c,d,f,h=Ar,p,g=!1,x;function w(N){return isNaN(N=+N)?x:(N=.5+((N=+p(N))-s)*(r*N<r*s?d:f),h(g?Math.max(0,Math.min(1,N)):N))}w.domain=function(N){return arguments.length?([t,e,n]=N,a=p(t=+t),s=p(e=+e),c=p(n=+n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(N){return arguments.length?(g=!!N,w):g},w.interpolator=function(N){return arguments.length?(h=N,w):h};function E(N){return function(j){var A,U,T;return arguments.length?([A,U,T]=j,h=OK(N,[A,U,T]),w):[h(0),h(.5),h(1)]}}return w.range=E(Ju),w.rangeRound=E(jN),w.unknown=function(N){return arguments.length?(x=N,w):x},function(N){return p=N,a=N(t),s=N(e),c=N(n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w}}function DM(){var t=tl(u0()(Ar));return t.copy=function(){return nl(t,DM())},Ys.apply(t,arguments)}function kM(){var t=AN(u0()).domain([.1,1,10]);return t.copy=function(){return nl(t,kM()).base(t.base())},Ys.apply(t,arguments)}function MM(){var t=CN(u0());return t.copy=function(){return nl(t,MM()).constant(t.constant())},Ys.apply(t,arguments)}function BN(){var t=IN(u0());return t.copy=function(){return nl(t,BN()).exponent(t.exponent())},Ys.apply(t,arguments)}function bW(){return BN.apply(null,arguments).exponent(.5)}const If=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wN,scaleDiverging:DM,scaleDivergingLog:kM,scaleDivergingPow:BN,scaleDivergingSqrt:bW,scaleDivergingSymlog:MM,scaleIdentity:mM,scaleImplicit:H1,scaleLinear:hM,scaleLog:gM,scaleOrdinal:bN,scalePoint:oK,scalePow:ON,scaleQuantile:xM,scaleQuantize:bM,scaleRadial:vM,scaleSequential:IM,scaleSequentialLog:OM,scaleSequentialPow:zN,scaleSequentialQuantile:PM,scaleSequentialSqrt:xW,scaleSequentialSymlog:RM,scaleSqrt:eY,scaleSymlog:yM,scaleThreshold:wM,scaleTime:yW,scaleUtc:vW,tickFormat:fM},Symbol.toStringTag,{value:"Module"}));var rl=t=>t.chartData,FN=re([rl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),$N=(t,e,n,r)=>r?FN(t):rl(t);function Ho(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(vn(e)&&vn(n))return!0}return!1}function vO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function LM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(vn(n))a=n;else if(typeof n=="function")return;if(vn(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(Ho(c))return c}}function wW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ho(r))return vO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(ke(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&YC.test(a)){var f=YC.exec(a);if(f==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(ke(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&WC.test(s)){var p=WC.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[c,d];if(Ho(x))return e==null?x:vO(x,e,n)}}}var ed=1e9,_W={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HN,Xt=!0,La="[DecimalError] ",Jl=La+"Invalid argument: ",qN=La+"Exponent out of range: ",td=Math.floor,Fl=Math.pow,NW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ca,Jn=1e7,Ft=7,UM=9007199254740991,Yg=td(UM/Ft),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Is(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return Lt(Is(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return Mn(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ca))throw Error(La+"NaN");if(n.s<1)throw Error(La+(n.s?"NaN":"-Infinity"));return n.eq(ca)?new r(0):(Xt=!1,e=Is(rh(n,s),rh(t,s),s),Xt=!0,Lt(e,a))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BM(e,t):VM(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(La+"NaN");return n.s?(Xt=!1,e=Is(n,t,0,1).times(t),Xt=!0,n.minus(e)):Lt(new r(n),a)};Oe.naturalExponential=Oe.exp=function(){return zM(this)};Oe.naturalLogarithm=Oe.ln=function(){return rh(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VM(e,t):BM(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Jl+t);if(e=Mn(a)+1,r=a.d.length-1,n=r*Ft+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(La+"NaN")}for(t=Mn(d),Xt=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Li(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=td((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(s=r,r=s.plus(Is(d,s,c+2)).times(.5),Li(s.d).slice(0,c)===(e=Li(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Lt(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return Xt=!0,Lt(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,a,s,c,d,f,h,p=this,g=p.constructor,x=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=w.length,f<h&&(s=x,x=w,w=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+w[r]*x[a-r-1]+e,s[a--]=d%Jn|0,e=d/Jn|0;s[a]=(s[a]+e)%Jn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Xt?Lt(t,g.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Yi(t,0,ed),e===void 0?e=r.rounding:Yi(e,0,8),Lt(n,t+Mn(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=ic(r,!0):(Yi(t,0,ed),e===void 0?e=a.rounding:Yi(e,0,8),r=Lt(new a(r),t+1,e),n=ic(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?ic(a):(Yi(t,0,ed),e===void 0?e=s.rounding:Yi(e,0,8),r=Lt(new s(a),t+Mn(a)+1,e),n=ic(r.abs(),!1,t+Mn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return Lt(new e(t),Mn(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,a,s,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ca);if(d=new f(d),!d.s){if(t.s<1)throw Error(La+"Infinity");return d}if(d.eq(ca))return d;if(r=f.precision,t.eq(ca))return Lt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=UM){for(a=new f(ca),e=Math.ceil(r/Ft+4),Xt=!1;n%2&&(a=a.times(d),bO(a.d,e)),n=td(n/2),n!==0;)d=d.times(d),bO(d.d,e);return Xt=!0,t.s<0?new f(ca).div(a):Lt(a,r)}}else if(s<0)throw Error(La+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,Xt=!1,a=t.times(rh(d,r+h)),Xt=!0,a=zM(a),a.s=s,a};Oe.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=Mn(a),r=ic(a,n<=s.toExpNeg||n>=s.toExpPos)):(Yi(t,1,ed),e===void 0?e=s.rounding:Yi(e,0,8),a=Lt(new s(a),t,e),n=Mn(a),r=ic(a,t<=n||n<=s.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Yi(t,1,ed),e===void 0?e=r.rounding:Yi(e,0,8)),Lt(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mn(t),n=t.constructor;return ic(t,e<=n.toExpNeg||e>=n.toExpPos)};function VM(t,e){var n,r,a,s,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Xt?Lt(e,g):e;if(f=t.d,h=e.d,c=t.e,a=e.e,f=f.slice(),s=c-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=c,d=f.length),c=Math.ceil(g/Ft),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/Jn|0,f[s]%=Jn;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,Xt?Lt(e,g):e}function Yi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Jl+t)}function Li(t){var e,n,r,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)r=t[e]+"",n=Ft-r.length,n&&(s+=Oo(n)),s+=r;c=t[e],r=c+"",n=Ft-r.length,n&&(s+=Oo(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Is=(function(){function t(r,a){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+c,r[d]=s%Jn|0,c=s/Jn|0;return c&&r.unshift(c),r}function e(r,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*Jn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var d,f,h,p,g,x,w,E,N,j,A,U,T,M,P,L,k,V,D=r.constructor,I=r.s==a.s?1:-1,R=r.d,F=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(La+"Division by zero");for(f=r.e-a.e,k=F.length,P=R.length,w=new D(I),E=w.d=[],h=0;F[h]==(R[h]||0);)++h;if(F[h]>(R[h]||0)&&--f,s==null?U=s=D.precision:c?U=s+(Mn(r)-Mn(a))+1:U=s,U<0)return new D(0);if(U=U/Ft+2|0,h=0,k==1)for(p=0,F=F[0],U++;(h<P||p)&&U--;h++)T=p*Jn+(R[h]||0),E[h]=T/F|0,p=T%F|0;else{for(p=Jn/(F[0]+1)|0,p>1&&(F=t(F,p),R=t(R,p),k=F.length,P=R.length),M=k,N=R.slice(0,k),j=N.length;j<k;)N[j++]=0;V=F.slice(),V.unshift(0),L=F[0],F[1]>=Jn/2&&++L;do p=0,d=e(F,N,k,j),d<0?(A=N[0],k!=j&&(A=A*Jn+(N[1]||0)),p=A/L|0,p>1?(p>=Jn&&(p=Jn-1),g=t(F,p),x=g.length,j=N.length,d=e(g,N,x,j),d==1&&(p--,n(g,k<x?V:F,x))):(p==0&&(d=p=1),g=F.slice()),x=g.length,x<j&&g.unshift(0),n(N,g,j),d==-1&&(j=N.length,d=e(F,N,k,j),d<1&&(p++,n(N,k<j?V:F,j))),j=N.length):d===0&&(p++,N=[0]),E[h++]=p,d&&N[0]?N[j++]=R[M]||0:(N=[R[M]],j=1);while((M++<P||N[0]!==void 0)&&U--)}return E[0]||E.shift(),w.e=f,Lt(w,c?s+Mn(w)+1:s)}})();function zM(t,e){var n,r,a,s,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(Mn(t)>16)throw Error(qN+Mn(t));if(!t.s)return new p(ca);for(Xt=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(Fl(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(ca),p.precision=d;;){if(a=Lt(a.times(t),d),n=n.times(++f),c=s.plus(Is(a,n,d)),Li(c.d).slice(0,d)===Li(s.d).slice(0,d)){for(;h--;)s=Lt(s.times(s),d);return p.precision=g,e==null?(Xt=!0,Lt(s,g)):s}s=c}}function Mn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function Nw(t,e,n){if(e>t.LN10.sd())throw Xt=!0,n&&(t.precision=n),Error(La+"LN10 precision limit exceeded");return Lt(new t(t.LN10),e)}function Oo(t){for(var e="";t--;)e+="0";return e}function rh(t,e){var n,r,a,s,c,d,f,h,p,g=1,x=10,w=t,E=w.d,N=w.constructor,j=N.precision;if(w.s<1)throw Error(La+(w.s?"NaN":"-Infinity"));if(w.eq(ca))return new N(0);if(e==null?(Xt=!1,h=j):h=e,w.eq(10))return e==null&&(Xt=!0),Nw(N,h);if(h+=x,N.precision=h,n=Li(E),r=n.charAt(0),s=Mn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Li(w.d),r=n.charAt(0),g++;s=Mn(w),r>1?(w=new N("0."+n),s++):w=new N(r+"."+n.slice(1))}else return f=Nw(N,h+2,j).times(s+""),w=rh(new N(r+"."+n.slice(1)),h-x).plus(f),N.precision=j,e==null?(Xt=!0,Lt(w,j)):w;for(d=c=w=Is(w.minus(ca),w.plus(ca),h),p=Lt(w.times(w),h),a=3;;){if(c=Lt(c.times(p),h),f=d.plus(Is(c,new N(a),h)),Li(f.d).slice(0,h)===Li(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Nw(N,h+2,j).times(s+""))),d=Is(d,new N(g),h),N.precision=j,e==null?(Xt=!0,Lt(d,j)):d;d=f,a+=2}}function xO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=td(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Ft;r<a;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Xt&&(t.e>Yg||t.e<-Yg))throw Error(qN+n)}else t.s=0,t.e=0,t.d=[0];return t}function Lt(t,e,n){var r,a,s,c,d,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Ft,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Ft),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Ft,a=r-Ft+c}if(n!==void 0&&(s=Fl(10,c-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/Fl(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Mn(t),g.length=1,e=e-s-1,g[0]=Fl(10,(Ft-e%Ft)%Ft),t.e=td(-e/Ft)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Fl(10,Ft-r),g[p]=a>0?(h/Fl(10,c-a)%Fl(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==Jn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Jn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Xt&&(t.e>Yg||t.e<-Yg))throw Error(qN+Mn(t));return t}function BM(t,e){var n,r,a,s,c,d,f,h,p,g,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Xt?Lt(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(w/Ft),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Jn-1;--f[s],f[a]+=Jn}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Xt?Lt(e,w):e):new x(0)}function ic(t,e,n){var r,a=Mn(t),s=Li(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Oo(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Oo(-a-1)+s,n&&(r=n-c)>0&&(s+=Oo(r))):a>=c?(s+=Oo(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Oo(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Oo(r))),t.s<0?"-"+s:s}function bO(t,e){if(t.length>e)return t.length=e,!0}function FM(t){var e,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Jl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return xO(c,s.toString())}else if(typeof s!="string")throw Error(Jl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,NW.test(s))xO(c,s);else throw Error(Jl+s)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=FM,a.config=a.set=jW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function jW(t){if(!t||typeof t!="object")throw Error(La+"Object expected");var e,n,r,a=["precision",1,ed,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(td(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Jl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Jl+n+": "+r);return this}var HN=FM(_W);ca=new HN(1);const Tt=HN;var EW=t=>t,$M={},qM=t=>t===$M,wO=t=>function e(){return arguments.length===0||arguments.length===1&&qM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},HM=(t,e)=>t===1?e:wO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(c=>c!==$M).length;return s>=t?e(...r):HM(t-s,wO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=r.map(p=>qM(p)?d.shift():p);return e(...h,...d)}))}),SW=t=>HM(t.length,t),W1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},TW=SW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),AW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return EW;var a=n.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((d,f)=>f(d),s(...arguments))}},X1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function GM(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function KM(t,e,n){for(var r=new Tt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var YM=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},WM=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=GM(t.toNumber()),a=new Tt(10).pow(r),s=t.div(a),c=r!==1?.05:.1,d=new Tt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=d.mul(a);return e?new Tt(f.toNumber()):new Tt(Math.ceil(f.toNumber()))},CW=(t,e,n)=>{var r=new Tt(1),a=new Tt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(GM(t)-1),a=new Tt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Tt(Math.floor(t)))}else t===0?a=new Tt(Math.floor((e-1)/2)):n||(a=new Tt(Math.floor(t)));var c=Math.floor((e-1)/2),d=AW(TW(f=>a.add(new Tt(f-c).mul(r)).toNumber()),W1);return d(0,e)},XM=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var c=WM(new Tt(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new Tt(0):(d=new Tt(e).add(n).div(2),d=d.sub(new Tt(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new Tt(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?XM(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new Tt(f).mul(c)),tickMax:d.add(new Tt(h).mul(c))})},IW=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=YM([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...W1(0,a-1).map(()=>1/0)]:[...W1(0,a-1).map(()=>-1/0),f];return n>r?X1(h):h}if(d===f)return CW(d,a,s);var{step:p,tickMin:g,tickMax:x}=XM(d,f,c,s,0),w=KM(g,x.add(new Tt(.1).mul(p)),p);return n>r?X1(w):w},OW=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=YM([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var f=Math.max(n,2),h=WM(new Tt(d).sub(c).div(f-1),s,0),p=[...KM(new Tt(c),new Tt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?X1(p):p},QM=t=>t.rootProps.maxBarSize,RW=t=>t.rootProps.barGap,ZM=t=>t.rootProps.barCategoryGap,PW=t=>t.rootProps.barSize,Ch=t=>t.rootProps.stackOffset,JM=t=>t.rootProps.reverseStackOrder,GN=t=>t.options.chartName,KN=t=>t.rootProps.syncId,e5=t=>t.rootProps.syncMethod,YN=t=>t.options.eventEmitter,fr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},la={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},d0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},DW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:_s.type,unit:void 0},kW={allowDataOverflow:la.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:la.tickCount,ticks:void 0,type:la.type,unit:void 0},MW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},LW={allowDataOverflow:la.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:la.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:la.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:la.scale,tick:la.tick,tickCount:la.tickCount,ticks:void 0,type:"category",unit:void 0},WN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?MW:DW,XN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?LW:kW,f0=t=>t.polarOptions,QN=re([Gs,Ks,Fn],Z4),t5=re([f0,QN],(t,e)=>{if(t!=null)return wr(t.innerRadius,e,0)}),n5=re([f0,QN],(t,e)=>{if(t!=null)return wr(t.outerRadius,e,e*.8)}),UW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},r5=re([f0],UW);re([WN,r5],d0);var a5=re([QN,t5,n5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([XN,a5],d0);var i5=re([vt,f0,t5,n5,Gs,Ks],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:wr(c,a,a/2),cy:wr(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),Jt=(t,e)=>e,Ih=(t,e,n)=>n;function ZN(t){return t==null?void 0:t.id}function s5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=ZN(d);h.forEach((g,x)=>{var w=s==null||a?x:String(Wt(g,s,null)),E=Wt(g,d.dataKey,0),N;c.has(w)?N=c.get(w):N={},Object.assign(N,{[p]:E}),c.set(w,N)})}}),Array.from(c.values())}function h0(t){return t.stackId!=null&&t.dataKey!=null}var m0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function p0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function VW(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var qn=t=>{var e=vt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},nd=t=>t.tooltip.settings.axisId;function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){zW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zW(t,e,n){return(e=BW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BW(t){var e=FW(t,"string");return typeof e=="symbol"?e:e+""}function FW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q1=[0,"auto"],Xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},o5=(t,e)=>t.cartesianAxis.xAxis[e],Ws=(t,e)=>{var n=o5(t,e);return n??Xn},Qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Q1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nh},l5=(t,e)=>t.cartesianAxis.yAxis[e],Xs=(t,e)=>{var n=l5(t,e);return n??Qn},$W={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},JN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??$W},an=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Xs(t,n);case"zAxis":return JN(t,n);case"angleAxis":return WN(t,n);case"radiusAxis":return XN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qW=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Xs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Oh=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Xs(t,n);case"angleAxis":return WN(t,n);case"radiusAxis":return XN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},c5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ej(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var tj=t=>t.graphicalItems.cartesianItems,HW=re([Jt,Ih],ej),nj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Rh=re([tj,an,HW],nj,{memoizeOptions:{resultEqualityCheck:p0}}),u5=re([Rh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(h0)),d5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),GW=re([Rh],d5),rj=t=>t.map(e=>e.data).filter(Boolean).flat(1),KW=re([Rh],rj,{memoizeOptions:{resultEqualityCheck:p0}}),aj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},ij=re([KW,$N],aj),sj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Wt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:Wt(a,r)}))):t.map(r=>({value:r})),g0=re([ij,an,Rh],sj);function f5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ng(t){if(Hi(t)||t instanceof Date){var e=Number(t);if(vn(e))return e}}function NO(t){if(Array.isArray(t)){var e=[ng(t[0]),ng(t[1])];return Ho(e)?e:void 0}var n=ng(t);if(n!=null)return[n,n]}function Vs(t){return t.map(ng).filter(uF)}function YW(t,e,n){return!n||typeof e!="number"||ci(e)?[]:n.length?Vs(n.flatMap(r=>{var a=Wt(t,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!vn(s)||!vn(c)))return[e-s,e+c]})):[]}var Hn=t=>{var e=qn(t),n=nd(t);return Oh(t,e,n)},Ph=re([Hn],t=>t==null?void 0:t.dataKey),WW=re([u5,$N,Hn],s5),h5=(t,e,n,r)=>{var a={},s=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(ZN);return[d,{stackedData:Iq(t,p,n),graphicalItems:h}]}))},Z1=re([WW,u5,Ch,JM],h5),m5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=kq(t,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},XW=re([an],t=>t.allowDataOverflow),oj=t=>{var e;if(t==null||!("domain"in t))return Q1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Vs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Q1},lj=re([an],oj),cj=re([lj,XW],LM),QW=re([Z1,rl,Jt,cj],m5,{memoizeOptions:{resultEqualityCheck:m0}}),y0=t=>t.errorBars,ZW=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>f5(n,r)),Xg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},uj=(t,e,n,r,a)=>{var s,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(A=>f5(a,A)),x=Wt(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=YW(d,x,g);if(w.length>=2){var E=Math.min(...w),N=Math.max(...w);(s==null||E<s)&&(s=E),(c==null||N>c)&&(c=N)}var j=NO(x);j!=null&&(s=s==null?j[0]:Math.min(s,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=NO(Wt(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),vn(s)&&vn(c))return[s,c]},JW=re([ij,an,GW,y0,Jt],uj,{memoizeOptions:{resultEqualityCheck:m0}});function eX(t){var{value:e}=t;if(Hi(e)||e instanceof Date)return e}var tX=(t,e,n)=>{var r=t.map(eX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Ik(r))?nM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},p5=t=>t.referenceElements.dots,rd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),nX=re([p5,Jt,Ih],rd),g5=t=>t.referenceElements.areas,rX=re([g5,Jt,Ih],rd),y5=t=>t.referenceElements.lines,aX=re([y5,Jt,Ih],rd),v5=(t,e)=>{var n=Vs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},iX=re(nX,Jt,v5),x5=(t,e)=>{var n=Vs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sX=re([rX,Jt],x5);function oX(t){var e;if(t.x!=null)return Vs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Vs(n)}function lX(t){var e;if(t.y!=null)return Vs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Vs(n)}var b5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?oX(r):lX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cX=re([aX,Jt],b5),uX=re(iX,cX,sX,(t,e,n)=>Xg(t,n,e)),dj=(t,e,n,r,a,s,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?Xg(r,s,a):Xg(s,a);return wW(e,h,t.allowDataOverflow)},dX=re([an,lj,cj,QW,JW,uX,vt,Jt],dj,{memoizeOptions:{resultEqualityCheck:m0}}),fX=[0,1],fj=(t,e,n,r,a,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=pc(e,s);if(h&&d==null){var p;return nM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?tX(r,t,h):a==="expand"?fX:c}},hj=re([an,vt,ij,g0,Ch,Jt,dX],fj),w5=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(vh(s));return d in If?d:"point"}}},ad=re([an,vt,c5,GN,Jt],w5);function hX(t){if(t!=null){if(t in If)return If[t]();var e="scale".concat(vh(t));if(e in If)return If[e]()}}function mj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=hX(e);if(a!=null){var s=a.domain(n).range(r);return Eq(s),s}}}var pj=(t,e,n)=>{var r=oj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ho(t))return IW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ho(t))return OW(t,e.tickCount,e.allowDecimals)}},gj=re([hj,Oh,ad],pj),yj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ho(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(c,d)]}return e},mX=re([an,hj,gj,Jt],yj),pX=re(g0,an,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Vs(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/a}}),_5=re(pX,vt,ZM,Fn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!vn(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=wr(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),gX=(t,e)=>{var n=Ws(t,e);return n==null||typeof n.padding!="string"?0:_5(t,"xAxis",e,n.padding)},yX=(t,e)=>{var n=Xs(t,e);return n==null||typeof n.padding!="string"?0:_5(t,"yAxis",e,n.padding)},vX=re(Ws,gX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),xX=re(Xs,yX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),bX=re([Fn,vX,Xy,Wy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),wX=re([Fn,vt,xX,Xy,Wy,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Dh=(t,e,n,r)=>{var a;switch(e){case"xAxis":return bX(t,n,r);case"yAxis":return wX(t,n,r);case"zAxis":return(a=JN(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return r5(t);case"radiusAxis":return a5(t,n);default:return}},N5=re([an,Dh],d0),id=re([an,ad,mX,N5],mj);re([Rh,y0,Jt],ZW);function j5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var v0=(t,e)=>e,x0=(t,e,n)=>n,_X=re(Ky,v0,x0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(j5)),NX=re(Yy,v0,x0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(j5)),E5=(t,e)=>({width:t.width,height:e.height}),jX=(t,e)=>{var n=typeof e.width=="number"?e.width:Nh;return{width:n,height:t.height}},S5=re(Fn,Ws,E5),EX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},SX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},TX=re(Ks,Fn,_X,v0,x0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=E5(e,d);c==null&&(c=EX(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),AX=re(Gs,Fn,NX,v0,x0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=jX(e,d);c==null&&(c=SX(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),CX=(t,e)=>{var n=Ws(t,e);if(n!=null)return TX(t,n.orientation,n.mirror)},IX=re([Fn,Ws,CX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),OX=(t,e)=>{var n=Xs(t,e);if(n!=null)return AX(t,n.orientation,n.mirror)},RX=re([Fn,Xs,OX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),T5=re(Fn,Xs,(t,e)=>{var n=typeof e.width=="number"?e.width:Nh;return{width:n,height:t.height}}),jO=(t,e,n)=>{switch(e){case"xAxis":return S5(t,n).width;case"yAxis":return T5(t,n).height;default:return}},A5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,d=pc(t,r),f=e.map(h=>h.value);if(c&&d&&s==="category"&&a&&Ik(f))return f}},vj=re([vt,g0,an,Jt],A5),C5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=pc(t,r);if(c&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},xj=re([vt,g0,Oh,Jt],C5),EO=re([vt,qW,ad,id,vj,xj,Dh,gj,Jt],(t,e,n,r,a,s,c,d,f)=>{if(e!=null){var h=pc(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),PX=(t,e,n,r,a,s,c,d,f)=>{if(!(e==null||r==null)){var h=pc(t,f),{type:p,ticks:g,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&s!=null&&s.length>=2?tr(s[0]-s[1])*2*E:E;var N=g||a;if(N){var j=N.map((A,U)=>{var T=c?c.indexOf(A):A;return{index:U,coordinate:r(T)+E,value:A,offset:E}});return j.filter(A=>vn(A.coordinate))}return h&&d?d.map((A,U)=>({coordinate:r(A)+E,value:A,index:U,offset:E})).filter(A=>vn(A.coordinate)):r.ticks?r.ticks(x).map(A=>({coordinate:r(A)+E,value:A,offset:E})):r.domain().map((A,U)=>({coordinate:r(A)+E,value:c?c[A]:A,index:U,offset:E}))}},I5=re([vt,Oh,ad,id,gj,Dh,vj,xj,Jt],PX),DX=(t,e,n,r,a,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=pc(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&(r==null?void 0:r.length)>=2?tr(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},Bu=re([vt,Oh,id,Dh,vj,xj,Jt],DX),Fu=re(an,id,(t,e)=>{if(!(t==null||e==null))return Wg(Wg({},t),{},{scale:e})}),kX=re([an,ad,hj,N5],mj);re((t,e,n)=>JN(t,n),kX,(t,e)=>{if(!(t==null||e==null))return Wg(Wg({},t),{},{scale:e})});var MX=re([vt,Ky,Yy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),O5=t=>t.options.defaultTooltipEventType,R5=t=>t.options.validateTooltipEventTypes;function P5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function bj(t,e){var n=O5(t),r=R5(t);return P5(e,n,r)}function LX(t){return Me(e=>bj(e,t))}var D5=(t,e)=>{var n,r=Number(e);if(!(ci(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},UX=t=>t.tooltip.settings,Po={active:!1,index:null,dataKey:void 0,coordinate:void 0},VX={itemInteraction:{click:Po,hover:Po},axisInteraction:{click:Po,hover:Po},keyboardInteraction:Po,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},k5=Xr({name:"tooltip",initialState:VX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Yt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Yt()},removeTooltipEntrySettings:{reducer(t,e){var n=oi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Yt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:zX,replaceTooltipEntrySettings:BX,removeTooltipEntrySettings:FX,setTooltipSettingsState:$X,setActiveMouseOverItemIndex:M5,mouseLeaveItem:qX,mouseLeaveChart:L5,setActiveClickItemIndex:HX,setMouseOverAxisIndex:U5,setMouseClickAxisIndex:GX,setSyncInteraction:J1,setKeyboardInteraction:e_}=k5.actions,KX=k5.reducer;function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){YX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YX(t,e,n){return(e=WX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=XX(t,"string");return typeof e=="symbol"?e:e+""}function XX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QX(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function ZX(t){return t.index!=null}var V5=(t,e,n,r)=>{if(e==null)return Po;var a=QX(t,e,n);if(a==null)return Po;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(ZX(a)){if(s)return Lp(Lp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Lp(Lp({},Po),{},{coordinate:a.coordinate})};function JX(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function eQ(t,e){var n=JX(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),c=Math.max(r,a);return n>=s&&n<=c}function tQ(t,e,n){if(n==null||e==null)return!0;var r=Wt(t,e);return r==null||!Ho(n)?!0:eQ(r,n)}var wj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!vn(s))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),h=e[f];return h==null||tQ(h,n,r)?String(f):null},z5=(t,e,n,r,a,s,c,d)=>{if(!(s==null||d==null)){var f=c[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},B5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},kh=t=>t.options.tooltipPayloadSearcher,sd=t=>t.tooltip;function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){nQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nQ(t,e,n){return(e=rQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rQ(t){var e=aQ(t,"string");return typeof e=="symbol"?e:e+""}function aQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iQ(t,e){return t??e}var F5=(t,e,n,r,a,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,w)=>{var E,{dataDefinedOnItem:N,settings:j}=w,A=iQ(N,d),U=Array.isArray(A)?_4(A,h,p):A,T=(E=j==null?void 0:j.dataKey)!==null&&E!==void 0?E:r,M=j==null?void 0:j.nameKey,P;if(r&&Array.isArray(U)&&!Array.isArray(U[0])&&c==="axis"?P=cF(U,r,a):P=s(U,e,f,M),Array.isArray(P))P.forEach(k=>{var V=AO(AO({},j),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(XC({tooltipEntrySettings:V,dataKey:k.dataKey,payload:k.payload,value:Wt(k.payload,k.dataKey),name:k.name}))});else{var L;x.push(XC({tooltipEntrySettings:j,dataKey:T,payload:P,value:Wt(P,T),name:(L=Wt(P,M))!==null&&L!==void 0?L:j==null?void 0:j.name}))}return x},g)}},_j=re([Hn,vt,c5,GN,qn],w5),sQ=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),oQ=re([qn,nd],ej),Mh=re([sQ,Hn,oQ],nj,{memoizeOptions:{resultEqualityCheck:p0}}),lQ=re([Mh],t=>t.filter(h0)),cQ=re([Mh],rj,{memoizeOptions:{resultEqualityCheck:p0}}),od=re([cQ,rl],aj),uQ=re([lQ,rl,Hn],s5),Nj=re([od,Hn,Mh],sj),$5=re([Hn],oj),dQ=re([Hn],t=>t.allowDataOverflow),q5=re([$5,dQ],LM),fQ=re([Mh],t=>t.filter(h0)),hQ=re([uQ,fQ,Ch,JM],h5),mQ=re([hQ,rl,qn,q5],m5),pQ=re([Mh],d5),gQ=re([od,Hn,pQ,y0,qn],uj,{memoizeOptions:{resultEqualityCheck:m0}}),yQ=re([p5,qn,nd],rd),vQ=re([yQ,qn],v5),xQ=re([g5,qn,nd],rd),bQ=re([xQ,qn],x5),wQ=re([y5,qn,nd],rd),_Q=re([wQ,qn],b5),NQ=re([vQ,_Q,bQ],Xg),jQ=re([Hn,$5,q5,mQ,gQ,NQ,vt,qn],dj),Lh=re([Hn,vt,od,Nj,Ch,qn,jQ],fj),EQ=re([Lh,Hn,_j],pj),SQ=re([Hn,Lh,EQ,qn],yj),H5=t=>{var e=qn(t),n=nd(t),r=!1;return Dh(t,e,n,r)},G5=re([Hn,H5],d0),K5=re([Hn,_j,SQ,G5],mj),TQ=re([vt,Nj,Hn,qn],A5),AQ=re([vt,Nj,Hn,qn],C5),CQ=(t,e,n,r,a,s,c,d)=>{if(e){var{type:f}=e,h=pc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?tr(a[0]-a[1])*2*g:g,h&&c?c.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}}},Qs=re([vt,Hn,_j,K5,H5,TQ,AQ,qn],CQ),jj=re([O5,R5,UX],(t,e,n)=>P5(n.shared,t,e)),Y5=t=>t.tooltip.settings.trigger,Ej=t=>t.tooltip.settings.defaultIndex,b0=re([sd,jj,Y5,Ej],V5),sc=re([b0,od,Ph,Lh],wj),W5=re([Qs,sc],D5),X5=re([b0],t=>{if(t)return t.dataKey}),Q5=re([sd,jj,Y5,Ej],B5),IQ=re([Gs,Ks,vt,Fn,Qs,Ej,Q5,kh],z5),OQ=re([b0,IQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),RQ=re([b0],t=>t.active),PQ=re([Q5,sc,rl,Ph,W5,kh,jj],F5);re([PQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){DQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQ(t,e,n){return(e=kQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=MQ(t,"string");return typeof e=="symbol"?e:e+""}function MQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LQ=()=>Me(Hn),UQ=()=>{var t=LQ(),e=Me(Qs),n=Me(K5);return Cg(!t||!n?void 0:IO(IO({},t),{},{scale:n}),e)};function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){VQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VQ(t,e,n){return(e=zQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zQ(t){var e=BQ(t,"string");return typeof e=="symbol"?e:e+""}function BQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FQ=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},$Q=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:c}=r;return fu(fu(fu({},r),Pn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,{angle:f}=r;return fu(fu(fu({},r),Pn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qQ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var Z5=(t,e,n,r,a)=>{var s,c=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(tr(p-h)!==tr(g-p)){var w=[];if(tr(g-p)===tr(a[1]-a[0])){x=g;var E=p+a[1]-a[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{x=h;var N=g+a[1]-a[0];w[0]=Math.min(p,(N+p)/2),w[1]=Math.max(p,(N+p)/2)}var j=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){({index:c}=n[f]);break}}else{var A=Math.min(h,g),U=Math.max(h,g);if(t>(A+p)/2&&t<=(U+p)/2){({index:c}=n[f]);break}}}else if(e){for(var T=0;T<d;T++)if(T===0&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<d-1&&t>(e[T].coordinate+e[T-1].coordinate)/2&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T===d-1&&t>(e[T].coordinate+e[T-1].coordinate)/2){({index:c}=e[T]);break}}return c},HQ=()=>Me(GN),Sj=(t,e)=>e,J5=(t,e,n)=>n,Tj=(t,e,n,r)=>r,GQ=re(Qs,t=>Ly(t,e=>e.coordinate)),Aj=re([sd,Sj,J5,Tj],V5),Cj=re([Aj,od,Ph,Lh],wj),KQ=(t,e,n)=>{if(e!=null){var r=sd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},e6=re([sd,Sj,J5,Tj],B5),Qg=re([Gs,Ks,vt,Fn,Qs,Tj,e6,kh],z5),YQ=re([Aj,Qg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),t6=re([Qs,Cj],D5),WQ=re([e6,Cj,rl,Ph,t6,kh,Sj],F5),XQ=re([Aj,Cj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),QQ=(t,e,n,r,a,s,c)=>{if(!(!t||!n||!r||!a)&&qQ(t,c)){var d=Mq(t,e),f=Z5(d,s,a,n,r),h=FQ(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},ZQ=(t,e,n,r,a,s,c)=>{if(!(!t||!r||!a||!s||!n)){var d=LG(t,n);if(d){var f=Lq(d,e),h=Z5(f,c,s,r,a),p=$Q(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},JQ=(t,e,n,r,a,s,c,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?QQ(t,e,r,a,s,c,d):ZQ(t,e,n,r,a,s,c)},eZ=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),tZ=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(fr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:VW}});function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){nZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=aZ(t,"string");return typeof e=="symbol"?e:e+""}function aZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iZ={},sZ={zIndexMap:Object.values(fr).reduce((t,e)=>PO(PO({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),iZ)},oZ=new Set(Object.values(fr));function lZ(t){return oZ.has(t)}var n6=Xr({name:"zIndex",initialState:sZ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Yt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!lZ(n)&&delete t.zIndexMap[n])},prepare:Yt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:Yt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Yt()}}}),{registerZIndexPortal:cZ,unregisterZIndexPortal:uZ,registerZIndexPortalId:dZ,unregisterZIndexPortalId:fZ}=n6.actions,hZ=n6.reducer;function mi(t){var{zIndex:e,children:n}=t,r=hH(),a=r&&e!==void 0&&e!==0,s=Qr(),c=Zt();_.useLayoutEffect(()=>a?(c(cZ({zIndex:e})),()=>{c(uZ({zIndex:e}))}):xh,[c,e,a]);var d=Me(h=>eZ(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?YD.createPortal(n,f):null}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(null,arguments)}function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return(e=pZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pZ(t){var e=gZ(t,"string");return typeof e=="symbol"?e:e+""}function gZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yZ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function vZ(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,w=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,N,j;if(p==="ScatterChart")E=g,N=JH,j=fr.cursorLine;else if(p==="BarChart")E=eG(d,g,s,c),N=Q4,j=fr.cursorRectangle;else if(d==="radial"&&Pk(g)){var{cx:A,cy:U,radius:T,startAngle:M,endAngle:P}=J4(g);E={cx:A,cy:U,startAngle:M,endAngle:P,innerRadius:T,outerRadius:T},N=tM,j=fr.cursorLine}else E={points:BG(d,g,s)},N=vN,j=fr.cursorLine;var L=typeof f=="object"&&"className"in f?f.className:void 0,k=Up(Up(Up(Up({stroke:"#ccc",pointerEvents:"none"},s),E),qf(f)),{},{payload:x,payloadIndex:w,className:Dt("recharts-tooltip-cursor",L)});return _.createElement(mi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},_.createElement(yZ,{cursor:f,cursorComp:N,cursorProps:k}))}function xZ(t){var e=UQ(),n=P4(),r=Zy(),a=HQ();return e==null||n==null||r==null||a==null?null:_.createElement(vZ,t_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var r6=_.createContext(null),bZ=()=>_.useContext(r6),jw={exports:{}},kO;function wZ(){return kO||(kO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,w=g.length,E=new Array(w);x<w;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,w,E){var N=n?n+h:h;if(!this._events[N])return!1;var j=this._events[N],A=arguments.length,U,T;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),A){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,x),!0;case 5:return j.fn.call(j.context,p,g,x,w),!0;case 6:return j.fn.call(j.context,p,g,x,w,E),!0}for(T=1,U=new Array(A-1);T<A;T++)U[T-1]=arguments[T];j.fn.apply(j.context,U)}else{var M=j.length,P;for(T=0;T<M;T++)switch(j[T].once&&this.removeListener(h,j[T].fn,void 0,!0),A){case 1:j[T].fn.call(j[T].context);break;case 2:j[T].fn.call(j[T].context,p);break;case 3:j[T].fn.call(j[T].context,p,g);break;case 4:j[T].fn.call(j[T].context,p,g,x);break;default:if(!U)for(P=1,U=new Array(A-1);P<A;P++)U[P-1]=arguments[P];j[T].fn.apply(j[T].context,U)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return c(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&c(this,w);else{for(var N=0,j=[],A=E.length;N<A;N++)(E[N].fn!==p||x&&!E[N].once||g&&E[N].context!==g)&&j.push(E[N]);j.length?this._events[w]=j.length===1?j[0]:j:c(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(jw)),jw.exports}var _Z=wZ();const NZ=Qi(_Z);var ah=new NZ,n_="recharts.syncEvent.tooltip",MO="recharts.syncEvent.brush";function a6(t,e){if(e){var n=Number.parseInt(e,10);if(!ci(n))return t==null?void 0:t[n]}}var jZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},i6=Xr({name:"options",initialState:jZ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),EZ=i6.reducer,{createEventEmitter:SZ}=i6.actions;function TZ(t){return t.tooltip.syncInteraction}var AZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},s6=Xr({name:"chartData",initialState:AZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:LO,setDataStartEndIndexes:CZ,setComputedData:rge}=s6.actions,IZ=s6.reducer,OZ=["x","y"];function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return(e=PZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kZ(t,e){if(t==null)return{};var n,r,a=MZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function MZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function LZ(){var t=Me(KN),e=Me(YN),n=Zt(),r=Me(e5),a=Me(Qs),s=Zy(),c=Qy(),d=Me(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return xh;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(c&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:N}=w,j=kZ(w,OZ),{x:A,y:U,width:T,height:M}=p.payload.sourceViewBox,P=hu(hu({},j),{},{x:c.x+(T?(E-A)/T:0)*c.width,y:c.y+(M?(N-U)/M:0)*c.height});n(hu(hu({},p),{},{payload:hu(hu({},p.payload),{},{coordinate:P})}))}else n(p);return}if(a!=null){var L;if(typeof r=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},V=r(a,k);L=a[V]}else r==="value"&&(L=a.find(Y=>String(Y.value)===p.payload.label));var{coordinate:D}=p.payload;if(L==null||p.payload.active===!1||D==null||c==null){n(J1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:R}=D,F=Math.min(I,c.x+c.width),B=Math.min(R,c.y+c.height),pe={x:s==="horizontal"?L.coordinate:F,y:s==="horizontal"?B:L.coordinate},le=J1({active:p.payload.active,coordinate:pe,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(le)}}};return ah.on(n_,f),()=>{ah.off(n_,f)}},[d,n,e,t,r,a,s,c])}function UZ(){var t=Me(KN),e=Me(YN),n=Zt();_.useEffect(()=>{if(t==null)return xh;var r=(a,s,c)=>{e!==c&&t===a&&n(CZ(s))};return ah.on(MO,r),()=>{ah.off(MO,r)}},[n,e,t])}function VZ(){var t=Zt();_.useEffect(()=>{t(SZ())},[t]),LZ(),UZ()}function zZ(t,e,n,r,a,s){var c=Me(w=>KQ(w,t,e)),d=Me(YN),f=Me(KN),h=Me(e5),p=Me(TZ),g=p==null?void 0:p.active,x=Qy();_.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=J1({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});ah.emit(n_,f,w,d)}},[g,n,c,a,r,d,f,h,s,x])}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return(e=FZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FZ(t){var e=$Z(t,"string");return typeof e=="symbol"?e:e+""}function $Z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qZ(t){return t.dataKey}function HZ(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(OH,e)}var BO=[],GZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!gc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function o6(t){var e,n,r=Nr(t,GZ),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:w,reverseDirection:E,useTranslate3d:N,wrapperStyle:j,cursor:A,shared:U,trigger:T,defaultIndex:M,portal:P,axisId:L}=r,k=Zt(),V=typeof M=="number"?String(M):M;_.useEffect(()=>{k($X({shared:U,trigger:T,axisId:L,active:a,defaultIndex:V}))},[k,U,T,L,a,V]);var D=Qy(),I=G4(),R=LX(U),{activeIndex:F,isActive:B}=(e=Me(Ae=>XQ(Ae,R,T,V)))!==null&&e!==void 0?e:{},pe=Me(Ae=>WQ(Ae,R,T,V)),le=Me(Ae=>t6(Ae,R,T,V)),Y=Me(Ae=>YQ(Ae,R,T,V)),ie=pe,xe=bZ(),Z=(n=a??B)!==null&&n!==void 0?n:!1,[X,q]=b$([ie,Z]),K=R==="axis"?le:void 0;zZ(R,T,Y,K,F,Z);var H=P??xe;if(H==null||D==null||R==null)return null;var Q=ie??BO;Z||(Q=BO),h&&Q.length&&(Q=GF(Q.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||r.includeHidden)),x,qZ));var ue=Q.length>0,_e=_.createElement(UH,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:Z,coordinate:Y,hasPayload:ue,offset:g,position:w,reverseDirection:E,useTranslate3d:N,viewBox:D,wrapperStyle:j,lastBoundingBox:X,innerRef:q,hasPortalFromProps:!!P},HZ(f,zO(zO({},r),{},{payload:Q,label:K,active:Z,activeIndex:F,coordinate:Y,accessibilityLayer:I})));return _.createElement(_.Fragment,null,YD.createPortal(_e,H),Z&&_.createElement(xZ,{cursor:A,tooltipEventType:R,coordinate:Y,payload:Q,index:F}))}var Uh=t=>null;Uh.displayName="Cell";function KZ(t,e,n){return(e=YZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YZ(t){var e=WZ(t,"string");return typeof e=="symbol"?e:e+""}function WZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XZ{constructor(e){KZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function QZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){ZZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZZ(t,e,n){return(e=JZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JZ(t){var e=eJ(t,"string");return typeof e=="symbol"?e:e+""}function eJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tJ={cacheSize:2e3,enableCache:!0},l6=QZ({},tJ),$O=new XZ(l6.cacheSize),nJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qO="recharts_measurement_span";function rJ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(d)}var HO=(t,e)=>{try{var n=document.getElementById(qO);n||(n=document.createElement("span"),n.setAttribute("id",qO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nJ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},kf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gc.isSsr)return{width:0,height:0};if(!l6.enableCache)return HO(e,n);var r=rJ(e,n),a=$O.get(r);if(a)return a;var s=HO(e,n);return $O.set(r,s),s},GO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,iJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sJ=Object.keys(c6),_u="NaN";function oJ(t,e){return t*c6[e]}class Br{static parse(e){var n,[,r,a]=(n=iJ.exec(e))!==null&&n!==void 0?n:[];return new Br(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ci(e)&&(this.unit=""),n!==""&&!aJ.test(n)&&(this.num=NaN,this.unit=""),sJ.includes(n)&&(this.num=oJ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Br(NaN,""):new Br(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Br(NaN,""):new Br(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Br(NaN,""):new Br(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Br(NaN,""):new Br(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ci(this.num)}}function u6(t){if(t.includes(_u))return _u;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=GO.exec(e))!==null&&n!==void 0?n:[],c=Br.parse(r??""),d=Br.parse(s??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return _u;e=e.replace(GO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=KO.exec(e))!==null&&h!==void 0?h:[],w=Br.parse(p??""),E=Br.parse(x??""),N=g==="+"?w.add(E):w.subtract(E);if(N.isNaN())return _u;e=e.replace(KO,N.toString())}return e}var YO=/\(([^()]*)\)/;function lJ(t){for(var e=t,n;(n=YO.exec(e))!=null;){var[,r]=n;e=e.replace(YO,u6(r))}return e}function cJ(t){var e=t.replace(/\s+/g,"");return e=lJ(e),e=u6(e),e}function uJ(t){try{return cJ(t)}catch{return _u}}function Ew(t){var e=uJ(t.slice(5,-1));return e===_u?"":e}var dJ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],fJ=["dx","dy","angle","className","breakAll"];function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(null,arguments)}function WO(t,e){if(t==null)return{};var n,r,a=hJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function hJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var d6=/[ \f\n\r\t\v\u2028\u2029]+/,f6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];nr(e)||(n?a=e.toString().split(""):a=e.toString().split(d6));var s=a.map(d=>({word:d,width:kf(d,r).width})),c=n?0:kf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function mJ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var h6=(t,e,n,r)=>t.reduce((a,s)=>{var{word:c,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};a.push(h)}return a},[]),m6=t=>t.reduce((e,n)=>e.width>n.width?e:n),pJ="",XO=(t,e,n,r,a,s,c,d)=>{var f=t.slice(0,e),h=f6({breakAll:n,style:r,children:f+pJ});if(!h)return[!1,[]];var p=h6(h.wordsWithComputedWidth,s,c,d),g=p.length>a||m6(p).width>Number(s);return[g,p]},gJ=(t,e,n,r,a)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,h=ke(s),p=String(c),g=h6(e,r,n,a);if(!h||a)return g;var x=g.length>s||m6(g).width>Number(r);if(!x)return g;for(var w=0,E=p.length-1,N=0,j;w<=E&&N<=p.length-1;){var A=Math.floor((w+E)/2),U=A-1,[T,M]=XO(p,U,f,d,s,r,n,a),[P]=XO(p,A,f,d,s,r,n,a);if(!T&&!P&&(w=A+1),T&&P&&(E=A-1),!T&&P){j=M;break}N++}return j||g},QO=t=>{var e=nr(t)?[]:t.toString().split(d6);return[{words:e,width:void 0}]},yJ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=t;if((e||n)&&!gc.isSsr){var d,f,h=f6({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return QO(r);return gJ({breakAll:s,children:r,maxLines:c,style:a},d,f,e,!!n)}return QO(r)},p6="#808080",vJ={angle:0,breakAll:!1,capHeight:"0.71em",fill:p6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},w0=_.forwardRef((t,e)=>{var n=Nr(t,vJ),{x:r,y:a,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=WO(n,dJ),x=_.useMemo(()=>yJ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:N,className:j,breakAll:A}=g,U=WO(g,fJ);if(!Hi(r)||!Hi(a)||x.length===0)return null;var T=Number(r)+(ke(w)?w:0),M=Number(a)+(ke(E)?E:0);if(!vn(T)||!vn(M))return null;var P;switch(p){case"start":P=Ew("calc(".concat(c,")"));break;case"middle":P=Ew("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:P=Ew("calc(".concat(x.length-1," * -").concat(s,")"));break}var L=[];if(f){var k=x[0].width,{width:V}=g;L.push("scale(".concat(ke(V)&&ke(k)?V/k:1,")"))}return N&&L.push("rotate(".concat(N,", ").concat(T,", ").concat(M,")")),L.length&&(U.transform=L.join(" ")),_.createElement("text",r_({},ka(U),{ref:e,x:T,y:M,className:Dt("recharts-text",j),textAnchor:h,fill:d.includes("url")?p6:d}),x.map((D,I)=>{var R=D.words.join(A?"":" ");return _.createElement("tspan",{x:T,dy:I===0?P:s,key:"".concat(R,"-").concat(I)},R)}))});w0.displayName="Text";var xJ=["labelRef"];function bJ(t,e){if(t==null)return{};var n,r,a=wJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function wJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return(e=NJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ns.apply(null,arguments)}var g6=_.createContext(null),EJ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c,children:d}=t,f=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c}),[e,n,r,a,s,c]);return _.createElement(g6.Provider,{value:f},d)},y6=()=>{var t=_.useContext(g6),e=Qy();return t||R4(e)},SJ=_.createContext(null),TJ=()=>{var t=_.useContext(SJ),e=Me(i5);return t||e},AJ=t=>{var{value:e,formatter:n}=t,r=nr(t.children)?e:t.children;return typeof n=="function"?n(r):r},Ij=t=>t!=null&&typeof t=="function",CJ=(t,e)=>{var n=tr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},IJ=(t,e,n,r,a)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:w}=a,E=(h+p)/2,N=CJ(g,x),j=N>=0?1:-1,A,U;switch(e){case"insideStart":A=g+j*s,U=w;break;case"insideEnd":A=x-j*s,U=!w;break;case"end":A=x+j*s,U=w;break;default:throw new Error("Unsupported position ".concat(e))}U=N<=0?U:!U;var T=Pn(d,f,E,A),M=Pn(d,f,E,A+(U?1:-1)*359),P="M".concat(T.x,",").concat(T.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(U?0:1,`,
    `).concat(M.x,",").concat(M.y),L=nr(t.id)?Hf("recharts-radial-line-"):t.id;return _.createElement("text",Ns({},r,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",c)}),_.createElement("defs",null,_.createElement("path",{id:L,d:P})),_.createElement("textPath",{xlinkHref:"#".concat(L)},n))},OJ=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Pn(r,a,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:w,y:E}=Pn(r,a,x,h);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},a_=t=>"cx"in t&&ke(t.cx),RJ=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!a_(n)&&(s=n);var{x:c,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=c,x=c+(f-h)/2,w=(g+x)/2,E=(f+h)/2,N=g+f/2,j=p>=0?1:-1,A=j*r,U=j>0?"end":"start",T=j>0?"start":"end",M=f>=0?1:-1,P=M*r,L=M>0?"end":"start",k=M>0?"start":"end";if(a==="top"){var V={x:g+f/2,y:d-A,textAnchor:"middle",verticalAnchor:U};return gn(gn({},V),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var D={x:x+h/2,y:d+p+A,textAnchor:"middle",verticalAnchor:T};return gn(gn({},D),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var I={x:w-P,y:d+p/2,textAnchor:L,verticalAnchor:"middle"};return gn(gn({},I),s?{width:Math.max(I.x-s.x,0),height:p}:{})}if(a==="right"){var R={x:w+E+P,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return gn(gn({},R),s?{width:Math.max(s.x+s.width-R.x,0),height:p}:{})}var F=s?{width:E,height:p}:{};return a==="insideLeft"?gn({x:w+P,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},F):a==="insideRight"?gn({x:w+E-P,y:d+p/2,textAnchor:L,verticalAnchor:"middle"},F):a==="insideTop"?gn({x:g+f/2,y:d+A,textAnchor:"middle",verticalAnchor:T},F):a==="insideBottom"?gn({x:x+h/2,y:d+p-A,textAnchor:"middle",verticalAnchor:U},F):a==="insideTopLeft"?gn({x:g+P,y:d+A,textAnchor:k,verticalAnchor:T},F):a==="insideTopRight"?gn({x:g+f-P,y:d+A,textAnchor:L,verticalAnchor:T},F):a==="insideBottomLeft"?gn({x:x+P,y:d+p-A,textAnchor:k,verticalAnchor:U},F):a==="insideBottomRight"?gn({x:x+h-P,y:d+p-A,textAnchor:L,verticalAnchor:U},F):a&&typeof a=="object"&&(ke(a.x)||Ds(a.x))&&(ke(a.y)||Ds(a.y))?gn({x:c+wr(a.x,E),y:d+wr(a.y,p),textAnchor:"end",verticalAnchor:"end"},F):gn({x:N,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},F)},PJ={angle:0,offset:5,zIndex:fr.label,position:"middle",textBreakAll:!1};function Ro(t){var e=Nr(t,PJ),{viewBox:n,position:r,value:a,children:s,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=TJ(),g=y6(),x=r==="center"?g:p??g,w,E,N;if(n==null?w=x:a_(n)?w=n:w=R4(n),!w||nr(a)&&nr(s)&&!_.isValidElement(c)&&typeof c!="function")return null;var j=gn(gn({},e),{},{viewBox:w});if(_.isValidElement(c)){var{labelRef:A}=j,U=bJ(j,xJ);return _.cloneElement(c,U)}if(typeof c=="function"){if(E=_.createElement(c,j),_.isValidElement(E))return E}else E=AJ(e);var T=ka(e);if(a_(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return IJ(e,r,E,T,w);N=OJ(w,e.offset,e.position)}else N=RJ(e,w);return _.createElement(mi,{zIndex:e.zIndex},_.createElement(w0,Ns({ref:h,className:Dt("recharts-label",d)},T,N,{textAnchor:mJ(T.textAnchor)?T.textAnchor:N.textAnchor,breakAll:f}),E))}Ro.displayName="Label";var DJ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Ro,Ns({key:"label-implicit"},r)):Hi(t)?_.createElement(Ro,Ns({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Ro?_.cloneElement(t,gn({key:"label-implicit"},r)):_.createElement(Ro,Ns({key:"label-implicit",content:t},r)):Ij(t)?_.createElement(Ro,Ns({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Ro,Ns({},t,{key:"label-implicit"},r)):null};function kJ(t){var{label:e,labelRef:n}=t,r=y6();return DJ(e,r,n)||null}var Sw={},Tw={},JO;function MJ(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Tw)),Tw}var Aw={},eR;function LJ(){return eR||(eR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Aw)),Aw}var tR;function UJ(){return tR||(tR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MJ(),n=LJ(),r=aN();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(Sw)),Sw}var Cw,nR;function VJ(){return nR||(nR=1,Cw=UJ().last),Cw}var zJ=VJ();const BJ=Qi(zJ);var FJ=["valueAccessor"],$J=["dataKey","clockWise","id","textBreakAll","zIndex"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(null,arguments)}function rR(t,e){if(t==null)return{};var n,r,a=qJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HJ=t=>Array.isArray(t.value)?BJ(t.value):t.value,v6=_.createContext(void 0),GJ=v6.Provider,x6=_.createContext(void 0),KJ=x6.Provider;function YJ(){return _.useContext(v6)}function WJ(){return _.useContext(x6)}function rg(t){var{valueAccessor:e=HJ}=t,n=rR(t,FJ),{dataKey:r,clockWise:a,id:s,textBreakAll:c,zIndex:d}=n,f=rR(n,$J),h=YJ(),p=WJ(),g=h||p;return!g||!g.length?null:_.createElement(mi,{zIndex:d??fr.label},_.createElement(Or,{className:"recharts-label-list"},g.map((x,w)=>{var E,N=nr(r)?e(x,w):Wt(x&&x.payload,r),j=nr(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Ro,Zg({key:"label-".concat(w)},ka(x),f,j,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:c,viewBox:x.viewBox,index:w,zIndex:0}))})))}rg.displayName="LabelList";function b6(t){var{label:e}=t;return e?e===!0?_.createElement(rg,{key:"labelList-implicit"}):_.isValidElement(e)||Ij(e)?_.createElement(rg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(rg,Zg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var w6=t=>t.graphicalItems.polarItems,XJ=re([Jt,Ih],ej),_0=re([w6,an,XJ],nj),QJ=re([_0],rj),N0=re([QJ,FN],aj),ZJ=re([N0,an,_0],sj);re([N0,an,_0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,c=Wt(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Wt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var aR=()=>{},JJ=re([N0,an,_0,y0,Jt],uj),eee=re([an,lj,cj,aR,JJ,aR,vt,Jt],dj),_6=re([an,vt,N0,ZJ,Ch,Jt,eee],fj),tee=re([_6,an,ad],pj);re([an,_6,tee,Jt],yj);var nee={radiusAxis:{},angleAxis:{}},N6=Xr({name:"polarAxis",initialState:nee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:age,removeRadiusAxis:ige,addAngleAxis:sge,removeAngleAxis:oge}=N6.actions,ree=N6.reducer;function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){aee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aee(t,e,n){return(e=iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iee(t){var e=see(t,"string");return typeof e=="symbol"?e:e+""}function see(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oee=(t,e)=>e,Oj=re([w6,oee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),lee=[],Rj=(t,e,n)=>(n==null?void 0:n.length)===0?lee:n,j6=re([FN,Oj,Rj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>sR(sR({},e.presentationProps),s.props))),a!=null)return a}}),cee=re([j6,Oj,Rj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,c=Wt(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Gy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),uee=re([j6,Oj,Rj,Fn],(t,e,n,r)=>{if(!(e==null||t==null))return hte({offset:r,pieSettings:e,displayedData:t,cells:n})}),Iw={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR;function dee(){if(oR)return Pt;oR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(N){if(typeof N=="object"&&N!==null){var j=N.$$typeof;switch(j){case t:switch(N=N.type,N){case n:case a:case r:case f:case h:case x:return N;default:switch(N=N&&N.$$typeof,N){case c:case d:case g:case p:return N;case s:return N;default:return j}}case e:return j}}}return Pt.ContextConsumer=s,Pt.ContextProvider=c,Pt.Element=t,Pt.ForwardRef=d,Pt.Fragment=n,Pt.Lazy=g,Pt.Memo=p,Pt.Portal=e,Pt.Profiler=a,Pt.StrictMode=r,Pt.Suspense=f,Pt.SuspenseList=h,Pt.isContextConsumer=function(N){return E(N)===s},Pt.isContextProvider=function(N){return E(N)===c},Pt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},Pt.isForwardRef=function(N){return E(N)===d},Pt.isFragment=function(N){return E(N)===n},Pt.isLazy=function(N){return E(N)===g},Pt.isMemo=function(N){return E(N)===p},Pt.isPortal=function(N){return E(N)===e},Pt.isProfiler=function(N){return E(N)===a},Pt.isStrictMode=function(N){return E(N)===r},Pt.isSuspense=function(N){return E(N)===f},Pt.isSuspenseList=function(N){return E(N)===h},Pt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===a||N===r||N===f||N===h||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===p||N.$$typeof===c||N.$$typeof===s||N.$$typeof===d||N.$$typeof===w||N.getModuleId!==void 0)},Pt.typeOf=E,Pt}var lR;function fee(){return lR||(lR=1,Iw.exports=dee()),Iw.exports}var hee=fee(),cR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",uR=null,Ow=null,E6=t=>{if(t===uR&&Array.isArray(Ow))return Ow;var e=[];return _.Children.forEach(t,n=>{nr(n)||(hee.isFragment(n)?e=e.concat(E6(n.props.children)):e.push(n))}),Ow=e,uR=t,e};function Pj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>cR(a)):r=[cR(e)],E6(t).forEach(a=>{var s=nc(a,"type.displayName")||nc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Rw={},dR;function mee(){return dR||(dR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Rw)),Rw}var Pw,fR;function pee(){return fR||(fR=1,Pw=mee().isPlainObject),Pw}var gee=pee();const yee=Qi(gee);function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){vee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vee(t,e,n){return(e=xee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=bee(t,"string");return typeof e=="symbol"?e:e+""}function bee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jg.apply(null,arguments)}var pR=(t,e,n,r,a)=>{var s=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-s/2,",").concat(e+a),c+="L ".concat(t+n-s/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},wee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_ee=t=>{var e=Nr(t,wee),{x:n,y:r,upperWidth:a,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=_.useRef(null),[w,E]=_.useState(-1),N=_.useRef(a),j=_.useRef(s),A=_.useRef(c),U=_.useRef(n),T=_.useRef(r),M=a0(t,"trapezoid-");if(_.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var pe=x.current.getTotalLength();pe&&E(pe)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var P=Dt("recharts-trapezoid",d);if(!g)return _.createElement("g",null,_.createElement("path",Jg({},ka(e),{className:P,d:pR(n,r,a,s,c)})));var L=N.current,k=j.current,V=A.current,D=U.current,I=T.current,R="0px ".concat(w===-1?1:w,"px"),F="".concat(w,"px 0px"),B=K4(["strokeDasharray"],h,f);return _.createElement(r0,{animationId:M,key:M,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},pe=>{var le=Un(L,a,pe),Y=Un(k,s,pe),ie=Un(V,c,pe),xe=Un(D,n,pe),Z=Un(I,r,pe);x.current&&(N.current=le,j.current=Y,A.current=ie,U.current=xe,T.current=Z);var X=pe>0?{transition:B,strokeDasharray:F}:{strokeDasharray:R};return _.createElement("path",Jg({},ka(e),{className:P,d:pR(xe,Z,le,Y,ie),ref:x,style:mR(mR({},X),e.style)}))})},Nee=["option","shapeType","propTransformer","activeClassName"];function jee(t,e){if(t==null)return{};var n,r,a=Eee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Eee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){See(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function See(t,e,n){return(e=Tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Aee(t,"string");return typeof e=="symbol"?e:e+""}function Aee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cee(t,e){return ey(ey({},e),t)}function Iee(t,e){return t==="symbols"}function yR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(Q4,n);case"trapezoid":return _.createElement(_ee,n);case"sector":return _.createElement(tM,n);case"symbols":if(Iee(e))return _.createElement(Rk,n);break;case"curve":return _.createElement(vN,n);default:return null}}function Oee(t){return _.isValidElement(t)?t.props:t}function S6(t){var{option:e,shapeType:n,propTransformer:r=Cee,activeClassName:a="recharts-active-shape"}=t,s=jee(t,Nee),c;if(_.isValidElement(e))c=_.cloneElement(e,ey(ey({},s),Oee(e)));else if(typeof e=="function")c=e(s);else if(yee(e)&&typeof e!="boolean"){var d=r(e,s);c=_.createElement(yR,{shapeType:n,elementProps:d})}else{var f=s;c=_.createElement(yR,{shapeType:n,elementProps:f})}return s.isActive?_.createElement(Or,{className:a},c):c}var Dj=(t,e)=>{var n=Zt();return(r,a)=>s=>{t==null||t(r,a,s),n(M5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},kj=t=>{var e=Zt();return(n,r)=>a=>{t==null||t(n,r,a),e(qX())}},Mj=(t,e)=>{var n=Zt();return(r,a)=>s=>{t==null||t(r,a,s),n(HX({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function T6(t){var{tooltipEntrySettings:e}=t,n=Zt(),r=Qr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(zX(e)):a.current!==e&&n(BX({prev:a.current,next:e})),a.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{a.current&&(n(FX(a.current)),a.current=null)},[n]),null}function Ree(t){var{legendPayload:e}=t,n=Zt(),r=Qr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n($4(e)):a.current!==e&&n(q4({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(H4(a.current)),a.current=null)},[n]),null}function Pee(t){var{legendPayload:e}=t,n=Zt(),r=Me(vt),a=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n($4(e)):a.current!==e&&n(q4({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(H4(a.current)),a.current=null)},[n]),null}var Dw,Dee=()=>{var[t]=_.useState(()=>Hf("uid-"));return t},kee=(Dw=H8.useId)!==null&&Dw!==void 0?Dw:Dee;function A6(t,e){var n=kee();return e||(t?"".concat(t,"-").concat(n):n)}var Mee=_.createContext(void 0),C6=t=>{var{id:e,type:n,children:r}=t,a=A6("recharts-".concat(n),e);return _.createElement(Mee.Provider,{value:a},r(a))},Lee={cartesianItems:[],polarItems:[]},I6=Xr({name:"graphicalItems",initialState:Lee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Yt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Yt()},removeCartesianGraphicalItem:{reducer(t,e){var n=oi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Yt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Yt()},removePolarGraphicalItem:{reducer(t,e){var n=oi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Yt()}}}),{addCartesianGraphicalItem:Uee,replaceCartesianGraphicalItem:Vee,removeCartesianGraphicalItem:zee,addPolarGraphicalItem:Bee,removePolarGraphicalItem:Fee}=I6.actions,$ee=I6.reducer,qee=t=>{var e=Zt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Uee(t)):n.current!==t&&e(Vee({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(zee(n.current)),n.current=null)},[e]),null},Hee=_.memo(qee);function Gee(t){var e=Zt();return _.useLayoutEffect(()=>(e(Bee(t)),()=>{e(Fee(t))}),[e,t]),null}var Kee=["key"],Yee=["onMouseEnter","onClick","onMouseLeave"],Wee=["id"],Xee=["id"];function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Qee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qee(t,e,n){return(e=Zee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=Jee(t,"string");return typeof e=="symbol"?e:e+""}function Jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Go.apply(null,arguments)}function j0(t,e){if(t==null)return{};var n,r,a=ete(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ete(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tte(t){var e=_.useMemo(()=>Pj(t.children,Uh),[t.children]),n=Me(r=>cee(r,t.id,e));return n==null?null:_.createElement(Pee,{legendPayload:n})}var nte=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:e,nameKey:n,name:Gy(d,e),hide:f,type:h,color:c,unit:""}};return _.createElement(T6,{tooltipEntrySettings:p})}),rte=(t,e)=>t>e?"start":t<e?"end":"middle",ate=(t,e,n)=>wr(typeof e=="function"?e(t):e,n,n*.8),ite=(t,e,n)=>{var{top:r,left:a,width:s,height:c}=e,d=Z4(s,c),f=a+wr(t.cx,s,s/2),h=r+wr(t.cy,c,c/2),p=wr(t.innerRadius,d,0),g=ate(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},ste=(t,e)=>{var n=tr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function ote(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var lte=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Dt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=j0(e,Kee);return _.createElement(vN,Go({},a,{type:"linear",className:n}))},cte=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var a=Dt("recharts-pie-label-text",ote(t));return _.createElement(w0,Go({},e,{alignmentBaseline:"middle",className:a}),r)};function ute(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!e)return null;var d=li(n),f=qf(a),h=qf(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,N=Pn(x.cx,x.cy,x.outerRadius+p,E),j=un(un(un(un({},d),x),{},{stroke:"none"},f),{},{index:w,textAnchor:rte(N.x,x.cx)},N),A=un(un(un(un({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[Pn(x.cx,x.cy,x.outerRadius,E),N],key:"line"});return _.createElement(mi,{zIndex:fr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},_.createElement(Or,null,s&&lte(s,A),cte(a,j,Wt(x,c))))});return _.createElement(Or,{className:"recharts-pie-labels"},g)}function dte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?_.createElement(b6,{label:a}):_.createElement(ute,{sectors:e,props:n,showLabels:r})}function fte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,c=Me(sc),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=j0(a,Yee),g=Dj(d,a.dataKey),x=kj(h),w=Mj(f,a.dataKey);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((E,N)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var j=String(N)===c,A=c?r:null,U=n&&j?n:A,T=un(un({},E),{},{stroke:E.stroke,tabIndex:-1,[S4]:N,[T4]:a.dataKey});return _.createElement(Or,Go({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},My(p,E,N),{onMouseEnter:g(E,N),onMouseLeave:x(E,N),onClick:w(E,N)}),_.createElement(S6,Go({option:s??U,shapeType:"sector",isActive:j},T)))}))}function hte(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),w=ste(d,f),E=Math.abs(w),N=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,j=r.filter(L=>Wt(L,h,0)!==0).length,A=(E>=360?j:j-1)*N,U=E-j*x-A,T=r.reduce((L,k)=>{var V=Wt(k,h,0);return L+(ke(V)?V:0)},0),M;if(T>0){var P;M=r.map((L,k)=>{var V=Wt(L,h,0),D=Wt(L,p,k),I=ite(n,s,L),R=(ke(V)?V:0)/T,F,B=un(un({},L),a&&a[k]&&a[k].props);k?F=P.endAngle+tr(w)*N*(V!==0?1:0):F=d;var pe=F+tr(w)*((V!==0?x:0)+R*U),le=(F+pe)/2,Y=(I.innerRadius+I.outerRadius)/2,ie=[{name:D,value:V,payload:B,dataKey:h,type:g}],xe=Pn(I.cx,I.cy,Y,le);return P=un(un(un(un({},n.presentationProps),{},{percent:R,cornerRadius:typeof c=="string"?parseFloat(c):c,name:D,tooltipPayload:ie,midAngle:le,middleRadius:Y,tooltipPosition:xe},B),I),{},{value:V,startAngle:F,endAngle:pe,payload:B,paddingAngle:tr(w)*N}),P})}return M}function mte(t){var{showLabels:e,sectors:n,children:r}=t,a=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(KJ,{value:e?a:void 0},r)}function pte(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=a0(e,"recharts-pie-"),w=n.current,[E,N]=_.useState(!1),j=_.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),A=_.useCallback(()=>{typeof p=="function"&&p(),N(!0)},[p]);return _.createElement(mte,{showLabels:!E,sectors:r},_.createElement(r0,{animationId:x,begin:s,duration:c,isActive:a,easing:d,onAnimationStart:A,onAnimationEnd:j,key:x},U=>{var T=[],M=r&&r[0],P=M==null?void 0:M.startAngle;return r==null||r.forEach((L,k)=>{var V=w&&w[k],D=k>0?nc(L,"paddingAngle",0):0;if(V){var I=Un(V.endAngle-V.startAngle,L.endAngle-L.startAngle,U),R=un(un({},L),{},{startAngle:P+D,endAngle:P+I+D});T.push(R),P=R.endAngle}else{var{endAngle:F,startAngle:B}=L,pe=Un(0,F-B,U),le=un(un({},L),{},{startAngle:P+D,endAngle:P+pe+D});T.push(le),P=le.endAngle}}),n.current=T,_.createElement(Or,null,_.createElement(fte,{sectors:T,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),_.createElement(dte,{showLabels:!E,sectors:r,props:e}),e.children)}var gte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!gc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fr.area};function yte(t){var{id:e}=t,n=j0(t,Wee),{hide:r,className:a,rootTabIndex:s}=t,c=_.useMemo(()=>Pj(t.children,Uh),[t.children]),d=Me(p=>uee(p,e,c)),f=_.useRef(null),h=Dt("recharts-pie",a);return r||d==null?(f.current=null,_.createElement(Or,{tabIndex:s,className:h})):_.createElement(mi,{zIndex:t.zIndex},_.createElement(nte,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),_.createElement(Or,{tabIndex:s,className:h},_.createElement(pte,{props:un(un({},n),{},{sectors:d}),previousSectorsRef:f})))}function O6(t){var e=Nr(t,gte),{id:n}=e,r=j0(e,Xee),a=li(r);return _.createElement(C6,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(Gee,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),_.createElement(tte,Go({},r,{id:s})),_.createElement(yte,Go({},r,{id:s}))))}O6.displayName="Pie";function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){vte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vte(t,e,n){return(e=xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=bte(t,"string");return typeof e=="symbol"?e:e+""}function bte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wte={xAxis:{},yAxis:{},zAxis:{}},R6=Xr({name:"cartesianAxis",initialState:wte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Yt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Yt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Yt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Yt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Yt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Yt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Yt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Yt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Yt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var c=[...s,r].slice(-3);t.yAxis[n]=bR(bR({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:_te,replaceXAxis:Nte,removeXAxis:jte,addYAxis:Ete,replaceYAxis:Ste,removeYAxis:Tte,addZAxis:lge,replaceZAxis:cge,removeZAxis:uge,updateYAxisWidth:Ate}=R6.actions,Cte=R6.reducer,Ite=re([Fn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Ote=re([Ite,Gs,Ks],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),P6=()=>Me(Ote),Rte="Invariant failed";function Pte(t,e){throw new Error(Rte)}var Dte=["x","y"];function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ute(t,e){if(t==null)return{};var n,r,a=Vte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zte(t,e){var{x:n,y:r}=t,a=Ute(t,Dte),s="".concat(n),c=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return Sf(Sf(Sf(Sf(Sf({},e),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function ty(t){return _.createElement(S6,i_({shapeType:"rectangle",propTransformer:zte,activeClassName:"recharts-active-bar"},t))}var Bte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(ke(e))return e;var s=ke(r)||nr(r);return s?e(r,a):(s||Pte(),n)}},Fte={},D6=Xr({name:"errorBars",initialState:Fte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:dge,replaceErrorBar:fge,removeErrorBar:hge}=D6.actions,$te=D6.reducer,qte=["children"];function Hte(t,e){if(t==null)return{};var n,r,a=Gte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Yte=_.createContext(Kte);function Wte(t){var{children:e}=t,n=Hte(t,qte);return _.createElement(Yte.Provider,{value:n},e)}function k6(t,e){var n,r,a=Me(h=>Ws(h,t)),s=Me(h=>Xs(h,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Xn.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Qn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function Xte(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=P6(),{needClipX:s,needClipY:c,needClip:d}=k6(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}function Qte(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&vn(t.zIndex)?t.zIndex:e}var kw={exports:{}},Mw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function Zte(){if(_R)return Mw;_R=1;var t=Xu();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Mw.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function j(P){if(!A){if(A=!0,U=P,P=g(P),x!==void 0&&E.hasValue){var L=E.value;if(x(L,P))return T=L}return T=P}if(L=T,n(U,P))return L;var k=g(P);return x!==void 0&&x(L,k)?(U=P,L):(U=P,T=k)}var A=!1,U,T,M=p===void 0?null:p;return[function(){return j(h())},M===null?void 0:function(){return j(M())}]},[h,p,g,x]);var N=r(f,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=N},[N]),d(N),N},Mw}var NR;function Jte(){return NR||(NR=1,kw.exports=Zte()),kw.exports}Jte();function ene(t){t()}function tne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){ene(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var jR={notify(){},get:()=>[]};function nne(t,e){let n,r=jR,a=0,s=!1;function c(N){p();const j=r.subscribe(N);let A=!1;return()=>{A||(A=!0,j(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=tne())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=jR)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const E={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var rne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ane=rne(),ine=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sne=ine(),one=()=>ane||sne?_.useLayoutEffect:_.useEffect,lne=one();function ER(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function cne(t,e){if(ER(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!ER(t[n[a]],e[n[a]]))return!1;return!0}var Lw=Symbol.for("react-redux-context"),Uw=typeof globalThis<"u"?globalThis:{};function une(){if(!_.createContext)return{};const t=Uw[Lw]??(Uw[Lw]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var dne=une();function fne(t){const{children:e,context:n,serverState:r,store:a}=t,s=_.useMemo(()=>{const f=nne(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=_.useMemo(()=>a.getState(),[a]);lne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=n||dne;return _.createElement(d.Provider,{value:s},e)}var hne=fne,mne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function pne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Lj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(mne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!cne(t[r],e[r]))return!1}else if(!pne(t[r],e[r]))return!1;return!0}var gne=["onMouseEnter","onMouseLeave","onClick"],yne=["value","background","tooltipPosition"],vne=["id"],xne=["onMouseEnter","onClick","onMouseLeave"];function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(null,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bne(t,e,n){return(e=wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(t,e){if(t==null)return{};var n,r,a=Nne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Nne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Gy(n,e),payload:t}]},Ene=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:c,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Gy(s,e),hide:c,type:f,color:a,unit:d}};return _.createElement(T6,{tooltipEntrySettings:h})});function Sne(t){var e=Me(sc),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=ny(s,gne),p=Dj(c,r),g=kj(d),x=Mj(f,r);if(!a||n==null)return null;var w=qf(a);return _.createElement(mi,{zIndex:Qte(a,fr.barBackground)},n.map((E,N)=>{var{value:j,background:A,tooltipPosition:U}=E,T=ny(E,yne);if(!A)return null;var M=p(E,N),P=g(E,N),L=x(E,N),k=Tr(Tr(Tr(Tr(Tr({option:a,isActive:String(N)===e},T),{},{fill:"#eee"},A),w),My(h,E,N)),{},{onMouseEnter:M,onMouseLeave:P,onClick:L,dataKey:r,index:N,className:"recharts-bar-background-rectangle"});return _.createElement(ty,zs({key:"background-bar-".concat(N)},k))}))}function Tne(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Tr(Tr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return _.createElement(GJ,{value:e?a:void 0},n)}function Ane(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:c}=t,d=Me(sc),f=Me(X5),h=n&&String(s)===d&&(f==null||c===f),p=h?n:e;return h?_.createElement(mi,{zIndex:fr.activeBar},_.createElement(ty,zs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))):_.createElement(ty,zs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))}function Cne(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return _.createElement(ty,zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function Ine(t){var e,{data:n,props:r}=t,a=(e=li(r))!==null&&e!==void 0?e:{},{id:s}=a,c=ny(a,vne),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,w=ny(r,xne),E=Dj(p,f),N=kj(x),j=Mj(g,f);return n?_.createElement(_.Fragment,null,n.map((A,U)=>_.createElement(Or,zs({key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(U),className:"recharts-bar-rectangle"},My(w,A,U),{onMouseEnter:E(A,U),onMouseLeave:N(A,U),onClick:j(A,U)}),h?_.createElement(Ane,{shape:d,activeBar:h,baseProps:c,entry:A,index:U,dataKey:f}):_.createElement(Cne,{shape:d,baseProps:c,entry:A,index:U,dataKey:f})))):null}function One(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=a0(e,"recharts-bar-"),[w,E]=_.useState(!1),N=!w,j=_.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),A=_.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return _.createElement(Tne,{showLabels:N,rects:r},_.createElement(r0,{animationId:x,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:j,onAnimationStart:A,key:x},U=>{var T=U===1?r:r==null?void 0:r.map((M,P)=>{var L=g&&g[P];if(L)return Tr(Tr({},M),{},{x:Un(L.x,M.x,U),y:Un(L.y,M.y,U),width:Un(L.width,M.width,U),height:Un(L.height,M.height,U)});if(a==="horizontal"){var k=Un(0,M.height,U),V=Un(M.stackedBarStart,M.y,U);return Tr(Tr({},M),{},{y:V,height:k})}var D=Un(0,M.width,U),I=Un(M.stackedBarStart,M.x,U);return Tr(Tr({},M),{},{width:D,x:I})});return U>0&&(n.current=T??null),T==null?null:_.createElement(Or,null,_.createElement(Ine,{props:e,data:T}))}),_.createElement(b6,{label:e.label}),e.children)}function Rne(t){var e=_.useRef(null);return _.createElement(One,{previousRectanglesRef:e,props:t})}var M6=0,Pne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Wt(t,e)}};class Dne extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=Dt("recharts-bar",a),g=h;return _.createElement(Or,{className:p,id:h},d&&_.createElement("defs",null,_.createElement(Xte,{clipPathId:g,xAxisId:s,yAxisId:c})),_.createElement(Or,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},_.createElement(Sne,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(Rne,this.props)))}}var kne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:M6,xAxisId:0,yAxisId:0,zIndex:fr.bar};function Mne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=k6(e,n),x=Zy(),w=Qr(),E=Pj(t.children,Uh),N=Me(U=>ure(U,e,n,w,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var j,A=N==null?void 0:N[0];return A==null||A.height==null||A.width==null?j=0:j=x==="vertical"?A.height/2:A.width/2,_.createElement(Wte,{xAxisId:e,yAxisId:n,data:N,dataPointFormatter:Pne,errorBarOffset:j},_.createElement(Dne,zs({},t,{layout:x,needClip:g,data:N,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Lne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:w,parentViewBox:E,dataStartIndex:N}=t,j=e==="horizontal"?d:c,A=p?j.scale.domain():null,U=Rq({numericAxis:j}),T=j.scale(U);return g.map((M,P)=>{var L,k,V,D,I,R;p?L=Sq(p[P+N],A):(L=Wt(M,n),Array.isArray(L)||(L=[U,L]));var F=Bte(r,M6)(L[1],P);if(e==="horizontal"){var B,[pe,le]=[d.scale(L[0]),d.scale(L[1])];k=KC({axis:c,ticks:f,bandSize:s,offset:a.offset,entry:M,index:P}),V=(B=le??pe)!==null&&B!==void 0?B:void 0,D=a.size;var Y=pe-le;if(I=ci(Y)?0:Y,R={x:k,y:x.top,width:D,height:x.height},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var ie=tr(I||F)*(Math.abs(F)-Math.abs(I));V-=ie,I+=ie}}else{var[xe,Z]=[c.scale(L[0]),c.scale(L[1])];if(k=xe,V=KC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:M,index:P}),D=Z-xe,I=a.size,R={x:x.left,y:V,width:x.width,height:I},Math.abs(F)>0&&Math.abs(D)<Math.abs(F)){var X=tr(D||F)*(Math.abs(F)-Math.abs(D));D+=X}}if(k==null||V==null||D==null||I==null)return null;var q=Tr(Tr({},M),{},{stackedBarStart:T,x:k,y:V,width:D,height:I,value:p?L:L[1],payload:M,background:R,tooltipPosition:{x:k+D/2,y:V+I/2},parentViewBox:E},w&&w[P]&&w[P].props);return q}).filter(Boolean)}function Une(t){var e=Nr(t,kne),n=Qr();return _.createElement(C6,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(Ree,{legendPayload:jne(e)}),_.createElement(Ene,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),_.createElement(Hee,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Oq(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(mi,{zIndex:e.zIndex},_.createElement(Mne,zs({},e,{id:r})))))}var L6=_.memo(Une,Lj);L6.displayName="Bar";function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vne(t,e,n){return(e=zne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=Bne(t,"string");return typeof e=="symbol"?e:e+""}function Bne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fne=(t,e)=>e,$ne=(t,e,n)=>n,qne=(t,e,n,r)=>r,Hne=(t,e,n,r,a)=>a,Vh=re([tj,Hne],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Gne=re([Vh],t=>t==null?void 0:t.maxBarSize),Kne=(t,e,n,r,a,s)=>s,AR=(t,e,n)=>{var r=n??t;if(!nr(r))return wr(r,e,0)},Yne=re([vt,tj,Fne,$ne,qne],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Wne=(t,e,n,r)=>{var a=vt(t);return a==="horizontal"?Z1(t,"yAxis",n,r):Z1(t,"xAxis",e,r)},Xne=(t,e,n)=>{var r=vt(t);return r==="horizontal"?jO(t,"xAxis",e):jO(t,"yAxis",n)},Qne=(t,e,n)=>{var r={},a=t.filter(h0),s=t.filter(h=>h.stackId==null),c=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(c).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),w=AR(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=AR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},Zne=re([Yne,PW,Xne],Qne),Jne=(t,e,n,r,a)=>{var s,c,d=Vh(t,e,n,r,a);if(d!=null){var f=vt(t),h=QM(t),{maxBarSize:p}=d,g=nr(p)?h:p,x,w;return f==="horizontal"?(x=Fu(t,"xAxis",e,r),w=Bu(t,"xAxis",e,r)):(x=Fu(t,"yAxis",n,r),w=Bu(t,"yAxis",n,r)),(s=(c=Cg(x,w,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},U6=(t,e,n,r)=>{var a=vt(t),s,c;return a==="horizontal"?(s=Fu(t,"xAxis",e,r),c=Bu(t,"xAxis",e,r)):(s=Fu(t,"yAxis",n,r),c=Bu(t,"yAxis",n,r)),Cg(s,c)};function ere(t,e,n,r,a){var s=r.length;if(!(s<1)){var c=wr(t,n,0,!0),d,f=[];if(vn(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((A,U)=>A+(U.barSize||0),0);g+=(s-1)*c,g>=n&&(g-=(s-1)*c,c=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,w={offset:x-c,size:0};d=r.reduce((A,U)=>{var T,M={stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:w.offset+w.size+c,size:h?p:(T=U.barSize)!==null&&T!==void 0?T:0}},P=[...A,M];return w=P[P.length-1].position,P},f)}else{var E=wr(e,n,0,!0);n-2*E-(s-1)*c<=0&&(c=0);var N=(n-2*E-(s-1)*c)/s;N>1&&(N>>=0);var j=vn(a)?Math.min(N,a):N;d=r.reduce((A,U,T)=>[...A,{stackId:U.stackId,dataKeys:U.dataKeys,position:{offset:E+(N+c)*T+(N-j)/2,size:j}}],f)}return d}}var tre=(t,e,n,r,a,s,c)=>{var d=nr(c)?e:c,f=ere(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>Vp(Vp({},h),{},{position:Vp(Vp({},h.position),{},{offset:h.position.offset-a/2})}))),f},nre=re([Zne,QM,RW,ZM,Jne,U6,Gne],tre),rre=(t,e,n,r)=>Fu(t,"xAxis",e,r),are=(t,e,n,r)=>Fu(t,"yAxis",n,r),ire=(t,e,n,r)=>Bu(t,"xAxis",e,r),sre=(t,e,n,r)=>Bu(t,"yAxis",n,r),ore=re([nre,Vh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),lre=(t,e)=>{var n=ZN(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(c=>c.key===n)}}}},cre=re([Wne,Vh],lre),ure=re([Fn,mN,rre,are,ire,sre,ore,vt,$N,U6,cre,Vh,Kne],(t,e,n,r,a,s,c,d,f,h,p,g,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:N}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:j}=g,A;if(j!=null&&j.length>0?A=j:A=w==null?void 0:w.slice(E,N+1),A!=null)return Lne({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:A,offset:t,cells:x,dataStartIndex:E})}}),V6=t=>{var{chartData:e}=t,n=Zt(),r=Qr();return _.useEffect(()=>r?()=>{}:(n(LO(e)),()=>{n(LO(void 0))}),[e,n,r]),null},CR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},z6=Xr({name:"brush",initialState:CR,reducers:{setBrushSettings(t,e){return e.payload==null?CR:e.payload}}}),{setBrushSettings:mge}=z6.actions,dre=z6.reducer;function fre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Uj{static create(e){return new Uj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}fre(Uj,"EPS",1e-4);function pre(t){return(t%180+180)%180}var gre=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=pre(a),c=s*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},yre={dots:[],areas:[],lines:[]},B6=Xr({name:"referenceElements",initialState:yre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=oi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=oi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=oi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:pge,removeDot:gge,addArea:yge,removeArea:vge,addLine:xge,removeLine:bge}=B6.actions,vre=B6.reducer,xre=_.createContext(void 0),bre=t=>{var{children:e}=t,[n]=_.useState("".concat(Hf("recharts"),"-clip")),r=P6();if(r==null)return null;var{x:a,y:s,width:c,height:d}=r;return _.createElement(xre.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:a,y:s,height:d,width:c}))),e)};function F6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function wre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return gre(r,n)}function _re(t,e,n){var r=n==="width",{x:a,y:s,width:c,height:d}=t;return e===1?{start:r?a:s,end:r?a+c:s+d}:{start:r?a+c:s+d,end:r?a:s}}function ry(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function Nre(t,e){return F6(t,e+1)}function jre(t,e,n,r,a){for(var s=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:F6(r,h)};var N=f,j,A=()=>(j===void 0&&(j=n(E,N)),j),U=E.coordinate,T=f===0||ry(t,U,A,p,d);T||(f=0,p=c,h+=1),T&&(p=U+t*(A()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){Ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ere(t,e,n){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Tre(t,"string");return typeof e=="symbol"?e:e+""}function Tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t,e,n,r,a){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,h=function(x){var w=s[x],E,N=()=>(E===void 0&&(E=n(w,x)),E);if(x===c-1){var j=t*(w.coordinate+t*N()/2-f);s[x]=w=yr(yr({},w),{},{tickCoord:j>0?w.coordinate-j*t:w.coordinate})}else s[x]=w=yr(yr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var A=ry(t,w.tickCoord,N,d,f);A&&(f=w.tickCoord-t*(N()/2+a),s[x]=yr(yr({},w),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function Cre(t,e,n,r,a,s){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=yr(yr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var w=ry(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+a),c[d-1]=yr(yr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,N=function(U){var T=c[U],M,P=()=>(M===void 0&&(M=n(T,U)),M);if(U===0){var L=t*(T.coordinate-t*P()/2-f);c[U]=T=yr(yr({},T),{},{tickCoord:L<0?T.coordinate-L*t:T.coordinate})}else c[U]=T=yr(yr({},T),{},{tickCoord:T.coordinate});if(T.tickCoord!=null){var k=ry(t,T.tickCoord,P,f,h);k&&(f=T.tickCoord+t*(P()/2+a),c[U]=yr(yr({},T),{},{isShow:!0}))}},j=0;j<E;j++)N(j);return c}function Vj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(ke(f)||gc.isSsr){var x;return(x=Nre(a,ke(f)?f:0))!==null&&x!==void 0?x:[]}var w=[],E=d==="top"||d==="bottom"?"width":"height",N=p&&E==="width"?kf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},j=(T,M)=>{var P=typeof h=="function"?h(T.value,M):T.value;return E==="width"?wre(kf(P,{fontSize:e,letterSpacing:n}),N,g):kf(P,{fontSize:e,letterSpacing:n})[E]},A=a.length>=2?tr(a[1].coordinate-a[0].coordinate):1,U=_re(s,A,E);return f==="equidistantPreserveStart"?jre(A,U,j,a,c):(f==="preserveStart"||f==="preserveStartEnd"?w=Cre(A,U,j,a,c,f==="preserveStartEnd"):w=Are(A,U,j,a,c),w.filter(T=>T.isShow))}var Ire=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=c+f+d+(n?r:0);return Math.round(h)}return 0},Ore=["axisLine","width","height","className","hide","ticks","axisType"];function Rre(t,e){if(t==null)return{};var n,r,a=Pre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(null,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){Dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dre(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fr.axis};function Lre(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=On(On(On({},f),li(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=On(On({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=On(On({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return _.createElement("line",oc({},h,{className:Dt("recharts-cartesian-axis-line",nc(d,"className"))}))}function Ure(t,e,n,r,a,s,c,d,f){var h,p,g,x,w,E,N=d?-1:1,j=t.tickSize||c,A=ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-N*j,E=g-N*f,w=A;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-N*j,w=h-N*f,E=A;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+N*j,w=h+N*f,E=A;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+N*j,E=g+N*f,w=A;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:w,y:E}}}function Vre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function zre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Bre(t){var{option:e,tickProps:n,value:r}=t,a,s=Dt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))a=_.cloneElement(e,On(On({},n),{},{className:s}));else if(typeof e=="function")a=e(On(On({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Dt(c,e==null?void 0:e.className)),a=_.createElement(w0,oc({},n,{className:c}),r)}return a}var Fre=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:w,width:E,height:N,tickSize:j,tickMargin:A,fontSize:U,letterSpacing:T,getTicksConfig:M,events:P,axisType:L}=t,k=Vj(On(On({},M),{},{ticks:n}),U,T),V=Vre(p,g),D=zre(p,g),I=li(M),R=qf(r),F={};typeof a=="object"&&(F=a);var B=On(On({},I),{},{fill:"none"},F),pe=k.map(ie=>On({entry:ie},Ure(ie,x,w,E,N,p,j,g,A))),le=pe.map(ie=>{var{entry:xe,line:Z}=ie;return _.createElement(Or,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},a&&_.createElement("line",oc({},B,Z,{className:Dt("recharts-cartesian-axis-tick-line",nc(a,"className"))})))}),Y=pe.map((ie,xe)=>{var{entry:Z,tick:X}=ie,q=On(On(On(On({textAnchor:V,verticalAnchor:D},I),{},{stroke:"none",fill:s},R),X),{},{index:xe,payload:Z,visibleTicksCount:k.length,tickFormatter:c,padding:f},h);return _.createElement(Or,oc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},My(P,Z,xe)),r&&_.createElement(Bre,{option:r,tickProps:q,value:"".concat(typeof c=="function"?c(Z.value,xe):Z.value).concat(d||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},Y.length>0&&_.createElement(mi,{zIndex:fr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},Y)),le.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},le))}),$re=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:c,ticks:d,axisType:f}=t,h=Rre(t,Ore),[p,g]=_.useState(""),[x,w]=_.useState(""),E=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return Ire({ticks:E.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var N=_.useCallback(j=>{if(j){var A=j.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=A;var U=A[0];if(U){var T=window.getComputedStyle(U),M=T.fontSize,P=T.letterSpacing;(M!==p||P!==x)&&(g(M),w(P))}}},[p,x]);return c||r!=null&&r<=0||a!=null&&a<=0?null:_.createElement(mi,{zIndex:t.zIndex},_.createElement(Or,{className:Dt("recharts-cartesian-axis",s)},_.createElement(Lre,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:li(t)}),_.createElement(Fre,{ref:N,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(EJ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(kJ,{label:t.label,labelRef:t.labelRef}),t.children)))}),zj=_.forwardRef((t,e)=>{var n=Nr(t,Os);return _.createElement($re,oc({},n,{ref:e}))});zj.displayName="CartesianAxis";var qre=["x1","y1","x2","y2","key"],Hre=["offset"],Gre=["xAxisId","yAxisId"],Kre=["xAxisId","yAxisId"];function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return(e=Wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=Xre(t,"string");return typeof e=="symbol"?e:e+""}function Xre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(null,arguments)}function ay(t,e){if(t==null)return{};var n,r,a=Qre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zre=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:c,ry:d}=t;return _.createElement("rect",{x:r,y:a,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $6(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:c,x2:d,y2:f,key:h}=n,p=ay(n,qre),g=(a=li(p))!==null&&a!==void 0?a:{},{offset:x}=g,w=ay(g,Hre);r=_.createElement("line",Gl({},w,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function Jre(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=ay(t,Gre),f=a.map((h,p)=>{var g=xr(xr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return _.createElement($6,{key:"line-".concat(p),option:r,lineItemProps:g})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function eae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=ay(t,Kre),f=a.map((h,p)=>{var g=xr(xr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return _.createElement($6,{option:r,lineItemProps:g,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function tae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var N=x%e.length;return _.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:s,stroke:"none",fill:e[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function nae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var N=x%n.length;return _.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:E,height:d,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var rae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return N4(Vj(xr(xr(xr({},Os),n),{},{ticks:j4(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},aae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return N4(Vj(xr(xr(xr({},Os),n),{},{ticks:j4(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},iae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fr.grid};function q6(t){var e=D4(),n=k4(),r=P4(),a=xr(xr({},Nr(t,iae)),{},{x:ke(t.x)?t.x:r.left,y:ke(t.y)?t.y:r.top,width:ke(t.width)?t.width:r.width,height:ke(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:w}=a,E=Qr(),N=Me(D=>EO(D,"xAxis",s,E)),j=Me(D=>EO(D,"yAxis",c,E));if(!Ki(h)||!Ki(p)||!ke(d)||!ke(f))return null;var A=a.verticalCoordinatesGenerator||rae,U=a.horizontalCoordinatesGenerator||aae,{horizontalPoints:T,verticalPoints:M}=a;if((!T||!T.length)&&typeof U=="function"){var P=x&&x.length,L=U({yAxis:j?xr(xr({},j),{},{ticks:P?x:j.ticks}):void 0,width:e??h,height:n??p,offset:r},P?!0:g);Ig(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(T=L)}if((!M||!M.length)&&typeof A=="function"){var k=w&&w.length,V=A({xAxis:N?xr(xr({},N),{},{ticks:k?w:N.ticks}):void 0,width:e??h,height:n??p,offset:r},k?!0:g);Ig(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(M=V)}return _.createElement(mi,{zIndex:a.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(Zre,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),_.createElement(tae,Gl({},a,{horizontalPoints:T})),_.createElement(nae,Gl({},a,{verticalPoints:M})),_.createElement(Jre,Gl({},a,{offset:r,horizontalPoints:T,xAxis:N,yAxis:j})),_.createElement(eae,Gl({},a,{offset:r,verticalPoints:M,xAxis:N,yAxis:j}))))}q6.displayName="CartesianGrid";var sae=["domain","range"],oae=["domain","range"];function PR(t,e){if(t==null)return{};var n,r,a=lae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function DR(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function H6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=PR(t,sae),{domain:s,range:c}=e,d=PR(e,oae);return!DR(n,s)||!DR(r,c)?!1:Lj(a,d)}var cae=["dangerouslySetInnerHTML","ticks"],uae=["id"];function s_(){return s_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s_.apply(null,arguments)}function kR(t,e){if(t==null)return{};var n,r,a=dae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fae(t){var e=Zt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(_te(t)):n.current!==t&&e(Nte({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(jte(n.current)),n.current=null)},[e]),null}var hae=t=>{var{xAxisId:e,className:n}=t,r=Me(mN),a=Qr(),s="xAxis",c=Me(j=>id(j,s,e,a)),d=Me(j=>I5(j,s,e,a)),f=Me(j=>S5(j,e)),h=Me(j=>IX(j,e)),p=Me(j=>o5(j,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,w=kR(t,cae),{id:E}=p,N=kR(p,uae);return _.createElement(zj,s_({},w,N,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:Dt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},mae={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:Xn.allowDecimals,allowDuplicatedCategory:Xn.allowDuplicatedCategory,angle:Xn.angle,axisLine:Os.axisLine,height:Xn.height,hide:!1,includeHidden:Xn.includeHidden,interval:Xn.interval,minTickGap:Xn.minTickGap,mirror:Xn.mirror,orientation:Xn.orientation,padding:Xn.padding,reversed:Xn.reversed,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Xn.type,xAxisId:0},pae=t=>{var e=Nr(t,mae);return _.createElement(_.Fragment,null,_.createElement(fae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(hae,e))},G6=_.memo(pae,H6);G6.displayName="XAxis";var gae=["dangerouslySetInnerHTML","ticks"],yae=["id"];function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(null,arguments)}function MR(t,e){if(t==null)return{};var n,r,a=vae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xae(t){var e=Zt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Ete(t)):n.current!==t&&e(Ste({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Tte(n.current)),n.current=null)},[e]),null}var bae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=_.useRef(null),c=_.useRef(null),d=Me(mN),f=Qr(),h=Zt(),p="yAxis",g=Me(P=>id(P,p,e,f)),x=Me(P=>T5(P,e)),w=Me(P=>RX(P,e)),E=Me(P=>I5(P,p,e,f)),N=Me(P=>l5(P,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Ij(a)||_.isValidElement(a)||N==null)){var P=s.current;if(P){var L=P.getCalculatedWidth();Math.round(x.width)!==Math.round(L)&&h(Ate({id:e,width:L}))}}},[E,x,h,a,e,r,N]),x==null||w==null||N==null)return null;var{dangerouslySetInnerHTML:j,ticks:A}=t,U=MR(t,gae),{id:T}=N,M=MR(N,yae);return _.createElement(zj,o_({},U,M,{ref:s,labelRef:c,scale:g,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Dt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},wae={allowDataOverflow:Qn.allowDataOverflow,allowDecimals:Qn.allowDecimals,allowDuplicatedCategory:Qn.allowDuplicatedCategory,angle:Qn.angle,axisLine:Os.axisLine,hide:!1,includeHidden:Qn.includeHidden,interval:Qn.interval,minTickGap:Qn.minTickGap,mirror:Qn.mirror,orientation:Qn.orientation,padding:Qn.padding,reversed:Qn.reversed,scale:Qn.scale,tick:Qn.tick,tickCount:Qn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Qn.type,width:Qn.width,yAxisId:0},_ae=t=>{var e=Nr(t,wae);return _.createElement(_.Fragment,null,_.createElement(xae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(bae,e))},K6=_.memo(_ae,H6);K6.displayName="YAxis";var Nae=(t,e)=>e,Bj=re([Nae,vt,i5,qn,G5,Qs,GQ,Fn],JQ),Fj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Y6=Ma("mouseClick"),W6=_h();W6.startListening({actionCreator:Y6,effect:(t,e)=>{var n=t.payload,r=Bj(e.getState(),Fj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(GX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var l_=Ma("mouseMove"),X6=_h(),zp=null;X6.startListening({actionCreator:l_,effect:(t,e)=>{var n=t.payload;zp!==null&&cancelAnimationFrame(zp);var r=Fj(n);zp=requestAnimationFrame(()=>{var a=e.getState(),s=bj(a,a.tooltip.settings.shared);if(s==="axis"){var c=Bj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch(U5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(L5())}zp=null})}});var LR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Q6=Xr({name:"rootProps",initialState:LR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:LR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),jae=Q6.reducer,{updateOptions:Eae}=Q6.actions,Z6=Xr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Sae}=Z6.actions,Tae=Z6.reducer,J6=Ma("keyDown"),e3=Ma("focus"),$j=_h();$j.startListening({actionCreator:J6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=wj(a,od(n),Ph(n),Lh(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Qs(n);if(s==="Enter"){var h=Qg(n,"axis","hover",String(a.index));e.dispatch(e_({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=MX(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=d+x*g;if(!(f==null||w>=f.length||w<0)){var E=Qg(n,"axis","hover",String(w));e.dispatch(e_({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});$j.startListening({actionCreator:e3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=Qg(n,"axis","hover",String(s));e.dispatch(e_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Oa=Ma("externalEvent"),t3=_h(),Vw=new Map;t3.startListening({actionCreator:Oa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=Vw.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:OQ(d),activeDataKey:X5(d),activeIndex:sc(d),activeLabel:W5(d),activeTooltipIndex:sc(d),isTooltipActive:RQ(d)};n(f,r)}finally{Vw.delete(a)}});Vw.set(a,c)}}});var Aae=re([sd],t=>t.tooltipItemPayloads),Cae=re([Aae,kh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var c=e(s,n);return c}}}),n3=Ma("touchMove"),r3=_h();r3.startListening({actionCreator:n3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=bj(r,r.tooltip.settings.shared);if(a==="axis"){var s=Bj(r,Fj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(U5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(S4),p=(c=f.getAttribute(T4))!==null&&c!==void 0?c:void 0,g=Cae(e.getState(),h,p);e.dispatch(M5({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Iae=Yk({brush:dre,cartesianAxis:Cte,chartData:IZ,errorBars:$te,graphicalItems:$ee,layout:bq,legend:SH,options:EZ,polarAxis:ree,polarOptions:Tae,referenceElements:vre,rootProps:jae,tooltip:KX,zIndex:hZ}),Oae=function(e){return H$({reducer:Iae,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([W6.middleware,X6.middleware,$j.middleware,t3.middleware,r3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(c4({type:"raf"}))},devTools:gc.devToolsEnabled})};function a3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Qr(),s=_.useRef(null);if(a)return n;s.current==null&&(s.current=Oae(e));var c=iN;return _.createElement(hne,{context:c,store:s.current},n)}function Rae(t){var{layout:e,margin:n}=t,r=Zt(),a=Qr();return _.useEffect(()=>{a||(r(yq(e)),r(gq(n)))},[r,a,e,n]),null}var i3=_.memo(Rae,Lj);function s3(t){var e=Zt();return _.useEffect(()=>{e(Eae(t))},[e,t]),null}function UR(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=A6("".concat(r).concat(e)),s=Zt();return _.useLayoutEffect(()=>(s(dZ({zIndex:e,elementId:a,isPanorama:n})),()=>{s(fZ({zIndex:e,isPanorama:n}))}),[s,e,a,n]),_.createElement("g",{id:a})}function VR(t){var{children:e,isPanorama:n}=t,r=Me(tZ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),s=r.filter(c=>c>0);return _.createElement(_.Fragment,null,a.map(c=>_.createElement(UR,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>_.createElement(UR,{key:c,zIndex:c,isPanorama:n})))}var Pae=["children"];function Dae(t,e){if(t==null)return{};var n,r,a=kae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(null,arguments)}var Mae={width:"100%",height:"100%",display:"block"},Lae=_.forwardRef((t,e)=>{var n=D4(),r=k4(),a=G4();if(!Ki(n)||!Ki(r))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),_.createElement(fk,iy({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Mae,ref:e}),s)}),Uae=t=>{var{children:e}=t,n=Me(Xy);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return _.createElement(fk,{width:r,height:a,x:c,y:s},e)},zR=_.forwardRef((t,e)=>{var{children:n}=t,r=Dae(t,Pae),a=Qr();return a?_.createElement(Uae,null,_.createElement(VR,{isPanorama:!0},n)):_.createElement(Lae,iy({ref:e},r),_.createElement(VR,{isPanorama:!1},n))});function Vae(){var t=Zt(),[e,n]=_.useState(null),r=Me(Uq);return _.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;vn(s)&&s!==r&&t(xq(s))}},[e,t,r]),n}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bae(t,e,n){return(e=Fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}var qae=()=>(VZ(),null);function sy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Hae=_.forwardRef((t,e)=>{var n,r,a=_.useRef(null),[s,c]=_.useState({containerWidth:sy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:sy((r=t.style)===null||r===void 0?void 0:r.height)}),d=_.useCallback((h,p)=>{c(g=>{var x=Math.round(h),w=Math.round(p);return g.containerWidth===x&&g.containerHeight===w?g:{containerWidth:x,containerHeight:w}})},[]),f=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:N,height:j}=E[0].contentRect;d(N,j)},w=new ResizeObserver(x);w.observe(h),a.current=w}},[e,d]);return _.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),_.createElement(_.Fragment,null,_.createElement(Jy,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",lc({ref:f},t)))}),Gae=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=_.useState({containerWidth:sy(n),containerHeight:sy(r)}),c=_.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=_.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return _.createElement(_.Fragment,null,_.createElement(Jy,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",lc({ref:d},t)))}),Kae=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(Jy,{width:n,height:r}),_.createElement("div",lc({ref:e},t)))}),Yae=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ds(n)||Ds(r)?_.createElement(Gae,lc({},t,{ref:e})):_.createElement(Kae,lc({},t,{ref:e}))});function Wae(t){return t===!0?Hae:Yae}var Xae=_.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:N,style:j,width:A,responsive:U,dispatchTouchEvents:T=!0}=t,M=_.useRef(null),P=Zt(),[L,k]=_.useState(null),[V,D]=_.useState(null),I=Vae(),R=pN(),F=(R==null?void 0:R.width)>0?R.width:A,B=(R==null?void 0:R.height)>0?R.height:a,pe=_.useCallback(ce=>{I(ce),typeof e=="function"&&e(ce),k(ce),D(ce),ce!=null&&(M.current=ce)},[I,e,k,D]),le=_.useCallback(ce=>{P(Y6(ce)),P(Oa({handler:s,reactEvent:ce}))},[P,s]),Y=_.useCallback(ce=>{P(l_(ce)),P(Oa({handler:h,reactEvent:ce}))},[P,h]),ie=_.useCallback(ce=>{P(L5()),P(Oa({handler:p,reactEvent:ce}))},[P,p]),xe=_.useCallback(ce=>{P(l_(ce)),P(Oa({handler:g,reactEvent:ce}))},[P,g]),Z=_.useCallback(()=>{P(e3())},[P]),X=_.useCallback(ce=>{P(J6(ce.key))},[P]),q=_.useCallback(ce=>{P(Oa({handler:c,reactEvent:ce}))},[P,c]),K=_.useCallback(ce=>{P(Oa({handler:d,reactEvent:ce}))},[P,d]),H=_.useCallback(ce=>{P(Oa({handler:f,reactEvent:ce}))},[P,f]),Q=_.useCallback(ce=>{P(Oa({handler:x,reactEvent:ce}))},[P,x]),ue=_.useCallback(ce=>{P(Oa({handler:N,reactEvent:ce}))},[P,N]),_e=_.useCallback(ce=>{T&&P(n3(ce)),P(Oa({handler:E,reactEvent:ce}))},[P,T,E]),Ae=_.useCallback(ce=>{P(Oa({handler:w,reactEvent:ce}))},[P,w]),He=Wae(U);return _.createElement(r6.Provider,{value:L},_.createElement(jB.Provider,{value:V},_.createElement(He,{width:F??(j==null?void 0:j.width),height:B??(j==null?void 0:j.height),className:Dt("recharts-wrapper",r),style:zae({position:"relative",cursor:"default",width:F,height:B},j),onClick:le,onContextMenu:q,onDoubleClick:K,onFocus:Z,onKeyDown:X,onMouseDown:H,onMouseEnter:Y,onMouseLeave:ie,onMouseMove:xe,onMouseUp:Q,onTouchEnd:Ae,onTouchMove:_e,onTouchStart:ue,ref:pe},_.createElement(qae,null),n)))}),Qae=["width","height","responsive","children","className","style","compact","title","desc"];function Zae(t,e){if(t==null)return{};var n,r,a=Jae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var o3=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:c,style:d,compact:f,title:h,desc:p}=t,g=Zae(t,Qae),x=li(g);return f?_.createElement(_.Fragment,null,_.createElement(Jy,{width:n,height:r}),_.createElement(zR,{otherAttributes:x,title:h,desc:p},s)):_.createElement(Xae,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(zR,{otherAttributes:x,title:h,desc:p,ref:e},_.createElement(bre,null,s)))});function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}var eie={top:5,right:5,bottom:5,left:5},tie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:eie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},nie=_.forwardRef(function(e,n){var r,a=Nr(e.categoricalChartProps,tie),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(a3,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(V6,{chartData:h.data}),_.createElement(i3,{layout:a.layout,margin:a.margin}),_.createElement(s3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(o3,c_({},a,{ref:n})))}),rie=["axis","item"],aie=_.forwardRef((t,e)=>_.createElement(nie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rie,tooltipPayloadSearcher:a6,categoricalChartProps:t,ref:e}));function iie(t){var e=Zt();return _.useEffect(()=>{e(Sae(t))},[e,t]),null}var sie=["layout"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(null,arguments)}function oie(t,e){if(t==null)return{};var n,r,a=lie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cie={top:5,right:5,bottom:5,left:5},uie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},die=_.forwardRef(function(e,n){var r,a=Nr(e.categoricalChartProps,uie),{layout:s}=a,c=oie(a,sie),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(a3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},_.createElement(V6,{chartData:a.data}),_.createElement(i3,{layout:s,margin:a.margin}),_.createElement(s3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(iie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),_.createElement(o3,u_({},c,{ref:n})))}),fie=["item"],hie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},mie=_.forwardRef((t,e)=>{var n=Nr(t,hie);return _.createElement(die,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fie,tooltipPayloadSearcher:a6,categoricalChartProps:n,ref:e})});const Ra=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),l.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:l.jsx(n,{className:"w-6 h-6"})})]})},pie=()=>{};var FR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},gie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},c3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let x=(d&15)<<2|h>>6,w=h&63;f||(w=64,c||(x=64)),r.push(n[p],n[g],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new yie;const x=s<<2|d>>4;if(r.push(x),h!==64){const w=d<<4&240|h>>2;if(r.push(w),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vie=function(t){const e=l3(t);return c3.encodeByteArray(e,!0)},oy=function(t){return vie(t).replace(/\./g,"")},u3=function(t){try{return c3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie=()=>xie().__FIREBASE_DEFAULTS__,wie=()=>{if(typeof process>"u"||typeof FR>"u")return;const t=FR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_ie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&u3(t[1]);return e&&JSON.parse(e)},E0=()=>{try{return pie()||bie()||wie()||_ie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d3=t=>{var e,n;return(n=(e=E0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},f3=t=>{const e=d3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},h3=()=>{var t;return(t=E0())==null?void 0:t.config},m3=t=>{var e;return(e=E0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[oy(JSON.stringify(n)),oy(JSON.stringify(c)),""].join(".")}const Mf={};function jie(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mf))Mf[e]?t.emulator.push(e):t.prod.push(e);return t}function Eie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $R=!1;function Hj(t,e){if(typeof window>"u"||typeof document>"u"||!xc(window.location.host)||Mf[t]===e||Mf[t]||$R)return;Mf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=jie().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{$R=!0,c()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=Eie(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),N=n("learnmore"),j=document.getElementById(N)||document.createElement("a"),A=n("preprendIcon"),U=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const T=x.element;d(T),p(j,N);const M=h();f(U,A),T.append(U,E,j,M),document.body.appendChild(T)}s?(E.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function Tie(){var e;const t=(e=E0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Aie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iie(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Oie(){return!Tie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y3(){try{return typeof indexedDB=="object"}catch{return!1}}function v3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function Rie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie="FirebaseError";class za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Pie,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?Die(s,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new za(a,d,r)}}function Die(t,e){return t.replace(kie,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const kie=/\{\$([^}]+)}/g;function Mie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ko(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],c=e[a];if(qR(s)&&qR(c)){if(!Ko(s,c))return!1}else if(s!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function qR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lie(t,e){const n=new Uie(t,e);return n.subscribe.bind(n)}class Uie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Vie(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=zw),a.error===void 0&&(a.error=zw),a.complete===void 0&&(a.complete=zw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zie=1e3,Bie=2,Fie=14400*1e3,$ie=.5;function HR(t,e=zie,n=Bie){const r=e*Math.pow(n,t),a=Math.round($ie*r*(Math.random()-.5)*2);return Math.min(Fie,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gie(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hie(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hie(t){return t===$l?void 0:t}function Gie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const Yie={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},Wie=lt.INFO,Xie={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Qie=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=Xie[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S0{constructor(e){this.name=e,this._logLevel=Wie,this._logHandler=Qie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Zie=(t,e)=>e.some(n=>t instanceof n);let GR,KR;function Jie(){return GR||(GR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ese(){return KR||(KR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x3=new WeakMap,d_=new WeakMap,b3=new WeakMap,Bw=new WeakMap,Gj=new WeakMap;function tse(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(zo(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&x3.set(n,t)}).catch(()=>{}),Gj.set(e,t),e}function nse(t){if(d_.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});d_.set(t,e)}let f_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||b3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rse(t){f_=t(f_)}function ase(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fw(this),e,...n);return b3.set(r,e.sort?e.sort():[e]),zo(r)}:ese().includes(t)?function(...e){return t.apply(Fw(this),e),zo(x3.get(this))}:function(...e){return zo(t.apply(Fw(this),e))}}function ise(t){return typeof t=="function"?ase(t):(t instanceof IDBTransaction&&nse(t),Zie(t,Jie())?new Proxy(t,f_):t)}function zo(t){if(t instanceof IDBRequest)return tse(t);if(Bw.has(t))return Bw.get(t);const e=ise(t);return e!==t&&(Bw.set(t,e),Gj.set(e,t)),e}const Fw=t=>Gj.get(t);function w3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),d=zo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(zo(c.result),f.oldVersion,f.newVersion,zo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const sse=["get","getKey","getAll","getAllKeys","count"],ose=["put","add","delete","clear"],$w=new Map;function YR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($w.get(e))return $w.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=ose.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||sse.includes(n)))return;const s=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return $w.set(e,s),s}rse(t=>({...t,get:(e,n,r)=>YR(e,n)||t.get(e,n,r),has:(e,n)=>!!YR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h_="@firebase/app",WR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new S0("@firebase/app"),use="@firebase/app-compat",dse="@firebase/analytics-compat",fse="@firebase/analytics",hse="@firebase/app-check-compat",mse="@firebase/app-check",pse="@firebase/auth",gse="@firebase/auth-compat",yse="@firebase/database",vse="@firebase/data-connect",xse="@firebase/database-compat",bse="@firebase/functions",wse="@firebase/functions-compat",_se="@firebase/installations",Nse="@firebase/installations-compat",jse="@firebase/messaging",Ese="@firebase/messaging-compat",Sse="@firebase/performance",Tse="@firebase/performance-compat",Ase="@firebase/remote-config",Cse="@firebase/remote-config-compat",Ise="@firebase/storage",Ose="@firebase/storage-compat",Rse="@firebase/firestore",Pse="@firebase/ai",Dse="@firebase/firestore-compat",kse="firebase",Mse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="[DEFAULT]",Lse={[h_]:"fire-core",[use]:"fire-core-compat",[fse]:"fire-analytics",[dse]:"fire-analytics-compat",[mse]:"fire-app-check",[hse]:"fire-app-check-compat",[pse]:"fire-auth",[gse]:"fire-auth-compat",[yse]:"fire-rtdb",[vse]:"fire-data-connect",[xse]:"fire-rtdb-compat",[bse]:"fire-fn",[wse]:"fire-fn-compat",[_se]:"fire-iid",[Nse]:"fire-iid-compat",[jse]:"fire-fcm",[Ese]:"fire-fcm-compat",[Sse]:"fire-perf",[Tse]:"fire-perf-compat",[Ase]:"fire-rc",[Cse]:"fire-rc-compat",[Ise]:"fire-gcs",[Ose]:"fire-gcs-compat",[Rse]:"fire-fst",[Dse]:"fire-fst-compat",[Pse]:"fire-vertex","fire-js":"fire-js",[kse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map,Use=new Map,p_=new Map;function XR(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){const e=t.name;if(p_.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;p_.set(e,t);for(const n of ly.values())XR(n,t);for(const n of Use.values())XR(n,t);return!0}function al(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bo=new bc("app","Firebase",Vse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=Mse;function _3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:m_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Bo.create("bad-app-name",{appName:String(a)});if(n||(n=h3()),!n)throw Bo.create("no-options");const s=ly.get(a);if(s){if(Ko(n,s.options)&&Ko(r,s.config))return s;throw Bo.create("duplicate-app",{appName:a})}const c=new Kie(a);for(const f of p_.values())c.addComponent(f);const d=new zse(n,r,c);return ly.set(a,d),d}function T0(t=m_){const e=ly.get(t);if(!e&&t===m_&&h3())return _3();if(!e)throw Bo.create("no-app",{appName:t});return e}function Yr(t,e,n){let r=Lse[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(c.join(" "));return}ui(new Ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse="firebase-heartbeat-database",Fse=1,ih="firebase-heartbeat-store";let qw=null;function N3(){return qw||(qw=w3(Bse,Fse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bo.create("idb-open",{originalErrorMessage:t.message})})),qw}async function $se(t){try{const n=(await N3()).transaction(ih),r=await n.objectStore(ih).get(j3(t));return await n.done,r}catch(e){if(e instanceof za)Bs.warn(e.message);else{const n=Bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bs.warn(n.message)}}}async function QR(t,e){try{const r=(await N3()).transaction(ih,"readwrite");await r.objectStore(ih).put(e,j3(t)),await r.done}catch(n){if(n instanceof za)Bs.warn(n.message);else{const r=Bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bs.warn(r.message)}}}function j3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=1024,Hse=30;class Gse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>Hse){const c=Wse(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZR(),{heartbeatsToSend:r,unsentEntries:a}=Kse(this._heartbeatsCache.heartbeats),s=oy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bs.warn(n),""}}}function ZR(){return new Date().toISOString().substring(0,10)}function Kse(t,e=qse){const n=[];let r=t.slice();for(const a of t){const s=n.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),JR(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),JR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Yse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y3()?v3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $se(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return QR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JR(t){return oy(JSON.stringify({version:2,heartbeats:t})).length}function Wse(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xse(t){ui(new Ua("platform-logger",e=>new lse(e),"PRIVATE")),ui(new Ua("heartbeat",e=>new Gse(e),"PRIVATE")),Yr(h_,WR,t),Yr(h_,WR,"esm2020"),Yr("fire-js","")}Xse("");var Qse="firebase",Zse="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(Qse,Zse,"app");const E3="@firebase/installations",Kj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=1e4,T3=`w:${Kj}`,A3="FIS_v2",Jse="https://firebaseinstallations.googleapis.com/v1",eoe=3600*1e3,toe="installations",noe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},cc=new bc(toe,noe,roe);function C3(t){return t instanceof za&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3({projectId:t}){return`${Jse}/projects/${t}/installations`}function O3(t){return{token:t.token,requestStatus:2,expiresIn:ioe(t.expiresIn),creationTime:Date.now()}}async function R3(t,e){const r=(await e.json()).error;return cc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function P3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function aoe(t,{refreshToken:e}){const n=P3(t);return n.append("Authorization",soe(e)),n}async function D3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ioe(t){return Number(t.replace("s","000"))}function soe(t){return`${A3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ooe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=I3(t),a=P3(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={fid:n,authVersion:A3,appId:t.appId,sdkVersion:T3},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await D3(()=>fetch(r,d));if(f.ok){const h=await f.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:O3(h.authToken)}}else throw await R3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function loe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const coe=/^[cdef][\w-]{21}$/,g_="";function uoe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=doe(t);return coe.test(n)?n:g_}catch{return g_}}function doe(t){return loe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Map;function L3(t,e){const n=A0(t);U3(n,e),foe(n,e)}function U3(t,e){const n=M3.get(t);if(n)for(const r of n)r(e)}function foe(t,e){const n=hoe();n&&n.postMessage({key:t,fid:e}),moe()}let Kl=null;function hoe(){return!Kl&&"BroadcastChannel"in self&&(Kl=new BroadcastChannel("[Firebase] FID Change"),Kl.onmessage=t=>{U3(t.data.key,t.data.fid)}),Kl}function moe(){M3.size===0&&Kl&&(Kl.close(),Kl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe="firebase-installations-database",goe=1,uc="firebase-installations-store";let Hw=null;function Yj(){return Hw||(Hw=w3(poe,goe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uc)}}})),Hw}async function cy(t,e){const n=A0(t),a=(await Yj()).transaction(uc,"readwrite"),s=a.objectStore(uc),c=await s.get(n);return await s.put(e,n),await a.done,(!c||c.fid!==e.fid)&&L3(t,e.fid),e}async function V3(t){const e=A0(t),r=(await Yj()).transaction(uc,"readwrite");await r.objectStore(uc).delete(e),await r.done}async function C0(t,e){const n=A0(t),a=(await Yj()).transaction(uc,"readwrite"),s=a.objectStore(uc),c=await s.get(n),d=e(c);return d===void 0?await s.delete(n):await s.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&L3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t){let e;const n=await C0(t.appConfig,r=>{const a=yoe(r),s=voe(t,a);return e=s.registrationPromise,s.installationEntry});return n.fid===g_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yoe(t){const e=t||{fid:uoe(),registrationStatus:0};return z3(e)}function voe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(cc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=xoe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:boe(t)}:{installationEntry:e}}async function xoe(t,e){try{const n=await ooe(t,e);return cy(t.appConfig,n)}catch(n){throw C3(n)&&n.customData.serverCode===409?await V3(t.appConfig):await cy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function boe(t){let e=await eP(t.appConfig);for(;e.registrationStatus===1;)await k3(100),e=await eP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Wj(t);return r||n}return e}function eP(t){return C0(t,e=>{if(!e)throw cc.create("installation-not-found");return z3(e)})}function z3(t){return woe(t)?{fid:t.fid,registrationStatus:0}:t}function woe(t){return t.registrationStatus===1&&t.registrationTime+S3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _oe({appConfig:t,heartbeatServiceProvider:e},n){const r=Noe(t,n),a=aoe(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={installation:{sdkVersion:T3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await D3(()=>fetch(r,d));if(f.ok){const h=await f.json();return O3(h)}else throw await R3("Generate Auth Token",f)}function Noe(t,{fid:e}){return`${I3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e=!1){let n;const r=await C0(t.appConfig,s=>{if(!B3(s))throw cc.create("not-registered");const c=s.authToken;if(!e&&Soe(c))return s;if(c.requestStatus===1)return n=joe(t,e),s;{if(!navigator.onLine)throw cc.create("app-offline");const d=Aoe(s);return n=Eoe(t,d),d}});return n?await n:r.authToken}async function joe(t,e){let n=await tP(t.appConfig);for(;n.authToken.requestStatus===1;)await k3(100),n=await tP(t.appConfig);const r=n.authToken;return r.requestStatus===0?Xj(t,e):r}function tP(t){return C0(t,e=>{if(!B3(e))throw cc.create("not-registered");const n=e.authToken;return Coe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Eoe(t,e){try{const n=await _oe(t,e),r={...e,authToken:n};return await cy(t.appConfig,r),n}catch(n){if(C3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await V3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await cy(t.appConfig,r)}throw n}}function B3(t){return t!==void 0&&t.registrationStatus===2}function Soe(t){return t.requestStatus===2&&!Toe(t)}function Toe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eoe}function Aoe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Coe(t){return t.requestStatus===1&&t.requestTime+S3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ioe(t){const e=t,{installationEntry:n,registrationPromise:r}=await Wj(e);return r?r.catch(console.error):Xj(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ooe(t,e=!1){const n=t;return await Roe(n),(await Xj(n,e)).token}async function Roe(t){const{registrationPromise:e}=await Wj(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Poe(t){if(!t||!t.options)throw Gw("App Configuration");if(!t.name)throw Gw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Gw(t){return cc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="installations",Doe="installations-internal",koe=t=>{const e=t.getProvider("app").getImmediate(),n=Poe(e),r=al(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Moe=t=>{const e=t.getProvider("app").getImmediate(),n=al(e,F3).getImmediate();return{getId:()=>Ioe(n),getToken:a=>Ooe(n,a)}};function Loe(){ui(new Ua(F3,koe,"PUBLIC")),ui(new Ua(Doe,Moe,"PRIVATE"))}Loe();Yr(E3,Kj);Yr(E3,Kj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="analytics",Uoe="firebase_id",Voe="origin",zoe=60*1e3,Boe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qj="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new S0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ma=new bc("analytics","Analytics",Foe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $oe(t){if(!t.startsWith(Qj)){const e=ma.create("invalid-gtag-resource",{gtagURL:t});return Cr.warn(e.message),""}return t}function $3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qoe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Hoe(t,e){const n=qoe("firebase-js-sdk-policy",{createScriptURL:$oe}),r=document.createElement("script"),a=`${Qj}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Goe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Koe(t,e,n,r,a,s){const c=r[a];try{if(c)await e[c];else{const f=(await $3(n)).find(h=>h.measurementId===a);f&&await e[f.appId]}}catch(d){Cr.error(d)}t("config",a,s)}async function Yoe(t,e,n,r,a){try{let s=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await $3(n);for(const f of c){const h=d.find(g=>g.measurementId===f),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,a||{})}catch(s){Cr.error(s)}}function Woe(t,e,n,r){async function a(s,...c){try{if(s==="event"){const[d,f]=c;await Yoe(t,e,n,d,f)}else if(s==="config"){const[d,f]=c;await Koe(t,e,n,r,d,f)}else if(s==="consent"){const[d,f]=c;t("consent",d,f)}else if(s==="get"){const[d,f,h]=c;t("get",d,f,h)}else if(s==="set"){const[d]=c;t("set",d)}else t(s,...c)}catch(d){Cr.error(d)}}return a}function Xoe(t,e,n,r,a){let s=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=Woe(s,t,e,n),{gtagCore:s,wrappedGtag:window[a]}}function Qoe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qj)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zoe=30,Joe=1e3;class ele{constructor(e={},n=Joe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const q3=new ele;function tle(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nle(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:tle(n)},a=Boe.replace("{app-id}",e),s=await fetch(a,r);if(s.status!==200&&s.status!==304){let d="";try{const f=await s.json();(c=f.error)!=null&&c.message&&(d=f.error.message)}catch{}throw ma.create("config-fetch-failed",{httpStatus:s.status,responseMessage:d})}return s.json()}async function rle(t,e=q3,n){const{appId:r,apiKey:a,measurementId:s}=t.options;if(!r)throw ma.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:r};throw ma.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new sle;return setTimeout(async()=>{d.abort()},zoe),H3({appId:r,apiKey:a,measurementId:s},c,d,e)}async function H3(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=q3){var d;const{appId:s,measurementId:c}=t;try{await ale(r,e)}catch(f){if(c)return Cr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:c};throw f}try{const f=await nle(t);return a.deleteThrottleMetadata(s),f}catch(f){const h=f;if(!ile(h)){if(a.deleteThrottleMetadata(s),c)return Cr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:c};throw f}const p=Number((d=h==null?void 0:h.customData)==null?void 0:d.httpStatus)===503?HR(n,a.intervalMillis,Zoe):HR(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(s,g),Cr.debug(`Calling attemptFetch again in ${p} millis`),H3(t,g,r,a)}}function ale(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),s=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(s),r(ma.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ile(t){if(!(t instanceof za)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class sle{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ole(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const s=await e,c={...r,send_to:s};t("event",n,c)}}async function lle(t,e,n,r){if(r&&r.global){const a={};for(const s of Object.keys(n))a[`user_properties.${s}`]=n[s];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cle(){if(y3())try{await v3()}catch(t){return Cr.warn(ma.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Cr.warn(ma.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ule(t,e,n,r,a,s,c){const d=rle(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Cr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Cr.error(x)),e.push(d);const f=cle().then(x=>{if(x)return r.getId()}),[h,p]=await Promise.all([d,f]);Qoe(s)||Hoe(s,h.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[Voe]="firebase",g.update=!0,p!=null&&(g[Uoe]=p),a("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e){this.app=e}_delete(){return delete Tu[this.app.options.appId],Promise.resolve()}}let Tu={},nP=[];const rP={};let Kw="dataLayer",fle="gtag",aP,Zj,iP=!1;function hle(){const t=[];if(g3()&&t.push("This is a browser extension environment."),Rie()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=ma.create("invalid-analytics-context",{errorInfo:e});Cr.warn(n.message)}}function mle(t,e,n){hle();const r=t.options.appId;if(!r)throw ma.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Cr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ma.create("no-api-key");if(Tu[r]!=null)throw ma.create("already-exists",{id:r});if(!iP){Goe(Kw);const{wrappedGtag:s,gtagCore:c}=Xoe(Tu,nP,rP,Kw,fle);Zj=s,aP=c,iP=!0}return Tu[r]=ule(t,nP,rP,e,aP,Kw,n),new dle(t)}function ple(t=T0()){t=xn(t);const e=al(t,uy);return e.isInitialized()?e.getImmediate():gle(t)}function gle(t,e={}){const n=al(t,uy);if(n.isInitialized()){const a=n.getImmediate();if(Ko(e,n.getOptions()))return a;throw ma.create("already-initialized")}return n.initialize({options:e})}function yle(t,e,n){t=xn(t),lle(Zj,Tu[t.app.options.appId],e,n).catch(r=>Cr.error(r))}function vle(t,e,n,r){t=xn(t),ole(Zj,Tu[t.app.options.appId],e,n,r).catch(a=>Cr.error(a))}const sP="@firebase/analytics",oP="0.10.19";function xle(){ui(new Ua(uy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return mle(r,a,n)},"PUBLIC")),ui(new Ua("analytics-internal",t,"PRIVATE")),Yr(sP,oP),Yr(sP,oP,"esm2020");function t(e){try{const n=e.getProvider(uy).getImmediate();return{logEvent:(r,a,s)=>vle(n,r,a,s),setUserProperties:(r,a)=>yle(n,r,a)}}catch(n){throw ma.create("interop-component-reg-failed",{reason:n})}}}xle();var lP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,G3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,V){function D(){}D.prototype=V.prototype,k.F=V.prototype,k.prototype=new D,k.prototype.constructor=k,k.D=function(I,R,F){for(var B=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)B[pe-2]=arguments[pe];return V.prototype[R].apply(I,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,V,D){D||(D=0);const I=Array(16);if(typeof V=="string")for(var R=0;R<16;++R)I[R]=V.charCodeAt(D++)|V.charCodeAt(D++)<<8|V.charCodeAt(D++)<<16|V.charCodeAt(D++)<<24;else for(R=0;R<16;++R)I[R]=V[D++]|V[D++]<<8|V[D++]<<16|V[D++]<<24;V=k.g[0],D=k.g[1],R=k.g[2];let F=k.g[3],B;B=V+(F^D&(R^F))+I[0]+3614090360&4294967295,V=D+(B<<7&4294967295|B>>>25),B=F+(R^V&(D^R))+I[1]+3905402710&4294967295,F=V+(B<<12&4294967295|B>>>20),B=R+(D^F&(V^D))+I[2]+606105819&4294967295,R=F+(B<<17&4294967295|B>>>15),B=D+(V^R&(F^V))+I[3]+3250441966&4294967295,D=R+(B<<22&4294967295|B>>>10),B=V+(F^D&(R^F))+I[4]+4118548399&4294967295,V=D+(B<<7&4294967295|B>>>25),B=F+(R^V&(D^R))+I[5]+1200080426&4294967295,F=V+(B<<12&4294967295|B>>>20),B=R+(D^F&(V^D))+I[6]+2821735955&4294967295,R=F+(B<<17&4294967295|B>>>15),B=D+(V^R&(F^V))+I[7]+4249261313&4294967295,D=R+(B<<22&4294967295|B>>>10),B=V+(F^D&(R^F))+I[8]+1770035416&4294967295,V=D+(B<<7&4294967295|B>>>25),B=F+(R^V&(D^R))+I[9]+2336552879&4294967295,F=V+(B<<12&4294967295|B>>>20),B=R+(D^F&(V^D))+I[10]+4294925233&4294967295,R=F+(B<<17&4294967295|B>>>15),B=D+(V^R&(F^V))+I[11]+2304563134&4294967295,D=R+(B<<22&4294967295|B>>>10),B=V+(F^D&(R^F))+I[12]+1804603682&4294967295,V=D+(B<<7&4294967295|B>>>25),B=F+(R^V&(D^R))+I[13]+4254626195&4294967295,F=V+(B<<12&4294967295|B>>>20),B=R+(D^F&(V^D))+I[14]+2792965006&4294967295,R=F+(B<<17&4294967295|B>>>15),B=D+(V^R&(F^V))+I[15]+1236535329&4294967295,D=R+(B<<22&4294967295|B>>>10),B=V+(R^F&(D^R))+I[1]+4129170786&4294967295,V=D+(B<<5&4294967295|B>>>27),B=F+(D^R&(V^D))+I[6]+3225465664&4294967295,F=V+(B<<9&4294967295|B>>>23),B=R+(V^D&(F^V))+I[11]+643717713&4294967295,R=F+(B<<14&4294967295|B>>>18),B=D+(F^V&(R^F))+I[0]+3921069994&4294967295,D=R+(B<<20&4294967295|B>>>12),B=V+(R^F&(D^R))+I[5]+3593408605&4294967295,V=D+(B<<5&4294967295|B>>>27),B=F+(D^R&(V^D))+I[10]+38016083&4294967295,F=V+(B<<9&4294967295|B>>>23),B=R+(V^D&(F^V))+I[15]+3634488961&4294967295,R=F+(B<<14&4294967295|B>>>18),B=D+(F^V&(R^F))+I[4]+3889429448&4294967295,D=R+(B<<20&4294967295|B>>>12),B=V+(R^F&(D^R))+I[9]+568446438&4294967295,V=D+(B<<5&4294967295|B>>>27),B=F+(D^R&(V^D))+I[14]+3275163606&4294967295,F=V+(B<<9&4294967295|B>>>23),B=R+(V^D&(F^V))+I[3]+4107603335&4294967295,R=F+(B<<14&4294967295|B>>>18),B=D+(F^V&(R^F))+I[8]+1163531501&4294967295,D=R+(B<<20&4294967295|B>>>12),B=V+(R^F&(D^R))+I[13]+2850285829&4294967295,V=D+(B<<5&4294967295|B>>>27),B=F+(D^R&(V^D))+I[2]+4243563512&4294967295,F=V+(B<<9&4294967295|B>>>23),B=R+(V^D&(F^V))+I[7]+1735328473&4294967295,R=F+(B<<14&4294967295|B>>>18),B=D+(F^V&(R^F))+I[12]+2368359562&4294967295,D=R+(B<<20&4294967295|B>>>12),B=V+(D^R^F)+I[5]+4294588738&4294967295,V=D+(B<<4&4294967295|B>>>28),B=F+(V^D^R)+I[8]+2272392833&4294967295,F=V+(B<<11&4294967295|B>>>21),B=R+(F^V^D)+I[11]+1839030562&4294967295,R=F+(B<<16&4294967295|B>>>16),B=D+(R^F^V)+I[14]+4259657740&4294967295,D=R+(B<<23&4294967295|B>>>9),B=V+(D^R^F)+I[1]+2763975236&4294967295,V=D+(B<<4&4294967295|B>>>28),B=F+(V^D^R)+I[4]+1272893353&4294967295,F=V+(B<<11&4294967295|B>>>21),B=R+(F^V^D)+I[7]+4139469664&4294967295,R=F+(B<<16&4294967295|B>>>16),B=D+(R^F^V)+I[10]+3200236656&4294967295,D=R+(B<<23&4294967295|B>>>9),B=V+(D^R^F)+I[13]+681279174&4294967295,V=D+(B<<4&4294967295|B>>>28),B=F+(V^D^R)+I[0]+3936430074&4294967295,F=V+(B<<11&4294967295|B>>>21),B=R+(F^V^D)+I[3]+3572445317&4294967295,R=F+(B<<16&4294967295|B>>>16),B=D+(R^F^V)+I[6]+76029189&4294967295,D=R+(B<<23&4294967295|B>>>9),B=V+(D^R^F)+I[9]+3654602809&4294967295,V=D+(B<<4&4294967295|B>>>28),B=F+(V^D^R)+I[12]+3873151461&4294967295,F=V+(B<<11&4294967295|B>>>21),B=R+(F^V^D)+I[15]+530742520&4294967295,R=F+(B<<16&4294967295|B>>>16),B=D+(R^F^V)+I[2]+3299628645&4294967295,D=R+(B<<23&4294967295|B>>>9),B=V+(R^(D|~F))+I[0]+4096336452&4294967295,V=D+(B<<6&4294967295|B>>>26),B=F+(D^(V|~R))+I[7]+1126891415&4294967295,F=V+(B<<10&4294967295|B>>>22),B=R+(V^(F|~D))+I[14]+2878612391&4294967295,R=F+(B<<15&4294967295|B>>>17),B=D+(F^(R|~V))+I[5]+4237533241&4294967295,D=R+(B<<21&4294967295|B>>>11),B=V+(R^(D|~F))+I[12]+1700485571&4294967295,V=D+(B<<6&4294967295|B>>>26),B=F+(D^(V|~R))+I[3]+2399980690&4294967295,F=V+(B<<10&4294967295|B>>>22),B=R+(V^(F|~D))+I[10]+4293915773&4294967295,R=F+(B<<15&4294967295|B>>>17),B=D+(F^(R|~V))+I[1]+2240044497&4294967295,D=R+(B<<21&4294967295|B>>>11),B=V+(R^(D|~F))+I[8]+1873313359&4294967295,V=D+(B<<6&4294967295|B>>>26),B=F+(D^(V|~R))+I[15]+4264355552&4294967295,F=V+(B<<10&4294967295|B>>>22),B=R+(V^(F|~D))+I[6]+2734768916&4294967295,R=F+(B<<15&4294967295|B>>>17),B=D+(F^(R|~V))+I[13]+1309151649&4294967295,D=R+(B<<21&4294967295|B>>>11),B=V+(R^(D|~F))+I[4]+4149444226&4294967295,V=D+(B<<6&4294967295|B>>>26),B=F+(D^(V|~R))+I[11]+3174756917&4294967295,F=V+(B<<10&4294967295|B>>>22),B=R+(V^(F|~D))+I[2]+718787259&4294967295,R=F+(B<<15&4294967295|B>>>17),B=D+(F^(R|~V))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+V&4294967295,k.g[1]=k.g[1]+(R+(B<<21&4294967295|B>>>11))&4294967295,k.g[2]=k.g[2]+R&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.v=function(k,V){V===void 0&&(V=k.length);const D=V-this.blockSize,I=this.C;let R=this.h,F=0;for(;F<V;){if(R==0)for(;F<=D;)a(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<V;)if(I[R++]=k.charCodeAt(F++),R==this.blockSize){a(this,I),R=0;break}}else for(;F<V;)if(I[R++]=k[F++],R==this.blockSize){a(this,I),R=0;break}}this.h=R,this.o+=V},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var V=1;V<k.length-8;++V)k[V]=0;V=this.o*8;for(var D=k.length-8;D<k.length;++D)k[D]=V&255,V/=256;for(this.v(k),k=Array(16),V=0,D=0;D<4;++D)for(let I=0;I<32;I+=8)k[V++]=this.g[D]>>>I&255;return k};function s(k,V){var D=d;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=V(k)}function c(k,V){this.h=V;const D=[];let I=!0;for(let R=k.length-1;R>=0;R--){const F=k[R]|0;I&&F==V||(D[R]=F,I=!1)}this.g=D}var d={};function f(k){return-128<=k&&k<128?s(k,function(V){return new c([V|0],V<0?-1:0)}):new c([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return j(h(-k));const V=[];let D=1;for(let I=0;k>=D;I++)V[I]=k/D|0,D*=4294967296;return new c(V,0)}function p(k,V){if(k.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(k.charAt(0)=="-")return j(p(k.substring(1),V));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(V,8));let I=g;for(let F=0;F<k.length;F+=8){var R=Math.min(8,k.length-F);const B=parseInt(k.substring(F,F+R),V);R<8?(R=h(Math.pow(V,R)),I=I.j(R).add(h(B))):(I=I.j(D),I=I.add(h(B)))}return I}var g=f(0),x=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(N(this))return-j(this).m();let k=0,V=1;for(let D=0;D<this.g.length;D++){const I=this.i(D);k+=(I>=0?I:4294967296+I)*V,V*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(N(this))return"-"+j(this).toString(k);const V=h(Math.pow(k,6));var D=this;let I="";for(;;){const R=M(D,V).g;D=A(D,R.j(V));let F=((D.g.length>0?D.g[0]:D.h)>>>0).toString(k);if(D=R,E(D))return F+I;for(;F.length<6;)F="0"+F;I=F+I}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(let V=0;V<k.g.length;V++)if(k.g[V]!=0)return!1;return!0}function N(k){return k.h==-1}t.l=function(k){return k=A(this,k),N(k)?-1:E(k)?0:1};function j(k){const V=k.g.length,D=[];for(let I=0;I<V;I++)D[I]=~k.g[I];return new c(D,~k.h).add(x)}t.abs=function(){return N(this)?j(this):this},t.add=function(k){const V=Math.max(this.g.length,k.g.length),D=[];let I=0;for(let R=0;R<=V;R++){let F=I+(this.i(R)&65535)+(k.i(R)&65535),B=(F>>>16)+(this.i(R)>>>16)+(k.i(R)>>>16);I=B>>>16,F&=65535,B&=65535,D[R]=B<<16|F}return new c(D,D[D.length-1]&-2147483648?-1:0)};function A(k,V){return k.add(j(V))}t.j=function(k){if(E(this)||E(k))return g;if(N(this))return N(k)?j(this).j(j(k)):j(j(this).j(k));if(N(k))return j(this.j(j(k)));if(this.l(w)<0&&k.l(w)<0)return h(this.m()*k.m());const V=this.g.length+k.g.length,D=[];for(var I=0;I<2*V;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(let R=0;R<k.g.length;R++){const F=this.i(I)>>>16,B=this.i(I)&65535,pe=k.i(R)>>>16,le=k.i(R)&65535;D[2*I+2*R]+=B*le,U(D,2*I+2*R),D[2*I+2*R+1]+=F*le,U(D,2*I+2*R+1),D[2*I+2*R+1]+=B*pe,U(D,2*I+2*R+1),D[2*I+2*R+2]+=F*pe,U(D,2*I+2*R+2)}for(k=0;k<V;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=V;k<2*V;k++)D[k]=0;return new c(D,0)};function U(k,V){for(;(k[V]&65535)!=k[V];)k[V+1]+=k[V]>>>16,k[V]&=65535,V++}function T(k,V){this.g=k,this.h=V}function M(k,V){if(E(V))throw Error("division by zero");if(E(k))return new T(g,g);if(N(k))return V=M(j(k),V),new T(j(V.g),j(V.h));if(N(V))return V=M(k,j(V)),new T(j(V.g),V.h);if(k.g.length>30){if(N(k)||N(V))throw Error("slowDivide_ only works with positive integers.");for(var D=x,I=V;I.l(k)<=0;)D=P(D),I=P(I);var R=L(D,1),F=L(I,1);for(I=L(I,2),D=L(D,2);!E(I);){var B=F.add(I);B.l(k)<=0&&(R=R.add(D),F=B),I=L(I,1),D=L(D,1)}return V=A(k,R.j(V)),new T(R,V)}for(R=g;k.l(V)>=0;){for(D=Math.max(1,Math.floor(k.m()/V.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),F=h(D),B=F.j(V);N(B)||B.l(k)>0;)D-=I,F=h(D),B=F.j(V);E(F)&&(F=x),R=R.add(F),k=A(k,B)}return new T(R,k)}t.B=function(k){return M(this,k).h},t.and=function(k){const V=Math.max(this.g.length,k.g.length),D=[];for(let I=0;I<V;I++)D[I]=this.i(I)&k.i(I);return new c(D,this.h&k.h)},t.or=function(k){const V=Math.max(this.g.length,k.g.length),D=[];for(let I=0;I<V;I++)D[I]=this.i(I)|k.i(I);return new c(D,this.h|k.h)},t.xor=function(k){const V=Math.max(this.g.length,k.g.length),D=[];for(let I=0;I<V;I++)D[I]=this.i(I)^k.i(I);return new c(D,this.h^k.h)};function P(k){const V=k.g.length+1,D=[];for(let I=0;I<V;I++)D[I]=k.i(I)<<1|k.i(I-1)>>>31;return new c(D,k.h)}function L(k,V){const D=V>>5;V%=32;const I=k.g.length-D,R=[];for(let F=0;F<I;F++)R[F]=V>0?k.i(F+D)>>>V|k.i(F+D+1)<<32-V:k.i(F+D);return new c(R,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,G3=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,Fo=c}).apply(typeof lP<"u"?lP:typeof self<"u"?self:typeof window<"u"?window:{});var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K3,Of,Y3,ag,y_,W3,X3,Q3;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bp=="object"&&Bp];for(var S=0;S<y.length;++S){var O=y[S];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var O=r;y=y.split(".");for(var $=0;$<y.length-1;$++){var ee=y[$];if(!(ee in O))break e;O=O[ee]}y=y[y.length-1],$=O[y],S=S($),S!=$&&S!=null&&e(O,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var O=[],$;for($ in S)Object.prototype.hasOwnProperty.call(S,$)&&O.push([$,S[$]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function f(y,S,O){return y.call.apply(y.bind,arguments)}function h(y,S,O){return h=f,h.apply(null,arguments)}function p(y,S){var O=Array.prototype.slice.call(arguments,1);return function(){var $=O.slice();return $.push.apply($,arguments),y.apply(this,$)}}function g(y,S){function O(){}O.prototype=S.prototype,y.Z=S.prototype,y.prototype=new O,y.prototype.constructor=y,y.Ob=function($,ee,se){for(var Ee=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Ee[Je-2]=arguments[Je];return S.prototype[ee].apply($,Ee)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const S=y.length;if(S>0){const O=Array(S);for(let $=0;$<S;$++)O[$]=y[$];return O}return[]}function E(y,S){for(let $=1;$<arguments.length;$++){const ee=arguments[$];var O=typeof ee;if(O=O!="object"?O:ee?Array.isArray(ee)?"array":O:"null",O=="array"||O=="object"&&typeof ee.length=="number"){O=y.length||0;const se=ee.length||0;y.length=O+se;for(let Ee=0;Ee<se;Ee++)y[O+Ee]=ee[Ee]}else y.push(ee)}}class N{constructor(S,O){this.i=S,this.j=O,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function j(y){c.setTimeout(()=>{throw y},0)}function A(){var y=k;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class U{constructor(){this.h=this.g=null}add(S,O){const $=T.get();$.set(S,O),this.h?this.h.next=$:this.g=$,this.h=$}}var T=new N(()=>new M,y=>y.reset());class M{constructor(){this.next=this.g=this.h=null}set(S,O){this.h=S,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let P,L=!1,k=new U,V=()=>{const y=Promise.resolve(void 0);P=()=>{y.then(D)}};function D(){for(var y;y=A();){try{y.h.call(y.g)}catch(O){j(O)}var S=T;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}L=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const O=()=>{};c.addEventListener("test",O,S),c.removeEventListener("test",O,S)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function pe(y,S){R.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(pe,R),pe.prototype.init=function(y,S){const O=this.type=y.type,$=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(O=="mouseover"?S=y.fromElement:O=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ie(y,S,O,$,ee){this.listener=y,this.proxy=null,this.src=S,this.type=O,this.capture=!!$,this.ha=ee,this.key=++Y,this.da=this.fa=!1}function xe(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Z(y,S,O){for(const $ in y)S.call(O,y[$],$,y)}function X(y,S){for(const O in y)S.call(void 0,y[O],O,y)}function q(y){const S={};for(const O in y)S[O]=y[O];return S}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(y,S){let O,$;for(let ee=1;ee<arguments.length;ee++){$=arguments[ee];for(O in $)y[O]=$[O];for(let se=0;se<K.length;se++)O=K[se],Object.prototype.hasOwnProperty.call($,O)&&(y[O]=$[O])}}function Q(y){this.src=y,this.g={},this.h=0}Q.prototype.add=function(y,S,O,$,ee){const se=y.toString();y=this.g[se],y||(y=this.g[se]=[],this.h++);const Ee=_e(y,S,$,ee);return Ee>-1?(S=y[Ee],O||(S.fa=!1)):(S=new ie(S,this.src,se,!!$,ee),S.fa=O,y.push(S)),S};function ue(y,S){const O=S.type;if(O in y.g){var $=y.g[O],ee=Array.prototype.indexOf.call($,S,void 0),se;(se=ee>=0)&&Array.prototype.splice.call($,ee,1),se&&(xe(S),y.g[O].length==0&&(delete y.g[O],y.h--))}}function _e(y,S,O,$){for(let ee=0;ee<y.length;++ee){const se=y[ee];if(!se.da&&se.listener==S&&se.capture==!!O&&se.ha==$)return ee}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),He={};function ce(y,S,O,$,ee){if(Array.isArray(S)){for(let se=0;se<S.length;se++)ce(y,S[se],O,$,ee);return null}return O=de(O),y&&y[le]?y.J(S,O,d($)?!!$.capture:!1,ee):Ve(y,S,O,!1,$,ee)}function Ve(y,S,O,$,ee,se){if(!S)throw Error("Invalid event type");const Ee=d(ee)?!!ee.capture:!!ee;let Je=we(y);if(Je||(y[Ae]=Je=new Q(y)),O=Je.add(S,O,$,Ee,se),O.proxy)return O;if($=Ge(),O.proxy=$,$.src=y,$.listener=O,y.addEventListener)F||(ee=Ee),ee===void 0&&(ee=!1),y.addEventListener(S.toString(),$,ee);else if(y.attachEvent)y.attachEvent(We(S.toString()),$);else if(y.addListener&&y.removeListener)y.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ge(){function y(O){return S.call(y.src,y.listener,O)}const S=kt;return y}function be(y,S,O,$,ee){if(Array.isArray(S))for(var se=0;se<S.length;se++)be(y,S[se],O,$,ee);else $=d($)?!!$.capture:!!$,O=de(O),y&&y[le]?(y=y.i,se=String(S).toString(),se in y.g&&(S=y.g[se],O=_e(S,O,$,ee),O>-1&&(xe(S[O]),Array.prototype.splice.call(S,O,1),S.length==0&&(delete y.g[se],y.h--)))):y&&(y=we(y))&&(S=y.g[S.toString()],y=-1,S&&(y=_e(S,O,$,ee)),(O=y>-1?S[y]:null)&&At(O))}function At(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[le])ue(S.i,y);else{var O=y.type,$=y.proxy;S.removeEventListener?S.removeEventListener(O,$,y.capture):S.detachEvent?S.detachEvent(We(O),$):S.addListener&&S.removeListener&&S.removeListener($),(O=we(S))?(ue(O,y),O.h==0&&(O.src=null,S[Ae]=null)):xe(y)}}}function We(y){return y in He?He[y]:He[y]="on"+y}function kt(y,S){if(y.da)y=!0;else{S=new pe(S,this);const O=y.listener,$=y.ha||y.src;y.fa&&At(y),y=O.call($,S)}return y}function we(y){return y=y[Ae],y instanceof Q?y:null}var dt="__closure_events_fn_"+(Math.random()*1e9>>>0);function de(y){return typeof y=="function"?y:(y[dt]||(y[dt]=function(S){return y.handleEvent(S)}),y[dt])}function $e(){I.call(this),this.i=new Q(this),this.M=this,this.G=null}g($e,I),$e.prototype[le]=!0,$e.prototype.removeEventListener=function(y,S,O,$){be(this,y,S,O,$)};function Fe(y,S){var O,$=y.G;if($)for(O=[];$;$=$.G)O.push($);if(y=y.M,$=S.type||S,typeof S=="string")S=new R(S,y);else if(S instanceof R)S.target=S.target||y;else{var ee=S;S=new R($,y),H(S,ee)}ee=!0;let se,Ee;if(O)for(Ee=O.length-1;Ee>=0;Ee--)se=S.g=O[Ee],ee=_t(se,$,!0,S)&&ee;if(se=S.g=y,ee=_t(se,$,!0,S)&&ee,ee=_t(se,$,!1,S)&&ee,O)for(Ee=0;Ee<O.length;Ee++)se=S.g=O[Ee],ee=_t(se,$,!1,S)&&ee}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const O=y.g[S];for(let $=0;$<O.length;$++)xe(O[$]);delete y.g[S],y.h--}}this.G=null},$e.prototype.J=function(y,S,O,$){return this.i.add(String(y),S,!1,O,$)},$e.prototype.K=function(y,S,O,$){return this.i.add(String(y),S,!0,O,$)};function _t(y,S,O,$){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let ee=!0;for(let se=0;se<S.length;++se){const Ee=S[se];if(Ee&&!Ee.da&&Ee.capture==O){const Je=Ee.listener,hn=Ee.ha||Ee.src;Ee.fa&&ue(y.i,Ee),ee=Je.call(hn,$)!==!1&&ee}}return ee&&!$.defaultPrevented}function Ba(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function Fa(y){y.g=Ba(()=>{y.g=null,y.i&&(y.i=!1,Fa(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class Gn extends I{constructor(S,O){super(),this.m=S,this.l=O,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Fa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(y){I.call(this),this.h=y,this.g={}}g(Ne,I);var Nt=[];function en(y){Z(y.g,function(S,O){this.g.hasOwnProperty(O)&&At(S)},y),y.g={}}Ne.prototype.N=function(){Ne.Z.N.call(this),en(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=c.JSON.stringify,Zr=c.JSON.parse,cl=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function ul(){}function dl(){}var Pr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wn(){R.call(this,"d")}g(wn,R);function jr(){R.call(this,"c")}g(jr,R);var fn={},Zh=null;function jc(){return Zh=Zh||new $e}fn.Ia="serverreachability";function Jh(y){R.call(this,fn.Ia,y)}g(Jh,R);function pi(y){const S=jc();Fe(S,new Jh(S))}fn.STAT_EVENT="statevent";function fl(y,S){R.call(this,fn.STAT_EVENT,y),this.stat=S}g(fl,R);function _n(y){const S=jc();Fe(S,new fl(S,y))}fn.Ja="timingevent";function gi(y,S){R.call(this,fn.Ja,y),this.size=S}g(gi,R);function yi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function $a(){this.g=!0}$a.prototype.ua=function(){this.g=!1};function ev(y,S,O,$,ee,se){y.info(function(){if(y.g)if(se){var Ee="",Je=se.split("&");for(let xt=0;xt<Je.length;xt++){var hn=Je[xt].split("=");if(hn.length>1){const Ht=hn[0];hn=hn[1];const ba=Ht.split("_");Ee=ba.length>=2&&ba[1]=="type"?Ee+(Ht+"="+hn+"&"):Ee+(Ht+"=redacted&")}}}else Ee=null;else Ee=se;return"XMLHTTP REQ ("+$+") [attempt "+ee+"]: "+S+`
`+O+`
`+Ee})}function em(y,S,O,$,ee,se,Ee){y.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ee+"]: "+S+`
`+O+`
`+se+" "+Ee})}function vi(y,S,O,$){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+tv(y,O)+($?" "+$:"")})}function hl(y,S){y.info(function(){return"TIMEOUT: "+S})}$a.prototype.info=function(){};function tv(y,S){if(!y.g)return S;if(!S)return null;try{const se=JSON.parse(S);if(se){for(y=0;y<se.length;y++)if(Array.isArray(se[y])){var O=se[y];if(!(O.length<2)){var $=O[1];if(Array.isArray($)&&!($.length<1)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Ee=1;Ee<$.length;Ee++)$[Ee]=""}}}}return tn(se)}catch{return S}}var ml={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yd;function pl(){}g(pl,ul),pl.prototype.g=function(){return new XMLHttpRequest},yd=new pl;function ts(y){return encodeURIComponent(String(y))}function tm(y){var S=1;y=y.split(":");const O=[];for(;S>0&&y.length;)O.push(y.shift()),S--;return y.length&&O.push(y.join(":")),O}function qa(y,S,O,$){this.j=y,this.i=S,this.l=O,this.S=$||1,this.V=new Ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ha}function Ha(){this.i=null,this.g="",this.h=!1}var Nn={},Kn={};function xi(y,S,O){y.M=1,y.A=gl(En(S)),y.u=O,y.R=!0,Ec(y,null)}function Ec(y,S){y.F=Date.now(),bi(y),y.B=En(y.A);var O=y.B,$=y.S;Array.isArray($)||($=[String($)]),Cc(O.i,"t",$),y.C=0,O=y.j.L,y.h=new Ha,y.g=gm(y.j,O?S:null,!y.u),y.P>0&&(y.O=new Gn(h(y.Y,y,y.g),y.P)),S=y.V,O=y.g,$=y.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Nt[0]=ee.toString()),ee=Nt);for(let se=0;se<ee.length;se++){const Ee=ce(O,ee[se],$||S.handleEvent,!1,S.h||S);if(!Ee)break;S.g[Ee.key]=Ee}S=y.J?q(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),pi(),ev(y.i,y.v,y.B,y.l,y.S,y.u)}qa.prototype.ba=function(y){y=y.target;const S=this.O;S&&Ya(y)==3?S.j():this.Y(y)},qa.prototype.Y=function(y){try{if(y==this.g)e:{const Je=Ya(this.g),hn=this.g.ya(),xt=this.g.ca();if(!(Je<3)&&(Je!=3||this.g&&(this.h.h||this.g.la()||ar(this.g)))){this.K||Je!=4||hn==7||(hn==8||xt<=0?pi(3):pi(2)),wi(this);var S=this.g.ca();this.X=S;var O=nv(this);if(this.o=S==200,em(this.i,this.v,this.B,this.l,this.S,Je,S),this.o){if(this.U&&!this.L){t:{if(this.g){var $,ee=this.g;if(($=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B($)){var se=$;break t}}se=null}if(y=se)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,y);else{this.o=!1,this.m=3,_n(12),Jr(this),ya(this);break e}}if(this.R){y=!0;let Ht;for(;!this.K&&this.C<O.length;)if(Ht=rm(this,O),Ht==Kn){Je==4&&(this.m=4,_n(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Nn){this.m=4,_n(15),vi(this.i,this.l,O,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,Ht,null),_i(this,Ht);if(nm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||O.length!=0||this.h.h||(this.m=1,_n(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,O,"[Invalid Chunked Response]"),Jr(this),ya(this);else if(O.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Rd(Ee),Ee.P=!0,_n(11))}}else vi(this.i,this.l,O,null),_i(this,O);Je==4&&Jr(this),this.o&&!this.K&&(Je==4?fm(this.j,this):(this.o=!1,bi(this)))}else rs(this.g),S==400&&O.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),Jr(this),ya(this)}}}catch{}finally{}};function nv(y){if(!nm(y))return y.g.la();const S=ar(y.g);if(S==="")return"";let O="";const $=S.length,ee=Ya(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Jr(y),ya(y),"";y.h.i=new c.TextDecoder}for(let se=0;se<$;se++)y.h.h=!0,O+=y.h.i.decode(S[se],{stream:!(ee&&se==$-1)});return S.length=0,y.h.g+=O,y.C=0,y.h.g}function nm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function rm(y,S){var O=y.C,$=S.indexOf(`
`,O);return $==-1?Kn:(O=Number(S.substring(O,$)),isNaN(O)?Nn:($+=1,$+O>S.length?Kn:(S=S.slice($,$+O),y.C=$+O,S)))}qa.prototype.cancel=function(){this.K=!0,Jr(this)};function bi(y){y.T=Date.now()+y.H,Sc(y,y.H)}function Sc(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=yi(h(y.aa,y),S)}function wi(y){y.D&&(c.clearTimeout(y.D),y.D=null)}qa.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(hl(this.i,this.B),this.M!=2&&(pi(),_n(17)),Jr(this),this.m=2,ya(this)):Sc(this,this.T-y)};function ya(y){y.j.I==0||y.K||fm(y.j,y)}function Jr(y){wi(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,en(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function _i(y,S){try{var O=y.j;if(O.I!=0&&(O.g==y||ji(O.h,y))){if(!y.L&&ji(O.h,y)&&O.I==3){try{var $=O.Ba.g.parse(S)}catch{$=null}if(Array.isArray($)&&$.length==3){var ee=$;if(ee[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<y.F)Dc(O),io(O);else break e;Nl(O),_n(18)}}else O.xa=ee[1],0<O.xa-O.K&&ee[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=yi(h(O.Va,O),6e3));Ni(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ii(O,11)}else if((y.L||O.g==y)&&Dc(O),!B(S))for(ee=O.Ba.g.parse(S),S=0;S<ee.length;S++){let xt=ee[S];const Ht=xt[0];if(!(Ht<=O.K))if(O.K=Ht,xt=xt[1],O.I==2)if(xt[0]=="c"){O.M=xt[1],O.ba=xt[2];const ba=xt[3];ba!=null&&(O.ka=ba,O.j.info("VER="+O.ka));const Oi=xt[4];Oi!=null&&(O.za=Oi,O.j.info("SVER="+O.za));const Wa=xt[5];Wa!=null&&typeof Wa=="number"&&Wa>0&&($=1.5*Wa,O.O=$,O.j.info("backChannelRequestTimeoutMs_="+$)),$=O;const Xa=y.g;if(Xa){const jl=Xa.g?Xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var se=$.h;se.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(bd(se,se.h),se.h=null))}if($.G){const kc=Xa.g?Xa.g.getResponseHeader("X-HTTP-Session-Id"):null;kc&&($.wa=kc,jt($.J,$.G,kc))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-y.F,O.j.info("Handshake RTT: "+O.T+"ms")),$=O;var Ee=y;if($.na=pm($,$.L?$.ba:null,$.W),Ee.L){wd($.h,Ee);var Je=Ee,hn=$.O;hn&&(Je.H=hn),Je.D&&(wi(Je),bi(Je)),$.g=Ee}else um($);O.i.length>0&&Ci(O)}else xt[0]!="stop"&&xt[0]!="close"||Ii(O,7);else O.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ii(O,7):Id(O):xt[0]!="noop"&&O.l&&O.l.qa(xt),O.A=0)}}pi(4)}catch{}}var jn=class{constructor(y,S){this.g=y,this.map=S}};function vd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ni(y){return y.h?1:y.g?y.g.size:0}function ji(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function bd(y,S){y.g?y.g.add(S):y.h=S}function wd(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}vd.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function _d(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const O of y.g.values())S=S.concat(O.G);return S}return w(y.i)}var am=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(y,S){if(y){y=y.split("&");for(let O=0;O<y.length;O++){const $=y[O].indexOf("=");let ee,se=null;$>=0?(ee=y[O].substring(0,$),se=y[O].substring($+1)):ee=y[O],S(ee,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function ea(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof ea?(this.l=y.l,Yn(this,y.j),this.o=y.o,this.g=y.g,Zs(this,y.u),this.h=y.h,Nd(this,lm(y.i)),this.m=y.m):y&&(S=String(y).match(am))?(this.l=!1,Yn(this,S[1]||"",!0),this.o=Ei(S[2]||""),this.g=Ei(S[3]||"",!0),Zs(this,S[4]),this.h=Ei(S[5]||"",!0),Nd(this,S[6]||"",!0),this.m=Ei(S[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}ea.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(yl(S,Ac,!0),":");var O=this.g;return(O||S=="file")&&(y.push("//"),(S=this.o)&&y.push(yl(S,Ac,!0),"@"),y.push(ts(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&y.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&y.push("/"),y.push(yl(O,O.charAt(0)=="/"?jd:im,!0))),(O=this.i.toString())&&y.push("?",O),(O=this.m)&&y.push("#",yl(O,sm)),y.join("")},ea.prototype.resolve=function(y){const S=En(this);let O=!!y.j;O?Yn(S,y.j):O=!!y.o,O?S.o=y.o:O=!!y.g,O?S.g=y.g:O=y.u!=null;var $=y.h;if(O)Zs(S,y.u);else if(O=!!y.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var ee=S.h.lastIndexOf("/");ee!=-1&&($=S.h.slice(0,ee+1)+$)}if(ee=$,ee==".."||ee==".")$="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){$=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const se=[];for(let Ee=0;Ee<ee.length;){const Je=ee[Ee++];Je=="."?$&&Ee==ee.length&&se.push(""):Je==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),$&&Ee==ee.length&&se.push("")):(se.push(Je),$=!0)}$=se.join("/")}else $=ee}return O?S.h=$:O=y.i.toString()!=="",O?Nd(S,lm(y.i)):O=!!y.m,O&&(S.m=y.m),S};function En(y){return new ea(y)}function Yn(y,S,O){y.j=O?Ei(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function Zs(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function Nd(y,S,O){S instanceof eo?(y.i=S,Ic(y.i,y.l)):(O||(S=yl(S,Js)),y.i=new eo(S,y.l))}function jt(y,S,O){y.i.set(S,O)}function gl(y){return jt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ei(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function yl(y,S,O){return typeof y=="string"?(y=encodeURI(y).replace(S,Dr),O&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Dr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ac=/[#\/\?@]/g,im=/[#\?:]/g,jd=/[#\?]/g,Js=/[#\?@]/g,sm=/#/g;function eo(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function kr(y){y.g||(y.g=new Map,y.h=0,y.i&&Tc(y.i,function(S,O){y.add(decodeURIComponent(S.replace(/\+/g," ")),O)}))}t=eo.prototype,t.add=function(y,S){kr(this),this.i=null,y=to(this,y);let O=this.g.get(y);return O||this.g.set(y,O=[]),O.push(S),this.h+=1,this};function om(y,S){kr(y),S=to(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Ed(y,S){return kr(y),S=to(y,S),y.g.has(S)}t.forEach=function(y,S){kr(this),this.g.forEach(function(O,$){O.forEach(function(ee){y.call(S,ee,$,this)},this)},this)};function Sd(y,S){kr(y);let O=[];if(typeof S=="string")Ed(y,S)&&(O=O.concat(y.g.get(to(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)O=O.concat(y[S]);return O}t.set=function(y,S){return kr(this),this.i=null,y=to(this,y),Ed(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=Sd(this,y),y.length>0?String(y[0]):S):S};function Cc(y,S,O){om(y,S),O.length>0&&(y.i=null,y.g.set(to(y,S),w(O)),y.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let $=0;$<S.length;$++){var O=S[$];const ee=ts(O);O=Sd(this,O);for(let se=0;se<O.length;se++){let Ee=ee;O[se]!==""&&(Ee+="="+ts(O[se])),y.push(Ee)}}return this.i=y.join("&")};function lm(y){const S=new eo;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function to(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Ic(y,S){S&&!y.j&&(kr(y),y.i=null,y.g.forEach(function(O,$){const ee=$.toLowerCase();$!=ee&&(om(this,$),Cc(this,ee,O))},y)),y.j=S}function Ga(y,S){const O=new $a;if(c.Image){const $=new Image;$.onload=p(va,O,"TestLoadImage: loaded",!0,S,$),$.onerror=p(va,O,"TestLoadImage: error",!1,S,$),$.onabort=p(va,O,"TestLoadImage: abort",!1,S,$),$.ontimeout=p(va,O,"TestLoadImage: timeout",!1,S,$),c.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=y}else S(!1)}function Td(y,S){const O=new $a,$=new AbortController,ee=setTimeout(()=>{$.abort(),va(O,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:$.signal}).then(se=>{clearTimeout(ee),se.ok?va(O,"TestPingServer: ok",!0,S):va(O,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ee),va(O,"TestPingServer: error",!1,S)})}function va(y,S,O,$,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),$(O)}catch{}}function no(){this.g=new cl}function Si(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Si,ul),Si.prototype.g=function(){return new vl(this.i,this.h)};function vl(y,S){$e.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(vl,$e),t=vl.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ka(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?ro(this):Ka(this),this.readyState==3&&Oc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ro(this))},t.Na=function(y){this.g&&(this.response=y,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ka(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var O=S.next();!O.done;)O=O.value,y.push(O[0]+": "+O[1]),O=S.next();return y.join(`\r
`)};function Ka(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function xa(y){let S="";return Z(y,function(O,$){S+=$,S+=":",S+=O,S+=`\r
`}),S}function xl(y,S,O){e:{for($ in O){var $=!1;break e}$=!0}$||(O=xa(O),typeof y=="string"?O!=null&&ts(O):jt(y,S,O))}function Ct(y){$e.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ct,$e);var Ti=/^https?$/i,Ad=["POST","PUT"];t=Ct.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,O,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yd.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(se){bl(this,se);return}if(y=O||"",O=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ee in $)O.set(ee,$[ee]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const se of $.keys())O.set(se,$.get(se));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(O.keys()).find(se=>se.toLowerCase()=="content-type"),ee=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Ad,S,void 0)>=0)||$||ee||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ee]of O)this.g.setRequestHeader(se,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(se){bl(this,se)}};function bl(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Cd(y),ns(y)}function Cd(y){y.A||(y.A=!0,Fe(y,"complete"),Fe(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Fe(this,"complete"),Fe(this,"abort"),ns(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wl(this):this.Xa())},t.Xa=function(){wl(this)};function wl(y){if(y.h&&typeof s<"u"){if(y.v&&Ya(y)==4)setTimeout(y.Ca.bind(y),0);else if(Fe(y,"readystatechange"),Ya(y)==4){y.h=!1;try{const se=y.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var O;if(!(O=S)){var $;if($=se===0){let Ee=String(y.D).match(am)[1]||null;!Ee&&c.self&&c.self.location&&(Ee=c.self.location.protocol.slice(0,-1)),$=!Ti.test(Ee?Ee.toLowerCase():"")}O=$}if(O)Fe(y,"complete"),Fe(y,"success");else{y.o=6;try{var ee=Ya(y)>2?y.g.statusText:""}catch{ee=""}y.l=ee+" ["+y.ca()+"]",Cd(y)}}finally{ns(y)}}}}function ns(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const O=y.g;y.g=null,S||Fe(y,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ya(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ya(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),Zr(S)}};function ar(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(y){const S={};y=(y.g&&Ya(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<y.length;$++){if(B(y[$]))continue;var O=tm(y[$]);const ee=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const se=S[ee]||[];S[ee]=se,se.push(O)}X(S,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(y,S,O){return O&&O.internalChannelParams&&O.internalChannelParams[y]||S}function ao(y){this.za=0,this.i=[],this.j=new $a,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,y),this.Za=Ai("retryDelaySeedMs",1e4,y),this.Ta=Ai("forwardChannelMaxRetries",2,y),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new vd(y&&y.concurrentRequestLimit),this.Ba=new no,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(y,S,O,$){_n(0),this.W=y,this.H=S||{},O&&$!==void 0&&(this.H.OSID=O,this.H.OAID=$),this.F=this.X,this.J=pm(this,null,this.W),Ci(this)};function Id(y){if(Rc(y),y.I==3){var S=y.V++,O=En(y.J);if(jt(O,"SID",y.M),jt(O,"RID",S),jt(O,"TYPE","terminate"),_l(y,O),S=new qa(y,y.j,S),S.M=2,S.A=gl(En(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!O&&c.Image&&(new Image().src=S.A,O=!0),O||(S.g=gm(S.j,null),S.g.ea(S.A)),S.F=Date.now(),bi(S)}mm(y)}function io(y){y.g&&(Rd(y),y.g.cancel(),y.g=null)}function Rc(y){io(y),y.v&&(c.clearTimeout(y.v),y.v=null),Dc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ci(y){if(!xd(y.h)&&!y.m){y.m=!0;var S=y.Ea;P||V(),L||(P(),L=!0),k.add(S,y),y.D=0}}function Pc(y,S){return Ni(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=yi(h(y.Ea,y,S),hm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ee=new qa(this,this.j,y);let se=this.o;if(this.U&&(se?(se=q(se),H(se,this.U)):se=this.U),this.u!==null||this.R||(ee.J=se,se=null),this.S)e:{for(var S=0,O=0;O<this.i.length;O++){t:{var $=this.i[O];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(S+=$,S>4096){S=O;break e}if(S===4096||O===this.i.length-1){S=O+1;break e}}S=1e3}else S=1e3;S=cm(this,ee,S),O=En(this.J),jt(O,"RID",y),jt(O,"CVER",22),this.G&&jt(O,"X-HTTP-Session-Id",this.G),_l(this,O),se&&(this.R?S="headers="+ts(xa(se))+"&"+S:this.u&&xl(O,this.u,se)),bd(this.h,ee),this.Ra&&jt(O,"TYPE","init"),this.S?(jt(O,"$req",S),jt(O,"SID","null"),ee.U=!0,xi(ee,O,null)):xi(ee,O,S),this.I=2}}else this.I==3&&(y?Od(this,y):this.i.length==0||xd(this.h)||Od(this))};function Od(y,S){var O;S?O=S.l:O=y.V++;const $=En(y.J);jt($,"SID",y.M),jt($,"RID",O),jt($,"AID",y.K),_l(y,$),y.u&&y.o&&xl($,y.u,y.o),O=new qa(y,y.j,O,y.D+1),y.u===null&&(O.J=y.o),S&&(y.i=S.G.concat(y.i)),S=cm(y,O,1e3),O.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),bd(y.h,O),xi(O,$,S)}function _l(y,S){y.H&&Z(y.H,function(O,$){jt(S,$,O)}),y.l&&Z({},function(O,$){jt(S,$,O)})}function cm(y,S,O){O=Math.min(y.i.length,O);const $=y.l?h(y.l.Ka,y.l,y):null;e:{var ee=y.i;let Je=-1;for(;;){const hn=["count="+O];Je==-1?O>0?(Je=ee[0].g,hn.push("ofs="+Je)):Je=0:hn.push("ofs="+Je);let xt=!0;for(let Ht=0;Ht<O;Ht++){var se=ee[Ht].g;const ba=ee[Ht].map;if(se-=Je,se<0)Je=Math.max(0,ee[Ht].g-100),xt=!1;else try{se="req"+se+"_"||"";try{var Ee=ba instanceof Map?ba:Object.entries(ba);for(const[Oi,Wa]of Ee){let Xa=Wa;d(Wa)&&(Xa=tn(Wa)),hn.push(se+Oi+"="+encodeURIComponent(Xa))}}catch(Oi){throw hn.push(se+"type="+encodeURIComponent("_badmap")),Oi}}catch{$&&$(ba)}}if(xt){Ee=hn.join("&");break e}}Ee=void 0}return y=y.i.splice(0,O),S.G=y,Ee}function um(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;P||V(),L||(P(),L=!0),k.add(S,y),y.A=0}}function Nl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=yi(h(y.Da,y),hm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,dm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=yi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),io(this),dm(this))};function Rd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function dm(y){y.g=new qa(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=En(y.na);jt(S,"RID","rpc"),jt(S,"SID",y.M),jt(S,"AID",y.K),jt(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&jt(S,"TO",y.ia),jt(S,"TYPE","xmlhttp"),_l(y,S),y.u&&y.o&&xl(S,y.u,y.o),y.O&&(y.g.H=y.O);var O=y.g;y=y.ba,O.M=1,O.A=gl(En(S)),O.u=null,O.R=!0,Ec(O,y)}t.Va=function(){this.C!=null&&(this.C=null,io(this),Nl(this),_n(19))};function Dc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function fm(y,S){var O=null;if(y.g==S){Dc(y),Rd(y),y.g=null;var $=2}else if(ji(y.h,S))O=S.G,wd(y.h,S),$=1;else return;if(y.I!=0){if(S.o)if($==1){O=S.u?S.u.length:0,S=Date.now()-S.F;var ee=y.D;$=jc(),Fe($,new gi($,O)),Ci(y)}else um(y);else if(ee=S.m,ee==3||ee==0&&S.X>0||!($==1&&Pc(y,S)||$==2&&Nl(y)))switch(O&&O.length>0&&(S=y.h,S.i=S.i.concat(O)),ee){case 1:Ii(y,5);break;case 4:Ii(y,10);break;case 3:Ii(y,6);break;default:Ii(y,2)}}}function hm(y,S){let O=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(O*=2),O*S}function Ii(y,S){if(y.j.info("Error code "+S),S==2){var O=h(y.bb,y),$=y.Ua;const ee=!$;$=new ea($||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yn($,"https"),gl($),ee?Ga($.toString(),O):Td($.toString(),O)}else _n(2);y.I=0,y.l&&y.l.pa(S),mm(y),Rc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function mm(y){if(y.I=0,y.ja=[],y.l){const S=_d(y.h);(S.length!=0||y.i.length!=0)&&(E(y.ja,S),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function pm(y,S,O){var $=O instanceof ea?En(O):new ea(O);if($.g!="")S&&($.g=S+"."+$.g),Zs($,$.u);else{var ee=c.location;$=ee.protocol,S=S?S+"."+ee.hostname:ee.hostname,ee=+ee.port;const se=new ea(null);$&&Yn(se,$),S&&(se.g=S),ee&&Zs(se,ee),O&&(se.h=O),$=se}return O=y.G,S=y.wa,O&&S&&jt($,O,S),jt($,"VER",y.ka),_l(y,$),$}function gm(y,S,O){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new Ct(new Si({ab:O})):new Ct(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ym(){}t=ym.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function so(){}so.prototype.g=function(y,S){return new Er(y,S)};function Er(y,S){$e.call(this),this.g=new ao(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!B(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!B(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new as(this)}g(Er,$e),Er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){Id(this.g)},Er.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var O={};O.__data__=y,y=O}else this.v&&(O={},O.__data__=tn(y),y=O);S.i.push(new jn(S.Ya++,y)),S.I==3&&Ci(S)},Er.prototype.N=function(){this.g.l=null,delete this.j,Id(this.g),delete this.g,Er.Z.N.call(this)};function vm(y){wn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const O in S){y=O;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(vm,wn);function xm(){jr.call(this),this.status=1}g(xm,jr);function as(y){this.g=y}g(as,ym),as.prototype.ra=function(){Fe(this.g,"a")},as.prototype.qa=function(y){Fe(this.g,new vm(y))},as.prototype.pa=function(y){Fe(this.g,new xm)},as.prototype.oa=function(){Fe(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,Q3=function(){return new so},X3=function(){return jc()},W3=fn,y_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ml.NO_ERROR=0,ml.TIMEOUT=8,ml.HTTP_ERROR=6,ag=ml,gd.COMPLETE="complete",Y3=gd,dl.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",$e.prototype.listen=$e.prototype.J,Of=dl,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,K3=Ct}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});const cP="@firebase/firestore",uP="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new S0("@firebase/firestore");function gu(){return dc.logLevel}function Ie(t,...e){if(dc.logLevel<=lt.DEBUG){const n=e.map(Jj);dc.debug(`Firestore (${ld}): ${t}`,...n)}}function Fs(t,...e){if(dc.logLevel<=lt.ERROR){const n=e.map(Jj);dc.error(`Firestore (${ld}): ${t}`,...n)}}function $u(t,...e){if(dc.logLevel<=lt.WARN){const n=e.map(Jj);dc.warn(`Firestore (${ld}): ${t}`,...n)}}function Jj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Z3(t,r,n)}function Z3(t,e,n){let r=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function wt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||Z3(e,a,r)}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ble{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vr.UNAUTHENTICATED)))}shutdown(){}}class wle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _le{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new $o;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $o,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $o)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new J3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class Nle{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jle{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Nle(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ele{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Ie("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dP(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Sle(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function v_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return Yw(a)===Yw(s)?ct(a,s):Yw(a)?1:-1}return ct(t.length,e.length)}const Tle=55296,Ale=57343;function Yw(t){const e=t.charCodeAt(0);return e>=Tle&&e<=Ale}function qu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Mi.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return ct(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),a=Mi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):v_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class Vt extends Mi{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const Cle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends Mi{construct(e,n,r){return new dr(e,n,r)}static isValidIdentifier(e){return Cle.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fP}static keyField(){return new dr([fP])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Se(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Se(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(s(),a++)}if(s(),c)throw new Se(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(n)}static emptyPath(){return new dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Vt.fromString(e))}static fromName(e){return new Ue(Vt.fromString(e).popFirst(5))}static empty(){return new Ue(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e,n){if(!n)throw new Se(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ile(t,e,n,r){if(e===!0&&r===!0)throw new Se(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hP(t){if(!Ue.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mP(t){if(Ue.isDocumentKey(t))throw new Se(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function I0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Yo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=I0(t);throw new Se(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bh(t,e){if(!tL(t))throw new Se(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Se(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=-62135596800,gP=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gP);return new $t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pP)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gP}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bh(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Dn("string",$t._jsonSchemaVersion),seconds:Dn("number"),nanoseconds:Dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new $t(0,0))}static max(){return new Ye(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=-1;function Ole(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ye.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new Wo(a,Ue.empty(),e)}function Rle(t){return new Wo(t.readTime,t.key,sh)}class Wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wo(Ye.min(),Ue.empty(),sh)}static max(){return new Wo(Ye.max(),Ue.empty(),sh)}}function Ple(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cd(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==Dle)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ye.reject(n)}static resolve(e){return new ye(((n,r)=>{n(e)}))}static reject(e){return new ye(((n,r)=>{r(e)}))}static waitFor(e){return new ye(((n,r)=>{let a=0,s=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++s,c&&s===a&&n()}),(f=>r(f)))})),c=!0,s===a&&n()}))}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next((a=>a?ye.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new ye(((r,a)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===s&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new ye(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function Mle(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ud(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}O0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=-1;function R0(t){return t==null}function dy(t){return t===0&&1/t==-1/0}function Lle(t){return typeof t=="number"&&Number.isInteger(t)&&!dy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="";function Ule(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yP(e)),e=Vle(t.get(n),e);return yP(e)}function Vle(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case nL:n+="";break;default:n+=s}}return n}function yP(t){return t+nL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=a??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new ur(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ur.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xP(this.data.getIterator())}getIteratorFrom(e){return new xP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class xP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new da([])}unionWith(e){let n=new Bn(dr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new da(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aL("Invalid base64 string: "+s):s}})(e);return new mr(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new mr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const zle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=zle.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(t.seconds),nanos:yn(t.nanos)}}function yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qo(t){return typeof t=="string"?mr.fromBase64String(t):mr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="server_timestamp",sL="__type__",oL="__previous_value__",lL="__local_write_time__";function nE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sL])==null?void 0:r.stringValue)===iL}function P0(t){const e=t.mapValue.fields[oL];return nE(e)?P0(e):e}function oh(t){const e=Xo(t.mapValue.fields[lL].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(e,n,r,a,s,c,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const fy="(default)";class lh{constructor(e,n){this.projectId=e,this.database=n||fy}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===fy}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="__type__",Fle="__max__",$p={mapValue:{}},uL="__vector__",hy="value";function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nE(t)?4:qle(t)?9007199254740991:$le(t)?10:11:Be(28295,{value:t})}function Wi(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Xo(a.timestampValue),d=Xo(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Qo(a.bytesValue).isEqual(Qo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return yn(a.geoPointValue.latitude)===yn(s.geoPointValue.latitude)&&yn(a.geoPointValue.longitude)===yn(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return yn(a.integerValue)===yn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=yn(a.doubleValue),d=yn(s.doubleValue);return c===d?dy(c)===dy(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return qu(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},d=s.mapValue.fields||{};if(vP(c)!==vP(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Wi(c[f],d[f])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function ch(t,e){return(t.values||[]).find((n=>Wi(n,e)))!==void 0}function Hu(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=yn(s.integerValue||s.doubleValue),f=yn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return bP(t.timestampValue,e.timestampValue);case 4:return bP(oh(t),oh(e));case 5:return v_(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=Qo(s),f=Qo(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=ct(d[h],f[h]);if(p!==0)return p}return ct(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=ct(yn(s.latitude),yn(c.latitude));return d!==0?d:ct(yn(s.longitude),yn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wP(t.arrayValue,e.arrayValue);case 10:return(function(s,c){var x,w,E,N;const d=s.fields||{},f=c.fields||{},h=(x=d[hy])==null?void 0:x.arrayValue,p=(w=f[hy])==null?void 0:w.arrayValue,g=ct(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((N=p==null?void 0:p.values)==null?void 0:N.length)||0);return g!==0?g:wP(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===$p.mapValue&&c===$p.mapValue)return 0;if(s===$p.mapValue)return 1;if(c===$p.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=v_(f[g],p[g]);if(x!==0)return x;const w=Hu(d[f[g]],h[p[g]]);if(w!==0)return w}return ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function bP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=Xo(t),r=Xo(e),a=ct(n.seconds,r.seconds);return a!==0?a:ct(n.nanos,r.nanos)}function wP(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Hu(n[a],r[a]);if(s)return s}return ct(n.length,r.length)}function Gu(t){return x_(t)}function x_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Xo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Qo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=x_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const c of r)s?s=!1:a+=",",a+=`${c}:${x_(n.fields[c])}`;return a+"}"})(t.mapValue):Be(61005,{value:t})}function ig(t){switch(Zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=P0(t);return e?16+ig(e):16;case 5:return 2*t.stringValue.length;case 6:return Qo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+ig(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return il(r.fields,((s,c)=>{a+=s.length+ig(c)})),a})(t.mapValue);default:throw Be(13486,{value:t})}}function _P(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function b_(t){return!!t&&"integerValue"in t}function rE(t){return!!t&&"arrayValue"in t}function NP(t){return!!t&&"nullValue"in t}function jP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sg(t){return!!t&&"mapValue"in t}function $le(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cL])==null?void 0:r.stringValue)===uL}function Lf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return il(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Lf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lf(t.arrayValue.values[n]);return e}return{...t}}function qle(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lf(n)}setAll(e){let n=dr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Lf(c):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];sg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){il(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new $r(Lf(this.value))}}function dL(t){const e=[];return il(t.fields,((n,r)=>{const a=new dr([n]);if(sg(r)){const s=dL(r.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new da(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,r,a,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new br(e,0,Ye.min(),Ye.min(),Ye.min(),$r.empty(),0)}static newFoundDocument(e,n,r,a){return new br(e,1,n,Ye.min(),r,a,0)}static newNoDocument(e,n){return new br(e,2,n,Ye.min(),Ye.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new br(e,3,n,Ye.min(),Ye.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new br(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.position=e,this.inclusive=n}}function EP(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?r=Ue.comparator(Ue.fromName(c.referenceValue),n.key):r=Hu(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hle(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{}class Rn extends fL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Kle(e,n,r):n==="array-contains"?new Xle(e,r):n==="in"?new Qle(e,r):n==="not-in"?new Zle(e,r):n==="array-contains-any"?new Jle(e,r):new Rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yle(e,r):new Wle(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hu(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(Hu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends fL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return hL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hL(t){return t.op==="and"}function mL(t){return Gle(t)&&hL(t)}function Gle(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function w_(t){if(t instanceof Rn)return t.field.canonicalString()+t.op.toString()+Gu(t.value);if(mL(t))return t.filters.map((e=>w_(e))).join(",");{const e=t.filters.map((n=>w_(n))).join(",");return`${t.op}(${e})`}}function pL(t,e){return t instanceof Rn?(function(r,a){return a instanceof Rn&&r.op===a.op&&r.field.isEqual(a.field)&&Wi(r.value,a.value)})(t,e):t instanceof di?(function(r,a){return a instanceof di&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,c,d)=>s&&pL(c,a.filters[d])),!0):!1})(t,e):void Be(19439)}function gL(t){return t instanceof Rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gu(n.value)}`})(t):t instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(gL).join(" ,")+"}"})(t):"Filter"}class Kle extends Rn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class Yle extends Rn{constructor(e,n){super(e,"in",n),this.keys=yL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Wle extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=yL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ue.fromName(r.referenceValue)))}class Xle extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rE(n)&&ch(n.arrayValue,this.value)}}class Qle extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class Zle extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ch(this.value.arrayValue,n)}}class Jle extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ch(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ece{constructor(e,n=null,r=[],a=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function TP(t,e=null,n=[],r=[],a=null,s=null,c=null){return new ece(t,e,n,r,a,s,c)}function aE(t){const e=Ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>w_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),R0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Gu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Gu(r))).join(",")),e.Te=n}return e.Te}function iE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Hle(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SP(t.startAt,e.startAt)&&SP(t.endAt,e.endAt)}function __(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n=null,r=[],a=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tce(t,e,n,r,a,s,c,d){return new dd(t,e,n,r,a,s,c,d)}function vL(t){return new dd(t)}function AP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xL(t){return t.collectionGroup!==null}function Uf(t){const e=Ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bn(dr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new uh(s,r))})),n.has(dr.keyField().canonicalString())||e.Ie.push(new uh(dr.keyField(),r))}return e.Ie}function Vi(t){const e=Ze(t);return e.Ee||(e.Ee=nce(e,Uf(t))),e.Ee}function nce(t,e){if(t.limitType==="F")return TP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new uh(a.field,s)}));const n=t.endAt?new my(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new my(t.startAt.position,t.startAt.inclusive):null;return TP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function N_(t,e){const n=t.filters.concat([e]);return new dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function py(t,e,n){return new dd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function D0(t,e){return iE(Vi(t),Vi(e))&&t.limitType===e.limitType}function bL(t){return`${aE(Vi(t))}|lt:${t.limitType}`}function yu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>gL(a))).join(", ")}]`),R0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Gu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Gu(a))).join(",")),`Target(${r})`})(Vi(t))}; limitType=${t.limitType})`}function k0(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of Uf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const h=EP(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,Uf(r),a)||r.endAt&&!(function(c,d,f){const h=EP(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,Uf(r),a))})(t,e)}function rce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wL(t){return(e,n)=>{let r=!1;for(const a of Uf(t)){const s=ace(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function ace(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):(function(s,c,d){const f=c.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Hu(f,h):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return rL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ice=new rn(Ue.comparator);function $s(){return ice}const _L=new rn(Ue.comparator);function Rf(...t){let e=_L;for(const n of t)e=e.insert(n.key,n);return e}function NL(t){let e=_L;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Yl(){return Vf()}function jL(){return Vf()}function Vf(){return new _c((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sce=new rn(Ue.comparator),oce=new Bn(Ue.comparator);function ut(...t){let e=oce;for(const n of t)e=e.add(n);return e}const lce=new Bn(ct);function cce(){return lce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dy(e)?"-0":e}}function EL(t){return{integerValue:""+t}}function uce(t,e){return Lle(e)?EL(e):sE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this._=void 0}}function dce(t,e,n){return t instanceof gy?(function(a,s){const c={fields:{[sL]:{stringValue:iL},[lL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&nE(s)&&(s=P0(s)),s&&(c.fields[oL]=s),{mapValue:c}})(n,e):t instanceof dh?TL(t,e):t instanceof fh?AL(t,e):(function(a,s){const c=SL(a,s),d=CP(c)+CP(a.Ae);return b_(c)&&b_(a.Ae)?EL(d):sE(a.serializer,d)})(t,e)}function fce(t,e,n){return t instanceof dh?TL(t,e):t instanceof fh?AL(t,e):n}function SL(t,e){return t instanceof yy?(function(r){return b_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class gy extends M0{}class dh extends M0{constructor(e){super(),this.elements=e}}function TL(t,e){const n=CL(e);for(const r of t.elements)n.some((a=>Wi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class fh extends M0{constructor(e){super(),this.elements=e}}function AL(t,e){let n=CL(e);for(const r of t.elements)n=n.filter((a=>!Wi(a,r)));return{arrayValue:{values:n}}}class yy extends M0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CP(t){return yn(t.integerValue||t.doubleValue)}function CL(t){return rE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hce(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof dh&&a instanceof dh||r instanceof fh&&a instanceof fh?qu(r.elements,a.elements,Wi):r instanceof yy&&a instanceof yy?Wi(r.Ae,a.Ae):r instanceof gy&&a instanceof gy})(t.transform,e.transform)}class mce{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class L0{}function IL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new U0(t.key,Wr.none()):new Fh(t.key,t.data,Wr.none());{const n=t.data,r=$r.empty();let a=new Bn(dr.comparator);for(let s of e.fields)if(!a.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),a=a.add(s)}return new sl(t.key,r,new da(a.toArray()),Wr.none())}}function pce(t,e,n){t instanceof Fh?(function(a,s,c){const d=a.value.clone(),f=OP(a.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof sl?(function(a,s,c){if(!og(a.precondition,s))return void s.convertToUnknownDocument(c.version);const d=OP(a.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(OL(a)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function zf(t,e,n,r){return t instanceof Fh?(function(s,c,d,f){if(!og(s.precondition,c))return d;const h=s.value.clone(),p=RP(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof sl?(function(s,c,d,f){if(!og(s.precondition,c))return d;const h=RP(s.fieldTransforms,f,c),p=c.data;return p.setAll(OL(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,d){return og(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function gce(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=SL(r.transform,a||null);s!=null&&(n===null&&(n=$r.empty()),n.set(r.field,s))}return n||null}function IP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&qu(r,a,((s,c)=>hce(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fh extends L0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sl extends L0{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function OP(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],c=s.transform,d=e.data.field(s.field);r.set(s.field,fce(c,d,n[a]))}return r}function RP(t,e,n){const r=new Map;for(const a of t){const s=a.transform,c=n.data.field(a.field);r.set(a.field,dce(s,c,e))}return r}class U0 extends L0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yce extends L0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&pce(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jL();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(a.key)?null:d;const f=IL(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&qu(this.mutations,e.mutations,((n,r)=>IP(n,r)))&&qu(this.baseMutations,e.baseMutations,((n,r)=>IP(n,r)))}}class oE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return sce})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,r[c].version);return new oE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,ht;function wce(t){switch(t){case me.OK:return Be(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function RL(t){if(t===void 0)return Fs("GRPC error has no .code"),me.UNKNOWN;switch(t){case In.OK:return me.OK;case In.CANCELLED:return me.CANCELLED;case In.UNKNOWN:return me.UNKNOWN;case In.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case In.INTERNAL:return me.INTERNAL;case In.UNAVAILABLE:return me.UNAVAILABLE;case In.UNAUTHENTICATED:return me.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case In.NOT_FOUND:return me.NOT_FOUND;case In.ALREADY_EXISTS:return me.ALREADY_EXISTS;case In.PERMISSION_DENIED:return me.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case In.ABORTED:return me.ABORTED;case In.OUT_OF_RANGE:return me.OUT_OF_RANGE;case In.UNIMPLEMENTED:return me.UNIMPLEMENTED;case In.DATA_LOSS:return me.DATA_LOSS;default:return Be(39323,{code:t})}}(ht=In||(In={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nce=new Fo([4294967295,4294967295],0);function PP(t){const e=_ce().encode(t),n=new G3;return n.update(e),new Uint8Array(n.digest())}function DP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([a,s],0)]}class lE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pf(`Invalid padding: ${n}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Fo.fromNumber(r)));return a.compare(Nce)===1&&(a=new Fo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=PP(e),[r,a]=DP(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new lE(s,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=PP(e),[r,a]=DP(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,$h.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new V0(Ye.min(),a,new rn(ct),$s(),ut())}}class $h{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $h(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class PL{constructor(e,n){this.targetId=e,this.Ce=n}}class DL{constructor(e,n,r=mr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class kP{constructor(){this.ve=0,this.Fe=MP(),this.Me=mr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),r=ut();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Be(38017,{changeType:s})}})),new $h(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=MP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jce{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=qp(),this.He=qp(),this.Ye=new rn(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(__(s))if(r===0){const c=new Ue(s.path);this.et(n,c,br.newNoDocument(c,Ye.min()))}else wt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let c,d;try{c=Qo(r).toUint8Array()}catch(f){if(f instanceof aL)return $u("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new lE(c,a,s)}catch(f){return $u(f instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&__(d.target)){const f=new Ue(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,br.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.qe())}}));let r=ut();this.He.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new V0(e,n,this.Ye,this.je,r);return this.je=$s(),this.Je=qp(),this.He=qp(),this.Ye=new rn(ct),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qp(){return new rn(Ue.comparator)}function MP(){return new rn(Ue.comparator)}const Ece={asc:"ASCENDING",desc:"DESCENDING"},Sce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tce={and:"AND",or:"OR"};class Ace{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function j_(t,e){return t.useProto3Json||R0(e)?e:{value:e}}function vy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Cce(t,e){return vy(t,e.toTimestamp())}function zi(t){return wt(!!t,49232),Ye.fromTimestamp((function(n){const r=Xo(n);return new $t(r.seconds,r.nanos)})(t))}function cE(t,e){return E_(t,e).canonicalString()}function E_(t,e){const n=(function(a){return new Vt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ML(t){const e=Vt.fromString(t);return wt(BL(e),10190,{key:e.toString()}),e}function S_(t,e){return cE(t.databaseId,e.path)}function Ww(t,e){const n=ML(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(UL(n))}function LL(t,e){return cE(t.databaseId,e)}function Ice(t){const e=ML(t);return e.length===4?Vt.emptyPath():UL(e)}function T_(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UL(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LP(t,e,n){return{name:S_(t,e),fields:n.value.mapValue.fields}}function Oce(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(wt(p===void 0||typeof p=="string",58123),mr.fromBase64String(p||"")):(wt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),mr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?me.UNKNOWN:RL(h.code);return new Se(p,h.message||"")})(c);n=new DL(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ww(t,r.document.name),s=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):Ye.min(),d=new $r({mapValue:{fields:r.document.fields}}),f=br.newFoundDocument(a,s,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new lg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ww(t,r.document),s=r.readTime?zi(r.readTime):Ye.min(),c=br.newNoDocument(a,s),d=r.removedTargetIds||[];n=new lg([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ww(t,r.document),s=r.removedTargetIds||[];n=new lg([],s,a,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,c=new bce(a,s),d=r.targetId;n=new PL(d,c)}}return n}function Rce(t,e){let n;if(e instanceof Fh)n={update:LP(t,e.key,e.value)};else if(e instanceof U0)n={delete:S_(t,e.key)};else if(e instanceof sl)n={update:LP(t,e.key,e.data),updateMask:Bce(e.fieldMask)};else{if(!(e instanceof yce))return Be(16599,{Vt:e.type});n={verify:S_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const d=c.transform;if(d instanceof gy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof yy)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Be(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:Cce(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Be(27497)})(t,e.precondition)),n}function Pce(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((n=>(function(a,s){let c=a.updateTime?zi(a.updateTime):zi(s);return c.isEqual(Ye.min())&&(c=zi(s)),new mce(c,a.transformResults||[])})(n,e)))):[]}function Dce(t,e){return{documents:[LL(t,e.path)]}}function kce(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LL(t,a);const s=(function(h){if(h.length!==0)return zL(di.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:vu(x.field),direction:Uce(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=j_(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function Mce(t){let e=Ice(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){wt(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=VL(g);return x instanceof di&&mL(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(E){return new uh(xu(E.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,R0(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,w=g.values||[];return new my(w,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,w=g.values||[];return new my(w,x)})(n.endAt)),tce(e,a,c,s,d,"F",f,h)}function Lce(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xu(n.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=xu(n.unaryFilter.field);return Rn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xu(n.unaryFilter.field);return Rn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xu(n.unaryFilter.field);return Rn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rn.create(xu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((r=>VL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function Uce(t){return Ece[t]}function Vce(t){return Sce[t]}function zce(t){return Tce[t]}function vu(t){return{fieldPath:t.canonicalString()}}function xu(t){return dr.fromServerFormat(t.fieldPath)}function zL(t){return t instanceof Rn?(function(n){if(n.op==="=="){if(jP(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NAN"}};if(NP(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jP(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NAN"}};if(NP(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(n.field),op:Vce(n.op),value:n.value}}})(t):t instanceof di?(function(n){const r=n.getFilters().map((a=>zL(a)));return r.length===1?r[0]:{compositeFilter:{op:zce(n.op),filters:r}}})(t):Be(54877,{filter:t})}function Bce(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function BL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r,a,s=Ye.min(),c=Ye.min(),d=mr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fce{constructor(e){this.yt=e}}function $ce(t){const e=Mce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?py(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qce{constructor(){this.Cn=new Hce}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Wo.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Wo.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class Hce{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Bn(Vt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Bn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FL=41943040;class Fr{static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(FL,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ku(0)}static cr(){return new Ku(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="LruGarbageCollector",Gce=1048576;function zP([t,e],[n,r]){const a=ct(t,n);return a===0?ct(e,r):a}class Kce{constructor(e){this.Ir=e,this.buffer=new Bn(zP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Yce{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ie(VP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ud(n)?Ie(VP,"Ignoring IndexedDB error during garbage collection: ",n):await cd(n)}await this.Vr(3e5)}))}}class Wce{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(O0.ce);const r=new Kce(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(UP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),gu()<=lt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function Xce(t,e){return new Wce(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(){this.changes=new _c((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&zf(r.mutation,a,da.empty(),$t.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ut()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ut()){const a=Yl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let c=Rf();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Yl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ut())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let s=$s();const c=Vf(),d=(function(){return Vf()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof sl)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),zf(p.mutation,h,p.mutation.getFieldMask(),$t.now())):c.set(h.key,da.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new Zce(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Vf();let a=new rn(((c,d)=>c-d)),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||da.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||ut()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=jL();p.forEach((x=>{if(!s.has(x)){const w=IL(n.get(x),r.get(x));w!==null&&g.set(x,w),s=s.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ye.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return Ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):ye.resolve(Yl());let d=sh,f=s;return c.next((h=>ye.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?ye.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ut()))).next((p=>({batchId:d,changes:NL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((r=>{let a=Rf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let c=Rf();return this.indexManager.getCollectionParents(e,s).next((d=>ye.forEach(d,(f=>{const h=(function(g,x){return new dd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,br.newInvalidDocument(p)))}));let d=Rf();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&zf(p.mutation,h,da.empty(),$t.now()),k0(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ye.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}})(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:$ce(a.bundledQuery),readTime:zi(a.readTime)}})(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(){this.overlays=new rn(Ue.comparator),this.qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yl();return ye.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),ye.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const a=Yl(),s=n.length+1,c=new Ue(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return ye.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new rn(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Yl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Yl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return ye.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new xce(n,r));let s=this.qr.get(n);s===void 0&&(s=ut(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nue{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.Qr=new Bn(er.$r),this.Ur=new Bn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new er(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new er(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ue(new Vt([])),r=new er(n,e),a=new er(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),s.push(c.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new Vt([])),r=new er(n,e),a=new er(n,e+1);let s=ut();return this.Ur.forEachInRange([r,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new er(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(er.$r)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vce(s,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new er(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,n){return ye.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?tE:this.tr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),a=new er(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);s.push(d)})),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(ct);return n.forEach((a=>{const s=new er(a,0),c=new er(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,c],(d=>{r=r.add(d.Yr)}))})),ye.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Ue.isDocumentKey(s)||(s=s.child(""));const c=new er(new Ue(s),0);let d=new Bn(ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),c),ye.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ye.forEach(n.mutations,(a=>{const s=new er(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new er(n,0),a=this.Zr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(e){this.ri=e,this.docs=(function(){return new rn(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():br.newInvalidDocument(n))}getEntries(e,n){let r=$s();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():br.newInvalidDocument(a))})),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=$s();const c=n.path,d=new Ue(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||Ple(Rle(p),r)<=0||(a.has(p.key)||k0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Be(9500)}ii(e,n){return ye.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new iue(this)}getSize(e){return ye.resolve(this.size)}}class iue extends Qce{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ye.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(e){this.persistence=e,this.si=new _c((n=>aE(n)),iE),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.oi=0,this._i=new uE,this.targetCount=0,this.ai=Ku.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ye.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ku(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Pr(n),ye.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),ye.waitFor(s).next((()=>a))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.ui={},this.overlays={},this.ci=new O0(0),this.li=!1,this.li=!0,this.hi=new nue,this.referenceDelegate=e(this),this.Pi=new sue(this),this.indexManager=new qce,this.remoteDocumentCache=(function(a){return new aue(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Fce(n),this.Ii=new eue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new rue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const a=new oue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return ye.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class oue extends kle{constructor(e){super(),this.currentSequenceNumber=e}}class dE{constructor(e){this.persistence=e,this.Ri=new uE,this.Vi=null}static mi(e){return new dE(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.fi,(r=>{const a=Ue.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ye.or([()=>ye.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xy{constructor(e,n){this.persistence=e,this.pi=new _c((r=>Ule(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=Xce(this,n)}static mi(e,n){return new xy(e,n)}Ei(){}di(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ye.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?ye.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,s.removeEntry(c,Ye.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ye.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ig(e.data.value)),n}br(e,n,r){return ye.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ye.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=ut(),a=ut();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new fE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Oie()?8:Mle(_r())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new lue;return this.Ss(e,n,c).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(gu()<=lt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",yu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ye.resolve()):(gu()<=lt.DEBUG&&Ie("QueryEngine","Query:",yu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(gu()<=lt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",yu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ye.resolve())}ys(e,n){if(AP(n))return ye.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=py(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=ut(...s);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,c,f.readTime)?this.ys(e,py(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return AP(n)||a.isEqual(Ye.min())?ye.resolve(null):this.ps.getDocuments(e,r).next((s=>{const c=this.Ds(n,s);return this.Cs(n,c,r,a)?ye.resolve(null):(gu()<=lt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yu(n)),this.vs(e,c,n,Ole(a,sh)).next((d=>d)))}))}Ds(e,n){let r=new Bn(wL(e));return n.forEach(((a,s)=>{k0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return gu()<=lt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",yu(n)),this.ps.getDocumentsMatchingQuery(e,n,Wo.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LocalStore",uue=3e8;class due{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new rn(ct),this.xs=new _c((s=>aE(s)),iE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jce(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function fue(t,e,n,r){return new due(t,e,n,r)}async function qL(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],d=[];let f=ut();for(const h of a){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function hue(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let w=ye.resolve();return x.forEach((E=>{w=w.next((()=>p.getEntry(f,E))).next((N=>{const j=h.docVersions.get(E);wt(j!==null,48541),N.version.compareTo(j)<0&&(g.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),p.addEntry(N)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=ut();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function HL(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function mue(t,e){const n=Ze(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(mr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(g,w),(function(N,j,A){return N.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=uue?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(x,w,p)&&d.push(n.Pi.updateTargetData(s,w))}));let f=$s(),h=ut();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(pue(s,c,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Ye.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return ye.waitFor(d).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function pue(t,e,n){let r=ut(),a=ut();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=$s();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Ye.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Ie(hE,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function gue(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function yue(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,ye.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Uo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function A_(t,e,n){const r=Ze(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ud(c))throw c;Ie(hE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function BP(t,e,n){const r=Ze(t);let a=Ye.min(),s=ut();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=Ze(f),x=g.xs.get(p);return x!==void 0?ye.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,c,Vi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Ye.min(),n?s:ut()))).next((d=>(vue(r,rce(e),d),{documents:d,Qs:s})))))}function vue(t,e,n){let r=t.Os.get(e)||Ye.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class FP{constructor(){this.activeTargetIds=cce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xue{constructor(){this.Mo=new FP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="ConnectivityMonitor";class qP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ie($P,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ie($P,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp=null;function C_(){return Hp===null?Hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hp++,"0x"+Hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="RestConnection",wue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _ue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===fy?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const c=C_(),d=this.zo(e,n.toUriEncodedString());Ie(Xw,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=xc(h);return this.Jo(e,d,f,r,p).then((g=>(Ie(Xw,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw $u(Xw,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,c){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ld})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=wue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="WebChannelConnection";class jue extends _ue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const c=C_();return new Promise(((d,f)=>{const h=new K3;h.setWithCredentials(!0),h.listenOnce(Y3.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case ag.NO_ERROR:const g=h.getResponseJson();Ie(gr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case ag.TIMEOUT:Ie(gr,`RPC '${e}' ${c} timed out`),f(new Se(me.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:const x=h.getStatus();if(Ie(gr,`RPC '${e}' ${c} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const N=(function(A){const U=A.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(U)>=0?U:me.UNKNOWN})(E.status);f(new Se(N,E.message))}else f(new Se(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Se(me.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ie(gr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);Ie(gr,`RPC '${e}' ${c} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=C_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Q3(),d=X3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");Ie(gr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=c.createWebChannel(p,f);this.I_(g);let x=!1,w=!1;const E=new Nue({Yo:j=>{w?Ie(gr,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(Ie(gr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),Ie(gr,`RPC '${e}' stream ${a} sending:`,j),g.send(j))},Zo:()=>g.close()}),N=(j,A,U)=>{j.listen(A,(T=>{try{U(T)}catch(M){setTimeout((()=>{throw M}),0)}}))};return N(g,Of.EventType.OPEN,(()=>{w||(Ie(gr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),N(g,Of.EventType.CLOSE,(()=>{w||(w=!0,Ie(gr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),N(g,Of.EventType.ERROR,(j=>{w||(w=!0,$u(gr,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),E.a_(new Se(me.UNAVAILABLE,"The operation could not be completed")))})),N(g,Of.EventType.MESSAGE,(j=>{var A;if(!w){const U=j.data[0];wt(!!U,16349);const T=U,M=(T==null?void 0:T.error)||((A=T[0])==null?void 0:A.error);if(M){Ie(gr,`RPC '${e}' stream ${a} received error:`,M);const P=M.status;let L=(function(D){const I=In[D];if(I!==void 0)return RL(I)})(P),k=M.message;L===void 0&&(L=me.INTERNAL,k="Unknown error status: "+P+" with message "+M.message),w=!0,E.a_(new Se(L,k)),g.close()}else Ie(gr,`RPC '${e}' stream ${a} received:`,U),E.u_(U)}})),N(d,W3.STAT_EVENT,(j=>{j.stat===y_.PROXY?Ie(gr,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===y_.NOPROXY&&Ie(gr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){return new Ace(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="PersistentStream";class KL{constructor(e,n,r,a,s,c,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Se(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ie(HP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ie(HP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Eue extends KL{constructor(e,n,r,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Oce(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ye.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Ye.min():c.readTime?zi(c.readTime):Ye.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=T_(this.serializer),n.addTarget=(function(s,c){let d;const f=c.target;if(d=__(f)?{documents:Dce(s,f)}:{query:kce(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=kL(s,c.resumeToken);const h=j_(s,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(Ye.min())>0){d.readTime=vy(s,c.snapshotVersion.toTimestamp());const h=j_(s,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=Lce(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=T_(this.serializer),n.removeTarget=e,this.q_(n)}}class Sue extends KL{constructor(e,n,r,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Pce(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=T_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Rce(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{}class Aue extends Tue{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Go(e,E_(n,r),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(me.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,E_(n,r),a,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(me.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Cue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(n),this.aa=!1):Ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="RemoteStore";class Iue{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Nc(this)&&(Ie(fc,"Restarting streams for network reachability change."),await(async function(f){const h=Ze(f);h.Ea.add(4),await qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await B0(h)})(this))}))})),this.Ra=new Cue(r,a)}}async function B0(t){if(Nc(t))for(const e of t.da)await e(!0)}async function qh(t){for(const e of t.da)await e(!1)}function YL(t,e){const n=Ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yE(n)?gE(n):fd(n).O_()&&pE(n,e))}function mE(t,e){const n=Ze(t),r=fd(n);n.Ia.delete(e),r.O_()&&WL(n,e),n.Ia.size===0&&(r.O_()?r.L_():Nc(n)&&n.Ra.set("Unknown"))}function pE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fd(t).Y_(e)}function WL(t,e){t.Va.Ue(e),fd(t).Z_(e)}function gE(t){t.Va=new jce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fd(t).start(),t.Ra.ua()}function yE(t){return Nc(t)&&!fd(t).x_()&&t.Ia.size>0}function Nc(t){return Ze(t).Ea.size===0}function XL(t){t.Va=void 0}async function Oue(t){t.Ra.set("Online")}async function Rue(t){t.Ia.forEach(((e,n)=>{pE(t,e)}))}async function Pue(t,e){XL(t),yE(t)?(t.Ra.ha(e),gE(t)):t.Ra.set("Unknown")}async function Due(t,e,n){if(t.Ra.set("Online"),e instanceof DL&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Ie(fc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await by(t,r)}else if(e instanceof lg?t.Va.Ze(e):e instanceof PL?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ye.min()))try{const r=await HL(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const d=s.Va.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(mr.EMPTY_BYTE_STRING,p.snapshotVersion)),WL(s,f);const g=new Uo(p.target,f,h,p.sequenceNumber);pE(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ie(fc,"Failed to raise snapshot:",r),await by(t,r)}}async function by(t,e,n){if(!ud(e))throw e;t.Ea.add(1),await qh(t),t.Ra.set("Offline"),n||(n=()=>HL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ie(fc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await B0(t)}))}function QL(t,e){return e().catch((n=>by(t,n,e)))}async function F0(t){const e=Ze(t),n=Jo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tE;for(;kue(e);)try{const a=await gue(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Mue(e,a)}catch(a){await by(e,a)}ZL(e)&&JL(e)}function kue(t){return Nc(t)&&t.Ta.length<10}function Mue(t,e){t.Ta.push(e);const n=Jo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZL(t){return Nc(t)&&!Jo(t).x_()&&t.Ta.length>0}function JL(t){Jo(t).start()}async function Lue(t){Jo(t).ra()}async function Uue(t){const e=Jo(t);for(const n of t.Ta)e.ea(n.mutations)}async function Vue(t,e,n){const r=t.Ta.shift(),a=oE.from(r,e,n);await QL(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await F0(t)}async function zue(t,e){e&&Jo(t).X_&&await(async function(r,a){if((function(c){return wce(c)&&c!==me.ABORTED})(a.code)){const s=r.Ta.shift();Jo(r).B_(),await QL(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await F0(r)}})(t,e),ZL(t)&&JL(t)}async function GP(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Ie(fc,"RemoteStore received new credentials");const r=Nc(n);n.Ea.add(3),await qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await B0(n)}async function Bue(t,e){const n=Ze(t);e?(n.Ea.delete(2),await B0(n)):e||(n.Ea.add(2),await qh(n),n.Ra.set("Unknown"))}function fd(t){return t.ma||(t.ma=(function(n,r,a){const s=Ze(n);return s.sa(),new Eue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Oue.bind(null,t),t_:Rue.bind(null,t),r_:Pue.bind(null,t),H_:Due.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),yE(t)?gE(t):t.Ra.set("Unknown")):(await t.ma.stop(),XL(t))}))),t.ma}function Jo(t){return t.fa||(t.fa=(function(n,r,a){const s=Ze(n);return s.sa(),new Sue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Lue.bind(null,t),r_:zue.bind(null,t),ta:Uue.bind(null,t),na:Vue.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await F0(t)):(await t.fa.stop(),t.Ta.length>0&&(Ie(fc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new $o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const c=Date.now()+r,d=new vE(e,n,c,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xE(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),ud(t))return new Se(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{static emptySet(e){return new Au(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Rf(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.ga=new rn(Ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Yu{constructor(e,n,r,a,s,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Yu(e,n,Au.emptySet(n),c,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&D0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $ue{constructor(){this.queries=YP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ze(n),s=a.queries;a.queries=YP(),s.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new Se(me.ABORTED,"Firestore shutting down"))}}function YP(){return new _c((t=>bL(t)),D0)}async function que(t,e){const n=Ze(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new Fue,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=xE(c,`Initialization of query '${yu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&bE(n)}async function Hue(t,e){const n=Ze(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const c=s.Sa.indexOf(e);c>=0&&(s.Sa.splice(c,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gue(t,e){const n=Ze(t);let r=!1;for(const a of e){const s=a.query,c=n.queries.get(s);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&bE(n)}function Kue(t,e,n){const r=Ze(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function bE(t){t.Ca.forEach((e=>{e.next()}))}var I_,WP;(WP=I_||(I_={})).Ma="default",WP.Cache="cache";class Yue{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==I_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.key=e}}class tU{constructor(e){this.key=e}}class Wue{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=wL(e),this.tu=new Au(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new KP,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),w=k0(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;x&&w?x.data.isEqual(w.data)?E!==N&&(r.track({type:3,doc:w}),j=!0):this.su(x,w)||(r.track({type:2,doc:w}),j=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),j=!0):x&&!w&&(r.track({type:1,doc:x}),j=!0,(f||h)&&(d=!0)),j&&(w?(c=c.add(w),s=N?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(w,E){const N=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:j})}};return N(w)-N(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,c.length!==0||h?{snapshot:new Yu(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new tU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new eU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wE="SyncEngine";class Xue{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Que{constructor(e){this.key=e,this.hu=!1}}class Zue{constructor(e,n,r,a,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _c((d=>bL(d)),D0),this.Iu=new Map,this.Eu=new Set,this.du=new rn(Ue.comparator),this.Au=new Map,this.Ru=new uE,this.Vu={},this.mu=new Map,this.fu=Ku.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Jue(t,e,n=!0){const r=oU(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await nU(r,e,n,!0),a}async function ede(t,e){const n=oU(t);await nU(n,e,!0,!1)}async function nU(t,e,n,r){const a=await yue(t.localStore,Vi(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await tde(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&YL(t.remoteStore,a),d}async function tde(t,e,n,r,a){t.pu=(g,x,w)=>(async function(N,j,A,U){let T=j.view.ru(A);T.Cs&&(T=await BP(N.localStore,j.query,!1).then((({documents:k})=>j.view.ru(k,T))));const M=U&&U.targetChanges.get(j.targetId),P=U&&U.targetMismatches.get(j.targetId)!=null,L=j.view.applyChanges(T,N.isPrimaryClient,M,P);return QP(N,j.targetId,L.au),L.snapshot})(t,g,x,w);const s=await BP(t.localStore,e,!0),c=new Wue(e,s.Qs),d=c.ru(s.documents),f=$h.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=c.applyChanges(d,t.isPrimaryClient,f);QP(t,n,h.au);const p=new Xue(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function nde(t,e,n){const r=Ze(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((c=>!D0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await A_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&mE(r.remoteStore,a.targetId),O_(r,a.targetId)})).catch(cd)):(O_(r,a.targetId),await A_(r.localStore,a.targetId,!0))}async function rde(t,e){const n=Ze(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mE(n.remoteStore,r.targetId))}async function ade(t,e,n){const r=dde(t);try{const a=await(function(c,d){const f=Ze(c),h=$t.now(),p=d.reduce(((w,E)=>w.add(E.key)),ut());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=$s(),N=ut();return f.Ns.getEntries(w,p).next((j=>{E=j,E.forEach(((A,U)=>{U.isValidDocument()||(N=N.add(A))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,E))).next((j=>{g=j;const A=[];for(const U of d){const T=gce(U,g.get(U.key).overlayedDocument);T!=null&&A.push(new sl(U.key,T,dL(T.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,A,d)})).next((j=>{x=j;const A=j.applyToLocalDocumentSet(g,N);return f.documentOverlayCache.saveOverlays(w,j.batchId,A)}))})).then((()=>({batchId:x.batchId,changes:NL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let h=c.Vu[c.currentUser.toKey()];h||(h=new rn(ct)),h=h.insert(d,f),c.Vu[c.currentUser.toKey()]=h})(r,a.batchId,n),await Hh(r,a.changes),await F0(r.remoteStore)}catch(a){const s=xE(a,"Failed to persist write");n.reject(s)}}async function rU(t,e){const n=Ze(t);try{const r=await mue(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=n.Au.get(s);c&&(wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?wt(c.hu,14607):a.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await Hh(n,r,e)}catch(r){await cd(r)}}function XP(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=Ze(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&bE(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ide(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let c=new rn(Ue.comparator);c=c.insert(s,br.newNoDocument(s,Ye.min()));const d=ut().add(s),f=new V0(Ye.min(),new Map,new rn(ct),c,d);await rU(r,f),r.du=r.du.remove(s),r.Au.delete(e),_E(r)}else await A_(r.localStore,e,!1).then((()=>O_(r,e,n))).catch(cd)}async function sde(t,e){const n=Ze(t),r=e.batch.batchId;try{const a=await hue(n.localStore,e);iU(n,r,null),aU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hh(n,a)}catch(a){await cd(a)}}async function ode(t,e,n){const r=Ze(t);try{const a=await(function(c,d){const f=Ze(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(wt(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);iU(r,e,n),aU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hh(r,a)}catch(a){await cd(a)}}function aU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iU(t,e,n){const r=Ze(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function O_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||sU(t,r)}))}function sU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(mE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_E(t))}function QP(t,e,n){for(const r of n)r instanceof eU?(t.Ru.addReference(r.key,e),lde(t,r)):r instanceof tU?(Ie(wE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sU(t,r.key)):Be(19791,{wu:r})}function lde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ie(wE,"New document in limbo: "+n),t.Eu.add(r),_E(t))}function _E(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ue(Vt.fromString(e)),r=t.fu.next();t.Au.set(r,new Que(n)),t.du=t.du.insert(n,r),YL(t.remoteStore,new Uo(Vi(vL(n.path)),r,"TargetPurposeLimboResolution",O0.ce))}}async function Hh(t,e,n){const r=Ze(t),a=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=fE.As(f.targetId,h);s.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,h){const p=Ze(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ye.forEach(h,(x=>ye.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(g,x.targetId,w))).next((()=>ye.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(g,x.targetId,w)))))))))}catch(g){if(!ud(g))throw g;Ie(hE,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const w=p.Ms.get(x),E=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,N)}}})(r.localStore,s))}async function cde(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Ie(wE,"User change. New user:",e.toKey());const r=await qL(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Se(me.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hh(n,r.Ls)}}function ude(t,e){const n=Ze(t),r=n.Au.get(e);if(r&&r.hu)return ut().add(r.key);{let a=ut();const s=n.Iu.get(e);if(!s)return a;for(const c of s){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function oU(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ude.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ide.bind(null,e),e.Pu.H_=Gue.bind(null,e.eventManager),e.Pu.yu=Kue.bind(null,e.eventManager),e}function dde(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ode.bind(null,e),e}class wy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=z0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fue(this.persistence,new cue,e.initialUser,this.serializer)}Cu(e){return new $L(dE.mi,this.serializer)}Du(e){return new xue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wy.provider={build:()=>new wy};class fde extends wy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){wt(this.persistence.referenceDelegate instanceof xy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Yce(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new $L((r=>xy.mi(r,n)),this.serializer)}}class R_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cde.bind(null,this.syncEngine),await Bue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $ue})()}createDatastore(e){const n=z0(e.databaseInfo.databaseId),r=(function(s){return new jue(s)})(e.databaseInfo);return(function(s,c,d,f){return new Aue(s,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,c,d){return new Iue(r,a,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>XP(this.syncEngine,n,0)),(function(){return qP.v()?new qP:new bue})())}createSyncEngine(e,n){return(function(a,s,c,d,f,h,p){const g=new Zue(a,s,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=Ze(a);Ie(fc,"RemoteStore shutting down."),s.Ea.add(5),await qh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}R_.provider={build:()=>new R_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hde{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="FirestoreClient";class mde{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=vr.UNAUTHENTICATED,this.clientId=eE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Ie(el,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ie(el,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Zw(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(el,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await qL(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ZP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pde(t);Ie(el,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>GP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>GP(e.remoteStore,a))),t._onlineComponents=e}async function pde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(el,"Using user provided OfflineComponentProvider");try{await Zw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;$u("Error using user provided cache. Falling back to memory cache: "+n),await Zw(t,new wy)}}else Ie(el,"Using default OfflineComponentProvider"),await Zw(t,new fde(void 0));return t._offlineComponents}async function lU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(el,"Using user provided OnlineComponentProvider"),await ZP(t,t._uninitializedComponentsProvider._online)):(Ie(el,"Using default OnlineComponentProvider"),await ZP(t,new R_))),t._onlineComponents}function gde(t){return lU(t).then((e=>e.syncEngine))}async function yde(t){const e=await lU(t),n=e.eventManager;return n.onListen=Jue.bind(null,e.syncEngine),n.onUnlisten=nde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ede.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rde.bind(null,e.syncEngine),n}function vde(t,e,n={}){const r=new $o;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new hde({next:x=>{p.Nu(),c.enqueueAndForget((()=>Hue(s,g))),x.fromCache&&f.source==="server"?h.reject(new Se(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new Yue(d,p,{includeMetadataChanges:!0,qa:!0});return que(s,g)})(await yde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="firestore.googleapis.com",eD=!0;class tD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uU,this.ssl=eD}else this.host=e.host,this.ssl=e.ssl??eD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gce)throw new Se(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ile("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ble;switch(r.type){case"firstParty":return new jle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=JP.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),JP.delete(n),r.terminate())})(this),Promise.resolve()}}function xde(t,e,n,r={}){var h;t=Yo(t,$0);const a=xc(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(qj(`https://${d}`),Hj("Firestore",!0)),s.host!==uU&&s.host!==d&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!Ko(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=vr.MOCK_USER;else{p=p3(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Se(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vr(x)}t._authCredentials=new wle(new J3(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}toJSON(){return{type:zn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bh(n,zn._jsonSchema))return new zn(e,r||null,new Ue(Vt.fromString(n.referencePath)))}}zn._jsonSchemaVersion="firestore/documentReference/1.0",zn._jsonSchema={type:Dn("string",zn._jsonSchemaVersion),referencePath:Dn("string")};class qo extends ol{constructor(e,n,r){super(e,n,vL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new Ue(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function Pe(t,e,...n){if(t=xn(t),eL("collection","path",e),t instanceof $0){const r=Vt.fromString(e,...n);return mP(r),new qo(t,null,r)}{if(!(t instanceof zn||t instanceof qo))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return mP(r),new qo(t.firestore,null,r)}}function Ke(t,e,...n){if(t=xn(t),arguments.length===1&&(e=eE.newId()),eL("doc","path",e),t instanceof $0){const r=Vt.fromString(e,...n);return hP(r),new zn(t,null,new Ue(r))}{if(!(t instanceof zn||t instanceof qo))throw new Se(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return hP(r),new zn(t.firestore,t instanceof qo?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="AsyncQueue";class rD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GL(this,"async_queue_retry"),this._c=()=>{const r=Qw();r&&Ie(nD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $o;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ud(e))throw e;Ie(nD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",aD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=vE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Be(47125,{Pc:aD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hd extends $0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new rD,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rD(e),this._firestoreClient=void 0,await e}}}function bde(t,e){const n=typeof t=="object"?t:T0(),r=typeof t=="string"?t:fy,a=al(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=f3("firestore");s&&xde(a,...s)}return a}function NE(t){if(t._terminated)throw new Se(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wde(t),t._firestoreClient}function wde(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new Ble(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,cU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mde(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(mr.fromBase64String(e))}catch(n){throw new Se(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pa(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bh(e,Pa._jsonSchema))return Pa.fromBase64String(e.bytes)}}Pa._jsonSchemaVersion="firestore/bytes/1.0",Pa._jsonSchema={type:Dn("string",Pa._jsonSchemaVersion),bytes:Dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Bh(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Dn("string",Bi._jsonSchemaVersion),latitude:Dn("number"),longitude:Dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bh(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new Se(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Dn("string",Fi._jsonSchemaVersion),vectorValues:Dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _de=/^__.*__$/;class Nde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fh(e,this.data,n,this.fieldTransforms)}}class dU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class EE{constructor(e,n,r,a,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new EE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _y(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fU(this.Ac)&&_de.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||z0(e)}Cc(e,n,r,a=!1){return new EE({Ac:e,methodName:n,Dc:r,path:dr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q0(t){const e=t._freezeSettings(),n=z0(t._databaseId);return new jde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hU(t,e,n,r,a,s={}){const c=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);SE("Data must be an object, but it was:",c,r);const d=gU(r,c);let f,h;if(s.merge)f=new da(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=P_(e,g,n);if(!c.contains(x))throw new Se(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);vU(p,x)||p.push(x)}f=new da(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new Nde(new $r(d),f,h)}class H0 extends jE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof H0}}function mU(t,e,n,r){const a=t.Cc(1,e,n);SE("Data must be an object, but it was:",a,r);const s=[],c=$r.empty();il(r,((f,h)=>{const p=TE(e,f,n);h=xn(h);const g=a.yc(p);if(h instanceof H0)s.push(p);else{const x=Kh(h,g);x!=null&&(s.push(p),c.set(p,x))}}));const d=new da(s);return new dU(c,d,a.fieldTransforms)}function pU(t,e,n,r,a,s){const c=t.Cc(1,e,n),d=[P_(e,r,n)],f=[a];if(s.length%2!=0)throw new Se(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(P_(e,s[x])),f.push(s[x+1]);const h=[],p=$r.empty();for(let x=d.length-1;x>=0;--x)if(!vU(h,d[x])){const w=d[x];let E=f[x];E=xn(E);const N=c.yc(w);if(E instanceof H0)h.push(w);else{const j=Kh(E,N);j!=null&&(h.push(w),p.set(w,j))}}const g=new da(h);return new dU(p,g,c.fieldTransforms)}function Ede(t,e,n,r=!1){return Kh(n,t.Cc(r?4:3,e))}function Kh(t,e){if(yU(t=xn(t)))return SE("Unsupported field value:",e,t),gU(t,e);if(t instanceof jE)return(function(r,a){if(!fU(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let c=0;for(const d of r){let f=Kh(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uce(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$t.fromDate(r);return{timestampValue:vy(a.serializer,s)}}if(r instanceof $t){const s=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vy(a.serializer,s)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:kL(a.serializer,r._byteString)};if(r instanceof zn){const s=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Fi)return(function(c,d){return{mapValue:{fields:{[cL]:{stringValue:uL},[hy]:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return sE(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${I0(r)}`)})(t,e)}function gU(t,e){const n={};return rL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(t,((r,a)=>{const s=Kh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function yU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Bi||t instanceof Pa||t instanceof zn||t instanceof jE||t instanceof Fi)}function SE(t,e,n){if(!yU(n)||!tL(n)){const r=I0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function P_(t,e,n){if((e=xn(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return TE(t,e);throw _y("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sde=new RegExp("[~\\*/\\[\\]]");function TE(t,e,n){if(e.search(Sde)>=0)throw _y(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw _y(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _y(t,e,n,r,a){const s=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new Se(me.INVALID_ARGUMENT,d+t+f)}function vU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(G0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Tde extends xU{data(){return super.data()}}function G0(t,e){return typeof e=="string"?TE(t,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ade(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AE{}class CE extends AE{}function qr(t,e,...n){let r=[];e instanceof AE&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof IE)).length,d=s.filter((f=>f instanceof K0)).length;if(c>1||c>0&&d>0)throw new Se(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class K0 extends CE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new K0(e,n,r)}_apply(e){const n=this._parse(e);return wU(e._query,n),new ol(e.firestore,e.converter,N_(e._query,n))}_parse(e){const n=q0(e.firestore);return(function(s,c,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Se(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){sD(g,p);const E=[];for(const N of g)E.push(iD(f,s,N));x={arrayValue:{values:E}}}else x=iD(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||sD(g,p),x=Ede(d,c,g,p==="in"||p==="not-in");return Rn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zn(t,e,n){const r=e,a=G0("where",t);return K0._create(a,r,n)}class IE extends AE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new IE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let c=a;const d=s.getFlattenedFilters();for(const f of d)wU(c,f),c=N_(c,f)})(e._query,n),new ol(e.firestore,e.converter,N_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class OE extends CE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new OE(e,n)}_apply(e){const n=(function(a,s,c){if(a.startAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Se(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uh(s,c)})(e._query,this._field,this._direction);return new ol(e.firestore,e.converter,(function(a,s){const c=a.explicitOrderBy.concat([s]);return new dd(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function bU(t,e="asc"){const n=e,r=G0("orderBy",t);return OE._create(r,n)}class RE extends CE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new RE(e,n,r)}_apply(e){return new ol(e.firestore,e.converter,py(e._query,this._limit,this._limitType))}}function Cde(t){return RE._create("limit",t,"F")}function iD(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new Se(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xL(e)&&n.indexOf("/")!==-1)throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!Ue.isDocumentKey(r))throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _P(t,new Ue(r))}if(n instanceof zn)return _P(t,n._key);throw new Se(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${I0(n)}.`)}function sD(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wU(t,e){const n=(function(a,s){for(const c of a)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ide{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return il(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[hy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((c=>yn(c.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new Bi(yn(e.latitude),yn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=P0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const n=Xo(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);wt(BL(r),9688,{name:e});const a=new lh(r.get(1),r.get(3)),s=new Ue(r.popFirst(5));return a.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Gp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cu extends xU{constructor(e,n,r,a,s,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(G0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cu._jsonSchema={type:Dn("string",Cu._jsonSchemaVersion),bundleSource:Dn("string","DocumentSnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class cg extends Cu{data(e={}){return super.data(e)}}class Iu{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Gp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cg(this._firestore,this._userDataWriter,r.key,r,new Gp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new cg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Gp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new cg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Gp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:Ode(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Iu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ode(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}Iu._jsonSchemaVersion="firestore/querySnapshot/1.0",Iu._jsonSchema={type:Dn("string",Iu._jsonSchemaVersion),bundleSource:Dn("string","QuerySnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class Rde extends Ide{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function nt(t){t=Yo(t,ol);const e=Yo(t.firestore,hd),n=NE(e),r=new Rde(e);return Ade(t._query),vde(n,t._query).then((a=>new Iu(e,r,t,a)))}function dn(t,e,n,...r){t=Yo(t,zn);const a=Yo(t.firestore,hd),s=q0(a);let c;return c=typeof(e=xn(e))=="string"||e instanceof Gh?pU(s,"updateDoc",t._key,e,n,r):mU(s,"updateDoc",t._key,e),Y0(a,[c.toMutation(t._key,Wr.exists(!0))])}function bn(t){return Y0(Yo(t.firestore,hd),[new U0(t._key,Wr.none())])}function sn(t,e){const n=Yo(t.firestore,hd),r=Ke(t),a=_U(t.converter,e);return Y0(n,[hU(q0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then((()=>r))}function Y0(t,e){return(function(r,a){const s=new $o;return r.asyncQueue.enqueueAndForget((async()=>ade(await gde(r),a,s))),s.promise})(NE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pde{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=q0(e)}set(e,n,r){this._verifyNotCommitted();const a=Jw(e,this._firestore),s=_U(a.converter,n,r),c=hU(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Wr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const s=Jw(e,this._firestore);let c;return c=typeof(n=xn(n))=="string"||n instanceof Gh?pU(this._dataReader,"WriteBatch.update",s._key,n,r,a):mU(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jw(e,this._firestore);return this._mutations=this._mutations.concat(new U0(n._key,Wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jw(t,e){if((t=xn(t)).firestore!==e)throw new Se(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){return NE(t=Yo(t,hd)),new Pde(t,(e=>Y0(t,e)))}(function(e,n=!0){(function(a){ld=a})(wc),ui(new Ua("firestore",((r,{instanceIdentifier:a,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new hd(new _le(r.getProvider("auth-internal")),new Ele(c,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(h.options.projectId,p)})(c,a),c);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Yr(cP,uP,e),Yr(cP,uP,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="firebasestorage.googleapis.com",Dde="storageBucket",kde=120*1e3,Mde=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends za{constructor(e,n,r=0){super(e1(e),`Firebase Storage: ${n} (${e1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,es.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return e1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xi||(Xi={}));function e1(t){return"storage/"+t}function Lde(){const t="An unknown error occurred, please check the error payload for server response.";return new es(Xi.UNKNOWN,t)}function Ude(){return new es(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vde(){return new es(Xi.CANCELED,"User canceled the upload/download.")}function zde(t){return new es(Xi.INVALID_URL,"Invalid URL '"+t+"'.")}function Bde(t){return new es(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oD(t){return new es(Xi.INVALID_ARGUMENT,t)}function EU(){return new es(Xi.APP_DELETED,"The Firebase app was deleted.")}function Fde(t){return new es(Xi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(r.path==="")return r;throw Bde(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},N=n===jU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",A=new RegExp(`^https?://${N}/${a}/${j}`,"i"),T=[{regex:d,indices:f,postModify:s},{regex:w,indices:E,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<T.length;M++){const P=T[M],L=P.regex.exec(e);if(L){const k=L[P.indices.bucket];let V=L[P.indices.path];V||(V=""),r=new ai(k,V),P.postModify(r);break}}if(r==null)throw zde(e);return r}}class $de{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qde(t,e,n){let r=1,a=null,s=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(...j){h||(h=!0,e.apply(null,j))}function g(j){a=setTimeout(()=>{a=null,t(w,f())},j)}function x(){s&&clearTimeout(s)}function w(j,...A){if(h){x();return}if(j){x(),p.call(null,j,...A);return}if(f()||c){x(),p.call(null,j,...A);return}r<64&&(r*=2);let T;d===1?(d=2,T=0):T=(r+Math.random())*1e3,g(T)}let E=!1;function N(j){E||(E=!0,x(),!h&&(a!==null?(j||(d=2),clearTimeout(a),g(0)):j||(d=1)))}return g(0),s=setTimeout(()=>{c=!0,N(!0)},n),N}function Hde(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gde(t){return t!==void 0}function lD(t,e,n,r){if(r<e)throw oD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw oD(`Invalid value for '${t}'. Expected ${n} or less.`)}function Kde(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ny;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ny||(Ny={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yde(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wde{constructor(e,n,r,a,s,c,d,f,h,p,g,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,N)=>{this.resolve_=E,this.reject_=N,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Kp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Ny.NO_ERROR,f=s.getStatus();if(!d||Yde(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Ny.ABORT;r(!1,new Kp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Kp(h,s))})},n=(r,a)=>{const s=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());Gde(f)?s(f):s()}catch(f){c(f)}else if(d!==null){const f=Lde();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?EU():Vde();c(f)}else{const f=Ude();c(f)}};this.canceled_?n(!1,new Kp(!1,null,!0)):this.backoffId_=qde(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Hde(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Xde(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Qde(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Zde(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Jde(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function efe(t,e,n,r,a,s,c=!0,d=!1){const f=Kde(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return Zde(p,e),Xde(p,n),Qde(p,s),Jde(p,r),new Wde(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tfe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nfe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jy(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nfe(this._location.path)}get storage(){return this._service}get parent(){const e=tfe(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new jy(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Fde(e)}}function cD(t,e){const n=e==null?void 0:e[Dde];return n==null?null:ai.makeFromBucketSpec(n,t)}function rfe(t,e,n,r={}){t.host=`${e}:${n}`;const a=xc(e);a&&(qj(`https://${t.host}/b`),Hj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:p3(s,t.app.options.projectId))}class afe{constructor(e,n,r,a,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=jU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kde,this._maxUploadRetryTime=Mde,this._requests=new Set,a!=null?this._bucket=ai.makeFromBucketSpec(a,this._host):this._bucket=cD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=cD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jy(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new $de(EU());{const c=efe(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const uD="@firebase/storage",dD="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="storage";function ife(t=T0(),e){t=xn(t);const r=al(t,SU).getImmediate({identifier:e}),a=f3("storage");return a&&sfe(r,...a),r}function sfe(t,e,n,r={}){rfe(t,e,n,r)}function ofe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new afe(n,r,a,e,wc)}function lfe(){ui(new Ua(SU,ofe,"PUBLIC").setMultipleInstances(!0)),Yr(uD,dD,""),Yr(uD,dD,"esm2020")}lfe();function TU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cfe=TU,AU=new bc("auth","Firebase",TU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=new S0("@firebase/auth");function ufe(t,...e){Ey.logLevel<=lt.WARN&&Ey.warn(`Auth (${wc}): ${t}`,...e)}function ug(t,...e){Ey.logLevel<=lt.ERROR&&Ey.error(`Auth (${wc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,...e){throw PE(t,...e)}function $i(t,...e){return PE(t,...e)}function CU(t,e,n){const r={...cfe(),[e]:n};return new bc("auth","Firebase",r).create(e,{appName:t.name})}function ec(t){return CU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AU.create(t,...e)}function qe(t,e,...n){if(!t)throw PE(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ug(e),new Error(e)}function Hs(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function dfe(){return fD()==="http:"||fD()==="https:"}function fD(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ffe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dfe()||g3()||"connection"in navigator)?navigator.onLine:!0}function hfe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=Sie()||Cie()}get(){return ffe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pfe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gfe=new Yh(3e4,6e4);function kE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function md(t,e,n,r,a={}){return OU(t,a,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=zh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return Aie()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&xc(t.emulatorConfig.host)&&(h.credentials="include"),IU.fetch()(await RU(t,t.config.apiHost,n,d),h)})}async function OU(t,e,n){t._canInitEmulator=!1;const r={...mfe,...e};try{const a=new vfe(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Yp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Yp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Yp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw CU(t,p,h);qs(t,p)}}catch(a){if(a instanceof za)throw a;qs(t,"network-request-failed",{message:String(a)})}}async function yfe(t,e,n,r,a={}){const s=await md(t,e,n,r,a);return"mfaPendingCredential"in s&&qs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function RU(t,e,n,r){const a=`${e}${n}?${r}`,s=t,c=s.config.emulator?DE(t.config,a):`${t.config.apiScheme}://${a}`;return pfe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}class vfe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),gfe.get())})}}function Yp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=$i(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xfe(t,e){return md(t,"POST","/v1/accounts:delete",e)}async function Sy(t,e){return md(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bfe(t,e=!1){const n=xn(t),r=await n.getIdToken(e),a=ME(r);qe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:Bf(t1(a.auth_time)),issuedAtTime:Bf(t1(a.iat)),expirationTime:Bf(t1(a.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function t1(t){return Number(t)*1e3}function ME(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ug("JWT malformed, contained fewer than 3 sections"),null;try{const a=u3(n);return a?JSON.parse(a):(ug("Failed to decode base64 JWT payload"),null)}catch(a){return ug("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function hD(t){const e=ME(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof za&&wfe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wfe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _fe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bf(this.lastLoginAt),this.creationTime=Bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ty(t){var g;const e=t.auth,n=await t.getIdToken(),r=await hh(t,Sy(e,{idToken:n}));qe(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?PU(a.providerUserInfo):[],c=jfe(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new k_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Nfe(t){const e=xn(t);await Ty(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jfe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function PU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Efe(t,e){const n=await OU(t,{},async()=>{const r=zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await RU(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&xc(t.emulatorConfig.host)&&(f.credentials="include"),IU.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Sfe(t,e){return md(t,"POST","/v2/accounts:revokeToken",kE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=hD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await Efe(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,c=new Ou;return r&&(qe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(qe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&(qe(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new _fe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new k_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hh(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bfe(this,e)}reload(){return Nfe(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ty(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(ec(this.auth));const e=await this.getIdToken();return await hh(this,xfe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:E,stsTokenManager:N}=n;qe(g&&N,e,"internal-error");const j=Ou.fromJSON(this.name,N);qe(typeof g=="string",e,"internal-error"),Io(r,e.name),Io(a,e.name),qe(typeof x=="boolean",e,"internal-error"),qe(typeof w=="boolean",e,"internal-error"),Io(s,e.name),Io(c,e.name),Io(d,e.name),Io(f,e.name),Io(h,e.name),Io(p,e.name);const A=new ii({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:j,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(A.providerData=E.map(U=>({...U}))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ou;a.updateFromServerResponse(n);const s=new ii({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ty(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];qe(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?PU(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Ou;d.updateFromIdToken(r);const f=new ii({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new k_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new Map;function Ts(t){Hs(t instanceof Function,"Expected a class definition");let e=mD.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DU.type="NONE";const pD=DU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ru{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=dg(this.userKey,a.apiKey,s),this.fullPersistenceKey=dg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sy(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ru(Ts(pD),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||Ts(pD);const c=dg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const x=await Sy(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ii._fromGetAccountInfoResponse(e,x,p)}else g=ii._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Ru(s,e,r):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Ru(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zU(e))return"Blackberry";if(BU(e))return"Webos";if(MU(e))return"Safari";if((e.includes("chrome/")||LU(e))&&!e.includes("edge/"))return"Chrome";if(VU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kU(t=_r()){return/firefox\//i.test(t)}function MU(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LU(t=_r()){return/crios\//i.test(t)}function UU(t=_r()){return/iemobile/i.test(t)}function VU(t=_r()){return/android/i.test(t)}function zU(t=_r()){return/blackberry/i.test(t)}function BU(t=_r()){return/webos/i.test(t)}function LE(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Tfe(t=_r()){var e;return LE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Afe(){return Iie()&&document.documentMode===10}function FU(t=_r()){return LE(t)||VU(t)||BU(t)||zU(t)||/windows phone/i.test(t)||UU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e=[]){let n;switch(t){case"Browser":n=gD(_r());break;case"Worker":n=`${gD(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ife(t,e={}){return md(t,"GET","/v2/passwordPolicy",kE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ofe=6;class Rfe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ofe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pfe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yD(this),this.idTokenSubscription=new yD(this),this.beforeStateQueue=new Cfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await Ru.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sy(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ty(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hfe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(ec(this));const n=e?xn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(ec(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(ec(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ife(this),n=new Rfe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sfe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Ru.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$U(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&ufe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function UE(t){return xn(t)}class yD{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lie(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dfe(t){VE=t}function kfe(t){return VE.loadJS(t)}function Mfe(){return VE.gapiScript}function Lfe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ufe(t,e){const n=al(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Ko(s,e??{}))return a;qs(a,"already-initialized")}return n.initialize({options:e})}function Vfe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zfe(t,e,n){const r=UE(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=qU(e),{host:c,port:d}=Bfe(e),f=d===null?"":`:${d}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Ko(h,r.config.emulator)&&Ko(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,xc(c)?(qj(`${s}//${c}${f}`),Hj("Auth",!0)):Ffe()}function qU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Bfe(t){const e=qU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:vD(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:vD(c)}}}function vD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ffe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return yfe(t,"POST","/v1/accounts:signInWithIdp",kE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe="http://localhost";class hc extends HU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const c=new hc(r,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:$fe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends GU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Wh{constructor(){super("facebook.com")}static credential(e){return hc._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.FACEBOOK_SIGN_IN_METHOD="facebook.com";Do.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hc._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ko.credential(n,r)}catch{return null}}}ko.GOOGLE_SIGN_IN_METHOD="google.com";ko.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Wh{constructor(){super("github.com")}static credential(e){return hc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Wh{constructor(){super("twitter.com")}static credential(e,n){return hc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await ii._fromIdTokenResponse(e,r,a),c=xD(r);return new Wu({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=xD(r);return new Wu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function xD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends za{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ay.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Ay(e,n,r,a)}}function KU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ay._fromErrorAndOperation(t,s,e,r):s})}async function qfe(t,e,n=!1){const r=await hh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hfe(t,e,n=!1){const{auth:r}=t;if(ri(r.app))return Promise.reject(ec(r));const a="reauthenticate";try{const s=await hh(t,KU(r,a,e,t),n);qe(s.idToken,r,"internal-error");const c=ME(s.idToken);qe(c,r,"internal-error");const{sub:d}=c;return qe(t.uid===d,r,"user-mismatch"),Wu._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gfe(t,e,n=!1){if(ri(t.app))return Promise.reject(ec(t));const r="signIn",a=await KU(t,r,e),s=await Wu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}function Kfe(t,e,n,r){return xn(t).onIdTokenChanged(e,n,r)}function Yfe(t,e,n){return xn(t).beforeAuthStateChanged(e,n)}const Cy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cy,"1"),this.storage.removeItem(Cy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wfe=1e3,Xfe=10;class WU extends YU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);Afe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Xfe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Wfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WU.type="LOCAL";const Qfe=WU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU extends YU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XU.type="SESSION";const QU=XU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zfe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new W0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async h=>h(n.origin,s)),f=await Zfe(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}W0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const h=zE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function ehe(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function the(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nhe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rhe(){return ZU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="firebaseLocalStorageDb",ahe=1,Iy="firebaseLocalStorage",eV="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function X0(t,e){return t.transaction([Iy],e?"readwrite":"readonly").objectStore(Iy)}function ihe(){const t=indexedDB.deleteDatabase(JU);return new Xh(t).toPromise()}function M_(){const t=indexedDB.open(JU,ahe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Iy,{keyPath:eV})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Iy)?e(r):(r.close(),await ihe(),e(await M_()))})})}async function bD(t,e,n){const r=X0(t,!0).put({[eV]:e,value:n});return new Xh(r).toPromise()}async function she(t,e){const n=X0(t,!1).get(e),r=await new Xh(n).toPromise();return r===void 0?null:r.value}function wD(t,e){const n=X0(t,!0).delete(e);return new Xh(n).toPromise()}const ohe=800,lhe=3;class tV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=W0._getInstance(rhe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await the(),!this.activeServiceWorker)return;this.sender=new Jfe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nhe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M_();return await bD(e,Cy,"1"),await wD(e,Cy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>she(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=X0(a,!1).getAll();return new Xh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ohe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tV.type="LOCAL";const che=tV;new Yh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uhe(t,e){return e?Ts(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends HU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dhe(t){return Gfe(t.auth,new BE(t),t.bypassAuthState)}function fhe(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),Hfe(n,new BE(t),t.bypassAuthState)}async function hhe(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),qfe(n,new BE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dhe;case"linkViaPopup":case"linkViaRedirect":return hhe;case"reauthViaPopup":case"reauthViaRedirect":return fhe;default:qs(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mhe=new Yh(2e3,1e4);class Nu extends nV{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=zE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mhe.get())};e()}}Nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const phe="pendingRedirect",fg=new Map;class ghe extends nV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fg.get(this.auth._key());if(!e){try{const r=await yhe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fg.set(this.auth._key(),e)}return this.bypassAuthState||fg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yhe(t,e){const n=bhe(e),r=xhe(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function vhe(t,e){fg.set(t._key(),e)}function xhe(t){return Ts(t._redirectPersistence)}function bhe(t){return dg(phe,t.config.apiKey,t.name)}async function whe(t,e,n=!1){if(ri(t.app))return Promise.reject(ec(t));const r=UE(t),a=uhe(r,e),c=await new ghe(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _he=600*1e3;class Nhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jhe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rV(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($i(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_he&&this.cachedEventUids.clear(),this.cachedEventUids.has(_D(e))}saveEventToCache(e){this.cachedEventUids.add(_D(e)),this.lastProcessedEventTime=Date.now()}}function _D(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jhe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ehe(t,e={}){return md(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,The=/^https?/;async function Ahe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ehe(t);for(const n of e)try{if(Che(n))return}catch{}qs(t,"unauthorized-domain")}function Che(t){const e=D_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!The.test(n))return!1;if(She.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ihe=new Yh(3e4,6e4);function ND(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ohe(t){return new Promise((e,n)=>{var a,s,c;function r(){ND(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ND(),n($i(t,"network-request-failed"))},timeout:Ihe.get()})}if((s=(a=qi().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((c=qi().gapi)!=null&&c.load)r();else{const d=Lfe("iframefcb");return qi()[d]=()=>{gapi.load?r():n($i(t,"network-request-failed"))},kfe(`${Mfe()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw hg=null,e})}let hg=null;function Rhe(t){return hg=hg||Ohe(t),hg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe=new Yh(5e3,15e3),Dhe="__/auth/iframe",khe="emulator/auth/iframe",Mhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uhe(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?DE(e,khe):`https://${t.config.authDomain}/${Dhe}`,r={apiKey:e.apiKey,appName:t.name,v:wc},a=Lhe.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zh(r).slice(1)}`}async function Vhe(t){const e=await Rhe(t),n=qi().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:Uhe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mhe,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const c=$i(t,"network-request-failed"),d=qi().setTimeout(()=>{s(c)},Phe.get());function f(){qi().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bhe=500,Fhe=600,$he="_blank",qhe="http://localhost";class jD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hhe(t,e,n,r=Bhe,a=Fhe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...zhe,width:r.toString(),height:a.toString(),top:s,left:c},h=_r().toLowerCase();n&&(d=LU(h)?$he:n),kU(h)&&(e=e||qhe,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[w,E])=>`${x}${w}=${E},`,"");if(Tfe(h)&&d!=="_self")return Ghe(e||"",d),new jD(null);const g=window.open(e||"",d,p);qe(g,t,"popup-blocked");try{g.focus()}catch{}return new jD(g)}function Ghe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe="__/auth/handler",Yhe="emulator/auth/handler",Whe=encodeURIComponent("fac");async function ED(t,e,n,r,a,s){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wc,eventId:a};if(e instanceof GU){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Mie(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Wh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${Whe}=${encodeURIComponent(f)}`:"";return`${Xhe(t)}?${zh(d).slice(1)}${h}`}function Xhe({config:t}){return t.emulator?DE(t,Yhe):`https://${t.authDomain}/${Khe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="webStorageSupport";class Qhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QU,this._completeRedirectFn=whe,this._overrideRedirectResult=vhe}async _openPopup(e,n,r,a){var c;Hs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const s=await ED(e,n,r,D_(),a);return Hhe(e,s,zE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await ED(e,n,r,D_(),a);return ehe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Vhe(e),r=new Nhe(e);return n.register("authEvent",a=>(qe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n1,{type:n1},a=>{var c;const s=(c=a==null?void 0:a[0])==null?void 0:c[n1];s!==void 0&&n(!!s),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ahe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FU()||MU()||LE()}}const Zhe=Qhe;var SD="@firebase/auth",TD="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tme(t){ui(new Ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$U(t)},h=new Pfe(r,a,s,f);return Vfe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new Ua("auth-internal",e=>{const n=UE(e.getProvider("auth").getImmediate());return(r=>new Jhe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(SD,TD,eme(t)),Yr(SD,TD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nme=300,rme=m3("authIdTokenMaxAge")||nme;let AD=null;const ame=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rme)return;const a=n==null?void 0:n.token;AD!==a&&(AD=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ime(t=T0()){const e=al(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ufe(t,{popupRedirectResolver:Zhe,persistence:[che,Qfe,QU]}),r=m3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=ame(s.toString());Yfe(n,c,()=>c(n.currentUser)),Kfe(n,d=>c(d))}}const a=d3("auth");return a&&zfe(n,`http://${a}`),n}function sme(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Dfe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=$i("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",sme().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tme("Browser");const ome={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},Q0=_3(ome);ple(Q0);const ve=bde(Q0);ife(Q0);ime(Q0);const lme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",pd=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const s=r.result.split(",")[1];if(!s){n(new Error("   ."));return}const c={base64:s,type:t.type,name:t.name},d=await fetch(lme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();f.status==="success"&&f.url?e(f.url):n(new Error(f.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Ce=async(t,e,n="")=>{try{await sn(Pe(ve,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},cme=async()=>{try{const t=qr(Pe(ve,"activity_logs"),Cde(100));let n=(await nt(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},ume=async t=>{await bn(Ke(ve,"activity_logs",t))},dme=async(t,e)=>{try{const n=qr(Pe(ve,"staff"),Zn("username","==",t),Zn("password","==",e)),r=await nt(n);if(!r.empty){const x=r.docs[0].data();let w=je.STAFF;return t.toLowerCase()==="admin"&&(w=je.ADMIN),await Ce(" ",x.name,`  ${w}`),{id:r.docs[0].id,name:x.name,role:w,details:x.rank}}const a=qr(Pe(ve,"employees"),Zn("username","==",t),Zn("password","==",e)),s=await nt(a);if(!s.empty){const x=s.docs[0].data();return await Ce(" ",x.name,`: ${x.jobTitle}`),{id:s.docs[0].id,name:x.name,role:je.EMPLOYEE,details:x.jobTitle}}const c=qr(Pe(ve,"pg_students"),Zn("username","==",t),Zn("password","==",e)),d=await nt(c);if(!d.empty){const x=d.docs[0].data();return await Ce(" ",x.name,"  "),{id:d.docs[0].id,name:x.name,role:je.STUDENT_PG,details:" "}}const f=qr(Pe(ve,"ug_students"),Zn("username","==",t),Zn("password","==",e)),h=await nt(f);if(!h.empty){const x=h.docs[0].data();return await Ce(" ",x.name," "),{id:h.docs[0].id,name:x.name,role:je.STUDENT_UG,details:" "}}const p=qr(Pe(ve,"alumni"),Zn("username","==",t),Zn("password","==",e)),g=await nt(p);if(!g.empty){const x=g.docs[0].data();return await Ce(" ",x.name,""),{id:g.docs[0].id,name:x.name,role:je.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},ll=async t=>{try{const e=Pe(ve,"archive");let n;return t?n=qr(e,Zn("type","==",t)):n=qr(e),(await nt(n)).docs.map(s=>({id:s.id,...s.data()})).sort((s,c)=>c.createdAt-s.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},Z0=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await sn(Pe(ve,"archive"),e);return{...e,id:n.id}},mh=async(t,e)=>{await dn(Ke(ve,"archive",t),e)},Qh=async t=>{await bn(Ke(ve,"archive",t))},FE=async t=>{const e=await ll(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},fme=async()=>{const t=await nt(Pe(ve,"archive")),e=await nt(Pe(ve,"staff")),n=await nt(Pe(ve,"pg_students")),r=await nt(Pe(ve,"alumni")),a=await nt(Pe(ve,"employees")),s=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:s.filter(d=>d.type===Qe.INCOMING).length,totalOutgoing:s.filter(d=>d.type===Qe.OUTGOING).length,totalCouncils:s.filter(d=>d.type===Qe.DEPARTMENT_COUNCIL).length,totalCommittees:s.filter(d=>d.type===Qe.COMMITTEE_MEETING).length,todayCount:s.filter(d=>d.date===c).length,unansweredCount:s.filter(d=>d.type===Qe.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},J0=async()=>(await nt(Pe(ve,"staff"))).docs.map(e=>({id:e.id,...e.data()})),hme=async t=>{await sn(Pe(ve,"staff"),t)},aV=async(t,e)=>{await dn(Ke(ve,"staff",t),e)},mme=async t=>{await bn(Ke(ve,"staff",t))},pme=async()=>(await nt(Pe(ve,"employees"))).docs.map(e=>({id:e.id,...e.data()})),gme=async t=>{await sn(Pe(ve,"employees"),t)},yme=async(t,e)=>{await dn(Ke(ve,"employees",t),e)},vme=async t=>{await bn(Ke(ve,"employees",t))},xme=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},iV=async()=>(await nt(Pe(ve,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:xme(n.dates)}}),bme=async t=>{await sn(Pe(ve,"pg_students"),t)},L_=async(t,e)=>{await dn(Ke(ve,"pg_students",t),e)},wme=async t=>{await bn(Ke(ve,"pg_students",t))},_me=async()=>(await nt(Pe(ve,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),Nme=async t=>{await sn(Pe(ve,"ug_students"),t)},jme=async(t,e)=>{await dn(Ke(ve,"ug_students",t),e)},Eme=async t=>{await bn(Ke(ve,"ug_students",t))},Sme=async()=>(await nt(Pe(ve,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),sV=async t=>{await sn(Pe(ve,"alumni"),t)},Tme=async(t,e)=>{await dn(Ke(ve,"alumni",t),e)},Ame=async t=>{await bn(Ke(ve,"alumni",t))},Cme=async()=>(await nt(Pe(ve,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),Ime=async t=>{await sn(Pe(ve,"jobs"),{...t,status:t.status||"OPEN"})},Ome=async(t,e)=>{await dn(Ke(ve,"jobs",t),e)},Rme=async t=>{await bn(Ke(ve,"jobs",t))},Pme=async()=>(await nt(Pe(ve,"assets"))).docs.map(e=>({id:e.id,...e.data()})),Dme=async t=>{await sn(Pe(ve,"assets"),{...t,createdAt:Date.now()})},kme=async(t,e)=>{await dn(Ke(ve,"assets",t),e)},Mme=async t=>{await bn(Ke(ve,"assets",t))},Lme=async()=>(await nt(Pe(ve,"labs"))).docs.map(e=>({id:e.id,...e.data()})),Ume=async t=>{await sn(Pe(ve,"labs"),t)},Vme=async(t,e)=>{await dn(Ke(ve,"labs",t),e)},zme=async t=>{await bn(Ke(ve,"labs",t))},Bme=async()=>(await nt(Pe(ve,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),Fme=async t=>{await sn(Pe(ve,"lab_classes"),t)},$me=async(t,e)=>{await dn(Ke(ve,"lab_classes",t),e)},qme=async t=>{await bn(Ke(ve,"lab_classes",t))},Hme=async()=>(await nt(Pe(ve,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),Gme=async t=>{await sn(Pe(ve,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},Kme=async(t,e)=>{await dn(Ke(ve,"lab_bookings",t),e)},Yme=async t=>{await bn(Ke(ve,"lab_bookings",t))},Wme=async()=>{const e=(await nt(Pe(ve,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=NU(ve),r=[];for(let a=1;a<=12;a++){const s=Ke(Pe(ve,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(s,c),r.push({id:s.id,...c})}return await n.commit(),r}return e},CD=async(t,e)=>{await dn(Ke(ve,"greenhouse_plots",t),e)},Xme=async()=>(await nt(Pe(ve,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),Qme=async t=>{await sn(Pe(ve,"greenhouse_history"),t)},Zme=async t=>{await bn(Ke(ve,"greenhouse_history",t))},Jme=async()=>(await nt(Pe(ve,"materials"))).docs.map(e=>({id:e.id,...e.data()})),epe=async t=>{await sn(Pe(ve,"materials"),t)},tpe=async t=>{await bn(Ke(ve,"materials",t))},npe=async()=>(await nt(Pe(ve,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),rpe=async t=>{await sn(Pe(ve,"announcements"),t)},ape=async t=>{await bn(Ke(ve,"announcements",t))},ipe=async()=>(await nt(Pe(ve,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),spe=async t=>{await sn(Pe(ve,"schedules"),t)},ope=async t=>{await bn(Ke(ve,"schedules",t))},lpe=async()=>(await nt(Pe(ve,"events"))).docs.map(e=>({id:e.id,...e.data()})),cpe=async t=>{await sn(Pe(ve,"events"),{...t,createdAt:Date.now()})},upe=async(t,e)=>{await dn(Ke(ve,"events",t),e)},dpe=async t=>{await bn(Ke(ve,"events",t))},fpe=async()=>(await nt(Pe(ve,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),hpe=async t=>{await sn(Pe(ve,"dept_councils"),t)},mpe=async(t,e)=>{await dn(Ke(ve,"dept_councils",t),e)},ppe=async t=>{await bn(Ke(ve,"dept_councils",t))},gpe=async()=>(await nt(Pe(ve,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),ype=async t=>{await sn(Pe(ve,"dept_committees"),t)},vpe=async(t,e)=>{await dn(Ke(ve,"dept_committees",t),e)},xpe=async t=>{await bn(Ke(ve,"dept_committees",t))},bpe=async(t,e)=>{const n=qr(Pe(ve,"annual_reports"),Zn("userId","==",t),Zn("academicYear","==",e)),r=await nt(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},wpe=async(t,e)=>{e?await dn(Ke(ve,"annual_reports",e),{...t}):await sn(Pe(ve,"annual_reports"),t)},_pe=async t=>{const e=qr(Pe(ve,"annual_reports"),Zn("academicYear","==",t));return(await nt(e)).docs.map(r=>({id:r.id,...r.data()}))},oV=async()=>{const t=qr(Pe(ve,"research_plans"),Zn("status","==","ACTIVE")),e=await nt(t);return e.empty?(await Ipe(),oV()):{id:e.docs[0].id,...e.docs[0].data()}},Npe=async()=>{const t=qr(Pe(ve,"research_proposals"),bU("createdAt","desc"));return(await nt(t)).docs.map(n=>({id:n.id,...n.data()}))},jpe=async t=>{await sn(Pe(ve,"research_proposals"),{...t,createdAt:Date.now()})},Epe=async(t,e,n)=>{await dn(Ke(ve,"research_proposals",t),{status:e,adminNotes:n})},Spe=async t=>{await sn(Pe(ve,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},Tpe=async t=>{const e=qr(Pe(ve,"leave_requests"),Zn("userId","==",t),bU("createdAt","desc"));return(await nt(e)).docs.map(r=>({id:r.id,...r.data()}))},Ape=async t=>{const e=qr(Pe(ve,"leave_requests"),Zn("substituteId","==",t),Zn("status","==","PENDING_SUBSTITUTE"));return(await nt(e)).docs.map(r=>({id:r.id,...r.data()}))},Cpe=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await dn(Ke(ve,"leave_requests",t),r)},Ipe=async()=>{if(!(await nt(Pe(ve,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await sn(Pe(ve,"research_plans"),e)},Ope=async()=>{if(!(await nt(Pe(ve,"staff"))).empty)return;console.log("Seeding initial data...");const e=NU(ve),n=Ke(Pe(ve,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},Rpe=()=>{const[t,e]=_.useState(null),[n,r]=_.useState([]),[a,s]=_.useState(!0),c=async()=>{s(!0);const f=await fme(),h=await ll();e(f),r(h.slice(0,5)),s(!1)};if(_.useEffect(()=>{c()},[]),a||!t)return l.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:l.jsx(d1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),l.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[l.jsx(d1,{className:"w-4 h-4"})," "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Ra,{title:" ",value:t.totalIncoming,icon:tk,color:"blue"}),l.jsx(Ra,{title:" ",value:t.totalOutgoing,icon:nk,color:"green"}),l.jsx(Ra,{title:" ",value:t.totalCouncils,icon:si,color:"purple"}),l.jsx(Ra,{title:" ",value:t.totalCommittees,icon:ek,color:"amber"})]}),l.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Ra,{title:"  ",value:t.totalStaff,icon:si,color:"green"}),l.jsx(Ra,{title:" ",value:t.totalEmployees,icon:QD,color:"amber"}),l.jsx(Ra,{title:"  ",value:t.totalStudentsPG,icon:Wl,color:"blue"}),l.jsx(Ra,{title:" ",value:t.totalAlumni,icon:tc,color:"purple"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b text-gray-500",children:[l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[n.map(f=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.type===Qe.INCOMING?"bg-blue-100 text-blue-700":f.type===Qe.OUTGOING?"bg-green-100 text-green-700":f.type===Qe.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:f.type===Qe.INCOMING?"":f.type===Qe.OUTGOING?"":f.type===Qe.DEPARTMENT_COUNCIL?"":""}),f.type===Qe.INCOMING&&f.actionRequired&&(f.isFollowedUp?l.jsx(Hr,{className:"w-4 h-4 text-green-500",title:" "}):l.jsx(Ps,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),l.jsx("td",{className:"py-3 font-medium text-gray-700",children:f.serialNumber}),l.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:f.subject}),l.jsx("td",{className:"py-3 text-gray-500",children:f.date})]},f.id)),n.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),l.jsx(O4,{width:"100%",height:250,children:l.jsxs(aie,{data:d,children:[l.jsx(q6,{strokeDasharray:"3 3",vertical:!1}),l.jsx(G6,{dataKey:"name",tick:{fontFamily:"Cairo"}}),l.jsx(K6,{allowDecimals:!1}),l.jsx(o6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),l.jsx(L6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},Ppe=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[w,E]=_.useState(null);_.useEffect(()=>{N()},[]);const N=async()=>{n(!0);const M=await ll(Qe.OUTGOING);c(M),n(!1)},j=async()=>{const M=await FE(Qe.OUTGOING);x({...g,serialNumber:M,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),E(null),p(null),f(!0)},A=M=>{x({serialNumber:M.serialNumber,date:M.date,recipient:M.recipient||"",subject:M.subject,notes:M.notes||""}),p(M.id),E(null),f(!0)},U=async M=>{if(window.confirm("      "))try{await Qh(M.id),await Ce(" ",t.name,`   : ${M.serialNumber}`),N()}catch(P){console.error(P),alert(" ")}},T=async M=>{M.preventDefault(),a(!0);try{let P="";if(w)try{P=await pd(w)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(h){const L={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};P&&(L.fileUrl=P),await mh(h,L),await Ce(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await Z0({type:Qe.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:P||""}),await Ce(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),N()}catch(P){console.error(P),alert(" : "+P.message)}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&l.jsxs("button",{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-green-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(qt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:M=>x({...g,serialNumber:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:M=>x({...g,date:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:M=>x({...g,recipient:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:M=>x({...g,subject:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("textarea",{rows:2,value:g.notes,onChange:M=>x({...g,notes:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:M=>E(M.target.files?M.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(it,{className:"w-8 h-8 text-green-600 animate-spin"}):l.jsx(Kr,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(it,{className:"w-5 h-5 animate-spin"}):l.jsx(kn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(M=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-gray-700",children:M.serialNumber}),l.jsx("td",{className:"p-4",children:M.date}),l.jsx("td",{className:"p-4",children:M.recipient}),l.jsx("td",{className:"p-4 max-w-xs truncate",title:M.subject,children:M.subject}),l.jsx("td",{className:"p-4",children:M.fileUrl?l.jsxs("a",{href:M.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[l.jsx(hr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),l.jsxs("td",{className:"p-4 flex items-center gap-2",children:[l.jsx("button",{onClick:()=>A(M),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>U(M),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},M.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Dpe=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[w,E]=_.useState(null),N=["./  ",".  ",".  "," "," "];_.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const L=await ll(Qe.INCOMING);c(L),n(!1)},A=async()=>{const L=await FE(Qe.INCOMING);x({...g,serialNumber:L,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),E(null),p(null),f(!0)},U=L=>{x({serialNumber:L.serialNumber,date:L.date,sender:L.sender||"",senderRefNumber:L.senderRefNumber||"",subject:L.subject,actionRequired:L.actionRequired||"",assignedTo:L.assignedTo||"",notes:L.notes||""}),p(L.id),E(null),f(!0)},T=async L=>{if(window.confirm("       "))try{await Qh(L.id),await Ce(" ",t.name,`    : ${L.serialNumber}`),j()}catch(k){console.error(k),alert(" ")}},M=async L=>{L.preventDefault(),a(!0);try{let k="";if(w)try{k=await pd(w)}catch(V){throw console.error("Upload failed:",V),new Error("  .    Google Drive Script.")}if(h){const V={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};k&&(V.fileUrl=k),await mh(h,V),await Ce(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await Z0({type:Qe.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:k||"",isFollowedUp:!1}),await Ce(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),j()}catch(k){console.error(k),alert("   : "+k.message)}finally{a(!1)}},P=async L=>{if(!L.actionRequired)return;const k=!L.isFollowedUp;c(V=>V.map(D=>D.id===L.id?{...D,isFollowedUp:k}:D));try{await mh(L.id,{isFollowedUp:k}),await Ce(" ",t.name,`     ${L.serialNumber}  ${k?"":" "}`)}catch{c(D=>D.map(I=>I.id===L.id?{...I,isFollowedUp:!k}:I)),alert("  ")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&l.jsxs("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-blue-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(qt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),l.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:L=>x({...g,serialNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:L=>x({...g,date:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsx("div",{}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:L=>x({...g,sender:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:L=>x({...g,senderRefNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,value:g.subject,onChange:L=>x({...g,subject:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:L=>x({...g,actionRequired:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),l.jsxs("select",{value:g.assignedTo,onChange:L=>x({...g,assignedTo:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[l.jsx("option",{value:"",children:"--     --"}),N.map((L,k)=>l.jsx("option",{value:L,children:L},k))]})]})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:L=>E(L.target.files?L.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(it,{className:"w-8 h-8 text-blue-600 animate-spin"}):l.jsx(Kr,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(it,{className:"w-5 h-5 animate-spin"}):l.jsx(kn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(L=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4",children:L.actionRequired?l.jsx("button",{onClick:()=>P(L),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${L.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:L.isFollowedUp?"  ":"  ",children:L.isFollowedUp?l.jsxs(l.Fragment,{children:[l.jsx(Hr,{className:"w-3 h-3"}),l.jsx("span",{children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ps,{className:"w-3 h-3"}),l.jsx("span",{children:""})]})}):l.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),l.jsx("td",{className:"p-4 font-bold text-gray-700",children:L.serialNumber}),l.jsx("td",{className:"p-4",children:L.date}),l.jsx("td",{className:"p-4",children:L.sender}),l.jsx("td",{className:"p-4 max-w-xs truncate",title:L.subject,children:L.subject}),l.jsx("td",{className:"p-4",children:L.assignedTo?l.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:L.assignedTo}):"-"}),l.jsx("td",{className:"p-4",children:L.fileUrl?l.jsxs("a",{href:L.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[l.jsx(hr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>U(L),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>T(L),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},L.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},kpe=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[w,E]=_.useState(null);_.useEffect(()=>{N()},[]);const N=async()=>{n(!0);const M=await ll(Qe.DEPARTMENT_COUNCIL);c(M),n(!1)},j=async()=>{const M=await FE(Qe.DEPARTMENT_COUNCIL);x({...g,serialNumber:M,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),E(null),p(null),f(!0)},A=M=>{x({serialNumber:M.serialNumber,date:M.date,subject:M.subject,notes:M.notes||""}),p(M.id),E(null),f(!0)},U=async M=>{if(window.confirm("      "))try{await Qh(M.id),await Ce("  ",t.name,`    : ${M.serialNumber}`),N()}catch(P){console.error(P),alert(" ")}},T=async M=>{M.preventDefault(),a(!0);try{let P="";if(w)try{P=await pd(w)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(h){const L={date:g.date,subject:g.subject,notes:g.notes};P&&(L.fileUrl=P),await mh(h,L),await Ce("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await Z0({type:Qe.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:P||""}),await Ce("  ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),N()}catch(P){console.error(P),alert("   : "+P.message)}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&l.jsxs("button",{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-purple-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(qt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:M=>x({...g,serialNumber:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:M=>x({...g,date:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),l.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:M=>x({...g,subject:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),l.jsx("textarea",{rows:4,value:g.notes,onChange:M=>x({...g,notes:M.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:M=>E(M.target.files?M.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(it,{className:"w-8 h-8 text-purple-600 animate-spin"}):l.jsx(Kr,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(it,{className:"w-5 h-5 animate-spin"}):l.jsx(kn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(M=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-gray-700",children:M.serialNumber}),l.jsx("td",{className:"p-4",children:M.date}),l.jsx("td",{className:"p-4 max-w-lg truncate",title:M.subject,children:M.subject}),l.jsx("td",{className:"p-4",children:M.fileUrl?l.jsxs("a",{href:M.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[l.jsx(hr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>A(M),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>U(M),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},M.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Mpe=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[w,E]=_.useState(null),N=["   ","  ","  ","  ","  "," "];_.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const P=await ll(Qe.COMMITTEE_MEETING);c(P),n(!1)},A=async()=>{x({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),E(null),p(null),f(!0)},U=P=>{x({serialNumber:P.serialNumber,date:P.date,committeeName:P.sender||"",subject:P.subject,notes:P.notes||""}),p(P.id),E(null),f(!0)},T=async P=>{if(window.confirm("      "))try{await Qh(P.id),await Ce("  ",t.name,`   : ${P.sender}  ${P.date}`),j()}catch(L){console.error(L),alert(" ")}},M=async P=>{P.preventDefault(),a(!0);try{let L="";if(w)try{L=await pd(w)}catch(k){throw console.error("Upload failed:",k),new Error("  .    Google Drive Script.")}if(h){const k={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};L&&(k.fileUrl=L),await mh(h,k),await Ce("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await Z0({type:Qe.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:L||""}),await Ce("  ",t.name,`    : ${g.committeeName}`),alert("   ");f(!1),j()}catch(L){console.error(L),alert("   : "+L.message)}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&l.jsxs("button",{onClick:A,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-amber-800",children:h?" ":" "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(qt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{required:!0,value:g.committeeName,onChange:P=>x({...g,committeeName:P.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[l.jsx("option",{value:"",children:"--   --"}),N.map(P=>l.jsx("option",{value:P,children:P},P)),l.jsx("option",{value:"other",children:"  (   )"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:P=>x({...g,serialNumber:P.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:P=>x({...g,date:P.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:P=>x({...g,subject:P.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("textarea",{rows:4,value:g.notes,onChange:P=>x({...g,notes:P.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:P=>E(P.target.files?P.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(it,{className:"w-8 h-8 text-amber-600 animate-spin"}):l.jsx(Kr,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(it,{className:"w-5 h-5 animate-spin"}):l.jsx(kn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-amber-800",children:P.sender}),l.jsx("td",{className:"p-4 text-gray-700",children:P.serialNumber}),l.jsx("td",{className:"p-4",children:P.date}),l.jsx("td",{className:"p-4 max-w-lg truncate",title:P.subject,children:P.subject}),l.jsx("td",{className:"p-4",children:P.fileUrl?l.jsxs("a",{href:P.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[l.jsx(hr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>U(P),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>T(P),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},P.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Lpe=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!1),[d,f]=_.useState(""),[h,p]=_.useState("ALL"),[g,x]=_.useState(""),[w,E]=_.useState("");_.useEffect(()=>{N()},[]);const N=async()=>{c(!0);const P=await ll();n(P),a(P),c(!1)},j=()=>{let P=e;if(h!=="ALL"&&(P=P.filter(L=>L.type===h)),d.trim()){const L=d.toLowerCase();P=P.filter(k=>k.subject.toLowerCase().includes(L)||k.serialNumber.toLowerCase().includes(L)||k.notes&&k.notes.toLowerCase().includes(L)||k.recipient&&k.recipient.toLowerCase().includes(L)||k.sender&&k.sender.toLowerCase().includes(L))}g&&(P=P.filter(L=>L.date>=g)),w&&(P=P.filter(L=>L.date<=w)),a(P)},A=()=>{f(""),p("ALL"),x(""),E(""),a(e)},U=async P=>{if(window.confirm("      ")){const L=e.find(k=>k.id===P);await Qh(P),await Ce("  ",t.name,`  : ${(L==null?void 0:L.serialNumber)||P} - : ${L==null?void 0:L.type}`),N()}},T=P=>{switch(P){case Qe.INCOMING:return"";case Qe.OUTGOING:return"";case Qe.DEPARTMENT_COUNCIL:return" ";case Qe.COMMITTEE_MEETING:return" ";default:return P}},M=P=>{switch(P){case Qe.INCOMING:return"bg-blue-100 text-blue-700";case Qe.OUTGOING:return"bg-green-100 text-green-700";case Qe.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case Qe.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx($f,{className:"w-5 h-5 text-green-600"})," "]}),l.jsxs("button",{onClick:A,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[l.jsx(qt,{className:"w-4 h-4"}),"  "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:P=>f(P.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("select",{value:h,onChange:P=>p(P.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[l.jsx("option",{value:"ALL",children:""}),l.jsx("option",{value:Qe.INCOMING,children:""}),l.jsx("option",{value:Qe.OUTGOING,children:""}),l.jsx("option",{value:Qe.DEPARTMENT_COUNCIL,children:" "}),l.jsx("option",{value:Qe.COMMITTEE_MEETING,children:" "})]})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"date",value:g,onChange:P=>x(P.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"date",value:w,onChange:P=>E(P.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),l.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:l.jsxs("button",{onClick:j,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[l.jsx(f7,{className:"w-4 h-4"})," "]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:l.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:" / "}),l.jsx("th",{className:"p-3",children:""})]})}),l.jsx("tbody",{className:"divide-y",children:s?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(P=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs ${M(P.type)}`,children:T(P.type)})}),l.jsx("td",{className:"p-3 font-semibold",children:P.serialNumber}),l.jsx("td",{className:"p-3",children:P.date}),l.jsx("td",{className:"p-3 max-w-xs truncate",title:P.subject,children:P.subject}),l.jsxs("td",{className:"p-3",children:[P.type===Qe.OUTGOING&&P.recipient,P.type===Qe.INCOMING&&P.sender,P.type===Qe.DEPARTMENT_COUNCIL&&" ",P.type===Qe.COMMITTEE_MEETING&&P.sender]}),l.jsxs("td",{className:"p-3 flex items-center gap-2",children:[P.fileUrl&&l.jsx("a",{href:P.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:l.jsx(hr,{className:"w-4 h-4"})}),t.role==="ADMIN"&&l.jsx("button",{onClick:()=>U(P.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:l.jsx(qt,{className:"w-4 h-4"})})]})]},P.id))})]})})]})]})},Upe=({user:t})=>{var I,R,F,B,pe,le,Y,ie,xe,Z,X,q,K,H,Q,ue,_e,Ae,He,ce,Ve,Ge,be,At,We,kt,we,dt,de,$e,Fe,_t,Ba,Fa,Gn;const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!0),[d,f]=_.useState("FACULTY"),[h,p]=_.useState(null),[g,x]=_.useState(!1),[w,E]=_.useState({}),[N,j]=_.useState(!1);_.useEffect(()=>{(async()=>{c(!0);const Nt=await J0();n(Nt),c(!1)})()},[]),_.useEffect(()=>{a(e.filter(Ne=>(Ne.subRole||"FACULTY")===d))},[e,d]);const A=Ne=>{var Nt,en,tn,Zr,cl,ul,dl,Pr,wn,jr;p(Ne),E({...Ne.documents,promotionDecisions:((Nt=Ne.documents)==null?void 0:Nt.promotionDecisions)||[],adminPositions:((en=Ne.documents)==null?void 0:en.adminPositions)||[],extensionDecisions:((tn=Ne.documents)==null?void 0:tn.extensionDecisions)||[],progressReports:((Zr=Ne.documents)==null?void 0:Zr.progressReports)||[],efficiencyReports:((cl=Ne.documents)==null?void 0:cl.efficiencyReports)||[],coursePortfolios:((ul=Ne.documents)==null?void 0:ul.coursePortfolios)||[],publications:((dl=Ne.documents)==null?void 0:dl.publications)||[],conferenceCerts:((Pr=Ne.documents)==null?void 0:Pr.conferenceCerts)||[],arbitrationCerts:((wn=Ne.documents)==null?void 0:wn.arbitrationCerts)||[],communityServiceDocs:((jr=Ne.documents)==null?void 0:jr.communityServiceDocs)||[]}),x(!1)},U=()=>{p(null),x(!1)},T=Ne=>{const Nt=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;E(en=>({...en,[Ne]:Nt}))},M=(Ne,Nt)=>{if(!Nt)return;const en=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,tn={id:Math.random().toString(36).substr(2,9),title:Nt,url:en,date:new Date().toISOString().split("T")[0]};E(Zr=>({...Zr,[Ne]:[...Zr[Ne]||[],tn]}))},P=(Ne,Nt)=>{E(en=>({...en,[Ne]:(en[Ne]||[]).filter(tn=>tn.id!==Nt)}))},L=Ne=>{if(!Ne)return;const Nt={courseName:Ne};E(en=>({...en,coursePortfolios:[...en.coursePortfolios||[],Nt]}))},k=Ne=>{E(Nt=>({...Nt,coursePortfolios:(Nt.coursePortfolios||[]).filter((en,tn)=>tn!==Ne)}))},V=(Ne,Nt)=>{const en=`https://drive.google.com/file/d/course_upload_${Math.floor(Math.random()*1e4)}`;E(tn=>{const Zr=[...tn.coursePortfolios||[]];return Zr[Ne]={...Zr[Ne],[Nt]:en},{...tn,coursePortfolios:Zr}})},D=async()=>{if(h){j(!0);try{await aV(h.id,{documents:w});const Ne=(t==null?void 0:t.name)||"Unknown";await Ce("  ",Ne,`    : ${h.name}`);const Nt={...h,documents:w};n(en=>en.map(tn=>tn.id===h.id?Nt:tn)),p(Nt),x(!1),alert("   ")}catch(Ne){console.error("Failed to save portfolio",Ne),alert("    ")}finally{j(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>f("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(tc,{className:"w-4 h-4"}),"   "]}),l.jsxs("button",{onClick:()=>f("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Wl,{className:"w-4 h-4"}),"  "]})]}),s?l.jsx("div",{className:"text-center p-10 text-gray-500",children:"  ..."}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(Ne=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[l.jsx("div",{className:"bg-green-50 p-6 flex justify-center",children:l.jsx("div",{className:"w-24 h-24 bg-green-200 rounded-full flex items-center justify-center text-green-700",children:l.jsx(JD,{className:"w-16 h-16"})})}),l.jsxs("div",{className:"p-6 text-center flex-1 flex flex-col",children:[l.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:Ne.name}),l.jsx("p",{className:"text-green-700 font-medium text-sm mb-4",children:Ne.rank}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-600 text-right bg-gray-50 p-4 rounded-lg mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ju,{className:"w-4 h-4 text-green-600"}),l.jsxs("span",{children:[": ",Ne.specialization]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(c1,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"truncate",children:Ne.email})]})]}),l.jsx("div",{className:"mt-auto",children:l.jsxs("button",{onClick:()=>A(Ne),className:"w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[l.jsx(hr,{className:"w-4 h-4"}),"   "]})})]})]},Ne.id)),r.length===0&&l.jsx("div",{className:"col-span-3 text-center p-8 text-gray-400",children:"      "})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:h.name}),l.jsxs("p",{className:"text-green-100 text-sm",children:[h.rank," - ",h.specialization]})]}),l.jsxs("div",{className:"flex gap-2",children:[g?l.jsxs("button",{onClick:D,disabled:N,className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm",children:[N?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"})," "]}):l.jsxs("button",{onClick:()=>x(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[l.jsx(Ir,{className:"w-4 h-4"}),"  "]}),l.jsx("button",{onClick:U,className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:l.jsx(qt,{className:"w-6 h-6"})})]})]}),l.jsxs("div",{className:"p-6 space-y-8",children:[g&&l.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[l.jsx(Kr,{className:"w-4 h-4"}),l.jsx("span",{children:"      .         ."})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(tc,{className:"w-5 h-5 text-gray-500"}),d==="FACULTY"?"   ( )":"   "]}),l.jsxs("div",{className:"space-y-4",children:[d==="FACULTY"&&l.jsxs(l.Fragment,{children:[l.jsx(Kt,{title:"1.    ( )",description:"        ( /   / ).",url:g?w.appointmentDecision:(I=h.documents)==null?void 0:I.appointmentDecision,isEditing:g,onUpload:()=>T("appointmentDecision")}),l.jsx(bs,{title:"2.   ( )",description:"    (  / )    .",items:g?w.promotionDecisions:(R=h.documents)==null?void 0:R.promotionDecisions,isEditing:g,onAdd:Ne=>M("promotionDecisions",Ne),onRemove:Ne=>P("promotionDecisions",Ne)}),l.jsx(Kt,{title:"3.   ",description:"           .",url:g?w.joiningReport:(F=h.documents)==null?void 0:F.joiningReport,isEditing:g,onUpload:()=>T("joiningReport")}),l.jsx(bs,{title:"4.   ",description:"    (   ).",items:g?w.adminPositions:(B=h.documents)==null?void 0:B.adminPositions,isEditing:g,onAdd:Ne=>M("adminPositions",Ne),onRemove:Ne=>P("adminPositions",Ne)})]}),d==="ASSISTANT"&&l.jsxs(l.Fragment,{children:[l.jsx(Kt,{title:"1.    ()",description:"       ''  .",url:g?w.appointmentDecision:(pe=h.documents)==null?void 0:pe.appointmentDecision,isEditing:g,onUpload:()=>T("appointmentDecision")}),l.jsx(Kt,{title:"2.   ",description:"      (   ).",url:g?w.joiningReport:(le=h.documents)==null?void 0:le.joiningReport,isEditing:g,onUpload:()=>T("joiningReport")}),l.jsx(bs,{title:"3.     ( )",description:"          .",items:g?w.promotionDecisions:(Y=h.documents)==null?void 0:Y.promotionDecisions,isEditing:g,onAdd:Ne=>M("promotionDecisions",Ne),onRemove:Ne=>P("promotionDecisions",Ne)})]}),l.jsx(Kt,{title:"  (CV)",description:"    .",url:g?w.cv:(ie=h.documents)==null?void 0:ie.cv,isEditing:g,onUpload:()=>T("cv")})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(Wl,{className:"w-5 h-5 text-purple-600"}),"   ()"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Kt,{title:" /",url:g?w.bachelorCert:(xe=h.documents)==null?void 0:xe.bachelorCert,isEditing:g,onUpload:()=>T("bachelorCert")}),l.jsx(Kt,{title:" ",url:g?w.masterCert:(Z=h.documents)==null?void 0:Z.masterCert,isEditing:g,onUpload:()=>T("masterCert")}),d==="FACULTY"&&l.jsxs(l.Fragment,{children:[l.jsx(Kt,{title:"  ()",url:g?w.phdCert:(X=h.documents)==null?void 0:X.phdCert,isEditing:g,onUpload:()=>T("phdCert")}),l.jsx(Kt,{title:"  ( )",url:g?w.phdEquivalence:(q=h.documents)==null?void 0:q.phdEquivalence,isEditing:g,onUpload:()=>T("phdEquivalence")})]})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(X_,{className:"w-5 h-5 text-blue-600"}),"   "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Kt,{title:"   ",url:g?w.idCard:(K=h.documents)==null?void 0:K.idCard,isEditing:g,onUpload:()=>T("idCard")}),l.jsx(Kt,{title:"  ()",url:g?w.birthCert:(H=h.documents)==null?void 0:H.birthCert,isEditing:g,onUpload:()=>T("birthCert")}),l.jsx(Kt,{title:"  ",url:g?w.militaryStatus:(Q=h.documents)==null?void 0:Q.militaryStatus,isEditing:g,onUpload:()=>T("militaryStatus")}),l.jsx(Kt,{title:"  ",url:g?w.criminalRecord:(ue=h.documents)==null?void 0:ue.criminalRecord,isEditing:g,onUpload:()=>T("criminalRecord")})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(n7,{className:"w-5 h-5 text-amber-600"}),"   "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Kt,{title:"   ()",url:g?w.financialDisclosure:(_e=h.documents)==null?void 0:_e.financialDisclosure,isEditing:g,onUpload:()=>T("financialDisclosure")}),l.jsx(Kt,{title:" ",description:"    ( ).",url:g?w.socialInsuranceNum:(Ae=h.documents)==null?void 0:Ae.socialInsuranceNum,isEditing:g,onUpload:()=>T("socialInsuranceNum")}),l.jsx(Kt,{title:"   ",url:g?w.statusStatement:(He=h.documents)==null?void 0:He.statusStatement,isEditing:g,onUpload:()=>T("statusStatement")}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(Kt,{title:"   (History)",url:g?w.vacationDecisions:(ce=h.documents)==null?void 0:ce.vacationDecisions,isEditing:g,onUpload:()=>T("vacationDecisions")})})]})]}),d==="FACULTY"&&l.jsxs(l.Fragment,{children:[l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(Hr,{className:"w-5 h-5 text-green-600"}),"   (Course Portfolio)"]}),l.jsx(Vpe,{courses:g?w.coursePortfolios:(Ve=h.documents)==null?void 0:Ve.coursePortfolios,isEditing:g,onAdd:L,onRemove:k,onUploadFile:V})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(ju,{className:"w-5 h-5 text-blue-600"}),"   "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(rk,{className:"w-4 h-4 text-blue-600"}),l.jsx("label",{className:"text-sm font-bold text-gray-700",children:"   (Google Scholar / ORCID)"})]}),g?l.jsx("input",{type:"text",placeholder:"https://scholar.google.com/...",value:w.googleScholarLink||"",onChange:Ne=>E(Nt=>({...Nt,googleScholarLink:Ne.target.value})),className:"w-full text-sm p-2 border rounded focus:outline-none focus:border-green-500"}):(Ge=h.documents)!=null&&Ge.googleScholarLink?l.jsx("a",{href:h.documents.googleScholarLink,target:"_blank",className:"text-blue-600 hover:underline text-sm truncate block",children:h.documents.googleScholarLink}):l.jsx("span",{className:"text-sm text-gray-400",children:" "})]}),l.jsx(Kt,{title:"1.    ()",description:"            .",url:g?w.publicationsListFile:(be=h.documents)==null?void 0:be.publicationsListFile,isEditing:g,onUpload:()=>T("publicationsListFile")}),l.jsx(Kt,{title:"2.     ",description:"           .",url:g?w.supervisionRecord:(At=h.documents)==null?void 0:At.supervisionRecord,isEditing:g,onUpload:()=>T("supervisionRecord")}),l.jsx(bs,{title:"3.   ",description:"          .",items:g?w.conferenceCerts:(We=h.documents)==null?void 0:We.conferenceCerts,isEditing:g,onAdd:Ne=>M("conferenceCerts",Ne),onRemove:Ne=>P("conferenceCerts",Ne)}),l.jsx(bs,{title:"4.   ",description:"          .",items:g?w.arbitrationCerts:(kt=h.documents)==null?void 0:kt.arbitrationCerts,isEditing:g,onAdd:Ne=>M("arbitrationCerts",Ne),onRemove:Ne=>P("arbitrationCerts",Ne)}),l.jsx(bs,{title:"5.   ",description:"      (   ).",items:g?w.communityServiceDocs:(we=h.documents)==null?void 0:we.communityServiceDocs,isEditing:g,onAdd:Ne=>M("communityServiceDocs",Ne),onRemove:Ne=>P("communityServiceDocs",Ne)})]})]})]}),d==="ASSISTANT"&&l.jsxs(l.Fragment,{children:[l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(Wl,{className:"w-5 h-5 text-purple-600"}),"   ( )"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Kt,{title:"1.   /  ()",description:"         .",url:g?w.enrollmentStatus:(dt=h.documents)==null?void 0:dt.enrollmentStatus,isEditing:g,onUpload:()=>T("enrollmentStatus")}),l.jsx(bs,{title:"2.   ( )",description:"        (   ).",items:g?w.progressReports:(de=h.documents)==null?void 0:de.progressReports,isEditing:g,onAdd:Ne=>M("progressReports",Ne),onRemove:Ne=>P("progressReports",Ne)}),l.jsx(bs,{title:"3.     ( )",description:"            .",items:g?w.extensionDecisions:($e=h.documents)==null?void 0:$e.extensionDecisions,isEditing:g,onAdd:Ne=>M("extensionDecisions",Ne),onRemove:Ne=>P("extensionDecisions",Ne)}),l.jsx(Kt,{title:"   (FLDC)",url:g?w.fldcCerts:(Fe=h.documents)==null?void 0:Fe.fldcCerts,isEditing:g,onUpload:()=>T("fldcCerts")})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(ju,{className:"w-5 h-5 text-amber-600"}),"   "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(bs,{title:"1.   ",description:"      ( /  ).",items:g?w.efficiencyReports:(_t=h.documents)==null?void 0:_t.efficiencyReports,isEditing:g,onAdd:Ne=>M("efficiencyReports",Ne),onRemove:Ne=>P("efficiencyReports",Ne)}),l.jsx(Kt,{title:"2.   /    ",description:"     ( )      .",url:g?w.penaltiesRecord:(Ba=h.documents)==null?void 0:Ba.penaltiesRecord,isEditing:g,onUpload:()=>T("penaltiesRecord")})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(sk,{className:"w-5 h-5 text-blue-500"}),"   "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Kt,{title:"1.    / ",description:"       (  ).",url:g?w.studyLeaveDecision:(Fa=h.documents)==null?void 0:Fa.studyLeaveDecision,isEditing:g,onUpload:()=>T("studyLeaveDecision")}),l.jsx(Kt,{title:"2.    ",description:"      (     ).",url:g?w.returnFromScholarship:(Gn=h.documents)==null?void 0:Gn.returnFromScholarship,isEditing:g,onUpload:()=>T("returnFromScholarship")})]})]})]})]})]})})]})},Kt=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>l.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-gray-50 border-gray-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),l.jsxs("div",{className:"flex items-center gap-2",children:[n&&l.jsx("a",{href:n,target:"_blank",className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200 transition-colors",children:""}),r&&l.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[l.jsx(Kr,{className:"w-3 h-3"}),n&&l.jsx("span",{children:""})]}),!n&&!r&&l.jsx("span",{className:"text-xs text-gray-400",children:""})]})]}),e&&l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),bs=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:s})=>{const[c,d]=_.useState("");return l.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[l.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),l.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?l.jsx("ul",{className:"space-y-2 mb-3",children:n.map(f=>l.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[l.jsx("span",{className:"truncate flex-1 ml-2",children:f.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("a",{href:f.url,target:"_blank",className:"text-xs text-blue-600 hover:underline",children:""}),r&&l.jsx("button",{onClick:()=>s(f.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(gt,{className:"w-3 h-3"})})]})]},f.id))}):!r&&l.jsx("p",{className:"text-xs text-gray-400 italic mb-3",children:"   ."}),r&&l.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-2 border-dashed",children:[l.jsx("input",{type:"text",placeholder:"  ",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500",value:c,onChange:f=>d(f.target.value)}),l.jsxs("button",{onClick:()=>{a(c),d("")},className:"bg-blue-50 text-blue-600 border border-blue-200 text-xs px-3 py-2 rounded hover:bg-blue-100 flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"  "]})]})]})},Vpe=({courses:t=[],isEditing:e,onAdd:n,onRemove:r,onUploadFile:a})=>{const[s,c]=_.useState("");return l.jsxs("div",{className:"space-y-4",children:[t.length>0?t.map((d,f)=>l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cs,{className:"w-5 h-5 text-green-600"}),l.jsx("h5",{className:"font-bold text-gray-800",children:d.courseName})]}),e&&l.jsx("button",{onClick:()=>r(f),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:" ",children:l.jsx(gt,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[l.jsx(Wp,{label:" ",url:d.specsUrl,isEditing:e,onUpload:()=>a(f,"specsUrl")}),l.jsx(Wp,{label:" ",url:d.reportUrl,isEditing:e,onUpload:()=>a(f,"reportUrl")}),l.jsx(Wp,{label:" ",url:d.examsUrl,isEditing:e,onUpload:()=>a(f,"examsUrl")}),l.jsx(Wp,{label:" / ",url:d.samplesUrl,isEditing:e,onUpload:()=>a(f,"samplesUrl")})]})]},f)):l.jsx("p",{className:"text-gray-400 text-sm text-center py-4 border border-dashed rounded-lg",children:"    ."}),e&&l.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-center gap-2 border border-green-200",children:[l.jsx("input",{type:"text",placeholder:"   (:   )",className:"flex-1 p-2 rounded border border-green-300 focus:outline-none focus:ring-1 focus:ring-green-500 text-sm",value:s,onChange:d=>c(d.target.value)}),l.jsxs("button",{onClick:()=>{n(s),c("")},className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[l.jsx(nn,{className:"w-4 h-4"}),"  "]})]})]})},Wp=({label:t,url:e,isEditing:n,onUpload:r})=>l.jsxs("div",{className:`p-2 rounded border text-center flex flex-col items-center justify-center min-h-[80px] ${e?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[l.jsx("span",{className:"text-xs font-semibold text-gray-700 mb-1",children:t}),l.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e?l.jsx("a",{href:e,target:"_blank",className:"text-xs bg-white border border-gray-200 px-2 py-1 rounded text-green-700 hover:text-green-800",children:""}):l.jsx("span",{className:"text-[10px] text-gray-400",children:""}),n&&l.jsx("button",{onClick:r,className:"p-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 border border-blue-200",title:"",children:l.jsx(Kr,{className:"w-3 h-3"})})]})]}),ID=({user:t})=>{const[e,n]=_.useState(t.role===je.STUDENT_PG?"PG":"UG"),[r,a]=_.useState("MATERIALS"),[s,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState([]),[g,x]=_.useState([]),[w,E]=_.useState([]),[N,j]=_.useState(!0),[A,U]=_.useState(!1),[T,M]=_.useState(!1),[P,L]=_.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[k,V]=_.useState(!1),[D,I]=_.useState(null),[R,F]=_.useState(!1),[B,pe]=_.useState(!1),[le,Y]=_.useState(null),[ie,xe]=_.useState({content:"",isImportant:!1}),[Z,X]=_.useState(!1),[q,K]=_.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[H,Q]=_.useState(!1),[ue,_e]=_.useState(null),Ae=t.role===je.ADMIN||t.role===je.STAFF;_.useEffect(()=>{He()},[]),_.useEffect(()=>{const we=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];x(s.filter(de=>we.includes(de.year))),E(h.filter(de=>we.includes(de.year)));const dt=e==="UG"?"Third":"Pre-Master";L(de=>({...de,year:dt})),K(de=>({...de,year:dt}))},[e,s,h]);const He=async()=>{j(!0);const[we,dt,de]=await Promise.all([Jme(),npe(),ipe()]);c(we),f(dt),p(de),j(!1)},ce=async we=>{we.preventDefault(),U(!0);try{await epe({title:P.title,year:P.year,fileUrl:P.fileUrl||"#",description:P.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ce("  ",t.name,`: ${P.title} - : ${P.year}`),await He(),M(!1),L({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(dt){console.error(dt),alert("   ")}finally{U(!1)}},Ve=async()=>{if(D){U(!0);try{const we=s.find(dt=>dt.id===D);await tpe(D),Ce("  ",t.name,`  : ${we==null?void 0:we.title}`),await He(),V(!1),I(null)}catch(we){console.error(we),alert("  ")}finally{U(!1)}}},Ge=async we=>{we.preventDefault(),U(!0);try{await rpe({content:ie.content,isImportant:ie.isImportant,date:new Date().toISOString().split("T")[0]}),Ce(" ",t.name,ie.content.substring(0,50)+"..."),await He(),F(!1),xe({content:"",isImportant:!1})}catch(dt){console.error(dt),alert("    ")}finally{U(!1)}},be=async()=>{if(le){U(!0);try{await ape(le),Ce(" ",t.name,"    "),await He(),pe(!1),Y(null)}catch(we){console.error(we),alert("   ")}finally{U(!1)}}},At=async we=>{we.preventDefault(),U(!0);try{await spe({title:q.title,type:q.type,year:q.year,fileUrl:q.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ce(" ",t.name,`: ${q.title}`),await He(),X(!1),K({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(dt){console.error(dt),alert("    ")}finally{U(!1)}},We=async()=>{if(ue){U(!0);try{const we=h.find(dt=>dt.id===ue);await ope(ue),Ce(" ",t.name,`  : ${we==null?void 0:we.title}`),await He(),Q(!1),_e(null)}catch(we){console.error(we),alert("   ")}finally{U(!1)}}},kt=we=>{const dt=`https://picsum.photos/seed/${Math.random()}/800/600`;we(de=>({...de,fileUrl:dt}))};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),l.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Cs,{className:"w-4 h-4"}),"  ( 3  4)"]}),l.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Wl,{className:"w-4 h-4"}),"  ()"]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.jsx(hr,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.jsx(yh,{className:"w-4 h-4"}),"  "]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[l.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),Ae&&l.jsxs("button",{onClick:()=>M(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[l.jsx(Df,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(we=>l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:l.jsx(hr,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800",children:we.title}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[we.year==="Third"&&" ",we.year==="Fourth"&&" ",we.year==="Pre-Master"&&" ",we.year==="Pre-PhD"&&" "," | ",": ",we.uploadedBy]}),we.description&&l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:we.description}),l.jsx("p",{className:"text-xs text-gray-300 mt-1",children:we.date})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("a",{href:we.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[l.jsx(i1,{className:"w-4 h-4"})," "]}),Ae&&l.jsx("button",{onClick:()=>{I(we.id),V(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},we.id)):l.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),Ae&&l.jsxs("button",{onClick:()=>X(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[l.jsx(Df,{className:"w-3 h-3"}),"  "]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.length>0?w.map(we=>l.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[l.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[l.jsx("img",{src:we.fileUrl,alt:we.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${we.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:we.type==="EXAM"?" ":" "})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:we.title}),l.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[we.year==="Third"&&" ",we.year==="Fourth"&&" ",we.year==="Pre-Master"&&" ",we.year==="Pre-PhD"&&" "," | ",we.date]}),l.jsxs("a",{href:we.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[l.jsx(i1,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),Ae&&l.jsx("button",{onClick:()=>{_e(we.id),Q(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},we.id)):l.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),l.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[l.jsx("h3",{className:"font-bold text-lg",children:" "}),Ae&&l.jsxs("button",{onClick:()=>F(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[l.jsx(Df,{className:"w-3 h-3"})," "]})]}),d.length>0?l.jsx("ul",{className:"space-y-4 text-sm",children:d.map(we=>l.jsxs("li",{className:"flex gap-2 relative group",children:[l.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${we.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{children:we.content}),l.jsx("p",{className:"text-green-300 text-xs mt-1",children:we.date})]}),Ae&&l.jsx("button",{onClick:()=>{Y(we.id),pe(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:l.jsx(gt,{className:"w-4 h-4"})})]},we.id))}):l.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),T&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:P.title,onChange:we=>L({...P,title:we.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:P.year,onChange:we=>L({...P,year:we.target.value}),children:e==="UG"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Third",children:" "}),l.jsx("option",{value:"Fourth",children:" "})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Pre-Master",children:" "}),l.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),l.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:P.description,onChange:we=>L({...P,description:we.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:P.fileUrl}),l.jsxs("button",{type:"button",onClick:()=>kt(L),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[l.jsx(Kr,{className:"w-4 h-4"})," "]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:A,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[A?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"}),""]})]})]})]})}),Z&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:At,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:q.title,onChange:we=>K({...q,title:we.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:q.type,onChange:we=>K({...q,type:we.target.value}),children:[l.jsx("option",{value:"LECTURE",children:" "}),l.jsx("option",{value:"EXAM",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:q.year,onChange:we=>K({...q,year:we.target.value}),children:e==="UG"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Third",children:" "}),l.jsx("option",{value:"Fourth",children:" "})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Pre-Master",children:" "}),l.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:q.fileUrl}),l.jsxs("button",{type:"button",onClick:()=>kt(K),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[l.jsx(Kr,{className:"w-4 h-4"})," "]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:A,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[A?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"}),""]})]})]})]})}),R&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:Ge,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:ie.content,onChange:we=>xe({...ie,content:we.target.value})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"isImportant",checked:ie.isImportant,onChange:we=>xe({...ie,isImportant:we.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),l.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:A,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[A?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"}),""]})]})]})]})}),k&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:Ve,disabled:A,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[A&&l.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),H&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>Q(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:We,disabled:A,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[A&&l.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),B&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>pe(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:be,disabled:A,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[A&&l.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},OD=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState(!1),s=B_(),[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,g]=_.useState(!1),[x,w]=_.useState(null),[E,N]=_.useState(!1),[j,A]=_.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[U,T]=_.useState(null),[M,P]=_.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),L=async()=>{a(!0);const le=await Cme();n(le),a(!1)};_.useEffect(()=>{L()},[]);const k=()=>{s("/users",{state:{initialTab:"ALUMNI"}})},V=async le=>{le.preventDefault(),N(!0);try{await sV({...j,username:j.email.split("@")[0],password:"123"});const Y=(t==null?void 0:t.name)||j.name;Ce("  ",Y,` : ${j.name} -  ${j.graduationYear}`),alert("   !    ."),d(!1),A({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(Y){console.error(Y),alert("   ")}finally{N(!1)}},D=le=>{le?(T(le.id),P({title:le.title,company:le.company,description:le.description,contactInfo:le.contactInfo,datePosted:le.datePosted,status:le.status||"OPEN"})):(T(null),P({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),h(!0)},I=async le=>{le.preventDefault(),N(!0);const Y=(t==null?void 0:t.name)||"Unknown";try{U?(await Ome(U,M),Ce("  ",Y,`: ${M.title}`)):(await Ime(M),Ce("  ",Y,`: ${M.title} - : ${M.company}`)),h(!1),L()}catch(ie){console.error(ie),alert("    ")}finally{N(!1)}},R=le=>{w(le),g(!0)},F=async()=>{if(x){N(!0);try{const le=e.find(Y=>Y.id===x);await Rme(x),Ce("  ",(t==null?void 0:t.name)||"Unknown",`  : ${le==null?void 0:le.title}`),n(Y=>Y.filter(ie=>ie.id!==x)),g(!1),w(null)}catch(le){console.error("Delete failed",le),alert("  "),L()}finally{N(!1)}}},B=(t==null?void 0:t.role)===je.ADMIN||(t==null?void 0:t.role)===je.STAFF,pe=B||(t==null?void 0:t.role)===je.ALUMNI;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),l.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[l.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[l.jsx(lk,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===je.ADMIN&&l.jsxs("button",{onClick:k,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[l.jsx(W7,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),l.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:l.jsx(tc,{className:"w-64 h-64"})})]}),l.jsxs("div",{className:"flex items-center justify-between mt-8",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[l.jsx(tc,{className:"w-6 h-6 text-amber-600"}),l.jsx("h2",{children:"  "})]}),pe&&l.jsxs("button",{onClick:()=>D(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[l.jsx(Df,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(le=>l.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${le.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-gray-800",children:le.title}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[l.jsx(Mz,{className:"w-4 h-4"}),l.jsx("span",{children:le.company})]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${le.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:le.status==="CLOSED"?"":" "}),B&&l.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[l.jsx("button",{type:"button",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),D(le)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),R(le.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]})]}),l.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:le.description}),l.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[l.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),l.jsx("p",{className:"text-amber-600",children:le.contactInfo})]}),l.jsx("div",{className:"mt-4 flex items-center justify-between",children:l.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",le.datePosted]})})]},le.id)),l.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[l.jsx("p",{className:"font-medium",children:"   "}),l.jsx("p",{className:"text-sm mt-1",children:"   "}),pe&&l.jsx("button",{onClick:()=>D(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:j.name,onChange:le=>A({...j,name:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:j.graduationYear,onChange:le=>A({...j,graduationYear:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",value:j.currentJob,onChange:le=>A({...j,currentJob:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"email",required:!0,value:j.email,onChange:le=>A({...j,email:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"tel",required:!0,value:j.phone,onChange:le=>A({...j,phone:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:E,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[E?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"})," "]})]})]})]})}),p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:F,disabled:E,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[E&&l.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:U?"  ":"   "}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:":  ",value:M.title,onChange:le=>P({...M,title:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),l.jsx("input",{type:"text",required:!0,value:M.company,onChange:le=>P({...M,company:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:M.status,onChange:le=>P({...M,status:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[l.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),l.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:M.description,onChange:le=>P({...M,description:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:"    ",value:M.contactInfo,onChange:le=>P({...M,contactInfo:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:M.datePosted,onChange:le=>P({...M,datePosted:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:E,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[E?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"})," "]})]})]})]})})]})},zpe=()=>{const t=Ji(),[e,n]=_.useState("STAFF"),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState([]),[g,x]=_.useState([]),[w,E]=_.useState([]),[N,j]=_.useState(!1),[A,U]=_.useState(null),[T,M]=_.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});_.useEffect(()=>{t.state&&t.state.initialTab&&n(t.state.initialTab)},[t.state]),_.useEffect(()=>{P()},[e]);const P=async()=>{a(!0),e==="STAFF"?c(await J0()):e==="PG"?f(await iV()):e==="UG"?p(await _me()):e==="ALUMNI"?x(await Sme()):e==="EMPLOYEE"&&E(await pme()),a(!1)},L=D=>{if(D)U(D.id),M({name:D.name||"",email:D.email||"",phone:D.phone||"",whatsapp:D.whatsapp||"",address:D.address||"",subRole:D.subRole||"FACULTY",rank:D.rank||"",specialization:D.specialization||"",degree:D.degree||"MSc",researchTopic:D.researchTopic||"",supervisor:D.supervisor||"",status:D.status||"Researching",year:D.year||"Third",section:D.section||"",graduationYear:D.graduationYear||"",currentJob:D.currentJob||"",jobTitle:D.jobTitle||"",department:D.department||"",username:D.username||"",password:D.password||""});else{U(null);const I="user"+Math.floor(Math.random()*1e3);M({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:I,password:"123"})}j(!0)},k=async(D,I)=>{if(window.confirm("      "))try{e==="STAFF"?await mme(D):e==="PG"?await wme(D):e==="UG"?await Eme(D):e==="ALUMNI"?await Ame(D):e==="EMPLOYEE"&&await vme(D),await Ce(" ","Admin",`  : ${I}   ${e}`),P()}catch(R){console.error("Error deleting user:",R),alert("   ")}},V=async D=>{D.preventDefault();const I={email:T.email,phone:T.phone,whatsapp:T.whatsapp,address:T.address};try{if(e==="STAFF"){const R={name:T.name,...I,subRole:T.subRole,rank:T.rank,specialization:T.specialization,username:T.username,password:T.password};A?await aV(A,R):await hme(R)}else if(e==="PG")if(A){const R={name:T.name,...I,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password};await L_(A,R)}else{const R={name:T.name,...I,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await bme(R)}else if(e==="UG"){const R={name:T.name,...I,year:T.year,section:T.section,username:T.username,password:T.password};A?await jme(A,R):await Nme(R)}else if(e==="ALUMNI"){const R={name:T.name,...I,graduationYear:T.graduationYear,currentJob:T.currentJob,username:T.username,password:T.password};A?await Tme(A,R):await sV(R)}else if(e==="EMPLOYEE"){const R={name:T.name,...I,jobTitle:T.jobTitle,department:T.department,username:T.username,password:T.password};A?await yme(A,R):await gme(R)}await Ce(A?"  ":"  ","Admin",` ${A?"":""} : ${T.name}   ${e}`),j(!1),P(),alert("   ")}catch(R){console.error("Error saving user:",R),alert("   ")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(l1,{className:"w-6 h-6 text-green-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),l.jsxs("button",{onClick:()=>L(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(lk,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:si,label:" "},{id:"EMPLOYEE",icon:QD,label:" "},{id:"PG",icon:Wl,label:" "},{id:"UG",icon:Cs,label:" (3  4)"},{id:"ALUMNI",icon:tc,label:""}].map(D=>l.jsx("button",{onClick:()=>n(D.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${e===D.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(D.icon,{className:"w-4 h-4"})," ",D.label]})},D.id))}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:e==="STAFF"?" ":e==="EMPLOYEE"?" ":e==="PG"?"":e==="UG"?"":" "}),l.jsx("th",{className:"p-4",children:e==="STAFF"?"":e==="EMPLOYEE"?" / ":e==="PG"?"":e==="UG"?"":" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y",children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let D=[];return e==="STAFF"?D=s:e==="EMPLOYEE"?D=w:e==="PG"?D=d:e==="UG"?D=h:D=g,D.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):D.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:e==="STAFF"?I.rank:e==="EMPLOYEE"?I.jobTitle:e==="PG"?I.degree:e==="UG"?I.year==="Third"?"":"":I.graduationYear})}),l.jsx("td",{className:"p-4",children:e==="STAFF"?I.specialization:e==="EMPLOYEE"?I.department:e==="PG"?I.supervisor:e==="UG"?I.section||"-":I.currentJob||"-"}),l.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[I.phone&&l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(ib,{className:"w-3 h-3 text-gray-400"})," ",I.phone]}),I.whatsapp&&l.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[l.jsx(T2,{className:"w-3 h-3"})," ",I.whatsapp]}),I.email&&l.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[l.jsx(c1,{className:"w-3 h-3"})," ",I.email]})]}),l.jsx("td",{className:"p-4 font-mono text-gray-600",children:I.username||"-"}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>L(I),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>k(I.id,I.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},I.id))})()})]})})]}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[A?" ":"  ",l.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",e==="STAFF"?" ":e==="EMPLOYEE"?"/":e==="PG"?" ":e==="UG"?" ":"",")"]})]}),l.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.name,onChange:D=>M({...T,name:D.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[l.jsx(ib,{className:"w-4 h-4"}),"   ()"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(ib,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),l.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.phone,onChange:D=>M({...T,phone:D.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(T2,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),l.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.whatsapp,onChange:D=>M({...T,whatsapp:D.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(c1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),l.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:T.email,onChange:D=>M({...T,email:D.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(ik,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),l.jsx("input",{type:"text",placeholder:" - ",value:T.address,onChange:D=>M({...T,address:D.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),e==="EMPLOYEE"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":   ",required:!0,value:T.jobTitle,onChange:D=>M({...T,jobTitle:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.department,onChange:D=>M({...T,department:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="STAFF"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:T.subRole,onChange:D=>M({...T,subRole:D.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[l.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),l.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.rank,onChange:D=>M({...T,rank:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.specialization,onChange:D=>M({...T,specialization:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="PG"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{value:T.degree,onChange:D=>M({...T,degree:D.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[l.jsx("option",{value:"MSc",children:""}),l.jsx("option",{value:"PhD",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:T.status,onChange:D=>M({...T,status:D.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[l.jsx("option",{value:"Researching",children:" "}),l.jsx("option",{value:"Writing",children:" "}),l.jsx("option",{value:"Defense",children:""})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.researchTopic,onChange:D=>M({...T,researchTopic:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:T.supervisor,onChange:D=>M({...T,supervisor:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="UG"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:T.year,onChange:D=>M({...T,year:D.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[l.jsx("option",{value:"Third",children:" "}),l.jsx("option",{value:"Fourth",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",placeholder:":  ",value:T.section,onChange:D=>M({...T,section:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="ALUMNI"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"number",placeholder:"2023",required:!0,value:T.graduationYear,onChange:D=>M({...T,graduationYear:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"",value:T.currentJob,onChange:D=>M({...T,currentJob:D.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),l.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[l.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[l.jsx(l1,{className:"w-4 h-4"}),"   "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.username,onChange:D=>M({...T,username:D.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.password,onChange:D=>M({...T,password:D.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),l.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[l.jsx(kn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},Bpe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[a,s]=_.useState(null),[c,d]=_.useState(0),[f,h]=_.useState(0),[p,g]=_.useState(!1),[x,w]=_.useState(null),[E,N]=_.useState([]),[j,A]=_.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[U,T]=_.useState({title:"",url:"",date:""}),[M,P]=_.useState("UPLOAD"),[L,k]=_.useState({title:"",url:"",archiveId:""}),[V,D]=_.useState(!1);_.useEffect(()=>{I()},[]);const I=async()=>{r(!0);const X=await iV();e(X),d(X.filter(q=>q.alerts.reportOverdue).length),h(X.filter(q=>q.alerts.extensionNeeded).length),r(!1)},R=X=>{s(a===X?null:X)},F=async(X,q,K)=>{const H=t.find(ue=>ue.id===X);if(!H)return;const Q={...H.dates,[q]:K};if(q==="lastReport"){const ue=new Date(K);ue.setMonth(ue.getMonth()+6),Q.nextReportDue=ue.toISOString().split("T")[0]}try{await L_(X,{dates:Q}),I()}catch(ue){console.error(ue),alert("   ")}},B=async X=>{w(X.id),A({protocolUrl:X.documents.protocolUrl||"",toeflUrl:X.documents.toeflUrl||"",publishedPapers:X.documents.publishedPapers?[...X.documents.publishedPapers]:[],otherDocuments:X.documents.otherDocuments?[...X.documents.otherDocuments]:[]}),T({title:"",url:"",date:""}),k({title:"",url:"",archiveId:""}),P("UPLOAD");const K=(await ll()).filter(H=>H.type===Qe.INCOMING||H.type===Qe.OUTGOING||H.type===Qe.DEPARTMENT_COUNCIL);N(K),g(!0)},pe=X=>{const q=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;X==="protocol"?A(K=>({...K,protocolUrl:q})):X==="toefl"?A(K=>({...K,toeflUrl:q})):X==="other"&&k(K=>({...K,url:q}))},le=()=>{!U.title||!U.date||(A(X=>({...X,publishedPapers:[...X.publishedPapers,{...U}]})),T({title:"",url:"",date:""}))},Y=X=>{A(q=>({...q,publishedPapers:q.publishedPapers.filter((K,H)=>H!==X)}))},ie=()=>{if(!L.title)return;const X={id:Math.random().toString(36).substr(2,9),title:L.title,date:new Date().toISOString().split("T")[0],type:M};if(M==="UPLOAD"){if(!L.url)return;X.url=L.url}else{if(!L.archiveId)return;const q=E.find(K=>K.id===L.archiveId);X.archiveId=L.archiveId,X.archiveSerial=(q==null?void 0:q.serialNumber)||"???"}A(q=>({...q,otherDocuments:[...q.otherDocuments,X]})),k({title:"",url:"",archiveId:""})},xe=X=>{A(q=>({...q,otherDocuments:q.otherDocuments.filter((K,H)=>H!==X)}))},Z=async X=>{if(X.preventDefault(),!!x){D(!0);try{const q=t.find(K=>K.id===x);if(q){const K={...q.documents,protocolUrl:j.protocolUrl,toeflUrl:j.toeflUrl,publishedPapers:j.publishedPapers,otherDocuments:j.otherDocuments};await L_(x,{documents:K}),await I()}g(!1)}catch(q){console.error(q),alert("    ")}finally{D(!1)}}};return n?l.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500 text-sm",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),l.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:l.jsx(Wl,{})})]}),l.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),l.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),l.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:l.jsx(Ps,{})})]}),l.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${f>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:`${f>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),l.jsx("h3",{className:`text-2xl font-bold ${f>0?"text-amber-800":"text-gray-800"}`,children:f}),f>0&&l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),l.jsx("div",{className:`${f>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:l.jsx(fa,{})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:l.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),l.jsx("div",{className:"divide-y",children:t.map(X=>l.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[l.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>R(X.id),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${X.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:X.degree==="PhD"?"D":"M"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800",children:X.name}),l.jsx("p",{className:"text-sm text-gray-500",children:X.researchTopic})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"text-left md:text-right",children:[l.jsx("p",{className:"text-gray-500 text-xs",children:" "}),l.jsx("p",{className:"font-medium",children:X.supervisor})]}),l.jsxs("div",{className:"flex gap-2",children:[X.alerts.reportOverdue&&l.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[l.jsx(Ps,{className:"w-3 h-3"}),"  "]}),X.alerts.extensionNeeded&&l.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[l.jsx(fa,{className:"w-3 h-3"}),"  "]})]}),l.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===X.id?l.jsx(Y_,{}):l.jsx(K_,{})})]})]}),a===X.id&&l.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[l.jsx(yh,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.enrollment||"",onChange:q=>F(X.id,"enrollment",q.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.registration||"",onChange:q=>F(X.id,"registration",q.target.value)})]})]}),l.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),X.alerts.reportOverdue&&l.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:X.dates.lastReport||"",onChange:q=>F(X.id,"lastReport",q.target.value)}),l.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",l.jsx("span",{className:"font-mono text-gray-600",children:X.dates.nextReportDue||"-"})]})]}),l.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.expectedDefense||"",onChange:q=>F(X.id,"expectedDefense",q.target.value)})]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[l.jsx(hr,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),X.documents.protocolUrl?l.jsxs("a",{href:X.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[l.jsx(s1,{className:"w-3 h-3"})," "]}):l.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),X.documents.toeflUrl?l.jsxs("a",{href:X.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[l.jsx(s1,{className:"w-3 h-3"})," "]}):l.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),X.documents.otherDocuments&&X.documents.otherDocuments.length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[l.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),l.jsx("ul",{className:"space-y-1",children:X.documents.otherDocuments.map((q,K)=>l.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[q.type==="ARCHIVE_LINK"?l.jsx(S2,{className:"w-3 h-3 text-amber-500"}):l.jsx(hr,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"truncate",children:q.title})]},K))})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsxs("button",{onClick:()=>B(X),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"   "]})})]})]}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsxs("button",{onClick:()=>R(X.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[l.jsx(kn,{className:"w-4 h-4"}),"  "]})})]})]},X.id))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[l.jsx(Cs,{className:"w-5 h-5 text-gray-600"}),l.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[t.map(X=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:X.name}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${X.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:X.degree==="PhD"?"":""})}),l.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:X.researchTopic,children:X.researchTopic}),l.jsxs("td",{className:"p-4 text-gray-600",children:[X.supervisor,X.coSupervisors&&l.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",X.coSupervisors]})]}),l.jsx("td",{className:"p-4 font-mono text-gray-500",children:X.dates.registration||"-"}),l.jsx("td",{className:"p-4",children:l.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[X.status==="Researching"&&" ",X.status==="Writing"&&" ",X.status==="Defense"&&" ",X.status==="Granted"&&" ",X.status==="Recording"&&" "]})})]},X.id)),t.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:Z,className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),l.jsx("input",{type:"text",readOnly:!0,value:j.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),l.jsx("button",{type:"button",onClick:()=>pe("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:l.jsx(Kr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),l.jsx("input",{type:"text",readOnly:!0,value:j.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),l.jsx("button",{type:"button",onClick:()=>pe("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:l.jsx(Kr,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),j.otherDocuments&&j.otherDocuments.length>0?l.jsx("ul",{className:"space-y-2",children:j.otherDocuments.map((X,q)=>l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[X.type==="ARCHIVE_LINK"?l.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:l.jsx(S2,{className:"w-4 h-4"})}):l.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:l.jsx(hr,{className:"w-4 h-4"})}),l.jsxs("div",{className:"text-xs",children:[l.jsx("p",{className:"font-bold text-gray-800",children:X.title}),X.type==="ARCHIVE_LINK"?l.jsxs("p",{className:"text-amber-600",children:["  : ",X.archiveSerial]}):l.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),l.jsx("button",{type:"button",onClick:()=>xe(q),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(gt,{className:"w-4 h-4"})})]},q))}):l.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[l.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[l.jsx("button",{type:"button",onClick:()=>P("UPLOAD"),className:`text-xs font-bold pb-1 ${M==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),l.jsx("button",{type:"button",onClick:()=>P("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${M==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:L.title,onChange:X=>k({...L,title:X.target.value})}),M==="UPLOAD"?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:L.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),l.jsxs("button",{type:"button",onClick:()=>pe("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[l.jsx(Kr,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):l.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:L.archiveId,onChange:X=>k({...L,archiveId:X.target.value}),children:[l.jsx("option",{value:"",children:"--     --"}),E.map(X=>l.jsxs("option",{value:X.id,children:["[",X.type===Qe.INCOMING?"":"","] ",X.serialNumber," - ",X.subject]},X.id))]}),l.jsxs("button",{type:"button",onClick:ie,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"})," "]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),j.publishedPapers.length>0?l.jsx("ul",{className:"space-y-2",children:j.publishedPapers.map((X,q)=>l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[l.jsxs("div",{className:"text-xs",children:[l.jsx("p",{className:"font-bold text-gray-800",children:X.title}),l.jsx("p",{className:"text-gray-500",children:X.date})]}),l.jsx("button",{type:"button",onClick:()=>Y(q),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(gt,{className:"w-4 h-4"})})]},q))}):l.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),l.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[l.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),l.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:U.title,onChange:X=>T({...U,title:X.target.value})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:U.date,onChange:X=>T({...U,date:X.target.value})}),l.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:U.url,onChange:X=>T({...U,url:X.target.value})})]}),l.jsxs("button",{type:"button",onClick:le,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"  "]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:V,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[V?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"})," "]})]})]})]})})]})},Fpe=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState(!0),[s,c]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState(null),[w,E]=_.useState(!1),[N,j]=_.useState(null),[A,U]=_.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});_.useEffect(()=>{T()},[]);const T=async()=>{a(!0);const I=await Pme();n(I),a(!1)},M=I=>{I?(p(I.id),U({name:I.name,model:I.model,serialNumber:I.serialNumber,status:I.status,location:I.location,assignedTo:I.assignedTo,dateAcquired:I.dateAcquired})):(p(null),U({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),f(!0)},P=async I=>{I.preventDefault(),c(!0);const R=(t==null?void 0:t.name)||"Unknown";try{h?(await kme(h,A),Ce(" ",R,`  : ${A.name}`),alert("    ")):(await Dme(A),Ce(" ",R,`: ${A.name} - ${A.serialNumber}`),alert("   ")),await T(),f(!1)}catch(F){console.error(F),alert("   ")}finally{c(!1)}},L=I=>{j(I),E(!0)},k=async()=>{if(N){c(!0);try{const I=e.find(R=>R.id===N);await Mme(N),Ce(" ",(t==null?void 0:t.name)||"Unknown",` : ${I==null?void 0:I.name}`),n(R=>R.filter(F=>F.id!==N)),E(!1),j(null)}catch(I){console.error(I),alert("   "),T()}finally{c(!1)}}},V=I=>{switch(I){case"WORKING":return l.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(Hr,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return l.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(fa,{className:"w-3 h-3"})," "]});case"BROKEN":return l.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(W_,{className:"w-3 h-3"})," "]})}},D={total:e.length,working:e.filter(I=>I.status==="WORKING").length,maintenance:e.filter(I=>I.status==="MAINTENANCE").length,broken:e.filter(I=>I.status==="BROKEN").length};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(pg,{className:"w-6 h-6 text-blue-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),l.jsxs("button",{onClick:()=>M(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:D.total})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[l.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-green-800",children:D.working})]}),l.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[l.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:D.maintenance})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[l.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),l.jsx("h3",{className:"text-2xl font-bold text-red-800",children:D.broken})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:"  (SN)"}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})," ",l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[r?l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),l.jsx("td",{className:"p-4 text-gray-600",children:I.model}),l.jsx("td",{className:"p-4 font-mono text-gray-500",children:I.serialNumber||"-"}),l.jsx("td",{className:"p-4",children:I.location}),l.jsx("td",{className:"p-4",children:I.assignedTo}),l.jsx("td",{className:"p-4",children:V(I.status)}),l.jsx("td",{className:"p-4",children:l.jsxs("button",{onClick:()=>x(I),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[l.jsx($7,{className:"w-4 h-4"}),"QR"]})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>M(I),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:R=>{R.preventDefault(),R.stopPropagation(),L(I.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},I.id)),!r&&e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:A.name,onChange:I=>U({...A,name:I.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:A.model,onChange:I=>U({...A,model:I.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:A.serialNumber,onChange:I=>U({...A,serialNumber:I.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:A.status,onChange:I=>U({...A,status:I.target.value}),children:[l.jsx("option",{value:"WORKING",children:"  "}),l.jsx("option",{value:"MAINTENANCE",children:" "}),l.jsx("option",{value:"BROKEN",children:" / "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:A.dateAcquired,onChange:I=>U({...A,dateAcquired:I.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:A.location,onChange:I=>U({...A,location:I.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:A.assignedTo,onChange:I=>U({...A,assignedTo:I.target.value})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"}),""]})]})]})]})}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),l.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:l.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),l.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),l.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),l.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),w&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:k,disabled:s,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[s&&l.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},$pe=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState([]),[d,f]=_.useState(!0),[h,p]=_.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,x]=_.useState(!1),[w,E]=_.useState(null),[N,j]=_.useState({name:"",supervisor:"",location:""}),[A,U]=_.useState(!1),[T,M]=_.useState(null),[P,L]=_.useState(null),[k,V]=_.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[D,I]=_.useState(!1),[R,F]=_.useState(null),[B,pe]=_.useState(!1),[le,Y]=_.useState(null),[ie,xe]=_.useState(!1),[Z,X]=_.useState(null),[q,K]=_.useState(!1),H=(t==null?void 0:t.role)===je.ADMIN||(t==null?void 0:t.role)===je.STAFF;_.useEffect(()=>{Q()},[]);const Q=async()=>{f(!0);const[de,$e,Fe]=await Promise.all([Hme(),Lme(),Bme()]),_t=de.sort((Ba,Fa)=>Ba.date!==Fa.date?Ba.date.localeCompare(Fa.date):Ba.startTime.localeCompare(Fa.startTime));a(_t),n($e),c(Fe),f(!1)},ue=de=>{de?(E(de.id),j({name:de.name,supervisor:de.supervisor,location:de.location})):(E(null),j({name:"",supervisor:"",location:""})),x(!0)},_e=async de=>{de.preventDefault(),K(!0);const $e=(t==null?void 0:t.name)||"Unknown";try{w?(await Vme(w,N),Ce(" ",$e,`   : ${N.name}`)):(await Ume(N),Ce(" ",$e,`  : ${N.name}`)),await Q(),x(!1)}catch(Fe){console.error(Fe),alert("    ")}finally{K(!1)}},Ae=async()=>{if(le){K(!0);try{const de=e.find($e=>$e.id===le);await zme(le),Ce(" ",(t==null?void 0:t.name)||"Unknown",`  : ${de==null?void 0:de.name}`),await Q(),pe(!1),Y(null)}catch(de){console.error(de),alert("   ")}finally{K(!1)}}},He=de=>{M(de),L(null),V({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),U(!0)},ce=de=>{L(de.id),V({courseName:de.courseName,instructor:de.instructor,day:de.day,startTime:de.startTime,endTime:de.endTime})},Ve=async de=>{if(de.preventDefault(),!T)return;K(!0);const $e=(t==null?void 0:t.name)||"Unknown";try{P?(await $me(P,k),Ce("  ",$e,`: ${k.courseName}`),L(null)):(await Fme({...k,labId:T.id}),Ce("  ",$e,`: ${k.courseName} - : ${T.name}`)),await Q(),V(Fe=>({...Fe,courseName:"",instructor:""}))}catch(Fe){console.error(Fe),alert("    ")}finally{K(!1)}},Ge=de=>{X(de),xe(!0)},be=async()=>{if(Z){K(!0);try{const de=s.find($e=>$e.id===Z);await qme(Z),Ce("  ",(t==null?void 0:t.name)||"Unknown",` : ${de==null?void 0:de.courseName}`),await Q(),xe(!1),X(null)}catch{alert(" ")}finally{K(!1)}}},At=de=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[de]||de,We=async de=>{if(de.preventDefault(),h.endTime<=h.startTime){alert("       ");return}const $e=h.experimentType.trim().toLowerCase();if(r.some(_t=>_t.status==="CANCELLED"||_t.date!==h.date||_t.experimentType.trim().toLowerCase()!==$e?!1:h.startTime<_t.endTime&&h.endTime>_t.startTime)){alert(`     / (${h.experimentType})   .    .`);return}K(!0);try{await Gme({...h,labName:"   ",status:"CONFIRMED"}),Ce(" ",(t==null?void 0:t.name)||h.researcherName,` : ${h.date} - ${h.experimentType}`),await Q(),p(_t=>({..._t,experimentType:""})),alert("    ")}catch(_t){console.error(_t),alert("   ")}finally{K(!1)}},kt=async(de,$e)=>{try{await Kme(de,{status:$e}),a(Fe=>Fe.map(_t=>_t.id===de?{..._t,status:$e}:_t)),Ce("  ",(t==null?void 0:t.name)||"Unknown",`  : ${$e}`)}catch(Fe){console.error(Fe),alert("  ")}},we=async()=>{if(R){K(!0);try{await Yme(R),Ce("/ ",(t==null?void 0:t.name)||"Unknown","   "),await Q(),I(!1),F(null)}catch(de){console.error(de),alert("   ")}finally{K(!1)}}},dt=de=>{switch(de){case"CONFIRMED":return l.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(Hr,{className:"w-3 h-3"})," "]});case"COMPLETED":return l.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(Yz,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return l.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(W_,{className:"w-3 h-3"})," "]});default:return null}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(o1,{className:"w-6 h-6 text-purple-600"})," "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),H&&l.jsxs("button",{onClick:()=>ue(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[l.jsx(nn,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(de=>l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[l.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:l.jsx(o1,{className:"w-5 h-5"})}),l.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:de.name}),l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:de.location}),l.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[l.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",de.supervisor]}),l.jsxs("button",{onClick:()=>He(de),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[l.jsx(rB,{className:"w-3 h-3"}),"  "]}),H&&l.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>ue(de),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{Y(de.id),pe(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]},de.id)),e.length===0&&l.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(yh,{className:"w-5 h-5"}),"  -   "]}),l.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),l.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(Ps,{className:"w-4 h-4"}),"   "]}),l.jsxs("form",{onSubmit:We,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.researcherName,onChange:de=>p({...h,researcherName:de.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),l.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.date,onChange:de=>p({...h,date:de.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.startTime,onChange:de=>p({...h,startTime:de.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.endTime,onChange:de=>p({...h,endTime:de.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),l.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.experimentType,onChange:de=>p({...h,experimentType:de.target.value})}),l.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),l.jsxs("button",{type:"submit",disabled:q,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[l.jsx(nn,{className:"w-4 h-4"}),"  "]})]})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(Hr,{className:"w-4 h-4 text-green-600"}),"  "]}),l.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(de=>l.jsxs("tr",{className:`hover:bg-gray-50 ${de.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[l.jsx("td",{className:"p-3 font-mono text-gray-600",children:de.date}),l.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[de.startTime," - ",de.endTime]}),l.jsx("td",{className:"p-3 font-bold text-gray-800",children:de.researcherName}),l.jsx("td",{className:"p-3 text-gray-600",children:de.experimentType}),l.jsx("td",{className:"p-3",children:H?l.jsxs("select",{value:de.status,onChange:$e=>kt(de.id,$e.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${de.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":de.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[l.jsx("option",{value:"CONFIRMED",children:""}),l.jsx("option",{value:"COMPLETED",children:" "}),l.jsx("option",{value:"CANCELLED",children:""})]}):dt(de.status)}),l.jsx("td",{className:"p-3",children:(H||(t==null?void 0:t.name)===de.researcherName)&&l.jsx("button",{onClick:()=>{F(de.id),I(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:l.jsx(gt,{className:"w-4 h-4"})})})]},de.id)),!d&&r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-gray-800",children:w?"  ":"  "}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:N.name,onChange:de=>j({...N,name:de.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:N.supervisor,onChange:de=>j({...N,supervisor:de.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:N.location,onChange:de=>j({...N,location:de.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:q,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[q?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(kn,{className:"w-4 h-4"}),""]})]})]})]})}),A&&T&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("p",{className:"text-sm text-purple-700",children:T.name})]}),l.jsx("button",{onClick:()=>U(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6",children:[H&&l.jsxs("form",{onSubmit:Ve,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[l.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(nn,{className:"w-4 h-4"})," ",P?"  ":"  "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:k.courseName,onChange:de=>V({...k,courseName:de.target.value})}),l.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:k.instructor,onChange:de=>V({...k,instructor:de.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:k.day,onChange:de=>V({...k,day:de.target.value}),children:[l.jsx("option",{value:"Saturday",children:""}),l.jsx("option",{value:"Sunday",children:""}),l.jsx("option",{value:"Monday",children:""}),l.jsx("option",{value:"Tuesday",children:""}),l.jsx("option",{value:"Wednesday",children:""}),l.jsx("option",{value:"Thursday",children:""})]}),l.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:k.startTime,onChange:de=>V({...k,startTime:de.target.value})}),l.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:k.endTime,onChange:de=>V({...k,endTime:de.target.value})})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[P&&l.jsx("button",{type:"button",onClick:()=>{L(null),V(de=>({...de,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),l.jsx("button",{type:"submit",disabled:q,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:P?" ":" "})]})]}),l.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(de=>{const $e=s.filter(Fe=>Fe.labId===T.id&&Fe.day===de).sort((Fe,_t)=>Fe.startTime.localeCompare(_t.startTime));return $e.length===0?null:l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:At(de)}),l.jsx("ul",{className:"space-y-2",children:$e.map(Fe=>l.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[Fe.startTime," - ",Fe.endTime]}),l.jsx("span",{className:"font-semibold text-gray-800",children:Fe.courseName}),l.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",Fe.instructor,")"]})]}),H&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>ce(Fe),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:l.jsx(Ir,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>Ge(Fe.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:l.jsx(gt,{className:"w-3 h-3"})})]})]},Fe.id))})]},de)}),s.filter(de=>de.labId===T.id).length===0&&l.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),B&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>pe(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:Ae,disabled:q,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[q&&l.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),ie&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>xe(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:be,disabled:q,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[q&&l.jsx(it,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),D&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(fa,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsx("button",{onClick:we,disabled:q,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},qpe=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!0),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[g,x]=_.useState(null),[w,E]=_.useState(!1),[N,j]=_.useState(!1),[A,U]=_.useState(null),[T,M]=_.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});_.useEffect(()=>{P()},[]);const P=async()=>{c(!0);const[I,R]=await Promise.all([Wme(),Xme()]);n(I.sort((F,B)=>F.number-B.number)),a(R.sort((F,B)=>B.endDate.localeCompare(F.endDate))),c(!1)},L=I=>{x(I),I.status==="OCCUPIED"?M({researcher:I.researcher||"",plantType:I.plantType||"",notes:I.notes||"",startDate:I.startDate||""}):M({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},k=async I=>{if(I.preventDefault(),!!g){f(!0);try{await CD(g.id,{status:"OCCUPIED",...T}),Ce("  ",(t==null?void 0:t.name)||T.researcher,`    ${g.number}`),await P(),p(!1),alert("    ")}catch(R){console.error(R),alert("   ")}finally{f(!1)}}},V=async()=>{if(g){f(!0);try{g.researcher&&g.plantType&&await Qme({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await CD(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Ce("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await P(),E(!1),p(!1),alert("      ")}catch(I){console.error(I),alert("   ")}finally{f(!1)}}},D=async()=>{if(A){f(!0);try{await Zme(A),Ce("   ",(t==null?void 0:t.name)||"Unknown","   "),await P(),j(!1),U(null)}catch{alert("  ")}finally{f(!1)}}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(ak,{className:"w-6 h-6 text-green-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),l.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),l.jsx("span",{className:"text-green-700",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),l.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),s?l.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[l.jsx(it,{className:"w-8 h-8 animate-spin text-green-600"}),l.jsx("span",{children:"   ..."})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(I=>{const R=I.status==="OCCUPIED";return l.jsxs("div",{onClick:()=>L(I),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${R?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[l.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",I.number]}),R?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:l.jsx(bu,{className:"w-8 h-8 text-red-500"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800 truncate",children:I.plantType}),l.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:I.researcher})]}),l.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",I.startDate]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[l.jsx(bu,{className:"w-8 h-8 text-green-400"}),l.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),l.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},I.id)})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[l.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(g7,{className:"w-5 h-5 text-gray-600"}),l.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[r.map(I=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",I.plotNumber]}),l.jsx("td",{className:"p-4",children:I.researcher}),l.jsx("td",{className:"p-4",children:I.plantType}),l.jsx("td",{className:"p-4 text-gray-500",children:I.startDate}),l.jsx("td",{className:"p-4 text-gray-500",children:I.endDate}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>{U(I.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:l.jsx(gt,{className:"w-4 h-4"})})})]},I.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),h&&g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(bu,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),l.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:l.jsx(qt,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(X_,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),l.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:T.researcher,onChange:I=>M({...T,researcher:I.target.value}),placeholder:"  "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),l.jsxs("div",{className:"relative",children:[l.jsx(bu,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),l.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:T.plantType,onChange:I=>M({...T,plantType:I.target.value}),placeholder:":  ( 95)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(yh,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),l.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:T.startDate,onChange:I=>M({...T,startDate:I.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),l.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:T.notes,onChange:I=>M({...T,notes:I.target.value}),placeholder:"     ..."})]}),l.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),l.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(Hr,{className:"w-4 h-4"})," "]})]}):l.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[l.jsx(gt,{className:"w-4 h-4"}),"   "]})})]})]})}),w&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(fa,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&l.jsx(it,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(gt,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:D,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&l.jsx(it,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},Hpe=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!0),[d,f]=_.useState(!1),[h,p]=_.useState("ALL"),[g,x]=_.useState(!1),[w,E]=_.useState(null),[N,j]=_.useState(!1),[A,U]=_.useState(null),[T,M]=_.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});_.useEffect(()=>{P()},[]),_.useEffect(()=>{a(h==="ALL"?e:e.filter(R=>R.type===h))},[e,h]);const P=async()=>{c(!0);const F=(await lpe()).sort((B,pe)=>pe.date.localeCompare(B.date));n(F),c(!1)},L=R=>{R?(E(R.id),M({title:R.title,type:R.type,date:R.date,location:R.location,description:R.description,regLink:R.regLink||"",status:R.status||"UPCOMING"})):(E(null),M({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),x(!0)},k=async R=>{R.preventDefault(),f(!0);const F=(t==null?void 0:t.name)||"Unknown";try{w?(await upe(w,T),Ce(" ",F,` : ${T.title}`)):(await cpe(T),Ce("  ",F,`: ${T.title}`)),await P(),x(!1),alert(w?"   ":"   ")}catch(B){console.error(B),alert("   ")}finally{f(!1)}},V=async()=>{if(A){f(!0);try{const R=e.find(F=>F.id===A);await dpe(A),Ce(" ",(t==null?void 0:t.name)||"Unknown",` : ${R==null?void 0:R.title}`),await P(),j(!1),U(null)}catch{alert("  ")}finally{f(!1)}}},D=R=>{switch(R){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:B7};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:D7};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:Uz};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:si};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:Cs};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:u1}}},I=R=>{switch(R){case"UPCOMING":return l.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[l.jsx(Ps,{className:"w-3 h-3"})," "]});case"COMPLETED":return l.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[l.jsx(Hr,{className:"w-3 h-3"})," "]});case"CANCELLED":return l.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[l.jsx(W_,{className:"w-3 h-3"})," "]});default:return null}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(u1,{className:"w-6 h-6 text-purple-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),l.jsxs("button",{onClick:()=>L(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[l.jsx(mu,{active:h==="ALL",onClick:()=>p("ALL"),label:""}),l.jsx(mu,{active:h==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),l.jsx(mu,{active:h==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),l.jsx(mu,{active:h==="TRIP",onClick:()=>p("TRIP"),label:" "}),l.jsx(mu,{active:h==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),l.jsx(mu,{active:h==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),s?l.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[l.jsx(it,{className:"w-8 h-8 animate-spin text-purple-600"}),l.jsx("span",{children:"  ..."})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(R=>{const F=D(R.type),B=F.icon;return l.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${F.border}`,children:[l.jsxs("div",{className:"p-5 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${F.bg} ${F.color}`,children:[l.jsx(B,{className:"w-3 h-3"})," ",F.label]}),l.jsxs("div",{className:"flex items-center gap-2",children:[I(R.status),l.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[l.jsx(yh,{className:"w-3 h-3"})," ",R.date]})]})]}),l.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:R.title}),l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[l.jsx(ik,{className:"w-4 h-4"}),l.jsx("span",{children:R.location})]}),l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:R.description})]}),l.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[R.regLink&&R.status==="UPCOMING"?l.jsxs("a",{href:R.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",l.jsx(s1,{className:"w-3 h-3"})]}):l.jsx("span",{className:"text-xs text-gray-400 italic",children:R.status==="UPCOMING"?"   ":" "}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>L(R),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{U(R.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]})]})]},R.id)}),r.length===0&&l.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:w?" ":"  "}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:T.title,onChange:R=>M({...T,title:R.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:T.type,onChange:R=>M({...T,type:R.target.value}),children:[l.jsx("option",{value:"WORKSHOP",children:" "}),l.jsx("option",{value:"SEMINAR",children:""}),l.jsx("option",{value:"TRIP",children:" / "}),l.jsx("option",{value:"CONFERENCE",children:""}),l.jsx("option",{value:"COURSE",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:T.status,onChange:R=>M({...T,status:R.target.value}),children:[l.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),l.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),l.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:T.date,onChange:R=>M({...T,date:R.target.value})})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:T.location,onChange:R=>M({...T,location:R.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:T.description,onChange:R=>M({...T,description:R.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),l.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:T.regLink,onChange:R=>M({...T,regLink:R.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?l.jsx(it,{className:"w-4 h-4 animate-spin"}):w?l.jsx(kn,{className:"w-4 h-4"}):l.jsx(nn,{className:"w-4 h-4"}),w?" ":" "]})]})]})]})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(gt,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&l.jsx(it,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},mu=({active:t,onClick:e,label:n})=>l.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),Gpe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[a,s]=_.useState(!0),[c,d]=_.useState(""),[f,h]=_.useState(!1),[p,g]=_.useState(null),[x,w]=_.useState(!1);_.useEffect(()=>{E()},[]),_.useEffect(()=>{if(!c)r(t);else{const U=c.toLowerCase();r(t.filter(T=>T.action.toLowerCase().includes(U)||T.performedBy.toLowerCase().includes(U)||T.details.toLowerCase().includes(U)))}},[c,t]);const E=async()=>{s(!0);const U=await cme();e(U),r(U),s(!1)},N=U=>{g(U),h(!0)},j=async()=>{if(p){w(!0);try{await ume(p),await E(),h(!1),g(null)}catch(U){console.error(U),alert("  ")}finally{w(!1)}}},A=async()=>{s(!0),await Ce(" ","Admin","     "),await E(),s(!1)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(XD,{className:"w-6 h-6 text-red-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:A,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[l.jsx(Df,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:E,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[l.jsx(d1,{className:"w-4 h-4"})," "]})]})]}),l.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:l.jsxs("div",{className:"relative",children:[l.jsx($f,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:U=>d(U.target.value)})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y",children:a?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(U=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:U.action}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:U.performedBy})}),l.jsx("td",{className:"p-4 text-gray-600",children:U.details}),l.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(U.timestamp).toLocaleString("ar-EG")}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>N(U.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:l.jsx(gt,{className:"w-4 h-4"})})})]},U.id)):l.jsx("tr",{children:l.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[l.jsx(Q7,{className:"w-10 h-10 mb-2 opacity-20"}),l.jsx("p",{children:"     "}),l.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:A,children:"    "})]})})})]})})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(fa,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:j,disabled:x,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[x&&l.jsx(it,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},Kpe=({user:t})=>{const[e,n]=_.useState("COUNCIL"),[r,a]=_.useState(!0),[s,c]=_.useState([]),[d,f]=_.useState([]),h=new Date().getFullYear(),[p,g]=_.useState(`${h}-${h+1}`),[x,w]=_.useState(!1),[E,N]=_.useState(!1),[j,A]=_.useState(null),[U,T]=_.useState(null),[M,P]=_.useState({academicYear:"",members:[]}),[L,k]=_.useState({name:"",academicYear:"",members:[]}),[V,D]=_.useState(null),I=t.role===je.ADMIN;_.useEffect(()=>{R()},[]);const R=async()=>{a(!0);const[Q,ue]=await Promise.all([fpe(),gpe()]);c(Q),f(ue),a(!1)},F=()=>{const Q=new Set([...s.map(ue=>ue.academicYear),...d.map(ue=>ue.academicYear)]);return Q.add(`${h}-${h+1}`),Array.from(Q).sort().reverse()},B=Q=>{Q?(A(Q.id),P({academicYear:Q.academicYear,members:[...Q.members]})):(A(null),P({academicYear:p,members:[]})),w(!0)},pe=async()=>{if(!M.academicYear){alert("   ");return}try{j?(await mpe(j,M),await Ce("   ",t.name,`     : ${M.academicYear}`)):(await hpe(M),await Ce("   ",t.name,`      : ${M.academicYear}`)),w(!1),R(),alert("   ")}catch(Q){console.error(Q),alert("   ")}},le=async Q=>{if(window.confirm("       "))try{await ppe(Q),await Ce("   ",t.name,"      "),R()}catch(ue){console.error(ue),alert(" ")}},Y=Q=>{Q?(T(Q.id),k({name:Q.name,academicYear:Q.academicYear,members:[...Q.members]})):(T(null),k({name:"",academicYear:p,members:[]})),N(!0)},ie=async()=>{if(!L.name||!L.academicYear){alert(" ");return}try{U?(await vpe(U,L),await Ce(" ",t.name,`  ${L.name}  ${L.academicYear}`)):(await ype(L),await Ce(" ",t.name,`   : ${L.name}  ${L.academicYear}`)),N(!1),R(),alert("   ")}catch(Q){console.error(Q),alert("   ")}},xe=async(Q,ue)=>{if(window.confirm(`      ${ue}`))try{await xpe(Q),await Ce(" ",t.name,`  : ${ue}`),R()}catch(_e){console.error(_e),alert(" ")}},Z=Q=>{Q(ue=>({...ue,members:[...ue.members,{name:"",role:"",title:""}]}))},X=(Q,ue,_e,Ae)=>{Q(He=>{const ce=[...He.members];return ce[ue]={...ce[ue],[_e]:Ae},{...He,members:ce}})},q=(Q,ue)=>{Q(_e=>({..._e,members:_e.members.filter((Ae,He)=>He!==ue)}))},K=s.find(Q=>Q.academicYear===p),H=d.filter(Q=>Q.academicYear===p);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Tf,{className:"w-6 h-6 text-indigo-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[l.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),l.jsx("select",{value:p,onChange:Q=>g(Q.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:F().map(Q=>l.jsx("option",{value:Q,children:Q},Q))})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(si,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(Tf,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),I&&l.jsxs("button",{onClick:()=>B(K),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[K?l.jsx(Ir,{className:"w-4 h-4"}):l.jsx(nn,{className:"w-4 h-4"}),K?" ":"  "]})]}),K?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" (Role)"})]})}),l.jsx("tbody",{className:"divide-y",children:K.members.map((Q,ue)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 text-gray-500",children:Q.title}),l.jsx("td",{className:"p-4 font-bold text-gray-800",children:Q.name}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${Q.role.includes("")?"bg-indigo-100 text-indigo-700":Q.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:Q.role})})]},ue))})]})}),I&&l.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:l.jsxs("button",{onClick:()=>le(K.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[l.jsx(gt,{className:"w-3 h-3"}),"   "]})})]}):l.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[l.jsx(si,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),l.jsx("p",{children:"       ."}),I&&l.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),I&&l.jsxs("button",{onClick:()=>Y(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[l.jsx(nn,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[H.map(Q=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>D(V===Q.id?null:Q.id),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:l.jsx(Tf,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:Q.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[Q.members.length," "]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[I&&l.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[l.jsx("button",{onClick:ue=>{ue.stopPropagation(),Y(Q)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:ue=>{ue.stopPropagation(),xe(Q.id,Q.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:l.jsx(gt,{className:"w-4 h-4"})})]}),V===Q.id?l.jsx(Y_,{className:"w-5 h-5 text-gray-400"}):l.jsx(K_,{className:"w-5 h-5 text-gray-400"})]})]}),V===Q.id&&l.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""})]})}),l.jsx("tbody",{children:Q.members.map((ue,_e)=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-2 text-gray-500 w-20",children:ue.title}),l.jsx("td",{className:"py-2 font-medium",children:ue.name}),l.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:ue.role})]},_e))})]})})]},Q.id)),H.length===0&&l.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[l.jsx(Tf,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),l.jsx("p",{children:"     ."})]})]})]}),x&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"   ":"  "}),l.jsx("button",{onClick:()=>w(!1),children:l.jsx(qt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",value:M.academicYear,onChange:Q=>P({...M,academicYear:Q.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),l.jsxs("button",{onClick:()=>Z(P),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"  "]})]}),l.jsx("div",{className:"space-y-2",children:M.members.map((Q,ue)=>l.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[l.jsx("input",{type:"text",placeholder:" (.)",value:Q.title,onChange:_e=>X(P,ue,"title",_e.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("input",{type:"text",placeholder:" ",value:Q.name,onChange:_e=>X(P,ue,"name",_e.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),l.jsx("input",{type:"text",placeholder:" (/)",value:Q.role,onChange:_e=>X(P,ue,"role",_e.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("button",{onClick:()=>q(P,ue),className:"text-red-400 hover:text-red-600 p-1",children:l.jsx(gt,{className:"w-4 h-4"})})]},ue))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{onClick:pe,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[l.jsx(kn,{className:"w-4 h-4"}),"  "]})]})]})]})}),E&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:U?" ":"  "}),l.jsx("button",{onClick:()=>N(!1),children:l.jsx(qt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",value:L.name,onChange:Q=>k({...L,name:Q.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",value:L.academicYear,onChange:Q=>k({...L,academicYear:Q.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),l.jsxs("button",{onClick:()=>Z(k),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[l.jsx(nn,{className:"w-3 h-3"}),"  "]})]}),l.jsx("div",{className:"space-y-2",children:L.members.map((Q,ue)=>l.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[l.jsx("input",{type:"text",placeholder:"",value:Q.title,onChange:_e=>X(k,ue,"title",_e.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("input",{type:"text",placeholder:" ",value:Q.name,onChange:_e=>X(k,ue,"name",_e.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),l.jsx("input",{type:"text",placeholder:"",value:Q.role,onChange:_e=>X(k,ue,"role",_e.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("button",{onClick:()=>q(k,ue),className:"text-red-400 hover:text-red-600 p-1",children:l.jsx(gt,{className:"w-4 h-4"})})]},ue))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{onClick:ie,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[l.jsx(kn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},Ype=({user:t})=>{const e="2024-2025",[n,r]=_.useState(t.role===je.ADMIN),[a,s]=_.useState(!0),[c,d]=_.useState(!1),[f,h]=_.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=_.useState(1),[x,w]=_.useState([]),[E,N]=_.useState([]);_.useEffect(()=>{n&&t.role===je.ADMIN?A():j()},[n,t.id,t.role]);const j=async()=>{s(!0);try{const I=await bpe(t.id,e);h(I||(R=>({...R,userId:t.id,userName:t.name})))}catch(I){console.error("Error fetching report:",I)}s(!1)},A=async()=>{s(!0);try{const I=await _pe(e),R=await J0();w(I),N(R.map(F=>F.name))}catch(I){console.error("Error fetching dept data:",I)}s(!1)},U=async(I=!1)=>{d(!0);try{const R={...f,status:I?"SUBMITTED":"DRAFT",submissionDate:I?new Date().toISOString():f.submissionDate};await wpe(R,f.id||void 0),I?(await Ce("  ",t.name,`     ${e}`),alert("    ")):(await Ce("  ",t.name,`     ${e}`),alert("   ")),j()}catch(R){console.error(R),alert("   ")}finally{d(!1)}},T=async()=>{if(!window.confirm("     .   "))return;const I={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};h(R=>({...R,publishedResearch:[...R.publishedResearch,I]})),await Ce(" ",t.name,"        "),alert("   ()")},M=async(I,R)=>{try{const F=await pd(I),B=[...f.publishedResearch];B[R].fileUrl=F,h({...f,publishedResearch:B}),alert("   ")}catch(F){alert("  : "+F.message)}},P=()=>{window.print()},L=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[l.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),l.jsxs("button",{onClick:T,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[l.jsx(v7,{className:"w-4 h-4"}),"    "]})]}),f.publishedResearch.map((I,R)=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[l.jsx("button",{onClick:()=>{const F=f.publishedResearch.filter((B,pe)=>pe!==R);h({...f,publishedResearch:F})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:l.jsx(gt,{className:"w-4 h-4"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.title,onChange:F=>{const B=[...f.publishedResearch];B[R].title=F.target.value,h({...f,publishedResearch:B})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.journal,onChange:F=>{const B=[...f.publishedResearch];B[R].journal=F.target.value,h({...f,publishedResearch:B})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.type,onChange:F=>{const B=[...f.publishedResearch];B[R].type=F.target.value,h({...f,publishedResearch:B})},children:[l.jsx("option",{value:"International",children:" (International)"}),l.jsx("option",{value:"Regional",children:" (Regional)"}),l.jsx("option",{value:"Local",children:" (Local)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:I.date,onChange:F=>{const B=[...f.publishedResearch];B[R].date=F.target.value,h({...f,publishedResearch:B})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),l.jsx("div",{className:"flex items-center gap-2",children:I.fileUrl?l.jsxs("a",{href:I.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[l.jsx(hr,{className:"w-4 h-4"}),"  "]}):l.jsxs("div",{className:"relative w-full",children:[l.jsx("input",{type:"file",id:`file-${R}`,className:"hidden",onChange:F=>F.target.files&&M(F.target.files[0],R)}),l.jsxs("label",{htmlFor:`file-${R}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[l.jsx(Kr,{className:"w-4 h-4"}),"  "]})]})})]})]})]},R)),l.jsxs("button",{onClick:()=>h({...f,publishedResearch:[...f.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),"   "]})]}),k=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(pg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),f.ongoingResearch.map((I,R)=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[l.jsx("button",{onClick:()=>{const F=f.ongoingResearch.filter((B,pe)=>pe!==R);h({...f,ongoingResearch:F})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:l.jsx(gt,{className:"w-4 h-4"})}),l.jsxs("div",{className:"space-y-3 pl-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.topic,onChange:F=>{const B=[...f.ongoingResearch];B[R].topic=F.target.value,h({...f,ongoingResearch:B})}})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.stage,onChange:F=>{const B=[...f.ongoingResearch];B[R].stage=F.target.value,h({...f,ongoingResearch:B})},children:[l.jsx("option",{value:"Data Collection",children:"  "}),l.jsx("option",{value:"Lab Experiments",children:" "}),l.jsx("option",{value:"Writing",children:" "}),l.jsx("option",{value:"Under Review",children:" "})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",I.progress,"%)"]}),l.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:I.progress,onChange:F=>{const B=[...f.ongoingResearch];B[R].progress=parseInt(F.target.value),h({...f,ongoingResearch:B})}})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),l.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.participants||"",onChange:F=>{const B=[...f.ongoingResearch];B[R].participants=F.target.value,h({...f,ongoingResearch:B})}})]})]})]},R)),l.jsxs("button",{onClick:()=>h({...f,ongoingResearch:[...f.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[l.jsx(nn,{className:"w-5 h-5"}),"   "]})]}),V=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(ju,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),l.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.thesesJudged,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,thesesJudged:parseInt(I.target.value)}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),l.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.supervisionCount,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,supervisionCount:parseInt(I.target.value)}})})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:f.scientificActivity.trainingCourses,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,trainingCourses:I.target.value}})})]})]}),l.jsxs("div",{className:"mt-4 border-t pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),l.jsx("button",{onClick:()=>h({...f,scientificActivity:{...f.scientificActivity,conferences:[...f.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),f.scientificActivity.conferences.map((I,R)=>l.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[l.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:I.name,onChange:F=>{const B=[...f.scientificActivity.conferences];B[R].name=F.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})}}),l.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:I.role,onChange:F=>{const B=[...f.scientificActivity.conferences];B[R].role=F.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})},children:[l.jsx("option",{value:"Attendance",children:""}),l.jsx("option",{value:"Speaker",children:""}),l.jsx("option",{value:"Organizer",children:""})]}),l.jsx("button",{onClick:()=>{const F=f.scientificActivity.conferences.filter((B,pe)=>pe!==R);h({...f,scientificActivity:{...f.scientificActivity,conferences:F}})},className:"text-red-500",title:"",children:l.jsx(qt,{className:"w-4 h-4"})})]},R))]})]}),D=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(si,{className:"w-5 h-5 text-amber-600"}),"   "]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.books,onChange:I=>h({...f,communityActivity:{...f.communityActivity,books:I.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.convoys,onChange:I=>h({...f,communityActivity:{...f.communityActivity,convoys:I.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.media,onChange:I=>h({...f,communityActivity:{...f.communityActivity,media:I.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.memberships,onChange:I=>h({...f,communityActivity:{...f.communityActivity,memberships:I.target.value}})})]})]});if(n&&t.role===je.ADMIN){if(a)return l.jsx("div",{className:"p-10 text-center",children:l.jsx(it,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const I=x.reduce((pe,le)=>{var Y;return pe+(((Y=le.publishedResearch)==null?void 0:Y.length)||0)},0),R=x.reduce((pe,le)=>{var Y;return pe+(((Y=le.publishedResearch)==null?void 0:Y.filter(ie=>ie.type==="International").length)||0)},0),F=x.filter(pe=>pe.status==="SUBMITTED").length,B=[...x].sort((pe,le)=>{var Y,ie;return(((Y=le.publishedResearch)==null?void 0:Y.length)||0)-(((ie=pe.publishedResearch)==null?void 0:ie.length)||0)})[0];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Hr,{className:"w-6 h-6 text-green-600"}),"  "]}),l.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),l.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[l.jsx(Ra,{title:" ",value:`${F} / ${E.length}`,icon:Hr,color:"green"}),l.jsx(Ra,{title:" ",value:I,icon:Cs,color:"blue"}),l.jsx(Ra,{title:" ",value:R,icon:rk,color:"purple"}),l.jsx(Ra,{title:" ",value:B?B.userName.split(" ")[0]:"-",icon:ju,color:"amber"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "})]})}),l.jsxs("tbody",{className:"divide-y",children:[E.map((pe,le)=>{var ie,xe;const Y=x.find(Z=>Z.userName===pe);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:pe}),l.jsx("td",{className:"p-4",children:(Y==null?void 0:Y.status)==="SUBMITTED"?l.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[l.jsx(Hr,{className:"w-3 h-3"}),"  "]}):Y?l.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[l.jsx(Ps,{className:"w-3 h-3"}),"  "]}):l.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[l.jsx(ZD,{className:"w-3 h-3"}),"  "]})}),l.jsx("td",{className:"p-4 font-mono",children:((ie=Y==null?void 0:Y.publishedResearch)==null?void 0:ie.length)||0}),l.jsx("td",{className:"p-4 font-mono",children:((xe=Y==null?void 0:Y.ongoingResearch)==null?void 0:xe.length)||0}),l.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:Y!=null&&Y.submissionDate?new Date(Y.submissionDate).toLocaleDateString("ar-EG"):"-"})]},le)}),E.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?l.jsx("div",{className:"p-10 text-center",children:l.jsx(it,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(hr,{className:"w-6 h-6 text-blue-600"}),"   "]}),l.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===je.ADMIN&&l.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[l.jsx(si,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-full ${f.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:f.status==="SUBMITTED"?l.jsx(Hr,{className:"w-5 h-5"}):l.jsx(Ps,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("p",{className:`font-bold ${f.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:f.status==="SUBMITTED"?"   ":"   "})]})]}),l.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:l.jsxs("button",{onClick:P,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[l.jsx(i1,{className:"w-4 h-4"}),"  PDF"]})})]}),l.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:Cs},{id:2,label:" ",icon:pg},{id:3,label:" ",icon:ju},{id:4,label:" ",icon:si}].map(I=>l.jsxs("button",{onClick:()=>g(I.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===I.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[l.jsx(I.icon,{className:`w-4 h-4 ${p===I.id?"text-blue-600":"text-gray-400"}`})," ",I.label]},I.id))}),l.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&L(),p===2&&k(),p===3&&V(),p===4&&D(),l.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[l.jsxs("button",{onClick:()=>U(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[l.jsx(kn,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>U(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?l.jsx(it,{className:"w-4 h-4 animate-spin"}):l.jsx(ok,{className:"w-4 h-4"}),"   "]})]})]}),l.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[l.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),l.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),l.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),l.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",t.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),l.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.publishedResearch.length>0?f.publishedResearch.map((I,R)=>l.jsxs("li",{className:"pl-2",children:[l.jsx("span",{className:"font-bold",children:I.title}),l.jsx("br",{}),l.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",I.journal," (",I.date,") - [",I.type,"]"]})]},R)):l.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),l.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.ongoingResearch.length>0?f.ongoingResearch.map((I,R)=>l.jsxs("li",{className:"pl-2",children:[l.jsx("span",{className:"font-bold",children:I.topic}),l.jsx("br",{}),l.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",I.stage," ( : ",I.progress,"%)"]})]},R)):l.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),l.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[l.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),l.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[l.jsxs("div",{className:"border p-4",children:[l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:" :"})," ",f.scientificActivity.thesesJudged]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:" :"})," ",f.scientificActivity.supervisionCount]}),l.jsx("p",{children:l.jsx("strong",{children:" :"})}),l.jsx("p",{className:"text-sm mt-1",children:f.scientificActivity.trainingCourses||" "})]}),l.jsxs("div",{className:"border p-4",children:[l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",f.scientificActivity.conferences.length>0?f.scientificActivity.conferences.map(I=>I.name).join(" "):" "]}),l.jsxs("p",{className:"mt-2",children:[l.jsx("strong",{children:" :"})," ",f.communityActivity.books||" "]})]})]})]}),l.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{children:" "}),l.jsx("p",{className:"mt-8",children:"...................."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{children:"  "}),l.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},Wpe=({user:t})=>{const[e,n]=_.useState("BROWSE"),[r,a]=_.useState(null),[s,c]=_.useState([]),[d,f]=_.useState(null),[h,p]=_.useState(""),[g,x]=_.useState("ALL"),[w,E]=_.useState(!1),[N,j]=_.useState(null),[A,U]=_.useState({title:"",axisId:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[T,M]=_.useState(null),P=t.role===je.ADMIN;_.useEffect(()=>{L()},[]);const L=async()=>{const Z=await oV();if(a(Z),P||e==="PROPOSALS"){const X=await Npe();c(X)}},k=Z=>{if(!r||Z.length<5){M(null);return}let X=!1;r.axes.forEach(q=>{q.topics.forEach(K=>{(K.title.includes(Z)||Z.includes(K.title))&&(M(` :     "${K.title}" (${K.status==="COMPLETED"?" ":" "}).`),X=!0)})}),X||M(null)},V=()=>{j(null),U({title:"",axisId:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),E(!0)},D=Z=>{j(Z.id),U({title:Z.title,axisId:Z.axisId,type:Z.type,justification:Z.justification,appliedGoal:Z.appliedGoal,studentName:Z.studentName||"",hasStudent:!!Z.studentName}),E(!0)},I=async(Z,X)=>{if(window.confirm("      "))try{await bn(Ke(ve,"research_proposals",Z)),await Ce("  ",t.name,`  : ${X}`),L()}catch{alert(" ")}},R=async Z=>{Z.preventDefault();try{const X={title:A.title,axisId:A.axisId,type:A.type,justification:A.justification,appliedGoal:A.appliedGoal,studentName:A.hasStudent?A.studentName:void 0,proposedBy:t.name,proposedById:t.id,status:"PENDING"};N?(await dn(Ke(ve,"research_proposals",N),X),await Ce("  ",t.name,`  : ${A.title}`)):(await jpe(X),await Ce("  ",t.name,`   : ${A.title}`)),E(!1),alert(N?"   ":"     "),L()}catch{alert("   ")}},F=async(Z,X,q)=>{const K=prompt("  ():");K!==null&&(await Epe(Z,q,K||""),await Ce("  ",t.name,` ${q==="APPROVED"?"":q==="REJECTED"?"":" "} : ${X}`),L())},B=async(Z,X,q)=>{if(!(!r||!P)&&window.confirm("         "))try{const K=r.axes.map(H=>H.id===Z?{...H,topics:H.topics.filter(Q=>Q.id!==X)}:H);await dn(Ke(ve,"research_plans",r.id),{axes:K}),await Ce("   ",t.name,`  : ${q}`),L()}catch(K){console.error(K),alert("  ")}},pe=async(Z,X,q,K)=>{if(!(!r||!P))try{const H=r.axes.map(Q=>{if(Q.id===Z){const ue=Q.topics.map(_e=>_e.id===X?{..._e,status:q}:_e);return{...Q,topics:ue}}return Q});await dn(Ke(ve,"research_plans",r.id),{axes:H}),await Ce("   ",t.name,`  "${K}"  ${q}`),L()}catch{alert("  ")}};if(!r)return l.jsx("div",{className:"p-8 text-center",children:"  ..."});const le=()=>l.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),l.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),l.jsx("span",{className:`bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30 ${r.status==="ACTIVE"?"bg-green-500/20":"bg-red-500/20"}`,children:r.status==="ACTIVE"?"  ":" "})]}),l.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((Z,X)=>l.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[l.jsx(Af,{className:"w-3 h-3 text-green-300"})," ",Z]},X))})]}),l.jsx(Af,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),Y=()=>l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx($f,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:h,onChange:Z=>p(Z.target.value)})]}),l.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:g,onChange:Z=>x(Z.target.value),children:[l.jsx("option",{value:"ALL",children:" "}),l.jsx("option",{value:"AVAILABLE",children:" "}),l.jsx("option",{value:"IN_PROGRESS",children:"  "}),l.jsx("option",{value:"COMPLETED",children:" "})]})]}),l.jsx("div",{className:"space-y-4",children:r.axes.map(Z=>{const X=Z.topics.filter(K=>(g==="ALL"||K.status===g)&&K.title.toLowerCase().includes(h.toLowerCase()));if(X.length===0&&h)return null;const q=Math.round(Z.topics.filter(K=>K.status==="COMPLETED").length/Z.topics.length*100)||0;return l.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>f(d===Z.id?null:Z.id),children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[d===Z.id?l.jsx(Y_,{className:"w-5 h-5"}):l.jsx(K_,{className:"w-5 h-5"}),Z.title]}),l.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",Z.coordinator]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center hidden md:block",children:[l.jsx("div",{className:"text-xs text-gray-500",children:" "}),l.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:l.jsx("div",{className:"h-full bg-green-500",style:{width:`${q}%`}})})]}),l.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[X.length," "]})]})]}),d===Z.id&&l.jsxs("div",{className:"p-4 border-t border-gray-100",children:[l.jsxs("p",{className:"text-gray-600 mb-4 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm",children:[" ",Z.description]}),l.jsx("div",{className:"grid gap-3",children:X.map(K=>l.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-bold text-gray-800",children:K.title}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${K.status==="AVAILABLE"?"bg-green-100 text-green-700":K.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:K.status==="AVAILABLE"?" ":K.status==="IN_PROGRESS"?" ":" "})]}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[l.jsx(Af,{className:"w-3 h-3"})," : ",K.goal]}),K.studentName&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[l.jsx(X_,{className:"w-3 h-3"}),"  : ",K.studentName]})]}),l.jsx("div",{className:"flex items-center gap-2",children:P?l.jsxs(l.Fragment,{children:[l.jsxs("select",{className:"text-xs border rounded p-1 bg-white",value:K.status,onChange:H=>pe(Z.id,K.id,H.target.value,K.title),children:[l.jsx("option",{value:"AVAILABLE",children:""}),l.jsx("option",{value:"IN_PROGRESS",children:" "}),l.jsx("option",{value:"COMPLETED",children:""})]}),l.jsx("button",{onClick:()=>B(Z.id,K.id,K.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:" ",children:l.jsx(gt,{className:"w-4 h-4"})})]}):K.status==="AVAILABLE"&&l.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},K.id))})]})]},Z.id)})})]}),ie=()=>l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[l.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),l.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),l.jsxs("button",{onClick:V,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[l.jsx(nn,{className:"w-5 h-5"}),"    "]})]}),l.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",P&&l.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[s.filter(Z=>Z.status==="PENDING").length,"  "]})]}),l.jsxs("div",{className:"space-y-3",children:[s.length===0&&l.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),s.map(Z=>{var X;return l.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-bold text-lg",children:Z.title}),l.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${Z.status==="PENDING"?"bg-amber-100 text-amber-800":Z.status==="APPROVED"?"bg-green-100 text-green-800":Z.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:Z.status==="PENDING"?" ":Z.status==="APPROVED"?" ":Z.status==="REJECTED"?"":" "})]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[l.jsx("strong",{children:" :"})," ",Z.proposedBy," | ",l.jsx("strong",{children:":"})," ",((X=r.axes.find(q=>q.id===Z.axisId))==null?void 0:X.title)||" "]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:":"})," ",Z.justification]}),Z.adminNotes&&l.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",Z.adminNotes]})]}),l.jsx("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:P&&Z.status==="PENDING"?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>F(Z.id,Z.title,"APPROVED"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),l.jsx("button",{onClick:()=>F(Z.id,Z.title,"MODIFICATION_REQUESTED"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),l.jsx("button",{onClick:()=>F(Z.id,Z.title,"REJECTED"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):Z.proposedById===t.id&&Z.status==="PENDING"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>D(Z),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>I(Z.id,Z.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:l.jsx(gt,{className:"w-4 h-4"})})]})})]},Z.id)})]})]}),xe=()=>{const Z=r.axes.reduce((H,Q)=>H+Q.topics.length,0),X=r.axes.reduce((H,Q)=>H+Q.topics.filter(ue=>ue.status==="COMPLETED").length,0),q=r.axes.map(H=>({name:H.title.split(" ").slice(0,3).join(" ")+"...",value:H.topics.length})),K=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[l.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:Z}),l.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[l.jsx("h3",{className:"text-2xl font-bold text-green-700",children:X}),l.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[l.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[Z>0?Math.round(X/Z*100):0,"%"]}),l.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[l.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),l.jsx(O4,{width:"100%",height:"90%",children:l.jsxs(mie,{children:[l.jsx(O6,{data:q,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:q.map((H,Q)=>l.jsx(Uh,{fill:K[Q%K.length]},`cell-${Q}`))}),l.jsx(o6,{})]})})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[l.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),l.jsx("div",{className:"space-y-3",children:r.strategicGoals.map((H,Q)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("span",{className:"flex items-center gap-2 font-bold text-gray-700",children:[l.jsx(Af,{className:"w-4 h-4 text-red-500"})," ",H]}),l.jsx("span",{className:"text-xs bg-white border px-2 py-1 rounded text-gray-500",children:""})]},Q))})]})]})]})};return l.jsxs("div",{className:"space-y-6",children:[le(),l.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[l.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[l.jsx($f,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(hr,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Fz,{className:"w-4 h-4"}),"  "]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&Y(),e==="PROPOSALS"&&ie(),e==="ANALYTICS"&&xe()]}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N?"  ":"   "}),l.jsx("button",{onClick:()=>E(!1),children:l.jsx(qt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("form",{onSubmit:R,className:"p-6 space-y-5",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:A.title,onChange:Z=>{U({...A,title:Z.target.value}),k(Z.target.value)}}),T&&l.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[l.jsx(ZD,{className:"w-5 h-5 shrink-0"}),l.jsx("span",{children:T})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:A.axisId,onChange:Z=>U({...A,axisId:Z.target.value}),children:[l.jsx("option",{value:"",children:"--   --"}),r.axes.map(Z=>l.jsx("option",{value:Z.id,children:Z.title},Z.id)),l.jsx("option",{value:"NEW",children:"  / "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:A.type,onChange:Z=>U({...A,type:Z.target.value}),children:[l.jsx("option",{value:"MSc",children:""}),l.jsx("option",{value:"PhD",children:""})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"      (   ...)",value:A.justification,onChange:Z=>U({...A,justification:Z.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:A.appliedGoal,onChange:Z=>U({...A,appliedGoal:Z.target.value})})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:A.hasStudent,onChange:Z=>U({...A,hasStudent:Z.target.checked})}),l.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),A.hasStudent&&l.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:A.studentName,onChange:Z=>U({...A,studentName:Z.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),l.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[l.jsx(ok,{className:"w-4 h-4"})," ",N?" ":" "]})]})]})]})})]})},Xpe=({user:t})=>{const[e,n]=_.useState("DASHBOARD"),[r,a]=_.useState([]),[s,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState(!0),[g,x]=_.useState(!1),[w,E]=_.useState(null),[N,j]=_.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[A,U]=_.useState([]),[T,M]=_.useState(!1),[P,L]=_.useState(null),[k,V]=_.useState(null),[D,I]=_.useState("");_.useEffect(()=>{R()},[]);const R=async()=>{p(!0);try{const[H,Q,ue]=await Promise.all([Tpe(t.id),Ape(t.id),J0()]);a(H),c(Q),f(ue.filter(_e=>_e.id!==t.id))}catch(H){console.error("Error fetching data:",H)}p(!1)},F=()=>{if(!N.startDate||!N.endDate)return 0;const H=new Date(N.startDate),ue=new Date(N.endDate).getTime()-H.getTime();return Math.ceil(ue/(1e3*3600*24))+1},B=H=>{switch(H){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return H}},pe=()=>{x(!1),E(null),j({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),U([]),n("NEW")},le=H=>{if(H.status==="APPROVED"||H.status==="REJECTED"){alert("    ");return}x(!0),E(H.id),j({type:H.type,startDate:H.startDate,endDate:H.endDate,substituteId:H.substituteId||"",address:H.address||"",phone:H.phone||"",hospital:H.hospital||"",conferenceName:H.conferenceName||"",conferenceLocation:H.conferenceLocation||"",spouseName:H.spouseName||"",spouseJob:H.spouseJob||"",country:H.country||""}),U([]),n("NEW")},Y=async(H,Q)=>{if(window.confirm("      "))try{await bn(Ke(ve,"leave_requests",H)),await Ce("  ",t.name,`   ${B(Q)}`),R()}catch{alert(" ")}},ie=async H=>{var ue;H.preventDefault();const Q=F();if(Q<=0){alert("      ");return}if(N.type==="CASUAL"&&!g){const _e=r.filter(Ae=>Ae.type==="CASUAL"&&Ae.status==="APPROVED").reduce((Ae,He)=>Ae+He.daysCount,0);if(_e+Q>7){alert(`     (${7-_e} )  .`);return}}M(!0);try{const _e=[];for(const ce of A){const Ve=await pd(ce);_e.push(Ve)}const Ae=(ue=d.find(ce=>ce.id===N.substituteId))==null?void 0:ue.name,He={userId:t.id,userName:t.name,type:N.type,startDate:N.startDate,endDate:N.endDate,daysCount:Q,substituteId:N.substituteId,substituteName:Ae,address:N.address,phone:N.phone,hospital:N.hospital,conferenceName:N.conferenceName,conferenceLocation:N.conferenceLocation,spouseName:N.spouseName,spouseJob:N.spouseJob,country:N.country,..._e.length>0&&{documentsUrls:_e,medicalReportUrl:_e[0]}};g&&w?(await dn(Ke(ve,"leave_requests",w),He),await Ce("  ",t.name,`   ${B(N.type)}`),alert("   ")):(await Spe(He),await Ce(" ",t.name,`  ${B(N.type)}  ${Q} `),alert("   ")),n("HISTORY"),R()}catch(_e){console.error(_e),alert("   ")}finally{M(!1)}},xe=async H=>{if(P)try{await Cpe(P.id,H,D),await Ce("  ",t.name,`${H?"":""}   ${P.userName}`),alert("  "),L(null),V(null),R()}catch{alert(" ")}},Z=()=>{const H=r.filter(ue=>ue.type==="CASUAL"&&ue.status==="APPROVED").reduce((ue,_e)=>ue+_e.daysCount,0),Q=r.filter(ue=>ue.status.includes("PENDING")).length;return l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),l.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-H," ",l.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),l.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:l.jsx(Ps,{className:"w-6 h-6 text-orange-600"})})]}),l.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:l.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${H/7*100}%`}})})]}),l.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),l.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:Q})]}),l.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:l.jsx(hr,{className:"w-6 h-6 text-blue-600"})})]}),l.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),l.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),l.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:s.length})]}),l.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[l.jsx(A2,{className:"w-6 h-6 text-purple-600"}),s.length>0&&l.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),l.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]})]}),l.jsxs("button",{onClick:pe,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[l.jsx(nn,{className:"w-6 h-6"}),"    "]})]})},X=()=>l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[l.jsx(Zp,{className:"w-6 h-6 text-green-600"})," ",g?"  ":"  "]}),g&&l.jsx("button",{onClick:pe,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),l.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),l.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:N.type,onChange:H=>j({...N,type:H.target.value}),disabled:g,children:[l.jsx("option",{value:"CASUAL",children:" "}),l.jsx("option",{value:"ANNUAL",children:" "}),l.jsx("option",{value:"SICK",children:" "}),l.jsx("option",{value:"SCIENTIFIC",children:"  / "}),l.jsx("option",{value:"SPOUSE",children:" /"}),l.jsx("option",{value:"CHILD_CARE",children:" "}),l.jsx("option",{value:"HAJJ",children:" / "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:N.startDate,onChange:H=>j({...N,startDate:H.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:N.endDate,onChange:H=>j({...N,endDate:H.target.value})}),F()>0&&l.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",F()," "]})]})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[l.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[l.jsx(A2,{className:"w-4 h-4"}),"   ( )"]}),l.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:N.substituteId,onChange:H=>j({...N,substituteId:H.target.value}),required:N.type!=="CHILD_CARE"&&N.type!=="SPOUSE",children:[l.jsx("option",{value:"",children:"--   --"}),d.map(H=>l.jsxs("option",{value:H.id,children:[H.name," (",H.rank,")"]},H.id))]}),l.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"*        ."})]}),(N.type==="CASUAL"||N.type==="ANNUAL"||N.type==="HAJJ")&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:N.address,onChange:H=>j({...N,address:H.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:N.phone,onChange:H=>j({...N,phone:H.target.value})})]})]}),N.type==="SICK"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:N.hospital,onChange:H=>j({...N,hospital:H.target.value})})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[l.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:H=>U(Array.from(H.target.files||[]))}),l.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[l.jsx(tB,{className:"w-8 h-8 text-red-500"}),l.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),A.length>0&&l.jsx("span",{className:"text-xs text-green-600",children:A[0].name})]})]})]}),N.type==="SCIENTIFIC"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),l.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:N.conferenceName,onChange:H=>j({...N,conferenceName:H.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),l.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:N.conferenceLocation,onChange:H=>j({...N,conferenceLocation:H.target.value})})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[l.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:H=>U(Array.from(H.target.files||[]))}),l.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:A.length>0?A[0].name:"  "})]})]}),N.type==="SPOUSE"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[l.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(sk,{className:"w-4 h-4"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:N.spouseName,onChange:H=>j({...N,spouseName:H.target.value})}),l.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:N.foreignEntity,onChange:H=>j({...N,foreignEntity:H.target.value})}),l.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:N.country,onChange:H=>j({...N,country:H.target.value})})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[l.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:H=>U(Array.from(H.target.files||[]))}),l.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[l.jsx(Kr,{className:"w-6 h-6 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),A.length>0&&l.jsxs("span",{className:"text-xs text-green-600",children:[A.length,"   "]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),l.jsxs("button",{type:"submit",disabled:T,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[T?l.jsx(it,{className:"w-5 h-5 animate-spin"}):g?l.jsx(kn,{className:"w-5 h-5"}):l.jsx(Hr,{className:"w-5 h-5"}),g?" ":" "]})]})]})]}),q=()=>l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),s.length===0&&l.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),l.jsx("div",{className:"grid gap-4",children:s.map(H=>l.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),l.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:H.userName})]}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",l.jsx("span",{className:"font-bold",children:B(H.type)})]}),l.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[l.jsxs("span",{children:[": ",H.startDate]}),l.jsxs("span",{children:[": ",H.endDate]}),l.jsxs("span",{children:["(",H.daysCount," )"]})]})]}),l.jsx("button",{onClick:()=>{L(H),V(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},H.id))}),P&&l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[l.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[l.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),l.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",P.userName]})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(Zp,{className:"w-4 h-4"}),"    "]}),l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"text-gray-500 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""})]})}),l.jsxs("tbody",{className:"font-medium text-gray-800",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"py-2",children:""}),l.jsx("td",{children:"10:00 - 12:00"}),l.jsx("td",{children:" ()"}),l.jsx("td",{children:" "})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-2",children:""}),l.jsx("td",{children:"02:00 - 04:00"}),l.jsx("td",{children:" ()"}),l.jsx("td",{children:" 3"})]})]})]}),l.jsx("div",{className:"mt-3 bg-yellow-50 text-yellow-800 text-xs p-2 rounded border border-yellow-100",children:"          ."})]}),l.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',l.jsx("strong",{children:t.name}),"                 / ",l.jsx("strong",{children:P.userName}),'      ."']}),k?k==="ACCEPT"?l.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[l.jsx(Hr,{className:"w-16 h-16 text-green-500 mx-auto"}),l.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),l.jsx("button",{onClick:()=>xe(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),l.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:D,onChange:H=>I(H.target.value)}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>V(null),className:"px-4 text-gray-500",children:""}),l.jsx("button",{onClick:()=>xe(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{onClick:()=>V("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),l.jsx("button",{onClick:()=>V("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("button",{onClick:()=>L(null),children:l.jsx(qt,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),K=()=>l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[r.map(H=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:B(H.type)}),l.jsx("td",{className:"p-4",children:H.startDate}),l.jsx("td",{className:"p-4",children:H.endDate}),l.jsx("td",{className:"p-4 text-gray-600",children:H.substituteName||"-"}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${H.status==="APPROVED"?"bg-green-100 text-green-700":H.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:H.status==="APPROVED"?"":H.status==="PENDING_SUBSTITUTE"?" ":H.status==="PENDING_HEAD"?" ":""})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[(H.status==="PENDING_SUBSTITUTE"||H.status==="PENDING_HEAD")&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>le(H),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:" ",children:l.jsx(Ir,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Y(H.id,H.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:" ",children:l.jsx(gt,{className:"w-4 h-4"})})]}),H.status==="APPROVED"&&l.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[l.jsx(hr,{className:"w-3 h-3"})," "]})]})]},H.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]});return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Zp,{className:"w-8 h-8 text-green-600"}),"  "]})}),l.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[l.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),l.jsx("button",{onClick:pe,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),l.jsxs("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors flex items-center gap-2 ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700 bg-purple-50":"text-gray-500 hover:text-purple-600"}`,children:["  ",s.length>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:s.length})]}),l.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "})]}),l.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&Z(),e==="NEW"&&X(),e==="SUBSTITUTE"&&q(),e==="HISTORY"&&K()]})]})},Qpe=()=>{const[t,e]=_.useState(null),[n,r]=_.useState(""),[a,s]=_.useState(""),[c,d]=_.useState(!1),[f,h]=_.useState("");_.useEffect(()=>{(async()=>{try{await Ope()}catch(x){console.error("Failed to seed initial data:",x)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),h("");try{const x=await dme(n,a);x?e(x):h("      ")}catch(x){console.error(x),h("     (  )")}finally{d(!1)}};return t?l.jsx(hz,{children:l.jsx(mB,{user:t,onLogout:()=>{e(null),r(""),s("")},children:l.jsxs(q9,{children:[l.jsx(cn,{path:"/",element:t.role===je.STUDENT_UG||t.role===je.STUDENT_PG?l.jsx(ID,{user:t}):t.role===je.ALUMNI?l.jsx(OD,{user:t}):l.jsx(Rpe,{})}),l.jsx(cn,{path:"/outgoing",element:l.jsx(Ppe,{user:t})}),l.jsx(cn,{path:"/incoming",element:l.jsx(Dpe,{user:t})}),l.jsx(cn,{path:"/councils",element:l.jsx(kpe,{user:t})}),l.jsx(cn,{path:"/committees",element:l.jsx(Mpe,{user:t})}),l.jsx(cn,{path:"/search",element:l.jsx(Lpe,{user:t})}),l.jsx(cn,{path:"/staff",element:l.jsx(Upe,{})}),l.jsx(cn,{path:"/students",element:l.jsx(ID,{user:t})}),l.jsx(cn,{path:"/alumni",element:l.jsx(OD,{user:t})}),l.jsx(cn,{path:"/users",element:l.jsx(zpe,{})}),l.jsx(cn,{path:"/pg-manager",element:l.jsx(Bpe,{})}),l.jsx(cn,{path:"/inventory",element:l.jsx(Fpe,{user:t})}),l.jsx(cn,{path:"/labs",element:l.jsx($pe,{user:t})}),l.jsx(cn,{path:"/greenhouse",element:l.jsx(qpe,{user:t})}),l.jsx(cn,{path:"/events",element:l.jsx(Hpe,{user:t})}),l.jsx(cn,{path:"/formation",element:l.jsx(Kpe,{user:t})}),l.jsx(cn,{path:"/annual-report",element:l.jsx(Ype,{user:t})}),l.jsx(cn,{path:"/research-plan",element:l.jsx(Wpe,{user:t})}),l.jsx(cn,{path:"/leaves",element:l.jsx(Xpe,{user:t})})," ",l.jsx(cn,{path:"/activity-log",element:l.jsx(Gpe,{})}),l.jsx(cn,{path:"*",element:l.jsx(F9,{to:"/"})})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[l.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[l.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:l.jsx(bu,{className:"w-16 h-16 text-green-700"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),l.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),l.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),l.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(si,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(l1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"password",required:!0,value:a,onChange:g=>s(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),f&&l.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:f}),l.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?l.jsx(it,{className:"w-5 h-5 animate-spin"}):l.jsx(Iz,{className:"w-5 h-5"}),l.jsx("span",{children:""})]})]}),l.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},lV=document.getElementById("root");if(!lV)throw new Error("Could not find root element to mount to");const Zpe=Z8.createRoot(lV);Zpe.render(l.jsx(RD.StrictMode,{children:l.jsx(Qpe,{})}));
