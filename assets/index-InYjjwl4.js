var $V=Object.defineProperty;var FV=(t,e,n)=>e in t?$V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var eb=(t,e,n)=>FV(t,typeof e!="symbol"?e+"":e,n);function qV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Ji(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tb={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function HV(){if(p2)return yf;p2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:s}}return yf.Fragment=e,yf.jsx=n,yf.jsxs=n,yf}var g2;function GV(){return g2||(g2=1,tb.exports=HV()),tb.exports}var o=GV(),nb={exports:{}},Qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function KV(){if(y2)return Qe;y2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function T(F,Y,H){this.props=F,this.context=Y,this.refs=j,this.updater=H||E}T.prototype.isReactComponent={},T.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function L(){}L.prototype=T.prototype;function A(F,Y,H){this.props=F,this.context=Y,this.refs=j,this.updater=H||E}var R=A.prototype=new L;R.constructor=A,N(R,T.prototype),R.isPureReactComponent=!0;var O=Array.isArray;function U(){}var k={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function M(F,Y,H){var Z=H.ref;return{$$typeof:t,type:F,key:Y,ref:Z!==void 0?Z:null,props:H}}function I(F,Y){return M(F.type,Y,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function z(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(H){return Y[H]})}var B=/\/+/g;function ye(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?z(""+F.key):Y.toString(36)}function le(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(U,U):(F.status="pending",F.then(function(Y){F.status==="pending"&&(F.status="fulfilled",F.value=Y)},function(Y){F.status==="pending"&&(F.status="rejected",F.reason=Y)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function W(F,Y,H,Z,fe){var je=typeof F;(je==="undefined"||je==="boolean")&&(F=null);var Ce=!1;if(F===null)Ce=!0;else switch(je){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(F.$$typeof){case t:case e:Ce=!0;break;case p:return Ce=F._init,W(Ce(F._payload),Y,H,Z,fe)}}if(Ce)return fe=fe(F),Ce=Z===""?"."+ye(F,0):Z,O(fe)?(H="",Ce!=null&&(H=Ce.replace(B,"$&/")+"/"),W(fe,Y,H,"",function(Ue){return Ue})):fe!=null&&(D(fe)&&(fe=I(fe,H+(fe.key==null||F&&F.key===fe.key?"":(""+fe.key).replace(B,"$&/")+"/")+Ce)),Y.push(fe)),1;Ce=0;var Fe=Z===""?".":Z+":";if(O(F))for(var de=0;de<F.length;de++)Z=F[de],je=Fe+ye(Z,de),Ce+=W(Z,Y,H,je,fe);else if(de=w(F),typeof de=="function")for(F=de.call(F),de=0;!(Z=F.next()).done;)Z=Z.value,je=Fe+ye(Z,de++),Ce+=W(Z,Y,H,je,fe);else if(je==="object"){if(typeof F.then=="function")return W(le(F),Y,H,Z,fe);throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function oe(F,Y,H){if(F==null)return F;var Z=[],fe=0;return W(F,Z,"","",function(je){return Y.call(H,je,fe++)}),Z}function J(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(H){(F._status===0||F._status===-1)&&(F._status=1,F._result=H)},function(H){(F._status===0||F._status===-1)&&(F._status=2,F._result=H)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var X=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},K={map:oe,forEach:function(F,Y,H){oe(F,function(){Y.apply(this,arguments)},H)},count:function(F){var Y=0;return oe(F,function(){Y++}),Y},toArray:function(F){return oe(F,function(Y){return Y})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Qe.Activity=g,Qe.Children=K,Qe.Component=T,Qe.Fragment=n,Qe.Profiler=a,Qe.PureComponent=A,Qe.StrictMode=r,Qe.Suspense=f,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},Qe.cache=function(F){return function(){return F.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(F,Y,H){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Z=N({},F.props),fe=F.key;if(Y!=null)for(je in Y.key!==void 0&&(fe=""+Y.key),Y)!V.call(Y,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&Y.ref===void 0||(Z[je]=Y[je]);var je=arguments.length-2;if(je===1)Z.children=H;else if(1<je){for(var Ce=Array(je),Fe=0;Fe<je;Fe++)Ce[Fe]=arguments[Fe+2];Z.children=Ce}return M(F.type,fe,Z)},Qe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Qe.createElement=function(F,Y,H){var Z,fe={},je=null;if(Y!=null)for(Z in Y.key!==void 0&&(je=""+Y.key),Y)V.call(Y,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(fe[Z]=Y[Z]);var Ce=arguments.length-2;if(Ce===1)fe.children=H;else if(1<Ce){for(var Fe=Array(Ce),de=0;de<Ce;de++)Fe[de]=arguments[de+2];fe.children=Fe}if(F&&F.defaultProps)for(Z in Ce=F.defaultProps,Ce)fe[Z]===void 0&&(fe[Z]=Ce[Z]);return M(F,je,fe)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(F){return{$$typeof:d,render:F}},Qe.isValidElement=D,Qe.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:J}},Qe.memo=function(F,Y){return{$$typeof:h,type:F,compare:Y===void 0?null:Y}},Qe.startTransition=function(F){var Y=k.T,H={};k.T=H;try{var Z=F(),fe=k.S;fe!==null&&fe(H,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(U,X)}catch(je){X(je)}finally{Y!==null&&H.types!==null&&(Y.types=H.types),k.T=Y}},Qe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Qe.use=function(F){return k.H.use(F)},Qe.useActionState=function(F,Y,H){return k.H.useActionState(F,Y,H)},Qe.useCallback=function(F,Y){return k.H.useCallback(F,Y)},Qe.useContext=function(F){return k.H.useContext(F)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(F,Y){return k.H.useDeferredValue(F,Y)},Qe.useEffect=function(F,Y){return k.H.useEffect(F,Y)},Qe.useEffectEvent=function(F){return k.H.useEffectEvent(F)},Qe.useId=function(){return k.H.useId()},Qe.useImperativeHandle=function(F,Y,H){return k.H.useImperativeHandle(F,Y,H)},Qe.useInsertionEffect=function(F,Y){return k.H.useInsertionEffect(F,Y)},Qe.useLayoutEffect=function(F,Y){return k.H.useLayoutEffect(F,Y)},Qe.useMemo=function(F,Y){return k.H.useMemo(F,Y)},Qe.useOptimistic=function(F,Y){return k.H.useOptimistic(F,Y)},Qe.useReducer=function(F,Y,H){return k.H.useReducer(F,Y,H)},Qe.useRef=function(F){return k.H.useRef(F)},Qe.useState=function(F){return k.H.useState(F)},Qe.useSyncExternalStore=function(F,Y,H){return k.H.useSyncExternalStore(F,Y,H)},Qe.useTransition=function(){return k.H.useTransition()},Qe.version="19.2.0",Qe}var v2;function Ju(){return v2||(v2=1,nb.exports=KV()),nb.exports}var _=Ju();const UP=Ji(_),YV=qV({__proto__:null,default:UP},[_]);var rb={exports:{}},vf={},ab={exports:{}},ib={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function WV(){return x2||(x2=1,(function(t){function e(W,oe){var J=W.length;W.push(oe);e:for(;0<J;){var X=J-1>>>1,K=W[X];if(0<a(K,oe))W[X]=oe,W[J]=K,J=X;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],J=W.pop();if(J!==oe){W[0]=J;e:for(var X=0,K=W.length,F=K>>>1;X<F;){var Y=2*(X+1)-1,H=W[Y],Z=Y+1,fe=W[Z];if(0>a(H,J))Z<K&&0>a(fe,H)?(W[X]=fe,W[Z]=J,X=Z):(W[X]=H,W[Y]=J,X=Y);else if(Z<K&&0>a(fe,J))W[X]=fe,W[Z]=J,X=Z;else break e}}return oe}function a(W,oe){var J=W.sortIndex-oe.sortIndex;return J!==0?J:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,x=3,w=!1,E=!1,N=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(W){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=W)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(h)}}function O(W){if(N=!1,R(W),!E)if(n(f)!==null)E=!0,U||(U=!0,z());else{var oe=n(h);oe!==null&&le(O,oe.startTime-W)}}var U=!1,k=-1,V=5,M=-1;function I(){return j?!0:!(t.unstable_now()-M<V)}function D(){if(j=!1,U){var W=t.unstable_now();M=W;var oe=!0;try{e:{E=!1,N&&(N=!1,L(k),k=-1),w=!0;var J=x;try{t:{for(R(W),g=n(f);g!==null&&!(g.expirationTime>W&&I());){var X=g.callback;if(typeof X=="function"){g.callback=null,x=g.priorityLevel;var K=X(g.expirationTime<=W);if(W=t.unstable_now(),typeof K=="function"){g.callback=K,R(W),oe=!0;break t}g===n(f)&&r(f),R(W)}else r(f);g=n(f)}if(g!==null)oe=!0;else{var F=n(h);F!==null&&le(O,F.startTime-W),oe=!1}}break e}finally{g=null,x=J,w=!1}oe=void 0}}finally{oe?z():U=!1}}}var z;if(typeof A=="function")z=function(){A(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ye=B.port2;B.port1.onmessage=D,z=function(){ye.postMessage(null)}}else z=function(){T(D,0)};function le(W,oe){k=T(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(W){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var J=x;x=oe;try{return W()}finally{x=J}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=x;x=W;try{return oe()}finally{x=J}},t.unstable_scheduleCallback=function(W,oe,J){var X=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?X+J:X):J=X,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,W={id:p++,callback:oe,priorityLevel:W,startTime:J,expirationTime:K,sortIndex:-1},J>X?(W.sortIndex=J,e(h,W),n(f)===null&&W===n(h)&&(N?(L(k),k=-1):N=!0,le(O,J-X))):(W.sortIndex=K,e(f,W),E||w||(E=!0,U||(U=!0,z()))),W},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(W){var oe=x;return function(){var J=x;x=oe;try{return W.apply(this,arguments)}finally{x=J}}}})(ib)),ib}var b2;function XV(){return b2||(b2=1,ab.exports=WV()),ab.exports}var sb={exports:{}},yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function QV(){if(w2)return yr;w2=1;var t=Ju();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,yr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},yr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},yr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},yr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},yr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},yr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},yr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},yr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},yr.requestFormReset=function(f){r.d.r(f)},yr.unstable_batchedUpdates=function(f,h){return f(h)},yr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},yr.useFormStatus=function(){return c.H.useHostTransitionStatus()},yr.version="19.2.0",yr}var _2;function VP(){if(_2)return sb.exports;_2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sb.exports=QV(),sb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function JV(){if(N2)return vf;N2=1;var t=XV(),e=Ju(),n=VP();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function d(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(r(188));return l!==i?null:i}for(var u=i,m=l;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return f(v),i;if(b===m)return f(v),l;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=b;else{for(var C=!1,$=v.child;$;){if($===u){C=!0,u=v,m=b;break}if($===m){C=!0,m=v,u=b;break}$=$.sibling}if(!C){for($=b.child;$;){if($===u){C=!0,u=b,m=v;break}if($===m){C=!0,m=b,u=v;break}$=$.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:l}function p(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=p(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case T:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case U:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case A:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case R:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return l=i.displayName||null,l!==null?l:ye(i.type)||"Memo";case V:l=i._payload,i=i._init;try{return ye(i(l))}catch{}}return null}var le=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},X=[],K=-1;function F(i){return{current:i}}function Y(i){0>K||(i.current=X[K],X[K]=null,K--)}function H(i,l){K++,X[K]=i.current,i.current=l}var Z=F(null),fe=F(null),je=F(null),Ce=F(null);function Fe(i,l){switch(H(je,l),H(fe,i),H(Z,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?UT(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=UT(l),i=VT(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(Z),H(Z,i)}function de(){Y(Z),Y(fe),Y(je)}function Ue(i){i.memoizedState!==null&&H(Ce,i);var l=Z.current,u=VT(l,i.type);l!==u&&(H(fe,i),H(Z,u))}function te(i){fe.current===i&&(Y(Z),Y(fe)),Ce.current===i&&(Y(Ce),hf._currentValue=J)}var he,Xe;function qe(i){if(he===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);he=l&&l[1]||"",Xe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+i+Xe}var Mt=!1;function Ne(i,l){if(!i||Mt)return"";Mt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ue){var se=ue}Reflect.construct(i,[],be)}else{try{be.call()}catch(ue){se=ue}i.call(be.prototype)}}else{try{throw Error()}catch(ue){se=ue}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),C=b[0],$=b[1];if(C&&$){var G=C.split(`
`),ae=$.split(`
`);for(v=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;v<ae.length&&!ae[v].includes("DetermineComponentFrameRoot");)v++;if(m===G.length||v===ae.length)for(m=G.length-1,v=ae.length-1;1<=m&&0<=v&&G[m]!==ae[v];)v--;for(;1<=m&&0<=v;m--,v--)if(G[m]!==ae[v]){if(m!==1||v!==1)do if(m--,v--,0>v||G[m]!==ae[v]){var pe=`
`+G[m].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=m&&0<=v);break}}}finally{Mt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?qe(u):""}function ft(i,l){switch(i.tag){case 26:case 27:case 5:return qe(i.type);case 16:return qe("Lazy");case 13:return i.child!==l&&l!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Ne(i.type,!1);case 11:return Ne(i.type.render,!1);case 1:return Ne(i.type,!0);case 31:return qe("Activity");default:return""}}function me(i){try{var l="",u=null;do l+=ft(i,u),u=i,i=i.return;while(i);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ke=Object.prototype.hasOwnProperty,Ge=t.unstable_scheduleCallback,Nt=t.unstable_cancelCallback,Ba=t.unstable_shouldYield,$a=t.unstable_requestPaint,Yn=t.unstable_now,Ee=t.unstable_getCurrentPriorityLevel,jt=t.unstable_ImmediatePriority,sn=t.unstable_UserBlockingPriority,on=t.unstable_NormalPriority,Zr=t.unstable_LowPriority,dl=t.unstable_IdlePriority,fl=t.log,hl=t.unstable_setDisableYieldValue,kr=null,Nn=null;function Ar(i){if(typeof fl=="function"&&hl(i),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(kr,i)}catch{}}var mn=Math.clz32?Math.clz32:em,Zh=Math.log,Ec=Math.LN2;function em(i){return i>>>=0,i===0?32:31-(Zh(i)/Ec|0)|0}var pi=256,ml=262144,jn=4194304;function gi(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,l,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,b=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var $=m&134217727;return $!==0?(m=$&~b,m!==0?v=gi(m):(C&=$,C!==0?v=gi(C):u||(u=$&~i,u!==0&&(v=gi(u))))):($=m&~b,$!==0?v=gi($):C!==0?v=gi(C):u||(u=m&~i,u!==0&&(v=gi(u)))),v===0?0:l!==0&&l!==v&&(l&b)===0&&(b=v&-v,u=l&-l,b>=u||b===32&&(u&4194048)!==0)?l:v}function Fa(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function av(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(){var i=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),i}function vi(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function pl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function iv(i,l,u,m,v,b){var C=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,G=i.expirationTimes,ae=i.hiddenUpdates;for(u=C&~u;0<u;){var pe=31-mn(u),be=1<<pe;$[pe]=0,G[pe]=-1;var se=ae[pe];if(se!==null)for(ae[pe]=null,pe=0;pe<se.length;pe++){var ue=se[pe];ue!==null&&(ue.lane&=-536870913)}u&=~be}m!==0&&gl(i,m,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(C&~l))}function gl(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-mn(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function yd(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var m=31-mn(u),v=1<<m;v&l|i[m]&l&&(i[m]|=l),u&=~v}}function vd(i,l){var u=l&-l;return u=(u&42)!==0?1:yl(u),(u&(i.suspendedLanes|l))!==0?0:u}function yl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nm(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:l2(i.type))}function qa(i,l){var u=oe.p;try{return oe.p=i,l()}finally{oe.p=u}}var Ha=Math.random().toString(36).slice(2),En="__reactFiber$"+Ha,Wn="__reactProps$"+Ha,xi="__reactContainer$"+Ha,Sc="__reactEvents$"+Ha,sv="__reactListeners$"+Ha,rm="__reactHandles$"+Ha,am="__reactResources$"+Ha,bi="__reactMarker$"+Ha;function Ac(i){delete i[En],delete i[Wn],delete i[Sc],delete i[sv],delete i[rm]}function wi(i){var l=i[En];if(l)return l;for(var u=i.parentNode;u;){if(l=u[xi]||u[En]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=GT(i);i!==null;){if(u=i[En])return u;i=GT(i)}return l}i=u,u=i.parentNode}return null}function ya(i){if(i=i[En]||i[xi]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function ea(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function _i(i){var l=i[am];return l||(l=i[am]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Sn(i){i[bi]=!0}var xd=new Set,bd={};function Ni(i,l){ji(i,l),ji(i+"Capture",l)}function ji(i,l){for(bd[i]=l,i=0;i<l.length;i++)xd.add(l[i])}var wd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},Nd={};function im(i){return Ke.call(Nd,i)?!0:Ke.call(_d,i)?!1:wd.test(i)?Nd[i]=!0:(_d[i]=!0,!1)}function Tc(i,l,u){if(im(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function ta(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function An(i,l,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+m)}}function Xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zs(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jd(i,l,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(C){u=""+C,b.call(this,C)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Et(i){if(!i._valueTracker){var l=Zs(i)?"checked":"value";i._valueTracker=jd(i,l,""+i[l])}}function vl(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),m="";return i&&(m=Zs(i)?i.checked?"true":"false":i.value),i=m,i!==u?(l.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xl=/[\n"\\]/g;function Mr(i){return i.replace(xl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Cc(i,l,u,m,v,b,C,$){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),l!=null?C==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Xn(l)):i.value!==""+Xn(l)&&(i.value=""+Xn(l)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),l!=null?Ed(i,C,Xn(l)):u!=null?Ed(i,C,Xn(u)):m!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Xn($):i.removeAttribute("name")}function sm(i,l,u,m,v,b,C,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),l!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){Et(i);return}u=u!=null?""+Xn(u):"",l=l!=null?""+Xn(l):u,$||l===i.value||(i.value=l),i.defaultValue=l}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=$?i.checked:!!m,i.defaultChecked=!!m,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),Et(i)}function Ed(i,l,u){l==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function eo(i,l,u,m){if(i=i.options,l){l={};for(var v=0;v<u.length;v++)l["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=l.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Xn(u),l=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function om(i,l,u){if(l!=null&&(l=""+Xn(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+Xn(u):""}function to(i,l,u,m){if(l==null){if(m!=null){if(u!=null)throw Error(r(92));if(le(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),l=u}u=Xn(l),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Et(i)}function Lr(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(i,l,u){var m=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,u):typeof u!="number"||u===0||lm.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function Ad(i,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in l)m=l[v],l.hasOwnProperty(v)&&u[v]!==m&&Sd(i,v,m)}else for(var b in l)l.hasOwnProperty(b)&&Sd(i,b,l[b])}function Ic(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(i){return no.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ga(){}var Td=null;function va(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ro=null,Si=null;function bl(i){var l=ya(i);if(l&&(i=l.stateNode)){var u=i[Wn]||null;e:switch(i=l.stateNode,l.type){case"input":if(Cc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Mr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var m=u[l];if(m!==i&&m.form===i.form){var v=m[Wn]||null;if(!v)throw Error(r(90));Cc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<u.length;l++)m=u[l],m.form===i.form&&vl(m)}break e;case"textarea":om(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&eo(i,!!u.multiple,l,!1)}}}var Rc=!1;function ao(i,l,u){if(Rc)return i(l,u);Rc=!0;try{var m=i(l);return m}finally{if(Rc=!1,(ro!==null||Si!==null)&&(np(),ro&&(l=ro,i=Si,Si=ro=null,bl(l),i)))for(l=0;l<i.length;l++)bl(i[l])}}function Ka(i,l){var u=i.stateNode;if(u===null)return null;var m=u[Wn]||null;if(m===null)return null;u=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(xa)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch{wl=!1}var Ai=null,Cd=null,_l=null;function Id(){if(_l)return _l;var i,l=Cd,u=l.length,m,v="value"in Ai?Ai.value:Ai.textContent,b=v.length;for(i=0;i<u&&l[i]===v[i];i++);var C=u-i;for(m=1;m<=C&&l[u-m]===v[b-m];m++);return _l=v.slice(i,1<m?1-m:void 0)}function Nl(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function rs(){return!0}function Ya(){return!1}function ir(i){function l(u,m,v,b,C){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?rs:Ya,this.isPropagationStopped=Ya,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=ir(as),io=g({},as,{view:0,detail:0}),Od=ir(io),so,Dc,Ci,Pc=g({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(so=i.screenX-Ci.screenX,Dc=i.screenY-Ci.screenY):Dc=so=0,Ci=i),so)},movementY:function(i){return"movementY"in i?i.movementY:Dc}}),Rd=ir(Pc),jl=g({},Pc,{dataTransfer:0}),um=ir(jl),dm=g({},io,{relatedTarget:0}),El=ir(dm),Dd=g({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=ir(Dd),kc=g({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hm=ir(kc),mm=g({},as,{data:0}),Ii=ir(mm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ym[i])?!!l[i]:!1}function oo(){return vm}var Tr=g({},io,{key:function(i){if(i.key){var l=pm[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Nl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(i){return i.type==="keypress"?Nl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xm=ir(Tr),bm=g({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=ir(bm),y=g({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),S=ir(y),P=g({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=ir(P),ne=g({},Pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ce=ir(ne),Se=g({},as,{newState:0,oldState:0}),nt=ir(Se),pn=[9,13,27,32],bt=xa&&"CompositionEvent"in window,Kt=null;xa&&"documentMode"in document&&(Kt=document.documentMode);var ba=xa&&"TextEvent"in window&&!Kt,Oi=xa&&(!bt||Kt&&8<Kt&&11>=Kt),Wa=" ",Xa=!1;function Sl(i,l){switch(i){case"keyup":return pn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lc=!1;function f8(i,l){switch(i){case"compositionend":return Mc(l);case"keypress":return l.which!==32?null:(Xa=!0,Wa);case"textInput":return i=l.data,i===Wa&&Xa?null:i;default:return null}}function h8(i,l){if(Lc)return i==="compositionend"||!bt&&Sl(i,l)?(i=Id(),_l=Cd=Ai=null,Lc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Oi&&l.locale!=="ko"?null:l.data;default:return null}}var m8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!m8[i.type]:l==="textarea"}function XE(i,l,u,m){ro?Si?Si.push(m):Si=[m]:ro=m,l=cp(l,"onChange"),0<l.length&&(u=new Ti("onChange","change",null,u,m),i.push({event:u,listeners:l}))}var Pd=null,kd=null;function p8(i){RT(i,0)}function wm(i){var l=ea(i);if(vl(l))return i}function QE(i,l){if(i==="change")return l}var JE=!1;if(xa){var ov;if(xa){var lv="oninput"in document;if(!lv){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),lv=typeof ZE.oninput=="function"}ov=lv}else ov=!1;JE=ov&&(!document.documentMode||9<document.documentMode)}function eS(){Pd&&(Pd.detachEvent("onpropertychange",tS),kd=Pd=null)}function tS(i){if(i.propertyName==="value"&&wm(kd)){var l=[];XE(l,kd,i,va(i)),ao(p8,l)}}function g8(i,l,u){i==="focusin"?(eS(),Pd=l,kd=u,Pd.attachEvent("onpropertychange",tS)):i==="focusout"&&eS()}function y8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wm(kd)}function v8(i,l){if(i==="click")return wm(l)}function x8(i,l){if(i==="input"||i==="change")return wm(l)}function b8(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var na=typeof Object.is=="function"?Object.is:b8;function Md(i,l){if(na(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),m=Object.keys(l);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Ke.call(l,v)||!na(i[v],l[v]))return!1}return!0}function nS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rS(i,l){var u=nS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=l&&m>=l)return{node:u,offset:l-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=nS(u)}}function aS(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?aS(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function iS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Ei(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Ei(i.document)}return l}function cv(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var w8=xa&&"documentMode"in document&&11>=document.documentMode,Uc=null,uv=null,Ld=null,dv=!1;function sS(i,l,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dv||Uc==null||Uc!==Ei(m)||(m=Uc,"selectionStart"in m&&cv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ld&&Md(Ld,m)||(Ld=m,m=cp(uv,"onSelect"),0<m.length&&(l=new Ti("onSelect","select",null,l,u),i.push({event:l,listeners:m}),l.target=Uc)))}function Al(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Vc={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionrun:Al("Transition","TransitionRun"),transitionstart:Al("Transition","TransitionStart"),transitioncancel:Al("Transition","TransitionCancel"),transitionend:Al("Transition","TransitionEnd")},fv={},oS={};xa&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Tl(i){if(fv[i])return fv[i];if(!Vc[i])return i;var l=Vc[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in oS)return fv[i]=l[u];return i}var lS=Tl("animationend"),cS=Tl("animationiteration"),uS=Tl("animationstart"),_8=Tl("transitionrun"),N8=Tl("transitionstart"),j8=Tl("transitioncancel"),dS=Tl("transitionend"),fS=new Map,hv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hv.push("scrollEnd");function Qa(i,l){fS.set(i,l),Ni(l,[i])}var _m=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},wa=[],zc=0,mv=0;function Nm(){for(var i=zc,l=mv=zc=0;l<i;){var u=wa[l];wa[l++]=null;var m=wa[l];wa[l++]=null;var v=wa[l];wa[l++]=null;var b=wa[l];if(wa[l++]=null,m!==null&&v!==null){var C=m.pending;C===null?v.next=v:(v.next=C.next,C.next=v),m.pending=v}b!==0&&hS(u,v,b)}}function jm(i,l,u,m){wa[zc++]=i,wa[zc++]=l,wa[zc++]=u,wa[zc++]=m,mv|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function pv(i,l,u,m){return jm(i,l,u,m),Em(i)}function Cl(i,l){return jm(i,null,null,l),Em(i)}function hS(i,l,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&l!==null&&(v=31-mn(u),i=b.hiddenUpdates,m=i[v],m===null?i[v]=[l]:m.push(l),l.lane=u|536870912),b):null}function Em(i){if(50<sf)throw sf=0,jx=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Bc={};function E8(i,l,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(i,l,u,m){return new E8(i,l,u,m)}function gv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,l){var u=i.alternate;return u===null?(u=ra(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function mS(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Sm(i,l,u,m,v,b){var C=0;if(m=i,typeof i=="function")gv(i)&&(C=1);else if(typeof i=="string")C=IV(i,u,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=ra(31,u,l,v),i.elementType=M,i.lanes=b,i;case N:return Il(u.children,v,b,l);case j:C=8,v|=24;break;case T:return i=ra(12,u,l,v|2),i.elementType=T,i.lanes=b,i;case O:return i=ra(13,u,l,v),i.elementType=O,i.lanes=b,i;case U:return i=ra(19,u,l,v),i.elementType=U,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:C=10;break e;case L:C=9;break e;case R:C=11;break e;case k:C=14;break e;case V:C=16,m=null;break e}C=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=ra(C,u,l,v),l.elementType=i,l.type=m,l.lanes=b,l}function Il(i,l,u,m){return i=ra(7,i,m,l),i.lanes=u,i}function yv(i,l,u){return i=ra(6,i,null,l),i.lanes=u,i}function pS(i){var l=ra(18,null,null,0);return l.stateNode=i,l}function vv(i,l,u){return l=ra(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var gS=new WeakMap;function _a(i,l){if(typeof i=="object"&&i!==null){var u=gS.get(i);return u!==void 0?u:(l={value:i,source:l,stack:me(l)},gS.set(i,l),l)}return{value:i,source:l,stack:me(l)}}var $c=[],Fc=0,Am=null,Ud=0,Na=[],ja=0,lo=null,Ri=1,Di="";function os(i,l){$c[Fc++]=Ud,$c[Fc++]=Am,Am=i,Ud=l}function yS(i,l,u){Na[ja++]=Ri,Na[ja++]=Di,Na[ja++]=lo,lo=i;var m=Ri;i=Di;var v=32-mn(m)-1;m&=~(1<<v),u+=1;var b=32-mn(l)+v;if(30<b){var C=v-v%5;b=(m&(1<<C)-1).toString(32),m>>=C,v-=C,Ri=1<<32-mn(l)+v|u<<v|m,Di=b+i}else Ri=1<<b|u<<v|m,Di=i}function xv(i){i.return!==null&&(os(i,1),yS(i,1,0))}function bv(i){for(;i===Am;)Am=$c[--Fc],$c[Fc]=null,Ud=$c[--Fc],$c[Fc]=null;for(;i===lo;)lo=Na[--ja],Na[ja]=null,Di=Na[--ja],Na[ja]=null,Ri=Na[--ja],Na[ja]=null}function vS(i,l){Na[ja++]=Ri,Na[ja++]=Di,Na[ja++]=lo,Ri=l.id,Di=l.overflow,lo=i}var sr=null,Ft=null,ht=!1,co=null,Ea=!1,wv=Error(r(519));function uo(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vd(_a(l,i)),wv}function xS(i){var l=i.stateNode,u=i.type,m=i.memoizedProps;switch(l[En]=i,l[Wn]=m,u){case"dialog":st("cancel",l),st("close",l);break;case"iframe":case"object":case"embed":st("load",l);break;case"video":case"audio":for(u=0;u<lf.length;u++)st(lf[u],l);break;case"source":st("error",l);break;case"img":case"image":case"link":st("error",l),st("load",l);break;case"details":st("toggle",l);break;case"input":st("invalid",l),sm(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":st("invalid",l);break;case"textarea":st("invalid",l),to(l,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||m.suppressHydrationWarning===!0||MT(l.textContent,u)?(m.popover!=null&&(st("beforetoggle",l),st("toggle",l)),m.onScroll!=null&&st("scroll",l),m.onScrollEnd!=null&&st("scrollend",l),m.onClick!=null&&(l.onclick=Ga),l=!0):l=!1,l||uo(i,!0)}function bS(i){for(sr=i.return;sr;)switch(sr.tag){case 5:case 31:case 13:Ea=!1;return;case 27:case 3:Ea=!0;return;default:sr=sr.return}}function qc(i){if(i!==sr)return!1;if(!ht)return bS(i),ht=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Vx(i.type,i.memoizedProps)),u=!u),u&&Ft&&uo(i),bS(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ft=HT(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ft=HT(i)}else l===27?(l=Ft,Eo(i.type)?(i=qx,qx=null,Ft=i):Ft=l):Ft=sr?Aa(i.stateNode.nextSibling):null;return!0}function Ol(){Ft=sr=null,ht=!1}function _v(){var i=co;return i!==null&&(Br===null?Br=i:Br.push.apply(Br,i),co=null),i}function Vd(i){co===null?co=[i]:co.push(i)}var Nv=F(null),Rl=null,ls=null;function fo(i,l,u){H(Nv,l._currentValue),l._currentValue=u}function cs(i){i._currentValue=Nv.current,Y(Nv)}function jv(i,l,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===u)break;i=i.return}}function Ev(i,l,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var C=v.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=v;for(var G=0;G<l.length;G++)if($.context===l[G]){b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),jv(b.return,u,i),m||(C=null);break e}b=$.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),jv(C,u,i),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===i){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function Hc(i,l,u,m){i=null;for(var v=l,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var $=v.type;na(v.pendingProps.value,C.value)||(i!==null?i.push($):i=[$])}}else if(v===Ce.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(hf):i=[hf])}v=v.return}i!==null&&Ev(l,i,u,m),l.flags|=262144}function Tm(i){for(i=i.firstContext;i!==null;){if(!na(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Dl(i){Rl=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function or(i){return wS(Rl,i)}function Cm(i,l){return Rl===null&&Dl(i),wS(i,l)}function wS(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ls===null){if(i===null)throw Error(r(308));ls=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else ls=ls.next=l;return u}var S8=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},A8=t.unstable_scheduleCallback,T8=t.unstable_NormalPriority,Tn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sv(){return{controller:new S8,data:new Map,refCount:0}}function zd(i){i.refCount--,i.refCount===0&&A8(T8,function(){i.controller.abort()})}var Bd=null,Av=0,Gc=0,Kc=null;function C8(i,l){if(Bd===null){var u=Bd=[];Av=0,Gc=Ix(),Kc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Av++,l.then(_S,_S),l}function _S(){if(--Av===0&&Bd!==null){Kc!==null&&(Kc.status="fulfilled");var i=Bd;Bd=null,Gc=0,Kc=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function I8(i,l){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var v=0;v<u.length;v++)(0,u[v])(l)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var NS=W.S;W.S=function(i,l){sT=Yn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&C8(i,l),NS!==null&&NS(i,l)};var Pl=F(null);function Tv(){var i=Pl.current;return i!==null?i:Lt.pooledCache}function Im(i,l){l===null?H(Pl,Pl.current):H(Pl,l.pool)}function jS(){var i=Tv();return i===null?null:{parent:Tn._currentValue,pool:i}}var Yc=Error(r(460)),Cv=Error(r(474)),Om=Error(r(542)),Rm={then:function(){}};function ES(i){return i=i.status,i==="fulfilled"||i==="rejected"}function SS(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Ga,Ga),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,TS(i),i;default:if(typeof l.status=="string")l.then(Ga,Ga);else{if(i=Lt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=m}},function(m){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,TS(i),i}throw Ml=l,Yc}}function kl(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ml=u,Yc):u}}var Ml=null;function AS(){if(Ml===null)throw Error(r(459));var i=Ml;return Ml=null,i}function TS(i){if(i===Yc||i===Om)throw Error(r(483))}var Wc=null,$d=0;function Dm(i){var l=$d;return $d+=1,Wc===null&&(Wc=[]),SS(Wc,i,l)}function Fd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Pm(i,l){throw l.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function CS(i){function l(ee,Q){if(i){var re=ee.deletions;re===null?(ee.deletions=[Q],ee.flags|=16):re.push(Q)}}function u(ee,Q){if(!i)return null;for(;Q!==null;)l(ee,Q),Q=Q.sibling;return null}function m(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function v(ee,Q){return ee=ss(ee,Q),ee.index=0,ee.sibling=null,ee}function b(ee,Q,re){return ee.index=re,i?(re=ee.alternate,re!==null?(re=re.index,re<Q?(ee.flags|=67108866,Q):re):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function C(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function $(ee,Q,re,ve){return Q===null||Q.tag!==6?(Q=yv(re,ee.mode,ve),Q.return=ee,Q):(Q=v(Q,re),Q.return=ee,Q)}function G(ee,Q,re,ve){var Ve=re.type;return Ve===N?pe(ee,Q,re.props.children,ve,re.key):Q!==null&&(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===V&&kl(Ve)===Q.type)?(Q=v(Q,re.props),Fd(Q,re),Q.return=ee,Q):(Q=Sm(re.type,re.key,re.props,null,ee.mode,ve),Fd(Q,re),Q.return=ee,Q)}function ae(ee,Q,re,ve){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==re.containerInfo||Q.stateNode.implementation!==re.implementation?(Q=vv(re,ee.mode,ve),Q.return=ee,Q):(Q=v(Q,re.children||[]),Q.return=ee,Q)}function pe(ee,Q,re,ve,Ve){return Q===null||Q.tag!==7?(Q=Il(re,ee.mode,ve,Ve),Q.return=ee,Q):(Q=v(Q,re),Q.return=ee,Q)}function be(ee,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=yv(""+Q,ee.mode,re),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return re=Sm(Q.type,Q.key,Q.props,null,ee.mode,re),Fd(re,Q),re.return=ee,re;case E:return Q=vv(Q,ee.mode,re),Q.return=ee,Q;case V:return Q=kl(Q),be(ee,Q,re)}if(le(Q)||z(Q))return Q=Il(Q,ee.mode,re,null),Q.return=ee,Q;if(typeof Q.then=="function")return be(ee,Dm(Q),re);if(Q.$$typeof===A)return be(ee,Cm(ee,Q),re);Pm(ee,Q)}return null}function se(ee,Q,re,ve){var Ve=Q!==null?Q.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ve!==null?null:$(ee,Q,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return re.key===Ve?G(ee,Q,re,ve):null;case E:return re.key===Ve?ae(ee,Q,re,ve):null;case V:return re=kl(re),se(ee,Q,re,ve)}if(le(re)||z(re))return Ve!==null?null:pe(ee,Q,re,ve,null);if(typeof re.then=="function")return se(ee,Q,Dm(re),ve);if(re.$$typeof===A)return se(ee,Q,Cm(ee,re),ve);Pm(ee,re)}return null}function ue(ee,Q,re,ve,Ve){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ee=ee.get(re)||null,$(Q,ee,""+ve,Ve);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return ee=ee.get(ve.key===null?re:ve.key)||null,G(Q,ee,ve,Ve);case E:return ee=ee.get(ve.key===null?re:ve.key)||null,ae(Q,ee,ve,Ve);case V:return ve=kl(ve),ue(ee,Q,re,ve,Ve)}if(le(ve)||z(ve))return ee=ee.get(re)||null,pe(Q,ee,ve,Ve,null);if(typeof ve.then=="function")return ue(ee,Q,re,Dm(ve),Ve);if(ve.$$typeof===A)return ue(ee,Q,re,Cm(Q,ve),Ve);Pm(Q,ve)}return null}function Pe(ee,Q,re,ve){for(var Ve=null,gt=null,ke=Q,at=Q=0,lt=null;ke!==null&&at<re.length;at++){ke.index>at?(lt=ke,ke=null):lt=ke.sibling;var yt=se(ee,ke,re[at],ve);if(yt===null){ke===null&&(ke=lt);break}i&&ke&&yt.alternate===null&&l(ee,ke),Q=b(yt,Q,at),gt===null?Ve=yt:gt.sibling=yt,gt=yt,ke=lt}if(at===re.length)return u(ee,ke),ht&&os(ee,at),Ve;if(ke===null){for(;at<re.length;at++)ke=be(ee,re[at],ve),ke!==null&&(Q=b(ke,Q,at),gt===null?Ve=ke:gt.sibling=ke,gt=ke);return ht&&os(ee,at),Ve}for(ke=m(ke);at<re.length;at++)lt=ue(ke,ee,at,re[at],ve),lt!==null&&(i&&lt.alternate!==null&&ke.delete(lt.key===null?at:lt.key),Q=b(lt,Q,at),gt===null?Ve=lt:gt.sibling=lt,gt=lt);return i&&ke.forEach(function(Io){return l(ee,Io)}),ht&&os(ee,at),Ve}function $e(ee,Q,re,ve){if(re==null)throw Error(r(151));for(var Ve=null,gt=null,ke=Q,at=Q=0,lt=null,yt=re.next();ke!==null&&!yt.done;at++,yt=re.next()){ke.index>at?(lt=ke,ke=null):lt=ke.sibling;var Io=se(ee,ke,yt.value,ve);if(Io===null){ke===null&&(ke=lt);break}i&&ke&&Io.alternate===null&&l(ee,ke),Q=b(Io,Q,at),gt===null?Ve=Io:gt.sibling=Io,gt=Io,ke=lt}if(yt.done)return u(ee,ke),ht&&os(ee,at),Ve;if(ke===null){for(;!yt.done;at++,yt=re.next())yt=be(ee,yt.value,ve),yt!==null&&(Q=b(yt,Q,at),gt===null?Ve=yt:gt.sibling=yt,gt=yt);return ht&&os(ee,at),Ve}for(ke=m(ke);!yt.done;at++,yt=re.next())yt=ue(ke,ee,at,yt.value,ve),yt!==null&&(i&&yt.alternate!==null&&ke.delete(yt.key===null?at:yt.key),Q=b(yt,Q,at),gt===null?Ve=yt:gt.sibling=yt,gt=yt);return i&&ke.forEach(function(BV){return l(ee,BV)}),ht&&os(ee,at),Ve}function Rt(ee,Q,re,ve){if(typeof re=="object"&&re!==null&&re.type===N&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case w:e:{for(var Ve=re.key;Q!==null;){if(Q.key===Ve){if(Ve=re.type,Ve===N){if(Q.tag===7){u(ee,Q.sibling),ve=v(Q,re.props.children),ve.return=ee,ee=ve;break e}}else if(Q.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===V&&kl(Ve)===Q.type){u(ee,Q.sibling),ve=v(Q,re.props),Fd(ve,re),ve.return=ee,ee=ve;break e}u(ee,Q);break}else l(ee,Q);Q=Q.sibling}re.type===N?(ve=Il(re.props.children,ee.mode,ve,re.key),ve.return=ee,ee=ve):(ve=Sm(re.type,re.key,re.props,null,ee.mode,ve),Fd(ve,re),ve.return=ee,ee=ve)}return C(ee);case E:e:{for(Ve=re.key;Q!==null;){if(Q.key===Ve)if(Q.tag===4&&Q.stateNode.containerInfo===re.containerInfo&&Q.stateNode.implementation===re.implementation){u(ee,Q.sibling),ve=v(Q,re.children||[]),ve.return=ee,ee=ve;break e}else{u(ee,Q);break}else l(ee,Q);Q=Q.sibling}ve=vv(re,ee.mode,ve),ve.return=ee,ee=ve}return C(ee);case V:return re=kl(re),Rt(ee,Q,re,ve)}if(le(re))return Pe(ee,Q,re,ve);if(z(re)){if(Ve=z(re),typeof Ve!="function")throw Error(r(150));return re=Ve.call(re),$e(ee,Q,re,ve)}if(typeof re.then=="function")return Rt(ee,Q,Dm(re),ve);if(re.$$typeof===A)return Rt(ee,Q,Cm(ee,re),ve);Pm(ee,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,Q!==null&&Q.tag===6?(u(ee,Q.sibling),ve=v(Q,re),ve.return=ee,ee=ve):(u(ee,Q),ve=yv(re,ee.mode,ve),ve.return=ee,ee=ve),C(ee)):u(ee,Q)}return function(ee,Q,re,ve){try{$d=0;var Ve=Rt(ee,Q,re,ve);return Wc=null,Ve}catch(ke){if(ke===Yc||ke===Om)throw ke;var gt=ra(29,ke,null,ee.mode);return gt.lanes=ve,gt.return=ee,gt}finally{}}}var Ll=CS(!0),IS=CS(!1),ho=!1;function Iv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ov(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function mo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function po(i,l,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,l=Em(i),hS(i,null,u),l}return jm(i,m,l,u),Em(i)}function qd(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,yd(i,u)}}function Rv(i,l){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?v=b=l:b=b.next=l}else v=b=l;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var Dv=!1;function Hd(){if(Dv){var i=Kc;if(i!==null)throw i}}function Gd(i,l,u,m){Dv=!1;var v=i.updateQueue;ho=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var G=$,ae=G.next;G.next=null,C===null?b=ae:C.next=ae,C=G;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,$=pe.lastBaseUpdate,$!==C&&($===null?pe.firstBaseUpdate=ae:$.next=ae,pe.lastBaseUpdate=G))}if(b!==null){var be=v.baseState;C=0,pe=ae=G=null,$=b;do{var se=$.lane&-536870913,ue=se!==$.lane;if(ue?(ot&se)===se:(m&se)===se){se!==0&&se===Gc&&(Dv=!0),pe!==null&&(pe=pe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Pe=i,$e=$;se=l;var Rt=u;switch($e.tag){case 1:if(Pe=$e.payload,typeof Pe=="function"){be=Pe.call(Rt,be,se);break e}be=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=$e.payload,se=typeof Pe=="function"?Pe.call(Rt,be,se):Pe,se==null)break e;be=g({},be,se);break e;case 2:ho=!0}}se=$.callback,se!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=v.callbacks,ue===null?v.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:$.tag,payload:$.payload,callback:$.callback,next:null},pe===null?(ae=pe=ue,G=be):pe=pe.next=ue,C|=se;if($=$.next,$===null){if($=v.shared.pending,$===null)break;ue=$,$=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);pe===null&&(G=be),v.baseState=G,v.firstBaseUpdate=ae,v.lastBaseUpdate=pe,b===null&&(v.shared.lanes=0),bo|=C,i.lanes=C,i.memoizedState=be}}function OS(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function RS(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)OS(u[i],l)}var Xc=F(null),km=F(0);function DS(i,l){i=vs,H(km,i),H(Xc,l),vs=i|l.baseLanes}function Pv(){H(km,vs),H(Xc,Xc.current)}function kv(){vs=km.current,Y(Xc),Y(km)}var aa=F(null),Sa=null;function go(i){var l=i.alternate;H(gn,gn.current&1),H(aa,i),Sa===null&&(l===null||Xc.current!==null||l.memoizedState!==null)&&(Sa=i)}function Mv(i){H(gn,gn.current),H(aa,i),Sa===null&&(Sa=i)}function PS(i){i.tag===22?(H(gn,gn.current),H(aa,i),Sa===null&&(Sa=i)):yo()}function yo(){H(gn,gn.current),H(aa,aa.current)}function ia(i){Y(aa),Sa===i&&(Sa=null),Y(gn)}var gn=F(0);function Mm(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$x(u)||Fx(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var us=0,rt=null,It=null,Cn=null,Lm=!1,Qc=!1,Ul=!1,Um=0,Kd=0,Jc=null,O8=0;function dn(){throw Error(r(321))}function Lv(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!na(i[u],l[u]))return!1;return!0}function Uv(i,l,u,m,v,b){return us=b,rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,W.H=i===null||i.memoizedState===null?yA:Zv,Ul=!1,b=u(m,v),Ul=!1,Qc&&(b=MS(l,u,m,v)),kS(i),b}function kS(i){W.H=Xd;var l=It!==null&&It.next!==null;if(us=0,Cn=It=rt=null,Lm=!1,Kd=0,Jc=null,l)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Tm(i)&&(In=!0))}function MS(i,l,u,m){rt=i;var v=0;do{if(Qc&&(Jc=null),Kd=0,Qc=!1,25<=v)throw Error(r(301));if(v+=1,Cn=It=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=vA,b=l(u,m)}while(Qc);return b}function R8(){var i=W.H,l=i.useState()[0];return l=typeof l.then=="function"?Yd(l):l,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(rt.flags|=1024),l}function Vv(){var i=Um!==0;return Um=0,i}function zv(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Bv(i){if(Lm){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Lm=!1}us=0,Cn=It=rt=null,Qc=!1,Kd=Um=0,Jc=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?rt.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function yn(){if(It===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var l=Cn===null?rt.memoizedState:Cn.next;if(l!==null)Cn=l,It=i;else{if(i===null)throw rt.alternate===null?Error(r(467)):Error(r(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Cn===null?rt.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yd(i){var l=Kd;return Kd+=1,Jc===null&&(Jc=[]),i=SS(Jc,i,l),l=rt,(Cn===null?l.memoizedState:Cn.next)===null&&(l=l.alternate,W.H=l===null||l.memoizedState===null?yA:Zv),i}function zm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yd(i);if(i.$$typeof===A)return or(i)}throw Error(r(438,String(i)))}function $v(i){var l=null,u=rt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var m=rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Vm(),rt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),m=0;m<i;m++)u[m]=I;return l.index++,u}function ds(i,l){return typeof l=="function"?l(i):l}function Bm(i){var l=yn();return Fv(l,It,i)}function Fv(i,l,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,b=m.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}l.baseQueue=v=b,m.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{l=v.next;var $=C=null,G=null,ae=l,pe=!1;do{var be=ae.lane&-536870913;if(be!==ae.lane?(ot&be)===be:(us&be)===be){var se=ae.revertLane;if(se===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),be===Gc&&(pe=!0);else if((us&se)===se){ae=ae.next,se===Gc&&(pe=!0);continue}else be={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?($=G=be,C=b):G=G.next=be,rt.lanes|=se,bo|=se;be=ae.action,Ul&&u(b,be),b=ae.hasEagerState?ae.eagerState:u(b,be)}else se={lane:be,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?($=G=se,C=b):G=G.next=se,rt.lanes|=be,bo|=be;ae=ae.next}while(ae!==null&&ae!==l);if(G===null?C=b:G.next=$,!na(b,i.memoizedState)&&(In=!0,pe&&(u=Kc,u!==null)))throw u;i.memoizedState=b,i.baseState=C,i.baseQueue=G,m.lastRenderedState=b}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function qv(i){var l=yn(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,b=l.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do b=i(b,C.action),C=C.next;while(C!==v);na(b,l.memoizedState)||(In=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),u.lastRenderedState=b}return[b,m]}function LS(i,l,u){var m=rt,v=yn(),b=ht;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=l();var C=!na((It||v).memoizedState,u);if(C&&(v.memoizedState=u,In=!0),v=v.queue,Kv(zS.bind(null,m,v,i),[i]),v.getSnapshot!==l||C||Cn!==null&&Cn.memoizedState.tag&1){if(m.flags|=2048,Zc(9,{destroy:void 0},VS.bind(null,m,v,u,l),null),Lt===null)throw Error(r(349));b||(us&127)!==0||US(m,l,u)}return u}function US(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=rt.updateQueue,l===null?(l=Vm(),rt.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function VS(i,l,u,m){l.value=u,l.getSnapshot=m,BS(l)&&$S(i)}function zS(i,l,u){return u(function(){BS(l)&&$S(i)})}function BS(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!na(i,u)}catch{return!0}}function $S(i){var l=Cl(i,2);l!==null&&$r(l,i,2)}function Hv(i){var l=Cr();if(typeof i=="function"){var u=i;if(i=u(),Ul){Ar(!0);try{u()}finally{Ar(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},l}function FS(i,l,u,m){return i.baseState=u,Fv(i,It,typeof m=="function"?m:ds)}function D8(i,l,u,m,v){if(qm(i))throw Error(r(485));if(i=l.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};W.T!==null?u(!0):b.isTransition=!1,m(b),u=l.pending,u===null?(b.next=l.pending=b,qS(l,b)):(b.next=u.next,l.pending=u.next=b)}}function qS(i,l){var u=l.action,m=l.payload,v=i.state;if(l.isTransition){var b=W.T,C={};W.T=C;try{var $=u(v,m),G=W.S;G!==null&&G(C,$),HS(i,l,$)}catch(ae){Gv(i,l,ae)}finally{b!==null&&C.types!==null&&(b.types=C.types),W.T=b}}else try{b=u(v,m),HS(i,l,b)}catch(ae){Gv(i,l,ae)}}function HS(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){GS(i,l,m)},function(m){return Gv(i,l,m)}):GS(i,l,u)}function GS(i,l,u){l.status="fulfilled",l.value=u,KS(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,qS(i,u)))}function Gv(i,l,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=u,KS(l),l=l.next;while(l!==m)}i.action=null}function KS(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function YS(i,l){return l}function WS(i,l){if(ht){var u=Lt.formState;if(u!==null){e:{var m=rt;if(ht){if(Ft){t:{for(var v=Ft,b=Ea;v.nodeType!==8;){if(!b){v=null;break t}if(v=Aa(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Ft=Aa(v.nextSibling),m=v.data==="F!";break e}}uo(m)}m=!1}m&&(l=u[0])}}return u=Cr(),u.memoizedState=u.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YS,lastRenderedState:l},u.queue=m,u=mA.bind(null,rt,m),m.dispatch=u,m=Hv(!1),b=Jv.bind(null,rt,!1,m.queue),m=Cr(),v={state:l,dispatch:null,action:i,pending:null},m.queue=v,u=D8.bind(null,rt,v,b,u),v.dispatch=u,m.memoizedState=i,[l,u,!1]}function XS(i){var l=yn();return QS(l,It,i)}function QS(i,l,u){if(l=Fv(i,l,YS)[0],i=Bm(ds)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Yd(l)}catch(C){throw C===Yc?Om:C}else m=l;l=yn();var v=l.queue,b=v.dispatch;return u!==l.memoizedState&&(rt.flags|=2048,Zc(9,{destroy:void 0},P8.bind(null,v,u),null)),[m,b,i]}function P8(i,l){i.action=l}function JS(i){var l=yn(),u=It;if(u!==null)return QS(l,u,i);yn(),l=l.memoizedState,u=yn();var m=u.queue.dispatch;return u.memoizedState=i,[l,m,!1]}function Zc(i,l,u,m){return i={tag:i,create:u,deps:m,inst:l,next:null},l=rt.updateQueue,l===null&&(l=Vm(),rt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,l.lastEffect=i),i}function ZS(){return yn().memoizedState}function $m(i,l,u,m){var v=Cr();rt.flags|=i,v.memoizedState=Zc(1|l,{destroy:void 0},u,m===void 0?null:m)}function Fm(i,l,u,m){var v=yn();m=m===void 0?null:m;var b=v.memoizedState.inst;It!==null&&m!==null&&Lv(m,It.memoizedState.deps)?v.memoizedState=Zc(l,b,u,m):(rt.flags|=i,v.memoizedState=Zc(1|l,b,u,m))}function eA(i,l){$m(8390656,8,i,l)}function Kv(i,l){Fm(2048,8,i,l)}function k8(i){rt.flags|=4;var l=rt.updateQueue;if(l===null)l=Vm(),rt.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function tA(i){var l=yn().memoizedState;return k8({ref:l,nextImpl:i}),function(){if((wt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function nA(i,l){return Fm(4,2,i,l)}function rA(i,l){return Fm(4,4,i,l)}function aA(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function iA(i,l,u){u=u!=null?u.concat([i]):null,Fm(4,4,aA.bind(null,l,i),u)}function Yv(){}function sA(i,l){var u=yn();l=l===void 0?null:l;var m=u.memoizedState;return l!==null&&Lv(l,m[1])?m[0]:(u.memoizedState=[i,l],i)}function oA(i,l){var u=yn();l=l===void 0?null:l;var m=u.memoizedState;if(l!==null&&Lv(l,m[1]))return m[0];if(m=i(),Ul){Ar(!0);try{i()}finally{Ar(!1)}}return u.memoizedState=[m,l],m}function Wv(i,l,u){return u===void 0||(us&1073741824)!==0&&(ot&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=lT(),rt.lanes|=i,bo|=i,u)}function lA(i,l,u,m){return na(u,l)?u:Xc.current!==null?(i=Wv(i,u,m),na(i,l)||(In=!0),i):(us&42)===0||(us&1073741824)!==0&&(ot&261930)===0?(In=!0,i.memoizedState=u):(i=lT(),rt.lanes|=i,bo|=i,l)}function cA(i,l,u,m,v){var b=oe.p;oe.p=b!==0&&8>b?b:8;var C=W.T,$={};W.T=$,Jv(i,!1,l,u);try{var G=v(),ae=W.S;if(ae!==null&&ae($,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=I8(G,m);Wd(i,l,pe,la(i))}else Wd(i,l,m,la(i))}catch(be){Wd(i,l,{then:function(){},status:"rejected",reason:be},la())}finally{oe.p=b,C!==null&&$.types!==null&&(C.types=$.types),W.T=C}}function M8(){}function Xv(i,l,u,m){if(i.tag!==5)throw Error(r(476));var v=uA(i).queue;cA(i,v,l,J,u===null?M8:function(){return dA(i),u(m)})}function uA(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:J},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function dA(i){var l=uA(i);l.next===null&&(l=i.alternate.memoizedState),Wd(i,l.next.queue,{},la())}function Qv(){return or(hf)}function fA(){return yn().memoizedState}function hA(){return yn().memoizedState}function L8(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=la();i=mo(u);var m=po(l,i,u);m!==null&&($r(m,l,u),qd(m,l,u)),l={cache:Sv()},i.payload=l;return}l=l.return}}function U8(i,l,u){var m=la();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qm(i)?pA(l,u):(u=pv(i,l,u,m),u!==null&&($r(u,i,m),gA(u,l,m)))}function mA(i,l,u){var m=la();Wd(i,l,u,m)}function Wd(i,l,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(qm(i))pA(l,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var C=l.lastRenderedState,$=b(C,u);if(v.hasEagerState=!0,v.eagerState=$,na($,C))return jm(i,l,v,0),Lt===null&&Nm(),!1}catch{}finally{}if(u=pv(i,l,v,m),u!==null)return $r(u,i,m),gA(u,l,m),!0}return!1}function Jv(i,l,u,m){if(m={lane:2,revertLane:Ix(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},qm(i)){if(l)throw Error(r(479))}else l=pv(i,u,m,2),l!==null&&$r(l,i,2)}function qm(i){var l=i.alternate;return i===rt||l!==null&&l===rt}function pA(i,l){Qc=Lm=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function gA(i,l,u){if((u&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,u|=m,l.lanes=u,yd(i,u)}}var Xd={readContext:or,use:zm,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Xd.useEffectEvent=dn;var yA={readContext:or,use:zm,useCallback:function(i,l){return Cr().memoizedState=[i,l===void 0?null:l],i},useContext:or,useEffect:eA,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,$m(4194308,4,aA.bind(null,l,i),u)},useLayoutEffect:function(i,l){return $m(4194308,4,i,l)},useInsertionEffect:function(i,l){$m(4,2,i,l)},useMemo:function(i,l){var u=Cr();l=l===void 0?null:l;var m=i();if(Ul){Ar(!0);try{i()}finally{Ar(!1)}}return u.memoizedState=[m,l],m},useReducer:function(i,l,u){var m=Cr();if(u!==void 0){var v=u(l);if(Ul){Ar(!0);try{u(l)}finally{Ar(!1)}}}else v=l;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=U8.bind(null,rt,i),[m.memoizedState,i]},useRef:function(i){var l=Cr();return i={current:i},l.memoizedState=i},useState:function(i){i=Hv(i);var l=i.queue,u=mA.bind(null,rt,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Yv,useDeferredValue:function(i,l){var u=Cr();return Wv(u,i,l)},useTransition:function(){var i=Hv(!1);return i=cA.bind(null,rt,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var m=rt,v=Cr();if(ht){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),Lt===null)throw Error(r(349));(ot&127)!==0||US(m,l,u)}v.memoizedState=u;var b={value:u,getSnapshot:l};return v.queue=b,eA(zS.bind(null,m,b,i),[i]),m.flags|=2048,Zc(9,{destroy:void 0},VS.bind(null,m,b,u,l),null),u},useId:function(){var i=Cr(),l=Lt.identifierPrefix;if(ht){var u=Di,m=Ri;u=(m&~(1<<32-mn(m)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Um++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=O8++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Qv,useFormState:WS,useActionState:WS,useOptimistic:function(i){var l=Cr();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Jv.bind(null,rt,!0,u),u.dispatch=l,[i,l]},useMemoCache:$v,useCacheRefresh:function(){return Cr().memoizedState=L8.bind(null,rt)},useEffectEvent:function(i){var l=Cr(),u={impl:i};return l.memoizedState=u,function(){if((wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Zv={readContext:or,use:zm,useCallback:sA,useContext:or,useEffect:Kv,useImperativeHandle:iA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:oA,useReducer:Bm,useRef:ZS,useState:function(){return Bm(ds)},useDebugValue:Yv,useDeferredValue:function(i,l){var u=yn();return lA(u,It.memoizedState,i,l)},useTransition:function(){var i=Bm(ds)[0],l=yn().memoizedState;return[typeof i=="boolean"?i:Yd(i),l]},useSyncExternalStore:LS,useId:fA,useHostTransitionStatus:Qv,useFormState:XS,useActionState:XS,useOptimistic:function(i,l){var u=yn();return FS(u,It,i,l)},useMemoCache:$v,useCacheRefresh:hA};Zv.useEffectEvent=tA;var vA={readContext:or,use:zm,useCallback:sA,useContext:or,useEffect:Kv,useImperativeHandle:iA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:oA,useReducer:qv,useRef:ZS,useState:function(){return qv(ds)},useDebugValue:Yv,useDeferredValue:function(i,l){var u=yn();return It===null?Wv(u,i,l):lA(u,It.memoizedState,i,l)},useTransition:function(){var i=qv(ds)[0],l=yn().memoizedState;return[typeof i=="boolean"?i:Yd(i),l]},useSyncExternalStore:LS,useId:fA,useHostTransitionStatus:Qv,useFormState:JS,useActionState:JS,useOptimistic:function(i,l){var u=yn();return It!==null?FS(u,It,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:$v,useCacheRefresh:hA};vA.useEffectEvent=tA;function ex(i,l,u,m){l=i.memoizedState,u=u(m,l),u=u==null?l:g({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var tx={enqueueSetState:function(i,l,u){i=i._reactInternals;var m=la(),v=mo(m);v.payload=l,u!=null&&(v.callback=u),l=po(i,v,m),l!==null&&($r(l,i,m),qd(l,i,m))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var m=la(),v=mo(m);v.tag=1,v.payload=l,u!=null&&(v.callback=u),l=po(i,v,m),l!==null&&($r(l,i,m),qd(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=la(),m=mo(u);m.tag=2,l!=null&&(m.callback=l),l=po(i,m,u),l!==null&&($r(l,i,u),qd(l,i,u))}};function xA(i,l,u,m,v,b,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,C):l.prototype&&l.prototype.isPureReactComponent?!Md(u,m)||!Md(v,b):!0}function bA(i,l,u,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,m),l.state!==i&&tx.enqueueReplaceState(l,l.state,null)}function Vl(i,l){var u=l;if("ref"in l){u={};for(var m in l)m!=="ref"&&(u[m]=l[m])}if(i=i.defaultProps){u===l&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function wA(i){_m(i)}function _A(i){console.error(i)}function NA(i){_m(i)}function Hm(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function jA(i,l,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function nx(i,l,u){return u=mo(u),u.tag=3,u.payload={element:null},u.callback=function(){Hm(i,l)},u}function EA(i){return i=mo(i),i.tag=3,i}function SA(i,l,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;i.payload=function(){return v(b)},i.callback=function(){jA(l,u,m)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){jA(l,u,m),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function V8(i,l,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=u.alternate,l!==null&&Hc(l,u,v,!0),u=aa.current,u!==null){switch(u.tag){case 31:case 13:return Sa===null?rp():u.alternate===null&&fn===0&&(fn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Rm?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([m]):l.add(m),Ax(i,m,v)),!1;case 22:return u.flags|=65536,m===Rm?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([m]):u.add(m)),Ax(i,m,v)),!1}throw Error(r(435,u.tag))}return Ax(i,m,v),rp(),!1}if(ht)return l=aa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,m!==wv&&(i=Error(r(422),{cause:m}),Vd(_a(i,u)))):(m!==wv&&(l=Error(r(423),{cause:m}),Vd(_a(l,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=_a(m,u),v=nx(i.stateNode,m,v),Rv(i,v),fn!==4&&(fn=2)),!1;var b=Error(r(520),{cause:m});if(b=_a(b,u),af===null?af=[b]:af.push(b),fn!==4&&(fn=2),l===null)return!0;m=_a(m,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=nx(u.stateNode,m,i),Rv(u,i),!1;case 1:if(l=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wo===null||!wo.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=EA(v),SA(v,i,u,m),Rv(u,v),!1}u=u.return}while(u!==null);return!1}var rx=Error(r(461)),In=!1;function lr(i,l,u,m){l.child=i===null?IS(l,null,u,m):Ll(l,i.child,u,m)}function AA(i,l,u,m,v){u=u.render;var b=l.ref;if("ref"in m){var C={};for(var $ in m)$!=="ref"&&(C[$]=m[$])}else C=m;return Dl(l),m=Uv(i,l,u,C,b,v),$=Vv(),i!==null&&!In?(zv(i,l,v),fs(i,l,v)):(ht&&$&&xv(l),l.flags|=1,lr(i,l,m,v),l.child)}function TA(i,l,u,m,v){if(i===null){var b=u.type;return typeof b=="function"&&!gv(b)&&b.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=b,CA(i,l,b,m,v)):(i=Sm(u.type,null,m,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(b=i.child,!dx(i,v)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:Md,u(C,m)&&i.ref===l.ref)return fs(i,l,v)}return l.flags|=1,i=ss(b,m),i.ref=l.ref,i.return=l,l.child=i}function CA(i,l,u,m,v){if(i!==null){var b=i.memoizedProps;if(Md(b,m)&&i.ref===l.ref)if(In=!1,l.pendingProps=m=b,dx(i,v))(i.flags&131072)!==0&&(In=!0);else return l.lanes=i.lanes,fs(i,l,v)}return ax(i,l,u,m,v)}function IA(i,l,u,m){var v=m.children,b=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=l.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,l.child=null;return OA(i,l,b,u,m)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Im(l,b!==null?b.cachePool:null),b!==null?DS(l,b):Pv(),PS(l);else return m=l.lanes=536870912,OA(i,l,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Im(l,b.cachePool),DS(l,b),yo(),l.memoizedState=null):(i!==null&&Im(l,null),Pv(),yo());return lr(i,l,v,u),l.child}function Qd(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function OA(i,l,u,m,v){var b=Tv();return b=b===null?null:{parent:Tn._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},i!==null&&Im(l,null),Pv(),PS(l),i!==null&&Hc(i,l,m,!0),l.childLanes=v,null}function Gm(i,l){return l=Ym({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function RA(i,l,u){return Ll(l,i.child,null,u),i=Gm(l,l.pendingProps),i.flags|=2,ia(l),l.memoizedState=null,i}function z8(i,l,u){var m=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(ht){if(m.mode==="hidden")return i=Gm(l,m),l.lanes=536870912,Qd(null,i);if(Mv(l),(i=Ft)?(i=qT(i,Ea),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Ri,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},u=pS(i),u.return=l,l.child=u,sr=l,Ft=null)):i=null,i===null)throw uo(l);return l.lanes=536870912,null}return Gm(l,m)}var b=i.memoizedState;if(b!==null){var C=b.dehydrated;if(Mv(l),v)if(l.flags&256)l.flags&=-257,l=RA(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(In||Hc(i,l,u,!1),v=(u&i.childLanes)!==0,In||v){if(m=Lt,m!==null&&(C=vd(m,u),C!==0&&C!==b.retryLane))throw b.retryLane=C,Cl(i,C),$r(m,i,C),rx;rp(),l=RA(i,l,u)}else i=b.treeContext,Ft=Aa(C.nextSibling),sr=l,ht=!0,co=null,Ea=!1,i!==null&&vS(l,i),l=Gm(l,m),l.flags|=4096;return l}return i=ss(i.child,{mode:m.mode,children:m.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Km(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function ax(i,l,u,m,v){return Dl(l),u=Uv(i,l,u,m,void 0,v),m=Vv(),i!==null&&!In?(zv(i,l,v),fs(i,l,v)):(ht&&m&&xv(l),l.flags|=1,lr(i,l,u,v),l.child)}function DA(i,l,u,m,v,b){return Dl(l),l.updateQueue=null,u=MS(l,m,u,v),kS(i),m=Vv(),i!==null&&!In?(zv(i,l,b),fs(i,l,b)):(ht&&m&&xv(l),l.flags|=1,lr(i,l,u,b),l.child)}function PA(i,l,u,m,v){if(Dl(l),l.stateNode===null){var b=Bc,C=u.contextType;typeof C=="object"&&C!==null&&(b=or(C)),b=new u(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tx,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},Iv(l),C=u.contextType,b.context=typeof C=="object"&&C!==null?or(C):Bc,b.state=l.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(ex(l,u,C,m),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&tx.enqueueReplaceState(b,b.state,null),Gd(l,m,b,v),Hd(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){b=l.stateNode;var $=l.memoizedProps,G=Vl(u,$);b.props=G;var ae=b.context,pe=u.contextType;C=Bc,typeof pe=="object"&&pe!==null&&(C=or(pe));var be=u.getDerivedStateFromProps;pe=typeof be=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||ae!==C)&&bA(l,b,m,C),ho=!1;var se=l.memoizedState;b.state=se,Gd(l,m,b,v),Hd(),ae=l.memoizedState,$||se!==ae||ho?(typeof be=="function"&&(ex(l,u,be,m),ae=l.memoizedState),(G=ho||xA(l,u,G,m,se,ae,C))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ae),b.props=m,b.state=ae,b.context=C,m=G):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,Ov(i,l),C=l.memoizedProps,pe=Vl(u,C),b.props=pe,be=l.pendingProps,se=b.context,ae=u.contextType,G=Bc,typeof ae=="object"&&ae!==null&&(G=or(ae)),$=u.getDerivedStateFromProps,(ae=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==be||se!==G)&&bA(l,b,m,G),ho=!1,se=l.memoizedState,b.state=se,Gd(l,m,b,v),Hd();var ue=l.memoizedState;C!==be||se!==ue||ho||i!==null&&i.dependencies!==null&&Tm(i.dependencies)?(typeof $=="function"&&(ex(l,u,$,m),ue=l.memoizedState),(pe=ho||xA(l,u,pe,m,se,ue,G)||i!==null&&i.dependencies!==null&&Tm(i.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,ue,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,ue,G)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ue),b.props=m,b.state=ue,b.context=G,m=pe):(typeof b.componentDidUpdate!="function"||C===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),m=!1)}return b=m,Km(i,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,i!==null&&m?(l.child=Ll(l,i.child,null,v),l.child=Ll(l,null,u,v)):lr(i,l,u,v),l.memoizedState=b.state,i=l.child):i=fs(i,l,v),i}function kA(i,l,u,m){return Ol(),l.flags|=256,lr(i,l,u,m),l.child}var ix={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sx(i){return{baseLanes:i,cachePool:jS()}}function ox(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=oa),i}function MA(i,l,u){var m=l.pendingProps,v=!1,b=(l.flags&128)!==0,C;if((C=b)||(C=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),C&&(v=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,i===null){if(ht){if(v?go(l):yo(),(i=Ft)?(i=qT(i,Ea),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:lo!==null?{id:Ri,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},u=pS(i),u.return=l,l.child=u,sr=l,Ft=null)):i=null,i===null)throw uo(l);return Fx(i)?l.lanes=32:l.lanes=536870912,null}var $=m.children;return m=m.fallback,v?(yo(),v=l.mode,$=Ym({mode:"hidden",children:$},v),m=Il(m,v,u,null),$.return=l,m.return=l,$.sibling=m,l.child=$,m=l.child,m.memoizedState=sx(u),m.childLanes=ox(i,C,u),l.memoizedState=ix,Qd(null,m)):(go(l),lx(l,$))}var G=i.memoizedState;if(G!==null&&($=G.dehydrated,$!==null)){if(b)l.flags&256?(go(l),l.flags&=-257,l=cx(i,l,u)):l.memoizedState!==null?(yo(),l.child=i.child,l.flags|=128,l=null):(yo(),$=m.fallback,v=l.mode,m=Ym({mode:"visible",children:m.children},v),$=Il($,v,u,null),$.flags|=2,m.return=l,$.return=l,m.sibling=$,l.child=m,Ll(l,i.child,null,u),m=l.child,m.memoizedState=sx(u),m.childLanes=ox(i,C,u),l.memoizedState=ix,l=Qd(null,m));else if(go(l),Fx($)){if(C=$.nextSibling&&$.nextSibling.dataset,C)var ae=C.dgst;C=ae,m=Error(r(419)),m.stack="",m.digest=C,Vd({value:m,source:null,stack:null}),l=cx(i,l,u)}else if(In||Hc(i,l,u,!1),C=(u&i.childLanes)!==0,In||C){if(C=Lt,C!==null&&(m=vd(C,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,Cl(i,m),$r(C,i,m),rx;$x($)||rp(),l=cx(i,l,u)}else $x($)?(l.flags|=192,l.child=i.child,l=null):(i=G.treeContext,Ft=Aa($.nextSibling),sr=l,ht=!0,co=null,Ea=!1,i!==null&&vS(l,i),l=lx(l,m.children),l.flags|=4096);return l}return v?(yo(),$=m.fallback,v=l.mode,G=i.child,ae=G.sibling,m=ss(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,ae!==null?$=ss(ae,$):($=Il($,v,u,null),$.flags|=2),$.return=l,m.return=l,m.sibling=$,l.child=m,Qd(null,m),m=l.child,$=i.child.memoizedState,$===null?$=sx(u):(v=$.cachePool,v!==null?(G=Tn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=jS(),$={baseLanes:$.baseLanes|u,cachePool:v}),m.memoizedState=$,m.childLanes=ox(i,C,u),l.memoizedState=ix,Qd(i.child,m)):(go(l),u=i.child,i=u.sibling,u=ss(u,{mode:"visible",children:m.children}),u.return=l,u.sibling=null,i!==null&&(C=l.deletions,C===null?(l.deletions=[i],l.flags|=16):C.push(i)),l.child=u,l.memoizedState=null,u)}function lx(i,l){return l=Ym({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ym(i,l){return i=ra(22,i,null,l),i.lanes=0,i}function cx(i,l,u){return Ll(l,i.child,null,u),i=lx(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function LA(i,l,u){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),jv(i.return,l,u)}function ux(i,l,u,m,v,b){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=u,C.tailMode=v,C.treeForkCount=b)}function UA(i,l,u){var m=l.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var C=gn.current,$=(C&2)!==0;if($?(C=C&1|2,l.flags|=128):C&=1,H(gn,C),lr(i,l,m,u),m=ht?Ud:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&LA(i,u,l);else if(i.tag===19)LA(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=l.child,v=null;u!==null;)i=u.alternate,i!==null&&Mm(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=l.child,l.child=null):(v=u.sibling,u.sibling=null),ux(l,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&Mm(i)===null){l.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}ux(l,!0,u,null,b,m);break;case"together":ux(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function fs(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),bo|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(Hc(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,u=ss(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=ss(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function dx(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Tm(i)))}function B8(i,l,u){switch(l.tag){case 3:Fe(l,l.stateNode.containerInfo),fo(l,Tn,i.memoizedState.cache),Ol();break;case 27:case 5:Ue(l);break;case 4:Fe(l,l.stateNode.containerInfo);break;case 10:fo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Mv(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(go(l),l.flags|=128,null):(u&l.child.childLanes)!==0?MA(i,l,u):(go(l),i=fs(i,l,u),i!==null?i.sibling:null);go(l);break;case 19:var v=(i.flags&128)!==0;if(m=(u&l.childLanes)!==0,m||(Hc(i,l,u,!1),m=(u&l.childLanes)!==0),v){if(m)return UA(i,l,u);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(gn,gn.current),m)break;return null;case 22:return l.lanes=0,IA(i,l,u,l.pendingProps);case 24:fo(l,Tn,i.memoizedState.cache)}return fs(i,l,u)}function VA(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)In=!0;else{if(!dx(i,u)&&(l.flags&128)===0)return In=!1,B8(i,l,u);In=(i.flags&131072)!==0}else In=!1,ht&&(l.flags&1048576)!==0&&yS(l,Ud,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(i=kl(l.elementType),l.type=i,typeof i=="function")gv(i)?(m=Vl(i,m),l.tag=1,l=PA(null,l,i,m,u)):(l.tag=0,l=ax(null,l,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===R){l.tag=11,l=AA(null,l,i,m,u);break e}else if(v===k){l.tag=14,l=TA(null,l,i,m,u);break e}}throw l=ye(i)||i,Error(r(306,l,""))}}return l;case 0:return ax(i,l,l.type,l.pendingProps,u);case 1:return m=l.type,v=Vl(m,l.pendingProps),PA(i,l,m,v,u);case 3:e:{if(Fe(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var b=l.memoizedState;v=b.element,Ov(i,l),Gd(l,m,null,u);var C=l.memoizedState;if(m=C.cache,fo(l,Tn,m),m!==b.cache&&Ev(l,[Tn],u,!0),Hd(),m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=kA(i,l,m,u);break e}else if(m!==v){v=_a(Error(r(424)),l),Vd(v),l=kA(i,l,m,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ft=Aa(i.firstChild),sr=l,ht=!0,co=null,Ea=!0,u=IS(l,null,m,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ol(),m===v){l=fs(i,l,u);break e}lr(i,l,m,u)}l=l.child}return l;case 26:return Km(i,l),i===null?(u=XT(l.type,null,l.pendingProps,null))?l.memoizedState=u:ht||(u=l.type,i=l.pendingProps,m=up(je.current).createElement(u),m[En]=l,m[Wn]=i,cr(m,u,i),Sn(m),l.stateNode=m):l.memoizedState=XT(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Ue(l),i===null&&ht&&(m=l.stateNode=KT(l.type,l.pendingProps,je.current),sr=l,Ea=!0,v=Ft,Eo(l.type)?(qx=v,Ft=Aa(m.firstChild)):Ft=v),lr(i,l,l.pendingProps.children,u),Km(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&ht&&((v=m=Ft)&&(m=yV(m,l.type,l.pendingProps,Ea),m!==null?(l.stateNode=m,sr=l,Ft=Aa(m.firstChild),Ea=!1,v=!0):v=!1),v||uo(l)),Ue(l),v=l.type,b=l.pendingProps,C=i!==null?i.memoizedProps:null,m=b.children,Vx(v,b)?m=null:C!==null&&Vx(v,C)&&(l.flags|=32),l.memoizedState!==null&&(v=Uv(i,l,R8,null,null,u),hf._currentValue=v),Km(i,l),lr(i,l,m,u),l.child;case 6:return i===null&&ht&&((i=u=Ft)&&(u=vV(u,l.pendingProps,Ea),u!==null?(l.stateNode=u,sr=l,Ft=null,i=!0):i=!1),i||uo(l)),null;case 13:return MA(i,l,u);case 4:return Fe(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Ll(l,null,m,u):lr(i,l,m,u),l.child;case 11:return AA(i,l,l.type,l.pendingProps,u);case 7:return lr(i,l,l.pendingProps,u),l.child;case 8:return lr(i,l,l.pendingProps.children,u),l.child;case 12:return lr(i,l,l.pendingProps.children,u),l.child;case 10:return m=l.pendingProps,fo(l,l.type,m.value),lr(i,l,m.children,u),l.child;case 9:return v=l.type._context,m=l.pendingProps.children,Dl(l),v=or(v),m=m(v),l.flags|=1,lr(i,l,m,u),l.child;case 14:return TA(i,l,l.type,l.pendingProps,u);case 15:return CA(i,l,l.type,l.pendingProps,u);case 19:return UA(i,l,u);case 31:return z8(i,l,u);case 22:return IA(i,l,u,l.pendingProps);case 24:return Dl(l),m=or(Tn),i===null?(v=Tv(),v===null&&(v=Lt,b=Sv(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),l.memoizedState={parent:m,cache:v},Iv(l),fo(l,Tn,v)):((i.lanes&u)!==0&&(Ov(i,l),Gd(l,null,null,u),Hd()),v=i.memoizedState,b=l.memoizedState,v.parent!==m?(v={parent:m,cache:m},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),fo(l,Tn,m)):(m=b.cache,fo(l,Tn,m),m!==v.cache&&Ev(l,[Tn],u,!0))),lr(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function hs(i){i.flags|=4}function fx(i,l,u,m,v){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(fT())i.flags|=8192;else throw Ml=Rm,Cv}else i.flags&=-16777217}function zA(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!t2(l))if(fT())i.flags|=8192;else throw Ml=Rm,Cv}function Wm(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?tm():536870912,i.lanes|=l,ru|=l)}function Jd(i,l){if(!ht)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function qt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(l)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,l}function $8(i,l,u){var m=l.pendingProps;switch(bv(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(l),null;case 1:return qt(l),null;case 3:return u=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),cs(Tn),de(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(qc(l)?hs(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,_v())),qt(l),null;case 26:var v=l.type,b=l.memoizedState;return i===null?(hs(l),b!==null?(qt(l),zA(l,b)):(qt(l),fx(l,v,null,m,u))):b?b!==i.memoizedState?(hs(l),qt(l),zA(l,b)):(qt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==m&&hs(l),qt(l),fx(l,v,i,m,u)),null;case 27:if(te(l),u=je.current,v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&hs(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return qt(l),null}i=Z.current,qc(l)?xS(l):(i=KT(v,m,u),l.stateNode=i,hs(l))}return qt(l),null;case 5:if(te(l),v=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&hs(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return qt(l),null}if(b=Z.current,qc(l))xS(l);else{var C=up(je.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?C.createElement("select",{is:m.is}):C.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?C.createElement(v,{is:m.is}):C.createElement(v)}}b[En]=l,b[Wn]=m;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=b;e:switch(cr(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&hs(l)}}return qt(l),fx(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&hs(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=je.current,qc(l)){if(i=l.stateNode,u=l.memoizedProps,m=null,v=sr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[En]=l,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||MT(i.nodeValue,u)),i||uo(l,!0)}else i=up(i).createTextNode(m),i[En]=l,l.stateNode=i}return qt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(m=qc(l),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[En]=l}else Ol(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;qt(l),i=!1}else u=_v(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(ia(l),l):(ia(l),null);if((l.flags&128)!==0)throw Error(r(558))}return qt(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=qc(l),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[En]=l}else Ol(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;qt(l),v=!1}else v=_v(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(ia(l),l):(ia(l),null)}return ia(l),(l.flags&128)!==0?(l.lanes=u,l):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=l.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),Wm(l,l.updateQueue),qt(l),null);case 4:return de(),i===null&&Px(l.stateNode.containerInfo),qt(l),null;case 10:return cs(l.type),qt(l),null;case 19:if(Y(gn),m=l.memoizedState,m===null)return qt(l),null;if(v=(l.flags&128)!==0,b=m.rendering,b===null)if(v)Jd(m,!1);else{if(fn!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(b=Mm(i),b!==null){for(l.flags|=128,Jd(m,!1),i=b.updateQueue,l.updateQueue=i,Wm(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)mS(u,i),u=u.sibling;return H(gn,gn.current&1|2),ht&&os(l,m.treeForkCount),l.child}i=i.sibling}m.tail!==null&&Yn()>ep&&(l.flags|=128,v=!0,Jd(m,!1),l.lanes=4194304)}else{if(!v)if(i=Mm(b),i!==null){if(l.flags|=128,v=!0,i=i.updateQueue,l.updateQueue=i,Wm(l,i),Jd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ht)return qt(l),null}else 2*Yn()-m.renderingStartTime>ep&&u!==536870912&&(l.flags|=128,v=!0,Jd(m,!1),l.lanes=4194304);m.isBackwards?(b.sibling=l.child,l.child=b):(i=m.last,i!==null?i.sibling=b:l.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Yn(),i.sibling=null,u=gn.current,H(gn,v?u&1|2:u&1),ht&&os(l,m.treeForkCount),i):(qt(l),null);case 22:case 23:return ia(l),kv(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(u&536870912)!==0&&(l.flags&128)===0&&(qt(l),l.subtreeFlags&6&&(l.flags|=8192)):qt(l),u=l.updateQueue,u!==null&&Wm(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==u&&(l.flags|=2048),i!==null&&Y(Pl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),cs(Tn),qt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function F8(i,l){switch(bv(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return cs(Tn),de(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return te(l),null;case 31:if(l.memoizedState!==null){if(ia(l),l.alternate===null)throw Error(r(340));Ol()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(ia(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ol()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Y(gn),null;case 4:return de(),null;case 10:return cs(l.type),null;case 22:case 23:return ia(l),kv(),i!==null&&Y(Pl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return cs(Tn),null;case 25:return null;default:return null}}function BA(i,l){switch(bv(l),l.tag){case 3:cs(Tn),de();break;case 26:case 27:case 5:te(l);break;case 4:de();break;case 31:l.memoizedState!==null&&ia(l);break;case 13:ia(l);break;case 19:Y(gn);break;case 10:cs(l.type);break;case 22:case 23:ia(l),kv(),i!==null&&Y(Pl);break;case 24:cs(Tn)}}function Zd(i,l){try{var u=l.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var b=u.create,C=u.inst;m=b(),C.destroy=m}u=u.next}while(u!==v)}}catch($){At(l,l.return,$)}}function vo(i,l,u){try{var m=l.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&i)===i){var C=m.inst,$=C.destroy;if($!==void 0){C.destroy=void 0,v=l;var G=u,ae=$;try{ae()}catch(pe){At(v,G,pe)}}}m=m.next}while(m!==b)}}catch(pe){At(l,l.return,pe)}}function $A(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{RS(l,u)}catch(m){At(i,i.return,m)}}}function FA(i,l,u){u.props=Vl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){At(i,l,m)}}function ef(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){At(i,l,v)}}function Pi(i,l){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){At(i,l,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){At(i,l,v)}else u.current=null}function qA(i){var l=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){At(i,i.return,v)}}function hx(i,l,u){try{var m=i.stateNode;dV(m,i.type,u,l),m[Wn]=l}catch(v){At(i,i.return,v)}}function HA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Eo(i.type)||i.tag===4}function mx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||HA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Eo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function px(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Ga));else if(m!==4&&(m===27&&Eo(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(px(i,l,u),i=i.sibling;i!==null;)px(i,l,u),i=i.sibling}function Xm(i,l,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(m!==4&&(m===27&&Eo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Xm(i,l,u),i=i.sibling;i!==null;)Xm(i,l,u),i=i.sibling}function GA(i){var l=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);cr(l,m,u),l[En]=i,l[Wn]=u}catch(b){At(i,i.return,b)}}var ms=!1,On=!1,gx=!1,KA=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function q8(i,l){if(i=i.containerInfo,Lx=yp,i=iS(i),cv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var C=0,$=-1,G=-1,ae=0,pe=0,be=i,se=null;t:for(;;){for(var ue;be!==u||v!==0&&be.nodeType!==3||($=C+v),be!==b||m!==0&&be.nodeType!==3||(G=C+m),be.nodeType===3&&(C+=be.nodeValue.length),(ue=be.firstChild)!==null;)se=be,be=ue;for(;;){if(be===i)break t;if(se===u&&++ae===v&&($=C),se===b&&++pe===m&&(G=C),(ue=be.nextSibling)!==null)break;be=se,se=be.parentNode}be=ue}u=$===-1||G===-1?null:{start:$,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ux={focusedElem:i,selectionRange:u},yp=!1,Qn=l;Qn!==null;)if(l=Qn,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Qn=i;else for(;Qn!==null;){switch(l=Qn,b=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=l,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Pe=Vl(u.type,v);i=m.getSnapshotBeforeUpdate(Pe,b),m.__reactInternalSnapshotBeforeUpdate=i}catch($e){At(u,u.return,$e)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Bx(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Bx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Qn=i;break}Qn=l.return}}function YA(i,l,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:gs(i,u),m&4&&Zd(5,u);break;case 1:if(gs(i,u),m&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(C){At(u,u.return,C)}else{var v=Vl(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(v,l,i.__reactInternalSnapshotBeforeUpdate)}catch(C){At(u,u.return,C)}}m&64&&$A(u),m&512&&ef(u,u.return);break;case 3:if(gs(i,u),m&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{RS(i,l)}catch(C){At(u,u.return,C)}}break;case 27:l===null&&m&4&&GA(u);case 26:case 5:gs(i,u),l===null&&m&4&&qA(u),m&512&&ef(u,u.return);break;case 12:gs(i,u);break;case 31:gs(i,u),m&4&&QA(i,u);break;case 13:gs(i,u),m&4&&JA(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=Z8.bind(null,u),xV(i,u))));break;case 22:if(m=u.memoizedState!==null||ms,!m){l=l!==null&&l.memoizedState!==null||On,v=ms;var b=On;ms=m,(On=l)&&!b?ys(i,u,(u.subtreeFlags&8772)!==0):gs(i,u),ms=v,On=b}break;case 30:break;default:gs(i,u)}}function WA(i){var l=i.alternate;l!==null&&(i.alternate=null,WA(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Ac(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,Ur=!1;function ps(i,l,u){for(u=u.child;u!==null;)XA(i,l,u),u=u.sibling}function XA(i,l,u){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(kr,u)}catch{}switch(u.tag){case 26:On||Pi(u,l),ps(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:On||Pi(u,l);var m=Yt,v=Ur;Eo(u.type)&&(Yt=u.stateNode,Ur=!1),ps(i,l,u),uf(u.stateNode),Yt=m,Ur=v;break;case 5:On||Pi(u,l);case 6:if(m=Yt,v=Ur,Yt=null,ps(i,l,u),Yt=m,Ur=v,Yt!==null)if(Ur)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(u.stateNode)}catch(b){At(u,l,b)}else try{Yt.removeChild(u.stateNode)}catch(b){At(u,l,b)}break;case 18:Yt!==null&&(Ur?(i=Yt,$T(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),du(i)):$T(Yt,u.stateNode));break;case 4:m=Yt,v=Ur,Yt=u.stateNode.containerInfo,Ur=!0,ps(i,l,u),Yt=m,Ur=v;break;case 0:case 11:case 14:case 15:vo(2,u,l),On||vo(4,u,l),ps(i,l,u);break;case 1:On||(Pi(u,l),m=u.stateNode,typeof m.componentWillUnmount=="function"&&FA(u,l,m)),ps(i,l,u);break;case 21:ps(i,l,u);break;case 22:On=(m=On)||u.memoizedState!==null,ps(i,l,u),On=m;break;default:ps(i,l,u)}}function QA(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{du(i)}catch(u){At(l,l.return,u)}}}function JA(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{du(i)}catch(u){At(l,l.return,u)}}function H8(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new KA),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new KA),l;default:throw Error(r(435,i.tag))}}function Qm(i,l){var u=H8(i);l.forEach(function(m){if(!u.has(m)){u.add(m);var v=eV.bind(null,i,m);m.then(v,v)}})}function Vr(i,l){var u=l.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=i,C=l,$=C;e:for(;$!==null;){switch($.tag){case 27:if(Eo($.type)){Yt=$.stateNode,Ur=!1;break e}break;case 5:Yt=$.stateNode,Ur=!1;break e;case 3:case 4:Yt=$.stateNode.containerInfo,Ur=!0;break e}$=$.return}if(Yt===null)throw Error(r(160));XA(b,C,v),Yt=null,Ur=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)ZA(l,i),l=l.sibling}var Ja=null;function ZA(i,l){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vr(l,i),zr(i),m&4&&(vo(3,i,i.return),Zd(3,i),vo(5,i,i.return));break;case 1:Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),m&64&&ms&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Ja;if(Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[bi]||b[En]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),cr(b,m,u),b[En]=i,Sn(b),m=b;break e;case"link":var C=ZT("link","href",v).get(m+(u.href||""));if(C){for(var $=0;$<C.length;$++)if(b=C[$],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice($,1);break t}}b=v.createElement(m),cr(b,m,u),v.head.appendChild(b);break;case"meta":if(C=ZT("meta","content",v).get(m+(u.content||""))){for($=0;$<C.length;$++)if(b=C[$],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice($,1);break t}}b=v.createElement(m),cr(b,m,u),v.head.appendChild(b);break;default:throw Error(r(468,m))}b[En]=i,Sn(b),m=b}i.stateNode=m}else e2(v,i.type,i.stateNode);else i.stateNode=JT(v,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?e2(v,i.type,i.stateNode):JT(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&hx(i,i.memoizedProps,u.memoizedProps)}break;case 27:Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),u!==null&&m&4&&hx(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Vr(l,i),zr(i),m&512&&(On||u===null||Pi(u,u.return)),i.flags&32){v=i.stateNode;try{Lr(v,"")}catch(Pe){At(i,i.return,Pe)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,hx(i,v,u!==null?u.memoizedProps:v)),m&1024&&(gx=!0);break;case 6:if(Vr(l,i),zr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Pe){At(i,i.return,Pe)}}break;case 3:if(hp=null,v=Ja,Ja=dp(l.containerInfo),Vr(l,i),Ja=v,zr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{du(l.containerInfo)}catch(Pe){At(i,i.return,Pe)}gx&&(gx=!1,eT(i));break;case 4:m=Ja,Ja=dp(i.stateNode.containerInfo),Vr(l,i),zr(i),Ja=m;break;case 12:Vr(l,i),zr(i);break;case 31:Vr(l,i),zr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 13:Vr(l,i),zr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Zm=Yn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 22:v=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ae=ms,pe=On;if(ms=ae||v,On=pe||G,Vr(l,i),On=pe,ms=ae,zr(i),m&8192)e:for(l=i.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(u===null||G||ms||On||zl(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){G=u=l;try{if(b=G.stateNode,v)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{$=G.stateNode;var be=G.memoizedProps.style,se=be!=null&&be.hasOwnProperty("display")?be.display:null;$.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Pe){At(G,G.return,Pe)}}}else if(l.tag===6){if(u===null){G=l;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Pe){At(G,G.return,Pe)}}}else if(l.tag===18){if(u===null){G=l;try{var ue=G.stateNode;v?FT(ue,!0):FT(G.stateNode,!1)}catch(Pe){At(G,G.return,Pe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Qm(i,u))));break;case 19:Vr(l,i),zr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 30:break;case 21:break;default:Vr(l,i),zr(i)}}function zr(i){var l=i.flags;if(l&2){try{for(var u,m=i.return;m!==null;){if(HA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=mx(i);Xm(i,b,v);break;case 5:var C=u.stateNode;u.flags&32&&(Lr(C,""),u.flags&=-33);var $=mx(i);Xm(i,$,C);break;case 3:case 4:var G=u.stateNode.containerInfo,ae=mx(i);px(i,ae,G);break;default:throw Error(r(161))}}catch(pe){At(i,i.return,pe)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function eT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;eT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function gs(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)YA(i,l.alternate,l),l=l.sibling}function zl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:vo(4,l,l.return),zl(l);break;case 1:Pi(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&FA(l,l.return,u),zl(l);break;case 27:uf(l.stateNode);case 26:case 5:Pi(l,l.return),zl(l);break;case 22:l.memoizedState===null&&zl(l);break;case 30:zl(l);break;default:zl(l)}i=i.sibling}}function ys(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,v=i,b=l,C=b.flags;switch(b.tag){case 0:case 11:case 15:ys(v,b,u),Zd(4,b);break;case 1:if(ys(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ae){At(m,m.return,ae)}if(m=b,v=m.updateQueue,v!==null){var $=m.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)OS(G[v],$)}catch(ae){At(m,m.return,ae)}}u&&C&64&&$A(b),ef(b,b.return);break;case 27:GA(b);case 26:case 5:ys(v,b,u),u&&m===null&&C&4&&qA(b),ef(b,b.return);break;case 12:ys(v,b,u);break;case 31:ys(v,b,u),u&&C&4&&QA(v,b);break;case 13:ys(v,b,u),u&&C&4&&JA(v,b);break;case 22:b.memoizedState===null&&ys(v,b,u),ef(b,b.return);break;case 30:break;default:ys(v,b,u)}l=l.sibling}}function yx(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&zd(u))}function vx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&zd(i))}function Za(i,l,u,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)tT(i,l,u,m),l=l.sibling}function tT(i,l,u,m){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Za(i,l,u,m),v&2048&&Zd(9,l);break;case 1:Za(i,l,u,m);break;case 3:Za(i,l,u,m),v&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&zd(i)));break;case 12:if(v&2048){Za(i,l,u,m),i=l.stateNode;try{var b=l.memoizedProps,C=b.id,$=b.onPostCommit;typeof $=="function"&&$(C,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){At(l,l.return,G)}}else Za(i,l,u,m);break;case 31:Za(i,l,u,m);break;case 13:Za(i,l,u,m);break;case 23:break;case 22:b=l.stateNode,C=l.alternate,l.memoizedState!==null?b._visibility&2?Za(i,l,u,m):tf(i,l):b._visibility&2?Za(i,l,u,m):(b._visibility|=2,eu(i,l,u,m,(l.subtreeFlags&10256)!==0||!1)),v&2048&&yx(C,l);break;case 24:Za(i,l,u,m),v&2048&&vx(l.alternate,l);break;default:Za(i,l,u,m)}}function eu(i,l,u,m,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=i,C=l,$=u,G=m,ae=C.flags;switch(C.tag){case 0:case 11:case 15:eu(b,C,$,G,v),Zd(8,C);break;case 23:break;case 22:var pe=C.stateNode;C.memoizedState!==null?pe._visibility&2?eu(b,C,$,G,v):tf(b,C):(pe._visibility|=2,eu(b,C,$,G,v)),v&&ae&2048&&yx(C.alternate,C);break;case 24:eu(b,C,$,G,v),v&&ae&2048&&vx(C.alternate,C);break;default:eu(b,C,$,G,v)}l=l.sibling}}function tf(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,m=l,v=m.flags;switch(m.tag){case 22:tf(u,m),v&2048&&yx(m.alternate,m);break;case 24:tf(u,m),v&2048&&vx(m.alternate,m);break;default:tf(u,m)}l=l.sibling}}var nf=8192;function tu(i,l,u){if(i.subtreeFlags&nf)for(i=i.child;i!==null;)nT(i,l,u),i=i.sibling}function nT(i,l,u){switch(i.tag){case 26:tu(i,l,u),i.flags&nf&&i.memoizedState!==null&&OV(u,Ja,i.memoizedState,i.memoizedProps);break;case 5:tu(i,l,u);break;case 3:case 4:var m=Ja;Ja=dp(i.stateNode.containerInfo),tu(i,l,u),Ja=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=nf,nf=16777216,tu(i,l,u),nf=m):tu(i,l,u));break;default:tu(i,l,u)}}function rT(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function rf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Qn=m,iT(m,i)}rT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aT(i),i=i.sibling}function aT(i){switch(i.tag){case 0:case 11:case 15:rf(i),i.flags&2048&&vo(9,i,i.return);break;case 3:rf(i);break;case 12:rf(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Jm(i)):rf(i);break;default:rf(i)}}function Jm(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var m=l[u];Qn=m,iT(m,i)}rT(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:vo(8,l,l.return),Jm(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Jm(l));break;default:Jm(l)}i=i.sibling}}function iT(i,l){for(;Qn!==null;){var u=Qn;switch(u.tag){case 0:case 11:case 15:vo(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:zd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Qn=m;else e:for(u=i;Qn!==null;){m=Qn;var v=m.sibling,b=m.return;if(WA(m),m===u){Qn=null;break e}if(v!==null){v.return=b,Qn=v;break e}Qn=b}}}var G8={getCacheForType:function(i){var l=or(Tn),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return or(Tn).controller.signal}},K8=typeof WeakMap=="function"?WeakMap:Map,wt=0,Lt=null,it=null,ot=0,St=0,sa=null,xo=!1,nu=!1,xx=!1,vs=0,fn=0,bo=0,Bl=0,bx=0,oa=0,ru=0,af=null,Br=null,wx=!1,Zm=0,sT=0,ep=1/0,tp=null,wo=null,Un=0,_o=null,au=null,xs=0,_x=0,Nx=null,oT=null,sf=0,jx=null;function la(){return(wt&2)!==0&&ot!==0?ot&-ot:W.T!==null?Ix():nm()}function lT(){if(oa===0)if((ot&536870912)===0||ht){var i=ml;ml<<=1,(ml&3932160)===0&&(ml=262144),oa=i}else oa=536870912;return i=aa.current,i!==null&&(i.flags|=32),oa}function $r(i,l,u){(i===Lt&&(St===2||St===9)||i.cancelPendingCommit!==null)&&(iu(i,0),No(i,ot,oa,!1)),pl(i,u),((wt&2)===0||i!==Lt)&&(i===Lt&&((wt&2)===0&&(Bl|=u),fn===4&&No(i,ot,oa,!1)),ki(i))}function cT(i,l,u){if((wt&6)!==0)throw Error(r(327));var m=!u&&(l&127)===0&&(l&i.expiredLanes)===0||Fa(i,l),v=m?X8(i,l):Sx(i,l,!0),b=m;do{if(v===0){nu&&!m&&No(i,l,0,!1);break}else{if(u=i.current.alternate,b&&!Y8(u)){v=Sx(i,l,!1),b=!1;continue}if(v===2){if(b=l,i.errorRecoveryDisabledLanes&b)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var $=i;v=af;var G=$.current.memoizedState.isDehydrated;if(G&&(iu($,C).flags|=256),C=Sx($,C,!1),C!==2){if(xx&&!G){$.errorRecoveryDisabledLanes|=b,Bl|=b,v=4;break e}b=Br,Br=v,b!==null&&(Br===null?Br=b:Br.push.apply(Br,b))}v=C}if(b=!1,v!==2)continue}}if(v===1){iu(i,0),No(i,l,0,!0);break}e:{switch(m=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:No(m,l,oa,!xo);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Zm+300-Yn(),10<v)){if(No(m,l,oa,!xo),yi(m,0,!0)!==0)break e;xs=l,m.timeoutHandle=zT(uT.bind(null,m,u,Br,tp,wx,l,oa,Bl,ru,xo,b,"Throttled",-0,0),v);break e}uT(m,u,Br,tp,wx,l,oa,Bl,ru,xo,b,null,-0,0)}}break}while(!0);ki(i)}function uT(i,l,u,m,v,b,C,$,G,ae,pe,be,se,ue){if(i.timeoutHandle=-1,be=l.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},nT(l,b,be);var Pe=(b&62914560)===b?Zm-Yn():(b&4194048)===b?sT-Yn():0;if(Pe=RV(be,Pe),Pe!==null){xs=b,i.cancelPendingCommit=Pe(vT.bind(null,i,l,b,u,m,v,C,$,G,pe,be,null,se,ue)),No(i,b,C,!ae);return}}vT(i,l,b,u,m,v,C,$,G)}function Y8(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!na(b(),v))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function No(i,l,u,m){l&=~bx,l&=~Bl,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var v=l;0<v;){var b=31-mn(v),C=1<<b;m[b]=-1,v&=~C}u!==0&&gl(i,u,l)}function np(){return(wt&6)===0?(of(0),!1):!0}function Ex(){if(it!==null){if(St===0)var i=it.return;else i=it,ls=Rl=null,Bv(i),Wc=null,$d=0,i=it;for(;i!==null;)BA(i.alternate,i),i=i.return;it=null}}function iu(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,mV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),xs=0,Ex(),Lt=i,it=u=ss(i.current,null),ot=l,St=0,sa=null,xo=!1,nu=Fa(i,l),xx=!1,ru=oa=bx=Bl=bo=fn=0,Br=af=null,wx=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var v=31-mn(m),b=1<<v;l|=i[v],m&=~b}return vs=l,Nm(),u}function dT(i,l){rt=null,W.H=Xd,l===Yc||l===Om?(l=AS(),St=3):l===Cv?(l=AS(),St=4):St=l===rx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,sa=l,it===null&&(fn=1,Hm(i,_a(l,i.current)))}function fT(){var i=aa.current;return i===null?!0:(ot&4194048)===ot?Sa===null:(ot&62914560)===ot||(ot&536870912)!==0?i===Sa:!1}function hT(){var i=W.H;return W.H=Xd,i===null?Xd:i}function mT(){var i=W.A;return W.A=G8,i}function rp(){fn=4,xo||(ot&4194048)!==ot&&aa.current!==null||(nu=!0),(bo&134217727)===0&&(Bl&134217727)===0||Lt===null||No(Lt,ot,oa,!1)}function Sx(i,l,u){var m=wt;wt|=2;var v=hT(),b=mT();(Lt!==i||ot!==l)&&(tp=null,iu(i,l)),l=!1;var C=fn;e:do try{if(St!==0&&it!==null){var $=it,G=sa;switch(St){case 8:Ex(),C=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(l=!0);var ae=St;if(St=0,sa=null,su(i,$,G,ae),u&&nu){C=0;break e}break;default:ae=St,St=0,sa=null,su(i,$,G,ae)}}W8(),C=fn;break}catch(pe){dT(i,pe)}while(!0);return l&&i.shellSuspendCounter++,ls=Rl=null,wt=m,W.H=v,W.A=b,it===null&&(Lt=null,ot=0,Nm()),C}function W8(){for(;it!==null;)pT(it)}function X8(i,l){var u=wt;wt|=2;var m=hT(),v=mT();Lt!==i||ot!==l?(tp=null,ep=Yn()+500,iu(i,l)):nu=Fa(i,l);e:do try{if(St!==0&&it!==null){l=it;var b=sa;t:switch(St){case 1:St=0,sa=null,su(i,l,b,1);break;case 2:case 9:if(ES(b)){St=0,sa=null,gT(l);break}l=function(){St!==2&&St!==9||Lt!==i||(St=7),ki(i)},b.then(l,l);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:ES(b)?(St=0,sa=null,gT(l)):(St=0,sa=null,su(i,l,b,7));break;case 5:var C=null;switch(it.tag){case 26:C=it.memoizedState;case 5:case 27:var $=it;if(C?t2(C):$.stateNode.complete){St=0,sa=null;var G=$.sibling;if(G!==null)it=G;else{var ae=$.return;ae!==null?(it=ae,ap(ae)):it=null}break t}}St=0,sa=null,su(i,l,b,5);break;case 6:St=0,sa=null,su(i,l,b,6);break;case 8:Ex(),fn=6;break e;default:throw Error(r(462))}}Q8();break}catch(pe){dT(i,pe)}while(!0);return ls=Rl=null,W.H=m,W.A=v,wt=u,it!==null?0:(Lt=null,ot=0,Nm(),fn)}function Q8(){for(;it!==null&&!Ba();)pT(it)}function pT(i){var l=VA(i.alternate,i,vs);i.memoizedProps=i.pendingProps,l===null?ap(i):it=l}function gT(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=DA(u,l,l.pendingProps,l.type,void 0,ot);break;case 11:l=DA(u,l,l.pendingProps,l.type.render,l.ref,ot);break;case 5:Bv(l);default:BA(u,l),l=it=mS(l,vs),l=VA(u,l,vs)}i.memoizedProps=i.pendingProps,l===null?ap(i):it=l}function su(i,l,u,m){ls=Rl=null,Bv(l),Wc=null,$d=0;var v=l.return;try{if(V8(i,v,l,u,ot)){fn=1,Hm(i,_a(u,i.current)),it=null;return}}catch(b){if(v!==null)throw it=v,b;fn=1,Hm(i,_a(u,i.current)),it=null;return}l.flags&32768?(ht||m===1?i=!0:nu||(ot&536870912)!==0?i=!1:(xo=i=!0,(m===2||m===9||m===3||m===6)&&(m=aa.current,m!==null&&m.tag===13&&(m.flags|=16384))),yT(l,i)):ap(l)}function ap(i){var l=i;do{if((l.flags&32768)!==0){yT(l,xo);return}i=l.return;var u=$8(l.alternate,l,vs);if(u!==null){it=u;return}if(l=l.sibling,l!==null){it=l;return}it=l=i}while(l!==null);fn===0&&(fn=5)}function yT(i,l){do{var u=F8(i.alternate,i);if(u!==null){u.flags&=32767,it=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){it=i;return}it=i=u}while(i!==null);fn=6,it=null}function vT(i,l,u,m,v,b,C,$,G){i.cancelPendingCommit=null;do ip();while(Un!==0);if((wt&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=mv,iv(i,u,b,C,$,G),i===Lt&&(it=Lt=null,ot=0),au=l,_o=i,xs=u,_x=b,Nx=v,oT=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,tV(on,function(){return NT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=W.T,W.T=null,v=oe.p,oe.p=2,C=wt,wt|=4;try{q8(i,l,u)}finally{wt=C,oe.p=v,W.T=m}}Un=1,xT(),bT(),wT()}}function xT(){if(Un===1){Un=0;var i=_o,l=au,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var m=oe.p;oe.p=2;var v=wt;wt|=4;try{ZA(l,i);var b=Ux,C=iS(i.containerInfo),$=b.focusedElem,G=b.selectionRange;if(C!==$&&$&&$.ownerDocument&&aS($.ownerDocument.documentElement,$)){if(G!==null&&cv($)){var ae=G.start,pe=G.end;if(pe===void 0&&(pe=ae),"selectionStart"in $)$.selectionStart=ae,$.selectionEnd=Math.min(pe,$.value.length);else{var be=$.ownerDocument||document,se=be&&be.defaultView||window;if(se.getSelection){var ue=se.getSelection(),Pe=$.textContent.length,$e=Math.min(G.start,Pe),Rt=G.end===void 0?$e:Math.min(G.end,Pe);!ue.extend&&$e>Rt&&(C=Rt,Rt=$e,$e=C);var ee=rS($,$e),Q=rS($,Rt);if(ee&&Q&&(ue.rangeCount!==1||ue.anchorNode!==ee.node||ue.anchorOffset!==ee.offset||ue.focusNode!==Q.node||ue.focusOffset!==Q.offset)){var re=be.createRange();re.setStart(ee.node,ee.offset),ue.removeAllRanges(),$e>Rt?(ue.addRange(re),ue.extend(Q.node,Q.offset)):(re.setEnd(Q.node,Q.offset),ue.addRange(re))}}}}for(be=[],ue=$;ue=ue.parentNode;)ue.nodeType===1&&be.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<be.length;$++){var ve=be[$];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}yp=!!Lx,Ux=Lx=null}finally{wt=v,oe.p=m,W.T=u}}i.current=l,Un=2}}function bT(){if(Un===2){Un=0;var i=_o,l=au,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var m=oe.p;oe.p=2;var v=wt;wt|=4;try{YA(i,l.alternate,l)}finally{wt=v,oe.p=m,W.T=u}}Un=3}}function wT(){if(Un===4||Un===3){Un=0,$a();var i=_o,l=au,u=xs,m=oT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Un=5:(Un=0,au=_o=null,_T(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(wo=null),ns(u),l=l.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(kr,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=W.T,v=oe.p,oe.p=2,W.T=null;try{for(var b=i.onRecoverableError,C=0;C<m.length;C++){var $=m[C];b($.value,{componentStack:$.stack})}}finally{W.T=l,oe.p=v}}(xs&3)!==0&&ip(),ki(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===jx?sf++:(sf=0,jx=i):sf=0,of(0)}}function _T(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,zd(l)))}function ip(){return xT(),bT(),wT(),NT()}function NT(){if(Un!==5)return!1;var i=_o,l=_x;_x=0;var u=ns(xs),m=W.T,v=oe.p;try{oe.p=32>u?32:u,W.T=null,u=Nx,Nx=null;var b=_o,C=xs;if(Un=0,au=_o=null,xs=0,(wt&6)!==0)throw Error(r(331));var $=wt;if(wt|=4,aT(b.current),tT(b,b.current,C,u),wt=$,of(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(kr,b)}catch{}return!0}finally{oe.p=v,W.T=m,_T(i,l)}}function jT(i,l,u){l=_a(u,l),l=nx(i.stateNode,l,2),i=po(i,l,2),i!==null&&(pl(i,2),ki(i))}function At(i,l,u){if(i.tag===3)jT(i,i,u);else for(;l!==null;){if(l.tag===3){jT(l,i,u);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wo===null||!wo.has(m))){i=_a(u,i),u=EA(2),m=po(l,u,2),m!==null&&(SA(u,m,l,i),pl(m,2),ki(m));break}}l=l.return}}function Ax(i,l,u){var m=i.pingCache;if(m===null){m=i.pingCache=new K8;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(u)||(xx=!0,v.add(u),i=J8.bind(null,i,l,u),l.then(i,i))}function J8(i,l,u){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Lt===i&&(ot&u)===u&&(fn===4||fn===3&&(ot&62914560)===ot&&300>Yn()-Zm?(wt&2)===0&&iu(i,0):bx|=u,ru===ot&&(ru=0)),ki(i)}function ET(i,l){l===0&&(l=tm()),i=Cl(i,l),i!==null&&(pl(i,l),ki(i))}function Z8(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),ET(i,u)}function eV(i,l){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),ET(i,u)}function tV(i,l){return Ge(i,l)}var sp=null,ou=null,Tx=!1,op=!1,Cx=!1,jo=0;function ki(i){i!==ou&&i.next===null&&(ou===null?sp=ou=i:ou=ou.next=i),op=!0,Tx||(Tx=!0,rV())}function of(i,l){if(!Cx&&op){Cx=!0;do for(var u=!1,m=sp;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var C=m.suspendedLanes,$=m.pingedLanes;b=(1<<31-mn(42|i)+1)-1,b&=v&~(C&~$),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,CT(m,b))}else b=ot,b=yi(m,m===Lt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Fa(m,b)||(u=!0,CT(m,b));m=m.next}while(u);Cx=!1}}function nV(){ST()}function ST(){op=Tx=!1;var i=0;jo!==0&&hV()&&(i=jo);for(var l=Yn(),u=null,m=sp;m!==null;){var v=m.next,b=AT(m,l);b===0?(m.next=null,u===null?sp=v:u.next=v,v===null&&(ou=u)):(u=m,(i!==0||(b&3)!==0)&&(op=!0)),m=v}Un!==0&&Un!==5||of(i),jo!==0&&(jo=0)}function AT(i,l){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var C=31-mn(b),$=1<<C,G=v[C];G===-1?(($&u)===0||($&m)!==0)&&(v[C]=av($,l)):G<=l&&(i.expiredLanes|=$),b&=~$}if(l=Lt,u=ot,u=yi(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===l&&(St===2||St===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Nt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Fa(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(m!==null&&Nt(m),ns(u)){case 2:case 8:u=sn;break;case 32:u=on;break;case 268435456:u=dl;break;default:u=on}return m=TT.bind(null,i),u=Ge(u,m),i.callbackPriority=l,i.callbackNode=u,l}return m!==null&&m!==null&&Nt(m),i.callbackPriority=2,i.callbackNode=null,2}function TT(i,l){if(Un!==0&&Un!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ip()&&i.callbackNode!==u)return null;var m=ot;return m=yi(i,i===Lt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(cT(i,m,l),AT(i,Yn()),i.callbackNode!=null&&i.callbackNode===u?TT.bind(null,i):null)}function CT(i,l){if(ip())return null;cT(i,l,!0)}function rV(){pV(function(){(wt&6)!==0?Ge(jt,nV):ST()})}function Ix(){if(jo===0){var i=Gc;i===0&&(i=pi,pi<<=1,(pi&261888)===0&&(pi=256)),jo=i}return jo}function IT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oc(""+i)}function OT(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function aV(i,l,u,m,v){if(l==="submit"&&u&&u.stateNode===v){var b=IT((v[Wn]||null).action),C=m.submitter;C&&(l=(l=C[Wn]||null)?IT(l.formAction):C.getAttribute("formAction"),l!==null&&(b=l,C=null));var $=new Ti("action","action",null,m,v);i.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(jo!==0){var G=C?OT(v,C):new FormData(v);Xv(u,{pending:!0,data:G,method:v.method,action:b},null,G)}}else typeof b=="function"&&($.preventDefault(),G=C?OT(v,C):new FormData(v),Xv(u,{pending:!0,data:G,method:v.method,action:b},b,G))},currentTarget:v}]})}}for(var Ox=0;Ox<hv.length;Ox++){var Rx=hv[Ox],iV=Rx.toLowerCase(),sV=Rx[0].toUpperCase()+Rx.slice(1);Qa(iV,"on"+sV)}Qa(lS,"onAnimationEnd"),Qa(cS,"onAnimationIteration"),Qa(uS,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(_8,"onTransitionRun"),Qa(N8,"onTransitionStart"),Qa(j8,"onTransitionCancel"),Qa(dS,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lf));function RT(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var C=m.length-1;0<=C;C--){var $=m[C],G=$.instance,ae=$.currentTarget;if($=$.listener,G!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=ae;try{b(v)}catch(pe){_m(pe)}v.currentTarget=null,b=G}else for(C=0;C<m.length;C++){if($=m[C],G=$.instance,ae=$.currentTarget,$=$.listener,G!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=ae;try{b(v)}catch(pe){_m(pe)}v.currentTarget=null,b=G}}}}function st(i,l){var u=l[Sc];u===void 0&&(u=l[Sc]=new Set);var m=i+"__bubble";u.has(m)||(DT(l,i,2,!1),u.add(m))}function Dx(i,l,u){var m=0;l&&(m|=4),DT(u,i,m,l)}var lp="_reactListening"+Math.random().toString(36).slice(2);function Px(i){if(!i[lp]){i[lp]=!0,xd.forEach(function(u){u!=="selectionchange"&&(oV.has(u)||Dx(u,!1,i),Dx(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[lp]||(l[lp]=!0,Dx("selectionchange",!1,l))}}function DT(i,l,u,m){switch(l2(l)){case 2:var v=kV;break;case 8:v=MV;break;default:v=Wx}u=v.bind(null,l,u,i),v=void 0,!wl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(l,u,{capture:!0,passive:v}):i.addEventListener(l,u,!0):v!==void 0?i.addEventListener(l,u,{passive:v}):i.addEventListener(l,u,!1)}function kx(i,l,u,m,v){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var $=m.stateNode.containerInfo;if($===v)break;if(C===4)for(C=m.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;$!==null;){if(C=wi($),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){m=b=C;continue e}$=$.parentNode}}m=m.return}ao(function(){var ae=b,pe=va(u),be=[];e:{var se=fS.get(i);if(se!==void 0){var ue=Ti,Pe=i;switch(i){case"keypress":if(Nl(u)===0)break e;case"keydown":case"keyup":ue=xm;break;case"focusin":Pe="focus",ue=El;break;case"focusout":Pe="blur",ue=El;break;case"beforeblur":case"afterblur":ue=El;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=S;break;case lS:case cS:case uS:ue=fm;break;case dS:ue=q;break;case"scroll":case"scrollend":ue=Od;break;case"wheel":ue=ce;break;case"copy":case"cut":case"paste":ue=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=is;break;case"toggle":case"beforetoggle":ue=nt}var $e=(l&4)!==0,Rt=!$e&&(i==="scroll"||i==="scrollend"),ee=$e?se!==null?se+"Capture":null:se;$e=[];for(var Q=ae,re;Q!==null;){var ve=Q;if(re=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||re===null||ee===null||(ve=Ka(Q,ee),ve!=null&&$e.push(cf(Q,ve,re))),Rt)break;Q=Q.return}0<$e.length&&(se=new ue(se,Pe,null,u,pe),be.push({event:se,listeners:$e}))}}if((l&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",se&&u!==Td&&(Pe=u.relatedTarget||u.fromElement)&&(wi(Pe)||Pe[xi]))break e;if((ue||se)&&(se=pe.window===pe?pe:(se=pe.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(Pe=u.relatedTarget||u.toElement,ue=ae,Pe=Pe?wi(Pe):null,Pe!==null&&(Rt=s(Pe),$e=Pe.tag,Pe!==Rt||$e!==5&&$e!==27&&$e!==6)&&(Pe=null)):(ue=null,Pe=ae),ue!==Pe)){if($e=Rd,ve="onMouseLeave",ee="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&($e=is,ve="onPointerLeave",ee="onPointerEnter",Q="pointer"),Rt=ue==null?se:ea(ue),re=Pe==null?se:ea(Pe),se=new $e(ve,Q+"leave",ue,u,pe),se.target=Rt,se.relatedTarget=re,ve=null,wi(pe)===ae&&($e=new $e(ee,Q+"enter",Pe,u,pe),$e.target=re,$e.relatedTarget=Rt,ve=$e),Rt=ve,ue&&Pe)t:{for($e=lV,ee=ue,Q=Pe,re=0,ve=ee;ve;ve=$e(ve))re++;ve=0;for(var Ve=Q;Ve;Ve=$e(Ve))ve++;for(;0<re-ve;)ee=$e(ee),re--;for(;0<ve-re;)Q=$e(Q),ve--;for(;re--;){if(ee===Q||Q!==null&&ee===Q.alternate){$e=ee;break t}ee=$e(ee),Q=$e(Q)}$e=null}else $e=null;ue!==null&&PT(be,se,ue,$e,!1),Pe!==null&&Rt!==null&&PT(be,Rt,Pe,$e,!0)}}e:{if(se=ae?ea(ae):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var gt=QE;else if(WE(se))if(JE)gt=x8;else{gt=y8;var ke=g8}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&Ic(ae.elementType)&&(gt=QE):gt=v8;if(gt&&(gt=gt(i,ae))){XE(be,gt,u,pe);break e}ke&&ke(i,se,ae),i==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&Ed(se,"number",se.value)}switch(ke=ae?ea(ae):window,i){case"focusin":(WE(ke)||ke.contentEditable==="true")&&(Uc=ke,uv=ae,Ld=null);break;case"focusout":Ld=uv=Uc=null;break;case"mousedown":dv=!0;break;case"contextmenu":case"mouseup":case"dragend":dv=!1,sS(be,u,pe);break;case"selectionchange":if(w8)break;case"keydown":case"keyup":sS(be,u,pe)}var at;if(bt)e:{switch(i){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Lc?Sl(i,u)&&(lt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(lt="onCompositionStart");lt&&(Oi&&u.locale!=="ko"&&(Lc||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Lc&&(at=Id()):(Ai=pe,Cd="value"in Ai?Ai.value:Ai.textContent,Lc=!0)),ke=cp(ae,lt),0<ke.length&&(lt=new Ii(lt,i,null,u,pe),be.push({event:lt,listeners:ke}),at?lt.data=at:(at=Mc(u),at!==null&&(lt.data=at)))),(at=ba?f8(i,u):h8(i,u))&&(lt=cp(ae,"onBeforeInput"),0<lt.length&&(ke=new Ii("onBeforeInput","beforeinput",null,u,pe),be.push({event:ke,listeners:lt}),ke.data=at)),aV(be,i,ae,u,pe)}RT(be,l)})}function cf(i,l,u){return{instance:i,listener:l,currentTarget:u}}function cp(i,l){for(var u=l+"Capture",m=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ka(i,u),v!=null&&m.unshift(cf(i,v,b)),v=Ka(i,l),v!=null&&m.push(cf(i,v,b))),i.tag===3)return m;i=i.return}return[]}function lV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function PT(i,l,u,m,v){for(var b=l._reactName,C=[];u!==null&&u!==m;){var $=u,G=$.alternate,ae=$.stateNode;if($=$.tag,G!==null&&G===m)break;$!==5&&$!==26&&$!==27||ae===null||(G=ae,v?(ae=Ka(u,b),ae!=null&&C.unshift(cf(u,ae,G))):v||(ae=Ka(u,b),ae!=null&&C.push(cf(u,ae,G)))),u=u.return}C.length!==0&&i.push({event:l,listeners:C})}var cV=/\r\n?/g,uV=/\u0000|\uFFFD/g;function kT(i){return(typeof i=="string"?i:""+i).replace(cV,`
`).replace(uV,"")}function MT(i,l){return l=kT(l),kT(i)===l}function Ot(i,l,u,m,v,b){switch(u){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Lr(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Lr(i,""+m);break;case"className":ta(i,"class",m);break;case"tabIndex":ta(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ta(i,u,m);break;case"style":Ad(i,m,b);break;case"data":if(l!=="object"){ta(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Oc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(l!=="input"&&Ot(i,l,"name",v.name,v,null),Ot(i,l,"formEncType",v.formEncType,v,null),Ot(i,l,"formMethod",v.formMethod,v,null),Ot(i,l,"formTarget",v.formTarget,v,null)):(Ot(i,l,"encType",v.encType,v,null),Ot(i,l,"method",v.method,v,null),Ot(i,l,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Oc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=Ga);break;case"onScroll":m!=null&&st("scroll",i);break;case"onScrollEnd":m!=null&&st("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Oc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":st("beforetoggle",i),st("toggle",i),Tc(i,"popover",m);break;case"xlinkActuate":An(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":An(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":An(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":An(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":An(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":An(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":An(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":An(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":An(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=cm.get(u)||u,Tc(i,u,m))}}function Mx(i,l,u,m,v,b){switch(u){case"style":Ad(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Lr(i,m):(typeof m=="number"||typeof m=="bigint")&&Lr(i,""+m);break;case"onScroll":m!=null&&st("scroll",i);break;case"onScrollEnd":m!=null&&st("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),l=u.slice(2,v?u.length-7:void 0),b=i[Wn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(l,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Tc(i,u,m)}}}function cr(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",i),st("load",i);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ot(i,l,b,C,u,null)}}v&&Ot(i,l,"srcSet",u.srcSet,u,null),m&&Ot(i,l,"src",u.src,u,null);return;case"input":st("invalid",i);var $=b=C=v=null,G=null,ae=null;for(m in u)if(u.hasOwnProperty(m)){var pe=u[m];if(pe!=null)switch(m){case"name":v=pe;break;case"type":C=pe;break;case"checked":G=pe;break;case"defaultChecked":ae=pe;break;case"value":b=pe;break;case"defaultValue":$=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:Ot(i,l,m,pe,u,null)}}sm(i,b,$,G,ae,C,v,!1);return;case"select":st("invalid",i),m=C=b=null;for(v in u)if(u.hasOwnProperty(v)&&($=u[v],$!=null))switch(v){case"value":b=$;break;case"defaultValue":C=$;break;case"multiple":m=$;default:Ot(i,l,v,$,u,null)}l=b,u=C,i.multiple=!!m,l!=null?eo(i,!!m,l,!1):u!=null&&eo(i,!!m,u,!0);return;case"textarea":st("invalid",i),b=v=m=null;for(C in u)if(u.hasOwnProperty(C)&&($=u[C],$!=null))switch(C){case"value":m=$;break;case"defaultValue":v=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Ot(i,l,C,$,u,null)}to(i,m,v,b);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ot(i,l,G,m,u,null)}return;case"dialog":st("beforetoggle",i),st("toggle",i),st("cancel",i),st("close",i);break;case"iframe":case"object":st("load",i);break;case"video":case"audio":for(m=0;m<lf.length;m++)st(lf[m],i);break;case"image":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"embed":case"source":case"link":st("error",i),st("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(m=u[ae],m!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ot(i,l,ae,m,u,null)}return;default:if(Ic(l)){for(pe in u)u.hasOwnProperty(pe)&&(m=u[pe],m!==void 0&&Mx(i,l,pe,m,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(m=u[$],m!=null&&Ot(i,l,$,m,u,null))}function dV(i,l,u,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,C=null,$=null,G=null,ae=null,pe=null;for(ue in u){var be=u[ue];if(u.hasOwnProperty(ue)&&be!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":G=be;default:m.hasOwnProperty(ue)||Ot(i,l,ue,null,m,be)}}for(var se in m){var ue=m[se];if(be=u[se],m.hasOwnProperty(se)&&(ue!=null||be!=null))switch(se){case"type":b=ue;break;case"name":v=ue;break;case"checked":ae=ue;break;case"defaultChecked":pe=ue;break;case"value":C=ue;break;case"defaultValue":$=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:ue!==be&&Ot(i,l,se,ue,m,be)}}Cc(i,C,$,G,ae,pe,b,v);return;case"select":ue=C=$=se=null;for(b in u)if(G=u[b],u.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":ue=G;default:m.hasOwnProperty(b)||Ot(i,l,b,null,m,G)}for(v in m)if(b=m[v],G=u[v],m.hasOwnProperty(v)&&(b!=null||G!=null))switch(v){case"value":se=b;break;case"defaultValue":$=b;break;case"multiple":C=b;default:b!==G&&Ot(i,l,v,b,m,G)}l=$,u=C,m=ue,se!=null?eo(i,!!u,se,!1):!!m!=!!u&&(l!=null?eo(i,!!u,l,!0):eo(i,!!u,u?[]:"",!1));return;case"textarea":ue=se=null;for($ in u)if(v=u[$],u.hasOwnProperty($)&&v!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Ot(i,l,$,null,m,v)}for(C in m)if(v=m[C],b=u[C],m.hasOwnProperty(C)&&(v!=null||b!=null))switch(C){case"value":se=v;break;case"defaultValue":ue=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Ot(i,l,C,v,m,b)}om(i,se,ue);return;case"option":for(var Pe in u)if(se=u[Pe],u.hasOwnProperty(Pe)&&se!=null&&!m.hasOwnProperty(Pe))switch(Pe){case"selected":i.selected=!1;break;default:Ot(i,l,Pe,null,m,se)}for(G in m)if(se=m[G],ue=u[G],m.hasOwnProperty(G)&&se!==ue&&(se!=null||ue!=null))switch(G){case"selected":i.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Ot(i,l,G,se,m,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in u)se=u[$e],u.hasOwnProperty($e)&&se!=null&&!m.hasOwnProperty($e)&&Ot(i,l,$e,null,m,se);for(ae in m)if(se=m[ae],ue=u[ae],m.hasOwnProperty(ae)&&se!==ue&&(se!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,l));break;default:Ot(i,l,ae,se,m,ue)}return;default:if(Ic(l)){for(var Rt in u)se=u[Rt],u.hasOwnProperty(Rt)&&se!==void 0&&!m.hasOwnProperty(Rt)&&Mx(i,l,Rt,void 0,m,se);for(pe in m)se=m[pe],ue=u[pe],!m.hasOwnProperty(pe)||se===ue||se===void 0&&ue===void 0||Mx(i,l,pe,se,m,ue);return}}for(var ee in u)se=u[ee],u.hasOwnProperty(ee)&&se!=null&&!m.hasOwnProperty(ee)&&Ot(i,l,ee,null,m,se);for(be in m)se=m[be],ue=u[be],!m.hasOwnProperty(be)||se===ue||se==null&&ue==null||Ot(i,l,be,se,m,ue)}function LT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,C=v.initiatorType,$=v.duration;if(b&&$&&LT(C)){for(C=0,$=v.responseEnd,m+=1;m<u.length;m++){var G=u[m],ae=G.startTime;if(ae>$)break;var pe=G.transferSize,be=G.initiatorType;pe&&LT(be)&&(G=G.responseEnd,C+=pe*(G<$?1:($-ae)/(G-ae)))}if(--m,l+=8*(b+C)/(v.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lx=null,Ux=null;function up(i){return i.nodeType===9?i:i.ownerDocument}function UT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VT(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Vx(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zx=null;function hV(){var i=window.event;return i&&i.type==="popstate"?i===zx?!1:(zx=i,!0):(zx=null,!1)}var zT=typeof setTimeout=="function"?setTimeout:void 0,mV=typeof clearTimeout=="function"?clearTimeout:void 0,BT=typeof Promise=="function"?Promise:void 0,pV=typeof queueMicrotask=="function"?queueMicrotask:typeof BT<"u"?function(i){return BT.resolve(null).then(i).catch(gV)}:zT;function gV(i){setTimeout(function(){throw i})}function Eo(i){return i==="head"}function $T(i,l){var u=l,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),du(l);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")uf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,uf(u);for(var b=u.firstChild;b;){var C=b.nextSibling,$=b.nodeName;b[bi]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=C}}else u==="body"&&uf(i.ownerDocument.body);u=v}while(u);du(l)}function FT(i,l){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Bx(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Bx(u),Ac(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function yV(i,l,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[bi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Aa(i.nextSibling),i===null)break}return null}function vV(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Aa(i.nextSibling),i===null))return null;return i}function qT(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Aa(i.nextSibling),i===null))return null;return i}function $x(i){return i.data==="$?"||i.data==="$~"}function Fx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function xV(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var m=function(){l(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Aa(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var qx=null;function HT(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return Aa(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function GT(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function KT(i,l,u){switch(l=up(u),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uf(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Ac(i)}var Ta=new Map,YT=new Set;function dp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=oe.d;oe.d={f:bV,r:wV,D:_V,C:NV,L:jV,m:EV,X:AV,S:SV,M:TV};function bV(){var i=bs.f(),l=np();return i||l}function wV(i){var l=ya(i);l!==null&&l.tag===5&&l.type==="form"?dA(l):bs.r(i)}var lu=typeof document>"u"?null:document;function WT(i,l,u){var m=lu;if(m&&typeof l=="string"&&l){var v=Mr(l);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),YT.has(v)||(YT.add(v),i={rel:i,crossOrigin:u,href:l},m.querySelector(v)===null&&(l=m.createElement("link"),cr(l,"link",i),Sn(l),m.head.appendChild(l)))}}function _V(i){bs.D(i),WT("dns-prefetch",i,null)}function NV(i,l){bs.C(i,l),WT("preconnect",i,l)}function jV(i,l,u){bs.L(i,l,u);var m=lu;if(m&&i&&l){var v='link[rel="preload"][as="'+Mr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Mr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Mr(u.imageSizes)+'"]')):v+='[href="'+Mr(i)+'"]';var b=v;switch(l){case"style":b=cu(i);break;case"script":b=uu(i)}Ta.has(b)||(i=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),Ta.set(b,i),m.querySelector(v)!==null||l==="style"&&m.querySelector(df(b))||l==="script"&&m.querySelector(ff(b))||(l=m.createElement("link"),cr(l,"link",i),Sn(l),m.head.appendChild(l)))}}function EV(i,l){bs.m(i,l);var u=lu;if(u&&i){var m=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Mr(m)+'"][href="'+Mr(i)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=uu(i)}if(!Ta.has(b)&&(i=g({rel:"modulepreload",href:i},l),Ta.set(b,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ff(b)))return}m=u.createElement("link"),cr(m,"link",i),Sn(m),u.head.appendChild(m)}}}function SV(i,l,u){bs.S(i,l,u);var m=lu;if(m&&i){var v=_i(m).hoistableStyles,b=cu(i);l=l||"default";var C=v.get(b);if(!C){var $={loading:0,preload:null};if(C=m.querySelector(df(b)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},u),(u=Ta.get(b))&&Hx(i,u);var G=C=m.createElement("link");Sn(G),cr(G,"link",i),G._p=new Promise(function(ae,pe){G.onload=ae,G.onerror=pe}),G.addEventListener("load",function(){$.loading|=1}),G.addEventListener("error",function(){$.loading|=2}),$.loading|=4,fp(C,l,m)}C={type:"stylesheet",instance:C,count:1,state:$},v.set(b,C)}}}function AV(i,l){bs.X(i,l);var u=lu;if(u&&i){var m=_i(u).hoistableScripts,v=uu(i),b=m.get(v);b||(b=u.querySelector(ff(v)),b||(i=g({src:i,async:!0},l),(l=Ta.get(v))&&Gx(i,l),b=u.createElement("script"),Sn(b),cr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function TV(i,l){bs.M(i,l);var u=lu;if(u&&i){var m=_i(u).hoistableScripts,v=uu(i),b=m.get(v);b||(b=u.querySelector(ff(v)),b||(i=g({src:i,async:!0,type:"module"},l),(l=Ta.get(v))&&Gx(i,l),b=u.createElement("script"),Sn(b),cr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function XT(i,l,u,m){var v=(v=je.current)?dp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=cu(u.href),u=_i(v).hoistableStyles,m=u.get(l),m||(m={type:"style",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=cu(u.href);var b=_i(v).hoistableStyles,C=b.get(i);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,C),(b=v.querySelector(df(i)))&&!b._p&&(C.instance=b,C.state.loading=5),Ta.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ta.set(i,u),b||CV(v,i,u,C.state))),l&&m===null)throw Error(r(528,""));return C}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=uu(u),u=_i(v).hoistableScripts,m=u.get(l),m||(m={type:"script",instance:null,count:0,state:null},u.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function cu(i){return'href="'+Mr(i)+'"'}function df(i){return'link[rel="stylesheet"]['+i+"]"}function QT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function CV(i,l,u,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),cr(l,"link",u),Sn(l),i.head.appendChild(l))}function uu(i){return'[src="'+Mr(i)+'"]'}function ff(i){return"script[async]"+i}function JT(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+Mr(u.href)+'"]');if(m)return l.instance=m,Sn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Sn(m),cr(m,"style",v),fp(m,u.precedence,i),l.instance=m;case"stylesheet":v=cu(u.href);var b=i.querySelector(df(v));if(b)return l.state.loading|=4,l.instance=b,Sn(b),b;m=QT(u),(v=Ta.get(v))&&Hx(m,v),b=(i.ownerDocument||i).createElement("link"),Sn(b);var C=b;return C._p=new Promise(function($,G){C.onload=$,C.onerror=G}),cr(b,"link",m),l.state.loading|=4,fp(b,u.precedence,i),l.instance=b;case"script":return b=uu(u.src),(v=i.querySelector(ff(b)))?(l.instance=v,Sn(v),v):(m=u,(v=Ta.get(b))&&(m=g({},u),Gx(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),Sn(v),cr(v,"link",m),i.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,fp(m,u.precedence,i));return l.instance}function fp(i,l,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,C=0;C<m.length;C++){var $=m[C];if($.dataset.precedence===l)b=$;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Hx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Gx(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var hp=null;function ZT(i,l,u){if(hp===null){var m=new Map,v=hp=new Map;v.set(u,m)}else v=hp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var b=u[v];if(!(b[bi]||b[En]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(l)||"";C=i+C;var $=m.get(C);$?$.push(b):m.set(C,[b])}}return m}function e2(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function IV(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function t2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function OV(i,l,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=cu(m.href),b=l.querySelector(df(v));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=mp.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=b,Sn(b);return}b=l.ownerDocument||l,m=QT(m),(v=Ta.get(v))&&Hx(m,v),b=b.createElement("link"),Sn(b);var C=b;C._p=new Promise(function($,G){C.onload=$,C.onerror=G}),cr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=mp.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Kx=0;function RV(i,l){return i.stylesheets&&i.count===0&&gp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+l);0<i.imgBytes&&Kx===0&&(Kx=62500*fV());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Kx?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function mp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pp=null;function gp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pp=new Map,l.forEach(DV,i),pp=null,mp.call(i))}function DV(i,l){if(!(l.state.loading&4)){var u=pp.get(i);if(u)var m=u.get(null);else{u=new Map,pp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var C=v[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),m=C)}m&&u.set(null,m)}v=l.instance,C=v.getAttribute("data-precedence"),b=u.get(C)||m,b===m&&u.set(null,v),u.set(C,v),this.count++,m=mp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),l.state.loading|=4}}var hf={$$typeof:A,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function PV(i,l,u,m,v,b,C,$,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function n2(i,l,u,m,v,b,C,$,G,ae,pe,be){return i=new PV(i,l,u,C,G,ae,pe,be,$),l=1,b===!0&&(l|=24),b=ra(3,null,null,l),i.current=b,b.stateNode=i,l=Sv(),l.refCount++,i.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:l},Iv(b),i}function r2(i){return i?(i=Bc,i):Bc}function a2(i,l,u,m,v,b){v=r2(v),m.context===null?m.context=v:m.pendingContext=v,m=mo(l),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=po(i,m,l),u!==null&&($r(u,i,l),qd(u,i,l))}function i2(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Yx(i,l){i2(i,l),(i=i.alternate)&&i2(i,l)}function s2(i){if(i.tag===13||i.tag===31){var l=Cl(i,67108864);l!==null&&$r(l,i,67108864),Yx(i,67108864)}}function o2(i){if(i.tag===13||i.tag===31){var l=la();l=yl(l);var u=Cl(i,l);u!==null&&$r(u,i,l),Yx(i,l)}}var yp=!0;function kV(i,l,u,m){var v=W.T;W.T=null;var b=oe.p;try{oe.p=2,Wx(i,l,u,m)}finally{oe.p=b,W.T=v}}function MV(i,l,u,m){var v=W.T;W.T=null;var b=oe.p;try{oe.p=8,Wx(i,l,u,m)}finally{oe.p=b,W.T=v}}function Wx(i,l,u,m){if(yp){var v=Xx(m);if(v===null)kx(i,l,m,vp,u),c2(i,m);else if(UV(v,i,l,u,m))m.stopPropagation();else if(c2(i,m),l&4&&-1<LV.indexOf(i)){for(;v!==null;){var b=ya(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=gi(b.pendingLanes);if(C!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;C;){var G=1<<31-mn(C);$.entanglements[1]|=G,C&=~G}ki(b),(wt&6)===0&&(ep=Yn()+500,of(0))}}break;case 31:case 13:$=Cl(b,2),$!==null&&$r($,b,2),np(),Yx(b,2)}if(b=Xx(m),b===null&&kx(i,l,m,vp,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else kx(i,l,m,null,u)}}function Xx(i){return i=va(i),Qx(i)}var vp=null;function Qx(i){if(vp=null,i=wi(i),i!==null){var l=s(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=d(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return vp=i,null}function l2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case jt:return 2;case sn:return 8;case on:case Zr:return 32;case dl:return 268435456;default:return 32}default:return 32}}var Jx=!1,So=null,Ao=null,To=null,mf=new Map,pf=new Map,Co=[],LV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c2(i,l){switch(i){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":mf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(l.pointerId)}}function gf(i,l,u,m,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:l,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},l!==null&&(l=ya(l),l!==null&&s2(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function UV(i,l,u,m,v){switch(l){case"focusin":return So=gf(So,i,l,u,m,v),!0;case"dragenter":return Ao=gf(Ao,i,l,u,m,v),!0;case"mouseover":return To=gf(To,i,l,u,m,v),!0;case"pointerover":var b=v.pointerId;return mf.set(b,gf(mf.get(b)||null,i,l,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,pf.set(b,gf(pf.get(b)||null,i,l,u,m,v)),!0}return!1}function u2(i){var l=wi(i.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,qa(i.priority,function(){o2(u)});return}}else if(l===31){if(l=d(u),l!==null){i.blockedOn=l,qa(i.priority,function(){o2(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xp(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Xx(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Td=m,u.target.dispatchEvent(m),Td=null}else return l=ya(u),l!==null&&s2(l),i.blockedOn=u,!1;l.shift()}return!0}function d2(i,l,u){xp(i)&&u.delete(l)}function VV(){Jx=!1,So!==null&&xp(So)&&(So=null),Ao!==null&&xp(Ao)&&(Ao=null),To!==null&&xp(To)&&(To=null),mf.forEach(d2),pf.forEach(d2)}function bp(i,l){i.blockedOn===l&&(i.blockedOn=null,Jx||(Jx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,VV)))}var wp=null;function f2(i){wp!==i&&(wp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wp===i&&(wp=null);for(var l=0;l<i.length;l+=3){var u=i[l],m=i[l+1],v=i[l+2];if(typeof m!="function"){if(Qx(m||u)===null)continue;break}var b=ya(u);b!==null&&(i.splice(l,3),l-=3,Xv(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function du(i){function l(G){return bp(G,i)}So!==null&&bp(So,i),Ao!==null&&bp(Ao,i),To!==null&&bp(To,i),mf.forEach(l),pf.forEach(l);for(var u=0;u<Co.length;u++){var m=Co[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Co.length&&(u=Co[0],u.blockedOn===null);)u2(u),u.blockedOn===null&&Co.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],C=v[Wn]||null;if(typeof b=="function")C||f2(u);else if(C){var $=null;if(b&&b.hasAttribute("formAction")){if(v=b,C=b[Wn]||null)$=C.formAction;else if(Qx(v)!==null)continue}else $=C.action;typeof $=="function"?u[m+1]=$:(u.splice(m,3),m-=3),f2(u)}}}function h2(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function Zx(i){this._internalRoot=i}_p.prototype.render=Zx.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,m=la();a2(u,m,i,l,null,null)},_p.prototype.unmount=Zx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;a2(i.current,2,null,i,null,null),np(),l[xi]=null}};function _p(i){this._internalRoot=i}_p.prototype.unstable_scheduleHydration=function(i){if(i){var l=nm();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Co.length&&l!==0&&l<Co[u].priority;u++);Co.splice(u,0,i),u===0&&u2(i)}};var m2=e.version;if(m2!=="19.2.0")throw Error(r(527,m2,"19.2.0"));oe.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(l),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var zV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{kr=Np.inject(zV),Nn=Np}catch{}}return vf.createRoot=function(i,l){if(!a(i))throw Error(r(299));var u=!1,m="",v=wA,b=_A,C=NA;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError)),l=n2(i,1,!1,null,null,u,m,null,v,b,C,h2),i[xi]=l.current,Px(i),new Zx(l)},vf.hydrateRoot=function(i,l,u){if(!a(i))throw Error(r(299));var m=!1,v="",b=wA,C=_A,$=NA,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),l=n2(i,1,!0,l,u??null,m,v,G,b,C,$,h2),l.context=r2(null),u=l.current,m=la(),m=yl(m),v=mo(m),v.callback=null,po(u,v,m),u=m,l.current.lanes=u,pl(l,u),ki(l),i[xi]=l.current,Px(i),new _p(l)},vf.version="19.2.0",vf}var j2;function ZV(){if(j2)return rb.exports;j2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rb.exports=JV(),rb.exports}var e7=ZV();const t7=Ji(e7);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E2="popstate";function n7(t={}){function e(a,s){let{pathname:c="/",search:d="",hash:f=""}=pc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),c1("",{pathname:c,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:Ff(s))}function r(a,s){pa(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return a7(e,n,r,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r7(){return Math.random().toString(36).substring(2,10)}function S2(t,e){return{usr:t.state,key:t.key,idx:e}}function c1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pc(e):e,state:n,key:e&&e.key||r||r7()}}function Ff({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function a7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let j=p(),T=j==null?null:j-h;h=j,f&&f({action:d,location:N.location,delta:T})}function x(j,T){d="PUSH";let L=c1(N.location,j,T);n&&n(L,j),h=p()+1;let A=S2(L,h),R=N.createHref(L);try{c.pushState(A,"",R)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(R)}s&&f&&f({action:d,location:N.location,delta:1})}function w(j,T){d="REPLACE";let L=c1(N.location,j,T);n&&n(L,j),h=p();let A=S2(L,h),R=N.createHref(L);c.replaceState(A,"",R),s&&f&&f({action:d,location:N.location,delta:0})}function E(j){return i7(j)}let N={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E2,g),f=j,()=>{a.removeEventListener(E2,g),f=null}},createHref(j){return e(a,j)},createURL:E,encodeLocation(j){let T=E(j);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:w,go(j){return c.go(j)}};return N}function i7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ff(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zP(t,e,n="/"){return s7(t,e,n,!1)}function s7(t,e,n,r){let a=typeof e=="string"?pc(e):e,s=Ds(a.pathname||"/",n);if(s==null)return null;let c=BP(t);o7(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=v7(s);d=g7(c[f],h,r)}return d}function BP(t,e=[],n=[],r="",a=!1){let s=(c,d,f=a,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;nn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Cs([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(nn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),BP(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:m7(g,c.index),routesMeta:x})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))s(c,d);else for(let h of $P(c.path))s(c,d,!0,h)}),e}function $P(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=$P(r.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function o7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:p7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var l7=/^:[\w-]+$/,c7=3,u7=2,d7=1,f7=10,h7=-2,A2=t=>t==="*";function m7(t,e){let n=t.split("/"),r=n.length;return n.some(A2)&&(r+=h7),e&&(r+=u7),n.filter(a=>!A2(a)).reduce((a,s)=>a+(l7.test(s)?c7:s===""?d7:f7),r)}function p7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function g7(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=pg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=pg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Cs([s,g.pathname]),pathnameBase:N7(Cs([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=Cs([s,g.pathnameBase]))}return c}function pg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=y7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=d[x];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function y7(t,e=!1,n=!0){pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function v7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var x7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b7=t=>x7.test(t);function w7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?pc(t):t,s;if(n)if(b7(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),pa(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?s=T2(n.substring(1),"/"):s=T2(n,e)}else s=e;return{pathname:s,search:j7(r),hash:E7(a)}}function T2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ob(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $_(t){let e=_7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function F_(t,e,n,r=!1){let a;typeof t=="string"?a=pc(t):(a={...t},nn(!a.pathname||!a.pathname.includes("?"),ob("?","pathname","search",a)),nn(!a.pathname||!a.pathname.includes("#"),ob("#","pathname","hash",a)),nn(!a.search||!a.search.includes("#"),ob("#","search","hash",a)));let s=t===""||a.pathname==="",c=s?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=w7(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),N7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FP=["POST","PUT","PATCH","DELETE"];new Set(FP);var A7=["GET",...FP];new Set(A7);var Zu=_.createContext(null);Zu.displayName="DataRouter";var Py=_.createContext(null);Py.displayName="DataRouterState";_.createContext(!1);var qP=_.createContext({isTransitioning:!1});qP.displayName="ViewTransition";var T7=_.createContext(new Map);T7.displayName="Fetchers";var C7=_.createContext(null);C7.displayName="Await";var fi=_.createContext(null);fi.displayName="Navigation";var ph=_.createContext(null);ph.displayName="Location";var Zi=_.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var q_=_.createContext(null);q_.displayName="RouteError";function I7(t,{relative:e}={}){nn(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(fi),{hash:a,pathname:s,search:c}=gh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Cs([n,s])),r.createHref({pathname:d,search:c,hash:a})}function ed(){return _.useContext(ph)!=null}function es(){return nn(ed(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ph).location}var HP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GP(t){_.useContext(fi).static||_.useLayoutEffect(t)}function H_(){let{isDataRoute:t}=_.useContext(Zi);return t?F7():O7()}function O7(){nn(ed(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Zu),{basename:e,navigator:n}=_.useContext(fi),{matches:r}=_.useContext(Zi),{pathname:a}=es(),s=JSON.stringify($_(r)),c=_.useRef(!1);return GP(()=>{c.current=!0}),_.useCallback((f,h={})=>{if(pa(c.current,HP),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=F_(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Cs([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}_.createContext(null);function gh(t,{relative:e}={}){let{matches:n}=_.useContext(Zi),{pathname:r}=es(),a=JSON.stringify($_(n));return _.useMemo(()=>F_(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function R7(t,e){return KP(t,e)}function KP(t,e,n,r,a){var L;nn(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(fi),{matches:c}=_.useContext(Zi),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";YP(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=es(),w;if(e){let A=typeof e=="string"?pc(e):e;nn(p==="/"||((L=A.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=x;let E=w.pathname||"/",N=E;if(p!=="/"){let A=p.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=zP(t,{pathname:N});pa(g||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),pa(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=L7(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Cs([p,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:Cs([p,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,r,a);return e&&T?_.createElement(ph.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},T):T}function D7(){let t=$7(),e=S7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:a},n):null,c)}var P7=_.createElement(D7,null),k7=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(Zi.Provider,{value:this.props.routeContext},_.createElement(q_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M7({routeContext:t,match:e,children:n}){let r=_.useContext(Zu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(Zi.Provider,{value:t},n)}function L7(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,c=n==null?void 0:n.errors;if(c!=null){let p=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);nn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:w}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var x,w;r(p,{location:n.location,params:((w=(x=n.matches)==null?void 0:x[0])==null?void 0:w.params)??{},errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let w,E=!1,N=null,j=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||P7,d&&(f<0&&x===0?(YP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,j=null):f===x&&(E=!0,j=g.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,x+1)),L=()=>{let A;return w?A=N:E?A=j:g.route.Component?A=_.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=p,_.createElement(M7,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?_.createElement(k7,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:L(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:h}):L()},null)}function G_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U7(t){let e=_.useContext(Zu);return nn(e,G_(t)),e}function V7(t){let e=_.useContext(Py);return nn(e,G_(t)),e}function z7(t){let e=_.useContext(Zi);return nn(e,G_(t)),e}function K_(t){let e=z7(t),n=e.matches[e.matches.length-1];return nn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function B7(){return K_("useRouteId")}function $7(){var r;let t=_.useContext(q_),e=V7("useRouteError"),n=K_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function F7(){let{router:t}=U7("useNavigate"),e=K_("useNavigate"),n=_.useRef(!1);return GP(()=>{n.current=!0}),_.useCallback(async(a,s={})=>{pa(n.current,HP),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var C2={};function YP(t,e,n){!e&&!C2[t]&&(C2[t]=!0,pa(!1,n))}_.memo(q7);function q7({routes:t,future:e,state:n,unstable_onError:r}){return KP(t,void 0,n,r,e)}function H7({to:t,replace:e,state:n,relative:r}){nn(ed(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(fi);pa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(Zi),{pathname:c}=es(),d=H_(),f=F_(t,$_(s),c,r==="path"),h=JSON.stringify(f);return _.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function Xt(t){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){nn(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof n=="string"&&(n=pc(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,w=_.useMemo(()=>{let E=Ds(f,c);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return pa(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:_.createElement(fi.Provider,{value:d},_.createElement(ph.Provider,{children:e,value:w}))}function K7({children:t,location:e}){return R7(u1(t),e)}function u1(t,e=[]){let n=[];return _.Children.forEach(t,(r,a)=>{if(!_.isValidElement(r))return;let s=[...e,a];if(r.type===_.Fragment){n.push.apply(n,u1(r.props.children,s));return}nn(r.type===Xt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=u1(r.props.children,s)),n.push(c)}),n}var Qp="get",Jp="application/x-www-form-urlencoded";function ky(t){return t!=null&&typeof t.tagName=="string"}function Y7(t){return ky(t)&&t.tagName.toLowerCase()==="button"}function W7(t){return ky(t)&&t.tagName.toLowerCase()==="form"}function X7(t){return ky(t)&&t.tagName.toLowerCase()==="input"}function Q7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J7(t,e){return t.button===0&&(!e||e==="_self")&&!Q7(t)}var jp=null;function Z7(){if(jp===null)try{new FormData(document.createElement("form"),0),jp=!1}catch{jp=!0}return jp}var e9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lb(t){return t!=null&&!e9.has(t)?(pa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):t}function t9(t,e){let n,r,a,s,c;if(W7(t)){let d=t.getAttribute("action");r=d?Ds(d,e):null,n=t.getAttribute("method")||Qp,a=lb(t.getAttribute("enctype"))||Jp,s=new FormData(t)}else if(Y7(t)||X7(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ds(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Qp,a=lb(t.getAttribute("formenctype"))||lb(d.getAttribute("enctype"))||Jp,s=new FormData(d,t),!Z7()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(ky(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qp,r=null,a=Jp,c=t}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Y_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ds(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function r9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function i9(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let c=await r9(s,n);return c.links?c.links():[]}return[]}));return c9(r.flat(1).filter(a9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I2(t,e,n,r,a,s){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function s9(t,e,{includeHydrateFallback:n}={}){return o9(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function o9(t){return[...new Set(t)]}function l9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function c9(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(l9(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function WP(){let t=_.useContext(Zu);return Y_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function u9(){let t=_.useContext(Py);return Y_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var W_=_.createContext(void 0);W_.displayName="FrameworkContext";function XP(){let t=_.useContext(W_);return Y_(t,"You must render this element inside a <HydratedRouter> element"),t}function d9(t,e){let n=_.useContext(W_),[r,a]=_.useState(!1),[s,c]=_.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=_.useRef(null);_.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=T=>{T.forEach(L=>{c(L.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),_.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:xf(d,w),onBlur:xf(f,E),onMouseEnter:xf(h,w),onMouseLeave:xf(p,E),onTouchStart:xf(g,w)}]:[!1,x,{}]}function xf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function f9({page:t,...e}){let{router:n}=WP(),r=_.useMemo(()=>zP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(m9,{page:t,matches:r,...e}):null}function h9(t){let{manifest:e,routeModules:n}=XP(),[r,a]=_.useState([]);return _.useEffect(()=>{let s=!1;return i9(t,e,n).then(c=>{s||a(c)}),()=>{s=!0}},[t,e,n]),r}function m9({page:t,matches:e,...n}){let r=es(),{manifest:a,routeModules:s}=XP(),{basename:c}=WP(),{loaderData:d,matches:f}=u9(),h=_.useMemo(()=>I2(t,e,f,a,r,"data"),[t,e,f,a,r]),p=_.useMemo(()=>I2(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,N=!1;if(e.forEach(T=>{var A;let L=a.routes[T.route.id];!L||!L.hasLoader||(!h.some(R=>R.route.id===T.route.id)&&T.route.id in d&&((A=s[T.route.id])!=null&&A.shouldRevalidate)||L.hasClientLoader?N=!0:E.add(T.route.id))}),E.size===0)return[];let j=n9(t,c,"data");return N&&E.size>0&&j.searchParams.set("_routes",e.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[j.pathname+j.search]},[c,d,r,a,h,e,t,s]),x=_.useMemo(()=>s9(p,a),[p,a]),w=h9(p);return _.createElement(_.Fragment,null,g.map(E=>_.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>_.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:N})=>_.createElement("link",{key:E,nonce:n.nonce,...N})))}function p9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QP&&(window.__reactRouterVersion="7.9.6")}catch{}function g9({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=n7({window:n,v5Compat:!0}));let a=r.current,[s,c]=_.useState({action:a.action,location:a.location}),d=_.useCallback(f=>{_.startTransition(()=>c(f))},[c]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.createElement(G7,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var JP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X_=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},w){let{basename:E}=_.useContext(fi),N=typeof h=="string"&&JP.test(h),j,T=!1;if(typeof h=="string"&&N&&(j=h,QP))try{let M=new URL(window.location.href),I=h.startsWith("//")?new URL(M.protocol+h):new URL(h),D=Ds(I.pathname,E);I.origin===M.origin&&D!=null?h=D+I.search+I.hash:T=!0}catch{pa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=I7(h,{relative:a}),[A,R,O]=d9(r,x),U=b9(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function k(M){e&&e(M),M.defaultPrevented||U(M)}let V=_.createElement("a",{...x,...O,href:j||L,onClick:T||s?e:k,ref:p9(w,R),target:f,"data-discover":!N&&n==="render"?"true":void 0});return A&&!N?_.createElement(_.Fragment,null,V,_.createElement(f9,{page:L})):V});X_.displayName="Link";var y9=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:d,children:f,...h},p){let g=gh(c,{relative:h.relative}),x=es(),w=_.useContext(Py),{navigator:E,basename:N}=_.useContext(fi),j=w!=null&&E9(g)&&d===!0,T=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,L=x.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(L=L.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&N&&(A=Ds(A,N)||A);const R=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=L===T||!a&&L.startsWith(T)&&L.charAt(R)==="/",U=A!=null&&(A===T||!a&&A.startsWith(T)&&A.charAt(T.length)==="/"),k={isActive:O,isPending:U,isTransitioning:j},V=O?e:void 0,M;typeof r=="function"?M=r(k):M=[r,O?"active":null,U?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof s=="function"?s(k):s;return _.createElement(X_,{...h,"aria-current":V,className:M,ref:p,style:I,to:c,viewTransition:d},typeof f=="function"?f(k):f)});y9.displayName="NavLink";var v9=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Qp,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},w)=>{let E=N9(),N=j9(d,{relative:h}),j=c.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&JP.test(d),L=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let R=A.nativeEvent.submitter,O=(R==null?void 0:R.getAttribute("formmethod"))||c;E(R||A.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:w,method:j,action:N,onSubmit:r?f:L,...x,"data-discover":!T&&t==="render"?"true":void 0})});v9.displayName="Form";function x9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZP(t){let e=_.useContext(Zu);return nn(e,x9(t)),e}function b9(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c}={}){let d=H_(),f=es(),h=gh(t,{relative:s});return _.useCallback(p=>{if(J7(p,e)){p.preventDefault();let g=n!==void 0?n:Ff(f)===Ff(h);d(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:c})}},[f,d,h,n,r,e,t,a,s,c])}var w9=0,_9=()=>`__${String(++w9)}__`;function N9(){let{router:t}=ZP("useSubmit"),{basename:e}=_.useContext(fi),n=B7();return _.useCallback(async(r,a={})=>{let{action:s,method:c,encType:d,formData:f,body:h}=t9(r,e);if(a.navigate===!1){let p=a.fetcherKey||_9();await t.fetch(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function j9(t,{relative:e}={}){let{basename:n}=_.useContext(fi),r=_.useContext(Zi);nn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...gh(t||".",{relative:e})},c=es();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cs([n,s.pathname])),Ff(s)}function E9(t,{relative:e}={}){let n=_.useContext(qP);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZP("useViewTransitionState"),a=gh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pg(a.pathname,c)!=null||pg(a.pathname,s)!=null}var e4=VP();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),O2=t=>{const e=A9(t);return e.charAt(0).toUpperCase()+e.slice(1)},t4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),T9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...d},f)=>_.createElement("svg",{ref:f,...C9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:t4("lucide",a),...!s&&!T9(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>_.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(t,e)=>{const n=_.forwardRef(({className:r,...a},s)=>_.createElement(I9,{ref:s,iconNode:e,className:t4(`lucide-${S9(O2(t))}`,`lucide-${t}`,r),...a}));return n.displayName=O2(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],n4=Te("activity",O9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],D9=Te("arrow-left",R9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],k9=Te("arrow-right-left",P9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Eu=Te("award",M9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],r4=Te("badge-check",L9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Is=Te("book-open",U9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ps=Te("briefcase",V9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],B9=Te("building",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],F9=Te("bus",$9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Zp=Te("calendar-days",q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yh=Te("calendar",H9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],K9=Te("chart-column",G9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Q_=Te("chevron-down",Y9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],J_=Te("chevron-up",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Z_=Te("circle-alert",X9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gr=Te("circle-check",Q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Z9=Te("circle-play",J9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],kf=Te("circle-plus",ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],a4=Te("circle-user",tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eN=Te("circle-x",nz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],i4=Te("clipboard-list",rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hi=Te("clock",az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Nr=Te("cloud-upload",iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],oz=Te("coins",sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cz=Te("copy",lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gg=Te("download",uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yg=Te("external-link",dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],hz=Te("file-clock",fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],s4=Te("file-input",mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],o4=Te("file-output",pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mr=Te("file-text",gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],d1=Te("flask-conical",yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xz=Te("funnel",vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],tN=Te("globe",bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ql=Te("graduation-cap",wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Nz=Te("history",_z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],Ez=Te("import",jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],f1=Te("key",Sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Tz=Te("layout-dashboard",Az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],l4=Te("leaf",Cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],c4=Te("library",Iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],R2=Te("link",Oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tt=Te("loader-circle",Rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cb=Te("lock",Dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kz=Te("log-out",Pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h1=Te("mail",Mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],u4=Te("map-pin",Lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],m1=Te("megaphone",Uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zz=Te("menu",Vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],D2=Te("message-circle",Bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],Fz=Te("mic-vocal",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],vg=Te("microscope",qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Tf=Te("network",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ub=Te("phone",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],My=Te("plane",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zt=Te("plus",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Xz=Te("presentation",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Jz=Te("qr-code",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],p1=Te("refresh-ccw",Zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bn=Te("save",eB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ku=Te("search",tB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],d4=Te("send",nB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aB=Te("settings",rB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],sB=Te("shield-alert",iB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],wu=Te("sprout",oB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pr=Te("square-pen",lB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],uB=Te("stethoscope",cB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],fB=Te("table",dB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Cf=Te("target",hB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pt=Te("trash-2",mB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yr=Te("triangle-alert",pB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],P2=Te("user-check",gB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vB=Te("user-cog",yB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],f4=Te("user-plus",xB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nN=Te("user",bB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],si=Te("users",wB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bt=Te("x",_B);var _e=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(_e||{}),Je=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(Je||{});const NB=({children:t,user:e,onLogout:n})=>{const[r,a]=_.useState(!1),s=es(),c=h=>s.pathname===h,f=[{path:"/",label:" ",icon:Tz,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY,_e.EMPLOYEE]},{path:"/outgoing",label:"",icon:o4,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY]},{path:"/incoming",label:"",icon:s4,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY]},{path:"/councils",label:" ",icon:si,roles:[_e.ADMIN,_e.STAFF]},{path:"/committees",label:" ",icon:i4,roles:[_e.ADMIN,_e.STAFF]},{path:"/formation",label:"  ",icon:Tf,roles:[_e.ADMIN,_e.STAFF]},{path:"/research-plan",label:"  ",icon:Cf,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG]},{path:"/events",label:"  ",icon:m1,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG,_e.ALUMNI,_e.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:hz,roles:[_e.ADMIN,_e.STAFF]},{path:"/repository",label:"   ",icon:c4,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG,_e.ALUMNI,_e.EMPLOYEE]},{path:"/inventory",label:" ",icon:vg,roles:[_e.ADMIN,_e.STAFF]},{path:"/labs",label:" ",icon:d1,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:wu,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG]},{path:"/staff",label:" ",icon:a4,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG]},{path:"/annual-report",label:" ",icon:mr,roles:[_e.ADMIN,_e.STAFF]},{path:"/leaves",label:" ",icon:Zp,roles:[_e.ADMIN,_e.STAFF,_e.EMPLOYEE]},{path:"/career-movements",label:"   ",icon:My,roles:[_e.ADMIN,_e.STAFF,_e.EMPLOYEE]},{path:"/students",label:" ",icon:Is,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG]},{path:"/alumni",label:" ",icon:Ps,roles:[_e.ADMIN,_e.STAFF,_e.ALUMNI]},{path:"/users",label:" ",icon:vB,roles:[_e.ADMIN]},{path:"/activity-log",label:" ",icon:n4,roles:[_e.ADMIN]},{path:"/search",label:" ",icon:ku,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY]}].filter(h=>h.roles.includes(e.role));return o.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),o.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[o.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[o.jsx("div",{className:"bg-white p-2 rounded-full",children:o.jsx(l4,{className:"w-6 h-6 text-green-700"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-bold text-sm",children:"   "}),o.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),o.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:f.map(h=>o.jsxs(X_,{to:h.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(h.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[o.jsx(h.icon,{className:"w-5 h-5"}),o.jsx("span",{children:h.label})]},h.path))}),o.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),o.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===_e.ADMIN?" ":e.role===_e.STAFF?"  ":e.role===_e.STUDENT_PG?" ":e.role===_e.STUDENT_UG?"":e.role===_e.EMPLOYEE?" / ":""})]})]}),o.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[o.jsx(kz,{className:"w-4 h-4"}),o.jsx("span",{children:" "})]})]})]}),o.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[o.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[o.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),o.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:o.jsx(zz,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function h4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=h4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=h4(t))&&(r&&(r+=" "),r+=e);return r}var jB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function rN(t){if(typeof t!="string")return!1;var e=jB;return e.includes(t)}var EB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SB=new Set(EB);function m4(t){return typeof t!="string"?!1:SB.has(t)}function p4(t){return typeof t=="string"&&t.startsWith("data-")}function li(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(m4(n)||p4(n))&&(e[n]=t[n]);return e}function qf(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return li(e)}return typeof t=="object"&&!Array.isArray(t)?li(t):null}function ka(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(m4(n)||p4(n)||rN(n))&&(e[n]=t[n]);return e}var AB=["children","width","height","viewBox","className","style","title","desc"];function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1.apply(null,arguments)}function TB(t,e){if(t==null)return{};var n,r,a=CB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function CB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g4=_.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:d,title:f,desc:h}=t,p=TB(t,AB),g=s||{width:r,height:a,x:0,y:0},x=kt("recharts-surface",c);return _.createElement("svg",g1({},ka(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),IB=["children","className"];function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(null,arguments)}function OB(t,e){if(t==null)return{};var n,r,a=RB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function RB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dr=_.forwardRef((t,e)=>{var{children:n,className:r}=t,a=OB(t,IB),s=kt("recharts-layer",r);return _.createElement("g",y1({className:s},ka(a),{ref:e}),n)}),DB=_.createContext(null);function Vt(t){return function(){return t}}const y4=Math.cos,xg=Math.sin,hi=Math.sqrt,bg=Math.PI,Ly=2*bg,v1=Math.PI,x1=2*v1,$l=1e-6,PB=x1-$l;function v4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return v4;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class MB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?v4:kB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=r-e,h=a-n,p=c-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>$l)if(!(Math.abs(g*f-h*p)>$l)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-c,E=a-d,N=f*f+h*h,j=w*w+E*E,T=Math.sqrt(N),L=Math.sqrt(x),A=s*Math.tan((v1-Math.acos((N+x-j)/(2*T*L)))/2),R=A/L,O=A/T;Math.abs(R-1)>$l&&this._append`L${e+R*p},${n+R*g}`,this._append`A${s},${s},0,0,${+(g*w>p*E)},${this._x1=e+O*f},${this._y1=n+O*h}`}}arc(e,n,r,a,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>$l||Math.abs(this._y1-p)>$l)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%x1+x1),x>PB?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>$l&&this._append`A${r},${r},0,${+(x>=v1)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function aN(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new MB(e)}function iN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Uy(t){return new x4(t)}function b4(t){return t[0]}function w4(t){return t[1]}function _4(t,e){var n=Vt(!0),r=null,a=Uy,s=null,c=aN(d);t=typeof t=="function"?t:t===void 0?b4:Vt(t),e=typeof e=="function"?e:e===void 0?w4:Vt(e);function d(f){var h,p=(f=iN(f)).length,g,x=!1,w;for(r==null&&(s=a(w=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Vt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function Ep(t,e,n){var r=null,a=Vt(!0),s=null,c=Uy,d=null,f=aN(h);t=typeof t=="function"?t:t===void 0?b4:Vt(+t),e=typeof e=="function"?e:Vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?w4:Vt(+n);function h(g){var x,w,E,N=(g=iN(g)).length,j,T=!1,L,A=new Array(N),R=new Array(N);for(s==null&&(d=c(L=f())),x=0;x<=N;++x){if(!(x<N&&a(j=g[x],x,g))===T)if(T=!T)w=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=w;--E)d.point(A[E],R[E]);d.lineEnd(),d.areaEnd()}T&&(A[x]=+t(j,x,g),R[x]=+e(j,x,g),d.point(r?+r(j,x,g):A[x],n?+n(j,x,g):R[x]))}if(L)return d=null,L+""||null}function p(){return _4().defined(a).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Vt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Vt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Vt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Vt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Vt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Vt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Vt(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class N4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function LB(t){return new N4(t,!0)}function UB(t){return new N4(t,!1)}const sN={draw(t,e){const n=hi(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,Ly)}},VB={draw(t,e){const n=hi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j4=hi(1/3),zB=j4*2,BB={draw(t,e){const n=hi(e/zB),r=n*j4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$B={draw(t,e){const n=hi(e),r=-n/2;t.rect(r,r,n,n)}},FB=.8908130915292852,E4=xg(bg/10)/xg(7*bg/10),qB=xg(Ly/10)*E4,HB=-y4(Ly/10)*E4,GB={draw(t,e){const n=hi(e*FB),r=qB*n,a=HB*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const c=Ly*s/5,d=y4(c),f=xg(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},db=hi(3),KB={draw(t,e){const n=-hi(e/(db*3));t.moveTo(0,n*2),t.lineTo(-db*n,-n),t.lineTo(db*n,-n),t.closePath()}},Ca=-.5,Ia=hi(3)/2,b1=1/hi(12),YB=(b1/2+1)*3,WB={draw(t,e){const n=hi(e/YB),r=n/2,a=n*b1,s=r,c=n*b1+n,d=-s,f=c;t.moveTo(r,a),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(Ca*r-Ia*a,Ia*r+Ca*a),t.lineTo(Ca*s-Ia*c,Ia*s+Ca*c),t.lineTo(Ca*d-Ia*f,Ia*d+Ca*f),t.lineTo(Ca*r+Ia*a,Ca*a-Ia*r),t.lineTo(Ca*s+Ia*c,Ca*c-Ia*s),t.lineTo(Ca*d+Ia*f,Ca*f-Ia*d),t.closePath()}};function XB(t,e){let n=null,r=aN(a);t=typeof t=="function"?t:Vt(t||sN),e=typeof e=="function"?e:Vt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Vt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Vt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function wg(){}function _g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function S4(t){this._context=t}S4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QB(t){return new S4(t)}function A4(t){this._context=t}A4.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JB(t){return new A4(t)}function T4(t){this._context=t}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZB(t){return new T4(t)}function C4(t){this._context=t}C4.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function e$(t){return new C4(t)}function k2(t){return t<0?-1:1}function M2(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(s*a+c*r)/(r+a);return(k2(s)+k2(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function L2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function fb(t,e,n){var r=t._x0,a=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,c-d*n,s,c)}function Ng(t){this._context=t}Ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fb(this,this._t0,L2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,fb(this,L2(this,n=M2(this,t,e)),n);break;default:fb(this,this._t0,n=M2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function I4(t){this._context=new O4(t)}(I4.prototype=Object.create(Ng.prototype)).point=function(t,e){Ng.prototype.point.call(this,e,t)};function O4(t){this._context=t}O4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function t$(t){return new Ng(t)}function n$(t){return new I4(t)}function R4(t){this._context=t}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=U2(t),a=U2(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function U2(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function r$(t){return new R4(t)}function Vy(t,e){this._context=t,this._t=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function a$(t){return new Vy(t,.5)}function i$(t){return new Vy(t,0)}function s$(t){return new Vy(t,1)}function Mu(t,e){if((c=t.length)>1)for(var n=1,r,a,s=t[e[0]],c,d=s.length;n<c;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function w1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function o$(t,e){return t[e]}function l$(t){const e=[];return e.key=t,e}function c$(){var t=Vt([]),e=w1,n=Mu,r=o$;function a(s){var c=Array.from(t.apply(this,arguments),l$),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,s)]).data=g;for(d=0,p=iN(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Vt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Vt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?w1:typeof s=="function"?s:Vt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Mu,a):n},a}function u$(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Mu(t,e)}}function d$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Mu(t,e)}}function f$(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,w=(g-x)/2,E=0;E<d;++E){var N=t[e[E]],j=N[r][1]||0,T=N[r-1][1]||0;w+=j-T}f+=g,h+=w*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Mu(t,e)}}var hb={},mb={},V2;function h$(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(mb)),mb}var pb={},z2;function D4(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(pb)),pb}var gb={},B2;function oN(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(gb)),gb}var yb={},vb={},$2;function m$(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(vb)),vb}var F2;function lN(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m$(),n=oN();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=a[d];h?g==="\\"&&d+1<c?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(yb)),yb}var q2;function cN(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h$(),n=D4(),r=oN(),a=lN();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(hb)),hb}var xb,H2;function p$(){return H2||(H2=1,xb=cN().get),xb}var g$=p$();const rc=Ji(g$);var nr=t=>t===0?0:t>0?1:-1,ci=t=>typeof t=="number"&&t!=+t,ks=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Me=t=>(typeof t=="number"||t instanceof Number)&&!ci(t),Gi=t=>Me(t)||typeof t=="string",y$=0,Hf=t=>{var e=++y$;return"".concat(t||"").concat(e)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(e)&&typeof e!="string")return r;var s;if(ks(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return ci(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},P4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Vn(t,e,n){return Me(t)&&Me(e)?t+n*(e-t):e}function v$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):rc(r,e))===n)}var rr=t=>t===null||typeof t>"u",vh=t=>rr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function x$(t){return t!=null}function xh(){}var b$=["type","size","sizeType"];function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_1.apply(null,arguments)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){w$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w$(t,e,n){return(e=_$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _$(t){var e=N$(t,"string");return typeof e=="symbol"?e:e+""}function N$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j$(t,e){if(t==null)return{};var n,r,a=E$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function E$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k4={symbolCircle:sN,symbolCross:VB,symbolDiamond:BB,symbolSquare:$B,symbolStar:GB,symbolTriangle:KB,symbolWye:WB},S$=Math.PI/180,A$=t=>{var e="symbol".concat(vh(t));return k4[e]||sN},T$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*S$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},C$=(t,e)=>{k4["symbol".concat(vh(t))]=e},M4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=j$(t,b$),s=K2(K2({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var x=A$(c),w=XB().type(x).size(T$(n,r,c)),E=w();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=ka(s);return Me(h)&&Me(p)&&Me(n)?_.createElement("path",_1({},g,{className:kt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};M4.registerSymbol=C$;var L4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,I$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{rN(a)&&(r[a]=(s=>n[a](n,s)))}),r},O$=(t,e,n)=>r=>(t(e,n,r),null),zy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];rN(a)&&typeof s=="function"&&(r||(r={}),r[a]=O$(s,e,n))}),r};function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function R$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){D$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D$(t,e,n){return(e=P$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=k$(t,"string");return typeof e=="symbol"?e:e+""}function k$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e){var n=R$({},t),r=e,a=Object.keys(e),s=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var bb={},wb={},W2;function M$(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(wb)),wb}var _b={},X2;function U4(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(_b)),_b}var Nb={},jb={},Eb={},Q2;function L$(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Eb)),Eb}var J2;function uN(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L$();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(jb)),jb}var Sb={},Z2;function U$(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Sb)),Sb}var eC;function V$(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uN(),n=U$();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Nb)),Nb}var Ab={},Tb={},tC;function z$(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cN();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Tb)),Tb}var Cb={},Ib={},Ob={},Rb={},nC;function V4(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Rb)),Rb}var Db={},rC;function z4(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Db)),Db}var Pb={},aC;function B4(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Pb)),Pb}var iC;function B$(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4(),n=z4(),r=B4();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function w(E,N,j,T,L,A){const R=x(E,N,j,T,L,A);return R!==void 0?!!R:s(E,N,w,A)},new Map)}function s(p,g,x,w){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,w);case"function":return Object.keys(g).length>0?s(p,{...g},x,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,x,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,w);if(g instanceof Map)return d(p,g,x,w);if(g instanceof Set)return h(p,g,x,w);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(w!=null&&w.has(g))return w.get(g)===p;w==null||w.set(g,p);try{for(let N=0;N<E.length;N++){const j=E[N];if(!n.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!x(p[j],g[j],j,p,g,w))return!1}return!0}finally{w==null||w.delete(g)}}function d(p,g,x,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,N]of g.entries()){const j=p.get(E);if(x(j,N,E,p,g,w)===!1)return!1}return!0}function f(p,g,x,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let N=0;N<g.length;N++){const j=g[N];let T=!1;for(let L=0;L<p.length;L++){if(E.has(L))continue;const A=p[L];let R=!1;if(x(A,j,N,p,g,w)&&(R=!0),R){E.add(L),T=!0;break}}if(!T)return!1}return!0}function h(p,g,x,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,w):!1}t.isMatchWith=a,t.isSetMatch=h})(Ob)),Ob}var sC;function $4(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B$();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Ib)),Ib}var kb={},Mb={},Lb={},oC;function $$(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Lb)),Lb}var Ub={},lC;function F4(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Ub)),Ub}var Vb={},cC;function q4(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",N="[object DataView]",j="[object Uint8Array]",T="[object Uint8ClampedArray]",L="[object Uint16Array]",A="[object Uint32Array]",R="[object BigUint64Array]",O="[object Int8Array]",U="[object Int16Array]",k="[object Int32Array]",V="[object BigInt64Array]",M="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=R,t.booleanTag=a,t.dataViewTag=N,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=M,t.float64ArrayTag=I,t.functionTag=g,t.int16ArrayTag=U,t.int32ArrayTag=k,t.int8ArrayTag=O,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=L,t.uint32ArrayTag=A,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=T})(Vb)),Vb}var zb={},uC;function F$(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(zb)),zb}var dC;function H4(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$$(),n=F4(),r=q4(),a=z4(),s=F$();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,w=new Map,E=void 0){const N=E==null?void 0:E(p,g,x,w);if(N!==void 0)return N;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const j=new Array(p.length);w.set(p,j);for(let T=0;T<p.length;T++)j[T]=d(p[T],T,x,w,E);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;w.set(p,j);for(const[T,L]of p)j.set(T,d(L,T,x,w,E));return j}if(p instanceof Set){const j=new Set;w.set(p,j);for(const T of p)j.add(d(T,void 0,x,w,E));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,j);for(let T=0;T<p.length;T++)j[T]=d(p[T],T,x,w,E);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,j),f(j,p,x,w,E),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(typeof Blob<"u"&&p instanceof Blob){const j=new Blob([p],{type:p.type});return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Error){const j=new p.constructor;return w.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,x,w,E),j}if(p instanceof Boolean){const j=new Boolean(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof Number){const j=new Number(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(p instanceof String){const j=new String(p.valueOf());return w.set(p,j),f(j,p,x,w,E),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return w.set(p,j),f(j,p,x,w,E),j}return p}function f(p,g,x=p,w,E){const N=[...Object.keys(g),...e.getSymbols(g)];for(let j=0;j<N.length;j++){const T=N[j],L=Object.getOwnPropertyDescriptor(p,T);(L==null||L.writable)&&(p[T]=d(g[T],T,x,w,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(Mb)),Mb}var fC;function q$(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(kb)),kb}var hC;function H$(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4(),n=q$();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(Cb)),Cb}var Bb={},$b={},Fb={},mC;function G$(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4(),n=q4();function r(a,s){return e.cloneDeepWith(a,(c,d,f,h)=>{const p=s==null?void 0:s(c,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Fb)),Fb}var pC;function K$(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G$();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})($b)),$b}var qb={},Hb={},gC;function G4(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Hb)),Hb}var Gb={},yC;function Y$(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Gb)),Gb}var vC;function W$(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=G4(),r=Y$(),a=lN();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(qb)),qb}var xC;function X$(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4(),n=oN(),r=K$(),a=cN(),s=W$();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(Bb)),Bb}var bC;function Q$(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4(),n=z$(),r=H$(),a=X$();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(Ab)),Ab}var wC;function J$(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M$(),n=U4(),r=V$(),a=Q$();function s(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=s})(bb)),bb}var Kb,_C;function Z$(){return _C||(_C=1,Kb=J$().uniqBy),Kb}var eF=Z$();const NC=Ji(eF);function tF(t,e,n){return e===!0?NC(t,n):typeof e=="function"?NC(t,e):t}var Yb={exports:{}},Wb={},Xb={exports:{}},Qb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function nF(){if(jC)return Qb;jC=1;var t=Ju();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),N=E[0].inst,j=E[1];return s(function(){N.value=w,N.getSnapshot=x,f(N)&&j({inst:N})},[g,w,x]),a(function(){return f(N)&&j({inst:N}),g(function(){f(N)&&j({inst:N})})},[g]),c(w),w}function f(g){var x=g.getSnapshot;g=g.value;try{var w=x();return!n(g,w)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Qb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Qb}var EC;function rF(){return EC||(EC=1,Xb.exports=nF()),Xb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function aF(){if(SC)return Wb;SC=1;var t=Ju(),e=rF();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Wb.useSyncExternalStoreWithSelector=function(h,p,g,x,w){var E=s(null);if(E.current===null){var N={hasValue:!1,value:null};E.current=N}else N=E.current;E=d(function(){function T(U){if(!L){if(L=!0,A=U,U=x(U),w!==void 0&&N.hasValue){var k=N.value;if(w(k,U))return R=k}return R=U}if(k=R,r(A,U))return k;var V=x(U);return w!==void 0&&w(k,V)?(A=U,k):(A=U,R=V)}var L=!1,A,R,O=g===void 0?null:g;return[function(){return T(p())},O===null?void 0:function(){return T(O())}]},[p,g,x,w]);var j=a(h,E[0],E[1]);return c(function(){N.hasValue=!0,N.value=j},[j]),f(j),j},Wb}var AC;function iF(){return AC||(AC=1,Yb.exports=aF()),Yb.exports}var sF=iF(),dN=_.createContext(null),oF=t=>t,rn=()=>{var t=_.useContext(dN);return t?t.store.dispatch:oF},eg=()=>{},lF=()=>eg,cF=(t,e)=>t===e;function Le(t){var e=_.useContext(dN);return sF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:lF,e?e.store.getState:eg,e?e.store.getState:eg,e?t:eg,cF)}function uF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function dF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function fF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var TC=t=>Array.isArray(t)?t:[t];function hF(t){const e=Array.isArray(t[0])?t[0]:t;return fF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function mF(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var pF=class{constructor(t){this.value=t}deref(){return this.value}},gF=typeof WeakRef<"u"?WeakRef:pF,yF=0,CC=1;function Sp(){return{s:yF,v:void 0,o:null,p:null}}function K4(t,e={}){let n=Sp();const{resultEqualityCheck:r}=e;let a,s=0;function c(){var g;let d=n;const{length:f}=arguments;for(let x=0,w=f;x<w;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const j=N.get(E);j===void 0?(d=Sp(),N.set(E,d)):d=j}else{let N=d.p;N===null&&(d.p=N=new Map);const j=N.get(E);j===void 0?(d=Sp(),N.set(E,d)):d=j}}const h=d;let p;if(d.s===CC)p=d.v;else if(p=t.apply(null,arguments),s++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new gF(p):p}return h.s=CC,h.v=p,p}return c.clearCache=()=>{n=Sp(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function vF(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,c=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),uF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:w=K4,argsMemoizeOptions:E=[]}=p,N=TC(x),j=TC(E),T=hF(a),L=g(function(){return s++,h.apply(null,arguments)},...N),A=w(function(){c++;const O=mF(T,arguments);return d=L.apply(null,O),d},...j);return Object.assign(A,{resultFunc:h,memoizedResultFunc:L,dependencies:T,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var ie=vF(K4),xF=Object.assign((t,e=ie)=>{dF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>xF}),Jb={},Zb={},ew={},IC;function bF(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n})(ew)),ew}var tw={},nw={},OC;function Y4(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(nw)),nw}var RC;function wF(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(tw)),tw}var DC;function _F(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bF(),n=wF(),r=lN();function a(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(w=>String(w));const h=(w,E)=>{let N=w;for(let j=0;j<E.length&&N!=null;++j)N=N[E[j]];return N},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:h(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?h(E,w):typeof E=="object"?E[w]:E,g=c.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let N=0;N<g.length;N++){const j=e.compareValues(w.criteria[N],E.criteria[N],d[N]);if(j!==0)return j}return 0}).map(w=>w.original)}t.orderBy=a})(Zb)),Zb}var rw={},PC;function NF(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):a.push(p)}};return c(n,0),a}t.flatten=e})(rw)),rw}var aw={},kC;function W4(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G4(),n=uN(),r=V4(),a=B4();function s(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],c):!1}t.isIterateeCall=s})(aw)),aw}var MC;function jF(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_F(),n=NF(),r=W4();function a(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=a})(Jb)),Jb}var iw,LC;function EF(){return LC||(LC=1,iw=jF().sortBy),iw}var SF=EF();const By=Ji(SF);var X4=t=>t.legend.settings,AF=t=>t.legend.size,TF=t=>t.legend.payload;ie([TF,X4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?By(r,n):r});var Ap=1;function CF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Ap||Math.abs(c.left-e.left)>Ap||Math.abs(c.top-e.top)>Ap||Math.abs(c.width-e.width)>Ap)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ur(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IF=typeof Symbol=="function"&&Symbol.observable||"@@observable",UC=IF,sw=()=>Math.random().toString(36).substring(7).split("").join("."),OF={INIT:`@@redux/INIT${sw()}`,REPLACE:`@@redux/REPLACE${sw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sw()}`},jg=OF;function fN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Q4(t,e,n){if(typeof t!="function")throw new Error(ur(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(Q4)(t,e)}let r=t,a=e,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((j,T)=>{c.set(T,j)}))}function p(){if(f)throw new Error(ur(3));return a}function g(j){if(typeof j!="function")throw new Error(ur(4));if(f)throw new Error(ur(5));let T=!0;h();const L=d++;return c.set(L,j),function(){if(T){if(f)throw new Error(ur(6));T=!1,h(),c.delete(L),s=null}}}function x(j){if(!fN(j))throw new Error(ur(7));if(typeof j.type>"u")throw new Error(ur(8));if(typeof j.type!="string")throw new Error(ur(17));if(f)throw new Error(ur(9));try{f=!0,a=r(a,j)}finally{f=!1}return(s=c).forEach(L=>{L()}),j}function w(j){if(typeof j!="function")throw new Error(ur(10));r=j,x({type:jg.REPLACE})}function E(){const j=g;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(ur(11));function L(){const R=T;R.next&&R.next(p())}return L(),{unsubscribe:j(L)}},[UC](){return this}}}return x({type:jg.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:w,[UC]:E}}function RF(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:jg.INIT})>"u")throw new Error(ur(12));if(typeof n(void 0,{type:jg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function J4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{RF(n)}catch(s){a=s}return function(c={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],w=c[g],E=x(w,d);if(typeof E>"u")throw d&&d.type,new Error(ur(14));h[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(c).length,f?h:c}}function Eg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function DF(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(ur(15))};const c={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(c));return s=Eg(...d)(a.dispatch),{...a,dispatch:s}}}function Z4(t){return fN(t)&&"type"in t&&typeof t.type=="string"}var ek=Symbol.for("immer-nothing"),VC=Symbol.for("immer-draftable"),Pr=Symbol.for("immer-state");function ei(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var da=Object,Lu=da.getPrototypeOf,Sg="constructor",$y="prototype",N1="configurable",Ag="enumerable",tg="writable",Gf="value",Ms=t=>!!t&&!!t[Pr];function Ki(t){var e;return t?tk(t)||Fy(t)||!!t[VC]||!!((e=t[Sg])!=null&&e[VC])||qy(t)||Hy(t):!1}var PF=da[$y][Sg].toString(),zC=new WeakMap;function tk(t){if(!t||!hN(t))return!1;const e=Lu(t);if(e===null||e===da[$y])return!0;const n=da.hasOwnProperty.call(e,Sg)&&e[Sg];if(n===Object)return!0;if(!gu(n))return!1;let r=zC.get(n);return r===void 0&&(r=Function.toString.call(n),zC.set(n,r)),r===PF}function bh(t,e,n=!0){wh(t)===0?(n?Reflect.ownKeys(t):da.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function wh(t){const e=t[Pr];return e?e.type_:Fy(t)?1:qy(t)?2:Hy(t)?3:0}var BC=(t,e,n=wh(t))=>n===2?t.has(e):da[$y].hasOwnProperty.call(t,e),j1=(t,e,n=wh(t))=>n===2?t.get(e):t[e],Tg=(t,e,n,r=wh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function kF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Fy=Array.isArray,qy=t=>t instanceof Map,Hy=t=>t instanceof Set,hN=t=>typeof t=="object",gu=t=>typeof t=="function",ow=t=>typeof t=="boolean",_s=t=>t.copy_||t.base_,mN=t=>t.modified_?t.copy_:t.base_;function E1(t,e){if(qy(t))return new Map(t);if(Hy(t))return new Set(t);if(Fy(t))return Array[$y].slice.call(t);const n=tk(t);if(e===!0||e==="class_only"&&!n){const r=da.getOwnPropertyDescriptors(t);delete r[Pr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d[tg]===!1&&(d[tg]=!0,d[N1]=!0),(d.get||d.set)&&(r[c]={[N1]:!0,[tg]:!0,[Ag]:d[Ag],[Gf]:t[c]})}return da.create(Lu(t),r)}else{const r=Lu(t);if(r!==null&&n)return{...t};const a=da.create(r);return da.assign(a,t)}}function pN(t,e=!1){return Gy(t)||Ms(t)||(wh(t)>1&&da.defineProperties(t,{set:Tp,add:Tp,clear:Tp,delete:Tp}),da.freeze(t),e&&bh(t,(n,r)=>{pN(r,!0)},!1)),t}function MF(){ei(2)}var Tp={[Gf]:MF};function Gy(t){return t===null||!hN(t)?!0:da.isFrozen(t)}var Cg="MapSet",S1="Patches",nk={};function Uu(t){const e=nk[t];return e||ei(0,t),e}var LF=t=>!!nk[t],Kf,rk=()=>Kf,UF=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:LF(Cg)?Uu(Cg):void 0});function $C(t,e){e&&(t.patchPlugin_=Uu(S1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function A1(t){T1(t),t.drafts_.forEach(VF),t.drafts_=null}function T1(t){t===Kf&&(Kf=t.parent_)}var FC=t=>Kf=UF(Kf,t);function VF(t){const e=t[Pr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Pr].modified_&&(A1(e),ei(4)),Ki(t)&&(t=HC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Pr].base_,t,e)}else t=HC(e,n);return zF(e,t,!0),A1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ek?t:void 0}function HC(t,e){if(Gy(e))return e;const n=e[Pr];if(!n)return gN(e,t.handledSet_,t);if(!Ky(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);sk(n,t)}return n.copy_}function zF(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pN(e,n)}function ak(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ky=(t,e)=>t.scope_===e,BF=[];function ik(t,e,n,r){const a=_s(t),s=t.type_;if(r!==void 0&&j1(a,r,s)===e){Tg(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;bh(a,(f,h)=>{if(Ms(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??BF;for(const d of c)Tg(a,d,n,s)}function $F(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!Ky(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const c=mN(s);ik(t,s.draft_??s,c,n),sk(s,a)})}function sk(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}ak(t)}}function FF(t,e,n){const{scope_:r}=t;if(Ms(n)){const a=n[Pr];Ky(a,r)&&a.callbacks_.push(function(){ng(t);const c=mN(a);ik(t,n,c,e)})}else Ki(n)&&t.callbacks_.push(function(){const s=_s(t);j1(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&gN(j1(t.copy_,e,t.type_),r.handledSet_,r)})}function gN(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ms(t)||e.has(t)||!Ki(t)||Gy(t)||(e.add(t),bh(t,(r,a)=>{if(Ms(a)){const s=a[Pr];if(Ky(s,n)){const c=mN(s);Tg(t,r,c,t.type_),ak(s)}}else Ki(a)&&gN(a,e,n)})),t}function qF(t,e){const n=Fy(t),r={type_:n?1:0,scope_:e?e.scope_:rk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=yN;n&&(a=[r],s=Yf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,[d,r]}var yN={get(t,e){if(e===Pr)return t;const n=_s(t);if(!BC(n,e,t.type_))return HF(t,n,e);const r=n[e];if(t.finalized_||!Ki(r))return r;if(r===lw(t.base_,e)){ng(t);const a=t.type_===1?+e:e,s=I1(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in _s(t)},ownKeys(t){return Reflect.ownKeys(_s(t))},set(t,e,n){const r=ok(_s(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=lw(_s(t),e),s=a==null?void 0:a[Pr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(kF(n,a)&&(n!==void 0||BC(t.base_,e,t.type_)))return!0;ng(t),C1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),FF(t,e,n)),!0},deleteProperty(t,e){return ng(t),lw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),C1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_s(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[tg]:!0,[N1]:t.type_!==1||e!=="length",[Ag]:r[Ag],[Gf]:n[e]}},defineProperty(){ei(11)},getPrototypeOf(t){return Lu(t.base_)},setPrototypeOf(){ei(12)}},Yf={};bh(yN,(t,e)=>{Yf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Yf.deleteProperty=function(t,e){return Yf.set.call(this,t,e,void 0)};Yf.set=function(t,e,n){return yN.set.call(this,t[0],e,n,t[0])};function lw(t,e){const n=t[Pr];return(n?_s(n):t)[e]}function HF(t,e,n){var a;const r=ok(e,n);return r?Gf in r?r[Gf]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function ok(t,e){if(!(e in t))return;let n=Lu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lu(n)}}function C1(t){t.modified_||(t.modified_=!0,t.parent_&&C1(t.parent_))}function ng(t){t.copy_||(t.assigned_=new Map,t.copy_=E1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(gu(n)&&!gu(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}gu(r)||ei(6),a!==void 0&&!gu(a)&&ei(7);let s;if(Ki(n)){const c=FC(this),d=I1(c,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?A1(c):T1(c)}return $C(c,a),qC(s,c)}else if(!n||!hN(n)){if(s=r(n),s===void 0&&(s=n),s===ek&&(s=void 0),this.autoFreeze_&&pN(s,!0),a){const c=[],d=[];Uu(S1).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:d}),a(c,d)}return s}else ei(1,n)},this.produceWithPatches=(n,r)=>{if(gu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},ow(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ow(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ow(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ki(e)||ei(8),Ms(e)&&(e=oi(e));const n=FC(this),r=I1(n,e,void 0);return r[Pr].isManual_=!0,T1(n),r}finishDraft(e,n){const r=e&&e[Pr];(!r||!r.isManual_)&&ei(9);const{scope_:a}=r;return $C(a,n),qC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Uu(S1).applyPatches_;return Ms(e)?a(e,n):this.produce(e,s=>a(s,n))}};function I1(t,e,n,r){const[a,s]=qy(e)?Uu(Cg).proxyMap_(e,n):Hy(e)?Uu(Cg).proxySet_(e,n):qF(e,n);return((n==null?void 0:n.scope_)??rk()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?$F(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function oi(t){return Ms(t)||ei(10,t),lk(t)}function lk(t){if(!Ki(t)||Gy(t))return t;const e=t[Pr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=E1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=E1(t,!0);return bh(n,(a,s)=>{Tg(n,a,lk(s))},r),e&&(e.finalized_=!1),n}var KF=new GF,ck=KF.produce;function uk(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var YF=uk(),WF=uk,XF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)};function Ma(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ha(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Z4(r)&&r.type===t,n}var dk=class If extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,If.prototype)}static get[Symbol.species](){return If}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new If(...e[0].concat(this)):new If(...e.concat(this))}};function GC(t){return Ki(t)?ck(t,()=>{}):t}function Cp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function QF(t){return typeof t=="boolean"}var JF=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new dk;return n&&(QF(n)?c.push(YF):c.push(WF(n.extraArgument))),c},fk="RTK_autoBatch",Jt=()=>t=>({payload:t,meta:{[fk]:!0}}),KC=t=>e=>{setTimeout(e,t)},hk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KC(10):t.type==="callback"?t.queueNotification:KC(t.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[fk]),s=!a,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},ZF=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new dk(t);return r&&a.push(hk(typeof r=="object"?r:void 0)),a};function eq(t){const e=JF(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(fN(n))d=J4(n);else throw new Error(ha(1));let f;typeof r=="function"?f=r(e):f=e();let h=Eg;a&&(h=XF({trace:!1,...typeof a=="object"&&a}));const p=DF(...f),g=ZF(p);let x=typeof c=="function"?c(g):g();const w=h(...x);return Q4(d,s,w)}function mk(t){const e={},n=[];let r;const a={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ha(28));if(d in e)throw new Error(ha(29));return e[d]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function tq(t){return typeof t=="function"}function nq(t,e){let[n,r,a]=mk(e),s;if(tq(t))s=()=>GC(t());else{const d=GC(t);s=()=>d}function c(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ms(p)){const w=g(p,f);return w===void 0?p:w}else{if(Ki(p))return ck(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=s,c}var rq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aq=(t=21)=>{let e="",n=t;for(;n--;)e+=rq[Math.random()*64|0];return e},iq=Symbol.for("rtk-slice-createasyncthunk");function sq(t,e){return`${t}/${e}`}function oq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[iq];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(ha(11));const d=(typeof a.reducers=="function"?a.reducers(cq()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(R,O){const U=typeof R=="string"?R:R.type;if(!U)throw new Error(ha(12));if(U in h.sliceCaseReducersByType)throw new Error(ha(13));return h.sliceCaseReducersByType[U]=O,p},addMatcher(R,O){return h.sliceMatchers.push({matcher:R,reducer:O}),p},exposeAction(R,O){return h.actionCreators[R]=O,p},exposeCaseReducer(R,O){return h.sliceCaseReducersByName[R]=O,p}};f.forEach(R=>{const O=d[R],U={reducerName:R,type:sq(s,R),createNotation:typeof a.reducers=="function"};dq(O)?hq(U,O,p,e):uq(U,O,p)});function g(){const[R={},O=[],U=void 0]=typeof a.extraReducers=="function"?mk(a.extraReducers):[a.extraReducers],k={...R,...h.sliceCaseReducersByType};return nq(a.initialState,V=>{for(let M in k)V.addCase(M,k[M]);for(let M of h.sliceMatchers)V.addMatcher(M.matcher,M.reducer);for(let M of O)V.addMatcher(M.matcher,M.reducer);U&&V.addDefaultCase(U)})}const x=R=>R,w=new Map,E=new WeakMap;let N;function j(R,O){return N||(N=g()),N(R,O)}function T(){return N||(N=g()),N.getInitialState()}function L(R,O=!1){function U(V){let M=V[R];return typeof M>"u"&&O&&(M=Cp(E,U,T)),M}function k(V=x){const M=Cp(w,O,()=>new WeakMap);return Cp(M,V,()=>{const I={};for(const[D,z]of Object.entries(a.selectors??{}))I[D]=lq(z,V,()=>Cp(E,V,T),O);return I})}return{reducerPath:R,getSelectors:k,get selectors(){return k(U)},selectSlice:U}}const A={name:s,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:T,...L(c),injectInto(R,{reducerPath:O,...U}={}){const k=O??c;return R.inject({reducerPath:k,reducer:j},U),{...A,...L(k,!0)}}};return A}}function lq(t,e,n,r){function a(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Qr=oq();function cq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function uq({type:t,reducerName:e,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!fq(r))throw new Error(ha(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Ma(t,c):Ma(t))}function dq(t){return t._reducerDefinitionType==="asyncThunk"}function fq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ha(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||Ip,pending:d||Ip,rejected:f||Ip,settled:h||Ip})}function Ip(){}var mq="task",pk="listener",gk="completed",vN="cancelled",pq=`task-${vN}`,gq=`task-${gk}`,O1=`${pk}-${vN}`,yq=`${pk}-${gk}`,Yy=class{constructor(t){eb(this,"name","TaskAbortError");eb(this,"message");this.code=t,this.message=`${mq} ${vN} (reason: ${t})`}},xN=(t,e)=>{if(typeof t!="function")throw new TypeError(ha(32))},Ig=()=>{},yk=(t,e=Ig)=>(t.catch(e),t),vk=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Jl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Zl=t=>{if(t.aborted){const{reason:e}=t;throw new Yy(e)}};function xk(t,e){let n=Ig;return new Promise((r,a)=>{const s=()=>a(new Yy(t.reason));if(t.aborted){s();return}n=vk(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Ig})}var vq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Yy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Og=t=>e=>yk(xk(t,e).then(n=>(Zl(t),n))),bk=t=>{const e=Og(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Su}=Object,YC={},Wy="listenerMiddleware",xq=(t,e)=>{const n=r=>vk(t,()=>Jl(r,t.reason));return(r,a)=>{xN(r);const s=new AbortController;n(s);const c=vq(async()=>{Zl(t),Zl(s.signal);const d=await r({pause:Og(s.signal),delay:bk(s.signal),signal:s.signal});return Zl(s.signal),d},()=>Jl(s,gq));return a!=null&&a.autoJoin&&e.push(c.catch(Ig)),{result:Og(t)(c),cancel(){Jl(s,pq)}}}},bq=(t,e)=>{const n=async(r,a)=>{Zl(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await xk(e,Promise.race(d));return Zl(e),f}finally{s()}};return(r,a)=>yk(n(r,a))},wk=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Ma(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ha(21));return xN(s),{predicate:a,type:e,effect:s}},_k=Su(t=>{const{type:e,predicate:n,effect:r}=wk(t);return{id:aq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ha(22))}}},{withTypes:()=>_k}),WC=(t,e)=>{const{type:n,effect:r,predicate:a}=wk(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},R1=t=>{t.pending.forEach(e=>{Jl(e,O1)})},wq=(t,e)=>()=>{for(const n of e.keys())R1(n);t.clear()},XC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Nk=Su(Ma(`${Wy}/add`),{withTypes:()=>Nk}),_q=Ma(`${Wy}/removeAll`),jk=Su(Ma(`${Wy}/remove`),{withTypes:()=>jk}),Nq=(...t)=>{console.error(`${Wy}/error`,...t)},_h=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:c=Nq}=t;xN(c);const d=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E!=null&&E.cancelActive&&R1(w)}),f=w=>{const E=WC(e,w)??_k(w);return d(E)};Su(f,{withTypes:()=>f});const h=w=>{const E=WC(e,w);return E&&(E.unsubscribe(),w.cancelActive&&R1(E)),!!E};Su(h,{withTypes:()=>h});const p=async(w,E,N,j)=>{const T=new AbortController,L=bq(f,T.signal),A=[];try{w.pending.add(T),r(w),await Promise.resolve(w.effect(E,Su({},N,{getOriginalState:j,condition:(R,O)=>L(R,O).then(Boolean),take:L,delay:bk(T.signal),pause:Og(T.signal),extra:s,signal:T.signal,fork:xq(T.signal,A),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((R,O,U)=>{R!==T&&(Jl(R,O1),U.delete(R))})},cancel:()=>{Jl(T,O1),w.pending.delete(T)},throwIfCancelled:()=>{Zl(T.signal)}})))}catch(R){R instanceof Yy||XC(c,R,{raisedBy:"effect"})}finally{await Promise.all(A),Jl(T,yq),a(w),w.pending.delete(T)}},g=wq(e,n);return{middleware:w=>E=>N=>{if(!Z4(N))return E(N);if(Nk.match(N))return f(N.payload);if(_q.match(N)){g();return}if(jk.match(N))return h(N.payload);let j=w.getState();const T=()=>{if(j===YC)throw new Error(ha(23));return j};let L;try{if(L=E(N),e.size>0){const A=w.getState(),R=Array.from(e.values());for(const O of R){let U=!1;try{U=O.predicate(N,A,j)}catch(k){U=!1,XC(c,k,{raisedBy:"predicate"})}U&&p(O,N,w,T)}}}finally{j=YC}return L},startListening:f,stopListening:h,clearListeners:g}};function ha(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Ek=Qr({name:"chartLayout",initialState:jq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Eq,setLayout:Sq,setChartSize:Aq,setScale:Tq}=Ek.actions,Cq=Ek.reducer;function Sk(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){Iq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iq(t,e,n){return(e=Oq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oq(t){var e=Rq(t,"string");return typeof e=="symbol"?e:e+""}function Rq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function en(t,e,n){return rr(t)||rr(e)?n:Gi(e)?rc(t,e,n):typeof e=="function"?e(t):n}var Dq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Me(t[s]))return _u(_u({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Me(t[c]))return _u(_u({},t),{},{[c]:t[c]+(a||0)})}return t},gc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Ak=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||c.push(e),s||c.push(n),c},Tk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:w}=t;if(!c)return null;var E=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,N=a==="category"&&c.bandwidth?c.bandwidth()/E:0;if(N=w==="angleAxis"&&s&&s.length>=2?nr(s[0]-s[1])*2*N:N,g||x){var j=(g||x||[]).map((T,L)=>{var A=r?r.indexOf(T):T;return{coordinate:c(A)+N,value:T,offset:N,index:L}});return j.filter(T=>!ci(T.coordinate))}return f&&h?h.map((T,L)=>({coordinate:c(T)+N,value:T,index:L,offset:N})):c.ticks&&p!=null?c.ticks(p).map((T,L)=>({coordinate:c(T)+N,value:T,offset:N,index:L})):c.domain().map((T,L)=>({coordinate:c(T)+N,value:r?r[T]:T,index:L,offset:N}))},JC=1e-4,Pq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-JC,s=Math.max(r[0],r[1])+JC,c=t(e[0]),d=t(e[n-1]);(c<a||c>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},kq=(t,e)=>{if(!e||e.length!==2||!Me(e[0])||!Me(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Me(t[0])||t[0]<n)&&(a[0]=n),(!Me(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Mq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,c=0;c<e;++c){var d=ci(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},Lq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var c=ci(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Uq={sign:Mq,expand:u$,none:Mu,silhouette:d$,wiggle:f$,positive:Lq},Vq=(t,e,n)=>{var r=Uq[n],a=c$().keys(e).value((s,c)=>Number(en(s,c,0))).order(w1).offset(r);return a(t)};function zq(t){return t==null?void 0:String(t)}var ZC=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=en(s,e.dataKey,e.scale.domain()[c]);return rr(d)?null:e.scale(d)-a/2+r},Bq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},$q=t=>{var e=t.flat(2).filter(Me);return[Math.min(...e),Math.max(...e)]},Fq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],qq=(t,e,n)=>{if(t!=null)return Fq(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:c}=s,d=c.reduce((f,h)=>{var p=Sk(h,e,n),g=$q(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},eI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=By(e,p=>p.coordinate),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],h=a[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function nI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return _u(_u({},e),{},{dataKey:n,payload:r,value:a,name:s})}function Xy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Hq=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Gq=(t,e)=>e==="centric"?t.angle:t.radius,Ks=t=>t.layout.width,Ys=t=>t.layout.height,Kq=t=>t.layout.scale,Ck=t=>t.layout.margin,Qy=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Jy=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ik="data-recharts-item-index",Ok="data-recharts-item-data-key",Nh=60;function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Yq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yq(t,e,n){return(e=Wq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wq(t){var e=Xq(t,"string");return typeof e=="symbol"?e:e+""}function Xq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qq=t=>t.brush.height;function Jq(t){var e=Jy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nh;return n+a}return n},0)}function Zq(t){var e=Jy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nh;return n+a}return n},0)}function eH(t){var e=Qy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function tH(t){var e=Qy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qn=ie([Ks,Ys,Ck,Qq,Jq,Zq,eH,tH,X4,AF],(t,e,n,r,a,s,c,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},x=Op(Op({},g),p),w=x.bottom;x.bottom+=r,x=Dq(x,f,h);var E=t-x.left-x.right,N=e-x.top-x.bottom;return Op(Op({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(N,0)})}),nH=ie(qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bN=ie(Ks,Ys,(t,e)=>({x:0,y:0,width:t,height:e})),rH=_.createContext(null),Jr=()=>_.useContext(rH)!=null,Zy=t=>t.brush,e0=ie([Zy,qn,Ck],(t,e,n)=>({height:t.height,x:Me(t.x)?t.x:e.left,y:Me(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Me(t.width)?t.width:e.width})),cw={},uw={},dw={},aI;function aH(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),N()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},N=()=>{E(),c=void 0,d=null},j=()=>{p()},T=function(...L){if(a!=null&&a.aborted)return;c=this,d=L;const A=x==null;w(),f&&A&&p()};return T.schedule=w,T.cancel=N,T.flush=j,a==null||a.addEventListener("abort",N,{once:!0}),T}t.debounce=e})(dw)),dw}var iI;function iH(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aH();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...N){p=r.apply(this,N),g=null},a,{edges:h}),w=function(...N){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,N),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,N),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}t.debounce=n})(uw)),uw}var sI;function sH(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iH();function n(r,a=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(cw)),cw}var fw,oI;function oH(){return oI||(oI=1,fw=sH().throttle),fw}var lH=oH();const cH=Ji(lH);var Dg=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Rk=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:c}=n,d=ks(r)?t:Number(r),f=ks(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},uH={width:0,height:0,overflow:"visible"},dH={width:0,overflowX:"visible"},fH={height:0,overflowY:"visible"},hH={},mH=t=>{var{width:e,height:n}=t,r=ks(e),a=ks(n);return r&&a?uH:r?dH:a?fH:hH};function pH(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function wn(t){return Number.isFinite(t)}function Yi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D1.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){gH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gH(t,e,n){return(e=yH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yH(t){var e=vH(t,"string");return typeof e=="symbol"?e:e+""}function vH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dk=_.createContext({width:-1,height:-1});function xH(t){return Yi(t.width)&&Yi(t.height)}function Pk(t){var{children:e,width:n,height:r}=t,a=_.useMemo(()=>({width:n,height:r}),[n,r]);return xH(a)?_.createElement(Dk.Provider,{value:a},e):null}var wN=()=>_.useContext(Dk),bH=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:c=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:w,style:E={}}=t,N=_.useRef(null),j=_.useRef();j.current=w,_.useImperativeHandle(e,()=>N.current);var[T,L]=_.useState({containerWidth:r.width,containerHeight:r.height}),A=_.useCallback((V,M)=>{L(I=>{var D=Math.round(V),z=Math.round(M);return I.containerWidth===D&&I.containerHeight===z?I:{containerWidth:D,containerHeight:z}})},[]);_.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return xh;var V=z=>{var B,{width:ye,height:le}=z[0].contentRect;A(ye,le),(B=j.current)===null||B===void 0||B.call(j,ye,le)};p>0&&(V=cH(V,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(V),{width:I,height:D}=N.current.getBoundingClientRect();return A(I,D),M.observe(N.current),()=>{M.disconnect()}},[A,p]);var{containerWidth:R,containerHeight:O}=T;Dg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:k}=Rk(R,O,{width:a,height:s,aspect:n,maxHeight:f});return Dg(U!=null&&U>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,k,a,s,c,d,n),_.createElement("div",{id:g?"".concat(g):void 0,className:kt("recharts-responsive-container",x),style:cI(cI({},E),{},{width:a,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:N},_.createElement("div",{style:mH({width:a,height:s})},_.createElement(Pk,{width:U,height:k},h)))}),kk=_.forwardRef((t,e)=>{var n=wN();if(Yi(n.width)&&Yi(n.height))return t.children;var{width:r,height:a}=pH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=Rk(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Me(s)&&Me(c)?_.createElement(Pk,{width:s,height:c},t.children):_.createElement(bH,D1({},t,{width:r,height:a,ref:e}))});function Mk(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var t0=()=>{var t,e=Jr(),n=Le(nH),r=Le(e0),a=(t=Le(Zy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},wH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Lk=()=>{var t;return(t=Le(qn))!==null&&t!==void 0?t:wH},Uk=()=>Le(Ks),Vk=()=>Le(Ys),xt=t=>t.layout.layoutType,n0=()=>Le(xt),_H=()=>{var t=n0();return t!==void 0},r0=t=>{var e=rn(),n=Jr(),{width:r,height:a}=t,s=wN(),c=r,d=a;return s&&(c=s.width>0?s.width:r,d=s.height>0?s.height:a),_.useEffect(()=>{!n&&Yi(c)&&Yi(d)&&e(Aq({width:c,height:d}))},[e,n,c,d]),null},zk=Symbol.for("immer-nothing"),uI=Symbol.for("immer-draftable"),ga=Symbol.for("immer-state");function ti(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wf=Object.getPrototypeOf;function Vu(t){return!!t&&!!t[ga]}function ac(t){var e;return t?Bk(t)||Array.isArray(t)||!!t[uI]||!!((e=t.constructor)!=null&&e[uI])||jh(t)||i0(t):!1}var NH=Object.prototype.constructor.toString(),dI=new WeakMap;function Bk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=dI.get(n);return r===void 0&&(r=Function.toString.call(n),dI.set(n,r)),r===NH}function Pg(t,e,n=!0){a0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function a0(t){const e=t[ga];return e?e.type_:Array.isArray(t)?1:jh(t)?2:i0(t)?3:0}function P1(t,e){return a0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $k(t,e,n){const r=a0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function jH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jh(t){return t instanceof Map}function i0(t){return t instanceof Set}function Fl(t){return t.copy_||t.base_}function k1(t,e){if(jh(t))return new Map(t);if(i0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Bk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ga];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Wf(t),r)}else{const r=Wf(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function _N(t,e=!1){return s0(t)||Vu(t)||!ac(t)||(a0(t)>1&&Object.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),Object.freeze(t),e&&Object.values(t).forEach(n=>_N(n,!0))),t}function EH(){ti(2)}var Rp={value:EH};function s0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var SH={};function ic(t){const e=SH[t];return e||ti(0,t),e}var Xf;function Fk(){return Xf}function AH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fI(t,e){e&&(ic("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function M1(t){L1(t),t.drafts_.forEach(TH),t.drafts_=null}function L1(t){t===Xf&&(Xf=t.parent_)}function hI(t){return Xf=AH(Xf,t)}function TH(t){const e=t[ga];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function mI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ga].modified_&&(M1(e),ti(4)),ac(t)&&(t=kg(e,t),e.parent_||Mg(e,t)),e.patches_&&ic("Patches").generateReplacementPatches_(n[ga].base_,t,e.patches_,e.inversePatches_)):t=kg(e,n,[]),M1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==zk?t:void 0}function kg(t,e,n){if(s0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ga];if(!a)return Pg(e,(s,c)=>pI(t,a,e,s,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Mg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,d=!1;a.type_===3&&(c=new Set(s),s.clear(),d=!0),Pg(c,(f,h)=>pI(t,a,s,f,h,n,d),r),Mg(t,s,!1),n&&t.patches_&&ic("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function pI(t,e,n,r,a,s,c){if(a==null||typeof a!="object"&&!c)return;const d=s0(a);if(!(d&&!c)){if(Vu(a)){const f=s&&e&&e.type_!==3&&!P1(e.assigned_,r)?s.concat(r):void 0,h=kg(t,a,f);if($k(n,r,h),Vu(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(ac(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;kg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(jh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Mg(t,a)}}}function Mg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&_N(e,n)}function CH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Fk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=NN;n&&(a=[r],s=Qf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,d}var NN={get(t,e){if(e===ga)return t;const n=Fl(t);if(!P1(n,e))return IH(t,n,e);const r=n[e];return t.finalized_||!ac(r)?r:r===hw(t.base_,e)?(mw(t),t.copy_[e]=V1(r,t)):r},has(t,e){return e in Fl(t)},ownKeys(t){return Reflect.ownKeys(Fl(t))},set(t,e,n){const r=qk(Fl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=hw(Fl(t),e),s=a==null?void 0:a[ga];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(jH(n,a)&&(n!==void 0||P1(t.base_,e)))return!0;mw(t),U1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mw(t),U1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ti(11)},getPrototypeOf(t){return Wf(t.base_)},setPrototypeOf(){ti(12)}},Qf={};Pg(NN,(t,e)=>{Qf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Qf.deleteProperty=function(t,e){return Qf.set.call(this,t,e,void 0)};Qf.set=function(t,e,n){return NN.set.call(this,t[0],e,n,t[0])};function hw(t,e){const n=t[ga];return(n?Fl(n):t)[e]}function IH(t,e,n){var a;const r=qk(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function qk(t,e){if(!(e in t))return;let n=Wf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wf(n)}}function U1(t){t.modified_||(t.modified_=!0,t.parent_&&U1(t.parent_))}function mw(t){t.copy_||(t.copy_=k1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var OH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&ti(6),r!==void 0&&typeof r!="function"&&ti(7);let a;if(ac(e)){const s=hI(this),c=V1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?M1(s):L1(s)}return fI(s,r),mI(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===zk&&(a=void 0),this.autoFreeze_&&_N(a,!0),r){const s=[],c=[];ic("Patches").generateReplacementPatches_(e,a,s,c),r(s,c)}return a}else ti(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ac(t)||ti(8),Vu(t)&&(t=RH(t));const e=hI(this),n=V1(t,void 0);return n[ga].isManual_=!0,L1(e),n}finishDraft(t,e){const n=t&&t[ga];(!n||!n.isManual_)&&ti(9);const{scope_:r}=n;return fI(r,e),mI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=ic("Patches").applyPatches_;return Vu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function V1(t,e){const n=jh(t)?ic("MapSet").proxyMap_(t,e):i0(t)?ic("MapSet").proxySet_(t,e):CH(t,e);return(e?e.scope_:Fk()).drafts_.push(n),n}function RH(t){return Vu(t)||ti(10,t),Hk(t)}function Hk(t){if(!ac(t)||s0(t))return t;const e=t[ga];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=k1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=k1(t,!0);return Pg(n,(a,s)=>{$k(n,a,Hk(s))},r),e&&(e.finalized_=!1),n}var DH=new OH;DH.produce;var PH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Gk=Qr({name:"legend",initialState:PH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Jt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Jt()},removeLegendPayload:{reducer(t,e){var n=oi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Jt()}}}),{setLegendSize:_ge,setLegendSettings:Nge,addLegendPayload:Kk,replaceLegendPayload:Yk,removeLegendPayload:Wk}=Gk.actions,kH=Gk.reducer;function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){MH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MH(t,e,n){return(e=LH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LH(t){var e=UH(t,"string");return typeof e=="symbol"?e:e+""}function UH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VH(t){return Array.isArray(t)&&Gi(t[0])&&Gi(t[1])?t.join(" ~ "):t}var zH=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var O={padding:0,margin:0},U=(d?By(s,d):s).map((k,V)=>{if(k.type==="none")return null;var M=k.formatter||c||VH,{value:I,name:D}=k,z=I,B=D;if(M){var ye=M(I,D,k,V,s);if(Array.isArray(ye))[z,B]=ye;else if(ye!=null)z=ye;else return null}var le=pw({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:le},Gi(B)?_.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Gi(B)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},z),_.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:O},U)}return null},E=pw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),N=pw({margin:0},a),j=!rr(p),T=j?p:"",L=kt("recharts-default-tooltip",f),A=kt("recharts-tooltip-label",h);j&&g&&s!==void 0&&s!==null&&(T=g(p,s));var R=x?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",z1({className:L,style:E},R),_.createElement("p",{className:A,style:N},_.isValidElement(T)?T:"".concat(T)),w())},bf="recharts-tooltip-wrapper",BH={visibility:"hidden"};function $H(t){var{coordinate:e,translateX:n,translateY:r}=t;return kt(bf,{["".concat(bf,"-right")]:Me(n)&&e&&Me(e.x)&&n>=e.x,["".concat(bf,"-left")]:Me(n)&&e&&Me(e.x)&&n<e.x,["".concat(bf,"-bottom")]:Me(r)&&e&&Me(e.y)&&r>=e.y,["".concat(bf,"-top")]:Me(r)&&e&&Me(e.y)&&r<e.y})}function yI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Me(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var x=f[r];if(x==null)return 0;if(c[r]){var w=p,E=x;return w<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var N=g+d,j=x+h;return N>j?Math.max(p,x):Math.max(g,x)}function FH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function qH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:f}=t,h,p,g;return c.height>0&&c.width>0&&n?(p=yI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=yI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=FH({translateX:p,translateY:g,useTranslate3d:d})):h=BH,{cssProperties:h,cssClasses:$H({translateX:p,translateY:g,coordinate:n})}}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){B1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B1(t,e,n){return(e=HH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HH(t){var e=GH(t,"string");return typeof e=="symbol"?e:e+""}function GH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KH extends _.PureComponent{constructor(){super(...arguments),B1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),B1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:N,innerRef:j,hasPortalFromProps:T}=this.props,{cssClasses:L,cssProperties:A}=qH({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:w}),R=T?{}:Dp(Dp({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=Dp(Dp({},R),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:O,ref:j},s)}}var YH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yc={devToolsEnabled:!1,isSsr:YH()},Xk=()=>{var t;return(t=Le(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){WH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WH(t,e,n){return(e=XH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XH(t){var e=QH(t,"string");return typeof e=="symbol"?e:e+""}function QH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wI={curveBasisClosed:JB,curveBasisOpen:ZB,curveBasis:QB,curveBumpX:LB,curveBumpY:UB,curveLinearClosed:e$,curveLinear:Uy,curveMonotoneX:t$,curveMonotoneY:n$,curveNatural:r$,curveStep:a$,curveStepAfter:s$,curveStepBefore:i$},Lg=t=>wn(t.x)&&wn(t.y),_I=t=>t.base!=null&&Lg(t.base)&&Lg(t),wf=t=>t.x,_f=t=>t.y,JH=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(vh(t));return(n==="curveMonotone"||n==="curveBump")&&e?wI["".concat(n).concat(e==="vertical"?"Y":"X")]:wI[n]||Uy},ZH=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,c=JH(e,a),d=s?n.filter(Lg):n,f;if(Array.isArray(r)){var h=n.map((w,E)=>bI(bI({},w),{},{base:r[E]}));a==="vertical"?f=Ep().y(_f).x1(wf).x0(w=>w.base.x):f=Ep().x(wf).y1(_f).y0(w=>w.base.y);var p=f.defined(_I).curve(c),g=s?h.filter(_I):h;return p(g)}a==="vertical"&&Me(r)?f=Ep().y(_f).x1(wf).x0(r):Me(r)?f=Ep().x(wf).y1(_f).y0(r):f=_4().x(wf).y(_f);var x=f.defined(Lg).curve(c);return x(d)},jN=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?ZH(t):r;return _.createElement("path",$1({},li(t),I$(t),{className:kt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},eG=["x","y","top","left","width","height","className"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(null,arguments)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){nG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nG(t,e,n){return(e=rG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rG(t){var e=aG(t,"string");return typeof e=="symbol"?e:e+""}function aG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iG(t,e){if(t==null)return{};var n,r,a=sG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oG=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),lG=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:d}=t,f=iG(t,eG),h=tG({x:e,y:n,top:r,left:a,width:s,height:c},f);return!Me(e)||!Me(n)||!Me(s)||!Me(c)||!Me(r)||!Me(a)?null:_.createElement("path",F1({},ka(h),{className:kt("recharts-cross",d),d:oG(e,n,s,c,r,a)}))};function cG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){uG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uG(t,e,n){return(e=dG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dG(t){var e=fG(t,"string");return typeof e=="symbol"?e:e+""}function fG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Qk=(t,e,n)=>t.map(r=>"".concat(hG(r)," ").concat(e,"ms ").concat(n)).join(","),mG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Jf=(t,e)=>Object.keys(e).reduce((n,r)=>EI(EI({},n),{},{[r]:t(r,e[r])}),{});function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){pG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pG(t,e,n){return(e=gG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gG(t){var e=yG(t,"string");return typeof e=="symbol"?e:e+""}function yG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=(t,e,n)=>t+(e-t)*n,q1=t=>{var{from:e,to:n}=t;return e!==n},Jk=(t,e,n)=>{var r=Jf((a,s)=>{if(q1(s)){var[c,d]=t(s.from,s.to,s.velocity);return zn(zn({},s),{},{from:c,velocity:d})}return s},e);return n<1?Jf((a,s)=>q1(s)?zn(zn({},s),{},{velocity:Ug(s.velocity,r[a].velocity,n),from:Ug(s.from,r[a].from,n)}):s,e):Jk(t,r,n-1)};function vG(t,e,n,r,a,s){var c,d=r.reduce((x,w)=>zn(zn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Jf((x,w)=>w.from,d),h=()=>!Object.values(d).filter(q1).length,p=null,g=x=>{c||(c=x);var w=x-c,E=w/n.dt;d=Jk(n,d,E),a(zn(zn(zn({},t),e),f())),c=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function xG(t,e,n,r,a,s,c){var d=null,f=a.reduce((g,x)=>zn(zn({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,w=Jf((N,j)=>Ug(...j,n(x)),f);if(s(zn(zn(zn({},t),e),w)),x<1)d=c.setTimeout(p);else{var E=Jf((N,j)=>Ug(...j,n(1)),f);s(zn(zn(zn({},t),e),E))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const bG=(t,e,n,r,a,s)=>{var c=mG(t,e);return n==null?()=>(a(zn(zn({},t),e)),()=>{}):n.isStepper===!0?vG(t,e,n,c,a,s):xG(t,e,n,r,c,a,s)};var Vg=1e-4,Zk=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],eM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),AI=(t,e)=>n=>{var r=Zk(t,e);return eM(r,n)},wG=(t,e)=>n=>{var r=Zk(t,e),a=[...r.map((s,c)=>s*c).slice(1),0];return eM(a,n)},_G=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},NG=(t,e,n,r)=>{var a=AI(t,n),s=AI(e,r),c=wG(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var w=a(g)-p,E=c(g);if(Math.abs(w-p)<Vg||E<Vg)return s(g);g=d(g-w/E)}return s(g)};return f.isStepper=!1,f},TI=function(){return NG(..._G(...arguments))},jG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+c;return Math.abs(x-d)<Vg&&Math.abs(g)<Vg?[d,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},EG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TI(t);case"spring":return jG();default:if(t.split("(")[0]==="cubic-bezier")return TI(t)}return typeof t=="function"?t:null};function SG(t){var e,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class AG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function TG(){return SG(new AG)}var CG=_.createContext(TG);function IG(t,e){var n=_.useContext(CG);return _.useMemo(()=>e??n(t),[t,e,n])}var OG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},CI={t:0},gw={t:1};function o0(t){var e=Sr(t,OG),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!yc.isSsr:n,g=IG(e.animationId,e.animationManager),[x,w]=_.useState(p?CI:gw),E=_.useRef(null);return _.useEffect(()=>{p||w(gw)},[p]),_.useEffect(()=>{if(!p||!r)return xh;var N=bG(CI,gw,EG(s),a,w,g.getTimeoutController()),j=()=>{E.current=N()};return g.start([f,c,j,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,c,f,d,g]),h(x.t)}function l0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Hf(e)),r=_.useRef(t);return r.current!==t&&(n.current=Hf(e),r.current=t),n.current}var RG=["radius"],DG=["radius"];function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){PG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PG(t,e,n){return(e=kG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kG(t){var e=MG(t,"string");return typeof e=="symbol"?e:e+""}function MG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}function RI(t,e){if(t==null)return{};var n,r,a=LG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function LG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DI=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+c*p[1])),h+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-c*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var w=Math.min(s,a);h="M ".concat(t,",").concat(e+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(e,`
            L `).concat(t+n-d*w,",").concat(e,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n,",").concat(e+c*w,`
            L `).concat(t+n,",").concat(e+r-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+n-d*w,",").concat(e+r,`
            L `).concat(t+d*w,",").concat(e+r,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(e+r-c*w," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},PI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tM=t=>{var e=Sr(t,PI),n=_.useRef(null),[r,a]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&a(oe)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:N}=e,j=_.useRef(d),T=_.useRef(f),L=_.useRef(s),A=_.useRef(c),R=_.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),O=l0(R,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var U=kt("recharts-rectangle",p);if(!N){var k=ka(e),{radius:V}=k,M=RI(k,RG);return _.createElement("path",zg({},M,{radius:typeof h=="number"?h:void 0,className:U,d:DI(s,c,d,f,h)}))}var I=j.current,D=T.current,z=L.current,B=A.current,ye="0px ".concat(r===-1?1:r,"px"),le="".concat(r,"px 0px"),W=Qk(["strokeDasharray"],x,typeof g=="string"?g:PI.animationEasing);return _.createElement(o0,{animationId:O,key:O,canBegin:r>0,duration:x,easing:g,isActive:N,begin:w},oe=>{var J=Vn(I,d,oe),X=Vn(D,f,oe),K=Vn(z,s,oe),F=Vn(B,c,oe);n.current&&(j.current=J,T.current=X,L.current=K,A.current=F);var Y;E?oe>0?Y={transition:W,strokeDasharray:le}:Y={strokeDasharray:ye}:Y={strokeDasharray:le};var H=ka(e),{radius:Z}=H,fe=RI(H,DG);return _.createElement("path",zg({},fe,{radius:typeof h=="number"?h:void 0,className:U,d:DI(K,F,J,X,h),ref:n,style:OI(OI({},Y),e.style)}))})};function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){UG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UG(t,e,n){return(e=VG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VG(t){var e=zG(t,"string");return typeof e=="symbol"?e:e+""}function zG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bg=Math.PI/180,BG=t=>t*180/Math.PI,kn=(t,e,n,r)=>({x:t+Math.cos(-Bg*r)*n,y:e+Math.sin(-Bg*r)*n}),nM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},$G=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},FG=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,c=$G({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:c,angle:BG(f),angleInRadian:f}},qG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},HG=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return t+c*360},GG=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=FG({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:h}=qG(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?MI(MI({},e),{},{radius:a,angle:HG(p,e)}):null};function rM(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,c=kn(e,n,r,a),d=kn(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H1.apply(null,arguments)}var KG=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Pp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/Bg,g=f?a:a+s*p,x=kn(e,n,h,g),w=kn(e,n,r,g),E=f?a-s*p:a,N=kn(e,n,h*Math.cos(p*Bg),E);return{center:x,circleTangency:w,lineTangency:N,theta:p}},aM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=t,d=KG(s,c),f=s+d,h=kn(e,n,a,s),p=kn(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=kn(e,n,r,s),w=kn(e,n,r,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},YG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=nr(h-f),{circleTangency:g,lineTangency:x,theta:w}=Pp({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:N,theta:j}=Pp({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),T=d?Math.abs(f-h):Math.abs(f-h)-w-j;if(T<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):aM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var L="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:R,theta:O}=Pp({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:U,lineTangency:k,theta:V}=Pp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),M=d?Math.abs(f-h):Math.abs(f-h)-O-V;if(M<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(R.x,",").concat(R.y,"Z")}else L+="L".concat(e,",").concat(n,"Z");return L},WG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iM=t=>{var e=Sr(t,WG),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=kt("recharts-sector",g),w=s-a,E=jr(c,w,0,!0),N;return E>0&&Math.abs(h-p)<360?N=YG({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):N=aM({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),_.createElement("path",H1({},ka(e),{className:x,d:N}))};function XG(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(L4(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:c,angle:d}=e,f=kn(r,a,s,d),h=kn(r,a,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return rM(e)}}var yw={},vw={},xw={},LI;function QG(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(xw)),xw}var UI;function JG(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QG();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(vw)),vw}var VI;function ZG(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4(),n=JG();function r(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=c;return f}t.range=r})(yw)),yw}var bw,zI;function eK(){return zI||(zI=1,bw=ZG().range),bw}var tK=eK();const sM=Ji(tK);function zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EN(t){let e,n,r;t.length!==2?(e=zo,n=(d,f)=>zo(t(d),f),r=(d,f)=>t(d)-f):(e=t===zo||t===nK?t:rK,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:c,right:s}}function rK(){return 0}function oM(t){return t===null?NaN:+t}function*aK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const iK=EN(zo),Eh=iK.right;EN(oM).center;class BI extends Map{constructor(e,n=lK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get($I(this,e))}has(e){return super.has($I(this,e))}set(e,n){return super.set(sK(this,e),n)}delete(e){return super.delete(oK(this,e))}}function $I({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function oK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cK(t=zo){if(t===zo)return lM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function lM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uK=Math.sqrt(50),dK=Math.sqrt(10),fK=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=uK?10:s>=dK?5:s>=fK?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?$g(t,e,n*2):[d,f,h]}function G1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,c]=r?$g(e,t,n):$g(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(a+h)/-c;else for(let h=0;h<d;++h)f[h]=(a+h)*c;return f}function K1(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function Y1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?K1(e,t,n):K1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function FI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function cM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?lM:cK(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));cM(t,e,w,E,a)}const s=t[e];let c=n,d=r;for(Nf(t,n,e),a(t[r],s)>0&&Nf(t,n,r);c<d;){for(Nf(t,c,d),++c,--d;a(t[c],s)<0;)++c;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?Nf(t,n,d):(++d,Nf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Nf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hK(t,e,n){if(t=Float64Array.from(aK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qI(t);if(e>=1)return FI(t);var r,a=(r-1)*e,s=Math.floor(a),c=FI(cM(t,s).subarray(0,s+1)),d=qI(t.subarray(s+1));return c+(d-c)*(a-s)}}function mK(t,e,n=oM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(a-s)}}function pK(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ws(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const W1=Symbol("implicit");function SN(){var t=new BI,e=[],n=[],r=W1;function a(s){let c=t.get(s);if(c===void 0){if(r!==W1)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new BI;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return SN(e,n).unknown(r)},Va.apply(a,arguments),a}function AN(){var t=SN().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,w=a<r,E=w?a:r,N=w?r:a;s=(N-E)/Math.max(1,x-f+h*2),d&&(s=Math.floor(s)),E+=(N-E-s*(x-f))*p,c=s*(1-f),d&&(E=Math.round(E),c=Math.round(c));var j=pK(x).map(function(T){return E+s*T});return n(w?j.reverse():j)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return AN(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Va.apply(g(),arguments)}function uM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return uM(e())},t}function gK(){return uM(AN.apply(null,arguments).paddingInner(1))}function TN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sh(){}var Zf=.7,Fg=1/Zf,Au="\\s*([+-]?\\d+)\\s*",eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yK=/^#([0-9a-f]{3,8})$/,vK=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),xK=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),bK=new RegExp(`^rgba\\(${Au},${Au},${Au},${eh}\\)$`),wK=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${eh}\\)$`),_K=new RegExp(`^hsl\\(${eh},${Ui},${Ui}\\)$`),NK=new RegExp(`^hsla\\(${eh},${Ui},${Ui},${eh}\\)$`),HI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TN(Sh,th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GI,formatHex:GI,formatHex8:jK,formatHsl:EK,formatRgb:KI,toString:KI});function GI(){return this.rgb().formatHex()}function jK(){return this.rgb().formatHex8()}function EK(){return fM(this).formatHsl()}function KI(){return this.rgb().formatRgb()}function th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?YI(e):n===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vK.exec(t))?new Kr(e[1],e[2],e[3],1):(e=xK.exec(t))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bK.exec(t))?kp(e[1],e[2],e[3],e[4]):(e=wK.exec(t))?kp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_K.exec(t))?QI(e[1],e[2]/100,e[3]/100,1):(e=NK.exec(t))?QI(e[1],e[2]/100,e[3]/100,e[4]):HI.hasOwnProperty(t)?YI(HI[t]):t==="transparent"?new Kr(NaN,NaN,NaN,0):null}function YI(t){return new Kr(t>>16&255,t>>8&255,t&255,1)}function kp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kr(t,e,n,r)}function SK(t){return t instanceof Sh||(t=th(t)),t?(t=t.rgb(),new Kr(t.r,t.g,t.b,t.opacity)):new Kr}function X1(t,e,n,r){return arguments.length===1?SK(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}TN(Kr,X1,dM(Sh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kr(ec(this.r),ec(this.g),ec(this.b),qg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WI,formatHex:WI,formatHex8:AK,formatRgb:XI,toString:XI}));function WI(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}`}function AK(){return`#${Gl(this.r)}${Gl(this.g)}${Gl(this.b)}${Gl((isNaN(this.opacity)?1:this.opacity)*255)}`}function XI(){const t=qg(this.opacity);return`${t===1?"rgb(":"rgba("}${ec(this.r)}, ${ec(this.g)}, ${ec(this.b)}${t===1?")":`, ${t})`}`}function qg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gl(t){return t=ec(t),(t<16?"0":"")+t.toString(16)}function QI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ni(t,e,n,r)}function fM(t){if(t instanceof ni)return new ni(t.h,t.s,t.l,t.opacity);if(t instanceof Sh||(t=th(t)),!t)return new ni;if(t instanceof ni)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-a,f=(s+a)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new ni(c,d,f,t.opacity)}function TK(t,e,n,r){return arguments.length===1?fM(t):new ni(t,e,n,r??1)}function ni(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}TN(ni,TK,dM(Sh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Kr(ww(t>=240?t-240:t+120,a,r),ww(t,a,r),ww(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ni(JI(this.h),Mp(this.s),Mp(this.l),qg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qg(this.opacity);return`${t===1?"hsl(":"hsla("}${JI(this.h)}, ${Mp(this.s)*100}%, ${Mp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JI(t){return t=(t||0)%360,t<0?t+360:t}function Mp(t){return Math.max(0,Math.min(1,t||0))}function ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const CN=t=>()=>t;function CK(t,e){return function(n){return t+n*e}}function IK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function OK(t){return(t=+t)==1?hM:function(e,n){return n-e?IK(e,n,t):CN(isNaN(e)?n:e)}}function hM(t,e){var n=e-t;return n?CK(t,n):CN(isNaN(t)?e:t)}const ZI=(function t(e){var n=OK(e);function r(a,s){var c=n((a=X1(a)).r,(s=X1(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=hM(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function RK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function DK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function PK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=td(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=a[c](d);return s}}function kK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function MK(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=td(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Q1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_w=new RegExp(Q1.source,"g");function LK(t){return function(){return t}}function UK(t){return function(e){return t(e)+""}}function VK(t,e){var n=Q1.lastIndex=_w.lastIndex=0,r,a,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=Q1.exec(t))&&(a=_w.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:Hg(r,a)})),n=_w.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?UK(f[0].x):LK(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function td(t,e){var n=typeof e,r;return e==null||n==="boolean"?CN(e):(n==="number"?Hg:n==="string"?(r=th(e))?(e=r,ZI):VK:e instanceof th?ZI:e instanceof Date?kK:DK(e)?RK:Array.isArray(e)?PK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?MK:Hg)(t,e)}function IN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zK(t,e){e===void 0&&(e=t,t=td);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function BK(t){return function(){return t}}function Gg(t){return+t}var eO=[0,1];function Or(t){return t}function J1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:BK(isNaN(e)?NaN:.5)}function $K(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function FK(t,e,n){var r=t[0],a=t[1],s=e[0],c=e[1];return a<r?(r=J1(a,r),s=n(c,s)):(r=J1(r,a),s=n(s,c)),function(d){return s(r(d))}}function qK(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=J1(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var f=Eh(t,d,1,r)-1;return s[f](a[f](d))}}function Ah(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function c0(){var t=eO,e=eO,n=td,r,a,s,c=Or,d,f,h;function p(){var x=Math.min(t.length,e.length);return c!==Or&&(c=$K(t[0],t[x-1])),d=x>2?qK:FK,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=d(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(a((h||(h=d(e,t.map(r),Hg)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Gg),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=IN,p()},g.clamp=function(x){return arguments.length?(c=x?!0:Or,p()):c!==Or},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,w){return r=x,a=w,p()}}function ON(){return c0()(Or,Or)}function HK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zu(t){return t=Kg(Math.abs(t)),t?t[1]:NaN}function GK(t,e){return function(n,r){for(var a=n.length,s=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function KK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var YK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nh(t){if(!(e=YK.exec(t)))throw new Error("invalid format: "+t);var e;return new RN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nh.prototype=RN.prototype;function RN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WK(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var mM;function XK(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(mM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kg(t,Math.max(0,e+s-1))[0]}function tO(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const nO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:HK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tO(t*100,e),r:tO,s:XK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rO(t){return t}var aO=Array.prototype.map,iO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QK(t){var e=t.grouping===void 0||t.thousands===void 0?rO:GK(aO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?rO:KK(aO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=nh(g);var x=g.fill,w=g.align,E=g.sign,N=g.symbol,j=g.zero,T=g.width,L=g.comma,A=g.precision,R=g.trim,O=g.type;O==="n"?(L=!0,O="g"):nO[O]||(A===void 0&&(A=12),R=!0,O="g"),(j||x==="0"&&w==="=")&&(j=!0,x="0",w="=");var U=N==="$"?n:N==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",k=N==="$"?r:/[%p]/.test(O)?c:"",V=nO[O],M=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function I(D){var z=U,B=k,ye,le,W;if(O==="c")B=V(D)+B,D="";else{D=+D;var oe=D<0||1/D<0;if(D=isNaN(D)?f:V(Math.abs(D),A),R&&(D=WK(D)),oe&&+D==0&&E!=="+"&&(oe=!1),z=(oe?E==="("?E:d:E==="-"||E==="("?"":E)+z,B=(O==="s"?iO[8+mM/3]:"")+B+(oe&&E==="("?")":""),M){for(ye=-1,le=D.length;++ye<le;)if(W=D.charCodeAt(ye),48>W||W>57){B=(W===46?a+D.slice(ye+1):D.slice(ye))+B,D=D.slice(0,ye);break}}}L&&!j&&(D=e(D,1/0));var J=z.length+D.length+B.length,X=J<T?new Array(T-J+1).join(x):"";switch(L&&j&&(D=e(X+D,X.length?T-B.length:1/0),X=""),w){case"<":D=z+D+B+X;break;case"=":D=z+X+D+B;break;case"^":D=X.slice(0,J=X.length>>1)+z+D+B+X.slice(J);break;default:D=X+z+D+B;break}return s(D)}return I.toString=function(){return g+""},I}function p(g,x){var w=h((g=nh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(zu(x)/3)))*3,N=Math.pow(10,-E),j=iO[8+E/3];return function(T){return w(N*T)+j}}return{format:h,formatPrefix:p}}var Lp,DN,pM;JK({thousands:",",grouping:[3],currency:["$",""]});function JK(t){return Lp=QK(t),DN=Lp.format,pM=Lp.formatPrefix,Lp}function ZK(t){return Math.max(0,-zu(Math.abs(t)))}function eY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function tY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}function gM(t,e,n,r){var a=Y1(t,e,n),s;switch(r=nh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=eY(a,c))&&(r.precision=s),pM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=tY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=ZK(a))&&(r.precision=s-(r.type==="%")*2);break}}return DN(r)}function nl(t){var e=t.domain;return t.ticks=function(n){var r=e();return G1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return gM(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,c=r[a],d=r[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=K1(c,d,n),h===f)return r[a]=c,r[s]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function yM(){var t=ON();return t.copy=function(){return Ah(t,yM())},Va.apply(t,arguments),nl(t)}function vM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return vM(t).unknown(e)},t=arguments.length?Array.from(t,Gg):[0,1],nl(n)}function xM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),t[n]=e.floor(a),t[r]=e.ceil(s),t}function sO(t){return Math.log(t)}function oO(t){return Math.exp(t)}function nY(t){return-Math.log(-t)}function rY(t){return-Math.exp(-t)}function aY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iY(t){return t===10?aY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function sY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lO(t){return(e,n)=>-t(-e,n)}function PN(t){const e=t(sO,oO),n=e.domain;let r=10,a,s;function c(){return a=sY(r),s=iY(r),n()[0]<0?(a=lO(a),s=lO(s),t(nY,rY)):t(sO,oO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),w=a(p),E,N;const j=d==null?10:+d;let T=[];if(!(r%1)&&w-x<j){if(x=Math.floor(x),w=Math.ceil(w),h>0){for(;x<=w;++x)for(E=1;E<r;++E)if(N=x<0?E/s(-x):E*s(x),!(N<h)){if(N>p)break;T.push(N)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(N=x>0?E/s(-x):E*s(x),!(N<h)){if(N>p)break;T.push(N)}T.length*2<j&&(T=G1(h,p,j))}else T=G1(x,w,Math.min(w-x,j)).map(s);return g?T.reverse():T},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=nh(f)).precision==null&&(f.trim=!0),f=DN(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(xM(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function bM(){const t=PN(c0()).domain([1,10]);return t.copy=()=>Ah(t,bM()).base(t.base()),Va.apply(t,arguments),t}function cO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kN(t){var e=1,n=t(cO(e),uO(e));return n.constant=function(r){return arguments.length?t(cO(e=+r),uO(e)):e},nl(n)}function wM(){var t=kN(c0());return t.copy=function(){return Ah(t,wM()).constant(t.constant())},Va.apply(t,arguments)}function dO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lY(t){return t<0?-t*t:t*t}function MN(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(oY,lY):t(dO(n),dO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},nl(e)}function LN(){var t=MN(c0());return t.copy=function(){return Ah(t,LN()).exponent(t.exponent())},Va.apply(t,arguments),t}function cY(){return LN.apply(null,arguments).exponent(.5)}function fO(t){return Math.sign(t)*t*t}function uY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _M(){var t=ON(),e=[0,1],n=!1,r;function a(s){var c=uY(t(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return t.invert(fO(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Gg)).map(fO)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return _M(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Va.apply(a,arguments),nl(a)}function NM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=mK(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[Eh(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(zo),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return NM().domain(t).range(e).unknown(r)},Va.apply(s,arguments)}function jM(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[Eh(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return jM().domain([t,e]).range(a).unknown(s)},Va.apply(nl(c),arguments)}function EM(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Eh(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return EM().domain(t).range(e).unknown(n)},Va.apply(a,arguments)}const Nw=new Date,jw=new Date;function Hn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<c);return f},a.filter=s=>Hn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(a.count=(s,c)=>(Nw.setTime(+s),jw.setTime(+c),t(Nw),t(jw),Math.floor(n(Nw,jw))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Yg=Hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yg);Yg.range;const Es=1e3,Pa=Es*60,Ss=Pa*60,Ls=Ss*24,UN=Ls*7,hO=Ls*30,Ew=Ls*365,Kl=Hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());Kl.range;const VN=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getMinutes());VN.range;const zN=Hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getUTCMinutes());zN.range;const BN=Hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*Pa)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getHours());BN.range;const $N=Hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCHours());$N.range;const Th=Hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/Ls,t=>t.getDate()-1);Th.range;const u0=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>t.getUTCDate()-1);u0.range;const SM=Hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>Math.floor(t/Ls));SM.range;function vc(t){return Hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pa)/UN)}const d0=vc(0),Wg=vc(1),dY=vc(2),fY=vc(3),Bu=vc(4),hY=vc(5),mY=vc(6);d0.range;Wg.range;dY.range;fY.range;Bu.range;hY.range;mY.range;function xc(t){return Hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/UN)}const f0=xc(0),Xg=xc(1),pY=xc(2),gY=xc(3),$u=xc(4),yY=xc(5),vY=xc(6);f0.range;Xg.range;pY.range;gY.range;$u.range;yY.range;vY.range;const FN=Hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());FN.range;const qN=Hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qN.range;const Us=Hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Us.range;const Vs=Hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vs.range;function AM(t,e,n,r,a,s){const c=[[Kl,1,Es],[Kl,5,5*Es],[Kl,15,15*Es],[Kl,30,30*Es],[s,1,Pa],[s,5,5*Pa],[s,15,15*Pa],[s,30,30*Pa],[a,1,Ss],[a,3,3*Ss],[a,6,6*Ss],[a,12,12*Ss],[r,1,Ls],[r,2,2*Ls],[n,1,UN],[e,1,hO],[e,3,3*hO],[t,1,Ew]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),E=w?w.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,w=EN(([,,j])=>j).right(c,x);if(w===c.length)return t.every(Y1(h/Ew,p/Ew,g));if(w===0)return Yg.every(Math.max(Y1(h,p,g),1));const[E,N]=c[x/c[w-1][2]<c[w][2]/x?w-1:w];return E.every(N)}return[d,f]}const[xY,bY]=AM(Vs,qN,f0,SM,$N,zN),[wY,_Y]=AM(Us,FN,d0,Th,BN,VN);function Sw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Aw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function NY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=Ef(a),p=Sf(a),g=Ef(s),x=Sf(s),w=Ef(c),E=Sf(c),N=Ef(d),j=Sf(d),T=Ef(f),L=Sf(f),A={a:oe,A:J,b:X,B:K,c:null,d:xO,e:xO,f:GY,g:nW,G:aW,H:FY,I:qY,j:HY,L:TM,m:KY,M:YY,p:F,q:Y,Q:_O,s:NO,S:WY,u:XY,U:QY,V:JY,w:ZY,W:eW,x:null,X:null,y:tW,Y:rW,Z:iW,"%":wO},R={a:H,A:Z,b:fe,B:je,c:null,d:bO,e:bO,f:cW,g:xW,G:wW,H:sW,I:oW,j:lW,L:IM,m:uW,M:dW,p:Ce,q:Fe,Q:_O,s:NO,S:fW,u:hW,U:mW,V:pW,w:gW,W:yW,x:null,X:null,y:vW,Y:bW,Z:_W,"%":wO},O={a:I,A:D,b:z,B,c:ye,d:yO,e:yO,f:VY,g:gO,G:pO,H:vO,I:vO,j:kY,L:UY,m:PY,M:MY,p:M,q:DY,Q:BY,s:$Y,S:LY,u:TY,U:CY,V:IY,w:AY,W:OY,x:le,X:W,y:gO,Y:pO,Z:RY,"%":zY};A.x=U(n,A),A.X=U(r,A),A.c=U(e,A),R.x=U(n,R),R.X=U(r,R),R.c=U(e,R);function U(de,Ue){return function(te){var he=[],Xe=-1,qe=0,Mt=de.length,Ne,ft,me;for(te instanceof Date||(te=new Date(+te));++Xe<Mt;)de.charCodeAt(Xe)===37&&(he.push(de.slice(qe,Xe)),(ft=mO[Ne=de.charAt(++Xe)])!=null?Ne=de.charAt(++Xe):ft=Ne==="e"?" ":"0",(me=Ue[Ne])&&(Ne=me(te,ft)),he.push(Ne),qe=Xe+1);return he.push(de.slice(qe,Xe)),he.join("")}}function k(de,Ue){return function(te){var he=jf(1900,void 0,1),Xe=V(he,de,te+="",0),qe,Mt;if(Xe!=te.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ue&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(qe=Aw(jf(he.y,0,1)),Mt=qe.getUTCDay(),qe=Mt>4||Mt===0?Xg.ceil(qe):Xg(qe),qe=u0.offset(qe,(he.V-1)*7),he.y=qe.getUTCFullYear(),he.m=qe.getUTCMonth(),he.d=qe.getUTCDate()+(he.w+6)%7):(qe=Sw(jf(he.y,0,1)),Mt=qe.getDay(),qe=Mt>4||Mt===0?Wg.ceil(qe):Wg(qe),qe=Th.offset(qe,(he.V-1)*7),he.y=qe.getFullYear(),he.m=qe.getMonth(),he.d=qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Mt="Z"in he?Aw(jf(he.y,0,1)).getUTCDay():Sw(jf(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Mt+5)%7:he.w+he.U*7-(Mt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Aw(he)):Sw(he)}}function V(de,Ue,te,he){for(var Xe=0,qe=Ue.length,Mt=te.length,Ne,ft;Xe<qe;){if(he>=Mt)return-1;if(Ne=Ue.charCodeAt(Xe++),Ne===37){if(Ne=Ue.charAt(Xe++),ft=O[Ne in mO?Ue.charAt(Xe++):Ne],!ft||(he=ft(de,te,he))<0)return-1}else if(Ne!=te.charCodeAt(he++))return-1}return he}function M(de,Ue,te){var he=h.exec(Ue.slice(te));return he?(de.p=p.get(he[0].toLowerCase()),te+he[0].length):-1}function I(de,Ue,te){var he=w.exec(Ue.slice(te));return he?(de.w=E.get(he[0].toLowerCase()),te+he[0].length):-1}function D(de,Ue,te){var he=g.exec(Ue.slice(te));return he?(de.w=x.get(he[0].toLowerCase()),te+he[0].length):-1}function z(de,Ue,te){var he=T.exec(Ue.slice(te));return he?(de.m=L.get(he[0].toLowerCase()),te+he[0].length):-1}function B(de,Ue,te){var he=N.exec(Ue.slice(te));return he?(de.m=j.get(he[0].toLowerCase()),te+he[0].length):-1}function ye(de,Ue,te){return V(de,e,Ue,te)}function le(de,Ue,te){return V(de,n,Ue,te)}function W(de,Ue,te){return V(de,r,Ue,te)}function oe(de){return c[de.getDay()]}function J(de){return s[de.getDay()]}function X(de){return f[de.getMonth()]}function K(de){return d[de.getMonth()]}function F(de){return a[+(de.getHours()>=12)]}function Y(de){return 1+~~(de.getMonth()/3)}function H(de){return c[de.getUTCDay()]}function Z(de){return s[de.getUTCDay()]}function fe(de){return f[de.getUTCMonth()]}function je(de){return d[de.getUTCMonth()]}function Ce(de){return a[+(de.getUTCHours()>=12)]}function Fe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Ue=U(de+="",A);return Ue.toString=function(){return de},Ue},parse:function(de){var Ue=k(de+="",!1);return Ue.toString=function(){return de},Ue},utcFormat:function(de){var Ue=U(de+="",R);return Ue.toString=function(){return de},Ue},utcParse:function(de){var Ue=k(de+="",!0);return Ue.toString=function(){return de},Ue}}}var mO={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,jY=/^%/,EY=/[\\^$*+?|[\]().{}]/g;function vt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function SY(t){return t.replace(EY,"\\$&")}function Ef(t){return new RegExp("^(?:"+t.map(SY).join("|")+")","i")}function Sf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function AY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function TY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function CY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function IY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function OY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pO(t,e,n){var r=ar.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function RY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function PY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function kY(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function MY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=ar.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zY(t,e,n){var r=jY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function BY(t,e,n){var r=ar.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $Y(t,e,n){var r=ar.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xO(t,e){return vt(t.getDate(),e,2)}function FY(t,e){return vt(t.getHours(),e,2)}function qY(t,e){return vt(t.getHours()%12||12,e,2)}function HY(t,e){return vt(1+Th.count(Us(t),t),e,3)}function TM(t,e){return vt(t.getMilliseconds(),e,3)}function GY(t,e){return TM(t,e)+"000"}function KY(t,e){return vt(t.getMonth()+1,e,2)}function YY(t,e){return vt(t.getMinutes(),e,2)}function WY(t,e){return vt(t.getSeconds(),e,2)}function XY(t){var e=t.getDay();return e===0?7:e}function QY(t,e){return vt(d0.count(Us(t)-1,t),e,2)}function CM(t){var e=t.getDay();return e>=4||e===0?Bu(t):Bu.ceil(t)}function JY(t,e){return t=CM(t),vt(Bu.count(Us(t),t)+(Us(t).getDay()===4),e,2)}function ZY(t){return t.getDay()}function eW(t,e){return vt(Wg.count(Us(t)-1,t),e,2)}function tW(t,e){return vt(t.getFullYear()%100,e,2)}function nW(t,e){return t=CM(t),vt(t.getFullYear()%100,e,2)}function rW(t,e){return vt(t.getFullYear()%1e4,e,4)}function aW(t,e){var n=t.getDay();return t=n>=4||n===0?Bu(t):Bu.ceil(t),vt(t.getFullYear()%1e4,e,4)}function iW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vt(e/60|0,"0",2)+vt(e%60,"0",2)}function bO(t,e){return vt(t.getUTCDate(),e,2)}function sW(t,e){return vt(t.getUTCHours(),e,2)}function oW(t,e){return vt(t.getUTCHours()%12||12,e,2)}function lW(t,e){return vt(1+u0.count(Vs(t),t),e,3)}function IM(t,e){return vt(t.getUTCMilliseconds(),e,3)}function cW(t,e){return IM(t,e)+"000"}function uW(t,e){return vt(t.getUTCMonth()+1,e,2)}function dW(t,e){return vt(t.getUTCMinutes(),e,2)}function fW(t,e){return vt(t.getUTCSeconds(),e,2)}function hW(t){var e=t.getUTCDay();return e===0?7:e}function mW(t,e){return vt(f0.count(Vs(t)-1,t),e,2)}function OM(t){var e=t.getUTCDay();return e>=4||e===0?$u(t):$u.ceil(t)}function pW(t,e){return t=OM(t),vt($u.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function gW(t){return t.getUTCDay()}function yW(t,e){return vt(Xg.count(Vs(t)-1,t),e,2)}function vW(t,e){return vt(t.getUTCFullYear()%100,e,2)}function xW(t,e){return t=OM(t),vt(t.getUTCFullYear()%100,e,2)}function bW(t,e){return vt(t.getUTCFullYear()%1e4,e,4)}function wW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$u(t):$u.ceil(t),vt(t.getUTCFullYear()%1e4,e,4)}function _W(){return"+0000"}function wO(){return"%"}function _O(t){return+t}function NO(t){return Math.floor(+t/1e3)}var fu,RM,DM;NW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NW(t){return fu=NY(t),RM=fu.format,fu.parse,DM=fu.utcFormat,fu.utcParse,fu}function jW(t){return new Date(t)}function EW(t){return t instanceof Date?+t:+new Date(+t)}function HN(t,e,n,r,a,s,c,d,f,h){var p=ON(),g=p.invert,x=p.domain,w=h(".%L"),E=h(":%S"),N=h("%I:%M"),j=h("%I %p"),T=h("%a %d"),L=h("%b %d"),A=h("%B"),R=h("%Y");function O(U){return(f(U)<U?w:d(U)<U?E:c(U)<U?N:s(U)<U?j:r(U)<U?a(U)<U?T:L:n(U)<U?A:R)(U)}return p.invert=function(U){return new Date(g(U))},p.domain=function(U){return arguments.length?x(Array.from(U,EW)):x().map(jW)},p.ticks=function(U){var k=x();return t(k[0],k[k.length-1],U??10)},p.tickFormat=function(U,k){return k==null?O:h(k)},p.nice=function(U){var k=x();return(!U||typeof U.range!="function")&&(U=e(k[0],k[k.length-1],U??10)),U?x(xM(k,U)):p},p.copy=function(){return Ah(p,HN(t,e,n,r,a,s,c,d,f,h))},p}function SW(){return Va.apply(HN(wY,_Y,Us,FN,d0,Th,BN,VN,Kl,RM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AW(){return Va.apply(HN(xY,bY,Vs,qN,f0,u0,$N,zN,Kl,DM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function h0(){var t=0,e=1,n,r,a,s,c=Or,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(x){var w,E;return arguments.length?([w,E]=x,c=g(w,E),h):[c(0),c(1)]}}return h.range=p(td),h.rangeRound=p(IN),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function rl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function PM(){var t=nl(h0()(Or));return t.copy=function(){return rl(t,PM())},Ws.apply(t,arguments)}function kM(){var t=PN(h0()).domain([1,10]);return t.copy=function(){return rl(t,kM()).base(t.base())},Ws.apply(t,arguments)}function MM(){var t=kN(h0());return t.copy=function(){return rl(t,MM()).constant(t.constant())},Ws.apply(t,arguments)}function GN(){var t=MN(h0());return t.copy=function(){return rl(t,GN()).exponent(t.exponent())},Ws.apply(t,arguments)}function TW(){return GN.apply(null,arguments).exponent(.5)}function LM(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((Eh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(zo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>hK(t,s/r))},n.copy=function(){return LM(e).domain(t)},Ws.apply(n,arguments)}function m0(){var t=0,e=.5,n=1,r=1,a,s,c,d,f,h=Or,p,g=!1,x;function w(N){return isNaN(N=+N)?x:(N=.5+((N=+p(N))-s)*(r*N<r*s?d:f),h(g?Math.max(0,Math.min(1,N)):N))}w.domain=function(N){return arguments.length?([t,e,n]=N,a=p(t=+t),s=p(e=+e),c=p(n=+n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(N){return arguments.length?(g=!!N,w):g},w.interpolator=function(N){return arguments.length?(h=N,w):h};function E(N){return function(j){var T,L,A;return arguments.length?([T,L,A]=j,h=zK(N,[T,L,A]),w):[h(0),h(.5),h(1)]}}return w.range=E(td),w.rangeRound=E(IN),w.unknown=function(N){return arguments.length?(x=N,w):x},function(N){return p=N,a=N(t),s=N(e),c=N(n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,w}}function UM(){var t=nl(m0()(Or));return t.copy=function(){return rl(t,UM())},Ws.apply(t,arguments)}function VM(){var t=PN(m0()).domain([.1,1,10]);return t.copy=function(){return rl(t,VM()).base(t.base())},Ws.apply(t,arguments)}function zM(){var t=kN(m0());return t.copy=function(){return rl(t,zM()).constant(t.constant())},Ws.apply(t,arguments)}function KN(){var t=MN(m0());return t.copy=function(){return rl(t,KN()).exponent(t.exponent())},Ws.apply(t,arguments)}function CW(){return KN.apply(null,arguments).exponent(.5)}const Of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:AN,scaleDiverging:UM,scaleDivergingLog:VM,scaleDivergingPow:KN,scaleDivergingSqrt:CW,scaleDivergingSymlog:zM,scaleIdentity:vM,scaleImplicit:W1,scaleLinear:yM,scaleLog:bM,scaleOrdinal:SN,scalePoint:gK,scalePow:LN,scaleQuantile:NM,scaleQuantize:jM,scaleRadial:_M,scaleSequential:PM,scaleSequentialLog:kM,scaleSequentialPow:GN,scaleSequentialQuantile:LM,scaleSequentialSqrt:TW,scaleSequentialSymlog:MM,scaleSqrt:cY,scaleSymlog:wM,scaleThreshold:EM,scaleTime:SW,scaleUtc:AW,tickFormat:gM},Symbol.toStringTag,{value:"Module"}));var al=t=>t.chartData,YN=ie([al],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),WN=(t,e,n,r)=>r?YN(t):al(t);function Go(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(wn(e)&&wn(n))return!0}return!1}function jO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function BM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(wn(n))a=n;else if(typeof n=="function")return;if(wn(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(Go(c))return c}}function IW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Go(r))return jO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(Me(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&eI.test(a)){var f=eI.exec(a);if(f==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Me(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&tI.test(s)){var p=tI.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[c,d];if(Go(x))return e==null?x:jO(x,e,n)}}}var nd=1e9,OW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},QN,tn=!0,La="[DecimalError] ",tc=La+"Invalid argument: ",XN=La+"Exponent out of range: ",rd=Math.floor,ql=Math.pow,RW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ua,er=1e7,Ht=7,$M=9007199254740991,Qg=rd($M/Ht),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return Os(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return Ut(Os(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return Ln(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ua))throw Error(La+"NaN");if(n.s<1)throw Error(La+(n.s?"NaN":"-Infinity"));return n.eq(ua)?new r(0):(tn=!1,e=Os(rh(n,s),rh(t,s),s),tn=!0,Ut(e,a))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HM(e,t):FM(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(La+"NaN");return n.s?(tn=!1,e=Os(n,t,0,1).times(t),tn=!0,n.minus(e)):Ut(new r(n),a)};De.naturalExponential=De.exp=function(){return qM(this)};De.naturalLogarithm=De.ln=function(){return rh(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FM(e,t):HM(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tc+t);if(e=Ln(a)+1,r=a.d.length-1,n=r*Ht+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(La+"NaN")}for(t=Ln(d),tn=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Li(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=rd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(s=r,r=s.plus(Os(d,s,c+2)).times(.5),Li(s.d).slice(0,c)===(e=Li(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Ut(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return tn=!0,Ut(r,n)};De.times=De.mul=function(t){var e,n,r,a,s,c,d,f,h,p=this,g=p.constructor,x=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=w.length,f<h&&(s=x,x=w,w=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+w[r]*x[a-r-1]+e,s[a--]=d%er|0,e=d/er|0;s[a]=(s[a]+e)%er|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,tn?Ut(t,g.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wi(t,0,nd),e===void 0?e=r.rounding:Wi(e,0,8),Ut(n,t+Ln(n)+1,e))};De.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=sc(r,!0):(Wi(t,0,nd),e===void 0?e=a.rounding:Wi(e,0,8),r=Ut(new a(r),t+1,e),n=sc(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?sc(a):(Wi(t,0,nd),e===void 0?e=s.rounding:Wi(e,0,8),r=Ut(new s(a),t+Ln(a)+1,e),n=sc(r.abs(),!1,t+Ln(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Ut(new e(t),Ln(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,a,s,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ua);if(d=new f(d),!d.s){if(t.s<1)throw Error(La+"Infinity");return d}if(d.eq(ua))return d;if(r=f.precision,t.eq(ua))return Ut(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=$M){for(a=new f(ua),e=Math.ceil(r/Ht+4),tn=!1;n%2&&(a=a.times(d),SO(a.d,e)),n=rd(n/2),n!==0;)d=d.times(d),SO(d.d,e);return tn=!0,t.s<0?new f(ua).div(a):Ut(a,r)}}else if(s<0)throw Error(La+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,tn=!1,a=t.times(rh(d,r+h)),tn=!0,a=qM(a),a.s=s,a};De.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=Ln(a),r=sc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Wi(t,1,nd),e===void 0?e=s.rounding:Wi(e,0,8),a=Ut(new s(a),t,e),n=Ln(a),r=sc(a,t<=n||n<=s.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wi(t,1,nd),e===void 0?e=r.rounding:Wi(e,0,8)),Ut(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ln(t),n=t.constructor;return sc(t,e<=n.toExpNeg||e>=n.toExpPos)};function FM(t,e){var n,r,a,s,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),tn?Ut(e,g):e;if(f=t.d,h=e.d,c=t.e,a=e.e,f=f.slice(),s=c-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=c,d=f.length),c=Math.ceil(g/Ht),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/er|0,f[s]%=er;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,tn?Ut(e,g):e}function Wi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tc+t)}function Li(t){var e,n,r,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)r=t[e]+"",n=Ht-r.length,n&&(s+=Ro(n)),s+=r;c=t[e],r=c+"",n=Ht-r.length,n&&(s+=Ro(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Os=(function(){function t(r,a){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+c,r[d]=s%er|0,c=s/er|0;return c&&r.unshift(c),r}function e(r,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*er+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var d,f,h,p,g,x,w,E,N,j,T,L,A,R,O,U,k,V,M=r.constructor,I=r.s==a.s?1:-1,D=r.d,z=a.d;if(!r.s)return new M(r);if(!a.s)throw Error(La+"Division by zero");for(f=r.e-a.e,k=z.length,O=D.length,w=new M(I),E=w.d=[],h=0;z[h]==(D[h]||0);)++h;if(z[h]>(D[h]||0)&&--f,s==null?L=s=M.precision:c?L=s+(Ln(r)-Ln(a))+1:L=s,L<0)return new M(0);if(L=L/Ht+2|0,h=0,k==1)for(p=0,z=z[0],L++;(h<O||p)&&L--;h++)A=p*er+(D[h]||0),E[h]=A/z|0,p=A%z|0;else{for(p=er/(z[0]+1)|0,p>1&&(z=t(z,p),D=t(D,p),k=z.length,O=D.length),R=k,N=D.slice(0,k),j=N.length;j<k;)N[j++]=0;V=z.slice(),V.unshift(0),U=z[0],z[1]>=er/2&&++U;do p=0,d=e(z,N,k,j),d<0?(T=N[0],k!=j&&(T=T*er+(N[1]||0)),p=T/U|0,p>1?(p>=er&&(p=er-1),g=t(z,p),x=g.length,j=N.length,d=e(g,N,x,j),d==1&&(p--,n(g,k<x?V:z,x))):(p==0&&(d=p=1),g=z.slice()),x=g.length,x<j&&g.unshift(0),n(N,g,j),d==-1&&(j=N.length,d=e(z,N,k,j),d<1&&(p++,n(N,k<j?V:z,j))),j=N.length):d===0&&(p++,N=[0]),E[h++]=p,d&&N[0]?N[j++]=D[R]||0:(N=[D[R]],j=1);while((R++<O||N[0]!==void 0)&&L--)}return E[0]||E.shift(),w.e=f,Ut(w,c?s+Ln(w)+1:s)}})();function qM(t,e){var n,r,a,s,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(Ln(t)>16)throw Error(XN+Ln(t));if(!t.s)return new p(ua);for(tn=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(ql(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(ua),p.precision=d;;){if(a=Ut(a.times(t),d),n=n.times(++f),c=s.plus(Os(a,n,d)),Li(c.d).slice(0,d)===Li(s.d).slice(0,d)){for(;h--;)s=Ut(s.times(s),d);return p.precision=g,e==null?(tn=!0,Ut(s,g)):s}s=c}}function Ln(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function Tw(t,e,n){if(e>t.LN10.sd())throw tn=!0,n&&(t.precision=n),Error(La+"LN10 precision limit exceeded");return Ut(new t(t.LN10),e)}function Ro(t){for(var e="";t--;)e+="0";return e}function rh(t,e){var n,r,a,s,c,d,f,h,p,g=1,x=10,w=t,E=w.d,N=w.constructor,j=N.precision;if(w.s<1)throw Error(La+(w.s?"NaN":"-Infinity"));if(w.eq(ua))return new N(0);if(e==null?(tn=!1,h=j):h=e,w.eq(10))return e==null&&(tn=!0),Tw(N,h);if(h+=x,N.precision=h,n=Li(E),r=n.charAt(0),s=Ln(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Li(w.d),r=n.charAt(0),g++;s=Ln(w),r>1?(w=new N("0."+n),s++):w=new N(r+"."+n.slice(1))}else return f=Tw(N,h+2,j).times(s+""),w=rh(new N(r+"."+n.slice(1)),h-x).plus(f),N.precision=j,e==null?(tn=!0,Ut(w,j)):w;for(d=c=w=Os(w.minus(ua),w.plus(ua),h),p=Ut(w.times(w),h),a=3;;){if(c=Ut(c.times(p),h),f=d.plus(Os(c,new N(a),h)),Li(f.d).slice(0,h)===Li(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Tw(N,h+2,j).times(s+""))),d=Os(d,new N(g),h),N.precision=j,e==null?(tn=!0,Ut(d,j)):d;d=f,a+=2}}function EO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=rd(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Ht;r<a;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),tn&&(t.e>Qg||t.e<-Qg))throw Error(XN+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ut(t,e,n){var r,a,s,c,d,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Ht,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Ht),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Ht,a=r-Ht+c}if(n!==void 0&&(s=ql(10,c-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/ql(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Ln(t),g.length=1,e=e-s-1,g[0]=ql(10,(Ht-e%Ht)%Ht),t.e=rd(-e/Ht)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=ql(10,Ht-r),g[p]=a>0?(h/ql(10,c-a)%ql(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==er&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=er)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(tn&&(t.e>Qg||t.e<-Qg))throw Error(XN+Ln(t));return t}function HM(t,e){var n,r,a,s,c,d,f,h,p,g,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),tn?Ut(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(w/Ht),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=er-1;--f[s],f[a]+=er}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,tn?Ut(e,w):e):new x(0)}function sc(t,e,n){var r,a=Ln(t),s=Li(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Ro(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ro(-a-1)+s,n&&(r=n-c)>0&&(s+=Ro(r))):a>=c?(s+=Ro(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Ro(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Ro(r))),t.s<0?"-"+s:s}function SO(t,e){if(t.length>e)return t.length=e,!0}function GM(t){var e,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return EO(c,s.toString())}else if(typeof s!="string")throw Error(tc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,RW.test(s))EO(c,s);else throw Error(tc+s)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=GM,a.config=a.set=DW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function DW(t){if(!t||typeof t!="object")throw Error(La+"Object expected");var e,n,r,a=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(rd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(tc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tc+n+": "+r);return this}var QN=GM(OW);ua=new QN(1);const Tt=QN;var PW=t=>t,KM={},YM=t=>t===KM,AO=t=>function e(){return arguments.length===0||arguments.length===1&&YM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},WM=(t,e)=>t===1?e:AO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(c=>c!==KM).length;return s>=t?e(...r):WM(t-s,AO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=r.map(p=>YM(p)?d.shift():p);return e(...h,...d)}))}),kW=t=>WM(t.length,t),Z1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},MW=kW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),LW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return PW;var a=n.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((d,f)=>f(d),s(...arguments))}},e_=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function XM(t){var e;return t===0?e=1:e=Math.floor(new Tt(t).abs().log(10).toNumber())+1,e}function QM(t,e,n){for(var r=new Tt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var JM=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},ZM=(t,e,n)=>{if(t.lte(0))return new Tt(0);var r=XM(t.toNumber()),a=new Tt(10).pow(r),s=t.div(a),c=r!==1?.05:.1,d=new Tt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=d.mul(a);return e?new Tt(f.toNumber()):new Tt(Math.ceil(f.toNumber()))},UW=(t,e,n)=>{var r=new Tt(1),a=new Tt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new Tt(10).pow(XM(t)-1),a=new Tt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Tt(Math.floor(t)))}else t===0?a=new Tt(Math.floor((e-1)/2)):n||(a=new Tt(Math.floor(t)));var c=Math.floor((e-1)/2),d=LW(MW(f=>a.add(new Tt(f-c).mul(r)).toNumber()),Z1);return d(0,e)},e5=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var c=ZM(new Tt(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new Tt(0):(d=new Tt(e).add(n).div(2),d=d.sub(new Tt(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new Tt(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?e5(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new Tt(f).mul(c)),tickMax:d.add(new Tt(h).mul(c))})},VW=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=JM([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Z1(0,a-1).map(()=>1/0)]:[...Z1(0,a-1).map(()=>-1/0),f];return n>r?e_(h):h}if(d===f)return UW(d,a,s);var{step:p,tickMin:g,tickMax:x}=e5(d,f,c,s,0),w=QM(g,x.add(new Tt(.1).mul(p)),p);return n>r?e_(w):w},zW=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=JM([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var f=Math.max(n,2),h=ZM(new Tt(d).sub(c).div(f-1),s,0),p=[...QM(new Tt(c),new Tt(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?e_(p):p},t5=t=>t.rootProps.maxBarSize,BW=t=>t.rootProps.barGap,n5=t=>t.rootProps.barCategoryGap,$W=t=>t.rootProps.barSize,Ch=t=>t.rootProps.stackOffset,r5=t=>t.rootProps.reverseStackOrder,JN=t=>t.options.chartName,ZN=t=>t.rootProps.syncId,a5=t=>t.rootProps.syncMethod,ej=t=>t.options.eventEmitter,hr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ns={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ca={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},p0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},FW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:Ns.reversed,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:Ns.type,unit:void 0},qW={allowDataOverflow:ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,ticks:void 0,type:ca.type,unit:void 0},HW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ns.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},GW={allowDataOverflow:ca.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ca.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,ticks:void 0,type:"category",unit:void 0},tj=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?HW:FW,nj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?GW:qW,g0=t=>t.polarOptions,rj=ie([Ks,Ys,qn],nM),i5=ie([g0,rj],(t,e)=>{if(t!=null)return jr(t.innerRadius,e,0)}),s5=ie([g0,rj],(t,e)=>{if(t!=null)return jr(t.outerRadius,e,e*.8)}),KW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},o5=ie([g0],KW);ie([tj,o5],p0);var l5=ie([rj,i5,s5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([nj,l5],p0);var c5=ie([xt,g0,i5,s5,Ks,Ys],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:jr(c,a,a/2),cy:jr(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),an=(t,e)=>e,Ih=(t,e,n)=>n;function aj(t){return t==null?void 0:t.id}function u5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=aj(d);h.forEach((g,x)=>{var w=s==null||a?x:String(en(g,s,null)),E=en(g,d.dataKey,0),N;c.has(w)?N=c.get(w):N={},Object.assign(N,{[p]:E}),c.set(w,N)})}}),Array.from(c.values())}function y0(t){return t.stackId!=null&&t.dataKey!=null}var v0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function x0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function YW(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Gn=t=>{var e=xt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ad=t=>t.tooltip.settings.axisId;function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){WW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WW(t,e,n){return(e=XW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XW(t){var e=QW(t,"string");return typeof e=="symbol"?e:e+""}function QW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t_=[0,"auto"],Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},d5=(t,e)=>t.cartesianAxis.xAxis[e],Xs=(t,e)=>{var n=d5(t,e);return n??Jn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:t_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nh},f5=(t,e)=>t.cartesianAxis.yAxis[e],Qs=(t,e)=>{var n=f5(t,e);return n??Zn},JW={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ij=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??JW},cn=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Qs(t,n);case"zAxis":return ij(t,n);case"angleAxis":return tj(t,n);case"radiusAxis":return nj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ZW=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Qs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Oh=(t,e,n)=>{switch(e){case"xAxis":return Xs(t,n);case"yAxis":return Qs(t,n);case"angleAxis":return tj(t,n);case"radiusAxis":return nj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},h5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function sj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var oj=t=>t.graphicalItems.cartesianItems,eX=ie([an,Ih],sj),lj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Rh=ie([oj,cn,eX],lj,{memoizeOptions:{resultEqualityCheck:x0}}),m5=ie([Rh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(y0)),p5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),tX=ie([Rh],p5),cj=t=>t.map(e=>e.data).filter(Boolean).flat(1),nX=ie([Rh],cj,{memoizeOptions:{resultEqualityCheck:x0}}),uj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},dj=ie([nX,WN],uj),fj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:en(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:en(a,r)}))):t.map(r=>({value:r})),b0=ie([dj,cn,Rh],fj);function g5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rg(t){if(Gi(t)||t instanceof Date){var e=Number(t);if(wn(e))return e}}function CO(t){if(Array.isArray(t)){var e=[rg(t[0]),rg(t[1])];return Go(e)?e:void 0}var n=rg(t);if(n!=null)return[n,n]}function zs(t){return t.map(rg).filter(x$)}function rX(t,e,n){return!n||typeof e!="number"||ci(e)?[]:n.length?zs(n.flatMap(r=>{var a=en(t,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!wn(s)||!wn(c)))return[e-s,e+c]})):[]}var Kn=t=>{var e=Gn(t),n=ad(t);return Oh(t,e,n)},Dh=ie([Kn],t=>t==null?void 0:t.dataKey),aX=ie([m5,WN,Kn],u5),y5=(t,e,n,r)=>{var a={},s=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(aj);return[d,{stackedData:Vq(t,p,n),graphicalItems:h}]}))},n_=ie([aX,m5,Ch,r5],y5),v5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=qq(t,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},iX=ie([cn],t=>t.allowDataOverflow),hj=t=>{var e;if(t==null||!("domain"in t))return t_;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=zs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:t_},mj=ie([cn],hj),pj=ie([mj,iX],BM),sX=ie([n_,al,an,pj],v5,{memoizeOptions:{resultEqualityCheck:v0}}),w0=t=>t.errorBars,oX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>g5(n,r)),Zg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},gj=(t,e,n,r,a)=>{var s,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(T=>g5(a,T)),x=en(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=rX(d,x,g);if(w.length>=2){var E=Math.min(...w),N=Math.max(...w);(s==null||E<s)&&(s=E),(c==null||N>c)&&(c=N)}var j=CO(x);j!=null&&(s=s==null?j[0]:Math.min(s,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=CO(en(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),wn(s)&&wn(c))return[s,c]},lX=ie([dj,cn,tX,w0,an],gj,{memoizeOptions:{resultEqualityCheck:v0}});function cX(t){var{value:e}=t;if(Gi(e)||e instanceof Date)return e}var uX=(t,e,n)=>{var r=t.map(cX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&P4(r))?sM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},x5=t=>t.referenceElements.dots,id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),dX=ie([x5,an,Ih],id),b5=t=>t.referenceElements.areas,fX=ie([b5,an,Ih],id),w5=t=>t.referenceElements.lines,hX=ie([w5,an,Ih],id),_5=(t,e)=>{var n=zs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mX=ie(dX,an,_5),N5=(t,e)=>{var n=zs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pX=ie([fX,an],N5);function gX(t){var e;if(t.x!=null)return zs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:zs(n)}function yX(t){var e;if(t.y!=null)return zs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:zs(n)}var j5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?gX(r):yX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vX=ie([hX,an],j5),xX=ie(mX,vX,pX,(t,e,n)=>Zg(t,n,e)),yj=(t,e,n,r,a,s,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?Zg(r,s,a):Zg(s,a);return IW(e,h,t.allowDataOverflow)},bX=ie([cn,mj,pj,sX,lX,xX,xt,an],yj,{memoizeOptions:{resultEqualityCheck:v0}}),wX=[0,1],vj=(t,e,n,r,a,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=gc(e,s);if(h&&d==null){var p;return sM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?uX(r,t,h):a==="expand"?wX:c}},xj=ie([cn,xt,dj,b0,Ch,an,bX],vj),E5=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(vh(s));return d in Of?d:"point"}}},sd=ie([cn,xt,h5,JN,an],E5);function _X(t){if(t!=null){if(t in Of)return Of[t]();var e="scale".concat(vh(t));if(e in Of)return Of[e]()}}function bj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=_X(e);if(a!=null){var s=a.domain(n).range(r);return Pq(s),s}}}var wj=(t,e,n)=>{var r=hj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Go(t))return VW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Go(t))return zW(t,e.tickCount,e.allowDecimals)}},_j=ie([xj,Oh,sd],wj),Nj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Go(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(c,d)]}return e},NX=ie([cn,xj,_j,an],Nj),jX=ie(b0,cn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(zs(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/a}}),S5=ie(jX,xt,n5,qn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!wn(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=jr(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),EX=(t,e)=>{var n=Xs(t,e);return n==null||typeof n.padding!="string"?0:S5(t,"xAxis",e,n.padding)},SX=(t,e)=>{var n=Qs(t,e);return n==null||typeof n.padding!="string"?0:S5(t,"yAxis",e,n.padding)},AX=ie(Xs,EX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),TX=ie(Qs,SX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),CX=ie([qn,AX,e0,Zy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),IX=ie([qn,xt,TX,e0,Zy,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ph=(t,e,n,r)=>{var a;switch(e){case"xAxis":return CX(t,n,r);case"yAxis":return IX(t,n,r);case"zAxis":return(a=ij(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return o5(t);case"radiusAxis":return l5(t,n);default:return}},A5=ie([cn,Ph],p0),od=ie([cn,sd,NX,A5],bj);ie([Rh,w0,an],oX);function T5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _0=(t,e)=>e,N0=(t,e,n)=>n,OX=ie(Qy,_0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(T5)),RX=ie(Jy,_0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(T5)),C5=(t,e)=>({width:t.width,height:e.height}),DX=(t,e)=>{var n=typeof e.width=="number"?e.width:Nh;return{width:n,height:t.height}},I5=ie(qn,Xs,C5),PX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},kX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},MX=ie(Ys,qn,OX,_0,N0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=C5(e,d);c==null&&(c=PX(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),LX=ie(Ks,qn,RX,_0,N0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=DX(e,d);c==null&&(c=kX(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),UX=(t,e)=>{var n=Xs(t,e);if(n!=null)return MX(t,n.orientation,n.mirror)},VX=ie([qn,Xs,UX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),zX=(t,e)=>{var n=Qs(t,e);if(n!=null)return LX(t,n.orientation,n.mirror)},BX=ie([qn,Qs,zX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),O5=ie(qn,Qs,(t,e)=>{var n=typeof e.width=="number"?e.width:Nh;return{width:n,height:t.height}}),IO=(t,e,n)=>{switch(e){case"xAxis":return I5(t,n).width;case"yAxis":return O5(t,n).height;default:return}},R5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,d=gc(t,r),f=e.map(h=>h.value);if(c&&d&&s==="category"&&a&&P4(f))return f}},jj=ie([xt,b0,cn,an],R5),D5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=gc(t,r);if(c&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},Ej=ie([xt,b0,Oh,an],D5),OO=ie([xt,ZW,sd,od,jj,Ej,Ph,_j,an],(t,e,n,r,a,s,c,d,f)=>{if(e!=null){var h=gc(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),$X=(t,e,n,r,a,s,c,d,f)=>{if(!(e==null||r==null)){var h=gc(t,f),{type:p,ticks:g,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&s!=null&&s.length>=2?nr(s[0]-s[1])*2*E:E;var N=g||a;if(N){var j=N.map((T,L)=>{var A=c?c.indexOf(T):T;return{index:L,coordinate:r(A)+E,value:T,offset:E}});return j.filter(T=>wn(T.coordinate))}return h&&d?d.map((T,L)=>({coordinate:r(T)+E,value:T,index:L,offset:E})).filter(T=>wn(T.coordinate)):r.ticks?r.ticks(x).map(T=>({coordinate:r(T)+E,value:T,offset:E})):r.domain().map((T,L)=>({coordinate:r(T)+E,value:c?c[T]:T,index:L,offset:E}))}},P5=ie([xt,Oh,sd,od,_j,Ph,jj,Ej,an],$X),FX=(t,e,n,r,a,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=gc(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&(r==null?void 0:r.length)>=2?nr(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},Fu=ie([xt,Oh,od,Ph,jj,Ej,an],FX),qu=ie(cn,od,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})}),qX=ie([cn,sd,xj,A5],bj);ie((t,e,n)=>ij(t,n),qX,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})});var HX=ie([xt,Qy,Jy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),k5=t=>t.options.defaultTooltipEventType,M5=t=>t.options.validateTooltipEventTypes;function L5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Sj(t,e){var n=k5(t),r=M5(t);return L5(e,n,r)}function GX(t){return Le(e=>Sj(e,t))}var U5=(t,e)=>{var n,r=Number(e);if(!(ci(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},KX=t=>t.tooltip.settings,Po={active:!1,index:null,dataKey:void 0,coordinate:void 0},YX={itemInteraction:{click:Po,hover:Po},axisInteraction:{click:Po,hover:Po},keyboardInteraction:Po,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},V5=Qr({name:"tooltip",initialState:YX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Jt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Jt()},removeTooltipEntrySettings:{reducer(t,e){var n=oi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Jt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:WX,replaceTooltipEntrySettings:XX,removeTooltipEntrySettings:QX,setTooltipSettingsState:JX,setActiveMouseOverItemIndex:z5,mouseLeaveItem:ZX,mouseLeaveChart:B5,setActiveClickItemIndex:eQ,setMouseOverAxisIndex:$5,setMouseClickAxisIndex:tQ,setSyncInteraction:r_,setKeyboardInteraction:a_}=V5.actions,nQ=V5.reducer;function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){rQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rQ(t,e,n){return(e=aQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aQ(t){var e=iQ(t,"string");return typeof e=="symbol"?e:e+""}function iQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function oQ(t){return t.index!=null}var F5=(t,e,n,r)=>{if(e==null)return Po;var a=sQ(t,e,n);if(a==null)return Po;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(oQ(a)){if(s)return Up(Up({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Up(Up({},Po),{},{coordinate:a.coordinate})};function lQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function cQ(t,e){var n=lQ(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),c=Math.max(r,a);return n>=s&&n<=c}function uQ(t,e,n){if(n==null||e==null)return!0;var r=en(t,e);return r==null||!Go(n)?!0:cQ(r,n)}var Aj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!wn(s))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),h=e[f];return h==null||uQ(h,n,r)?String(f):null},q5=(t,e,n,r,a,s,c,d)=>{if(!(s==null||d==null)){var f=c[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},H5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},kh=t=>t.options.tooltipPayloadSearcher,ld=t=>t.tooltip;function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=hQ(t,"string");return typeof e=="symbol"?e:e+""}function hQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t,e){return t??e}var G5=(t,e,n,r,a,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,w)=>{var E,{dataDefinedOnItem:N,settings:j}=w,T=mQ(N,d),L=Array.isArray(T)?Sk(T,h,p):T,A=(E=j==null?void 0:j.dataKey)!==null&&E!==void 0?E:r,R=j==null?void 0:j.nameKey,O;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?O=v$(L,r,a):O=s(L,e,f,R),Array.isArray(O))O.forEach(k=>{var V=PO(PO({},j),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(nI({tooltipEntrySettings:V,dataKey:k.dataKey,payload:k.payload,value:en(k.payload,k.dataKey),name:k.name}))});else{var U;x.push(nI({tooltipEntrySettings:j,dataKey:A,payload:O,value:en(O,A),name:(U=en(O,R))!==null&&U!==void 0?U:j==null?void 0:j.name}))}return x},g)}},Tj=ie([Kn,xt,h5,JN,Gn],E5),pQ=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),gQ=ie([Gn,ad],sj),Mh=ie([pQ,Kn,gQ],lj,{memoizeOptions:{resultEqualityCheck:x0}}),yQ=ie([Mh],t=>t.filter(y0)),vQ=ie([Mh],cj,{memoizeOptions:{resultEqualityCheck:x0}}),cd=ie([vQ,al],uj),xQ=ie([yQ,al,Kn],u5),Cj=ie([cd,Kn,Mh],fj),K5=ie([Kn],hj),bQ=ie([Kn],t=>t.allowDataOverflow),Y5=ie([K5,bQ],BM),wQ=ie([Mh],t=>t.filter(y0)),_Q=ie([xQ,wQ,Ch,r5],y5),NQ=ie([_Q,al,Gn,Y5],v5),jQ=ie([Mh],p5),EQ=ie([cd,Kn,jQ,w0,Gn],gj,{memoizeOptions:{resultEqualityCheck:v0}}),SQ=ie([x5,Gn,ad],id),AQ=ie([SQ,Gn],_5),TQ=ie([b5,Gn,ad],id),CQ=ie([TQ,Gn],N5),IQ=ie([w5,Gn,ad],id),OQ=ie([IQ,Gn],j5),RQ=ie([AQ,OQ,CQ],Zg),DQ=ie([Kn,K5,Y5,NQ,EQ,RQ,xt,Gn],yj),Lh=ie([Kn,xt,cd,Cj,Ch,Gn,DQ],vj),PQ=ie([Lh,Kn,Tj],wj),kQ=ie([Kn,Lh,PQ,Gn],Nj),W5=t=>{var e=Gn(t),n=ad(t),r=!1;return Ph(t,e,n,r)},X5=ie([Kn,W5],p0),Q5=ie([Kn,Tj,kQ,X5],bj),MQ=ie([xt,Cj,Kn,Gn],R5),LQ=ie([xt,Cj,Kn,Gn],D5),UQ=(t,e,n,r,a,s,c,d)=>{if(e){var{type:f}=e,h=gc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?nr(a[0]-a[1])*2*g:g,h&&c?c.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}}},Js=ie([xt,Kn,Tj,Q5,W5,MQ,LQ,Gn],UQ),Ij=ie([k5,M5,KX],(t,e,n)=>L5(n.shared,t,e)),J5=t=>t.tooltip.settings.trigger,Oj=t=>t.tooltip.settings.defaultIndex,j0=ie([ld,Ij,J5,Oj],F5),oc=ie([j0,cd,Dh,Lh],Aj),Z5=ie([Js,oc],U5),e6=ie([j0],t=>{if(t)return t.dataKey}),t6=ie([ld,Ij,J5,Oj],H5),VQ=ie([Ks,Ys,xt,qn,Js,Oj,t6,kh],q5),zQ=ie([j0,VQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),BQ=ie([j0],t=>t.active),$Q=ie([t6,oc,al,Dh,Z5,kh,Ij],G5);ie([$Q],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){FQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FQ(t,e,n){return(e=qQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qQ(t){var e=HQ(t,"string");return typeof e=="symbol"?e:e+""}function HQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GQ=()=>Le(Kn),KQ=()=>{var t=GQ(),e=Le(Js),n=Le(Q5);return Rg(!t||!n?void 0:MO(MO({},t),{},{scale:n}),e)};function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return(e=WQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=XQ(t,"string");return typeof e=="symbol"?e:e+""}function XQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QQ=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},JQ=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:c}=r;return hu(hu(hu({},r),kn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,{angle:f}=r;return hu(hu(hu({},r),kn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ZQ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var n6=(t,e,n,r,a)=>{var s,c=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(nr(p-h)!==nr(g-p)){var w=[];if(nr(g-p)===nr(a[1]-a[0])){x=g;var E=p+a[1]-a[0];w[0]=Math.min(E,(E+h)/2),w[1]=Math.max(E,(E+h)/2)}else{x=h;var N=g+a[1]-a[0];w[0]=Math.min(p,(N+p)/2),w[1]=Math.max(p,(N+p)/2)}var j=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>j[0]&&t<=j[1]||t>=w[0]&&t<=w[1]){({index:c}=n[f]);break}}else{var T=Math.min(h,g),L=Math.max(h,g);if(t>(T+p)/2&&t<=(L+p)/2){({index:c}=n[f]);break}}}else if(e){for(var A=0;A<d;A++)if(A===0&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A>0&&A<d-1&&t>(e[A].coordinate+e[A-1].coordinate)/2&&t<=(e[A].coordinate+e[A+1].coordinate)/2||A===d-1&&t>(e[A].coordinate+e[A-1].coordinate)/2){({index:c}=e[A]);break}}return c},eJ=()=>Le(JN),Rj=(t,e)=>e,r6=(t,e,n)=>n,Dj=(t,e,n,r)=>r,tJ=ie(Js,t=>By(t,e=>e.coordinate)),Pj=ie([ld,Rj,r6,Dj],F5),kj=ie([Pj,cd,Dh,Lh],Aj),nJ=(t,e,n)=>{if(e!=null){var r=ld(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},a6=ie([ld,Rj,r6,Dj],H5),ey=ie([Ks,Ys,xt,qn,Js,Dj,a6,kh],q5),rJ=ie([Pj,ey],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),i6=ie([Js,kj],U5),aJ=ie([a6,kj,al,Dh,i6,kh,Rj],G5),iJ=ie([Pj,kj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),sJ=(t,e,n,r,a,s,c)=>{if(!(!t||!n||!r||!a)&&ZQ(t,c)){var d=Hq(t,e),f=n6(d,s,a,n,r),h=QQ(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},oJ=(t,e,n,r,a,s,c)=>{if(!(!t||!r||!a||!s||!n)){var d=GG(t,n);if(d){var f=Gq(d,e),h=n6(f,c,s,r,a),p=JQ(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},lJ=(t,e,n,r,a,s,c,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?sJ(t,e,r,a,s,c,d):oJ(t,e,n,r,a,s,c)},cJ=ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),uJ=ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(hr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:YW}});function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){dJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dJ(t,e,n){return(e=fJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=hJ(t,"string");return typeof e=="symbol"?e:e+""}function hJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mJ={},pJ={zIndexMap:Object.values(hr).reduce((t,e)=>VO(VO({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),mJ)},gJ=new Set(Object.values(hr));function yJ(t){return gJ.has(t)}var s6=Qr({name:"zIndex",initialState:pJ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Jt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!yJ(n)&&delete t.zIndexMap[n])},prepare:Jt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:Jt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Jt()}}}),{registerZIndexPortal:vJ,unregisterZIndexPortal:xJ,registerZIndexPortalId:bJ,unregisterZIndexPortalId:wJ}=s6.actions,_J=s6.reducer;function mi(t){var{zIndex:e,children:n}=t,r=_H(),a=r&&e!==void 0&&e!==0,s=Jr(),c=rn();_.useLayoutEffect(()=>a?(c(vJ({zIndex:e})),()=>{c(xJ({zIndex:e}))}):xh,[c,e,a]);var d=Le(h=>cJ(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?e4.createPortal(n,f):null}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(null,arguments)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){NJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NJ(t,e,n){return(e=jJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jJ(t){var e=EJ(t,"string");return typeof e=="symbol"?e:e+""}function EJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function AJ(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,w=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,N,j;if(p==="ScatterChart")E=g,N=lG,j=hr.cursorLine;else if(p==="BarChart")E=cG(d,g,s,c),N=tM,j=hr.cursorRectangle;else if(d==="radial"&&L4(g)){var{cx:T,cy:L,radius:A,startAngle:R,endAngle:O}=rM(g);E={cx:T,cy:L,startAngle:R,endAngle:O,innerRadius:A,outerRadius:A},N=iM,j=hr.cursorLine}else E={points:XG(d,g,s)},N=jN,j=hr.cursorLine;var U=typeof f=="object"&&"className"in f?f.className:void 0,k=Vp(Vp(Vp(Vp({stroke:"#ccc",pointerEvents:"none"},s),E),qf(f)),{},{payload:x,payloadIndex:w,className:kt("recharts-tooltip-cursor",U)});return _.createElement(mi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},_.createElement(SJ,{cursor:f,cursorComp:N,cursorProps:k}))}function TJ(t){var e=KQ(),n=Lk(),r=n0(),a=eJ();return e==null||n==null||r==null||a==null?null:_.createElement(AJ,i_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var o6=_.createContext(null),CJ=()=>_.useContext(o6),Cw={exports:{}},BO;function IJ(){return BO||(BO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,w=g.length,E=new Array(w);x<w;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,w,E){var N=n?n+h:h;if(!this._events[N])return!1;var j=this._events[N],T=arguments.length,L,A;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),T){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,x),!0;case 5:return j.fn.call(j.context,p,g,x,w),!0;case 6:return j.fn.call(j.context,p,g,x,w,E),!0}for(A=1,L=new Array(T-1);A<T;A++)L[A-1]=arguments[A];j.fn.apply(j.context,L)}else{var R=j.length,O;for(A=0;A<R;A++)switch(j[A].once&&this.removeListener(h,j[A].fn,void 0,!0),T){case 1:j[A].fn.call(j[A].context);break;case 2:j[A].fn.call(j[A].context,p);break;case 3:j[A].fn.call(j[A].context,p,g);break;case 4:j[A].fn.call(j[A].context,p,g,x);break;default:if(!L)for(O=1,L=new Array(T-1);O<T;O++)L[O-1]=arguments[O];j[A].fn.apply(j[A].context,L)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return c(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&c(this,w);else{for(var N=0,j=[],T=E.length;N<T;N++)(E[N].fn!==p||x&&!E[N].once||g&&E[N].context!==g)&&j.push(E[N]);j.length?this._events[w]=j.length===1?j[0]:j:c(this,w)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(Cw)),Cw.exports}var OJ=IJ();const RJ=Ji(OJ);var ah=new RJ,s_="recharts.syncEvent.tooltip",$O="recharts.syncEvent.brush";function l6(t,e){if(e){var n=Number.parseInt(e,10);if(!ci(n))return t==null?void 0:t[n]}}var DJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},c6=Qr({name:"options",initialState:DJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),PJ=c6.reducer,{createEventEmitter:kJ}=c6.actions;function MJ(t){return t.tooltip.syncInteraction}var LJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},u6=Qr({name:"chartData",initialState:LJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:FO,setDataStartEndIndexes:UJ,setComputedData:jge}=u6.actions,VJ=u6.reducer,zJ=["x","y"];function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){BJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BJ(t,e,n){return(e=$J(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $J(t){var e=FJ(t,"string");return typeof e=="symbol"?e:e+""}function FJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qJ(t,e){if(t==null)return{};var n,r,a=HJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function HJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GJ(){var t=Le(ZN),e=Le(ej),n=rn(),r=Le(a5),a=Le(Js),s=n0(),c=t0(),d=Le(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return xh;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(c&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:N}=w,j=qJ(w,zJ),{x:T,y:L,width:A,height:R}=p.payload.sourceViewBox,O=mu(mu({},j),{},{x:c.x+(A?(E-T)/A:0)*c.width,y:c.y+(R?(N-L)/R:0)*c.height});n(mu(mu({},p),{},{payload:mu(mu({},p.payload),{},{coordinate:O})}))}else n(p);return}if(a!=null){var U;if(typeof r=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},V=r(a,k);U=a[V]}else r==="value"&&(U=a.find(W=>String(W.value)===p.payload.label));var{coordinate:M}=p.payload;if(U==null||p.payload.active===!1||M==null||c==null){n(r_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:I,y:D}=M,z=Math.min(I,c.x+c.width),B=Math.min(D,c.y+c.height),ye={x:s==="horizontal"?U.coordinate:z,y:s==="horizontal"?B:U.coordinate},le=r_({active:p.payload.active,coordinate:ye,dataKey:p.payload.dataKey,index:String(U.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(le)}}};return ah.on(s_,f),()=>{ah.off(s_,f)}},[d,n,e,t,r,a,s,c])}function KJ(){var t=Le(ZN),e=Le(ej),n=rn();_.useEffect(()=>{if(t==null)return xh;var r=(a,s,c)=>{e!==c&&t===a&&n(UJ(s))};return ah.on($O,r),()=>{ah.off($O,r)}},[n,e,t])}function YJ(){var t=rn();_.useEffect(()=>{t(kJ())},[t]),GJ(),KJ()}function WJ(t,e,n,r,a,s){var c=Le(w=>nJ(w,t,e)),d=Le(ej),f=Le(ZN),h=Le(a5),p=Le(MJ),g=p==null?void 0:p.active,x=t0();_.useEffect(()=>{if(!g&&f!=null&&d!=null){var w=r_({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});ah.emit(s_,f,w,d)}},[g,n,c,a,r,d,f,h,s,x])}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){XJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJ(t,e,n){return(e=QJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZJ(t){return t.dataKey}function eZ(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(zH,e)}var KO=[],tZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!yc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function d6(t){var e,n,r=Sr(t,tZ),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:w,reverseDirection:E,useTranslate3d:N,wrapperStyle:j,cursor:T,shared:L,trigger:A,defaultIndex:R,portal:O,axisId:U}=r,k=rn(),V=typeof R=="number"?String(R):R;_.useEffect(()=>{k(JX({shared:L,trigger:A,axisId:U,active:a,defaultIndex:V}))},[k,L,A,U,a,V]);var M=t0(),I=Xk(),D=GX(L),{activeIndex:z,isActive:B}=(e=Le(Ce=>iJ(Ce,D,A,V)))!==null&&e!==void 0?e:{},ye=Le(Ce=>aJ(Ce,D,A,V)),le=Le(Ce=>i6(Ce,D,A,V)),W=Le(Ce=>rJ(Ce,D,A,V)),oe=ye,J=CJ(),X=(n=a??B)!==null&&n!==void 0?n:!1,[K,F]=CF([oe,X]),Y=D==="axis"?le:void 0;WJ(D,A,W,Y,z,X);var H=O??J;if(H==null||M==null||D==null)return null;var Z=oe??KO;X||(Z=KO),h&&Z.length&&(Z=tF(Z.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||r.includeHidden)),x,ZJ));var fe=Z.length>0,je=_.createElement(KH,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:X,coordinate:W,hasPayload:fe,offset:g,position:w,reverseDirection:E,useTranslate3d:N,viewBox:M,wrapperStyle:j,lastBoundingBox:K,innerRef:F,hasPortalFromProps:!!O},eZ(f,GO(GO({},r),{},{payload:Z,label:Y,active:X,activeIndex:z,coordinate:W,accessibilityLayer:I})));return _.createElement(_.Fragment,null,e4.createPortal(je,H),X&&_.createElement(TJ,{cursor:T,tooltipEventType:D,coordinate:W,payload:Z,index:z}))}var Uh=t=>null;Uh.displayName="Cell";function nZ(t,e,n){return(e=rZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rZ(t){var e=aZ(t,"string");return typeof e=="symbol"?e:e+""}function aZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iZ{constructor(e){nZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){oZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oZ(t,e,n){return(e=lZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lZ(t){var e=cZ(t,"string");return typeof e=="symbol"?e:e+""}function cZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uZ={cacheSize:2e3,enableCache:!0},f6=sZ({},uZ),WO=new iZ(f6.cacheSize),dZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XO="recharts_measurement_span";function fZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(d)}var QO=(t,e)=>{try{var n=document.getElementById(XO);n||(n=document.createElement("span"),n.setAttribute("id",XO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,dZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yc.isSsr)return{width:0,height:0};if(!f6.enableCache)return QO(e,n);var r=fZ(e,n),a=WO.get(r);if(a)return a;var s=QO(e,n);return WO.set(r,s),s},JO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,h6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pZ=Object.keys(h6),Nu="NaN";function gZ(t,e){return t*h6[e]}class Fr{static parse(e){var n,[,r,a]=(n=mZ.exec(e))!==null&&n!==void 0?n:[];return new Fr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ci(e)&&(this.unit=""),n!==""&&!hZ.test(n)&&(this.num=NaN,this.unit=""),pZ.includes(n)&&(this.num=gZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ci(this.num)}}function m6(t){if(t.includes(Nu))return Nu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=JO.exec(e))!==null&&n!==void 0?n:[],c=Fr.parse(r??""),d=Fr.parse(s??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Nu;e=e.replace(JO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=ZO.exec(e))!==null&&h!==void 0?h:[],w=Fr.parse(p??""),E=Fr.parse(x??""),N=g==="+"?w.add(E):w.subtract(E);if(N.isNaN())return Nu;e=e.replace(ZO,N.toString())}return e}var eR=/\(([^()]*)\)/;function yZ(t){for(var e=t,n;(n=eR.exec(e))!=null;){var[,r]=n;e=e.replace(eR,m6(r))}return e}function vZ(t){var e=t.replace(/\s+/g,"");return e=yZ(e),e=m6(e),e}function xZ(t){try{return vZ(t)}catch{return Nu}}function Iw(t){var e=xZ(t.slice(5,-1));return e===Nu?"":e}var bZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],wZ=["dx","dy","angle","className","breakAll"];function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o_.apply(null,arguments)}function tR(t,e){if(t==null)return{};var n,r,a=_Z(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _Z(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var p6=/[ \f\n\r\t\v\u2028\u2029]+/,g6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];rr(e)||(n?a=e.toString().split(""):a=e.toString().split(p6));var s=a.map(d=>({word:d,width:Mf(d,r).width})),c=n?0:Mf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function NZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var y6=(t,e,n,r)=>t.reduce((a,s)=>{var{word:c,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};a.push(h)}return a},[]),v6=t=>t.reduce((e,n)=>e.width>n.width?e:n),jZ="",nR=(t,e,n,r,a,s,c,d)=>{var f=t.slice(0,e),h=g6({breakAll:n,style:r,children:f+jZ});if(!h)return[!1,[]];var p=y6(h.wordsWithComputedWidth,s,c,d),g=p.length>a||v6(p).width>Number(s);return[g,p]},EZ=(t,e,n,r,a)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,h=Me(s),p=String(c),g=y6(e,r,n,a);if(!h||a)return g;var x=g.length>s||v6(g).width>Number(r);if(!x)return g;for(var w=0,E=p.length-1,N=0,j;w<=E&&N<=p.length-1;){var T=Math.floor((w+E)/2),L=T-1,[A,R]=nR(p,L,f,d,s,r,n,a),[O]=nR(p,T,f,d,s,r,n,a);if(!A&&!O&&(w=T+1),A&&O&&(E=T-1),!A&&O){j=R;break}N++}return j||g},rR=t=>{var e=rr(t)?[]:t.toString().split(p6);return[{words:e,width:void 0}]},SZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=t;if((e||n)&&!yc.isSsr){var d,f,h=g6({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return rR(r);return EZ({breakAll:s,children:r,maxLines:c,style:a},d,f,e,!!n)}return rR(r)},x6="#808080",AZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:x6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},E0=_.forwardRef((t,e)=>{var n=Sr(t,AZ),{x:r,y:a,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=tR(n,bZ),x=_.useMemo(()=>SZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:N,className:j,breakAll:T}=g,L=tR(g,wZ);if(!Gi(r)||!Gi(a)||x.length===0)return null;var A=Number(r)+(Me(w)?w:0),R=Number(a)+(Me(E)?E:0);if(!wn(A)||!wn(R))return null;var O;switch(p){case"start":O=Iw("calc(".concat(c,")"));break;case"middle":O=Iw("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=Iw("calc(".concat(x.length-1," * -").concat(s,")"));break}var U=[];if(f){var k=x[0].width,{width:V}=g;U.push("scale(".concat(Me(V)&&Me(k)?V/k:1,")"))}return N&&U.push("rotate(".concat(N,", ").concat(A,", ").concat(R,")")),U.length&&(L.transform=U.join(" ")),_.createElement("text",o_({},ka(L),{ref:e,x:A,y:R,className:kt("recharts-text",j),textAnchor:h,fill:d.includes("url")?x6:d}),x.map((M,I)=>{var D=M.words.join(T?"":" ");return _.createElement("tspan",{x:A,dy:I===0?O:s,key:"".concat(D,"-").concat(I)},D)}))});E0.displayName="Text";var TZ=["labelRef"];function CZ(t,e){if(t==null)return{};var n,r,a=IZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function IZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){OZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OZ(t,e,n){return(e=RZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}var b6=_.createContext(null),PZ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c,children:d}=t,f=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c}),[e,n,r,a,s,c]);return _.createElement(b6.Provider,{value:f},d)},w6=()=>{var t=_.useContext(b6),e=t0();return t||Mk(e)},kZ=_.createContext(null),MZ=()=>{var t=_.useContext(kZ),e=Le(c5);return t||e},LZ=t=>{var{value:e,formatter:n}=t,r=rr(t.children)?e:t.children;return typeof n=="function"?n(r):r},Mj=t=>t!=null&&typeof t=="function",UZ=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},VZ=(t,e,n,r,a)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:w}=a,E=(h+p)/2,N=UZ(g,x),j=N>=0?1:-1,T,L;switch(e){case"insideStart":T=g+j*s,L=w;break;case"insideEnd":T=x-j*s,L=!w;break;case"end":T=x+j*s,L=w;break;default:throw new Error("Unsupported position ".concat(e))}L=N<=0?L:!L;var A=kn(d,f,E,T),R=kn(d,f,E,T+(L?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(L?0:1,`,
    `).concat(R.x,",").concat(R.y),U=rr(t.id)?Hf("recharts-radial-line-"):t.id;return _.createElement("text",js({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",c)}),_.createElement("defs",null,_.createElement("path",{id:U,d:O})),_.createElement("textPath",{xlinkHref:"#".concat(U)},n))},zZ=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=kn(r,a,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:w,y:E}=kn(r,a,x,h);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},l_=t=>"cx"in t&&Me(t.cx),BZ=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!l_(n)&&(s=n);var{x:c,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=c,x=c+(f-h)/2,w=(g+x)/2,E=(f+h)/2,N=g+f/2,j=p>=0?1:-1,T=j*r,L=j>0?"end":"start",A=j>0?"start":"end",R=f>=0?1:-1,O=R*r,U=R>0?"end":"start",k=R>0?"start":"end";if(a==="top"){var V={x:g+f/2,y:d-T,textAnchor:"middle",verticalAnchor:L};return vn(vn({},V),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var M={x:x+h/2,y:d+p+T,textAnchor:"middle",verticalAnchor:A};return vn(vn({},M),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var I={x:w-O,y:d+p/2,textAnchor:U,verticalAnchor:"middle"};return vn(vn({},I),s?{width:Math.max(I.x-s.x,0),height:p}:{})}if(a==="right"){var D={x:w+E+O,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return vn(vn({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:p}:{})}var z=s?{width:E,height:p}:{};return a==="insideLeft"?vn({x:w+O,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},z):a==="insideRight"?vn({x:w+E-O,y:d+p/2,textAnchor:U,verticalAnchor:"middle"},z):a==="insideTop"?vn({x:g+f/2,y:d+T,textAnchor:"middle",verticalAnchor:A},z):a==="insideBottom"?vn({x:x+h/2,y:d+p-T,textAnchor:"middle",verticalAnchor:L},z):a==="insideTopLeft"?vn({x:g+O,y:d+T,textAnchor:k,verticalAnchor:A},z):a==="insideTopRight"?vn({x:g+f-O,y:d+T,textAnchor:U,verticalAnchor:A},z):a==="insideBottomLeft"?vn({x:x+O,y:d+p-T,textAnchor:k,verticalAnchor:L},z):a==="insideBottomRight"?vn({x:x+h-O,y:d+p-T,textAnchor:U,verticalAnchor:L},z):a&&typeof a=="object"&&(Me(a.x)||ks(a.x))&&(Me(a.y)||ks(a.y))?vn({x:c+jr(a.x,E),y:d+jr(a.y,p),textAnchor:"end",verticalAnchor:"end"},z):vn({x:N,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},z)},$Z={angle:0,offset:5,zIndex:hr.label,position:"middle",textBreakAll:!1};function Do(t){var e=Sr(t,$Z),{viewBox:n,position:r,value:a,children:s,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=MZ(),g=w6(),x=r==="center"?g:p??g,w,E,N;if(n==null?w=x:l_(n)?w=n:w=Mk(n),!w||rr(a)&&rr(s)&&!_.isValidElement(c)&&typeof c!="function")return null;var j=vn(vn({},e),{},{viewBox:w});if(_.isValidElement(c)){var{labelRef:T}=j,L=CZ(j,TZ);return _.cloneElement(c,L)}if(typeof c=="function"){if(E=_.createElement(c,j),_.isValidElement(E))return E}else E=LZ(e);var A=ka(e);if(l_(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return VZ(e,r,E,A,w);N=zZ(w,e.offset,e.position)}else N=BZ(e,w);return _.createElement(mi,{zIndex:e.zIndex},_.createElement(E0,js({ref:h,className:kt("recharts-label",d)},A,N,{textAnchor:NZ(A.textAnchor)?A.textAnchor:N.textAnchor,breakAll:f}),E))}Do.displayName="Label";var FZ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Do,js({key:"label-implicit"},r)):Gi(t)?_.createElement(Do,js({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Do?_.cloneElement(t,vn({key:"label-implicit"},r)):_.createElement(Do,js({key:"label-implicit",content:t},r)):Mj(t)?_.createElement(Do,js({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Do,js({},t,{key:"label-implicit"},r)):null};function qZ(t){var{label:e,labelRef:n}=t,r=w6();return FZ(e,r,n)||null}var Ow={},Rw={},iR;function HZ(){return iR||(iR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Rw)),Rw}var Dw={},sR;function GZ(){return sR||(sR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Dw)),Dw}var oR;function KZ(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HZ(),n=GZ(),r=uN();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(Ow)),Ow}var Pw,lR;function YZ(){return lR||(lR=1,Pw=KZ().last),Pw}var WZ=YZ();const XZ=Ji(WZ);var QZ=["valueAccessor"],JZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(null,arguments)}function cR(t,e){if(t==null)return{};var n,r,a=ZZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ZZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eee=t=>Array.isArray(t.value)?XZ(t.value):t.value,_6=_.createContext(void 0),tee=_6.Provider,N6=_.createContext(void 0),nee=N6.Provider;function ree(){return _.useContext(_6)}function aee(){return _.useContext(N6)}function ag(t){var{valueAccessor:e=eee}=t,n=cR(t,QZ),{dataKey:r,clockWise:a,id:s,textBreakAll:c,zIndex:d}=n,f=cR(n,JZ),h=ree(),p=aee(),g=h||p;return!g||!g.length?null:_.createElement(mi,{zIndex:d??hr.label},_.createElement(Dr,{className:"recharts-label-list"},g.map((x,w)=>{var E,N=rr(r)?e(x,w):en(x&&x.payload,r),j=rr(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Do,ty({key:"label-".concat(w)},ka(x),f,j,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:c,viewBox:x.viewBox,index:w,zIndex:0}))})))}ag.displayName="LabelList";function j6(t){var{label:e}=t;return e?e===!0?_.createElement(ag,{key:"labelList-implicit"}):_.isValidElement(e)||Mj(e)?_.createElement(ag,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(ag,ty({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var E6=t=>t.graphicalItems.polarItems,iee=ie([an,Ih],sj),S0=ie([E6,cn,iee],lj),see=ie([S0],cj),A0=ie([see,YN],uj),oee=ie([A0,cn,S0],fj);ie([A0,cn,S0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,c=en(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:en(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var uR=()=>{},lee=ie([A0,cn,S0,w0,an],gj),cee=ie([cn,mj,pj,uR,lee,uR,xt,an],yj),S6=ie([cn,xt,A0,oee,Ch,an,cee],vj),uee=ie([S6,cn,sd],wj);ie([cn,S6,uee,an],Nj);var dee={radiusAxis:{},angleAxis:{}},A6=Qr({name:"polarAxis",initialState:dee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ege,removeRadiusAxis:Sge,addAngleAxis:Age,removeAngleAxis:Tge}=A6.actions,fee=A6.reducer;function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hee(t,e,n){return(e=mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=pee(t,"string");return typeof e=="symbol"?e:e+""}function pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gee=(t,e)=>e,Lj=ie([E6,gee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),yee=[],Uj=(t,e,n)=>(n==null?void 0:n.length)===0?yee:n,T6=ie([YN,Lj,Uj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>fR(fR({},e.presentationProps),s.props))),a!=null)return a}}),vee=ie([T6,Lj,Uj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,c=en(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Xy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),xee=ie([T6,Lj,Uj,qn],(t,e,n,r)=>{if(!(e==null||t==null))return _te({offset:r,pieSettings:e,displayedData:t,cells:n})}),kw={exports:{}},Dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function bee(){if(hR)return Dt;hR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(N){if(typeof N=="object"&&N!==null){var j=N.$$typeof;switch(j){case t:switch(N=N.type,N){case n:case a:case r:case f:case h:case x:return N;default:switch(N=N&&N.$$typeof,N){case c:case d:case g:case p:return N;case s:return N;default:return j}}case e:return j}}}return Dt.ContextConsumer=s,Dt.ContextProvider=c,Dt.Element=t,Dt.ForwardRef=d,Dt.Fragment=n,Dt.Lazy=g,Dt.Memo=p,Dt.Portal=e,Dt.Profiler=a,Dt.StrictMode=r,Dt.Suspense=f,Dt.SuspenseList=h,Dt.isContextConsumer=function(N){return E(N)===s},Dt.isContextProvider=function(N){return E(N)===c},Dt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},Dt.isForwardRef=function(N){return E(N)===d},Dt.isFragment=function(N){return E(N)===n},Dt.isLazy=function(N){return E(N)===g},Dt.isMemo=function(N){return E(N)===p},Dt.isPortal=function(N){return E(N)===e},Dt.isProfiler=function(N){return E(N)===a},Dt.isStrictMode=function(N){return E(N)===r},Dt.isSuspense=function(N){return E(N)===f},Dt.isSuspenseList=function(N){return E(N)===h},Dt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===a||N===r||N===f||N===h||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===p||N.$$typeof===c||N.$$typeof===s||N.$$typeof===d||N.$$typeof===w||N.getModuleId!==void 0)},Dt.typeOf=E,Dt}var mR;function wee(){return mR||(mR=1,kw.exports=bee()),kw.exports}var _ee=wee(),pR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",gR=null,Mw=null,C6=t=>{if(t===gR&&Array.isArray(Mw))return Mw;var e=[];return _.Children.forEach(t,n=>{rr(n)||(_ee.isFragment(n)?e=e.concat(C6(n.props.children)):e.push(n))}),Mw=e,gR=t,e};function Vj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>pR(a)):r=[pR(e)],C6(t).forEach(a=>{var s=rc(a,"type.displayName")||rc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var Lw={},yR;function Nee(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Lw)),Lw}var Uw,vR;function jee(){return vR||(vR=1,Uw=Nee().isPlainObject),Uw}var Eee=jee();const See=Ji(Eee);function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Aee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aee(t,e,n){return(e=Tee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tee(t){var e=Cee(t,"string");return typeof e=="symbol"?e:e+""}function Cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}var wR=(t,e,n,r,a)=>{var s=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-s/2,",").concat(e+a),c+="L ".concat(t+n-s/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},Iee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Oee=t=>{var e=Sr(t,Iee),{x:n,y:r,upperWidth:a,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=_.useRef(null),[w,E]=_.useState(-1),N=_.useRef(a),j=_.useRef(s),T=_.useRef(c),L=_.useRef(n),A=_.useRef(r),R=l0(t,"trapezoid-");if(_.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ye=x.current.getTotalLength();ye&&E(ye)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var O=kt("recharts-trapezoid",d);if(!g)return _.createElement("g",null,_.createElement("path",ny({},ka(e),{className:O,d:wR(n,r,a,s,c)})));var U=N.current,k=j.current,V=T.current,M=L.current,I=A.current,D="0px ".concat(w===-1?1:w,"px"),z="".concat(w,"px 0px"),B=Qk(["strokeDasharray"],h,f);return _.createElement(o0,{animationId:R,key:R,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},ye=>{var le=Vn(U,a,ye),W=Vn(k,s,ye),oe=Vn(V,c,ye),J=Vn(M,n,ye),X=Vn(I,r,ye);x.current&&(N.current=le,j.current=W,T.current=oe,L.current=J,A.current=X);var K=ye>0?{transition:B,strokeDasharray:z}:{strokeDasharray:D};return _.createElement("path",ny({},ka(e),{className:O,d:wR(J,X,le,W,oe),ref:x,style:bR(bR({},K),e.style)}))})},Ree=["option","shapeType","propTransformer","activeClassName"];function Dee(t,e){if(t==null)return{};var n,r,a=Pee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e,n){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uee(t,e){return ry(ry({},e),t)}function Vee(t,e){return t==="symbols"}function NR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(tM,n);case"trapezoid":return _.createElement(Oee,n);case"sector":return _.createElement(iM,n);case"symbols":if(Vee(e))return _.createElement(M4,n);break;case"curve":return _.createElement(jN,n);default:return null}}function zee(t){return _.isValidElement(t)?t.props:t}function I6(t){var{option:e,shapeType:n,propTransformer:r=Uee,activeClassName:a="recharts-active-shape"}=t,s=Dee(t,Ree),c;if(_.isValidElement(e))c=_.cloneElement(e,ry(ry({},s),zee(e)));else if(typeof e=="function")c=e(s);else if(See(e)&&typeof e!="boolean"){var d=r(e,s);c=_.createElement(NR,{shapeType:n,elementProps:d})}else{var f=s;c=_.createElement(NR,{shapeType:n,elementProps:f})}return s.isActive?_.createElement(Dr,{className:a},c):c}var zj=(t,e)=>{var n=rn();return(r,a)=>s=>{t==null||t(r,a,s),n(z5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Bj=t=>{var e=rn();return(n,r)=>a=>{t==null||t(n,r,a),e(ZX())}},$j=(t,e)=>{var n=rn();return(r,a)=>s=>{t==null||t(r,a,s),n(eQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function O6(t){var{tooltipEntrySettings:e}=t,n=rn(),r=Jr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(WX(e)):a.current!==e&&n(XX({prev:a.current,next:e})),a.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{a.current&&(n(QX(a.current)),a.current=null)},[n]),null}function Bee(t){var{legendPayload:e}=t,n=rn(),r=Jr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(Kk(e)):a.current!==e&&n(Yk({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(Wk(a.current)),a.current=null)},[n]),null}function $ee(t){var{legendPayload:e}=t,n=rn(),r=Le(xt),a=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(Kk(e)):a.current!==e&&n(Yk({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(Wk(a.current)),a.current=null)},[n]),null}var Vw,Fee=()=>{var[t]=_.useState(()=>Hf("uid-"));return t},qee=(Vw=YV.useId)!==null&&Vw!==void 0?Vw:Fee;function R6(t,e){var n=qee();return e||(t?"".concat(t,"-").concat(n):n)}var Hee=_.createContext(void 0),D6=t=>{var{id:e,type:n,children:r}=t,a=R6("recharts-".concat(n),e);return _.createElement(Hee.Provider,{value:a},r(a))},Gee={cartesianItems:[],polarItems:[]},P6=Qr({name:"graphicalItems",initialState:Gee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Jt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=oi(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Jt()},removeCartesianGraphicalItem:{reducer(t,e){var n=oi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Jt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Jt()},removePolarGraphicalItem:{reducer(t,e){var n=oi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Jt()}}}),{addCartesianGraphicalItem:Kee,replaceCartesianGraphicalItem:Yee,removeCartesianGraphicalItem:Wee,addPolarGraphicalItem:Xee,removePolarGraphicalItem:Qee}=P6.actions,Jee=P6.reducer,Zee=t=>{var e=rn(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Kee(t)):n.current!==t&&e(Yee({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(Wee(n.current)),n.current=null)},[e]),null},ete=_.memo(Zee);function tte(t){var e=rn();return _.useLayoutEffect(()=>(e(Xee(t)),()=>{e(Qee(t))}),[e,t]),null}var nte=["key"],rte=["onMouseEnter","onClick","onMouseLeave"],ate=["id"],ite=["id"];function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){ste(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ste(t,e,n){return(e=ote(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=lte(t,"string");return typeof e=="symbol"?e:e+""}function lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(null,arguments)}function T0(t,e){if(t==null)return{};var n,r,a=cte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ute(t){var e=_.useMemo(()=>Vj(t.children,Uh),[t.children]),n=Le(r=>vee(r,t.id,e));return n==null?null:_.createElement($ee,{legendPayload:n})}var dte=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:e,nameKey:n,name:Xy(d,e),hide:f,type:h,color:c,unit:""}};return _.createElement(O6,{tooltipEntrySettings:p})}),fte=(t,e)=>t>e?"start":t<e?"end":"middle",hte=(t,e,n)=>jr(typeof e=="function"?e(t):e,n,n*.8),mte=(t,e,n)=>{var{top:r,left:a,width:s,height:c}=e,d=nM(s,c),f=a+jr(t.cx,s,s/2),h=r+jr(t.cy,c,c/2),p=jr(t.innerRadius,d,0),g=hte(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},pte=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function gte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var yte=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=kt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=T0(e,nte);return _.createElement(jN,Ko({},a,{type:"linear",className:n}))},vte=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var a=kt("recharts-pie-label-text",gte(t));return _.createElement(E0,Ko({},e,{alignmentBaseline:"middle",className:a}),r)};function xte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!e)return null;var d=li(n),f=qf(a),h=qf(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,N=kn(x.cx,x.cy,x.outerRadius+p,E),j=hn(hn(hn(hn({},d),x),{},{stroke:"none"},f),{},{index:w,textAnchor:fte(N.x,x.cx)},N),T=hn(hn(hn(hn({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[kn(x.cx,x.cy,x.outerRadius,E),N],key:"line"});return _.createElement(mi,{zIndex:hr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},_.createElement(Dr,null,s&&yte(s,T),vte(a,j,en(x,c))))});return _.createElement(Dr,{className:"recharts-pie-labels"},g)}function bte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?_.createElement(j6,{label:a}):_.createElement(xte,{sectors:e,props:n,showLabels:r})}function wte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,c=Le(oc),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=T0(a,rte),g=zj(d,a.dataKey),x=Bj(h),w=$j(f,a.dataKey);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((E,N)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var j=String(N)===c,T=c?r:null,L=n&&j?n:T,A=hn(hn({},E),{},{stroke:E.stroke,tabIndex:-1,[Ik]:N,[Ok]:a.dataKey});return _.createElement(Dr,Ko({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},zy(p,E,N),{onMouseEnter:g(E,N),onMouseLeave:x(E,N),onClick:w(E,N)}),_.createElement(I6,Ko({option:s??L,shapeType:"sector",isActive:j},A)))}))}function _te(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),w=pte(d,f),E=Math.abs(w),N=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,j=r.filter(U=>en(U,h,0)!==0).length,T=(E>=360?j:j-1)*N,L=E-j*x-T,A=r.reduce((U,k)=>{var V=en(k,h,0);return U+(Me(V)?V:0)},0),R;if(A>0){var O;R=r.map((U,k)=>{var V=en(U,h,0),M=en(U,p,k),I=mte(n,s,U),D=(Me(V)?V:0)/A,z,B=hn(hn({},U),a&&a[k]&&a[k].props);k?z=O.endAngle+nr(w)*N*(V!==0?1:0):z=d;var ye=z+nr(w)*((V!==0?x:0)+D*L),le=(z+ye)/2,W=(I.innerRadius+I.outerRadius)/2,oe=[{name:M,value:V,payload:B,dataKey:h,type:g}],J=kn(I.cx,I.cy,W,le);return O=hn(hn(hn(hn({},n.presentationProps),{},{percent:D,cornerRadius:typeof c=="string"?parseFloat(c):c,name:M,tooltipPayload:oe,midAngle:le,middleRadius:W,tooltipPosition:J},B),I),{},{value:V,startAngle:z,endAngle:ye,payload:B,paddingAngle:nr(w)*N}),O})}return R}function Nte(t){var{showLabels:e,sectors:n,children:r}=t,a=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(nee,{value:e?a:void 0},r)}function jte(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=l0(e,"recharts-pie-"),w=n.current,[E,N]=_.useState(!1),j=_.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),T=_.useCallback(()=>{typeof p=="function"&&p(),N(!0)},[p]);return _.createElement(Nte,{showLabels:!E,sectors:r},_.createElement(o0,{animationId:x,begin:s,duration:c,isActive:a,easing:d,onAnimationStart:T,onAnimationEnd:j,key:x},L=>{var A=[],R=r&&r[0],O=R==null?void 0:R.startAngle;return r==null||r.forEach((U,k)=>{var V=w&&w[k],M=k>0?rc(U,"paddingAngle",0):0;if(V){var I=Vn(V.endAngle-V.startAngle,U.endAngle-U.startAngle,L),D=hn(hn({},U),{},{startAngle:O+M,endAngle:O+I+M});A.push(D),O=D.endAngle}else{var{endAngle:z,startAngle:B}=U,ye=Vn(0,z-B,L),le=hn(hn({},U),{},{startAngle:O+M,endAngle:O+ye+M});A.push(le),O=le.endAngle}}),n.current=A,_.createElement(Dr,null,_.createElement(wte,{sectors:A,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),_.createElement(bte,{showLabels:!E,sectors:r,props:e}),e.children)}var Ete={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!yc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:hr.area};function Ste(t){var{id:e}=t,n=T0(t,ate),{hide:r,className:a,rootTabIndex:s}=t,c=_.useMemo(()=>Vj(t.children,Uh),[t.children]),d=Le(p=>xee(p,e,c)),f=_.useRef(null),h=kt("recharts-pie",a);return r||d==null?(f.current=null,_.createElement(Dr,{tabIndex:s,className:h})):_.createElement(mi,{zIndex:t.zIndex},_.createElement(dte,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),_.createElement(Dr,{tabIndex:s,className:h},_.createElement(jte,{props:hn(hn({},n),{},{sectors:d}),previousSectorsRef:f})))}function k6(t){var e=Sr(t,Ete),{id:n}=e,r=T0(e,ite),a=li(r);return _.createElement(D6,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(tte,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),_.createElement(ute,Ko({},r,{id:s})),_.createElement(Ste,Ko({},r,{id:s}))))}k6.displayName="Pie";function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ate(t,e,n){return(e=Tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ite={xAxis:{},yAxis:{},zAxis:{}},M6=Qr({name:"cartesianAxis",initialState:Ite,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Jt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Jt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Jt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Jt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Jt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Jt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Jt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Jt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Jt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var c=[...s,r].slice(-3);t.yAxis[n]=SR(SR({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Ote,replaceXAxis:Rte,removeXAxis:Dte,addYAxis:Pte,replaceYAxis:kte,removeYAxis:Mte,addZAxis:Cge,replaceZAxis:Ige,removeZAxis:Oge,updateYAxisWidth:Lte}=M6.actions,Ute=M6.reducer,Vte=ie([qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),zte=ie([Vte,Ks,Ys],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),L6=()=>Le(zte),Bte="Invariant failed";function $te(t,e){throw new Error(Bte)}var Fte=["x","y"];function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c_.apply(null,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qte(t,e,n){return(e=Hte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=Gte(t,"string");return typeof e=="symbol"?e:e+""}function Gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kte(t,e){if(t==null)return{};var n,r,a=Yte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wte(t,e){var{x:n,y:r}=t,a=Kte(t,Fte),s="".concat(n),c=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return Af(Af(Af(Af(Af({},e),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function ay(t){return _.createElement(I6,c_({shapeType:"rectangle",propTransformer:Wte,activeClassName:"recharts-active-bar"},t))}var Xte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Me(e))return e;var s=Me(r)||rr(r);return s?e(r,a):(s||$te(),n)}},Qte={},U6=Qr({name:"errorBars",initialState:Qte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Rge,replaceErrorBar:Dge,removeErrorBar:Pge}=U6.actions,Jte=U6.reducer,Zte=["children"];function ene(t,e){if(t==null)return{};var n,r,a=tne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rne=_.createContext(nne);function ane(t){var{children:e}=t,n=ene(t,Zte);return _.createElement(rne.Provider,{value:n},e)}function V6(t,e){var n,r,a=Le(h=>Xs(h,t)),s=Le(h=>Qs(h,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Jn.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function ine(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=L6(),{needClipX:s,needClipY:c,needClip:d}=V6(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}function sne(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&wn(t.zIndex)?t.zIndex:e}var zw={exports:{}},Bw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function one(){if(TR)return Bw;TR=1;var t=Ju();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Bw.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=c(function(){function j(O){if(!T){if(T=!0,L=O,O=g(O),x!==void 0&&E.hasValue){var U=E.value;if(x(U,O))return A=U}return A=O}if(U=A,n(L,O))return U;var k=g(O);return x!==void 0&&x(U,k)?(L=O,U):(L=O,A=k)}var T=!1,L,A,R=p===void 0?null:p;return[function(){return j(h())},R===null?void 0:function(){return j(R())}]},[h,p,g,x]);var N=r(f,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=N},[N]),d(N),N},Bw}var CR;function lne(){return CR||(CR=1,zw.exports=one()),zw.exports}lne();function cne(t){t()}function une(){let t=null,e=null;return{clear(){t=null,e=null},notify(){cne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var IR={notify(){},get:()=>[]};function dne(t,e){let n,r=IR,a=0,s=!1;function c(N){p();const j=r.subscribe(N);let T=!1;return()=>{T||(T=!0,j(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=une())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=IR)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const E={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var fne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hne=fne(),mne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pne=mne(),gne=()=>hne||pne?_.useLayoutEffect:_.useEffect,yne=gne();function OR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function vne(t,e){if(OR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!OR(t[n[a]],e[n[a]]))return!1;return!0}var $w=Symbol.for("react-redux-context"),Fw=typeof globalThis<"u"?globalThis:{};function xne(){if(!_.createContext)return{};const t=Fw[$w]??(Fw[$w]=new Map);let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var bne=xne();function wne(t){const{children:e,context:n,serverState:r,store:a}=t,s=_.useMemo(()=>{const f=dne(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=_.useMemo(()=>a.getState(),[a]);yne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=n||bne;return _.createElement(d.Provider,{value:s},e)}var _ne=wne,Nne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function jne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Fj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Nne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!vne(t[r],e[r]))return!1}else if(!jne(t[r],e[r]))return!1;return!0}var Ene=["onMouseEnter","onMouseLeave","onClick"],Sne=["value","background","tooltipPosition"],Ane=["id"],Tne=["onMouseEnter","onClick","onMouseLeave"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(null,arguments)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){Cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e,n){return(e=Ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ine(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iy(t,e){if(t==null)return{};var n,r,a=Rne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Xy(n,e),payload:t}]},Pne=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:c,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Xy(s,e),hide:c,type:f,color:a,unit:d}};return _.createElement(O6,{tooltipEntrySettings:h})});function kne(t){var e=Le(oc),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=iy(s,Ene),p=zj(c,r),g=Bj(d),x=$j(f,r);if(!a||n==null)return null;var w=qf(a);return _.createElement(mi,{zIndex:sne(a,hr.barBackground)},n.map((E,N)=>{var{value:j,background:T,tooltipPosition:L}=E,A=iy(E,Sne);if(!T)return null;var R=p(E,N),O=g(E,N),U=x(E,N),k=Ir(Ir(Ir(Ir(Ir({option:a,isActive:String(N)===e},A),{},{fill:"#eee"},T),w),zy(h,E,N)),{},{onMouseEnter:R,onMouseLeave:O,onClick:U,dataKey:r,index:N,className:"recharts-bar-background-rectangle"});return _.createElement(ay,Bs({key:"background-bar-".concat(N)},k))}))}function Mne(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Ir(Ir({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return _.createElement(tee,{value:e?a:void 0},n)}function Lne(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:c}=t,d=Le(oc),f=Le(e6),h=n&&String(s)===d&&(f==null||c===f),p=h?n:e;return h?_.createElement(mi,{zIndex:hr.activeBar},_.createElement(ay,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))):_.createElement(ay,Bs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))}function Une(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return _.createElement(ay,Bs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function Vne(t){var e,{data:n,props:r}=t,a=(e=li(r))!==null&&e!==void 0?e:{},{id:s}=a,c=iy(a,Ane),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,w=iy(r,Tne),E=zj(p,f),N=Bj(x),j=$j(g,f);return n?_.createElement(_.Fragment,null,n.map((T,L)=>_.createElement(Dr,Bs({key:"rectangle-".concat(T==null?void 0:T.x,"-").concat(T==null?void 0:T.y,"-").concat(T==null?void 0:T.value,"-").concat(L),className:"recharts-bar-rectangle"},zy(w,T,L),{onMouseEnter:E(T,L),onMouseLeave:N(T,L),onClick:j(T,L)}),h?_.createElement(Lne,{shape:d,activeBar:h,baseProps:c,entry:T,index:L,dataKey:f}):_.createElement(Une,{shape:d,baseProps:c,entry:T,index:L,dataKey:f})))):null}function zne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=l0(e,"recharts-bar-"),[w,E]=_.useState(!1),N=!w,j=_.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),T=_.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return _.createElement(Mne,{showLabels:N,rects:r},_.createElement(o0,{animationId:x,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:j,onAnimationStart:T,key:x},L=>{var A=L===1?r:r==null?void 0:r.map((R,O)=>{var U=g&&g[O];if(U)return Ir(Ir({},R),{},{x:Vn(U.x,R.x,L),y:Vn(U.y,R.y,L),width:Vn(U.width,R.width,L),height:Vn(U.height,R.height,L)});if(a==="horizontal"){var k=Vn(0,R.height,L),V=Vn(R.stackedBarStart,R.y,L);return Ir(Ir({},R),{},{y:V,height:k})}var M=Vn(0,R.width,L),I=Vn(R.stackedBarStart,R.x,L);return Ir(Ir({},R),{},{width:M,x:I})});return L>0&&(n.current=A??null),A==null?null:_.createElement(Dr,null,_.createElement(Vne,{props:e,data:A}))}),_.createElement(j6,{label:e.label}),e.children)}function Bne(t){var e=_.useRef(null);return _.createElement(zne,{previousRectanglesRef:e,props:t})}var z6=0,$ne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:en(t,e)}};class Fne extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=kt("recharts-bar",a),g=h;return _.createElement(Dr,{className:p,id:h},d&&_.createElement("defs",null,_.createElement(ine,{clipPathId:g,xAxisId:s,yAxisId:c})),_.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},_.createElement(kne,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(Bne,this.props)))}}var qne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:z6,xAxisId:0,yAxisId:0,zIndex:hr.bar};function Hne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=V6(e,n),x=n0(),w=Jr(),E=Vj(t.children,Uh),N=Le(L=>xre(L,e,n,w,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var j,T=N==null?void 0:N[0];return T==null||T.height==null||T.width==null?j=0:j=x==="vertical"?T.height/2:T.width/2,_.createElement(ane,{xAxisId:e,yAxisId:n,data:N,dataPointFormatter:$ne,errorBarOffset:j},_.createElement(Fne,Bs({},t,{layout:x,needClip:g,data:N,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Gne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:w,parentViewBox:E,dataStartIndex:N}=t,j=e==="horizontal"?d:c,T=p?j.scale.domain():null,L=Bq({numericAxis:j}),A=j.scale(L);return g.map((R,O)=>{var U,k,V,M,I,D;p?U=kq(p[O+N],T):(U=en(R,n),Array.isArray(U)||(U=[L,U]));var z=Xte(r,z6)(U[1],O);if(e==="horizontal"){var B,[ye,le]=[d.scale(U[0]),d.scale(U[1])];k=ZC({axis:c,ticks:f,bandSize:s,offset:a.offset,entry:R,index:O}),V=(B=le??ye)!==null&&B!==void 0?B:void 0,M=a.size;var W=ye-le;if(I=ci(W)?0:W,D={x:k,y:x.top,width:M,height:x.height},Math.abs(z)>0&&Math.abs(I)<Math.abs(z)){var oe=nr(I||z)*(Math.abs(z)-Math.abs(I));V-=oe,I+=oe}}else{var[J,X]=[c.scale(U[0]),c.scale(U[1])];if(k=J,V=ZC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:R,index:O}),M=X-J,I=a.size,D={x:x.left,y:V,width:x.width,height:I},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var K=nr(M||z)*(Math.abs(z)-Math.abs(M));M+=K}}if(k==null||V==null||M==null||I==null)return null;var F=Ir(Ir({},R),{},{stackedBarStart:A,x:k,y:V,width:M,height:I,value:p?U:U[1],payload:R,background:D,tooltipPosition:{x:k+M/2,y:V+I/2},parentViewBox:E},w&&w[O]&&w[O].props);return F}).filter(Boolean)}function Kne(t){var e=Sr(t,qne),n=Jr();return _.createElement(D6,{id:e.id,type:"bar"},r=>_.createElement(_.Fragment,null,_.createElement(Bee,{legendPayload:Dne(e)}),_.createElement(Pne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),_.createElement(ete,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:zq(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),_.createElement(mi,{zIndex:e.zIndex},_.createElement(Hne,Bs({},e,{id:r})))))}var B6=_.memo(Kne,Fj);B6.displayName="Bar";function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yne(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qne=(t,e)=>e,Jne=(t,e,n)=>n,Zne=(t,e,n,r)=>r,ere=(t,e,n,r,a)=>a,Vh=ie([oj,ere],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),tre=ie([Vh],t=>t==null?void 0:t.maxBarSize),nre=(t,e,n,r,a,s)=>s,PR=(t,e,n)=>{var r=n??t;if(!rr(r))return jr(r,e,0)},rre=ie([xt,oj,Qne,Jne,Zne],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),are=(t,e,n,r)=>{var a=xt(t);return a==="horizontal"?n_(t,"yAxis",n,r):n_(t,"xAxis",e,r)},ire=(t,e,n)=>{var r=xt(t);return r==="horizontal"?IO(t,"xAxis",e):IO(t,"yAxis",n)},sre=(t,e,n)=>{var r={},a=t.filter(y0),s=t.filter(h=>h.stackId==null),c=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(c).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),w=PR(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=PR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},ore=ie([rre,$W,ire],sre),lre=(t,e,n,r,a)=>{var s,c,d=Vh(t,e,n,r,a);if(d!=null){var f=xt(t),h=t5(t),{maxBarSize:p}=d,g=rr(p)?h:p,x,w;return f==="horizontal"?(x=qu(t,"xAxis",e,r),w=Fu(t,"xAxis",e,r)):(x=qu(t,"yAxis",n,r),w=Fu(t,"yAxis",n,r)),(s=(c=Rg(x,w,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},$6=(t,e,n,r)=>{var a=xt(t),s,c;return a==="horizontal"?(s=qu(t,"xAxis",e,r),c=Fu(t,"xAxis",e,r)):(s=qu(t,"yAxis",n,r),c=Fu(t,"yAxis",n,r)),Rg(s,c)};function cre(t,e,n,r,a){var s=r.length;if(!(s<1)){var c=jr(t,n,0,!0),d,f=[];if(wn(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((T,L)=>T+(L.barSize||0),0);g+=(s-1)*c,g>=n&&(g-=(s-1)*c,c=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,w={offset:x-c,size:0};d=r.reduce((T,L)=>{var A,R={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:w.offset+w.size+c,size:h?p:(A=L.barSize)!==null&&A!==void 0?A:0}},O=[...T,R];return w=O[O.length-1].position,O},f)}else{var E=jr(e,n,0,!0);n-2*E-(s-1)*c<=0&&(c=0);var N=(n-2*E-(s-1)*c)/s;N>1&&(N>>=0);var j=wn(a)?Math.min(N,a):N;d=r.reduce((T,L,A)=>[...T,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:E+(N+c)*A+(N-j)/2,size:j}}],f)}return d}}var ure=(t,e,n,r,a,s,c)=>{var d=rr(c)?e:c,f=cre(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>zp(zp({},h),{},{position:zp(zp({},h.position),{},{offset:h.position.offset-a/2})}))),f},dre=ie([ore,t5,BW,n5,lre,$6,tre],ure),fre=(t,e,n,r)=>qu(t,"xAxis",e,r),hre=(t,e,n,r)=>qu(t,"yAxis",n,r),mre=(t,e,n,r)=>Fu(t,"xAxis",e,r),pre=(t,e,n,r)=>Fu(t,"yAxis",n,r),gre=ie([dre,Vh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),yre=(t,e)=>{var n=aj(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(c=>c.key===n)}}}},vre=ie([are,Vh],yre),xre=ie([qn,bN,fre,hre,mre,pre,gre,xt,WN,$6,vre,Vh,nre],(t,e,n,r,a,s,c,d,f,h,p,g,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:N}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:j}=g,T;if(j!=null&&j.length>0?T=j:T=w==null?void 0:w.slice(E,N+1),T!=null)return Gne({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:T,offset:t,cells:x,dataStartIndex:E})}}),F6=t=>{var{chartData:e}=t,n=rn(),r=Jr();return _.useEffect(()=>r?()=>{}:(n(FO(e)),()=>{n(FO(void 0))}),[e,n,r]),null},kR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q6=Qr({name:"brush",initialState:kR,reducers:{setBrushSettings(t,e){return e.payload==null?kR:e.payload}}}),{setBrushSettings:kge}=q6.actions,bre=q6.reducer;function wre(t,e,n){return(e=_re(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=Nre(t,"string");return typeof e=="symbol"?e:e+""}function Nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qj{static create(e){return new qj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}wre(qj,"EPS",1e-4);function jre(t){return(t%180+180)%180}var Ere=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jre(a),c=s*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Sre={dots:[],areas:[],lines:[]},H6=Qr({name:"referenceElements",initialState:Sre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=oi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=oi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=oi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Mge,removeDot:Lge,addArea:Uge,removeArea:Vge,addLine:zge,removeLine:Bge}=H6.actions,Are=H6.reducer,Tre=_.createContext(void 0),Cre=t=>{var{children:e}=t,[n]=_.useState("".concat(Hf("recharts"),"-clip")),r=L6();if(r==null)return null;var{x:a,y:s,width:c,height:d}=r;return _.createElement(Tre.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:a,y:s,height:d,width:c}))),e)};function G6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Ire(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ere(r,n)}function Ore(t,e,n){var r=n==="width",{x:a,y:s,width:c,height:d}=t;return e===1?{start:r?a:s,end:r?a+c:s+d}:{start:r?a+c:s+d,end:r?a:s}}function sy(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function Rre(t,e){return G6(t,e+1)}function Dre(t,e,n,r,a){for(var s=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:G6(r,h)};var N=f,j,T=()=>(j===void 0&&(j=n(E,N)),j),L=E.coordinate,A=f===0||sy(t,L,T,p,d);A||(f=0,p=c,h+=1),A&&(p=L+t*(T()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Pre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pre(t,e,n){return(e=kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Mre(t,"string");return typeof e=="symbol"?e:e+""}function Mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lre(t,e,n,r,a){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,h=function(x){var w=s[x],E,N=()=>(E===void 0&&(E=n(w,x)),E);if(x===c-1){var j=t*(w.coordinate+t*N()/2-f);s[x]=w=xr(xr({},w),{},{tickCoord:j>0?w.coordinate-j*t:w.coordinate})}else s[x]=w=xr(xr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var T=sy(t,w.tickCoord,N,d,f);T&&(f=w.tickCoord-t*(N()/2+a),s[x]=xr(xr({},w),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function Ure(t,e,n,r,a,s){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=xr(xr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var w=sy(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+a),c[d-1]=xr(xr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,N=function(L){var A=c[L],R,O=()=>(R===void 0&&(R=n(A,L)),R);if(L===0){var U=t*(A.coordinate-t*O()/2-f);c[L]=A=xr(xr({},A),{},{tickCoord:U<0?A.coordinate-U*t:A.coordinate})}else c[L]=A=xr(xr({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var k=sy(t,A.tickCoord,O,f,h);k&&(f=A.tickCoord+t*(O()/2+a),c[L]=xr(xr({},A),{},{isShow:!0}))}},j=0;j<E;j++)N(j);return c}function Hj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Me(f)||yc.isSsr){var x;return(x=Rre(a,Me(f)?f:0))!==null&&x!==void 0?x:[]}var w=[],E=d==="top"||d==="bottom"?"width":"height",N=p&&E==="width"?Mf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},j=(A,R)=>{var O=typeof h=="function"?h(A.value,R):A.value;return E==="width"?Ire(Mf(O,{fontSize:e,letterSpacing:n}),N,g):Mf(O,{fontSize:e,letterSpacing:n})[E]},T=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,L=Ore(s,T,E);return f==="equidistantPreserveStart"?Dre(T,L,j,a,c):(f==="preserveStart"||f==="preserveStartEnd"?w=Ure(T,L,j,a,c,f==="preserveStartEnd"):w=Lre(T,L,j,a,c),w.filter(A=>A.isShow))}var Vre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=c+f+d+(n?r:0);return Math.round(h)}return 0},zre=["axisLine","width","height","className","hide","ticks","axisType"];function Bre(t,e){if(t==null)return{};var n,r,a=$re(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return(e=qre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:hr.axis};function Gre(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=Dn(Dn(Dn({},f),li(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=Dn(Dn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=Dn(Dn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return _.createElement("line",lc({},h,{className:kt("recharts-cartesian-axis-line",rc(d,"className"))}))}function Kre(t,e,n,r,a,s,c,d,f){var h,p,g,x,w,E,N=d?-1:1,j=t.tickSize||c,T=Me(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-N*j,E=g-N*f,w=T;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-N*j,w=h-N*f,E=T;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+N*j,w=h+N*f,E=T;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+N*j,E=g+N*f,w=T;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:w,y:E}}}function Yre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Wre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Xre(t){var{option:e,tickProps:n,value:r}=t,a,s=kt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))a=_.cloneElement(e,Dn(Dn({},n),{},{className:s}));else if(typeof e=="function")a=e(Dn(Dn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=kt(c,e==null?void 0:e.className)),a=_.createElement(E0,lc({},n,{className:c}),r)}return a}var Qre=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:w,width:E,height:N,tickSize:j,tickMargin:T,fontSize:L,letterSpacing:A,getTicksConfig:R,events:O,axisType:U}=t,k=Hj(Dn(Dn({},R),{},{ticks:n}),L,A),V=Yre(p,g),M=Wre(p,g),I=li(R),D=qf(r),z={};typeof a=="object"&&(z=a);var B=Dn(Dn({},I),{},{fill:"none"},z),ye=k.map(oe=>Dn({entry:oe},Kre(oe,x,w,E,N,p,j,g,T))),le=ye.map(oe=>{var{entry:J,line:X}=oe;return _.createElement(Dr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},a&&_.createElement("line",lc({},B,X,{className:kt("recharts-cartesian-axis-tick-line",rc(a,"className"))})))}),W=ye.map((oe,J)=>{var{entry:X,tick:K}=oe,F=Dn(Dn(Dn(Dn({textAnchor:V,verticalAnchor:M},I),{},{stroke:"none",fill:s},D),K),{},{index:J,payload:X,visibleTicksCount:k.length,tickFormatter:c,padding:f},h);return _.createElement(Dr,lc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},zy(O,X,J)),r&&_.createElement(Xre,{option:r,tickProps:F,value:"".concat(typeof c=="function"?c(X.value,J):X.value).concat(d||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},W.length>0&&_.createElement(mi,{zIndex:hr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:e},W)),le.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},le))}),Jre=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:c,ticks:d,axisType:f}=t,h=Bre(t,zre),[p,g]=_.useState(""),[x,w]=_.useState(""),E=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return Vre({ticks:E.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var N=_.useCallback(j=>{if(j){var T=j.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=T;var L=T[0];if(L){var A=window.getComputedStyle(L),R=A.fontSize,O=A.letterSpacing;(R!==p||O!==x)&&(g(R),w(O))}}},[p,x]);return c||r!=null&&r<=0||a!=null&&a<=0?null:_.createElement(mi,{zIndex:t.zIndex},_.createElement(Dr,{className:kt("recharts-cartesian-axis",s)},_.createElement(Gre,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:li(t)}),_.createElement(Qre,{ref:N,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(PZ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(qZ,{label:t.label,labelRef:t.labelRef}),t.children)))}),Gj=_.forwardRef((t,e)=>{var n=Sr(t,Rs);return _.createElement(Jre,lc({},n,{ref:e}))});Gj.displayName="CartesianAxis";var Zre=["x1","y1","x2","y2","key"],eae=["offset"],tae=["xAxisId","yAxisId"],nae=["xAxisId","yAxisId"];function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return(e=aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t){var e=iae(t,"string");return typeof e=="symbol"?e:e+""}function iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function oy(t,e){if(t==null)return{};var n,r,a=sae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:c,ry:d}=t;return _.createElement("rect",{x:r,y:a,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function K6(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:c,x2:d,y2:f,key:h}=n,p=oy(n,Zre),g=(a=li(p))!==null&&a!==void 0?a:{},{offset:x}=g,w=oy(g,eae);r=_.createElement("line",Yl({},w,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function lae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=oy(t,tae),f=a.map((h,p)=>{var g=wr(wr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return _.createElement(K6,{key:"line-".concat(p),option:r,lineItemProps:g})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function cae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=oy(t,nae),f=a.map((h,p)=>{var g=wr(wr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return _.createElement(K6,{option:r,lineItemProps:g,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function uae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var N=x%e.length;return _.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:s,stroke:"none",fill:e[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function dae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var w=!h[x+1],E=w?a+c-g:h[x+1]-g;if(E<=0)return null;var N=x%n.length;return _.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:E,height:d,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var fae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return Ak(Hj(wr(wr(wr({},Rs),n),{},{ticks:Tk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},hae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return Ak(Hj(wr(wr(wr({},Rs),n),{},{ticks:Tk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},mae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:hr.grid};function Y6(t){var e=Uk(),n=Vk(),r=Lk(),a=wr(wr({},Sr(t,mae)),{},{x:Me(t.x)?t.x:r.left,y:Me(t.y)?t.y:r.top,width:Me(t.width)?t.width:r.width,height:Me(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:w}=a,E=Jr(),N=Le(M=>OO(M,"xAxis",s,E)),j=Le(M=>OO(M,"yAxis",c,E));if(!Yi(h)||!Yi(p)||!Me(d)||!Me(f))return null;var T=a.verticalCoordinatesGenerator||fae,L=a.horizontalCoordinatesGenerator||hae,{horizontalPoints:A,verticalPoints:R}=a;if((!A||!A.length)&&typeof L=="function"){var O=x&&x.length,U=L({yAxis:j?wr(wr({},j),{},{ticks:O?x:j.ticks}):void 0,width:e??h,height:n??p,offset:r},O?!0:g);Dg(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(A=U)}if((!R||!R.length)&&typeof T=="function"){var k=w&&w.length,V=T({xAxis:N?wr(wr({},N),{},{ticks:k?w:N.ticks}):void 0,width:e??h,height:n??p,offset:r},k?!0:g);Dg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(R=V)}return _.createElement(mi,{zIndex:a.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(oae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),_.createElement(uae,Yl({},a,{horizontalPoints:A})),_.createElement(dae,Yl({},a,{verticalPoints:R})),_.createElement(lae,Yl({},a,{offset:r,horizontalPoints:A,xAxis:N,yAxis:j})),_.createElement(cae,Yl({},a,{offset:r,verticalPoints:R,xAxis:N,yAxis:j}))))}Y6.displayName="CartesianGrid";var pae=["domain","range"],gae=["domain","range"];function VR(t,e){if(t==null)return{};var n,r,a=yae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zR(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function W6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=VR(t,pae),{domain:s,range:c}=e,d=VR(e,gae);return!zR(n,s)||!zR(r,c)?!1:Fj(a,d)}var vae=["dangerouslySetInnerHTML","ticks"],xae=["id"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(null,arguments)}function BR(t,e){if(t==null)return{};var n,r,a=bae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wae(t){var e=rn(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Ote(t)):n.current!==t&&e(Rte({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Dte(n.current)),n.current=null)},[e]),null}var _ae=t=>{var{xAxisId:e,className:n}=t,r=Le(bN),a=Jr(),s="xAxis",c=Le(j=>od(j,s,e,a)),d=Le(j=>P5(j,s,e,a)),f=Le(j=>I5(j,e)),h=Le(j=>VX(j,e)),p=Le(j=>d5(j,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,w=BR(t,vae),{id:E}=p,N=BR(p,xae);return _.createElement(Gj,u_({},w,N,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:kt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},Nae={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,angle:Jn.angle,axisLine:Rs.axisLine,height:Jn.height,hide:!1,includeHidden:Jn.includeHidden,interval:Jn.interval,minTickGap:Jn.minTickGap,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tick:Jn.tick,tickCount:Jn.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:Jn.type,xAxisId:0},jae=t=>{var e=Sr(t,Nae);return _.createElement(_.Fragment,null,_.createElement(wae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(_ae,e))},X6=_.memo(jae,W6);X6.displayName="XAxis";var Eae=["dangerouslySetInnerHTML","ticks"],Sae=["id"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(null,arguments)}function $R(t,e){if(t==null)return{};var n,r,a=Aae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Aae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tae(t){var e=rn(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Pte(t)):n.current!==t&&e(kte({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Mte(n.current)),n.current=null)},[e]),null}var Cae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=_.useRef(null),c=_.useRef(null),d=Le(bN),f=Jr(),h=rn(),p="yAxis",g=Le(O=>od(O,p,e,f)),x=Le(O=>O5(O,e)),w=Le(O=>BX(O,e)),E=Le(O=>P5(O,p,e,f)),N=Le(O=>f5(O,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Mj(a)||_.isValidElement(a)||N==null)){var O=s.current;if(O){var U=O.getCalculatedWidth();Math.round(x.width)!==Math.round(U)&&h(Lte({id:e,width:U}))}}},[E,x,h,a,e,r,N]),x==null||w==null||N==null)return null;var{dangerouslySetInnerHTML:j,ticks:T}=t,L=$R(t,Eae),{id:A}=N,R=$R(N,Sae);return _.createElement(Gj,d_({},L,R,{ref:s,labelRef:c,scale:g,x:w.x,y:w.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:kt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},Iae={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},Oae=t=>{var e=Sr(t,Iae);return _.createElement(_.Fragment,null,_.createElement(Tae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(Cae,e))},Q6=_.memo(Oae,W6);Q6.displayName="YAxis";var Rae=(t,e)=>e,Kj=ie([Rae,xt,c5,Gn,X5,Js,tJ,qn],lJ),Yj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},J6=Ma("mouseClick"),Z6=_h();Z6.startListening({actionCreator:J6,effect:(t,e)=>{var n=t.payload,r=Kj(e.getState(),Yj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(tQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var f_=Ma("mouseMove"),e3=_h(),Bp=null;e3.startListening({actionCreator:f_,effect:(t,e)=>{var n=t.payload;Bp!==null&&cancelAnimationFrame(Bp);var r=Yj(n);Bp=requestAnimationFrame(()=>{var a=e.getState(),s=Sj(a,a.tooltip.settings.shared);if(s==="axis"){var c=Kj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch($5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(B5())}Bp=null})}});var FR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},t3=Qr({name:"rootProps",initialState:FR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:FR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Dae=t3.reducer,{updateOptions:Pae}=t3.actions,n3=Qr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:kae}=n3.actions,Mae=n3.reducer,r3=Ma("keyDown"),a3=Ma("focus"),Wj=_h();Wj.startListening({actionCreator:r3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Aj(a,cd(n),Dh(n),Lh(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Js(n);if(s==="Enter"){var h=ey(n,"axis","hover",String(a.index));e.dispatch(a_({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=HX(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=d+x*g;if(!(f==null||w>=f.length||w<0)){var E=ey(n,"axis","hover",String(w));e.dispatch(a_({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});Wj.startListening({actionCreator:a3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=ey(n,"axis","hover",String(s));e.dispatch(a_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Oa=Ma("externalEvent"),i3=_h(),qw=new Map;i3.startListening({actionCreator:Oa,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=qw.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:zQ(d),activeDataKey:e6(d),activeIndex:oc(d),activeLabel:Z5(d),activeTooltipIndex:oc(d),isTooltipActive:BQ(d)};n(f,r)}finally{qw.delete(a)}});qw.set(a,c)}}});var Lae=ie([ld],t=>t.tooltipItemPayloads),Uae=ie([Lae,kh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var c=e(s,n);return c}}}),s3=Ma("touchMove"),o3=_h();o3.startListening({actionCreator:s3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=Sj(r,r.tooltip.settings.shared);if(a==="axis"){var s=Kj(r,Yj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch($5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Ik),p=(c=f.getAttribute(Ok))!==null&&c!==void 0?c:void 0,g=Uae(e.getState(),h,p);e.dispatch(z5({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Vae=J4({brush:bre,cartesianAxis:Ute,chartData:VJ,errorBars:Jte,graphicalItems:Jee,layout:Cq,legend:kH,options:PJ,polarAxis:fee,polarOptions:Mae,referenceElements:Are,rootProps:Dae,tooltip:nQ,zIndex:_J}),zae=function(e){return eq({reducer:Vae,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Z6.middleware,e3.middleware,Wj.middleware,i3.middleware,o3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(hk({type:"raf"}))},devTools:yc.devToolsEnabled})};function l3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Jr(),s=_.useRef(null);if(a)return n;s.current==null&&(s.current=zae(e));var c=dN;return _.createElement(_ne,{context:c,store:s.current},n)}function Bae(t){var{layout:e,margin:n}=t,r=rn(),a=Jr();return _.useEffect(()=>{a||(r(Sq(e)),r(Eq(n)))},[r,a,e,n]),null}var c3=_.memo(Bae,Fj);function u3(t){var e=rn();return _.useEffect(()=>{e(Pae(t))},[e,t]),null}function qR(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=R6("".concat(r).concat(e)),s=rn();return _.useLayoutEffect(()=>(s(bJ({zIndex:e,elementId:a,isPanorama:n})),()=>{s(wJ({zIndex:e,isPanorama:n}))}),[s,e,a,n]),_.createElement("g",{id:a})}function HR(t){var{children:e,isPanorama:n}=t,r=Le(uJ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),s=r.filter(c=>c>0);return _.createElement(_.Fragment,null,a.map(c=>_.createElement(qR,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>_.createElement(qR,{key:c,zIndex:c,isPanorama:n})))}var $ae=["children"];function Fae(t,e){if(t==null)return{};var n,r,a=qae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(null,arguments)}var Hae={width:"100%",height:"100%",display:"block"},Gae=_.forwardRef((t,e)=>{var n=Uk(),r=Vk(),a=Xk();if(!Yi(n)||!Yi(r))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),_.createElement(g4,ly({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Hae,ref:e}),s)}),Kae=t=>{var{children:e}=t,n=Le(e0);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return _.createElement(g4,{width:r,height:a,x:c,y:s},e)},GR=_.forwardRef((t,e)=>{var{children:n}=t,r=Fae(t,$ae),a=Jr();return a?_.createElement(Kae,null,_.createElement(HR,{isPanorama:!0},n)):_.createElement(Gae,ly({ref:e},r),_.createElement(HR,{isPanorama:!1},n))});function Yae(){var t=rn(),[e,n]=_.useState(null),r=Le(Kq);return _.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;wn(s)&&s!==r&&t(Tq(s))}},[e,t,r]),n}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Xae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xae(t,e,n){return(e=Qae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Jae(t,"string");return typeof e=="symbol"?e:e+""}function Jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}var Zae=()=>(YJ(),null);function cy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var eie=_.forwardRef((t,e)=>{var n,r,a=_.useRef(null),[s,c]=_.useState({containerWidth:cy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:cy((r=t.style)===null||r===void 0?void 0:r.height)}),d=_.useCallback((h,p)=>{c(g=>{var x=Math.round(h),w=Math.round(p);return g.containerWidth===x&&g.containerHeight===w?g:{containerWidth:x,containerHeight:w}})},[]),f=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:N,height:j}=E[0].contentRect;d(N,j)},w=new ResizeObserver(x);w.observe(h),a.current=w}},[e,d]);return _.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),_.createElement(_.Fragment,null,_.createElement(r0,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",cc({ref:f},t)))}),tie=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=_.useState({containerWidth:cy(n),containerHeight:cy(r)}),c=_.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=_.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return _.createElement(_.Fragment,null,_.createElement(r0,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",cc({ref:d},t)))}),nie=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(r0,{width:n,height:r}),_.createElement("div",cc({ref:e},t)))}),rie=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return ks(n)||ks(r)?_.createElement(tie,cc({},t,{ref:e})):_.createElement(nie,cc({},t,{ref:e}))});function aie(t){return t===!0?eie:rie}var iie=_.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:N,style:j,width:T,responsive:L,dispatchTouchEvents:A=!0}=t,R=_.useRef(null),O=rn(),[U,k]=_.useState(null),[V,M]=_.useState(null),I=Yae(),D=wN(),z=(D==null?void 0:D.width)>0?D.width:T,B=(D==null?void 0:D.height)>0?D.height:a,ye=_.useCallback(de=>{I(de),typeof e=="function"&&e(de),k(de),M(de),de!=null&&(R.current=de)},[I,e,k,M]),le=_.useCallback(de=>{O(J6(de)),O(Oa({handler:s,reactEvent:de}))},[O,s]),W=_.useCallback(de=>{O(f_(de)),O(Oa({handler:h,reactEvent:de}))},[O,h]),oe=_.useCallback(de=>{O(B5()),O(Oa({handler:p,reactEvent:de}))},[O,p]),J=_.useCallback(de=>{O(f_(de)),O(Oa({handler:g,reactEvent:de}))},[O,g]),X=_.useCallback(()=>{O(a3())},[O]),K=_.useCallback(de=>{O(r3(de.key))},[O]),F=_.useCallback(de=>{O(Oa({handler:c,reactEvent:de}))},[O,c]),Y=_.useCallback(de=>{O(Oa({handler:d,reactEvent:de}))},[O,d]),H=_.useCallback(de=>{O(Oa({handler:f,reactEvent:de}))},[O,f]),Z=_.useCallback(de=>{O(Oa({handler:x,reactEvent:de}))},[O,x]),fe=_.useCallback(de=>{O(Oa({handler:N,reactEvent:de}))},[O,N]),je=_.useCallback(de=>{A&&O(s3(de)),O(Oa({handler:E,reactEvent:de}))},[O,A,E]),Ce=_.useCallback(de=>{O(Oa({handler:w,reactEvent:de}))},[O,w]),Fe=aie(L);return _.createElement(o6.Provider,{value:U},_.createElement(DB.Provider,{value:V},_.createElement(Fe,{width:z??(j==null?void 0:j.width),height:B??(j==null?void 0:j.height),className:kt("recharts-wrapper",r),style:Wae({position:"relative",cursor:"default",width:z,height:B},j),onClick:le,onContextMenu:F,onDoubleClick:Y,onFocus:X,onKeyDown:K,onMouseDown:H,onMouseEnter:W,onMouseLeave:oe,onMouseMove:J,onMouseUp:Z,onTouchEnd:Ce,onTouchMove:je,onTouchStart:fe,ref:ye},_.createElement(Zae,null),n)))}),sie=["width","height","responsive","children","className","style","compact","title","desc"];function oie(t,e){if(t==null)return{};var n,r,a=lie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var d3=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:c,style:d,compact:f,title:h,desc:p}=t,g=oie(t,sie),x=li(g);return f?_.createElement(_.Fragment,null,_.createElement(r0,{width:n,height:r}),_.createElement(GR,{otherAttributes:x,title:h,desc:p},s)):_.createElement(iie,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(GR,{otherAttributes:x,title:h,desc:p,ref:e},_.createElement(Cre,null,s)))});function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(null,arguments)}var cie={top:5,right:5,bottom:5,left:5},uie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:cie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},die=_.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,uie),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(l3,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(F6,{chartData:h.data}),_.createElement(c3,{layout:a.layout,margin:a.margin}),_.createElement(u3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(d3,h_({},a,{ref:n})))}),fie=["axis","item"],hie=_.forwardRef((t,e)=>_.createElement(die,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fie,tooltipPayloadSearcher:l6,categoricalChartProps:t,ref:e}));function mie(t){var e=rn();return _.useEffect(()=>{e(kae(t))},[e,t]),null}var pie=["layout"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(null,arguments)}function gie(t,e){if(t==null)return{};var n,r,a=yie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vie={top:5,right:5,bottom:5,left:5},xie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},bie=_.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,xie),{layout:s}=a,c=gie(a,pie),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(l3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},_.createElement(F6,{chartData:a.data}),_.createElement(c3,{layout:s,margin:a.margin}),_.createElement(u3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(mie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),_.createElement(d3,m_({},c,{ref:n})))}),wie=["item"],_ie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Nie=_.forwardRef((t,e)=>{var n=Sr(t,_ie);return _.createElement(bie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wie,tooltipPayloadSearcher:l6,categoricalChartProps:n,ref:e})});const Ra=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),o.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:o.jsx(n,{className:"w-6 h-6"})})]})},jie=()=>{};var YR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Eie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},h3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let x=(d&15)<<2|h>>6,w=h&63;f||(w=64,c||(x=64)),r.push(n[p],n[g],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Eie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new Sie;const x=s<<2|d>>4;if(r.push(x),h!==64){const w=d<<4&240|h>>2;if(r.push(w),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Aie=function(t){const e=f3(t);return h3.encodeByteArray(e,!0)},uy=function(t){return Aie(t).replace(/\./g,"")},m3=function(t){try{return h3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cie=()=>Tie().__FIREBASE_DEFAULTS__,Iie=()=>{if(typeof process>"u"||typeof YR>"u")return;const t=YR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Oie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&m3(t[1]);return e&&JSON.parse(e)},C0=()=>{try{return jie()||Cie()||Iie()||Oie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p3=t=>{var e,n;return(n=(e=C0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},g3=t=>{const e=p3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},y3=()=>{var t;return(t=C0())==null?void 0:t.config},v3=t=>{var e;return(e=C0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uy(JSON.stringify(n)),uy(JSON.stringify(c)),""].join(".")}const Lf={};function Die(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lf))Lf[e]?t.emulator.push(e):t.prod.push(e);return t}function Pie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WR=!1;function Qj(t,e){if(typeof window>"u"||typeof document>"u"||!bc(window.location.host)||Lf[t]===e||Lf[t]||WR)return;Lf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=Die().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{WR=!0,c()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=Pie(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),N=n("learnmore"),j=document.getElementById(N)||document.createElement("a"),T=n("preprendIcon"),L=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const A=x.element;d(A),p(j,N);const R=h();f(L,T),A.append(L,E,j,R),document.body.appendChild(A)}s?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function Mie(){var e;const t=(e=C0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Uie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vie(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zie(){return!Mie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w3(){try{return typeof indexedDB=="object"}catch{return!1}}function _3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function Bie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ie="FirebaseError";class za extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$ie,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?Fie(s,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new za(a,d,r)}}function Fie(t,e){return t.replace(qie,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const qie=/\{\$([^}]+)}/g;function Hie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],c=e[a];if(XR(s)&&XR(c)){if(!Yo(s,c))return!1}else if(s!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function XR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gie(t,e){const n=new Kie(t,e);return n.subscribe.bind(n)}class Kie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yie(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Hw),a.error===void 0&&(a.error=Hw),a.complete===void 0&&(a.complete=Hw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie=1e3,Xie=2,Qie=14400*1e3,Jie=.5;function QR(t,e=Wie,n=Xie){const r=e*Math.pow(n,t),a=Math.round(Jie*r*(Math.random()-.5)*2);return Math.min(Qie,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tse(e))try{this.getOrInitializeService({instanceIdentifier:Hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hl){return this.instances.has(e)}getOptions(e=Hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ese(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hl){return this.component?this.component.multipleInstances?e:Hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ese(t){return t===Hl?void 0:t}function tse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const rse={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},ase=ct.INFO,ise={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},sse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=ise[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I0{constructor(e){this.name=e,this._logLevel=ase,this._logHandler=sse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const ose=(t,e)=>e.some(n=>t instanceof n);let JR,ZR;function lse(){return JR||(JR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cse(){return ZR||(ZR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N3=new WeakMap,p_=new WeakMap,j3=new WeakMap,Gw=new WeakMap,Jj=new WeakMap;function use(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(Bo(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&N3.set(n,t)}).catch(()=>{}),Jj.set(e,t),e}function dse(t){if(p_.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});p_.set(t,e)}let g_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return p_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fse(t){g_=t(g_)}function hse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kw(this),e,...n);return j3.set(r,e.sort?e.sort():[e]),Bo(r)}:cse().includes(t)?function(...e){return t.apply(Kw(this),e),Bo(N3.get(this))}:function(...e){return Bo(t.apply(Kw(this),e))}}function mse(t){return typeof t=="function"?hse(t):(t instanceof IDBTransaction&&dse(t),ose(t,lse())?new Proxy(t,g_):t)}function Bo(t){if(t instanceof IDBRequest)return use(t);if(Gw.has(t))return Gw.get(t);const e=mse(t);return e!==t&&(Gw.set(t,e),Jj.set(e,t)),e}const Kw=t=>Jj.get(t);function E3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),d=Bo(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Bo(c.result),f.oldVersion,f.newVersion,Bo(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const pse=["get","getKey","getAll","getAllKeys","count"],gse=["put","add","delete","clear"],Yw=new Map;function eD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yw.get(e))return Yw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=gse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||pse.includes(n)))return;const s=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return Yw.set(e,s),s}fse(t=>({...t,get:(e,n,r)=>eD(e,n)||t.get(e,n,r),has:(e,n)=>!!eD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const y_="@firebase/app",tD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new I0("@firebase/app"),xse="@firebase/app-compat",bse="@firebase/analytics-compat",wse="@firebase/analytics",_se="@firebase/app-check-compat",Nse="@firebase/app-check",jse="@firebase/auth",Ese="@firebase/auth-compat",Sse="@firebase/database",Ase="@firebase/data-connect",Tse="@firebase/database-compat",Cse="@firebase/functions",Ise="@firebase/functions-compat",Ose="@firebase/installations",Rse="@firebase/installations-compat",Dse="@firebase/messaging",Pse="@firebase/messaging-compat",kse="@firebase/performance",Mse="@firebase/performance-compat",Lse="@firebase/remote-config",Use="@firebase/remote-config-compat",Vse="@firebase/storage",zse="@firebase/storage-compat",Bse="@firebase/firestore",$se="@firebase/ai",Fse="@firebase/firestore-compat",qse="firebase",Hse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",Gse={[y_]:"fire-core",[xse]:"fire-core-compat",[wse]:"fire-analytics",[bse]:"fire-analytics-compat",[Nse]:"fire-app-check",[_se]:"fire-app-check-compat",[jse]:"fire-auth",[Ese]:"fire-auth-compat",[Sse]:"fire-rtdb",[Ase]:"fire-data-connect",[Tse]:"fire-rtdb-compat",[Cse]:"fire-fn",[Ise]:"fire-fn-compat",[Ose]:"fire-iid",[Rse]:"fire-iid-compat",[Dse]:"fire-fcm",[Pse]:"fire-fcm-compat",[kse]:"fire-perf",[Mse]:"fire-perf-compat",[Lse]:"fire-rc",[Use]:"fire-rc-compat",[Vse]:"fire-gcs",[zse]:"fire-gcs-compat",[Bse]:"fire-fst",[Fse]:"fire-fst-compat",[$se]:"fire-vertex","fire-js":"fire-js",[qse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map,Kse=new Map,x_=new Map;function nD(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ui(t){const e=t.name;if(x_.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,t);for(const n of dy.values())nD(n,t);for(const n of Kse.values())nD(n,t);return!0}function il(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new wc("app","Firebase",Yse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=Hse;function S3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:v_,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw $o.create("bad-app-name",{appName:String(a)});if(n||(n=y3()),!n)throw $o.create("no-options");const s=dy.get(a);if(s){if(Yo(n,s.options)&&Yo(r,s.config))return s;throw $o.create("duplicate-app",{appName:a})}const c=new nse(a);for(const f of x_.values())c.addComponent(f);const d=new Wse(n,r,c);return dy.set(a,d),d}function O0(t=v_){const e=dy.get(t);if(!e&&t===v_&&y3())return S3();if(!e)throw $o.create("no-app",{appName:t});return e}function Wr(t,e,n){let r=Gse[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(c.join(" "));return}ui(new Ua(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse="firebase-heartbeat-database",Qse=1,ih="firebase-heartbeat-store";let Ww=null;function A3(){return Ww||(Ww=E3(Xse,Qse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ih)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),Ww}async function Jse(t){try{const n=(await A3()).transaction(ih),r=await n.objectStore(ih).get(T3(t));return await n.done,r}catch(e){if(e instanceof za)$s.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function rD(t,e){try{const r=(await A3()).transaction(ih,"readwrite");await r.objectStore(ih).put(e,T3(t)),await r.done}catch(n){if(n instanceof za)$s.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(r.message)}}}function T3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse=1024,eoe=30;class toe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new roe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>eoe){const c=aoe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aD(),{heartbeatsToSend:r,unsentEntries:a}=noe(this._heartbeatsCache.heartbeats),s=uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $s.warn(n),""}}}function aD(){return new Date().toISOString().substring(0,10)}function noe(t,e=Zse){const n=[];let r=t.slice();for(const a of t){const s=n.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),iD(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),iD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class roe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w3()?_3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Jse(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iD(t){return uy(JSON.stringify({version:2,heartbeats:t})).length}function aoe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ioe(t){ui(new Ua("platform-logger",e=>new yse(e),"PRIVATE")),ui(new Ua("heartbeat",e=>new toe(e),"PRIVATE")),Wr(y_,tD,t),Wr(y_,tD,"esm2020"),Wr("fire-js","")}ioe("");var soe="firebase",ooe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(soe,ooe,"app");const C3="@firebase/installations",Zj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1e4,O3=`w:${Zj}`,R3="FIS_v2",loe="https://firebaseinstallations.googleapis.com/v1",coe=3600*1e3,uoe="installations",doe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uc=new wc(uoe,doe,foe);function D3(t){return t instanceof za&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3({projectId:t}){return`${loe}/projects/${t}/installations`}function k3(t){return{token:t.token,requestStatus:2,expiresIn:moe(t.expiresIn),creationTime:Date.now()}}async function M3(t,e){const r=(await e.json()).error;return uc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function L3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hoe(t,{refreshToken:e}){const n=L3(t);return n.append("Authorization",poe(e)),n}async function U3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function moe(t){return Number(t.replace("s","000"))}function poe(t){return`${R3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function goe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=P3(t),a=L3(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={fid:n,authVersion:R3,appId:t.appId,sdkVersion:O3},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await U3(()=>fetch(r,d));if(f.ok){const h=await f.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:k3(h.authToken)}}else throw await M3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=/^[cdef][\w-]{21}$/,b_="";function xoe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=boe(t);return voe.test(n)?n:b_}catch{return b_}}function boe(t){return yoe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Map;function B3(t,e){const n=R0(t);$3(n,e),woe(n,e)}function $3(t,e){const n=z3.get(t);if(n)for(const r of n)r(e)}function woe(t,e){const n=_oe();n&&n.postMessage({key:t,fid:e}),Noe()}let Wl=null;function _oe(){return!Wl&&"BroadcastChannel"in self&&(Wl=new BroadcastChannel("[Firebase] FID Change"),Wl.onmessage=t=>{$3(t.data.key,t.data.fid)}),Wl}function Noe(){z3.size===0&&Wl&&(Wl.close(),Wl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe="firebase-installations-database",Eoe=1,dc="firebase-installations-store";let Xw=null;function eE(){return Xw||(Xw=E3(joe,Eoe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dc)}}})),Xw}async function fy(t,e){const n=R0(t),a=(await eE()).transaction(dc,"readwrite"),s=a.objectStore(dc),c=await s.get(n);return await s.put(e,n),await a.done,(!c||c.fid!==e.fid)&&B3(t,e.fid),e}async function F3(t){const e=R0(t),r=(await eE()).transaction(dc,"readwrite");await r.objectStore(dc).delete(e),await r.done}async function D0(t,e){const n=R0(t),a=(await eE()).transaction(dc,"readwrite"),s=a.objectStore(dc),c=await s.get(n),d=e(c);return d===void 0?await s.delete(n):await s.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&B3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(t){let e;const n=await D0(t.appConfig,r=>{const a=Soe(r),s=Aoe(t,a);return e=s.registrationPromise,s.installationEntry});return n.fid===b_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Soe(t){const e=t||{fid:xoe(),registrationStatus:0};return q3(e)}function Aoe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(uc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Toe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Coe(t)}:{installationEntry:e}}async function Toe(t,e){try{const n=await goe(t,e);return fy(t.appConfig,n)}catch(n){throw D3(n)&&n.customData.serverCode===409?await F3(t.appConfig):await fy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Coe(t){let e=await sD(t.appConfig);for(;e.registrationStatus===1;)await V3(100),e=await sD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tE(t);return r||n}return e}function sD(t){return D0(t,e=>{if(!e)throw uc.create("installation-not-found");return q3(e)})}function q3(t){return Ioe(t)?{fid:t.fid,registrationStatus:0}:t}function Ioe(t){return t.registrationStatus===1&&t.registrationTime+I3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ooe({appConfig:t,heartbeatServiceProvider:e},n){const r=Roe(t,n),a=hoe(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={installation:{sdkVersion:O3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await U3(()=>fetch(r,d));if(f.ok){const h=await f.json();return k3(h)}else throw await M3("Generate Auth Token",f)}function Roe(t,{fid:e}){return`${P3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t,e=!1){let n;const r=await D0(t.appConfig,s=>{if(!H3(s))throw uc.create("not-registered");const c=s.authToken;if(!e&&koe(c))return s;if(c.requestStatus===1)return n=Doe(t,e),s;{if(!navigator.onLine)throw uc.create("app-offline");const d=Loe(s);return n=Poe(t,d),d}});return n?await n:r.authToken}async function Doe(t,e){let n=await oD(t.appConfig);for(;n.authToken.requestStatus===1;)await V3(100),n=await oD(t.appConfig);const r=n.authToken;return r.requestStatus===0?nE(t,e):r}function oD(t){return D0(t,e=>{if(!H3(e))throw uc.create("not-registered");const n=e.authToken;return Uoe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Poe(t,e){try{const n=await Ooe(t,e),r={...e,authToken:n};return await fy(t.appConfig,r),n}catch(n){if(D3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await F3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await fy(t.appConfig,r)}throw n}}function H3(t){return t!==void 0&&t.registrationStatus===2}function koe(t){return t.requestStatus===2&&!Moe(t)}function Moe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+coe}function Loe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Uoe(t){return t.requestStatus===1&&t.requestTime+I3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Voe(t){const e=t,{installationEntry:n,registrationPromise:r}=await tE(e);return r?r.catch(console.error):nE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zoe(t,e=!1){const n=t;return await Boe(n),(await nE(n,e)).token}async function Boe(t){const{registrationPromise:e}=await tE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $oe(t){if(!t||!t.options)throw Qw("App Configuration");if(!t.name)throw Qw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Qw(t){return uc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="installations",Foe="installations-internal",qoe=t=>{const e=t.getProvider("app").getImmediate(),n=$oe(e),r=il(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Hoe=t=>{const e=t.getProvider("app").getImmediate(),n=il(e,G3).getImmediate();return{getId:()=>Voe(n),getToken:a=>zoe(n,a)}};function Goe(){ui(new Ua(G3,qoe,"PUBLIC")),ui(new Ua(Foe,Hoe,"PRIVATE"))}Goe();Wr(C3,Zj);Wr(C3,Zj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="analytics",Koe="firebase_id",Yoe="origin",Woe=60*1e3,Xoe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new I0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ma=new wc("analytics","Analytics",Qoe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Joe(t){if(!t.startsWith(rE)){const e=ma.create("invalid-gtag-resource",{gtagURL:t});return Rr.warn(e.message),""}return t}function K3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Zoe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ele(t,e){const n=Zoe("firebase-js-sdk-policy",{createScriptURL:Joe}),r=document.createElement("script"),a=`${rE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function tle(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nle(t,e,n,r,a,s){const c=r[a];try{if(c)await e[c];else{const f=(await K3(n)).find(h=>h.measurementId===a);f&&await e[f.appId]}}catch(d){Rr.error(d)}t("config",a,s)}async function rle(t,e,n,r,a){try{let s=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await K3(n);for(const f of c){const h=d.find(g=>g.measurementId===f),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,a||{})}catch(s){Rr.error(s)}}function ale(t,e,n,r){async function a(s,...c){try{if(s==="event"){const[d,f]=c;await rle(t,e,n,d,f)}else if(s==="config"){const[d,f]=c;await nle(t,e,n,r,d,f)}else if(s==="consent"){const[d,f]=c;t("consent",d,f)}else if(s==="get"){const[d,f,h]=c;t("get",d,f,h)}else if(s==="set"){const[d]=c;t("set",d)}else t(s,...c)}catch(d){Rr.error(d)}}return a}function ile(t,e,n,r,a){let s=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=ale(s,t,e,n),{gtagCore:s,wrappedGtag:window[a]}}function sle(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ole=30,lle=1e3;class cle{constructor(e={},n=lle){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Y3=new cle;function ule(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function dle(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:ule(n)},a=Xoe.replace("{app-id}",e),s=await fetch(a,r);if(s.status!==200&&s.status!==304){let d="";try{const f=await s.json();(c=f.error)!=null&&c.message&&(d=f.error.message)}catch{}throw ma.create("config-fetch-failed",{httpStatus:s.status,responseMessage:d})}return s.json()}async function fle(t,e=Y3,n){const{appId:r,apiKey:a,measurementId:s}=t.options;if(!r)throw ma.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:r};throw ma.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new ple;return setTimeout(async()=>{d.abort()},Woe),W3({appId:r,apiKey:a,measurementId:s},c,d,e)}async function W3(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=Y3){var d;const{appId:s,measurementId:c}=t;try{await hle(r,e)}catch(f){if(c)return Rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:c};throw f}try{const f=await dle(t);return a.deleteThrottleMetadata(s),f}catch(f){const h=f;if(!mle(h)){if(a.deleteThrottleMetadata(s),c)return Rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:c};throw f}const p=Number((d=h==null?void 0:h.customData)==null?void 0:d.httpStatus)===503?QR(n,a.intervalMillis,ole):QR(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(s,g),Rr.debug(`Calling attemptFetch again in ${p} millis`),W3(t,g,r,a)}}function hle(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),s=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(s),r(ma.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mle(t){if(!(t instanceof za)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ple{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gle(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const s=await e,c={...r,send_to:s};t("event",n,c)}}async function yle(t,e,n,r){if(r&&r.global){const a={};for(const s of Object.keys(n))a[`user_properties.${s}`]=n[s];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vle(){if(w3())try{await _3()}catch(t){return Rr.warn(ma.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Rr.warn(ma.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xle(t,e,n,r,a,s,c){const d=fle(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Rr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Rr.error(x)),e.push(d);const f=vle().then(x=>{if(x)return r.getId()}),[h,p]=await Promise.all([d,f]);sle(s)||ele(s,h.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[Yoe]="firebase",g.update=!0,p!=null&&(g[Koe]=p),a("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(e){this.app=e}_delete(){return delete Tu[this.app.options.appId],Promise.resolve()}}let Tu={},lD=[];const cD={};let Jw="dataLayer",wle="gtag",uD,aE,dD=!1;function _le(){const t=[];if(b3()&&t.push("This is a browser extension environment."),Bie()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=ma.create("invalid-analytics-context",{errorInfo:e});Rr.warn(n.message)}}function Nle(t,e,n){_le();const r=t.options.appId;if(!r)throw ma.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ma.create("no-api-key");if(Tu[r]!=null)throw ma.create("already-exists",{id:r});if(!dD){tle(Jw);const{wrappedGtag:s,gtagCore:c}=ile(Tu,lD,cD,Jw,wle);aE=s,uD=c,dD=!0}return Tu[r]=xle(t,lD,cD,e,uD,Jw,n),new ble(t)}function jle(t=O0()){t=_n(t);const e=il(t,hy);return e.isInitialized()?e.getImmediate():Ele(t)}function Ele(t,e={}){const n=il(t,hy);if(n.isInitialized()){const a=n.getImmediate();if(Yo(e,n.getOptions()))return a;throw ma.create("already-initialized")}return n.initialize({options:e})}function Sle(t,e,n){t=_n(t),yle(aE,Tu[t.app.options.appId],e,n).catch(r=>Rr.error(r))}function Ale(t,e,n,r){t=_n(t),gle(aE,Tu[t.app.options.appId],e,n,r).catch(a=>Rr.error(a))}const fD="@firebase/analytics",hD="0.10.19";function Tle(){ui(new Ua(hy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Nle(r,a,n)},"PUBLIC")),ui(new Ua("analytics-internal",t,"PRIVATE")),Wr(fD,hD),Wr(fD,hD,"esm2020");function t(e){try{const n=e.getProvider(hy).getImmediate();return{logEvent:(r,a,s)=>Ale(n,r,a,s),setUserProperties:(r,a)=>Sle(n,r,a)}}catch(n){throw ma.create("interop-component-reg-failed",{reason:n})}}}Tle();var mD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fo,X3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,V){function M(){}M.prototype=V.prototype,k.F=V.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(I,D,z){for(var B=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)B[ye-2]=arguments[ye];return V.prototype[D].apply(I,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,V,M){M||(M=0);const I=Array(16);if(typeof V=="string")for(var D=0;D<16;++D)I[D]=V.charCodeAt(M++)|V.charCodeAt(M++)<<8|V.charCodeAt(M++)<<16|V.charCodeAt(M++)<<24;else for(D=0;D<16;++D)I[D]=V[M++]|V[M++]<<8|V[M++]<<16|V[M++]<<24;V=k.g[0],M=k.g[1],D=k.g[2];let z=k.g[3],B;B=V+(z^M&(D^z))+I[0]+3614090360&4294967295,V=M+(B<<7&4294967295|B>>>25),B=z+(D^V&(M^D))+I[1]+3905402710&4294967295,z=V+(B<<12&4294967295|B>>>20),B=D+(M^z&(V^M))+I[2]+606105819&4294967295,D=z+(B<<17&4294967295|B>>>15),B=M+(V^D&(z^V))+I[3]+3250441966&4294967295,M=D+(B<<22&4294967295|B>>>10),B=V+(z^M&(D^z))+I[4]+4118548399&4294967295,V=M+(B<<7&4294967295|B>>>25),B=z+(D^V&(M^D))+I[5]+1200080426&4294967295,z=V+(B<<12&4294967295|B>>>20),B=D+(M^z&(V^M))+I[6]+2821735955&4294967295,D=z+(B<<17&4294967295|B>>>15),B=M+(V^D&(z^V))+I[7]+4249261313&4294967295,M=D+(B<<22&4294967295|B>>>10),B=V+(z^M&(D^z))+I[8]+1770035416&4294967295,V=M+(B<<7&4294967295|B>>>25),B=z+(D^V&(M^D))+I[9]+2336552879&4294967295,z=V+(B<<12&4294967295|B>>>20),B=D+(M^z&(V^M))+I[10]+4294925233&4294967295,D=z+(B<<17&4294967295|B>>>15),B=M+(V^D&(z^V))+I[11]+2304563134&4294967295,M=D+(B<<22&4294967295|B>>>10),B=V+(z^M&(D^z))+I[12]+1804603682&4294967295,V=M+(B<<7&4294967295|B>>>25),B=z+(D^V&(M^D))+I[13]+4254626195&4294967295,z=V+(B<<12&4294967295|B>>>20),B=D+(M^z&(V^M))+I[14]+2792965006&4294967295,D=z+(B<<17&4294967295|B>>>15),B=M+(V^D&(z^V))+I[15]+1236535329&4294967295,M=D+(B<<22&4294967295|B>>>10),B=V+(D^z&(M^D))+I[1]+4129170786&4294967295,V=M+(B<<5&4294967295|B>>>27),B=z+(M^D&(V^M))+I[6]+3225465664&4294967295,z=V+(B<<9&4294967295|B>>>23),B=D+(V^M&(z^V))+I[11]+643717713&4294967295,D=z+(B<<14&4294967295|B>>>18),B=M+(z^V&(D^z))+I[0]+3921069994&4294967295,M=D+(B<<20&4294967295|B>>>12),B=V+(D^z&(M^D))+I[5]+3593408605&4294967295,V=M+(B<<5&4294967295|B>>>27),B=z+(M^D&(V^M))+I[10]+38016083&4294967295,z=V+(B<<9&4294967295|B>>>23),B=D+(V^M&(z^V))+I[15]+3634488961&4294967295,D=z+(B<<14&4294967295|B>>>18),B=M+(z^V&(D^z))+I[4]+3889429448&4294967295,M=D+(B<<20&4294967295|B>>>12),B=V+(D^z&(M^D))+I[9]+568446438&4294967295,V=M+(B<<5&4294967295|B>>>27),B=z+(M^D&(V^M))+I[14]+3275163606&4294967295,z=V+(B<<9&4294967295|B>>>23),B=D+(V^M&(z^V))+I[3]+4107603335&4294967295,D=z+(B<<14&4294967295|B>>>18),B=M+(z^V&(D^z))+I[8]+1163531501&4294967295,M=D+(B<<20&4294967295|B>>>12),B=V+(D^z&(M^D))+I[13]+2850285829&4294967295,V=M+(B<<5&4294967295|B>>>27),B=z+(M^D&(V^M))+I[2]+4243563512&4294967295,z=V+(B<<9&4294967295|B>>>23),B=D+(V^M&(z^V))+I[7]+1735328473&4294967295,D=z+(B<<14&4294967295|B>>>18),B=M+(z^V&(D^z))+I[12]+2368359562&4294967295,M=D+(B<<20&4294967295|B>>>12),B=V+(M^D^z)+I[5]+4294588738&4294967295,V=M+(B<<4&4294967295|B>>>28),B=z+(V^M^D)+I[8]+2272392833&4294967295,z=V+(B<<11&4294967295|B>>>21),B=D+(z^V^M)+I[11]+1839030562&4294967295,D=z+(B<<16&4294967295|B>>>16),B=M+(D^z^V)+I[14]+4259657740&4294967295,M=D+(B<<23&4294967295|B>>>9),B=V+(M^D^z)+I[1]+2763975236&4294967295,V=M+(B<<4&4294967295|B>>>28),B=z+(V^M^D)+I[4]+1272893353&4294967295,z=V+(B<<11&4294967295|B>>>21),B=D+(z^V^M)+I[7]+4139469664&4294967295,D=z+(B<<16&4294967295|B>>>16),B=M+(D^z^V)+I[10]+3200236656&4294967295,M=D+(B<<23&4294967295|B>>>9),B=V+(M^D^z)+I[13]+681279174&4294967295,V=M+(B<<4&4294967295|B>>>28),B=z+(V^M^D)+I[0]+3936430074&4294967295,z=V+(B<<11&4294967295|B>>>21),B=D+(z^V^M)+I[3]+3572445317&4294967295,D=z+(B<<16&4294967295|B>>>16),B=M+(D^z^V)+I[6]+76029189&4294967295,M=D+(B<<23&4294967295|B>>>9),B=V+(M^D^z)+I[9]+3654602809&4294967295,V=M+(B<<4&4294967295|B>>>28),B=z+(V^M^D)+I[12]+3873151461&4294967295,z=V+(B<<11&4294967295|B>>>21),B=D+(z^V^M)+I[15]+530742520&4294967295,D=z+(B<<16&4294967295|B>>>16),B=M+(D^z^V)+I[2]+3299628645&4294967295,M=D+(B<<23&4294967295|B>>>9),B=V+(D^(M|~z))+I[0]+4096336452&4294967295,V=M+(B<<6&4294967295|B>>>26),B=z+(M^(V|~D))+I[7]+1126891415&4294967295,z=V+(B<<10&4294967295|B>>>22),B=D+(V^(z|~M))+I[14]+2878612391&4294967295,D=z+(B<<15&4294967295|B>>>17),B=M+(z^(D|~V))+I[5]+4237533241&4294967295,M=D+(B<<21&4294967295|B>>>11),B=V+(D^(M|~z))+I[12]+1700485571&4294967295,V=M+(B<<6&4294967295|B>>>26),B=z+(M^(V|~D))+I[3]+2399980690&4294967295,z=V+(B<<10&4294967295|B>>>22),B=D+(V^(z|~M))+I[10]+4293915773&4294967295,D=z+(B<<15&4294967295|B>>>17),B=M+(z^(D|~V))+I[1]+2240044497&4294967295,M=D+(B<<21&4294967295|B>>>11),B=V+(D^(M|~z))+I[8]+1873313359&4294967295,V=M+(B<<6&4294967295|B>>>26),B=z+(M^(V|~D))+I[15]+4264355552&4294967295,z=V+(B<<10&4294967295|B>>>22),B=D+(V^(z|~M))+I[6]+2734768916&4294967295,D=z+(B<<15&4294967295|B>>>17),B=M+(z^(D|~V))+I[13]+1309151649&4294967295,M=D+(B<<21&4294967295|B>>>11),B=V+(D^(M|~z))+I[4]+4149444226&4294967295,V=M+(B<<6&4294967295|B>>>26),B=z+(M^(V|~D))+I[11]+3174756917&4294967295,z=V+(B<<10&4294967295|B>>>22),B=D+(V^(z|~M))+I[2]+718787259&4294967295,D=z+(B<<15&4294967295|B>>>17),B=M+(z^(D|~V))+I[9]+3951481745&4294967295,k.g[0]=k.g[0]+V&4294967295,k.g[1]=k.g[1]+(D+(B<<21&4294967295|B>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.v=function(k,V){V===void 0&&(V=k.length);const M=V-this.blockSize,I=this.C;let D=this.h,z=0;for(;z<V;){if(D==0)for(;z<=M;)a(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<V;)if(I[D++]=k.charCodeAt(z++),D==this.blockSize){a(this,I),D=0;break}}else for(;z<V;)if(I[D++]=k[z++],D==this.blockSize){a(this,I),D=0;break}}this.h=D,this.o+=V},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var V=1;V<k.length-8;++V)k[V]=0;V=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=V&255,V/=256;for(this.v(k),k=Array(16),V=0,M=0;M<4;++M)for(let I=0;I<32;I+=8)k[V++]=this.g[M]>>>I&255;return k};function s(k,V){var M=d;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=V(k)}function c(k,V){this.h=V;const M=[];let I=!0;for(let D=k.length-1;D>=0;D--){const z=k[D]|0;I&&z==V||(M[D]=z,I=!1)}this.g=M}var d={};function f(k){return-128<=k&&k<128?s(k,function(V){return new c([V|0],V<0?-1:0)}):new c([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return j(h(-k));const V=[];let M=1;for(let I=0;k>=M;I++)V[I]=k/M|0,M*=4294967296;return new c(V,0)}function p(k,V){if(k.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(k.charAt(0)=="-")return j(p(k.substring(1),V));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=h(Math.pow(V,8));let I=g;for(let z=0;z<k.length;z+=8){var D=Math.min(8,k.length-z);const B=parseInt(k.substring(z,z+D),V);D<8?(D=h(Math.pow(V,D)),I=I.j(D).add(h(B))):(I=I.j(M),I=I.add(h(B)))}return I}var g=f(0),x=f(1),w=f(16777216);t=c.prototype,t.m=function(){if(N(this))return-j(this).m();let k=0,V=1;for(let M=0;M<this.g.length;M++){const I=this.i(M);k+=(I>=0?I:4294967296+I)*V,V*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(N(this))return"-"+j(this).toString(k);const V=h(Math.pow(k,6));var M=this;let I="";for(;;){const D=R(M,V).g;M=T(M,D.j(V));let z=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=D,E(M))return z+I;for(;z.length<6;)z="0"+z;I=z+I}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(let V=0;V<k.g.length;V++)if(k.g[V]!=0)return!1;return!0}function N(k){return k.h==-1}t.l=function(k){return k=T(this,k),N(k)?-1:E(k)?0:1};function j(k){const V=k.g.length,M=[];for(let I=0;I<V;I++)M[I]=~k.g[I];return new c(M,~k.h).add(x)}t.abs=function(){return N(this)?j(this):this},t.add=function(k){const V=Math.max(this.g.length,k.g.length),M=[];let I=0;for(let D=0;D<=V;D++){let z=I+(this.i(D)&65535)+(k.i(D)&65535),B=(z>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);I=B>>>16,z&=65535,B&=65535,M[D]=B<<16|z}return new c(M,M[M.length-1]&-2147483648?-1:0)};function T(k,V){return k.add(j(V))}t.j=function(k){if(E(this)||E(k))return g;if(N(this))return N(k)?j(this).j(j(k)):j(j(this).j(k));if(N(k))return j(this.j(j(k)));if(this.l(w)<0&&k.l(w)<0)return h(this.m()*k.m());const V=this.g.length+k.g.length,M=[];for(var I=0;I<2*V;I++)M[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<k.g.length;D++){const z=this.i(I)>>>16,B=this.i(I)&65535,ye=k.i(D)>>>16,le=k.i(D)&65535;M[2*I+2*D]+=B*le,L(M,2*I+2*D),M[2*I+2*D+1]+=z*le,L(M,2*I+2*D+1),M[2*I+2*D+1]+=B*ye,L(M,2*I+2*D+1),M[2*I+2*D+2]+=z*ye,L(M,2*I+2*D+2)}for(k=0;k<V;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=V;k<2*V;k++)M[k]=0;return new c(M,0)};function L(k,V){for(;(k[V]&65535)!=k[V];)k[V+1]+=k[V]>>>16,k[V]&=65535,V++}function A(k,V){this.g=k,this.h=V}function R(k,V){if(E(V))throw Error("division by zero");if(E(k))return new A(g,g);if(N(k))return V=R(j(k),V),new A(j(V.g),j(V.h));if(N(V))return V=R(k,j(V)),new A(j(V.g),V.h);if(k.g.length>30){if(N(k)||N(V))throw Error("slowDivide_ only works with positive integers.");for(var M=x,I=V;I.l(k)<=0;)M=O(M),I=O(I);var D=U(M,1),z=U(I,1);for(I=U(I,2),M=U(M,2);!E(I);){var B=z.add(I);B.l(k)<=0&&(D=D.add(M),z=B),I=U(I,1),M=U(M,1)}return V=T(k,D.j(V)),new A(D,V)}for(D=g;k.l(V)>=0;){for(M=Math.max(1,Math.floor(k.m()/V.m())),I=Math.ceil(Math.log(M)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),z=h(M),B=z.j(V);N(B)||B.l(k)>0;)M-=I,z=h(M),B=z.j(V);E(z)&&(z=x),D=D.add(z),k=T(k,B)}return new A(D,k)}t.B=function(k){return R(this,k).h},t.and=function(k){const V=Math.max(this.g.length,k.g.length),M=[];for(let I=0;I<V;I++)M[I]=this.i(I)&k.i(I);return new c(M,this.h&k.h)},t.or=function(k){const V=Math.max(this.g.length,k.g.length),M=[];for(let I=0;I<V;I++)M[I]=this.i(I)|k.i(I);return new c(M,this.h|k.h)},t.xor=function(k){const V=Math.max(this.g.length,k.g.length),M=[];for(let I=0;I<V;I++)M[I]=this.i(I)^k.i(I);return new c(M,this.h^k.h)};function O(k){const V=k.g.length+1,M=[];for(let I=0;I<V;I++)M[I]=k.i(I)<<1|k.i(I-1)>>>31;return new c(M,k.h)}function U(k,V){const M=V>>5;V%=32;const I=k.g.length-M,D=[];for(let z=0;z<I;z++)D[z]=V>0?k.i(z+M)>>>V|k.i(z+M+1)<<32-V:k.i(z+M);return new c(D,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,X3=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,Fo=c}).apply(typeof mD<"u"?mD:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q3,Rf,J3,ig,w_,Z3,eL,tL;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var S=0;S<y.length;++S){var P=y[S];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var P=r;y=y.split(".");for(var q=0;q<y.length-1;q++){var ne=y[q];if(!(ne in P))break e;P=P[ne]}y=y[y.length-1],q=P[y],S=S(q),S!=q&&S!=null&&e(P,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var P=[],q;for(q in S)Object.prototype.hasOwnProperty.call(S,q)&&P.push([q,S[q]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function f(y,S,P){return y.call.apply(y.bind,arguments)}function h(y,S,P){return h=f,h.apply(null,arguments)}function p(y,S){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,S){function P(){}P.prototype=S.prototype,y.Z=S.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(q,ne,ce){for(var Se=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)Se[nt-2]=arguments[nt];return S.prototype[ne].apply(q,Se)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const S=y.length;if(S>0){const P=Array(S);for(let q=0;q<S;q++)P[q]=y[q];return P}return[]}function E(y,S){for(let q=1;q<arguments.length;q++){const ne=arguments[q];var P=typeof ne;if(P=P!="object"?P:ne?Array.isArray(ne)?"array":P:"null",P=="array"||P=="object"&&typeof ne.length=="number"){P=y.length||0;const ce=ne.length||0;y.length=P+ce;for(let Se=0;Se<ce;Se++)y[P+Se]=ne[Se]}else y.push(ne)}}class N{constructor(S,P){this.i=S,this.j=P,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function j(y){c.setTimeout(()=>{throw y},0)}function T(){var y=k;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class L{constructor(){this.h=this.g=null}add(S,P){const q=A.get();q.set(S,P),this.h?this.h.next=q:this.g=q,this.h=q}}var A=new N(()=>new R,y=>y.reset());class R{constructor(){this.next=this.g=this.h=null}set(S,P){this.h=S,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let O,U=!1,k=new L,V=()=>{const y=Promise.resolve(void 0);O=()=>{y.then(M)}};function M(){for(var y;y=T();){try{y.h.call(y.g)}catch(P){j(P)}var S=A;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}U=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};c.addEventListener("test",P,S),c.removeEventListener("test",P,S)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function ye(y,S){D.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(ye,D),ye.prototype.init=function(y,S){const P=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(P=="mouseover"?S=y.fromElement:P=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),W=0;function oe(y,S,P,q,ne){this.listener=y,this.proxy=null,this.src=S,this.type=P,this.capture=!!q,this.ha=ne,this.key=++W,this.da=this.fa=!1}function J(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function X(y,S,P){for(const q in y)S.call(P,y[q],q,y)}function K(y,S){for(const P in y)S.call(void 0,y[P],P,y)}function F(y){const S={};for(const P in y)S[P]=y[P];return S}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(y,S){let P,q;for(let ne=1;ne<arguments.length;ne++){q=arguments[ne];for(P in q)y[P]=q[P];for(let ce=0;ce<Y.length;ce++)P=Y[ce],Object.prototype.hasOwnProperty.call(q,P)&&(y[P]=q[P])}}function Z(y){this.src=y,this.g={},this.h=0}Z.prototype.add=function(y,S,P,q,ne){const ce=y.toString();y=this.g[ce],y||(y=this.g[ce]=[],this.h++);const Se=je(y,S,q,ne);return Se>-1?(S=y[Se],P||(S.fa=!1)):(S=new oe(S,this.src,ce,!!q,ne),S.fa=P,y.push(S)),S};function fe(y,S){const P=S.type;if(P in y.g){var q=y.g[P],ne=Array.prototype.indexOf.call(q,S,void 0),ce;(ce=ne>=0)&&Array.prototype.splice.call(q,ne,1),ce&&(J(S),y.g[P].length==0&&(delete y.g[P],y.h--))}}function je(y,S,P,q){for(let ne=0;ne<y.length;++ne){const ce=y[ne];if(!ce.da&&ce.listener==S&&ce.capture==!!P&&ce.ha==q)return ne}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Fe={};function de(y,S,P,q,ne){if(Array.isArray(S)){for(let ce=0;ce<S.length;ce++)de(y,S[ce],P,q,ne);return null}return P=me(P),y&&y[le]?y.J(S,P,d(q)?!!q.capture:!1,ne):Ue(y,S,P,!1,q,ne)}function Ue(y,S,P,q,ne,ce){if(!S)throw Error("Invalid event type");const Se=d(ne)?!!ne.capture:!!ne;let nt=Ne(y);if(nt||(y[Ce]=nt=new Z(y)),P=nt.add(S,P,q,Se,ce),P.proxy)return P;if(q=te(),P.proxy=q,q.src=y,q.listener=P,y.addEventListener)z||(ne=Se),ne===void 0&&(ne=!1),y.addEventListener(S.toString(),q,ne);else if(y.attachEvent)y.attachEvent(qe(S.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function te(){function y(P){return S.call(y.src,y.listener,P)}const S=Mt;return y}function he(y,S,P,q,ne){if(Array.isArray(S))for(var ce=0;ce<S.length;ce++)he(y,S[ce],P,q,ne);else q=d(q)?!!q.capture:!!q,P=me(P),y&&y[le]?(y=y.i,ce=String(S).toString(),ce in y.g&&(S=y.g[ce],P=je(S,P,q,ne),P>-1&&(J(S[P]),Array.prototype.splice.call(S,P,1),S.length==0&&(delete y.g[ce],y.h--)))):y&&(y=Ne(y))&&(S=y.g[S.toString()],y=-1,S&&(y=je(S,P,q,ne)),(P=y>-1?S[y]:null)&&Xe(P))}function Xe(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[le])fe(S.i,y);else{var P=y.type,q=y.proxy;S.removeEventListener?S.removeEventListener(P,q,y.capture):S.detachEvent?S.detachEvent(qe(P),q):S.addListener&&S.removeListener&&S.removeListener(q),(P=Ne(S))?(fe(P,y),P.h==0&&(P.src=null,S[Ce]=null)):J(y)}}}function qe(y){return y in Fe?Fe[y]:Fe[y]="on"+y}function Mt(y,S){if(y.da)y=!0;else{S=new ye(S,this);const P=y.listener,q=y.ha||y.src;y.fa&&Xe(y),y=P.call(q,S)}return y}function Ne(y){return y=y[Ce],y instanceof Z?y:null}var ft="__closure_events_fn_"+(Math.random()*1e9>>>0);function me(y){return typeof y=="function"?y:(y[ft]||(y[ft]=function(S){return y.handleEvent(S)}),y[ft])}function Ke(){I.call(this),this.i=new Z(this),this.M=this,this.G=null}g(Ke,I),Ke.prototype[le]=!0,Ke.prototype.removeEventListener=function(y,S,P,q){he(this,y,S,P,q)};function Ge(y,S){var P,q=y.G;if(q)for(P=[];q;q=q.G)P.push(q);if(y=y.M,q=S.type||S,typeof S=="string")S=new D(S,y);else if(S instanceof D)S.target=S.target||y;else{var ne=S;S=new D(q,y),H(S,ne)}ne=!0;let ce,Se;if(P)for(Se=P.length-1;Se>=0;Se--)ce=S.g=P[Se],ne=Nt(ce,q,!0,S)&&ne;if(ce=S.g=y,ne=Nt(ce,q,!0,S)&&ne,ne=Nt(ce,q,!1,S)&&ne,P)for(Se=0;Se<P.length;Se++)ce=S.g=P[Se],ne=Nt(ce,q,!1,S)&&ne}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const P=y.g[S];for(let q=0;q<P.length;q++)J(P[q]);delete y.g[S],y.h--}}this.G=null},Ke.prototype.J=function(y,S,P,q){return this.i.add(String(y),S,!1,P,q)},Ke.prototype.K=function(y,S,P,q){return this.i.add(String(y),S,!0,P,q)};function Nt(y,S,P,q){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let ne=!0;for(let ce=0;ce<S.length;++ce){const Se=S[ce];if(Se&&!Se.da&&Se.capture==P){const nt=Se.listener,pn=Se.ha||Se.src;Se.fa&&fe(y.i,Se),ne=nt.call(pn,q)!==!1&&ne}}return ne&&!q.defaultPrevented}function Ba(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function $a(y){y.g=Ba(()=>{y.g=null,y.i&&(y.i=!1,$a(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class Yn extends I{constructor(S,P){super(),this.m=S,this.l=P,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(y){I.call(this),this.h=y,this.g={}}g(Ee,I);var jt=[];function sn(y){X(y.g,function(S,P){this.g.hasOwnProperty(P)&&Xe(S)},y),y.g={}}Ee.prototype.N=function(){Ee.Z.N.call(this),sn(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=c.JSON.stringify,Zr=c.JSON.parse,dl=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function fl(){}function hl(){}var kr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nn(){D.call(this,"d")}g(Nn,D);function Ar(){D.call(this,"c")}g(Ar,D);var mn={},Zh=null;function Ec(){return Zh=Zh||new Ke}mn.Ia="serverreachability";function em(y){D.call(this,mn.Ia,y)}g(em,D);function pi(y){const S=Ec();Ge(S,new em(S))}mn.STAT_EVENT="statevent";function ml(y,S){D.call(this,mn.STAT_EVENT,y),this.stat=S}g(ml,D);function jn(y){const S=Ec();Ge(S,new ml(S,y))}mn.Ja="timingevent";function gi(y,S){D.call(this,mn.Ja,y),this.size=S}g(gi,D);function yi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function Fa(){this.g=!0}Fa.prototype.ua=function(){this.g=!1};function av(y,S,P,q,ne,ce){y.info(function(){if(y.g)if(ce){var Se="",nt=ce.split("&");for(let bt=0;bt<nt.length;bt++){var pn=nt[bt].split("=");if(pn.length>1){const Kt=pn[0];pn=pn[1];const ba=Kt.split("_");Se=ba.length>=2&&ba[1]=="type"?Se+(Kt+"="+pn+"&"):Se+(Kt+"=redacted&")}}}else Se=null;else Se=ce;return"XMLHTTP REQ ("+q+") [attempt "+ne+"]: "+S+`
`+P+`
`+Se})}function tm(y,S,P,q,ne,ce,Se){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ne+"]: "+S+`
`+P+`
`+ce+" "+Se})}function vi(y,S,P,q){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+iv(y,P)+(q?" "+q:"")})}function pl(y,S){y.info(function(){return"TIMEOUT: "+S})}Fa.prototype.info=function(){};function iv(y,S){if(!y.g)return S;if(!S)return null;try{const ce=JSON.parse(S);if(ce){for(y=0;y<ce.length;y++)if(Array.isArray(ce[y])){var P=ce[y];if(!(P.length<2)){var q=P[1];if(Array.isArray(q)&&!(q.length<1)){var ne=q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Se=1;Se<q.length;Se++)q[Se]=""}}}}return on(ce)}catch{return S}}var gl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vd;function yl(){}g(yl,fl),yl.prototype.g=function(){return new XMLHttpRequest},vd=new yl;function ns(y){return encodeURIComponent(String(y))}function nm(y){var S=1;y=y.split(":");const P=[];for(;S>0&&y.length;)P.push(y.shift()),S--;return y.length&&P.push(y.join(":")),P}function qa(y,S,P,q){this.j=y,this.i=S,this.l=P,this.S=q||1,this.V=new Ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ha}function Ha(){this.i=null,this.g="",this.h=!1}var En={},Wn={};function xi(y,S,P){y.M=1,y.A=vl(An(S)),y.u=P,y.R=!0,Sc(y,null)}function Sc(y,S){y.F=Date.now(),bi(y),y.B=An(y.A);var P=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Ic(P.i,"t",q),y.C=0,P=y.j.L,y.h=new Ha,y.g=ym(y.j,P?S:null,!y.u),y.P>0&&(y.O=new Yn(h(y.Y,y,y.g),y.P)),S=y.V,P=y.g,q=y.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(jt[0]=ne.toString()),ne=jt);for(let ce=0;ce<ne.length;ce++){const Se=de(P,ne[ce],q||S.handleEvent,!1,S.h||S);if(!Se)break;S.g[Se.key]=Se}S=y.J?F(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),pi(),av(y.i,y.v,y.B,y.l,y.S,y.u)}qa.prototype.ba=function(y){y=y.target;const S=this.O;S&&Ya(y)==3?S.j():this.Y(y)},qa.prototype.Y=function(y){try{if(y==this.g)e:{const nt=Ya(this.g),pn=this.g.ya(),bt=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||ir(this.g)))){this.K||nt!=4||pn==7||(pn==8||bt<=0?pi(3):pi(2)),wi(this);var S=this.g.ca();this.X=S;var P=sv(this);if(this.o=S==200,tm(this.i,this.v,this.B,this.l,this.S,nt,S),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ne=this.g;if((q=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(q)){var ce=q;break t}}ce=null}if(y=ce)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,y);else{this.o=!1,this.m=3,jn(12),ea(this),ya(this);break e}}if(this.R){y=!0;let Kt;for(;!this.K&&this.C<P.length;)if(Kt=am(this,P),Kt==Wn){nt==4&&(this.m=4,jn(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==En){this.m=4,jn(15),vi(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,Kt,null),_i(this,Kt);if(rm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||P.length!=0||this.h.h||(this.m=1,jn(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,P,"[Invalid Chunked Response]"),ea(this),ya(this);else if(P.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Dd(Se),Se.P=!0,jn(11))}}else vi(this.i,this.l,P,null),_i(this,P);nt==4&&ea(this),this.o&&!this.K&&(nt==4?hm(this.j,this):(this.o=!1,bi(this)))}else as(this.g),S==400&&P.indexOf("Unknown SID")>0?(this.m=3,jn(12)):(this.m=0,jn(13)),ea(this),ya(this)}}}catch{}finally{}};function sv(y){if(!rm(y))return y.g.la();const S=ir(y.g);if(S==="")return"";let P="";const q=S.length,ne=Ya(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ea(y),ya(y),"";y.h.i=new c.TextDecoder}for(let ce=0;ce<q;ce++)y.h.h=!0,P+=y.h.i.decode(S[ce],{stream:!(ne&&ce==q-1)});return S.length=0,y.h.g+=P,y.C=0,y.h.g}function rm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function am(y,S){var P=y.C,q=S.indexOf(`
`,P);return q==-1?Wn:(P=Number(S.substring(P,q)),isNaN(P)?En:(q+=1,q+P>S.length?Wn:(S=S.slice(q,q+P),y.C=q+P,S)))}qa.prototype.cancel=function(){this.K=!0,ea(this)};function bi(y){y.T=Date.now()+y.H,Ac(y,y.H)}function Ac(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=yi(h(y.aa,y),S)}function wi(y){y.D&&(c.clearTimeout(y.D),y.D=null)}qa.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(pl(this.i,this.B),this.M!=2&&(pi(),jn(17)),ea(this),this.m=2,ya(this)):Ac(this,this.T-y)};function ya(y){y.j.I==0||y.K||hm(y.j,y)}function ea(y){wi(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,sn(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function _i(y,S){try{var P=y.j;if(P.I!=0&&(P.g==y||ji(P.h,y))){if(!y.L&&ji(P.h,y)&&P.I==3){try{var q=P.Ba.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ne=q;if(ne[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)kc(P),so(P);else break e;El(P),jn(18)}}else P.xa=ne[1],0<P.xa-P.K&&ne[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=yi(h(P.Va,P),6e3));Ni(P.h)<=1&&P.ta&&(P.ta=void 0)}else Ii(P,11)}else if((y.L||P.g==y)&&kc(P),!B(S))for(ne=P.Ba.g.parse(S),S=0;S<ne.length;S++){let bt=ne[S];const Kt=bt[0];if(!(Kt<=P.K))if(P.K=Kt,bt=bt[1],P.I==2)if(bt[0]=="c"){P.M=bt[1],P.ba=bt[2];const ba=bt[3];ba!=null&&(P.ka=ba,P.j.info("VER="+P.ka));const Oi=bt[4];Oi!=null&&(P.za=Oi,P.j.info("SVER="+P.za));const Wa=bt[5];Wa!=null&&typeof Wa=="number"&&Wa>0&&(q=1.5*Wa,P.O=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const Xa=y.g;if(Xa){const Sl=Xa.g?Xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var ce=q.h;ce.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(wd(ce,ce.h),ce.h=null))}if(q.G){const Mc=Xa.g?Xa.g.getResponseHeader("X-HTTP-Session-Id"):null;Mc&&(q.wa=Mc,Et(q.J,q.G,Mc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),q=P;var Se=y;if(q.na=gm(q,q.L?q.ba:null,q.W),Se.L){_d(q.h,Se);var nt=Se,pn=q.O;pn&&(nt.H=pn),nt.D&&(wi(nt),bi(nt)),q.g=Se}else dm(q);P.i.length>0&&Ci(P)}else bt[0]!="stop"&&bt[0]!="close"||Ii(P,7);else P.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Ii(P,7):Od(P):bt[0]!="noop"&&P.l&&P.l.qa(bt),P.A=0)}}pi(4)}catch{}}var Sn=class{constructor(y,S){this.g=y,this.map=S}};function xd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ni(y){return y.h?1:y.g?y.g.size:0}function ji(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function wd(y,S){y.g?y.g.add(S):y.h=S}function _d(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}xd.prototype.cancel=function(){if(this.i=Nd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Nd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const P of y.g.values())S=S.concat(P.G);return S}return w(y.i)}var im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(y,S){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const q=y[P].indexOf("=");let ne,ce=null;q>=0?(ne=y[P].substring(0,q),ce=y[P].substring(q+1)):ne=y[P],S(ne,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function ta(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof ta?(this.l=y.l,Xn(this,y.j),this.o=y.o,this.g=y.g,Zs(this,y.u),this.h=y.h,jd(this,cm(y.i)),this.m=y.m):y&&(S=String(y).match(im))?(this.l=!1,Xn(this,S[1]||"",!0),this.o=Ei(S[2]||""),this.g=Ei(S[3]||"",!0),Zs(this,S[4]),this.h=Ei(S[5]||"",!0),jd(this,S[6]||"",!0),this.m=Ei(S[7]||"")):(this.l=!1,this.i=new to(null,this.l))}ta.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(xl(S,Cc,!0),":");var P=this.g;return(P||S=="file")&&(y.push("//"),(S=this.o)&&y.push(xl(S,Cc,!0),"@"),y.push(ns(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(xl(P,P.charAt(0)=="/"?Ed:sm,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",xl(P,om)),y.join("")},ta.prototype.resolve=function(y){const S=An(this);let P=!!y.j;P?Xn(S,y.j):P=!!y.o,P?S.o=y.o:P=!!y.g,P?S.g=y.g:P=y.u!=null;var q=y.h;if(P)Zs(S,y.u);else if(P=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ne=S.h.lastIndexOf("/");ne!=-1&&(q=S.h.slice(0,ne+1)+q)}if(ne=q,ne==".."||ne==".")q="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){q=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ce=[];for(let Se=0;Se<ne.length;){const nt=ne[Se++];nt=="."?q&&Se==ne.length&&ce.push(""):nt==".."?((ce.length>1||ce.length==1&&ce[0]!="")&&ce.pop(),q&&Se==ne.length&&ce.push("")):(ce.push(nt),q=!0)}q=ce.join("/")}else q=ne}return P?S.h=q:P=y.i.toString()!=="",P?jd(S,cm(y.i)):P=!!y.m,P&&(S.m=y.m),S};function An(y){return new ta(y)}function Xn(y,S,P){y.j=P?Ei(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function Zs(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function jd(y,S,P){S instanceof to?(y.i=S,Oc(y.i,y.l)):(P||(S=xl(S,eo)),y.i=new to(S,y.l))}function Et(y,S,P){y.i.set(S,P)}function vl(y){return Et(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ei(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function xl(y,S,P){return typeof y=="string"?(y=encodeURI(y).replace(S,Mr),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Mr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Cc=/[#\/\?@]/g,sm=/[#\?:]/g,Ed=/[#\?]/g,eo=/[#\?@]/g,om=/#/g;function to(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function Lr(y){y.g||(y.g=new Map,y.h=0,y.i&&Tc(y.i,function(S,P){y.add(decodeURIComponent(S.replace(/\+/g," ")),P)}))}t=to.prototype,t.add=function(y,S){Lr(this),this.i=null,y=no(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(S),this.h+=1,this};function lm(y,S){Lr(y),S=no(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Sd(y,S){return Lr(y),S=no(y,S),y.g.has(S)}t.forEach=function(y,S){Lr(this),this.g.forEach(function(P,q){P.forEach(function(ne){y.call(S,ne,q,this)},this)},this)};function Ad(y,S){Lr(y);let P=[];if(typeof S=="string")Sd(y,S)&&(P=P.concat(y.g.get(no(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)P=P.concat(y[S]);return P}t.set=function(y,S){return Lr(this),this.i=null,y=no(this,y),Sd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=Ad(this,y),y.length>0?String(y[0]):S):S};function Ic(y,S,P){lm(y,S),P.length>0&&(y.i=null,y.g.set(no(y,S),w(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let q=0;q<S.length;q++){var P=S[q];const ne=ns(P);P=Ad(this,P);for(let ce=0;ce<P.length;ce++){let Se=ne;P[ce]!==""&&(Se+="="+ns(P[ce])),y.push(Se)}}return this.i=y.join("&")};function cm(y){const S=new to;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function no(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Oc(y,S){S&&!y.j&&(Lr(y),y.i=null,y.g.forEach(function(P,q){const ne=q.toLowerCase();q!=ne&&(lm(this,q),Ic(this,ne,P))},y)),y.j=S}function Ga(y,S){const P=new Fa;if(c.Image){const q=new Image;q.onload=p(va,P,"TestLoadImage: loaded",!0,S,q),q.onerror=p(va,P,"TestLoadImage: error",!1,S,q),q.onabort=p(va,P,"TestLoadImage: abort",!1,S,q),q.ontimeout=p(va,P,"TestLoadImage: timeout",!1,S,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else S(!1)}function Td(y,S){const P=new Fa,q=new AbortController,ne=setTimeout(()=>{q.abort(),va(P,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:q.signal}).then(ce=>{clearTimeout(ne),ce.ok?va(P,"TestPingServer: ok",!0,S):va(P,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ne),va(P,"TestPingServer: error",!1,S)})}function va(y,S,P,q,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),q(P)}catch{}}function ro(){this.g=new dl}function Si(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Si,fl),Si.prototype.g=function(){return new bl(this.i,this.h)};function bl(y,S){Ke.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bl,Ke),t=bl.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ka(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?ao(this):Ka(this),this.readyState==3&&Rc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ao(this))},t.Na=function(y){this.g&&(this.response=y,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ka(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var P=S.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=S.next();return y.join(`\r
`)};function Ka(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function xa(y){let S="";return X(y,function(P,q){S+=q,S+=":",S+=P,S+=`\r
`}),S}function wl(y,S,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=xa(P),typeof y=="string"?P!=null&&ns(P):Et(y,S,P))}function Ct(y){Ke.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ct,Ke);var Ai=/^https?$/i,Cd=["POST","PUT"];t=Ct.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vd.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(ce){_l(this,ce);return}if(y=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ne in q)P.set(ne,q[ne]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ce of q.keys())P.set(ce,q.get(ce));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(ce=>ce.toLowerCase()=="content-type"),ne=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Cd,S,void 0)>=0)||q||ne||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Se]of P)this.g.setRequestHeader(ce,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ce){_l(this,ce)}};function _l(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Id(y),rs(y)}function Id(y){y.A||(y.A=!0,Ge(y,"complete"),Ge(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Ge(this,"complete"),Ge(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Nl(this):this.Xa())},t.Xa=function(){Nl(this)};function Nl(y){if(y.h&&typeof s<"u"){if(y.v&&Ya(y)==4)setTimeout(y.Ca.bind(y),0);else if(Ge(y,"readystatechange"),Ya(y)==4){y.h=!1;try{const ce=y.ca();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var P;if(!(P=S)){var q;if(q=ce===0){let Se=String(y.D).match(im)[1]||null;!Se&&c.self&&c.self.location&&(Se=c.self.location.protocol.slice(0,-1)),q=!Ai.test(Se?Se.toLowerCase():"")}P=q}if(P)Ge(y,"complete"),Ge(y,"success");else{y.o=6;try{var ne=Ya(y)>2?y.g.statusText:""}catch{ne=""}y.l=ne+" ["+y.ca()+"]",Id(y)}}finally{rs(y)}}}}function rs(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,S||Ge(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ya(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ya(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),Zr(S)}};function ir(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function as(y){const S={};y=(y.g&&Ya(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(B(y[q]))continue;var P=nm(y[q]);const ne=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ce=S[ne]||[];S[ne]=ce,ce.push(P)}K(S,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(y,S,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||S}function io(y){this.za=0,this.i=[],this.j=new Fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,y),this.Za=Ti("retryDelaySeedMs",1e4,y),this.Ta=Ti("forwardChannelMaxRetries",2,y),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new xd(y&&y.concurrentRequestLimit),this.Ba=new ro,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=io.prototype,t.ka=8,t.I=1,t.connect=function(y,S,P,q){jn(0),this.W=y,this.H=S||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.J=gm(this,null,this.W),Ci(this)};function Od(y){if(Dc(y),y.I==3){var S=y.V++,P=An(y.J);if(Et(P,"SID",y.M),Et(P,"RID",S),Et(P,"TYPE","terminate"),jl(y,P),S=new qa(y,y.j,S),S.M=2,S.A=vl(An(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!P&&c.Image&&(new Image().src=S.A,P=!0),P||(S.g=ym(S.j,null),S.g.ea(S.A)),S.F=Date.now(),bi(S)}pm(y)}function so(y){y.g&&(Dd(y),y.g.cancel(),y.g=null)}function Dc(y){so(y),y.v&&(c.clearTimeout(y.v),y.v=null),kc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ci(y){if(!bd(y.h)&&!y.m){y.m=!0;var S=y.Ea;O||V(),U||(O(),U=!0),k.add(S,y),y.D=0}}function Pc(y,S){return Ni(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=yi(h(y.Ea,y,S),mm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ne=new qa(this,this.j,y);let ce=this.o;if(this.U&&(ce?(ce=F(ce),H(ce,this.U)):ce=this.U),this.u!==null||this.R||(ne.J=ce,ce=null),this.S)e:{for(var S=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(S+=q,S>4096){S=P;break e}if(S===4096||P===this.i.length-1){S=P+1;break e}}S=1e3}else S=1e3;S=um(this,ne,S),P=An(this.J),Et(P,"RID",y),Et(P,"CVER",22),this.G&&Et(P,"X-HTTP-Session-Id",this.G),jl(this,P),ce&&(this.R?S="headers="+ns(xa(ce))+"&"+S:this.u&&wl(P,this.u,ce)),wd(this.h,ne),this.Ra&&Et(P,"TYPE","init"),this.S?(Et(P,"$req",S),Et(P,"SID","null"),ne.U=!0,xi(ne,P,null)):xi(ne,P,S),this.I=2}}else this.I==3&&(y?Rd(this,y):this.i.length==0||bd(this.h)||Rd(this))};function Rd(y,S){var P;S?P=S.l:P=y.V++;const q=An(y.J);Et(q,"SID",y.M),Et(q,"RID",P),Et(q,"AID",y.K),jl(y,q),y.u&&y.o&&wl(q,y.u,y.o),P=new qa(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),S&&(y.i=S.G.concat(y.i)),S=um(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),wd(y.h,P),xi(P,q,S)}function jl(y,S){y.H&&X(y.H,function(P,q){Et(S,q,P)}),y.l&&X({},function(P,q){Et(S,q,P)})}function um(y,S,P){P=Math.min(y.i.length,P);const q=y.l?h(y.l.Ka,y.l,y):null;e:{var ne=y.i;let nt=-1;for(;;){const pn=["count="+P];nt==-1?P>0?(nt=ne[0].g,pn.push("ofs="+nt)):nt=0:pn.push("ofs="+nt);let bt=!0;for(let Kt=0;Kt<P;Kt++){var ce=ne[Kt].g;const ba=ne[Kt].map;if(ce-=nt,ce<0)nt=Math.max(0,ne[Kt].g-100),bt=!1;else try{ce="req"+ce+"_"||"";try{var Se=ba instanceof Map?ba:Object.entries(ba);for(const[Oi,Wa]of Se){let Xa=Wa;d(Wa)&&(Xa=on(Wa)),pn.push(ce+Oi+"="+encodeURIComponent(Xa))}}catch(Oi){throw pn.push(ce+"type="+encodeURIComponent("_badmap")),Oi}}catch{q&&q(ba)}}if(bt){Se=pn.join("&");break e}}Se=void 0}return y=y.i.splice(0,P),S.G=y,Se}function dm(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;O||V(),U||(O(),U=!0),k.add(S,y),y.A=0}}function El(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=yi(h(y.Da,y),mm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=yi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jn(10),so(this),fm(this))};function Dd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function fm(y){y.g=new qa(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=An(y.na);Et(S,"RID","rpc"),Et(S,"SID",y.M),Et(S,"AID",y.K),Et(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&Et(S,"TO",y.ia),Et(S,"TYPE","xmlhttp"),jl(y,S),y.u&&y.o&&wl(S,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=vl(An(S)),P.u=null,P.R=!0,Sc(P,y)}t.Va=function(){this.C!=null&&(this.C=null,so(this),El(this),jn(19))};function kc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function hm(y,S){var P=null;if(y.g==S){kc(y),Dd(y),y.g=null;var q=2}else if(ji(y.h,S))P=S.G,_d(y.h,S),q=1;else return;if(y.I!=0){if(S.o)if(q==1){P=S.u?S.u.length:0,S=Date.now()-S.F;var ne=y.D;q=Ec(),Ge(q,new gi(q,P)),Ci(y)}else dm(y);else if(ne=S.m,ne==3||ne==0&&S.X>0||!(q==1&&Pc(y,S)||q==2&&El(y)))switch(P&&P.length>0&&(S=y.h,S.i=S.i.concat(P)),ne){case 1:Ii(y,5);break;case 4:Ii(y,10);break;case 3:Ii(y,6);break;default:Ii(y,2)}}}function mm(y,S){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*S}function Ii(y,S){if(y.j.info("Error code "+S),S==2){var P=h(y.bb,y),q=y.Ua;const ne=!q;q=new ta(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xn(q,"https"),vl(q),ne?Ga(q.toString(),P):Td(q.toString(),P)}else jn(2);y.I=0,y.l&&y.l.pa(S),pm(y),Dc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),jn(2)):(this.j.info("Failed to ping google.com"),jn(1))};function pm(y){if(y.I=0,y.ja=[],y.l){const S=Nd(y.h);(S.length!=0||y.i.length!=0)&&(E(y.ja,S),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function gm(y,S,P){var q=P instanceof ta?An(P):new ta(P);if(q.g!="")S&&(q.g=S+"."+q.g),Zs(q,q.u);else{var ne=c.location;q=ne.protocol,S=S?S+"."+ne.hostname:ne.hostname,ne=+ne.port;const ce=new ta(null);q&&Xn(ce,q),S&&(ce.g=S),ne&&Zs(ce,ne),P&&(ce.h=P),q=ce}return P=y.G,S=y.wa,P&&S&&Et(q,P,S),Et(q,"VER",y.ka),jl(y,q),q}function ym(y,S,P){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new Ct(new Si({ab:P})):new Ct(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}t=vm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function oo(){}oo.prototype.g=function(y,S){return new Tr(y,S)};function Tr(y,S){Ke.call(this),this.g=new io(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!B(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!B(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new is(this)}g(Tr,Ke),Tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){Od(this.g)},Tr.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=on(y),y=P);S.i.push(new Sn(S.Ya++,y)),S.I==3&&Ci(S)},Tr.prototype.N=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,Tr.Z.N.call(this)};function xm(y){Nn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const P in S){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(xm,Nn);function bm(){Ar.call(this),this.status=1}g(bm,Ar);function is(y){this.g=y}g(is,vm),is.prototype.ra=function(){Ge(this.g,"a")},is.prototype.qa=function(y){Ge(this.g,new xm(y))},is.prototype.pa=function(y){Ge(this.g,new bm)},is.prototype.oa=function(){Ge(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,tL=function(){return new oo},eL=function(){return Ec()},Z3=mn,w_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gl.NO_ERROR=0,gl.TIMEOUT=8,gl.HTTP_ERROR=6,ig=gl,yd.COMPLETE="complete",J3=yd,hl.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,Rf=hl,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,Q3=Ct}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const pD="@firebase/firestore",gD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new I0("@firebase/firestore");function yu(){return fc.logLevel}function Re(t,...e){if(fc.logLevel<=ct.DEBUG){const n=e.map(iE);fc.debug(`Firestore (${ud}): ${t}`,...n)}}function Fs(t,...e){if(fc.logLevel<=ct.ERROR){const n=e.map(iE);fc.error(`Firestore (${ud}): ${t}`,...n)}}function Hu(t,...e){if(fc.logLevel<=ct.WARN){const n=e.map(iE);fc.warn(`Firestore (${ud}): ${t}`,...n)}}function iE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nL(t,r,n)}function nL(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function _t(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||nL(e,a,r)}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends za{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(br.UNAUTHENTICATED)))}shutdown(){}}class Ile{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Ole{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new qo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qo,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qo)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new rL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new br(e)}}class Rle{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dle{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Rle(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ple{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=s=>{s.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=kle(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function __(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return Zw(a)===Zw(s)?ut(a,s):Zw(a)?1:-1}return ut(t.length,e.length)}const Mle=55296,Lle=57343;function Zw(t){const e=t.charCodeAt(0);return e>=Mle&&e<=Lle}function Gu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Mi.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return ut(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),a=Mi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):__(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class zt extends Mi{construct(e,n,r){return new zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new zt(n)}static emptyPath(){return new zt([])}}const Ule=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Mi{construct(e,n,r){return new fr(e,n,r)}static isValidIdentifier(e){return Ule.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vD}static keyField(){return new fr([vD])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Ie(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Ie(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(s(),a++)}if(s(),c)throw new Ie(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(n)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(zt.fromString(e))}static fromName(e){return new ze(zt.fromString(e).popFirst(5))}static empty(){return new ze(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e,n){if(!n)throw new Ie(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vle(t,e,n,r){if(e===!0&&r===!0)throw new Ie(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xD(t){if(!ze.isDocumentKey(t))throw new Ie(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bD(t){if(ze.isDocumentKey(t))throw new Ie(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function P0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function Wo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=P0(t);throw new Ie(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bh(t,e){if(!iL(t))throw new Ie(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ie(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=-62135596800,_D=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_D);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wD)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_D}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bh(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:Mn("string",Gt._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Gt(0,0))}static max(){return new We(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=-1;function zle(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=We.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new Xo(a,ze.empty(),e)}function Ble(t){return new Xo(t.readTime,t.key,sh)}class Xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xo(We.min(),ze.empty(),sh)}static max(){return new Xo(We.max(),ze.empty(),sh)}}function $le(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fle="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qle{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==Fle)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let a=0,s=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++s,c&&s===a&&n()}),(f=>r(f)))})),c=!0,s===a&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((a=>a?we.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,a)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===s&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new we(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function Hle(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}k0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=-1;function M0(t){return t==null}function my(t){return t===0&&1/t==-1/0}function Gle(t){return typeof t=="number"&&Number.isInteger(t)&&!my(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="";function Kle(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ND(e)),e=Yle(t.get(n),e);return ND(e)}function Yle(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case sL:n+="";break;default:n+=s}}return n}function ND(t){return t+sL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.comparator=e,this.root=n||dr.EMPTY}insert(e,n){return new ln(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new ln(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??dr.RED,this.left=a??dr.EMPTY,this.right=s??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new dr(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return dr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new ln(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ED(this.data.getIterator())}getIteratorFrom(e){return new ED(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class ED{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new fa([])}unionWith(e){let n=new Fn(fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lL("Invalid base64 string: "+s):s}})(e);return new gr(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new gr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const Wle=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=Wle.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(t.seconds),nanos:xn(t.nanos)}}function xn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?gr.fromBase64String(t):gr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="server_timestamp",uL="__type__",dL="__previous_value__",fL="__local_write_time__";function lE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uL])==null?void 0:r.stringValue)===cL}function L0(t){const e=t.mapValue.fields[dL];return lE(e)?L0(e):e}function oh(t){const e=Qo(t.mapValue.fields[fL].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xle{constructor(e,n,r,a,s,c,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const py="(default)";class lh{constructor(e,n){this.projectId=e,this.database=n||py}static empty(){return new lh("","")}get isDefaultDatabase(){return this.database===py}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="__type__",Qle="__max__",qp={mapValue:{}},mL="__vector__",gy="value";function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lE(t)?4:Zle(t)?9007199254740991:Jle(t)?10:11:He(28295,{value:t})}function Xi(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oh(t).isEqual(oh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Qo(a.timestampValue),d=Qo(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Jo(a.bytesValue).isEqual(Jo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return xn(a.geoPointValue.latitude)===xn(s.geoPointValue.latitude)&&xn(a.geoPointValue.longitude)===xn(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return xn(a.integerValue)===xn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=xn(a.doubleValue),d=xn(s.doubleValue);return c===d?my(c)===my(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},d=s.mapValue.fields||{};if(jD(c)!==jD(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Xi(c[f],d[f])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function ch(t,e){return(t.values||[]).find((n=>Xi(n,e)))!==void 0}function Ku(t,e){if(t===e)return 0;const n=Zo(t),r=Zo(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=xn(s.integerValue||s.doubleValue),f=xn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return SD(t.timestampValue,e.timestampValue);case 4:return SD(oh(t),oh(e));case 5:return __(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=Jo(s),f=Jo(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=ut(d[h],f[h]);if(p!==0)return p}return ut(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=ut(xn(s.latitude),xn(c.latitude));return d!==0?d:ut(xn(s.longitude),xn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AD(t.arrayValue,e.arrayValue);case 10:return(function(s,c){var x,w,E,N;const d=s.fields||{},f=c.fields||{},h=(x=d[gy])==null?void 0:x.arrayValue,p=(w=f[gy])==null?void 0:w.arrayValue,g=ut(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((N=p==null?void 0:p.values)==null?void 0:N.length)||0);return g!==0?g:AD(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===qp.mapValue&&c===qp.mapValue)return 0;if(s===qp.mapValue)return 1;if(c===qp.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=__(f[g],p[g]);if(x!==0)return x;const w=Ku(d[f[g]],h[p[g]]);if(w!==0)return w}return ut(f.length,p.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function SD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Qo(t),r=Qo(e),a=ut(n.seconds,r.seconds);return a!==0?a:ut(n.nanos,r.nanos)}function AD(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Ku(n[a],r[a]);if(s)return s}return ut(n.length,r.length)}function Yu(t){return N_(t)}function N_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Qo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=N_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const c of r)s?s=!1:a+=",",a+=`${c}:${N_(n.fields[c])}`;return a+"}"})(t.mapValue):He(61005,{value:t})}function sg(t){switch(Zo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=L0(t);return e?16+sg(e):16;case 5:return 2*t.stringValue.length;case 6:return Jo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+sg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return sl(r.fields,((s,c)=>{a+=s.length+sg(c)})),a})(t.mapValue);default:throw He(13486,{value:t})}}function TD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j_(t){return!!t&&"integerValue"in t}function cE(t){return!!t&&"arrayValue"in t}function CD(t){return!!t&&"nullValue"in t}function ID(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function og(t){return!!t&&"mapValue"in t}function Jle(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[hL])==null?void 0:r.stringValue)===mL}function Uf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uf(t.arrayValue.values[n]);return e}return{...t}}function Zle(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Qle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uf(n)}setAll(e){let n=fr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Uf(c):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];og(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){sl(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Hr(Uf(this.value))}}function pL(t){const e=[];return sl(t.fields,((n,r)=>{const a=new fr([n]);if(og(r)){const s=pL(r.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new fa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,a,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _r(e,0,We.min(),We.min(),We.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,a){return new _r(e,1,n,We.min(),r,a,0)}static newNoDocument(e,n){return new _r(e,2,n,We.min(),We.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,We.min(),We.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.position=e,this.inclusive=n}}function OD(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?r=ze.comparator(ze.fromName(c.referenceValue),n.key):r=Ku(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ece(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{}class Pn extends gL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nce(e,n,r):n==="array-contains"?new ice(e,r):n==="in"?new sce(e,r):n==="not-in"?new oce(e,r):n==="array-contains-any"?new lce(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rce(e,r):new ace(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends gL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return yL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yL(t){return t.op==="and"}function vL(t){return tce(t)&&yL(t)}function tce(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function E_(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(vL(t))return t.filters.map((e=>E_(e))).join(",");{const e=t.filters.map((n=>E_(n))).join(",");return`${t.op}(${e})`}}function xL(t,e){return t instanceof Pn?(function(r,a){return a instanceof Pn&&r.op===a.op&&r.field.isEqual(a.field)&&Xi(r.value,a.value)})(t,e):t instanceof di?(function(r,a){return a instanceof di&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,c,d)=>s&&xL(c,a.filters[d])),!0):!1})(t,e):void He(19439)}function bL(t){return t instanceof Pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`})(t):t instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(bL).join(" ,")+"}"})(t):"Filter"}class nce extends Pn{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class rce extends Pn{constructor(e,n){super(e,"in",n),this.keys=wL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ace extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=wL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ze.fromName(r.referenceValue)))}class ice extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cE(n)&&ch(n.arrayValue,this.value)}}class sce extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ch(this.value.arrayValue,n)}}class oce extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ch(this.value.arrayValue,n)}}class lce extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ch(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cce{constructor(e,n=null,r=[],a=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function DD(t,e=null,n=[],r=[],a=null,s=null,c=null){return new cce(t,e,n,r,a,s,c)}function uE(t){const e=et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>E_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),M0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yu(r))).join(",")),e.Te=n}return e.Te}function dE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ece(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RD(t.startAt,e.startAt)&&RD(t.endAt,e.endAt)}function S_(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],a=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uce(t,e,n,r,a,s,c,d){return new hd(t,e,n,r,a,s,c,d)}function _L(t){return new hd(t)}function PD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NL(t){return t.collectionGroup!==null}function Vf(t){const e=et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Fn(fr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new uh(s,r))})),n.has(fr.keyField().canonicalString())||e.Ie.push(new uh(fr.keyField(),r))}return e.Ie}function Vi(t){const e=et(t);return e.Ee||(e.Ee=dce(e,Vf(t))),e.Ee}function dce(t,e){if(t.limitType==="F")return DD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new uh(a.field,s)}));const n=t.endAt?new yy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yy(t.startAt.position,t.startAt.inclusive):null;return DD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function A_(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function U0(t,e){return dE(Vi(t),Vi(e))&&t.limitType===e.limitType}function jL(t){return`${uE(Vi(t))}|lt:${t.limitType}`}function vu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>bL(a))).join(", ")}]`),M0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Yu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Yu(a))).join(",")),`Target(${r})`})(Vi(t))}; limitType=${t.limitType})`}function V0(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of Vf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const h=OD(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,Vf(r),a)||r.endAt&&!(function(c,d,f){const h=OD(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,Vf(r),a))})(t,e)}function fce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EL(t){return(e,n)=>{let r=!1;for(const a of Vf(t)){const s=hce(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function hce(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):(function(s,c,d){const f=c.data.field(s),h=d.data.field(s);return f!==null&&h!==null?Ku(f,h):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return oL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce=new ln(ze.comparator);function qs(){return mce}const SL=new ln(ze.comparator);function Df(...t){let e=SL;for(const n of t)e=e.insert(n.key,n);return e}function AL(t){let e=SL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Xl(){return zf()}function TL(){return zf()}function zf(){return new Nc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const pce=new ln(ze.comparator),gce=new Fn(ze.comparator);function dt(...t){let e=gce;for(const n of t)e=e.add(n);return e}const yce=new Fn(ut);function vce(){return yce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function CL(t){return{integerValue:""+t}}function xce(t,e){return Gle(e)?CL(e):fE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this._=void 0}}function bce(t,e,n){return t instanceof xy?(function(a,s){const c={fields:{[uL]:{stringValue:cL},[fL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&lE(s)&&(s=L0(s)),s&&(c.fields[dL]=s),{mapValue:c}})(n,e):t instanceof dh?OL(t,e):t instanceof fh?RL(t,e):(function(a,s){const c=IL(a,s),d=kD(c)+kD(a.Ae);return j_(c)&&j_(a.Ae)?CL(d):fE(a.serializer,d)})(t,e)}function wce(t,e,n){return t instanceof dh?OL(t,e):t instanceof fh?RL(t,e):n}function IL(t,e){return t instanceof by?(function(r){return j_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class xy extends z0{}class dh extends z0{constructor(e){super(),this.elements=e}}function OL(t,e){const n=DL(e);for(const r of t.elements)n.some((a=>Xi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class fh extends z0{constructor(e){super(),this.elements=e}}function RL(t,e){let n=DL(e);for(const r of t.elements)n=n.filter((a=>!Xi(a,r)));return{arrayValue:{values:n}}}class by extends z0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kD(t){return xn(t.integerValue||t.doubleValue)}function DL(t){return cE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _ce(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof dh&&a instanceof dh||r instanceof fh&&a instanceof fh?Gu(r.elements,a.elements,Xi):r instanceof by&&a instanceof by?Xi(r.Ae,a.Ae):r instanceof xy&&a instanceof xy})(t.transform,e.transform)}class Nce{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class B0{}function PL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $0(t.key,Xr.none()):new $h(t.key,t.data,Xr.none());{const n=t.data,r=Hr.empty();let a=new Fn(fr.comparator);for(let s of e.fields)if(!a.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),a=a.add(s)}return new ol(t.key,r,new fa(a.toArray()),Xr.none())}}function jce(t,e,n){t instanceof $h?(function(a,s,c){const d=a.value.clone(),f=LD(a.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ol?(function(a,s,c){if(!lg(a.precondition,s))return void s.convertToUnknownDocument(c.version);const d=LD(a.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(kL(a)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Bf(t,e,n,r){return t instanceof $h?(function(s,c,d,f){if(!lg(s.precondition,c))return d;const h=s.value.clone(),p=UD(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof ol?(function(s,c,d,f){if(!lg(s.precondition,c))return d;const h=UD(s.fieldTransforms,f,c),p=c.data;return p.setAll(kL(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,d){return lg(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function Ece(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=IL(r.transform,a||null);s!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,s))}return n||null}function MD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Gu(r,a,((s,c)=>_ce(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends B0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ol extends B0{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function LD(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],c=s.transform,d=e.data.field(s.field);r.set(s.field,wce(c,d,n[a]))}return r}function UD(t,e,n){const r=new Map;for(const a of t){const s=a.transform,c=n.data.field(a.field);r.set(a.field,bce(s,c,e))}return r}class $0 extends B0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sce extends B0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&jce(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TL();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(a.key)?null:d;const f=PL(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(We.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,((n,r)=>MD(n,r)))&&Gu(this.baseMutations,e.baseMutations,((n,r)=>MD(n,r)))}}class hE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){_t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return pce})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,r[c].version);return new hE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,mt;function Ice(t){switch(t){case xe.OK:return He(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function ML(t){if(t===void 0)return Fs("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Rn.OK:return xe.OK;case Rn.CANCELLED:return xe.CANCELLED;case Rn.UNKNOWN:return xe.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return xe.INTERNAL;case Rn.UNAVAILABLE:return xe.UNAVAILABLE;case Rn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Rn.NOT_FOUND:return xe.NOT_FOUND;case Rn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Rn.ABORTED:return xe.ABORTED;case Rn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Rn.DATA_LOSS:return xe.DATA_LOSS;default:return He(39323,{code:t})}}(mt=Rn||(Rn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=new Fo([4294967295,4294967295],0);function VD(t){const e=Oce().encode(t),n=new X3;return n.update(e),new Uint8Array(n.digest())}function zD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([a,s],0)]}class mE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pf(`Invalid padding: ${n}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fo.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Fo.fromNumber(r)));return a.compare(Rce)===1&&(a=new Fo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VD(e),[r,a]=zD(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new mE(s,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=VD(e),[r,a]=zD(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Fh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new F0(We.min(),a,new ln(ut),qs(),dt())}}class Fh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fh(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class LL{constructor(e,n){this.targetId=e,this.Ce=n}}class UL{constructor(e,n,r=gr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class BD{constructor(){this.ve=0,this.Fe=$D(),this.Me=gr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dt(),n=dt(),r=dt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:He(38017,{changeType:s})}})),new Fh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$D()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dce{constructor(e){this.Ge=e,this.ze=new Map,this.je=qs(),this.Je=Hp(),this.He=Hp(),this.Ye=new ln(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(S_(s))if(r===0){const c=new ze(s.path);this.et(n,c,_r.newNoDocument(c,We.min()))}else _t(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let c,d;try{c=Jo(r).toUint8Array()}catch(f){if(f instanceof lL)return Hu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mE(c,a,s)}catch(f){return Hu(f instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&S_(d.target)){const f=new ze(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,_r.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.qe())}}));let r=dt();this.He.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new F0(e,n,this.Ye,this.je,r);return this.je=qs(),this.Je=Hp(),this.He=Hp(),this.Ye=new ln(ut),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Fn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Fn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hp(){return new ln(ze.comparator)}function $D(){return new ln(ze.comparator)}const Pce={asc:"ASCENDING",desc:"DESCENDING"},kce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mce={and:"AND",or:"OR"};class Lce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function T_(t,e){return t.useProto3Json||M0(e)?e:{value:e}}function wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Uce(t,e){return wy(t,e.toTimestamp())}function zi(t){return _t(!!t,49232),We.fromTimestamp((function(n){const r=Qo(n);return new Gt(r.seconds,r.nanos)})(t))}function pE(t,e){return C_(t,e).canonicalString()}function C_(t,e){const n=(function(a){return new zt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zL(t){const e=zt.fromString(t);return _t(HL(e),10190,{key:e.toString()}),e}function I_(t,e){return pE(t.databaseId,e.path)}function e1(t,e){const n=zL(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze($L(n))}function BL(t,e){return pE(t.databaseId,e)}function Vce(t){const e=zL(t);return e.length===4?zt.emptyPath():$L(e)}function O_(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $L(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FD(t,e,n){return{name:I_(t,e),fields:n.value.mapValue.fields}}function zce(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:He(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(_t(p===void 0||typeof p=="string",58123),gr.fromBase64String(p||"")):(_t(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),gr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?xe.UNKNOWN:ML(h.code);return new Ie(p,h.message||"")})(c);n=new UL(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=e1(t,r.document.name),s=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):We.min(),d=new Hr({mapValue:{fields:r.document.fields}}),f=_r.newFoundDocument(a,s,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new cg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=e1(t,r.document),s=r.readTime?zi(r.readTime):We.min(),c=_r.newNoDocument(a,s),d=r.removedTargetIds||[];n=new cg([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=e1(t,r.document),s=r.removedTargetIds||[];n=new cg([],s,a,null)}else{if(!("filter"in e))return He(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,c=new Cce(a,s),d=r.targetId;n=new LL(d,c)}}return n}function Bce(t,e){let n;if(e instanceof $h)n={update:FD(t,e.key,e.value)};else if(e instanceof $0)n={delete:I_(t,e.key)};else if(e instanceof ol)n={update:FD(t,e.key,e.data),updateMask:Xce(e.fieldMask)};else{if(!(e instanceof Sce))return He(16599,{Vt:e.type});n={verify:I_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const d=c.transform;if(d instanceof xy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof dh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof fh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof by)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw He(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:Uce(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:He(27497)})(t,e.precondition)),n}function $ce(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map((n=>(function(a,s){let c=a.updateTime?zi(a.updateTime):zi(s);return c.isEqual(We.min())&&(c=zi(s)),new Nce(c,a.transformResults||[])})(n,e)))):[]}function Fce(t,e){return{documents:[BL(t,e.path)]}}function qce(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BL(t,a);const s=(function(h){if(h.length!==0)return qL(di.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:xu(x.field),direction:Kce(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=T_(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function Hce(t){let e=Vce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){_t(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=FL(g);return x instanceof di&&vL(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(E){return new uh(bu(E.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,M0(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,w=g.values||[];return new yy(w,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,w=g.values||[];return new yy(w,x)})(n.endAt)),uce(e,a,c,s,d,"F",f,h)}function Gce(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bu(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=bu(n.unaryFilter.field);return Pn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bu(n.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bu(n.unaryFilter.field);return Pn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pn.create(bu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((r=>FL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function Kce(t){return Pce[t]}function Yce(t){return kce[t]}function Wce(t){return Mce[t]}function xu(t){return{fieldPath:t.canonicalString()}}function bu(t){return fr.fromServerFormat(t.fieldPath)}function qL(t){return t instanceof Pn?(function(n){if(n.op==="=="){if(ID(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NAN"}};if(CD(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ID(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NAN"}};if(CD(n.value))return{unaryFilter:{field:xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(n.field),op:Yce(n.op),value:n.value}}})(t):t instanceof di?(function(n){const r=n.getFilters().map((a=>qL(a)));return r.length===1?r[0]:{compositeFilter:{op:Wce(n.op),filters:r}}})(t):He(54877,{filter:t})}function Xce(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r,a,s=We.min(),c=We.min(),d=gr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qce{constructor(e){this.yt=e}}function Jce(t){const e=Hce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(){this.Cn=new eue}addToCollectionParentIndex(e,n){return this.Cn.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(Xo.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class eue{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Fn(zt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Fn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GL=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(GL,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wu(0)}static cr(){return new Wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="LruGarbageCollector",tue=1048576;function GD([t,e],[n,r]){const a=ut(t,n);return a===0?ut(e,r):a}class nue{constructor(e){this.Ir=e,this.buffer=new Fn(GD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(HD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fd(n)?Re(HD,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class aue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return we.resolve(k0.ce);const r=new nue(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(qD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),yu()<=ct.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function iue(t,e){return new aue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue{constructor(){this.changes=new Nc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Bf(r.mutation,a,fa.empty(),Gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const a=Xl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let c=Df();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Xl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let s=qs();const c=zf(),d=(function(){return zf()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof ol)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),Bf(p.mutation,h,p.mutation.getFieldMask(),Gt.now())):c.set(h.key,fa.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new oue(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=zf();let a=new ln(((c,d)=>c-d)),s=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||fa.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||dt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=TL();p.forEach((x=>{if(!s.has(x)){const w=PL(n.get(x),r.get(x));w!==null&&g.set(x,w),s=s.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return ze.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):we.resolve(Xl());let d=sh,f=s;return c.next((h=>we.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,dt()))).next((p=>({batchId:d,changes:AL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next((r=>{let a=Df();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let c=Df();return this.indexManager.getCollectionParents(e,s).next((d=>we.forEach(d,(f=>{const h=(function(g,x){return new hd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,_r.newInvalidDocument(p)))}));let d=Df();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Bf(p.mutation,h,fa.empty(),Gt.now()),V0(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return we.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:Jce(a.bundledQuery),readTime:zi(a.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(){this.overlays=new ln(ze.comparator),this.qr=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xl();return we.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const a=Xl(),s=n.length+1,c=new ze(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return we.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new ln(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Xl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Xl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return we.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Tce(n,r));let s=this.qr.get(n);s===void 0&&(s=dt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.Qr=new Fn(tr.$r),this.Ur=new Fn(tr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new tr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ze(new zt([])),r=new tr(n,e),a=new tr(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),s.push(c.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ze(new zt([])),r=new tr(n,e),a=new tr(n,e+1);let s=dt();return this.Ur.forEachInRange([r,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new tr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ze.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fn(tr.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ace(s,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new tr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,n){return we.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return we.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?oE:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tr(n,0),a=new tr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);s.push(d)})),we.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(ut);return n.forEach((a=>{const s=new tr(a,0),c=new tr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,c],(d=>{r=r.add(d.Yr)}))})),we.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;ze.isDocumentKey(s)||(s=s.child(""));const c=new tr(new ze(s),0);let d=new Fn(ut);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),c),we.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){_t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return we.forEach(n.mutations,(a=>{const s=new tr(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new tr(n,0),a=this.Zr.firstAfterOrEqual(r);return we.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(e){this.ri=e,this.docs=(function(){return new ln(ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():_r.newInvalidDocument(a))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=qs();const c=n.path,d=new ze(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||$le(Ble(p),r)<=0||(a.has(p.key)||V0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return we.resolve(s)}getAllFromCollectionGroup(e,n,r,a){He(9500)}ii(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new mue(this)}getSize(e){return we.resolve(this.size)}}class mue extends sue{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e){this.persistence=e,this.si=new Nc((n=>uE(n)),dE),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.oi=0,this._i=new gE,this.targetCount=0,this.ai=Wu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),we.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Pr(n),we.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),we.waitFor(s).next((()=>a))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),we.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.ui={},this.overlays={},this.ci=new k0(0),this.li=!1,this.li=!0,this.hi=new due,this.referenceDelegate=e(this),this.Pi=new pue(this),this.indexManager=new Zce,this.remoteDocumentCache=(function(a){return new hue(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Qce(n),this.Ii=new cue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new fue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const a=new gue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return we.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class gue extends qle{constructor(e){super(),this.currentSequenceNumber=e}}class yE{constructor(e){this.persistence=e,this.Ri=new gE,this.Vi=null}static mi(e){return new yE(e)}get fi(){if(this.Vi)return this.Vi;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),we.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(r=>{const a=ze.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,We.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return we.or([()=>we.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _y{constructor(e,n){this.persistence=e,this.pi=new Nc((r=>Kle(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=iue(this,n)}static mi(e,n){return new _y(e,n)}Ei(){}di(e){return we.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return we.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?we.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,s.removeEntry(c,We.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),we.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sg(e.data.value)),n}br(e,n,r){return we.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return we.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=dt(),a=dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new vE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zie()?8:Hle(Er())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new yue;return this.Ss(e,n,c).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(yu()<=ct.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",vu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(yu()<=ct.DEBUG&&Re("QueryEngine","Query:",vu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(yu()<=ct.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",vu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):we.resolve())}ys(e,n){if(PD(n))return we.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vy(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=dt(...s);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,c,f.readTime)?this.ys(e,vy(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return PD(n)||a.isEqual(We.min())?we.resolve(null):this.ps.getDocuments(e,r).next((s=>{const c=this.Ds(n,s);return this.Cs(n,c,r,a)?we.resolve(null):(yu()<=ct.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vu(n)),this.vs(e,c,n,zle(a,sh)).next((d=>d)))}))}Ds(e,n){let r=new Fn(EL(e));return n.forEach(((a,s)=>{V0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return yu()<=ct.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",vu(n)),this.ps.getDocumentsMatchingQuery(e,n,Xo.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LocalStore",xue=3e8;class bue{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new ln(ut),this.xs=new Nc((s=>uE(s)),dE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lue(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wue(t,e,n,r){return new bue(t,e,n,r)}async function YL(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],d=[];let f=dt();for(const h of a){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function _ue(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let w=we.resolve();return x.forEach((E=>{w=w.next((()=>p.getEntry(f,E))).next((N=>{const j=h.docVersions.get(E);_t(j!==null,48541),N.version.compareTo(j)<0&&(g.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),p.addEntry(N)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=dt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function WL(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Nue(t,e){const n=et(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(gr.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(g,w),(function(N,j,T){return N.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=xue?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(x,w,p)&&d.push(n.Pi.updateTargetData(s,w))}));let f=qs(),h=dt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(jue(s,c,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(We.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return we.waitFor(d).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function jue(t,e,n){let r=dt(),a=dt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=qs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Re(xE,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function Eue(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=oE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Sue(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,we.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Vo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function R_(t,e,n){const r=et(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fd(c))throw c;Re(xE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function KD(t,e,n){const r=et(t);let a=We.min(),s=dt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=et(f),x=g.xs.get(p);return x!==void 0?we.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,c,Vi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:We.min(),n?s:dt()))).next((d=>(Aue(r,fce(e),d),{documents:d,Qs:s})))))}function Aue(t,e,n){let r=t.Os.get(e)||We.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class YD{constructor(){this.activeTargetIds=vce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tue{constructor(){this.Mo=new YD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="ConnectivityMonitor";class XD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(WD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(WD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp=null;function D_(){return Gp===null?Gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gp++,"0x"+Gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="RestConnection",Iue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===py?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const c=D_(),d=this.zo(e,n.toUriEncodedString());Re(t1,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=bc(h);return this.Jo(e,d,f,r,p).then((g=>(Re(t1,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Hu(t1,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,c){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=Iue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="WebChannelConnection";class Due extends Oue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const c=D_();return new Promise(((d,f)=>{const h=new Q3;h.setWithCredentials(!0),h.listenOnce(J3.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case ig.NO_ERROR:const g=h.getResponseJson();Re(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case ig.TIMEOUT:Re(vr,`RPC '${e}' ${c} timed out`),f(new Ie(xe.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:const x=h.getStatus();if(Re(vr,`RPC '${e}' ${c} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const N=(function(T){const L=T.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(L)>=0?L:xe.UNKNOWN})(E.status);f(new Ie(N,E.message))}else f(new Ie(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ie(xe.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Re(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);Re(vr,`RPC '${e}' ${c} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=D_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=tL(),d=eL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");Re(vr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=c.createWebChannel(p,f);this.I_(g);let x=!1,w=!1;const E=new Rue({Yo:j=>{w?Re(vr,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(Re(vr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),Re(vr,`RPC '${e}' stream ${a} sending:`,j),g.send(j))},Zo:()=>g.close()}),N=(j,T,L)=>{j.listen(T,(A=>{try{L(A)}catch(R){setTimeout((()=>{throw R}),0)}}))};return N(g,Rf.EventType.OPEN,(()=>{w||(Re(vr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),N(g,Rf.EventType.CLOSE,(()=>{w||(w=!0,Re(vr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),N(g,Rf.EventType.ERROR,(j=>{w||(w=!0,Hu(vr,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),E.a_(new Ie(xe.UNAVAILABLE,"The operation could not be completed")))})),N(g,Rf.EventType.MESSAGE,(j=>{var T;if(!w){const L=j.data[0];_t(!!L,16349);const A=L,R=(A==null?void 0:A.error)||((T=A[0])==null?void 0:T.error);if(R){Re(vr,`RPC '${e}' stream ${a} received error:`,R);const O=R.status;let U=(function(M){const I=Rn[M];if(I!==void 0)return ML(I)})(O),k=R.message;U===void 0&&(U=xe.INTERNAL,k="Unknown error status: "+O+" with message "+R.message),w=!0,E.a_(new Ie(U,k)),g.close()}else Re(vr,`RPC '${e}' stream ${a} received:`,L),E.u_(L)}})),N(d,Z3.STAT_EVENT,(j=>{j.stat===w_.PROXY?Re(vr,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===w_.NOPROXY&&Re(vr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function n1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){return new Lce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="PersistentStream";class QL{constructor(e,n,r,a,s,c,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ie(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(QD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Re(QD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pue extends QL{constructor(e,n,r,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zce(this.serializer,e),r=(function(s){if(!("targetChange"in s))return We.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?We.min():c.readTime?zi(c.readTime):We.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=O_(this.serializer),n.addTarget=(function(s,c){let d;const f=c.target;if(d=S_(f)?{documents:Fce(s,f)}:{query:qce(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=VL(s,c.resumeToken);const h=T_(s,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(We.min())>0){d.readTime=wy(s,c.snapshotVersion.toTimestamp());const h=T_(s,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=Gce(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=O_(this.serializer),n.removeTarget=e,this.q_(n)}}class kue extends QL{constructor(e,n,r,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$ce(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=O_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Bce(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{}class Lue extends Mue{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ie(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Go(e,C_(n,r),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(xe.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,C_(n,r),a,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ie(xe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Uue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fs(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="RemoteStore";class Vue{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{jc(this)&&(Re(hc,"Restarting streams for network reachability change."),await(async function(f){const h=et(f);h.Ea.add(4),await qh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await H0(h)})(this))}))})),this.Ra=new Uue(r,a)}}async function H0(t){if(jc(t))for(const e of t.da)await e(!0)}async function qh(t){for(const e of t.da)await e(!1)}function JL(t,e){const n=et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),NE(n)?_E(n):md(n).O_()&&wE(n,e))}function bE(t,e){const n=et(t),r=md(n);n.Ia.delete(e),r.O_()&&ZL(n,e),n.Ia.size===0&&(r.O_()?r.L_():jc(n)&&n.Ra.set("Unknown"))}function wE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function ZL(t,e){t.Va.Ue(e),md(t).Z_(e)}function _E(t){t.Va=new Dce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function NE(t){return jc(t)&&!md(t).x_()&&t.Ia.size>0}function jc(t){return et(t).Ea.size===0}function eU(t){t.Va=void 0}async function zue(t){t.Ra.set("Online")}async function Bue(t){t.Ia.forEach(((e,n)=>{wE(t,e)}))}async function $ue(t,e){eU(t),NE(t)?(t.Ra.ha(e),_E(t)):t.Ra.set("Unknown")}async function Fue(t,e,n){if(t.Ra.set("Online"),e instanceof UL&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Re(hc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ny(t,r)}else if(e instanceof cg?t.Va.Ze(e):e instanceof LL?t.Va.st(e):t.Va.tt(e),!n.isEqual(We.min()))try{const r=await WL(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const d=s.Va.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(gr.EMPTY_BYTE_STRING,p.snapshotVersion)),ZL(s,f);const g=new Vo(p.target,f,h,p.sequenceNumber);wE(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Re(hc,"Failed to raise snapshot:",r),await Ny(t,r)}}async function Ny(t,e,n){if(!fd(e))throw e;t.Ea.add(1),await qh(t),t.Ra.set("Offline"),n||(n=()=>WL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(hc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await H0(t)}))}function tU(t,e){return e().catch((n=>Ny(t,n,e)))}async function G0(t){const e=et(t),n=el(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oE;for(;que(e);)try{const a=await Eue(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Hue(e,a)}catch(a){await Ny(e,a)}nU(e)&&rU(e)}function que(t){return jc(t)&&t.Ta.length<10}function Hue(t,e){t.Ta.push(e);const n=el(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nU(t){return jc(t)&&!el(t).x_()&&t.Ta.length>0}function rU(t){el(t).start()}async function Gue(t){el(t).ra()}async function Kue(t){const e=el(t);for(const n of t.Ta)e.ea(n.mutations)}async function Yue(t,e,n){const r=t.Ta.shift(),a=hE.from(r,e,n);await tU(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await G0(t)}async function Wue(t,e){e&&el(t).X_&&await(async function(r,a){if((function(c){return Ice(c)&&c!==xe.ABORTED})(a.code)){const s=r.Ta.shift();el(r).B_(),await tU(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await G0(r)}})(t,e),nU(t)&&rU(t)}async function JD(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Re(hc,"RemoteStore received new credentials");const r=jc(n);n.Ea.add(3),await qh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await H0(n)}async function Xue(t,e){const n=et(t);e?(n.Ea.delete(2),await H0(n)):e||(n.Ea.add(2),await qh(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,a){const s=et(n);return s.sa(),new Pue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:zue.bind(null,t),t_:Bue.bind(null,t),r_:$ue.bind(null,t),H_:Fue.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),NE(t)?_E(t):t.Ra.set("Unknown")):(await t.ma.stop(),eU(t))}))),t.ma}function el(t){return t.fa||(t.fa=(function(n,r,a){const s=et(n);return s.sa(),new kue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gue.bind(null,t),r_:Wue.bind(null,t),ta:Kue.bind(null,t),na:Yue.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await G0(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(hc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const c=Date.now()+r,d=new jE(e,n,c,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EE(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),fd(t))return new Ie(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new ln(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.ga=new ln(ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xu{constructor(e,n,r,a,s,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xu(e,n,Cu.emptySet(n),c,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Jue{constructor(){this.queries=eP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=et(n),s=a.queries;a.queries=eP(),s.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new Ie(xe.ABORTED,"Firestore shutting down"))}}function eP(){return new Nc((t=>jL(t)),U0)}async function Zue(t,e){const n=et(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new Que,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=EE(c,`Initialization of query '${vu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&SE(n)}async function ede(t,e){const n=et(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const c=s.Sa.indexOf(e);c>=0&&(s.Sa.splice(c,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tde(t,e){const n=et(t);let r=!1;for(const a of e){const s=a.query,c=n.queries.get(s);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&SE(n)}function nde(t,e,n){const r=et(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function SE(t){t.Ca.forEach((e=>{e.next()}))}var P_,tP;(tP=P_||(P_={})).Ma="default",tP.Cache="cache";class rde{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.key=e}}class iU{constructor(e){this.key=e}}class ade{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dt(),this.mutatedKeys=dt(),this.eu=EL(e),this.tu=new Cu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZD,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),w=V0(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;x&&w?x.data.isEqual(w.data)?E!==N&&(r.track({type:3,doc:w}),j=!0):this.su(x,w)||(r.track({type:2,doc:w}),j=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(d=!0)):!x&&w?(r.track({type:0,doc:w}),j=!0):x&&!w&&(r.track({type:1,doc:x}),j=!0,(f||h)&&(d=!0)),j&&(w?(c=c.add(w),s=N?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(w,E){const N=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Rt:j})}};return N(w)-N(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,c.length!==0||h?{snapshot:new Xu(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new iU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new aU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AE="SyncEngine";class ide{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sde{constructor(e){this.key=e,this.hu=!1}}class ode{constructor(e,n,r,a,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Nc((d=>jL(d)),U0),this.Iu=new Map,this.Eu=new Set,this.du=new ln(ze.comparator),this.Au=new Map,this.Ru=new gE,this.Vu={},this.mu=new Map,this.fu=Wu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lde(t,e,n=!0){const r=dU(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await sU(r,e,n,!0),a}async function cde(t,e){const n=dU(t);await sU(n,e,!0,!1)}async function sU(t,e,n,r){const a=await Sue(t.localStore,Vi(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await ude(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&JL(t.remoteStore,a),d}async function ude(t,e,n,r,a){t.pu=(g,x,w)=>(async function(N,j,T,L){let A=j.view.ru(T);A.Cs&&(A=await KD(N.localStore,j.query,!1).then((({documents:k})=>j.view.ru(k,A))));const R=L&&L.targetChanges.get(j.targetId),O=L&&L.targetMismatches.get(j.targetId)!=null,U=j.view.applyChanges(A,N.isPrimaryClient,R,O);return rP(N,j.targetId,U.au),U.snapshot})(t,g,x,w);const s=await KD(t.localStore,e,!0),c=new ade(e,s.Qs),d=c.ru(s.documents),f=Fh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=c.applyChanges(d,t.isPrimaryClient,f);rP(t,n,h.au);const p=new ide(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function dde(t,e,n){const r=et(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((c=>!U0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await R_(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&bE(r.remoteStore,a.targetId),k_(r,a.targetId)})).catch(dd)):(k_(r,a.targetId),await R_(r.localStore,a.targetId,!0))}async function fde(t,e){const n=et(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bE(n.remoteStore,r.targetId))}async function hde(t,e,n){const r=bde(t);try{const a=await(function(c,d){const f=et(c),h=Gt.now(),p=d.reduce(((w,E)=>w.add(E.key)),dt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=qs(),N=dt();return f.Ns.getEntries(w,p).next((j=>{E=j,E.forEach(((T,L)=>{L.isValidDocument()||(N=N.add(T))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,E))).next((j=>{g=j;const T=[];for(const L of d){const A=Ece(L,g.get(L.key).overlayedDocument);A!=null&&T.push(new ol(L.key,A,pL(A.value.mapValue),Xr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,T,d)})).next((j=>{x=j;const T=j.applyToLocalDocumentSet(g,N);return f.documentOverlayCache.saveOverlays(w,j.batchId,T)}))})).then((()=>({batchId:x.batchId,changes:AL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let h=c.Vu[c.currentUser.toKey()];h||(h=new ln(ut)),h=h.insert(d,f),c.Vu[c.currentUser.toKey()]=h})(r,a.batchId,n),await Hh(r,a.changes),await G0(r.remoteStore)}catch(a){const s=EE(a,"Failed to persist write");n.reject(s)}}async function oU(t,e){const n=et(t);try{const r=await Nue(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=n.Au.get(s);c&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?_t(c.hu,14607):a.removedDocuments.size>0&&(_t(c.hu,42227),c.hu=!1))})),await Hh(n,r,e)}catch(r){await dd(r)}}function nP(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=et(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&SE(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mde(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let c=new ln(ze.comparator);c=c.insert(s,_r.newNoDocument(s,We.min()));const d=dt().add(s),f=new F0(We.min(),new Map,new ln(ut),c,d);await oU(r,f),r.du=r.du.remove(s),r.Au.delete(e),TE(r)}else await R_(r.localStore,e,!1).then((()=>k_(r,e,n))).catch(dd)}async function pde(t,e){const n=et(t),r=e.batch.batchId;try{const a=await _ue(n.localStore,e);cU(n,r,null),lU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hh(n,a)}catch(a){await dd(a)}}async function gde(t,e,n){const r=et(t);try{const a=await(function(c,d){const f=et(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(_t(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);cU(r,e,n),lU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hh(r,a)}catch(a){await dd(a)}}function lU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cU(t,e,n){const r=et(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function k_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||uU(t,r)}))}function uU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),TE(t))}function rP(t,e,n){for(const r of n)r instanceof aU?(t.Ru.addReference(r.key,e),yde(t,r)):r instanceof iU?(Re(AE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||uU(t,r.key)):He(19791,{wu:r})}function yde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(AE,"New document in limbo: "+n),t.Eu.add(r),TE(t))}function TE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ze(zt.fromString(e)),r=t.fu.next();t.Au.set(r,new sde(n)),t.du=t.du.insert(n,r),JL(t.remoteStore,new Vo(Vi(_L(n.path)),r,"TargetPurposeLimboResolution",k0.ce))}}async function Hh(t,e,n){const r=et(t),a=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=vE.As(f.targetId,h);s.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,h){const p=et(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>we.forEach(h,(x=>we.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(g,x.targetId,w))).next((()=>we.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(g,x.targetId,w)))))))))}catch(g){if(!fd(g))throw g;Re(xE,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const w=p.Ms.get(x),E=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,N)}}})(r.localStore,s))}async function vde(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Re(AE,"User change. New user:",e.toKey());const r=await YL(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Ie(xe.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hh(n,r.Ls)}}function xde(t,e){const n=et(t),r=n.Au.get(e);if(r&&r.hu)return dt().add(r.key);{let a=dt();const s=n.Iu.get(e);if(!s)return a;for(const c of s){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function dU(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mde.bind(null,e),e.Pu.H_=tde.bind(null,e.eventManager),e.Pu.yu=nde.bind(null,e.eventManager),e}function bde(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gde.bind(null,e),e}class jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=q0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wue(this.persistence,new vue,e.initialUser,this.serializer)}Cu(e){return new KL(yE.mi,this.serializer)}Du(e){return new Tue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jy.provider={build:()=>new jy};class wde extends jy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_t(this.persistence.referenceDelegate instanceof _y,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rue(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new KL((r=>_y.mi(r,n)),this.serializer)}}class M_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vde.bind(null,this.syncEngine),await Xue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jue})()}createDatastore(e){const n=q0(e.databaseInfo.databaseId),r=(function(s){return new Due(s)})(e.databaseInfo);return(function(s,c,d,f){return new Lue(s,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,c,d){return new Vue(r,a,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>nP(this.syncEngine,n,0)),(function(){return XD.v()?new XD:new Cue})())}createSyncEngine(e,n){return(function(a,s,c,d,f,h,p){const g=new ode(a,s,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=et(a);Re(hc,"RemoteStore shutting down."),s.Ea.add(5),await qh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}M_.provider={build:()=>new M_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="FirestoreClient";class Nde{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=br.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Re(tl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Re(tl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=EE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function r1(t,e){t.asyncQueue.verifyOperationInProgress(),Re(tl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await YL(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jde(t);Re(tl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>JD(e.remoteStore,a))),t._onlineComponents=e}async function jde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(tl,"Using user provided OfflineComponentProvider");try{await r1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===xe.FAILED_PRECONDITION||a.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await r1(t,new jy)}}else Re(tl,"Using default OfflineComponentProvider"),await r1(t,new wde(void 0));return t._offlineComponents}async function fU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(tl,"Using user provided OnlineComponentProvider"),await aP(t,t._uninitializedComponentsProvider._online)):(Re(tl,"Using default OnlineComponentProvider"),await aP(t,new M_))),t._onlineComponents}function Ede(t){return fU(t).then((e=>e.syncEngine))}async function Sde(t){const e=await fU(t),n=e.eventManager;return n.onListen=lde.bind(null,e.syncEngine),n.onUnlisten=dde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fde.bind(null,e.syncEngine),n}function Ade(t,e,n={}){const r=new qo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new _de({next:x=>{p.Nu(),c.enqueueAndForget((()=>ede(s,g))),x.fromCache&&f.source==="server"?h.reject(new Ie(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new rde(d,p,{includeMetadataChanges:!0,qa:!0});return Zue(s,g)})(await Sde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="firestore.googleapis.com",sP=!0;class oP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mU,this.ssl=sP}else this.host=e.host,this.ssl=e.ssl??sP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tue)throw new Ie(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Cle;switch(r.type){case"firstParty":return new Dle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=iP.get(n);r&&(Re("ComponentProvider","Removing Datastore"),iP.delete(n),r.terminate())})(this),Promise.resolve()}}function Tde(t,e,n,r={}){var h;t=Wo(t,K0);const a=bc(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Xj(`https://${d}`),Qj("Firestore",!0)),s.host!==mU&&s.host!==d&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!Yo(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=br.MOCK_USER;else{p=x3(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ie(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new br(x)}t._authCredentials=new Ile(new rL(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class $n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}toJSON(){return{type:$n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bh(n,$n._jsonSchema))return new $n(e,r||null,new ze(zt.fromString(n.referencePath)))}}$n._jsonSchemaVersion="firestore/documentReference/1.0",$n._jsonSchema={type:Mn("string",$n._jsonSchemaVersion),referencePath:Mn("string")};class Ho extends ll{constructor(e,n,r){super(e,n,_L(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new ze(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function Oe(t,e,...n){if(t=_n(t),aL("collection","path",e),t instanceof K0){const r=zt.fromString(e,...n);return bD(r),new Ho(t,null,r)}{if(!(t instanceof $n||t instanceof Ho))throw new Ie(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return bD(r),new Ho(t.firestore,null,r)}}function Be(t,e,...n){if(t=_n(t),arguments.length===1&&(e=sE.newId()),aL("doc","path",e),t instanceof K0){const r=zt.fromString(e,...n);return xD(r),new $n(t,null,new ze(r))}{if(!(t instanceof $n||t instanceof Ho))throw new Ie(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zt.fromString(e,...n));return xD(r),new $n(t.firestore,t instanceof Ho?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="AsyncQueue";class cP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XL(this,"async_queue_retry"),this._c=()=>{const r=n1();r&&Re(lP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=n1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=n1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fd(e))throw e;Re(lP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Fs("INTERNAL UNHANDLED ERROR: ",uP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&He(47125,{Pc:uP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pd extends K0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new cP,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cP(e),this._firestoreClient=void 0,await e}}}function Cde(t,e){const n=typeof t=="object"?t:O0(),r=typeof t=="string"?t:py,a=il(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=g3("firestore");s&&Tde(a,...s)}return a}function CE(t){if(t._terminated)throw new Ie(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ide(t),t._firestoreClient}function Ide(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new Xle(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,hU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Nde(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Da(gr.fromBase64String(e))}catch(n){throw new Ie(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Da(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Da._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bh(e,Da._jsonSchema))return Da.fromBase64String(e.bytes)}}Da._jsonSchemaVersion="firestore/bytes/1.0",Da._jsonSchema={type:Mn("string",Da._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Bh(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Mn("string",Bi._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bh(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new Ie(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Mn("string",$i._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ode=/^__.*__$/;class Rde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ol(e,this.data,this.fieldMask,n,this.fieldTransforms):new $h(e,this.data,n,this.fieldTransforms)}}class pU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ol(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{Ac:t})}}class OE{constructor(e,n,r,a,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new OE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gU(this.Ac)&&Ode.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||q0(e)}Cc(e,n,r,a=!1){return new OE({Ac:e,methodName:n,Dc:r,path:fr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y0(t){const e=t._freezeSettings(),n=q0(t._databaseId);return new Dde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yU(t,e,n,r,a,s={}){const c=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);RE("Data must be an object, but it was:",c,r);const d=bU(r,c);let f,h;if(s.merge)f=new fa(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=L_(e,g,n);if(!c.contains(x))throw new Ie(xe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);_U(p,x)||p.push(x)}f=new fa(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new Rde(new Hr(d),f,h)}class W0 extends IE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W0}}function vU(t,e,n,r){const a=t.Cc(1,e,n);RE("Data must be an object, but it was:",a,r);const s=[],c=Hr.empty();sl(r,((f,h)=>{const p=DE(e,f,n);h=_n(h);const g=a.yc(p);if(h instanceof W0)s.push(p);else{const x=Kh(h,g);x!=null&&(s.push(p),c.set(p,x))}}));const d=new fa(s);return new pU(c,d,a.fieldTransforms)}function xU(t,e,n,r,a,s){const c=t.Cc(1,e,n),d=[L_(e,r,n)],f=[a];if(s.length%2!=0)throw new Ie(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(L_(e,s[x])),f.push(s[x+1]);const h=[],p=Hr.empty();for(let x=d.length-1;x>=0;--x)if(!_U(h,d[x])){const w=d[x];let E=f[x];E=_n(E);const N=c.yc(w);if(E instanceof W0)h.push(w);else{const j=Kh(E,N);j!=null&&(h.push(w),p.set(w,j))}}const g=new fa(h);return new pU(p,g,c.fieldTransforms)}function Pde(t,e,n,r=!1){return Kh(n,t.Cc(r?4:3,e))}function Kh(t,e){if(wU(t=_n(t)))return RE("Unsupported field value:",e,t),bU(t,e);if(t instanceof IE)return(function(r,a){if(!gU(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let c=0;for(const d of r){let f=Kh(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xce(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Gt.fromDate(r);return{timestampValue:wy(a.serializer,s)}}if(r instanceof Gt){const s=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wy(a.serializer,s)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Da)return{bytesValue:VL(a.serializer,r._byteString)};if(r instanceof $n){const s=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $i)return(function(c,d){return{mapValue:{fields:{[hL]:{stringValue:mL},[gy]:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return fE(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${P0(r)}`)})(t,e)}function bU(t,e){const n={};return oL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(t,((r,a)=>{const s=Kh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function wU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Bi||t instanceof Da||t instanceof $n||t instanceof IE||t instanceof $i)}function RE(t,e,n){if(!wU(n)||!iL(n)){const r=P0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function L_(t,e,n){if((e=_n(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return DE(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const kde=new RegExp("[~\\*/\\[\\]]");function DE(t,e,n){if(e.search(kde)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ey(t,e,n,r,a){const s=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new Ie(xe.INVALID_ARGUMENT,d+t+f)}function _U(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(X0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mde extends NU{data(){return super.data()}}function X0(t,e){return typeof e=="string"?DE(t,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PE{}class kE extends PE{}function Bn(t,e,...n){let r=[];e instanceof PE&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof ME)).length,d=s.filter((f=>f instanceof Q0)).length;if(c>1||c>0&&d>0)throw new Ie(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Q0 extends kE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Q0(e,n,r)}_apply(e){const n=this._parse(e);return jU(e._query,n),new ll(e.firestore,e.converter,A_(e._query,n))}_parse(e){const n=Y0(e.firestore);return(function(s,c,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ie(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){fP(g,p);const E=[];for(const N of g)E.push(dP(f,s,N));x={arrayValue:{values:E}}}else x=dP(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||fP(g,p),x=Pde(d,c,g,p==="in"||p==="not-in");return Pn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qt(t,e,n){const r=e,a=X0("where",t);return Q0._create(a,r,n)}class ME extends PE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ME(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let c=a;const d=s.getFlattenedFilters();for(const f of d)jU(c,f),c=A_(c,f)})(e._query,n),new ll(e.firestore,e.converter,A_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class LE extends kE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new LE(e,n)}_apply(e){const n=(function(a,s,c){if(a.startAt!==null)throw new Ie(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ie(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uh(s,c)})(e._query,this._field,this._direction);return new ll(e.firestore,e.converter,(function(a,s){const c=a.explicitOrderBy.concat([s]);return new hd(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Yh(t,e="asc"){const n=e,r=X0("orderBy",t);return LE._create(r,n)}class UE extends kE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new UE(e,n,r)}_apply(e){return new ll(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}function Ude(t){return UE._create("limit",t,"F")}function dP(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new Ie(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NL(e)&&n.indexOf("/")!==-1)throw new Ie(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(zt.fromString(n));if(!ze.isDocumentKey(r))throw new Ie(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TD(t,new ze(r))}if(n instanceof $n)return TD(t,n._key);throw new Ie(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${P0(n)}.`)}function fP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jU(t,e){const n=(function(a,s){for(const c of a)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ie(xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Vde{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sl(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[gy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((c=>xn(c.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Bi(xn(e.latitude),xn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=L0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const n=Qo(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zt.fromString(e);_t(HL(r),9688,{name:e});const a=new lh(r.get(1),r.get(3)),s=new ze(r.popFirst(5));return a.isEqual(n)||Fs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Kp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iu extends NU{constructor(e,n,r,a,s,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(X0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Iu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Iu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Iu._jsonSchema={type:Mn("string",Iu._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class ug extends Iu{data(e={}){return super.data(e)}}class Ou{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Kp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ug(this._firestore,this._userDataWriter,r.key,r,new Kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new ug(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new ug(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:zde(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ou._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}Ou._jsonSchemaVersion="firestore/querySnapshot/1.0",Ou._jsonSchema={type:Mn("string",Ou._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Bde extends Vde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}}function Ze(t){t=Wo(t,ll);const e=Wo(t.firestore,pd),n=CE(e),r=new Bde(e);return Lde(t._query),Ade(n,t._query).then((a=>new Ou(e,r,t,a)))}function Pt(t,e,n,...r){t=Wo(t,$n);const a=Wo(t.firestore,pd),s=Y0(a);let c;return c=typeof(e=_n(e))=="string"||e instanceof Gh?xU(s,"updateDoc",t._key,e,n,r):vU(s,"updateDoc",t._key,e),J0(a,[c.toMutation(t._key,Xr.exists(!0))])}function un(t){return J0(Wo(t.firestore,pd),[new $0(t._key,Xr.none())])}function $t(t,e){const n=Wo(t.firestore,pd),r=Be(t),a=EU(t.converter,e);return J0(n,[yU(Y0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Xr.exists(!1))]).then((()=>r))}function J0(t,e){return(function(r,a){const s=new qo;return r.asyncQueue.enqueueAndForget((async()=>hde(await Ede(r),a,s))),s.promise})(CE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $de{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Y0(e)}set(e,n,r){this._verifyNotCommitted();const a=a1(e,this._firestore),s=EU(a.converter,n,r),c=yU(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Xr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const s=a1(e,this._firestore);let c;return c=typeof(n=_n(n))=="string"||n instanceof Gh?xU(this._dataReader,"WriteBatch.update",s._key,n,r,a):vU(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Xr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=a1(e,this._firestore);return this._mutations=this._mutations.concat(new $0(n._key,Xr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function a1(t,e){if((t=_n(t)).firestore!==e)throw new Ie(xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t){return CE(t=Wo(t,pd)),new $de(t,(e=>J0(t,e)))}(function(e,n=!0){(function(a){ud=a})(_c),ui(new Ua("firestore",((r,{instanceIdentifier:a,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new pd(new Ole(r.getProvider("auth-internal")),new Ple(c,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ie(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(h.options.projectId,p)})(c,a),c);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Wr(pD,gD,e),Wr(pD,gD,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="firebasestorage.googleapis.com",Fde="storageBucket",qde=120*1e3,Hde=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends za{constructor(e,n,r=0){super(i1(e),`Firebase Storage: ${n} (${i1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ts.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qi||(Qi={}));function i1(t){return"storage/"+t}function Gde(){const t="An unknown error occurred, please check the error payload for server response.";return new ts(Qi.UNKNOWN,t)}function Kde(){return new ts(Qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Yde(){return new ts(Qi.CANCELED,"User canceled the upload/download.")}function Wde(t){return new ts(Qi.INVALID_URL,"Invalid URL '"+t+"'.")}function Xde(t){return new ts(Qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hP(t){return new ts(Qi.INVALID_ARGUMENT,t)}function TU(){return new ts(Qi.APP_DELETED,"The Firebase app was deleted.")}function Qde(t){return new ts(Qi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(r.path==="")return r;throw Xde(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function h(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},N=n===AU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",T=new RegExp(`^https?://${N}/${a}/${j}`,"i"),A=[{regex:d,indices:f,postModify:s},{regex:w,indices:E,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let R=0;R<A.length;R++){const O=A[R],U=O.regex.exec(e);if(U){const k=U[O.indices.bucket];let V=U[O.indices.path];V||(V=""),r=new ai(k,V),O.postModify(r);break}}if(r==null)throw Wde(e);return r}}class Jde{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zde(t,e,n){let r=1,a=null,s=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(...j){h||(h=!0,e.apply(null,j))}function g(j){a=setTimeout(()=>{a=null,t(w,f())},j)}function x(){s&&clearTimeout(s)}function w(j,...T){if(h){x();return}if(j){x(),p.call(null,j,...T);return}if(f()||c){x(),p.call(null,j,...T);return}r<64&&(r*=2);let A;d===1?(d=2,A=0):A=(r+Math.random())*1e3,g(A)}let E=!1;function N(j){E||(E=!0,x(),!h&&(a!==null?(j||(d=2),clearTimeout(a),g(0)):j||(d=1)))}return g(0),s=setTimeout(()=>{c=!0,N(!0)},n),N}function efe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tfe(t){return t!==void 0}function mP(t,e,n,r){if(r<e)throw hP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hP(`Invalid value for '${t}'. Expected ${n} or less.`)}function nfe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Sy;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sy||(Sy={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rfe(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class afe{constructor(e,n,r,a,s,c,d,f,h,p,g,x=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,N)=>{this.resolve_=E,this.reject_=N,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Yp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Sy.NO_ERROR,f=s.getStatus();if(!d||rfe(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Sy.ABORT;r(!1,new Yp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Yp(h,s))})},n=(r,a)=>{const s=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());tfe(f)?s(f):s()}catch(f){c(f)}else if(d!==null){const f=Gde();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?TU():Yde();c(f)}else{const f=Kde();c(f)}};this.canceled_?n(!1,new Yp(!1,null,!0)):this.backoffId_=Zde(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&efe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ife(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ofe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cfe(t,e,n,r,a,s,c=!0,d=!1){const f=nfe(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return ofe(p,e),ife(p,n),sfe(p,s),lfe(p,r),new afe(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ufe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dfe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ay(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dfe(this._location.path)}get storage(){return this._service}get parent(){const e=ufe(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new Ay(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Qde(e)}}function pP(t,e){const n=e==null?void 0:e[Fde];return n==null?null:ai.makeFromBucketSpec(n,t)}function ffe(t,e,n,r={}){t.host=`${e}:${n}`;const a=bc(e);a&&(Xj(`https://${t.host}/b`),Qj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:x3(s,t.app.options.projectId))}class hfe{constructor(e,n,r,a,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=AU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qde,this._maxUploadRetryTime=Hde,this._requests=new Set,a!=null?this._bucket=ai.makeFromBucketSpec(a,this._host):this._bucket=pP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=pP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new Jde(TU());{const c=cfe(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const gP="@firebase/storage",yP="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU="storage";function mfe(t=O0(),e){t=_n(t);const r=il(t,CU).getImmediate({identifier:e}),a=g3("storage");return a&&pfe(r,...a),r}function pfe(t,e,n,r={}){ffe(t,e,n,r)}function gfe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new hfe(n,r,a,e,_c)}function yfe(){ui(new Ua(CU,gfe,"PUBLIC").setMultipleInstances(!0)),Wr(gP,yP,""),Wr(gP,yP,"esm2020")}yfe();function IU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vfe=IU,OU=new wc("auth","Firebase",IU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new I0("@firebase/auth");function xfe(t,...e){Ty.logLevel<=ct.WARN&&Ty.warn(`Auth (${_c}): ${t}`,...e)}function dg(t,...e){Ty.logLevel<=ct.ERROR&&Ty.error(`Auth (${_c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,...e){throw VE(t,...e)}function Fi(t,...e){return VE(t,...e)}function RU(t,e,n){const r={...vfe(),[e]:n};return new wc("auth","Firebase",r).create(e,{appName:t.name})}function nc(t){return RU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OU.create(t,...e)}function Ye(t,e,...n){if(!t)throw VE(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dg(e),new Error(e)}function Gs(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function bfe(){return vP()==="http:"||vP()==="https:"}function vP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wfe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bfe()||b3()||"connection"in navigator)?navigator.onLine:!0}function _fe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=kie()||Uie()}get(){return wfe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nfe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jfe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Efe=new Wh(3e4,6e4);function BE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gd(t,e,n,r,a={}){return PU(t,a,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=zh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return Lie()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&bc(t.emulatorConfig.host)&&(h.credentials="include"),DU.fetch()(await kU(t,t.config.apiHost,n,d),h)})}async function PU(t,e,n){t._canInitEmulator=!1;const r={...Nfe,...e};try{const a=new Afe(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Wp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Wp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Wp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RU(t,p,h);Hs(t,p)}}catch(a){if(a instanceof za)throw a;Hs(t,"network-request-failed",{message:String(a)})}}async function Sfe(t,e,n,r,a={}){const s=await gd(t,e,n,r,a);return"mfaPendingCredential"in s&&Hs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function kU(t,e,n,r){const a=`${e}${n}?${r}`,s=t,c=s.config.emulator?zE(t.config,a):`${t.config.apiScheme}://${a}`;return jfe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}class Afe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),Efe.get())})}}function Wp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Fi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tfe(t,e){return gd(t,"POST","/v1/accounts:delete",e)}async function Cy(t,e){return gd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cfe(t,e=!1){const n=_n(t),r=await n.getIdToken(e),a=$E(r);Ye(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:$f(s1(a.auth_time)),issuedAtTime:$f(s1(a.iat)),expirationTime:$f(s1(a.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function s1(t){return Number(t)*1e3}function $E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dg("JWT malformed, contained fewer than 3 sections"),null;try{const a=m3(n);return a?JSON.parse(a):(dg("Failed to decode base64 JWT payload"),null)}catch(a){return dg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function xP(t){const e=$E(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof za&&Ife(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ife({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ofe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$f(this.lastLoginAt),this.creationTime=$f(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await hh(t,Cy(e,{idToken:n}));Ye(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?MU(a.providerUserInfo):[],c=Dfe(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new V_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Rfe(t){const e=_n(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dfe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function MU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pfe(t,e){const n=await PU(t,{},async()=>{const r=zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await kU(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&bc(t.emulatorConfig.host)&&(f.credentials="include"),DU.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kfe(t,e){return gd(t,"POST","/v2/accounts:revokeToken",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ye(e.length!==0,"internal-error");const n=xP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await Pfe(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,c=new Ru;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ye(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&(Ye(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Ofe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new V_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hh(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cfe(this,e)}reload(){return Rfe(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(nc(this.auth));const e=await this.getIdToken();return await hh(this,Tfe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:E,stsTokenManager:N}=n;Ye(g&&N,e,"internal-error");const j=Ru.fromJSON(this.name,N);Ye(typeof g=="string",e,"internal-error"),Oo(r,e.name),Oo(a,e.name),Ye(typeof x=="boolean",e,"internal-error"),Ye(typeof w=="boolean",e,"internal-error"),Oo(s,e.name),Oo(c,e.name),Oo(d,e.name),Oo(f,e.name),Oo(h,e.name),Oo(p,e.name);const T=new ii({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:j,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(T.providerData=E.map(L=>({...L}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ru;a.updateFromServerResponse(n);const s=new ii({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Iy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ye(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?MU(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Ru;d.updateFromIdToken(r);const f=new ii({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new V_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;function Ts(t){Gs(t instanceof Function,"Expected a class definition");let e=bP.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LU.type="NONE";const wP=LU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){return`firebase:${t}:${e}:${n}`}class Du{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=fg(this.userKey,a.apiKey,s),this.fullPersistenceKey=fg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cy(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Du(Ts(wP),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||Ts(wP);const c=fg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const x=await Cy(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ii._fromGetAccountInfoResponse(e,x,p)}else g=ii._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Du(s,e,r):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Du(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FU(e))return"Blackberry";if(qU(e))return"Webos";if(VU(e))return"Safari";if((e.includes("chrome/")||zU(e))&&!e.includes("edge/"))return"Chrome";if($U(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UU(t=Er()){return/firefox\//i.test(t)}function VU(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zU(t=Er()){return/crios\//i.test(t)}function BU(t=Er()){return/iemobile/i.test(t)}function $U(t=Er()){return/android/i.test(t)}function FU(t=Er()){return/blackberry/i.test(t)}function qU(t=Er()){return/webos/i.test(t)}function FE(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mfe(t=Er()){var e;return FE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Lfe(){return Vie()&&document.documentMode===10}function HU(t=Er()){return FE(t)||$U(t)||qU(t)||FU(t)||/windows phone/i.test(t)||BU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t,e=[]){let n;switch(t){case"Browser":n=_P(Er());break;case"Worker":n=`${_P(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ufe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vfe(t,e={}){return gd(t,"GET","/v2/passwordPolicy",BE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zfe=6;class Bfe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zfe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $fe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NP(this),this.idTokenSubscription=new NP(this),this.beforeStateQueue=new Ufe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await Du.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cy(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_fe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(nc(this));const n=e?_n(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(nc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(nc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vfe(this),n=new Bfe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await kfe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Du.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ye(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xfe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qE(t){return _n(t)}class NP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gie(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ffe(t){HE=t}function qfe(t){return HE.loadJS(t)}function Hfe(){return HE.gapiScript}function Gfe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kfe(t,e){const n=il(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Yo(s,e??{}))return a;Hs(a,"already-initialized")}return n.initialize({options:e})}function Yfe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Wfe(t,e,n){const r=qE(t);Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=KU(e),{host:c,port:d}=Xfe(e),f=d===null?"":`:${d}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ye(Yo(h,r.config.emulator)&&Yo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,bc(c)?(Xj(`${s}//${c}${f}`),Qj("Auth",!0)):Qfe()}function KU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xfe(t){const e=KU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:jP(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:jP(c)}}}function jP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return Sfe(t,"POST","/v1/accounts:signInWithIdp",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jfe="http://localhost";class mc extends YU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const c=new mc(r,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:Jfe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends WU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Xh{constructor(){super("facebook.com")}static credential(e){return mc._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.GOOGLE_SIGN_IN_METHOD="google.com";Mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Xh{constructor(){super("github.com")}static credential(e){return mc._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Xh{constructor(){super("twitter.com")}static credential(e,n){return mc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await ii._fromIdTokenResponse(e,r,a),c=EP(r);return new Qu({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=EP(r);return new Qu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function EP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends za{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Oy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Oy(e,n,r,a)}}function XU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oy._fromErrorAndOperation(t,s,e,r):s})}async function Zfe(t,e,n=!1){const r=await hh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ehe(t,e,n=!1){const{auth:r}=t;if(ri(r.app))return Promise.reject(nc(r));const a="reauthenticate";try{const s=await hh(t,XU(r,a,e,t),n);Ye(s.idToken,r,"internal-error");const c=$E(s.idToken);Ye(c,r,"internal-error");const{sub:d}=c;return Ye(t.uid===d,r,"user-mismatch"),Qu._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Hs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function the(t,e,n=!1){if(ri(t.app))return Promise.reject(nc(t));const r="signIn",a=await XU(t,r,e),s=await Qu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}function nhe(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function rhe(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}const Ry="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ry,"1"),this.storage.removeItem(Ry),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe=1e3,ihe=10;class JU extends QU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);Lfe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ihe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ahe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JU.type="LOCAL";const she=JU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU extends QU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZU.type="SESSION";const e8=ZU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ohe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Z0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async h=>h(n.origin,s)),f=await ohe(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Z0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const h=GE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function che(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function uhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dhe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function fhe(){return t8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="firebaseLocalStorageDb",hhe=1,Dy="firebaseLocalStorage",r8="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ev(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function mhe(){const t=indexedDB.deleteDatabase(n8);return new Qh(t).toPromise()}function z_(){const t=indexedDB.open(n8,hhe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:r8})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await mhe(),e(await z_()))})})}async function SP(t,e,n){const r=ev(t,!0).put({[r8]:e,value:n});return new Qh(r).toPromise()}async function phe(t,e){const n=ev(t,!1).get(e),r=await new Qh(n).toPromise();return r===void 0?null:r.value}function AP(t,e){const n=ev(t,!0).delete(e);return new Qh(n).toPromise()}const ghe=800,yhe=3;class a8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Z0._getInstance(fhe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await uhe(),!this.activeServiceWorker)return;this.sender=new lhe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dhe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await z_();return await SP(e,Ry,"1"),await AP(e,Ry),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>phe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=ev(a,!1).getAll();return new Qh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ghe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a8.type="LOCAL";const vhe=a8;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(t,e){return e?Ts(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends YU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bhe(t){return the(t.auth,new KE(t),t.bypassAuthState)}function whe(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),ehe(n,new KE(t),t.bypassAuthState)}async function _he(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),Zfe(n,new KE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bhe;case"linkViaPopup":case"linkViaRedirect":return _he;case"reauthViaPopup":case"reauthViaRedirect":return whe;default:Hs(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nhe=new Wh(2e3,1e4);class ju extends i8{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,ju.currentPopupAction&&ju.currentPopupAction.cancel(),ju.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=GE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ju.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nhe.get())};e()}}ju.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jhe="pendingRedirect",hg=new Map;class Ehe extends i8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hg.get(this.auth._key());if(!e){try{const r=await She(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hg.set(this.auth._key(),e)}return this.bypassAuthState||hg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function She(t,e){const n=Che(e),r=The(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Ahe(t,e){hg.set(t._key(),e)}function The(t){return Ts(t._redirectPersistence)}function Che(t){return fg(jhe,t.config.apiKey,t.name)}async function Ihe(t,e,n=!1){if(ri(t.app))return Promise.reject(nc(t));const r=qE(t),a=xhe(r,e),c=await new Ehe(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ohe=600*1e3;class Rhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dhe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s8(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ohe&&this.cachedEventUids.clear(),this.cachedEventUids.has(TP(e))}saveEventToCache(e){this.cachedEventUids.add(TP(e)),this.lastProcessedEventTime=Date.now()}}function TP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dhe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Phe(t,e={}){return gd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const khe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mhe=/^https?/;async function Lhe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Phe(t);for(const n of e)try{if(Uhe(n))return}catch{}Hs(t,"unauthorized-domain")}function Uhe(t){const e=U_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Mhe.test(n))return!1;if(khe.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe=new Wh(3e4,6e4);function CP(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zhe(t){return new Promise((e,n)=>{var a,s,c;function r(){CP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CP(),n(Fi(t,"network-request-failed"))},timeout:Vhe.get()})}if((s=(a=qi().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((c=qi().gapi)!=null&&c.load)r();else{const d=Gfe("iframefcb");return qi()[d]=()=>{gapi.load?r():n(Fi(t,"network-request-failed"))},qfe(`${Hfe()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw mg=null,e})}let mg=null;function Bhe(t){return mg=mg||zhe(t),mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he=new Wh(5e3,15e3),Fhe="__/auth/iframe",qhe="emulator/auth/iframe",Hhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ghe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Khe(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zE(e,qhe):`https://${t.config.authDomain}/${Fhe}`,r={apiKey:e.apiKey,appName:t.name,v:_c},a=Ghe.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zh(r).slice(1)}`}async function Yhe(t){const e=await Bhe(t),n=qi().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:Khe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hhe,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const c=Fi(t,"network-request-failed"),d=qi().setTimeout(()=>{s(c)},$he.get());function f(){qi().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Whe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xhe=500,Qhe=600,Jhe="_blank",Zhe="http://localhost";class IP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eme(t,e,n,r=Xhe,a=Qhe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Whe,width:r.toString(),height:a.toString(),top:s,left:c},h=Er().toLowerCase();n&&(d=zU(h)?Jhe:n),UU(h)&&(e=e||Zhe,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[w,E])=>`${x}${w}=${E},`,"");if(Mfe(h)&&d!=="_self")return tme(e||"",d),new IP(null);const g=window.open(e||"",d,p);Ye(g,t,"popup-blocked");try{g.focus()}catch{}return new IP(g)}function tme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nme="__/auth/handler",rme="emulator/auth/handler",ame=encodeURIComponent("fac");async function OP(t,e,n,r,a,s){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_c,eventId:a};if(e instanceof WU){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Hie(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Xh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${ame}=${encodeURIComponent(f)}`:"";return`${ime(t)}?${zh(d).slice(1)}${h}`}function ime({config:t}){return t.emulator?zE(t,rme):`https://${t.authDomain}/${nme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="webStorageSupport";class sme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e8,this._completeRedirectFn=Ihe,this._overrideRedirectResult=Ahe}async _openPopup(e,n,r,a){var c;Gs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const s=await OP(e,n,r,U_(),a);return eme(e,s,GE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await OP(e,n,r,U_(),a);return che(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Gs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Yhe(e),r=new Rhe(e);return n.register("authEvent",a=>(Ye(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(o1,{type:o1},a=>{var c;const s=(c=a==null?void 0:a[0])==null?void 0:c[o1];s!==void 0&&n(!!s),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lhe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HU()||VU()||FE()}}const ome=sme;var RP="@firebase/auth",DP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ume(t){ui(new Ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ye(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GU(t)},h=new $fe(r,a,s,f);return Yfe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ui(new Ua("auth-internal",e=>{const n=qE(e.getProvider("auth").getImmediate());return(r=>new lme(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(RP,DP,cme(t)),Wr(RP,DP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dme=300,fme=v3("authIdTokenMaxAge")||dme;let PP=null;const hme=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fme)return;const a=n==null?void 0:n.token;PP!==a&&(PP=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mme(t=O0()){const e=il(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Kfe(t,{popupRedirectResolver:ome,persistence:[vhe,she,e8]}),r=v3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=hme(s.toString());rhe(n,c,()=>c(n.currentUser)),nhe(n,d=>c(d))}}const a=p3("auth");return a&&Wfe(n,`http://${a}`),n}function pme(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Ffe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=Fi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",pme().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ume("Browser");const gme={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},tv=S3(gme);jle(tv);const ge=Cde(tv);mfe(tv);mme(tv);const yme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",cl=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const s=r.result.split(",")[1];if(!s){n(new Error("   ."));return}const c={base64:s,type:t.type,name:t.name},d=await fetch(yme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();f.status==="success"&&f.url?e(f.url):n(new Error(f.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Ae=async(t,e,n="")=>{try{await $t(Oe(ge,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},vme=async()=>{try{const t=Bn(Oe(ge,"activity_logs"),Ude(100));let n=(await Ze(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},xme=async t=>{await un(Be(ge,"activity_logs",t))},bme=async(t,e)=>{try{const n=Bn(Oe(ge,"staff"),Qt("username","==",t),Qt("password","==",e)),r=await Ze(n);if(!r.empty){const x=r.docs[0].data();let w=_e.STAFF;return t.toLowerCase()==="admin"&&(w=_e.ADMIN),await Ae(" ",x.name,`  ${w}`),{id:r.docs[0].id,name:x.name,role:w,details:x.rank}}const a=Bn(Oe(ge,"employees"),Qt("username","==",t),Qt("password","==",e)),s=await Ze(a);if(!s.empty){const x=s.docs[0].data();return await Ae(" ",x.name,`: ${x.jobTitle}`),{id:s.docs[0].id,name:x.name,role:_e.EMPLOYEE,details:x.jobTitle}}const c=Bn(Oe(ge,"pg_students"),Qt("username","==",t),Qt("password","==",e)),d=await Ze(c);if(!d.empty){const x=d.docs[0].data();return await Ae(" ",x.name,"  "),{id:d.docs[0].id,name:x.name,role:_e.STUDENT_PG,details:" "}}const f=Bn(Oe(ge,"ug_students"),Qt("username","==",t),Qt("password","==",e)),h=await Ze(f);if(!h.empty){const x=h.docs[0].data();return await Ae(" ",x.name," "),{id:h.docs[0].id,name:x.name,role:_e.STUDENT_UG,details:" "}}const p=Bn(Oe(ge,"alumni"),Qt("username","==",t),Qt("password","==",e)),g=await Ze(p);if(!g.empty){const x=g.docs[0].data();return await Ae(" ",x.name,""),{id:g.docs[0].id,name:x.name,role:_e.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},ul=async t=>{try{const e=Oe(ge,"archive");let n;return t?n=Bn(e,Qt("type","==",t)):n=Bn(e),(await Ze(n)).docs.map(s=>({id:s.id,...s.data()})).sort((s,c)=>c.createdAt-s.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},nv=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await $t(Oe(ge,"archive"),e);return{...e,id:n.id}},mh=async(t,e)=>{await Pt(Be(ge,"archive",t),e)},Jh=async t=>{await un(Be(ge,"archive",t))},YE=async t=>{const e=await ul(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},wme=async()=>{const t=await Ze(Oe(ge,"archive")),e=await Ze(Oe(ge,"staff")),n=await Ze(Oe(ge,"pg_students")),r=await Ze(Oe(ge,"alumni")),a=await Ze(Oe(ge,"employees")),s=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:s.filter(d=>d.type===Je.INCOMING).length,totalOutgoing:s.filter(d=>d.type===Je.OUTGOING).length,totalCouncils:s.filter(d=>d.type===Je.DEPARTMENT_COUNCIL).length,totalCommittees:s.filter(d=>d.type===Je.COMMITTEE_MEETING).length,todayCount:s.filter(d=>d.date===c).length,unansweredCount:s.filter(d=>d.type===Je.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},rv=async()=>(await Ze(Oe(ge,"staff"))).docs.map(e=>({id:e.id,...e.data()})),_me=async t=>{await $t(Oe(ge,"staff"),t)},o8=async(t,e)=>{await Pt(Be(ge,"staff",t),e)},Nme=async t=>{await un(Be(ge,"staff",t))},jme=async()=>(await Ze(Oe(ge,"employees"))).docs.map(e=>({id:e.id,...e.data()})),Eme=async t=>{await $t(Oe(ge,"employees"),t)},Sme=async(t,e)=>{await Pt(Be(ge,"employees",t),e)},Ame=async t=>{await un(Be(ge,"employees",t))},Tme=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},l8=async()=>(await Ze(Oe(ge,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:Tme(n.dates)}}),Cme=async t=>{await $t(Oe(ge,"pg_students"),t)},B_=async(t,e)=>{await Pt(Be(ge,"pg_students",t),e)},Ime=async t=>{await un(Be(ge,"pg_students",t))},Ome=async()=>(await Ze(Oe(ge,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),Rme=async t=>{await $t(Oe(ge,"ug_students"),t)},Dme=async(t,e)=>{await Pt(Be(ge,"ug_students",t),e)},Pme=async t=>{await un(Be(ge,"ug_students",t))},kme=async()=>(await Ze(Oe(ge,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),c8=async t=>{await $t(Oe(ge,"alumni"),t)},Mme=async(t,e)=>{await Pt(Be(ge,"alumni",t),e)},Lme=async t=>{await un(Be(ge,"alumni",t))},Ume=async()=>(await Ze(Oe(ge,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),Vme=async t=>{await $t(Oe(ge,"jobs"),{...t,status:t.status||"OPEN"})},zme=async(t,e)=>{await Pt(Be(ge,"jobs",t),e)},Bme=async t=>{await un(Be(ge,"jobs",t))},$me=async()=>(await Ze(Oe(ge,"assets"))).docs.map(e=>({id:e.id,...e.data()})),Fme=async t=>{await $t(Oe(ge,"assets"),{...t,createdAt:Date.now()})},qme=async(t,e)=>{await Pt(Be(ge,"assets",t),e)},Hme=async t=>{await un(Be(ge,"assets",t))},Gme=async()=>(await Ze(Oe(ge,"labs"))).docs.map(e=>({id:e.id,...e.data()})),Kme=async t=>{await $t(Oe(ge,"labs"),t)},Yme=async(t,e)=>{await Pt(Be(ge,"labs",t),e)},Wme=async t=>{await un(Be(ge,"labs",t))},Xme=async()=>(await Ze(Oe(ge,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),Qme=async t=>{await $t(Oe(ge,"lab_classes"),t)},Jme=async(t,e)=>{await Pt(Be(ge,"lab_classes",t),e)},Zme=async t=>{await un(Be(ge,"lab_classes",t))},epe=async()=>(await Ze(Oe(ge,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),tpe=async t=>{await $t(Oe(ge,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},npe=async(t,e)=>{await Pt(Be(ge,"lab_bookings",t),e)},rpe=async t=>{await un(Be(ge,"lab_bookings",t))},ape=async()=>{const e=(await Ze(Oe(ge,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=SU(ge),r=[];for(let a=1;a<=12;a++){const s=Be(Oe(ge,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(s,c),r.push({id:s.id,...c})}return await n.commit(),r}return e},kP=async(t,e)=>{await Pt(Be(ge,"greenhouse_plots",t),e)},ipe=async()=>(await Ze(Oe(ge,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),spe=async t=>{await $t(Oe(ge,"greenhouse_history"),t)},ope=async t=>{await un(Be(ge,"greenhouse_history",t))},lpe=async()=>(await Ze(Oe(ge,"materials"))).docs.map(e=>({id:e.id,...e.data()})),cpe=async t=>{await $t(Oe(ge,"materials"),t)},upe=async t=>{await un(Be(ge,"materials",t))},dpe=async()=>(await Ze(Oe(ge,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),fpe=async t=>{await $t(Oe(ge,"announcements"),t)},hpe=async t=>{await un(Be(ge,"announcements",t))},mpe=async()=>(await Ze(Oe(ge,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),ppe=async t=>{await $t(Oe(ge,"schedules"),t)},gpe=async t=>{await un(Be(ge,"schedules",t))},ype=async()=>(await Ze(Oe(ge,"events"))).docs.map(e=>({id:e.id,...e.data()})),vpe=async t=>{await $t(Oe(ge,"events"),{...t,createdAt:Date.now()})},xpe=async(t,e)=>{await Pt(Be(ge,"events",t),e)},bpe=async t=>{await un(Be(ge,"events",t))},wpe=async()=>(await Ze(Oe(ge,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),_pe=async t=>{await $t(Oe(ge,"dept_councils"),t)},Npe=async(t,e)=>{await Pt(Be(ge,"dept_councils",t),e)},jpe=async t=>{await un(Be(ge,"dept_councils",t))},Epe=async()=>(await Ze(Oe(ge,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),Spe=async t=>{await $t(Oe(ge,"dept_committees"),t)},Ape=async(t,e)=>{await Pt(Be(ge,"dept_committees",t),e)},Tpe=async t=>{await un(Be(ge,"dept_committees",t))},Cpe=async(t,e)=>{const n=Bn(Oe(ge,"annual_reports"),Qt("userId","==",t),Qt("academicYear","==",e)),r=await Ze(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},Ipe=async(t,e)=>{e?await Pt(Be(ge,"annual_reports",e),{...t}):await $t(Oe(ge,"annual_reports"),t)},Ope=async t=>{const e=Bn(Oe(ge,"annual_reports"),Qt("academicYear","==",t));return(await Ze(e)).docs.map(r=>({id:r.id,...r.data()}))},u8=async()=>{const t=Bn(Oe(ge,"research_plans"),Qt("status","==","ACTIVE")),e=await Ze(t);return e.empty?(await Wpe(),u8()):{id:e.docs[0].id,...e.docs[0].data()}},Rpe=async()=>{const t=Bn(Oe(ge,"research_proposals"),Yh("createdAt","desc"));return(await Ze(t)).docs.map(n=>({id:n.id,...n.data()}))},Dpe=async t=>{const e=JSON.parse(JSON.stringify(t));await $t(Oe(ge,"research_proposals"),{...e,createdAt:Date.now()})},Ppe=async(t,e,n)=>{await Pt(Be(ge,"research_proposals",t),{status:e,adminNotes:n})},kpe=async t=>{await $t(Oe(ge,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},Mpe=async t=>{const e=Bn(Oe(ge,"leave_requests"),Qt("userId","==",t),Yh("createdAt","desc"));return(await Ze(e)).docs.map(r=>({id:r.id,...r.data()}))},Lpe=async t=>{const e=Bn(Oe(ge,"leave_requests"),Qt("substituteId","==",t),Qt("status","==","PENDING_SUBSTITUTE"));return(await Ze(e)).docs.map(r=>({id:r.id,...r.data()}))},Upe=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await Pt(Be(ge,"leave_requests",t),r)},l1=async t=>{await $t(Oe(ge,"career_requests"),{...t,createdAt:Date.now(),status:"PENDING_DEPT"})},Vpe=async t=>{const e=Bn(Oe(ge,"career_requests"),Qt("userId","==",t),Yh("createdAt","desc"));return(await Ze(e)).docs.map(r=>({id:r.id,...r.data()}))},zpe=async()=>{const t=Bn(Oe(ge,"career_requests"),Yh("createdAt","desc"));return(await Ze(t)).docs.map(n=>({id:n.id,...n.data()}))},Bpe=async(t,e)=>{await Pt(Be(ge,"career_requests",t),{status:e})},$pe=async t=>{const e=Bn(Oe(ge,"career_requests"),Qt("userId","==",t),Qt("type","==","LOAN"),Qt("status","==","APPROVED")),n=await Ze(e);let r=0;return n.forEach(a=>{const s=a.data(),c=new Date(s.startDate).getFullYear(),d=new Date(s.endDate).getFullYear();r+=d-c+1}),r},Fpe=async()=>{const t=Bn(Oe(ge,"repository_items"),Yh("createdAt","desc"));return(await Ze(t)).docs.map(n=>({id:n.id,...n.data()}))},qpe=async t=>{await $t(Oe(ge,"repository_items"),{...t,createdAt:Date.now()})},Hpe=async t=>{await $t(Oe(ge,"repository_requests"),{...t,status:"PENDING",createdAt:Date.now()})},Gpe=async t=>{const e=Bn(Oe(ge,"repository_requests"),Qt("itemAuthorId","==",t),Qt("status","==","PENDING"));return(await Ze(e)).docs.map(r=>({id:r.id,...r.data()}))},Kpe=async(t,e)=>{await Pt(Be(ge,"repository_requests",t),{status:e,responseDate:new Date().toISOString()})},Ype=async()=>{const e=(await Ze(Oe(ge,"repository_items"))).docs.map(n=>n.data());return{totalItems:e.length,theses:e.filter(n=>n.type.includes("THESIS")).length,papers:e.filter(n=>n.type.includes("PAPER")).length,books:e.filter(n=>n.type==="BOOK").length}},Wpe=async()=>{if(!(await Ze(Oe(ge,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await $t(Oe(ge,"research_plans"),e)},Xpe=async()=>{if(!(await Ze(Oe(ge,"staff"))).empty)return;console.log("Seeding initial data...");const e=SU(ge),n=Be(Oe(ge,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},Qpe=()=>{const[t,e]=_.useState(null),[n,r]=_.useState([]),[a,s]=_.useState(!0),c=async()=>{s(!0);const f=await wme(),h=await ul();e(f),r(h.slice(0,5)),s(!1)};if(_.useEffect(()=>{c()},[]),a||!t)return o.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:o.jsx(p1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),o.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[o.jsx(p1,{className:"w-4 h-4"})," "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Ra,{title:" ",value:t.totalIncoming,icon:s4,color:"blue"}),o.jsx(Ra,{title:" ",value:t.totalOutgoing,icon:o4,color:"green"}),o.jsx(Ra,{title:" ",value:t.totalCouncils,icon:si,color:"purple"}),o.jsx(Ra,{title:" ",value:t.totalCommittees,icon:i4,color:"amber"})]}),o.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Ra,{title:"  ",value:t.totalStaff,icon:si,color:"green"}),o.jsx(Ra,{title:" ",value:t.totalEmployees,icon:r4,color:"amber"}),o.jsx(Ra,{title:"  ",value:t.totalStudentsPG,icon:Ql,color:"blue"}),o.jsx(Ra,{title:" ",value:t.totalAlumni,icon:Ps,color:"purple"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b text-gray-500",children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[n.map(f=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.type===Je.INCOMING?"bg-blue-100 text-blue-700":f.type===Je.OUTGOING?"bg-green-100 text-green-700":f.type===Je.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:f.type===Je.INCOMING?"":f.type===Je.OUTGOING?"":f.type===Je.DEPARTMENT_COUNCIL?"":""}),f.type===Je.INCOMING&&f.actionRequired&&(f.isFollowedUp?o.jsx(Gr,{className:"w-4 h-4 text-green-500",title:" "}):o.jsx(Hi,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),o.jsx("td",{className:"py-3 font-medium text-gray-700",children:f.serialNumber}),o.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:f.subject}),o.jsx("td",{className:"py-3 text-gray-500",children:f.date})]},f.id)),n.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[o.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),o.jsx(kk,{width:"100%",height:250,children:o.jsxs(hie,{data:d,children:[o.jsx(Y6,{strokeDasharray:"3 3",vertical:!1}),o.jsx(X6,{dataKey:"name",tick:{fontFamily:"Cairo"}}),o.jsx(Q6,{allowDecimals:!1}),o.jsx(d6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),o.jsx(B6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},Jpe=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[w,E]=_.useState(null);_.useEffect(()=>{N()},[]);const N=async()=>{n(!0);const R=await ul(Je.OUTGOING);c(R),n(!1)},j=async()=>{const R=await YE(Je.OUTGOING);x({...g,serialNumber:R,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),E(null),p(null),f(!0)},T=R=>{x({serialNumber:R.serialNumber,date:R.date,recipient:R.recipient||"",subject:R.subject,notes:R.notes||""}),p(R.id),E(null),f(!0)},L=async R=>{if(window.confirm("      "))try{await Jh(R.id),await Ae(" ",t.name,`   : ${R.serialNumber}`),N()}catch(O){console.error(O),alert(" ")}},A=async R=>{R.preventDefault(),a(!0);try{let O="";if(w)try{O=await cl(w)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};O&&(U.fileUrl=O),await mh(h,U),await Ae(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await nv({type:Je.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:O||""}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),N()}catch(O){console.error(O),alert(" : "+O.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&o.jsxs("button",{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-green-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Bt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:R=>x({...g,serialNumber:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:R=>x({...g,date:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:R=>x({...g,recipient:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:R=>x({...g,subject:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:2,value:g.notes,onChange:R=>x({...g,notes:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:R=>E(R.target.files?R.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-green-600 animate-spin"}):o.jsx(Nr,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-700",children:R.serialNumber}),o.jsx("td",{className:"p-4",children:R.date}),o.jsx("td",{className:"p-4",children:R.recipient}),o.jsx("td",{className:"p-4 max-w-xs truncate",title:R.subject,children:R.subject}),o.jsx("td",{className:"p-4",children:R.fileUrl?o.jsxs("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),o.jsxs("td",{className:"p-4 flex items-center gap-2",children:[o.jsx("button",{onClick:()=>T(R),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L(R),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},R.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Zpe=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[w,E]=_.useState(null),N=["./  ",".  ",".  "," "," "];_.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const U=await ul(Je.INCOMING);c(U),n(!1)},T=async()=>{const U=await YE(Je.INCOMING);x({...g,serialNumber:U,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),E(null),p(null),f(!0)},L=U=>{x({serialNumber:U.serialNumber,date:U.date,sender:U.sender||"",senderRefNumber:U.senderRefNumber||"",subject:U.subject,actionRequired:U.actionRequired||"",assignedTo:U.assignedTo||"",notes:U.notes||""}),p(U.id),E(null),f(!0)},A=async U=>{if(window.confirm("       "))try{await Jh(U.id),await Ae(" ",t.name,`    : ${U.serialNumber}`),j()}catch(k){console.error(k),alert(" ")}},R=async U=>{U.preventDefault(),a(!0);try{let k="";if(w)try{k=await cl(w)}catch(V){throw console.error("Upload failed:",V),new Error("  .    Google Drive Script.")}if(h){const V={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};k&&(V.fileUrl=k),await mh(h,V),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await nv({type:Je.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:k||"",isFollowedUp:!1}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),j()}catch(k){console.error(k),alert("   : "+k.message)}finally{a(!1)}},O=async U=>{if(!U.actionRequired)return;const k=!U.isFollowedUp;c(V=>V.map(M=>M.id===U.id?{...M,isFollowedUp:k}:M));try{await mh(U.id,{isFollowedUp:k}),await Ae(" ",t.name,`     ${U.serialNumber}  ${k?"":" "}`)}catch{c(M=>M.map(I=>I.id===U.id?{...I,isFollowedUp:!k}:I)),alert("  ")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&o.jsxs("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-blue-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Bt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:R,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:U=>x({...g,serialNumber:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:U=>x({...g,date:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsx("div",{}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:U=>x({...g,sender:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:U=>x({...g,senderRefNumber:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,value:g.subject,onChange:U=>x({...g,subject:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:U=>x({...g,actionRequired:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),o.jsxs("select",{value:g.assignedTo,onChange:U=>x({...g,assignedTo:U.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[o.jsx("option",{value:"",children:"--     --"}),N.map((U,k)=>o.jsx("option",{value:U,children:U},k))]})]})]}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:U=>E(U.target.files?U.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-blue-600 animate-spin"}):o.jsx(Nr,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(U=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4",children:U.actionRequired?o.jsx("button",{onClick:()=>O(U),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${U.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:U.isFollowedUp?"  ":"  ",children:U.isFollowedUp?o.jsxs(o.Fragment,{children:[o.jsx(Gr,{className:"w-3 h-3"}),o.jsx("span",{children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(Hi,{className:"w-3 h-3"}),o.jsx("span",{children:""})]})}):o.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),o.jsx("td",{className:"p-4 font-bold text-gray-700",children:U.serialNumber}),o.jsx("td",{className:"p-4",children:U.date}),o.jsx("td",{className:"p-4",children:U.sender}),o.jsx("td",{className:"p-4 max-w-xs truncate",title:U.subject,children:U.subject}),o.jsx("td",{className:"p-4",children:U.assignedTo?o.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:U.assignedTo}):"-"}),o.jsx("td",{className:"p-4",children:U.fileUrl?o.jsxs("a",{href:U.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>L(U),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>A(U),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},U.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},ege=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[w,E]=_.useState(null);_.useEffect(()=>{N()},[]);const N=async()=>{n(!0);const R=await ul(Je.DEPARTMENT_COUNCIL);c(R),n(!1)},j=async()=>{const R=await YE(Je.DEPARTMENT_COUNCIL);x({...g,serialNumber:R,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),E(null),p(null),f(!0)},T=R=>{x({serialNumber:R.serialNumber,date:R.date,subject:R.subject,notes:R.notes||""}),p(R.id),E(null),f(!0)},L=async R=>{if(window.confirm("      "))try{await Jh(R.id),await Ae("  ",t.name,`    : ${R.serialNumber}`),N()}catch(O){console.error(O),alert(" ")}},A=async R=>{R.preventDefault(),a(!0);try{let O="";if(w)try{O=await cl(w)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,subject:g.subject,notes:g.notes};O&&(U.fileUrl=O),await mh(h,U),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await nv({type:Je.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:O||""}),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),N()}catch(O){console.error(O),alert("   : "+O.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&o.jsxs("button",{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-purple-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Bt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:R=>x({...g,serialNumber:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:R=>x({...g,date:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:R=>x({...g,subject:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("textarea",{rows:4,value:g.notes,onChange:R=>x({...g,notes:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:R=>E(R.target.files?R.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-purple-600 animate-spin"}):o.jsx(Nr,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(R=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-700",children:R.serialNumber}),o.jsx("td",{className:"p-4",children:R.date}),o.jsx("td",{className:"p-4 max-w-lg truncate",title:R.subject,children:R.subject}),o.jsx("td",{className:"p-4",children:R.fileUrl?o.jsxs("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>T(R),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>L(R),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},R.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},tge=({user:t})=>{const[e,n]=_.useState(!1),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[w,E]=_.useState(null),N=["   ","  ","  ","  ","  "," "];_.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const O=await ul(Je.COMMITTEE_MEETING);c(O),n(!1)},T=async()=>{x({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),E(null),p(null),f(!0)},L=O=>{x({serialNumber:O.serialNumber,date:O.date,committeeName:O.sender||"",subject:O.subject,notes:O.notes||""}),p(O.id),E(null),f(!0)},A=async O=>{if(window.confirm("      "))try{await Jh(O.id),await Ae("  ",t.name,`   : ${O.sender}  ${O.date}`),j()}catch(U){console.error(U),alert(" ")}},R=async O=>{O.preventDefault(),a(!0);try{let U="";if(w)try{U=await cl(w)}catch(k){throw console.error("Upload failed:",k),new Error("  .    Google Drive Script.")}if(h){const k={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};U&&(k.fileUrl=U),await mh(h,k),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await nv({type:Je.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:U||""}),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ");f(!1),j()}catch(U){console.error(U),alert("   : "+U.message)}finally{a(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&o.jsxs("button",{onClick:T,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),d&&o.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[o.jsx("h3",{className:"font-bold text-lg text-amber-800",children:h?" ":" "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:o.jsx(Bt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:R,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{required:!0,value:g.committeeName,onChange:O=>x({...g,committeeName:O.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[o.jsx("option",{value:"",children:"--   --"}),N.map(O=>o.jsx("option",{value:O,children:O},O)),o.jsx("option",{value:"other",children:"  (   )"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:O=>x({...g,serialNumber:O.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:O=>x({...g,date:O.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:O=>x({...g,subject:O.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:4,value:g.notes,onChange:O=>x({...g,notes:O.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),o.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[o.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:O=>E(O.target.files?O.target.files[0]:null)}),o.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?o.jsx(tt,{className:"w-8 h-8 text-amber-600 animate-spin"}):o.jsx(Nr,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-gray-600 text-sm",children:w?w.name:"     "}),o.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),o.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(bn,{className:"w-5 h-5"}),o.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?o.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[s.map(O=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-amber-800",children:O.sender}),o.jsx("td",{className:"p-4 text-gray-700",children:O.serialNumber}),o.jsx("td",{className:"p-4",children:O.date}),o.jsx("td",{className:"p-4 max-w-lg truncate",title:O.subject,children:O.subject}),o.jsx("td",{className:"p-4",children:O.fileUrl?o.jsxs("a",{href:O.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"})," "]}):o.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>L(O),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>A(O),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},O.id)),s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},nge=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!1),[d,f]=_.useState(""),[h,p]=_.useState("ALL"),[g,x]=_.useState(""),[w,E]=_.useState("");_.useEffect(()=>{N()},[]);const N=async()=>{c(!0);const O=await ul();n(O),a(O),c(!1)},j=()=>{let O=e;if(h!=="ALL"&&(O=O.filter(U=>U.type===h)),d.trim()){const U=d.toLowerCase();O=O.filter(k=>k.subject.toLowerCase().includes(U)||k.serialNumber.toLowerCase().includes(U)||k.notes&&k.notes.toLowerCase().includes(U)||k.recipient&&k.recipient.toLowerCase().includes(U)||k.sender&&k.sender.toLowerCase().includes(U))}g&&(O=O.filter(U=>U.date>=g)),w&&(O=O.filter(U=>U.date<=w)),a(O)},T=()=>{f(""),p("ALL"),x(""),E(""),a(e)},L=async O=>{if(window.confirm("      ")){const U=e.find(k=>k.id===O);await Jh(O),await Ae("  ",t.name,`  : ${(U==null?void 0:U.serialNumber)||O} - : ${U==null?void 0:U.type}`),N()}},A=O=>{switch(O){case Je.INCOMING:return"";case Je.OUTGOING:return"";case Je.DEPARTMENT_COUNCIL:return" ";case Je.COMMITTEE_MEETING:return" ";default:return O}},R=O=>{switch(O){case Je.INCOMING:return"bg-blue-100 text-blue-700";case Je.OUTGOING:return"bg-green-100 text-green-700";case Je.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case Je.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(ku,{className:"w-5 h-5 text-green-600"})," "]}),o.jsxs("button",{onClick:T,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[o.jsx(Bt,{className:"w-4 h-4"}),"  "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:O=>f(O.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("select",{value:h,onChange:O=>p(O.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[o.jsx("option",{value:"ALL",children:""}),o.jsx("option",{value:Je.INCOMING,children:""}),o.jsx("option",{value:Je.OUTGOING,children:""}),o.jsx("option",{value:Je.DEPARTMENT_COUNCIL,children:" "}),o.jsx("option",{value:Je.COMMITTEE_MEETING,children:" "})]})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",value:g,onChange:O=>x(O.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsxs("div",{className:"md:col-span-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",value:w,onChange:O=>E(O.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),o.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:o.jsxs("button",{onClick:j,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[o.jsx(xz,{className:"w-4 h-4"})," "]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:o.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:" / "}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:s?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(O=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${R(O.type)}`,children:A(O.type)})}),o.jsx("td",{className:"p-3 font-semibold",children:O.serialNumber}),o.jsx("td",{className:"p-3",children:O.date}),o.jsx("td",{className:"p-3 max-w-xs truncate",title:O.subject,children:O.subject}),o.jsxs("td",{className:"p-3",children:[O.type===Je.OUTGOING&&O.recipient,O.type===Je.INCOMING&&O.sender,O.type===Je.DEPARTMENT_COUNCIL&&" ",O.type===Je.COMMITTEE_MEETING&&O.sender]}),o.jsxs("td",{className:"p-3 flex items-center gap-2",children:[O.fileUrl&&o.jsx("a",{href:O.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:o.jsx(mr,{className:"w-4 h-4"})}),t.role==="ADMIN"&&o.jsx("button",{onClick:()=>L(O.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:o.jsx(Bt,{className:"w-4 h-4"})})]})]},O.id))})]})})]})]})},rge=({user:t})=>{var I,D,z,B,ye,le,W,oe,J,X,K,F,Y,H,Z,fe,je,Ce,Fe,de,Ue,te,he,Xe,qe,Mt,Ne,ft,me,Ke,Ge,Nt,Ba,$a,Yn;const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!0),[d,f]=_.useState("FACULTY"),[h,p]=_.useState(null),[g,x]=_.useState(!1),[w,E]=_.useState({}),[N,j]=_.useState(!1);_.useEffect(()=>{(async()=>{c(!0);const jt=await rv();n(jt),c(!1)})()},[]),_.useEffect(()=>{a(e.filter(Ee=>(Ee.subRole||"FACULTY")===d))},[e,d]);const T=Ee=>{var jt,sn,on,Zr,dl,fl,hl,kr,Nn,Ar;p(Ee),E({...Ee.documents,promotionDecisions:((jt=Ee.documents)==null?void 0:jt.promotionDecisions)||[],adminPositions:((sn=Ee.documents)==null?void 0:sn.adminPositions)||[],extensionDecisions:((on=Ee.documents)==null?void 0:on.extensionDecisions)||[],progressReports:((Zr=Ee.documents)==null?void 0:Zr.progressReports)||[],efficiencyReports:((dl=Ee.documents)==null?void 0:dl.efficiencyReports)||[],coursePortfolios:((fl=Ee.documents)==null?void 0:fl.coursePortfolios)||[],publications:((hl=Ee.documents)==null?void 0:hl.publications)||[],conferenceCerts:((kr=Ee.documents)==null?void 0:kr.conferenceCerts)||[],arbitrationCerts:((Nn=Ee.documents)==null?void 0:Nn.arbitrationCerts)||[],communityServiceDocs:((Ar=Ee.documents)==null?void 0:Ar.communityServiceDocs)||[]}),x(!1)},L=()=>{p(null),x(!1)},A=Ee=>{const jt=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;E(sn=>({...sn,[Ee]:jt}))},R=(Ee,jt)=>{if(!jt)return;const sn=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,on={id:Math.random().toString(36).substr(2,9),title:jt,url:sn,date:new Date().toISOString().split("T")[0]};E(Zr=>({...Zr,[Ee]:[...Zr[Ee]||[],on]}))},O=(Ee,jt)=>{E(sn=>({...sn,[Ee]:(sn[Ee]||[]).filter(on=>on.id!==jt)}))},U=Ee=>{if(!Ee)return;const jt={courseName:Ee};E(sn=>({...sn,coursePortfolios:[...sn.coursePortfolios||[],jt]}))},k=Ee=>{E(jt=>({...jt,coursePortfolios:(jt.coursePortfolios||[]).filter((sn,on)=>on!==Ee)}))},V=(Ee,jt)=>{const sn=`https://drive.google.com/file/d/course_upload_${Math.floor(Math.random()*1e4)}`;E(on=>{const Zr=[...on.coursePortfolios||[]];return Zr[Ee]={...Zr[Ee],[jt]:sn},{...on,coursePortfolios:Zr}})},M=async()=>{if(h){j(!0);try{await o8(h.id,{documents:w});const Ee=(t==null?void 0:t.name)||"Unknown";await Ae("  ",Ee,`    : ${h.name}`);const jt={...h,documents:w};n(sn=>sn.map(on=>on.id===h.id?jt:on)),p(jt),x(!1),alert("   ")}catch(Ee){console.error("Failed to save portfolio",Ee),alert("    ")}finally{j(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>f("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Ps,{className:"w-4 h-4"}),"   "]}),o.jsxs("button",{onClick:()=>f("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Ql,{className:"w-4 h-4"}),"  "]})]}),s?o.jsx("div",{className:"text-center p-10 text-gray-500",children:"  ..."}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(Ee=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow flex flex-col",children:[o.jsx("div",{className:"bg-green-50 p-6 flex justify-center",children:o.jsx("div",{className:"w-24 h-24 bg-green-200 rounded-full flex items-center justify-center text-green-700",children:o.jsx(a4,{className:"w-16 h-16"})})}),o.jsxs("div",{className:"p-6 text-center flex-1 flex flex-col",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:Ee.name}),o.jsx("p",{className:"text-green-700 font-medium text-sm mb-4",children:Ee.rank}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 text-right bg-gray-50 p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Eu,{className:"w-4 h-4 text-green-600"}),o.jsxs("span",{children:[": ",Ee.specialization]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(h1,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"truncate",children:Ee.email})]})]}),o.jsx("div",{className:"mt-auto",children:o.jsxs("button",{onClick:()=>T(Ee),className:"w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[o.jsx(mr,{className:"w-4 h-4"}),"   "]})})]})]},Ee.id)),r.length===0&&o.jsx("div",{className:"col-span-3 text-center p-8 text-gray-400",children:"      "})]}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",children:h.name}),o.jsxs("p",{className:"text-green-100 text-sm",children:[h.rank," - ",h.specialization]})]}),o.jsxs("div",{className:"flex gap-2",children:[g?o.jsxs("button",{onClick:M,disabled:N,className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm",children:[N?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]}):o.jsxs("button",{onClick:()=>x(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[o.jsx(pr,{className:"w-4 h-4"}),"  "]}),o.jsx("button",{onClick:L,className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:o.jsx(Bt,{className:"w-6 h-6"})})]})]}),o.jsxs("div",{className:"p-6 space-y-8",children:[g&&o.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[o.jsx(Nr,{className:"w-4 h-4"}),o.jsx("span",{children:"      .         ."})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Ps,{className:"w-5 h-5 text-gray-500"}),d==="FACULTY"?"   ( )":"   "]}),o.jsxs("div",{className:"space-y-4",children:[d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsx(Wt,{title:"1.    ( )",description:"        ( /   / ).",url:g?w.appointmentDecision:(I=h.documents)==null?void 0:I.appointmentDecision,isEditing:g,onUpload:()=>A("appointmentDecision")}),o.jsx(ws,{title:"2.   ( )",description:"    (  / )    .",items:g?w.promotionDecisions:(D=h.documents)==null?void 0:D.promotionDecisions,isEditing:g,onAdd:Ee=>R("promotionDecisions",Ee),onRemove:Ee=>O("promotionDecisions",Ee)}),o.jsx(Wt,{title:"3.   ",description:"           .",url:g?w.joiningReport:(z=h.documents)==null?void 0:z.joiningReport,isEditing:g,onUpload:()=>A("joiningReport")}),o.jsx(ws,{title:"4.   ",description:"    (   ).",items:g?w.adminPositions:(B=h.documents)==null?void 0:B.adminPositions,isEditing:g,onAdd:Ee=>R("adminPositions",Ee),onRemove:Ee=>O("adminPositions",Ee)})]}),d==="ASSISTANT"&&o.jsxs(o.Fragment,{children:[o.jsx(Wt,{title:"1.    ()",description:"       ''  .",url:g?w.appointmentDecision:(ye=h.documents)==null?void 0:ye.appointmentDecision,isEditing:g,onUpload:()=>A("appointmentDecision")}),o.jsx(Wt,{title:"2.   ",description:"      (   ).",url:g?w.joiningReport:(le=h.documents)==null?void 0:le.joiningReport,isEditing:g,onUpload:()=>A("joiningReport")}),o.jsx(ws,{title:"3.     ( )",description:"          .",items:g?w.promotionDecisions:(W=h.documents)==null?void 0:W.promotionDecisions,isEditing:g,onAdd:Ee=>R("promotionDecisions",Ee),onRemove:Ee=>O("promotionDecisions",Ee)})]}),o.jsx(Wt,{title:"  (CV)",description:"    .",url:g?w.cv:(oe=h.documents)==null?void 0:oe.cv,isEditing:g,onUpload:()=>A("cv")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Ql,{className:"w-5 h-5 text-purple-600"}),"   ()"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Wt,{title:" /",url:g?w.bachelorCert:(J=h.documents)==null?void 0:J.bachelorCert,isEditing:g,onUpload:()=>A("bachelorCert")}),o.jsx(Wt,{title:" ",url:g?w.masterCert:(X=h.documents)==null?void 0:X.masterCert,isEditing:g,onUpload:()=>A("masterCert")}),d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsx(Wt,{title:"  ()",url:g?w.phdCert:(K=h.documents)==null?void 0:K.phdCert,isEditing:g,onUpload:()=>A("phdCert")}),o.jsx(Wt,{title:"  ( )",url:g?w.phdEquivalence:(F=h.documents)==null?void 0:F.phdEquivalence,isEditing:g,onUpload:()=>A("phdEquivalence")})]})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(nN,{className:"w-5 h-5 text-blue-600"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Wt,{title:"   ",url:g?w.idCard:(Y=h.documents)==null?void 0:Y.idCard,isEditing:g,onUpload:()=>A("idCard")}),o.jsx(Wt,{title:"  ()",url:g?w.birthCert:(H=h.documents)==null?void 0:H.birthCert,isEditing:g,onUpload:()=>A("birthCert")}),o.jsx(Wt,{title:"  ",url:g?w.militaryStatus:(Z=h.documents)==null?void 0:Z.militaryStatus,isEditing:g,onUpload:()=>A("militaryStatus")}),o.jsx(Wt,{title:"  ",url:g?w.criminalRecord:(fe=h.documents)==null?void 0:fe.criminalRecord,isEditing:g,onUpload:()=>A("criminalRecord")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(oz,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Wt,{title:"   ()",url:g?w.financialDisclosure:(je=h.documents)==null?void 0:je.financialDisclosure,isEditing:g,onUpload:()=>A("financialDisclosure")}),o.jsx(Wt,{title:" ",description:"    ( ).",url:g?w.socialInsuranceNum:(Ce=h.documents)==null?void 0:Ce.socialInsuranceNum,isEditing:g,onUpload:()=>A("socialInsuranceNum")}),o.jsx(Wt,{title:"   ",url:g?w.statusStatement:(Fe=h.documents)==null?void 0:Fe.statusStatement,isEditing:g,onUpload:()=>A("statusStatement")}),o.jsx("div",{className:"md:col-span-2",children:o.jsx(Wt,{title:"   (History)",url:g?w.vacationDecisions:(de=h.documents)==null?void 0:de.vacationDecisions,isEditing:g,onUpload:()=>A("vacationDecisions")})})]})]}),d==="FACULTY"&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Gr,{className:"w-5 h-5 text-green-600"}),"   (Course Portfolio)"]}),o.jsx(age,{courses:g?w.coursePortfolios:(Ue=h.documents)==null?void 0:Ue.coursePortfolios,isEditing:g,onAdd:U,onRemove:k,onUploadFile:V})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-5 h-5 text-blue-600"}),"   "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(tN,{className:"w-4 h-4 text-blue-600"}),o.jsx("label",{className:"text-sm font-bold text-gray-700",children:"   (Google Scholar / ORCID)"})]}),g?o.jsx("input",{type:"text",placeholder:"https://scholar.google.com/...",value:w.googleScholarLink||"",onChange:Ee=>E(jt=>({...jt,googleScholarLink:Ee.target.value})),className:"w-full text-sm p-2 border rounded focus:outline-none focus:border-green-500"}):(te=h.documents)!=null&&te.googleScholarLink?o.jsx("a",{href:h.documents.googleScholarLink,target:"_blank",className:"text-blue-600 hover:underline text-sm truncate block",children:h.documents.googleScholarLink}):o.jsx("span",{className:"text-sm text-gray-400",children:" "})]}),o.jsx(Wt,{title:"1.    ()",description:"            .",url:g?w.publicationsListFile:(he=h.documents)==null?void 0:he.publicationsListFile,isEditing:g,onUpload:()=>A("publicationsListFile")}),o.jsx(Wt,{title:"2.     ",description:"           .",url:g?w.supervisionRecord:(Xe=h.documents)==null?void 0:Xe.supervisionRecord,isEditing:g,onUpload:()=>A("supervisionRecord")}),o.jsx(ws,{title:"3.   ",description:"          .",items:g?w.conferenceCerts:(qe=h.documents)==null?void 0:qe.conferenceCerts,isEditing:g,onAdd:Ee=>R("conferenceCerts",Ee),onRemove:Ee=>O("conferenceCerts",Ee)}),o.jsx(ws,{title:"4.   ",description:"          .",items:g?w.arbitrationCerts:(Mt=h.documents)==null?void 0:Mt.arbitrationCerts,isEditing:g,onAdd:Ee=>R("arbitrationCerts",Ee),onRemove:Ee=>O("arbitrationCerts",Ee)}),o.jsx(ws,{title:"5.   ",description:"      (   ).",items:g?w.communityServiceDocs:(Ne=h.documents)==null?void 0:Ne.communityServiceDocs,isEditing:g,onAdd:Ee=>R("communityServiceDocs",Ee),onRemove:Ee=>O("communityServiceDocs",Ee)})]})]})]}),d==="ASSISTANT"&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Ql,{className:"w-5 h-5 text-purple-600"}),"   ( )"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Wt,{title:"1.   /  ()",description:"         .",url:g?w.enrollmentStatus:(ft=h.documents)==null?void 0:ft.enrollmentStatus,isEditing:g,onUpload:()=>A("enrollmentStatus")}),o.jsx(ws,{title:"2.   ( )",description:"        (   ).",items:g?w.progressReports:(me=h.documents)==null?void 0:me.progressReports,isEditing:g,onAdd:Ee=>R("progressReports",Ee),onRemove:Ee=>O("progressReports",Ee)}),o.jsx(ws,{title:"3.     ( )",description:"            .",items:g?w.extensionDecisions:(Ke=h.documents)==null?void 0:Ke.extensionDecisions,isEditing:g,onAdd:Ee=>R("extensionDecisions",Ee),onRemove:Ee=>O("extensionDecisions",Ee)}),o.jsx(Wt,{title:"   (FLDC)",url:g?w.fldcCerts:(Ge=h.documents)==null?void 0:Ge.fldcCerts,isEditing:g,onUpload:()=>A("fldcCerts")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ws,{title:"1.   ",description:"      ( /  ).",items:g?w.efficiencyReports:(Nt=h.documents)==null?void 0:Nt.efficiencyReports,isEditing:g,onAdd:Ee=>R("efficiencyReports",Ee),onRemove:Ee=>O("efficiencyReports",Ee)}),o.jsx(Wt,{title:"2.   /    ",description:"     ( )      .",url:g?w.penaltiesRecord:(Ba=h.documents)==null?void 0:Ba.penaltiesRecord,isEditing:g,onUpload:()=>A("penaltiesRecord")})]})]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[o.jsx(My,{className:"w-5 h-5 text-blue-500"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Wt,{title:"1.    / ",description:"       (  ).",url:g?w.studyLeaveDecision:($a=h.documents)==null?void 0:$a.studyLeaveDecision,isEditing:g,onUpload:()=>A("studyLeaveDecision")}),o.jsx(Wt,{title:"2.    ",description:"      (     ).",url:g?w.returnFromScholarship:(Yn=h.documents)==null?void 0:Yn.returnFromScholarship,isEditing:g,onUpload:()=>A("returnFromScholarship")})]})]})]})]})]})})]})},Wt=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>o.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-gray-50 border-gray-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),o.jsxs("div",{className:"flex items-center gap-2",children:[n&&o.jsx("a",{href:n,target:"_blank",className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200 transition-colors",children:""}),r&&o.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[o.jsx(Nr,{className:"w-3 h-3"}),n&&o.jsx("span",{children:""})]}),!n&&!r&&o.jsx("span",{className:"text-xs text-gray-400",children:""})]})]}),e&&o.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),ws=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:s})=>{const[c,d]=_.useState("");return o.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[o.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),o.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?o.jsx("ul",{className:"space-y-2 mb-3",children:n.map(f=>o.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm",children:[o.jsx("span",{className:"truncate flex-1 ml-2",children:f.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("a",{href:f.url,target:"_blank",className:"text-xs text-blue-600 hover:underline",children:""}),r&&o.jsx("button",{onClick:()=>s(f.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(pt,{className:"w-3 h-3"})})]})]},f.id))}):!r&&o.jsx("p",{className:"text-xs text-gray-400 italic mb-3",children:"   ."}),r&&o.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-2 border-dashed",children:[o.jsx("input",{type:"text",placeholder:"  ",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500",value:c,onChange:f=>d(f.target.value)}),o.jsxs("button",{onClick:()=>{a(c),d("")},className:"bg-blue-50 text-blue-600 border border-blue-200 text-xs px-3 py-2 rounded hover:bg-blue-100 flex items-center gap-1",children:[o.jsx(Zt,{className:"w-3 h-3"}),"  "]})]})]})},age=({courses:t=[],isEditing:e,onAdd:n,onRemove:r,onUploadFile:a})=>{const[s,c]=_.useState("");return o.jsxs("div",{className:"space-y-4",children:[t.length>0?t.map((d,f)=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Is,{className:"w-5 h-5 text-green-600"}),o.jsx("h5",{className:"font-bold text-gray-800",children:d.courseName})]}),e&&o.jsx("button",{onClick:()=>r(f),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[o.jsx(Xp,{label:" ",url:d.specsUrl,isEditing:e,onUpload:()=>a(f,"specsUrl")}),o.jsx(Xp,{label:" ",url:d.reportUrl,isEditing:e,onUpload:()=>a(f,"reportUrl")}),o.jsx(Xp,{label:" ",url:d.examsUrl,isEditing:e,onUpload:()=>a(f,"examsUrl")}),o.jsx(Xp,{label:" / ",url:d.samplesUrl,isEditing:e,onUpload:()=>a(f,"samplesUrl")})]})]},f)):o.jsx("p",{className:"text-gray-400 text-sm text-center py-4 border border-dashed rounded-lg",children:"    ."}),e&&o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-center gap-2 border border-green-200",children:[o.jsx("input",{type:"text",placeholder:"   (:   )",className:"flex-1 p-2 rounded border border-green-300 focus:outline-none focus:ring-1 focus:ring-green-500 text-sm",value:s,onChange:d=>c(d.target.value)}),o.jsxs("button",{onClick:()=>{n(s),c("")},className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[o.jsx(Zt,{className:"w-4 h-4"}),"  "]})]})]})},Xp=({label:t,url:e,isEditing:n,onUpload:r})=>o.jsxs("div",{className:`p-2 rounded border text-center flex flex-col items-center justify-center min-h-[80px] ${e?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[o.jsx("span",{className:"text-xs font-semibold text-gray-700 mb-1",children:t}),o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e?o.jsx("a",{href:e,target:"_blank",className:"text-xs bg-white border border-gray-200 px-2 py-1 rounded text-green-700 hover:text-green-800",children:""}):o.jsx("span",{className:"text-[10px] text-gray-400",children:""}),n&&o.jsx("button",{onClick:r,className:"p-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 border border-blue-200",title:"",children:o.jsx(Nr,{className:"w-3 h-3"})})]})]}),MP=({user:t})=>{const[e,n]=_.useState(t.role===_e.STUDENT_PG?"PG":"UG"),[r,a]=_.useState("MATERIALS"),[s,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState([]),[g,x]=_.useState([]),[w,E]=_.useState([]),[N,j]=_.useState(!0),[T,L]=_.useState(!1),[A,R]=_.useState(!1),[O,U]=_.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[k,V]=_.useState(!1),[M,I]=_.useState(null),[D,z]=_.useState(!1),[B,ye]=_.useState(!1),[le,W]=_.useState(null),[oe,J]=_.useState({content:"",isImportant:!1}),[X,K]=_.useState(!1),[F,Y]=_.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[H,Z]=_.useState(!1),[fe,je]=_.useState(null),Ce=t.role===_e.ADMIN||t.role===_e.STAFF;_.useEffect(()=>{Fe()},[]),_.useEffect(()=>{const Ne=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];x(s.filter(me=>Ne.includes(me.year))),E(h.filter(me=>Ne.includes(me.year)));const ft=e==="UG"?"Third":"Pre-Master";U(me=>({...me,year:ft})),Y(me=>({...me,year:ft}))},[e,s,h]);const Fe=async()=>{j(!0);const[Ne,ft,me]=await Promise.all([lpe(),dpe(),mpe()]);c(Ne),f(ft),p(me),j(!1)},de=async Ne=>{Ne.preventDefault(),L(!0);try{await cpe({title:O.title,year:O.year,fileUrl:O.fileUrl||"#",description:O.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae("  ",t.name,`: ${O.title} - : ${O.year}`),await Fe(),R(!1),U({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(ft){console.error(ft),alert("   ")}finally{L(!1)}},Ue=async()=>{if(M){L(!0);try{const Ne=s.find(ft=>ft.id===M);await upe(M),Ae("  ",t.name,`  : ${Ne==null?void 0:Ne.title}`),await Fe(),V(!1),I(null)}catch(Ne){console.error(Ne),alert("  ")}finally{L(!1)}}},te=async Ne=>{Ne.preventDefault(),L(!0);try{await fpe({content:oe.content,isImportant:oe.isImportant,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,oe.content.substring(0,50)+"..."),await Fe(),z(!1),J({content:"",isImportant:!1})}catch(ft){console.error(ft),alert("    ")}finally{L(!1)}},he=async()=>{if(le){L(!0);try{await hpe(le),Ae(" ",t.name,"    "),await Fe(),ye(!1),W(null)}catch(Ne){console.error(Ne),alert("   ")}finally{L(!1)}}},Xe=async Ne=>{Ne.preventDefault(),L(!0);try{await ppe({title:F.title,type:F.type,year:F.year,fileUrl:F.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,`: ${F.title}`),await Fe(),K(!1),Y({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(ft){console.error(ft),alert("    ")}finally{L(!1)}},qe=async()=>{if(fe){L(!0);try{const Ne=h.find(ft=>ft.id===fe);await gpe(fe),Ae(" ",t.name,`  : ${Ne==null?void 0:Ne.title}`),await Fe(),Z(!1),je(null)}catch(Ne){console.error(Ne),alert("   ")}finally{L(!1)}}},Mt=Ne=>{const ft=`https://picsum.photos/seed/${Math.random()}/800/600`;Ne(me=>({...me,fileUrl:ft}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),o.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Is,{className:"w-4 h-4"}),"  ( 3  4)"]}),o.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(Ql,{className:"w-4 h-4"}),"  ()"]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(mr,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[o.jsx(yh,{className:"w-4 h-4"}),"  "]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[o.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),Ce&&o.jsxs("button",{onClick:()=>R(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[o.jsx(kf,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(Ne=>o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:o.jsx(mr,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800",children:Ne.title}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Ne.year==="Third"&&" ",Ne.year==="Fourth"&&" ",Ne.year==="Pre-Master"&&" ",Ne.year==="Pre-PhD"&&" "," | ",": ",Ne.uploadedBy]}),Ne.description&&o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ne.description}),o.jsx("p",{className:"text-xs text-gray-300 mt-1",children:Ne.date})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("a",{href:Ne.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[o.jsx(gg,{className:"w-4 h-4"})," "]}),Ce&&o.jsx("button",{onClick:()=>{I(Ne.id),V(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},Ne.id)):o.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:o.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),Ce&&o.jsxs("button",{onClick:()=>K(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[o.jsx(kf,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.length>0?w.map(Ne=>o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[o.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[o.jsx("img",{src:Ne.fileUrl,alt:Ne.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${Ne.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:Ne.type==="EXAM"?" ":" "})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:Ne.title}),o.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[Ne.year==="Third"&&" ",Ne.year==="Fourth"&&" ",Ne.year==="Pre-Master"&&" ",Ne.year==="Pre-PhD"&&" "," | ",Ne.date]}),o.jsxs("a",{href:Ne.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[o.jsx(gg,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),Ce&&o.jsx("button",{onClick:()=>{je(Ne.id),Z(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},Ne.id)):o.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:o.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),o.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[o.jsx("h3",{className:"font-bold text-lg",children:" "}),Ce&&o.jsxs("button",{onClick:()=>z(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[o.jsx(kf,{className:"w-3 h-3"})," "]})]}),d.length>0?o.jsx("ul",{className:"space-y-4 text-sm",children:d.map(Ne=>o.jsxs("li",{className:"flex gap-2 relative group",children:[o.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${Ne.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{children:Ne.content}),o.jsx("p",{className:"text-green-300 text-xs mt-1",children:Ne.date})]}),Ce&&o.jsx("button",{onClick:()=>{W(Ne.id),ye(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:o.jsx(pt,{className:"w-4 h-4"})})]},Ne.id))}):o.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:de,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:O.title,onChange:Ne=>U({...O,title:Ne.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:O.year,onChange:Ne=>U({...O,year:Ne.target.value}),children:e==="UG"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Pre-Master",children:" "}),o.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:O.description,onChange:Ne=>U({...O,description:Ne.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:O.fileUrl}),o.jsxs("button",{type:"button",onClick:()=>Mt(U),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[o.jsx(Nr,{className:"w-4 h-4"})," "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:T,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[T?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),X&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:Xe,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:F.title,onChange:Ne=>Y({...F,title:Ne.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:F.type,onChange:Ne=>Y({...F,type:Ne.target.value}),children:[o.jsx("option",{value:"LECTURE",children:" "}),o.jsx("option",{value:"EXAM",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:F.year,onChange:Ne=>Y({...F,year:Ne.target.value}),children:e==="UG"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"Pre-Master",children:" "}),o.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:F.fileUrl}),o.jsxs("button",{type:"button",onClick:()=>Mt(Y),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[o.jsx(Nr,{className:"w-4 h-4"})," "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>K(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:T,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[T?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),D&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:te,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:oe.content,onChange:Ne=>J({...oe,content:Ne.target.value})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"isImportant",checked:oe.isImportant,onChange:Ne=>J({...oe,isImportant:Ne.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),o.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:T,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[T?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Ue,disabled:T,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[T&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),H&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:qe,disabled:T,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[T&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),B&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>ye(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:he,disabled:T,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[T&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},LP=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState(!1),s=H_(),[c,d]=_.useState(!1),[f,h]=_.useState(!1),[p,g]=_.useState(!1),[x,w]=_.useState(null),[E,N]=_.useState(!1),[j,T]=_.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[L,A]=_.useState(null),[R,O]=_.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),U=async()=>{a(!0);const le=await Ume();n(le),a(!1)};_.useEffect(()=>{U()},[]);const k=()=>{s("/users",{state:{initialTab:"ALUMNI"}})},V=async le=>{le.preventDefault(),N(!0);try{await c8({...j,username:j.email.split("@")[0],password:"123"});const W=(t==null?void 0:t.name)||j.name;Ae("  ",W,` : ${j.name} -  ${j.graduationYear}`),alert("   !    ."),d(!1),T({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(W){console.error(W),alert("   ")}finally{N(!1)}},M=le=>{le?(A(le.id),O({title:le.title,company:le.company,description:le.description,contactInfo:le.contactInfo,datePosted:le.datePosted,status:le.status||"OPEN"})):(A(null),O({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),h(!0)},I=async le=>{le.preventDefault(),N(!0);const W=(t==null?void 0:t.name)||"Unknown";try{L?(await zme(L,R),Ae("  ",W,`: ${R.title}`)):(await Vme(R),Ae("  ",W,`: ${R.title} - : ${R.company}`)),h(!1),U()}catch(oe){console.error(oe),alert("    ")}finally{N(!1)}},D=le=>{w(le),g(!0)},z=async()=>{if(x){N(!0);try{const le=e.find(W=>W.id===x);await Bme(x),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${le==null?void 0:le.title}`),n(W=>W.filter(oe=>oe.id!==x)),g(!1),w(null)}catch(le){console.error("Delete failed",le),alert("  "),U()}finally{N(!1)}}},B=(t==null?void 0:t.role)===_e.ADMIN||(t==null?void 0:t.role)===_e.STAFF,ye=B||(t==null?void 0:t.role)===_e.ALUMNI;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),o.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),o.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[o.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[o.jsx(f4,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===_e.ADMIN&&o.jsxs("button",{onClick:k,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[o.jsx(aB,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),o.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:o.jsx(Ps,{className:"w-64 h-64"})})]}),o.jsxs("div",{className:"flex items-center justify-between mt-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[o.jsx(Ps,{className:"w-6 h-6 text-amber-600"}),o.jsx("h2",{children:"  "})]}),ye&&o.jsxs("button",{onClick:()=>M(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[o.jsx(kf,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(le=>o.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${le.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:le.title}),o.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[o.jsx(B9,{className:"w-4 h-4"}),o.jsx("span",{children:le.company})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${le.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:le.status==="CLOSED"?"":" "}),B&&o.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[o.jsx("button",{type:"button",onClick:W=>{W.preventDefault(),W.stopPropagation(),M(le)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:W=>{W.preventDefault(),W.stopPropagation(),D(le.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]}),o.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:le.description}),o.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[o.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),o.jsx("p",{className:"text-amber-600",children:le.contactInfo})]}),o.jsx("div",{className:"mt-4 flex items-center justify-between",children:o.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",le.datePosted]})})]},le.id)),o.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[o.jsx("p",{className:"font-medium",children:"   "}),o.jsx("p",{className:"text-sm mt-1",children:"   "}),ye&&o.jsx("button",{onClick:()=>M(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:j.name,onChange:le=>T({...j,name:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:j.graduationYear,onChange:le=>T({...j,graduationYear:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",value:j.currentJob,onChange:le=>T({...j,currentJob:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"email",required:!0,value:j.email,onChange:le=>T({...j,email:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"tel",required:!0,value:j.phone,onChange:le=>T({...j,phone:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:E,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[E?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]})]})]})]})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:z,disabled:E,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[E&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:L?"  ":"   "}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:I,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:":  ",value:R.title,onChange:le=>O({...R,title:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,value:R.company,onChange:le=>O({...R,company:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:R.status,onChange:le=>O({...R,status:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[o.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),o.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:R.description,onChange:le=>O({...R,description:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:"    ",value:R.contactInfo,onChange:le=>O({...R,contactInfo:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,value:R.datePosted,onChange:le=>O({...R,datePosted:le.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:E,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[E?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]})]})]})]})})]})},ige=()=>{const t=es(),[e,n]=_.useState("STAFF"),[r,a]=_.useState(!1),[s,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState([]),[g,x]=_.useState([]),[w,E]=_.useState([]),[N,j]=_.useState(!1),[T,L]=_.useState(null),[A,R]=_.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});_.useEffect(()=>{t.state&&t.state.initialTab&&n(t.state.initialTab)},[t.state]),_.useEffect(()=>{O()},[e]);const O=async()=>{a(!0),e==="STAFF"?c(await rv()):e==="PG"?f(await l8()):e==="UG"?p(await Ome()):e==="ALUMNI"?x(await kme()):e==="EMPLOYEE"&&E(await jme()),a(!1)},U=M=>{if(M)L(M.id),R({name:M.name||"",email:M.email||"",phone:M.phone||"",whatsapp:M.whatsapp||"",address:M.address||"",subRole:M.subRole||"FACULTY",rank:M.rank||"",specialization:M.specialization||"",degree:M.degree||"MSc",researchTopic:M.researchTopic||"",supervisor:M.supervisor||"",status:M.status||"Researching",year:M.year||"Third",section:M.section||"",graduationYear:M.graduationYear||"",currentJob:M.currentJob||"",jobTitle:M.jobTitle||"",department:M.department||"",username:M.username||"",password:M.password||""});else{L(null);const I="user"+Math.floor(Math.random()*1e3);R({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:I,password:"123"})}j(!0)},k=async(M,I)=>{if(window.confirm("      "))try{e==="STAFF"?await Nme(M):e==="PG"?await Ime(M):e==="UG"?await Pme(M):e==="ALUMNI"?await Lme(M):e==="EMPLOYEE"&&await Ame(M),await Ae(" ","Admin",`  : ${I}   ${e}`),O()}catch(D){console.error("Error deleting user:",D),alert("   ")}},V=async M=>{M.preventDefault();const I={email:A.email,phone:A.phone,whatsapp:A.whatsapp,address:A.address};try{if(e==="STAFF"){const D={name:A.name,...I,subRole:A.subRole,rank:A.rank,specialization:A.specialization,username:A.username,password:A.password};T?await o8(T,D):await _me(D)}else if(e==="PG")if(T){const D={name:A.name,...I,degree:A.degree,researchTopic:A.researchTopic,supervisor:A.supervisor,status:A.status,username:A.username,password:A.password};await B_(T,D)}else{const D={name:A.name,...I,degree:A.degree,researchTopic:A.researchTopic,supervisor:A.supervisor,status:A.status,username:A.username,password:A.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await Cme(D)}else if(e==="UG"){const D={name:A.name,...I,year:A.year,section:A.section,username:A.username,password:A.password};T?await Dme(T,D):await Rme(D)}else if(e==="ALUMNI"){const D={name:A.name,...I,graduationYear:A.graduationYear,currentJob:A.currentJob,username:A.username,password:A.password};T?await Mme(T,D):await c8(D)}else if(e==="EMPLOYEE"){const D={name:A.name,...I,jobTitle:A.jobTitle,department:A.department,username:A.username,password:A.password};T?await Sme(T,D):await Eme(D)}await Ae(T?"  ":"  ","Admin",` ${T?"":""} : ${A.name}   ${e}`),j(!1),O(),alert("   ")}catch(D){console.error("Error saving user:",D),alert("   ")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(f1,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),o.jsxs("button",{onClick:()=>U(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(f4,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:si,label:" "},{id:"EMPLOYEE",icon:r4,label:" "},{id:"PG",icon:Ql,label:" "},{id:"UG",icon:Is,label:" (3  4)"},{id:"ALUMNI",icon:Ps,label:""}].map(M=>o.jsx("button",{onClick:()=>n(M.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${e===M.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(M.icon,{className:"w-4 h-4"})," ",M.label]})},M.id))}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:e==="STAFF"?" ":e==="EMPLOYEE"?" ":e==="PG"?"":e==="UG"?"":" "}),o.jsx("th",{className:"p-4",children:e==="STAFF"?"":e==="EMPLOYEE"?" / ":e==="PG"?"":e==="UG"?"":" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let M=[];return e==="STAFF"?M=s:e==="EMPLOYEE"?M=w:e==="PG"?M=d:e==="UG"?M=h:M=g,M.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):M.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:e==="STAFF"?I.rank:e==="EMPLOYEE"?I.jobTitle:e==="PG"?I.degree:e==="UG"?I.year==="Third"?"":"":I.graduationYear})}),o.jsx("td",{className:"p-4",children:e==="STAFF"?I.specialization:e==="EMPLOYEE"?I.department:e==="PG"?I.supervisor:e==="UG"?I.section||"-":I.currentJob||"-"}),o.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[I.phone&&o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(ub,{className:"w-3 h-3 text-gray-400"})," ",I.phone]}),I.whatsapp&&o.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[o.jsx(D2,{className:"w-3 h-3"})," ",I.whatsapp]}),I.email&&o.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[o.jsx(h1,{className:"w-3 h-3"})," ",I.email]})]}),o.jsx("td",{className:"p-4 font-mono text-gray-600",children:I.username||"-"}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>U(I),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>k(I.id,I.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},I.id))})()})]})})]}),N&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[T?" ":"  ",o.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",e==="STAFF"?" ":e==="EMPLOYEE"?"/":e==="PG"?" ":e==="UG"?" ":"",")"]})]}),o.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.name,onChange:M=>R({...A,name:M.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[o.jsx(ub,{className:"w-4 h-4"}),"   ()"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(ub,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:A.phone,onChange:M=>R({...A,phone:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(D2,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),o.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:A.whatsapp,onChange:M=>R({...A,whatsapp:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(h1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:A.email,onChange:M=>R({...A,email:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(u4,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),o.jsx("input",{type:"text",placeholder:" - ",value:A.address,onChange:M=>R({...A,address:M.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),e==="EMPLOYEE"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":   ",required:!0,value:A.jobTitle,onChange:M=>R({...A,jobTitle:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.department,onChange:M=>R({...A,department:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="STAFF"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.subRole,onChange:M=>R({...A,subRole:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[o.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),o.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.rank,onChange:M=>R({...A,rank:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,value:A.specialization,onChange:M=>R({...A,specialization:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="PG"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{value:A.degree,onChange:M=>R({...A,degree:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"MSc",children:""}),o.jsx("option",{value:"PhD",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.status,onChange:M=>R({...A,status:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"Researching",children:" "}),o.jsx("option",{value:"Writing",children:" "}),o.jsx("option",{value:"Defense",children:""})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.researchTopic,onChange:M=>R({...A,researchTopic:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:A.supervisor,onChange:M=>R({...A,supervisor:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="UG"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsxs("select",{value:A.year,onChange:M=>R({...A,year:M.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[o.jsx("option",{value:"Third",children:" "}),o.jsx("option",{value:"Fourth",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",placeholder:":  ",value:A.section,onChange:M=>R({...A,section:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),e==="ALUMNI"&&o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",placeholder:"2023",required:!0,value:A.graduationYear,onChange:M=>R({...A,graduationYear:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"",value:A.currentJob,onChange:M=>R({...A,currentJob:M.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[o.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[o.jsx(f1,{className:"w-4 h-4"}),"   "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.username,onChange:M=>R({...A,username:M.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,value:A.password,onChange:M=>R({...A,password:M.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),o.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},sge=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[a,s]=_.useState(null),[c,d]=_.useState(0),[f,h]=_.useState(0),[p,g]=_.useState(!1),[x,w]=_.useState(null),[E,N]=_.useState([]),[j,T]=_.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[L,A]=_.useState({title:"",url:"",date:""}),[R,O]=_.useState("UPLOAD"),[U,k]=_.useState({title:"",url:"",archiveId:""}),[V,M]=_.useState(!1);_.useEffect(()=>{I()},[]);const I=async()=>{r(!0);const K=await l8();e(K),d(K.filter(F=>F.alerts.reportOverdue).length),h(K.filter(F=>F.alerts.extensionNeeded).length),r(!1)},D=K=>{s(a===K?null:K)},z=async(K,F,Y)=>{const H=t.find(fe=>fe.id===K);if(!H)return;const Z={...H.dates,[F]:Y};if(F==="lastReport"){const fe=new Date(Y);fe.setMonth(fe.getMonth()+6),Z.nextReportDue=fe.toISOString().split("T")[0]}try{await B_(K,{dates:Z}),I()}catch(fe){console.error(fe),alert("   ")}},B=async K=>{w(K.id),T({protocolUrl:K.documents.protocolUrl||"",toeflUrl:K.documents.toeflUrl||"",publishedPapers:K.documents.publishedPapers?[...K.documents.publishedPapers]:[],otherDocuments:K.documents.otherDocuments?[...K.documents.otherDocuments]:[]}),A({title:"",url:"",date:""}),k({title:"",url:"",archiveId:""}),O("UPLOAD");const Y=(await ul()).filter(H=>H.type===Je.INCOMING||H.type===Je.OUTGOING||H.type===Je.DEPARTMENT_COUNCIL);N(Y),g(!0)},ye=K=>{const F=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;K==="protocol"?T(Y=>({...Y,protocolUrl:F})):K==="toefl"?T(Y=>({...Y,toeflUrl:F})):K==="other"&&k(Y=>({...Y,url:F}))},le=()=>{!L.title||!L.date||(T(K=>({...K,publishedPapers:[...K.publishedPapers,{...L}]})),A({title:"",url:"",date:""}))},W=K=>{T(F=>({...F,publishedPapers:F.publishedPapers.filter((Y,H)=>H!==K)}))},oe=()=>{if(!U.title)return;const K={id:Math.random().toString(36).substr(2,9),title:U.title,date:new Date().toISOString().split("T")[0],type:R};if(R==="UPLOAD"){if(!U.url)return;K.url=U.url}else{if(!U.archiveId)return;const F=E.find(Y=>Y.id===U.archiveId);K.archiveId=U.archiveId,K.archiveSerial=(F==null?void 0:F.serialNumber)||"???"}T(F=>({...F,otherDocuments:[...F.otherDocuments,K]})),k({title:"",url:"",archiveId:""})},J=K=>{T(F=>({...F,otherDocuments:F.otherDocuments.filter((Y,H)=>H!==K)}))},X=async K=>{if(K.preventDefault(),!!x){M(!0);try{const F=t.find(Y=>Y.id===x);if(F){const Y={...F.documents,protocolUrl:j.protocolUrl,toeflUrl:j.toeflUrl,publishedPapers:j.publishedPapers,otherDocuments:j.otherDocuments};await B_(x,{documents:Y}),await I()}g(!1)}catch(F){console.error(F),alert("    ")}finally{M(!1)}}};return n?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 text-sm",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:o.jsx(Ql,{})})]}),o.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),o.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),o.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:o.jsx(Hi,{})})]}),o.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${f>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`${f>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),o.jsx("h3",{className:`text-2xl font-bold ${f>0?"text-amber-800":"text-gray-800"}`,children:f}),f>0&&o.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),o.jsx("div",{className:`${f>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:o.jsx(Yr,{})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:o.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),o.jsx("div",{className:"divide-y",children:t.map(K=>o.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[o.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>D(K.id),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${K.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:K.degree==="PhD"?"D":"M"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800",children:K.name}),o.jsx("p",{className:"text-sm text-gray-500",children:K.researchTopic})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"text-left md:text-right",children:[o.jsx("p",{className:"text-gray-500 text-xs",children:" "}),o.jsx("p",{className:"font-medium",children:K.supervisor})]}),o.jsxs("div",{className:"flex gap-2",children:[K.alerts.reportOverdue&&o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[o.jsx(Hi,{className:"w-3 h-3"}),"  "]}),K.alerts.extensionNeeded&&o.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[o.jsx(Yr,{className:"w-3 h-3"}),"  "]})]}),o.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===K.id?o.jsx(J_,{}):o.jsx(Q_,{})})]})]}),a===K.id&&o.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[o.jsx(yh,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:K.dates.enrollment||"",onChange:F=>z(K.id,"enrollment",F.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:K.dates.registration||"",onChange:F=>z(K.id,"registration",F.target.value)})]})]}),o.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),K.alerts.reportOverdue&&o.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:K.dates.lastReport||"",onChange:F=>z(K.id,"lastReport",F.target.value)}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",o.jsx("span",{className:"font-mono text-gray-600",children:K.dates.nextReportDue||"-"})]})]}),o.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),o.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:K.dates.expectedDefense||"",onChange:F=>z(K.id,"expectedDefense",F.target.value)})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[o.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[o.jsx(mr,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),K.documents.protocolUrl?o.jsxs("a",{href:K.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(yg,{className:"w-3 h-3"})," "]}):o.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),K.documents.toeflUrl?o.jsxs("a",{href:K.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(yg,{className:"w-3 h-3"})," "]}):o.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),K.documents.otherDocuments&&K.documents.otherDocuments.length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[o.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),o.jsx("ul",{className:"space-y-1",children:K.documents.otherDocuments.map((F,Y)=>o.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[F.type==="ARCHIVE_LINK"?o.jsx(R2,{className:"w-3 h-3 text-amber-500"}):o.jsx(mr,{className:"w-3 h-3 text-gray-400"}),o.jsx("span",{className:"truncate",children:F.title})]},Y))})]}),o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsxs("button",{onClick:()=>B(K),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[o.jsx(Zt,{className:"w-3 h-3"}),"   "]})})]})]}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs("button",{onClick:()=>D(K.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})})]})]},K.id))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[o.jsx(Is,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[t.map(K=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:K.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${K.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:K.degree==="PhD"?"":""})}),o.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:K.researchTopic,children:K.researchTopic}),o.jsxs("td",{className:"p-4 text-gray-600",children:[K.supervisor,K.coSupervisors&&o.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",K.coSupervisors]})]}),o.jsx("td",{className:"p-4 font-mono text-gray-500",children:K.dates.registration||"-"}),o.jsx("td",{className:"p-4",children:o.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[K.status==="Researching"&&" ",K.status==="Writing"&&" ",K.status==="Defense"&&" ",K.status==="Granted"&&" ",K.status==="Recording"&&" "]})})]},K.id)),t.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:X,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),o.jsx("input",{type:"text",readOnly:!0,value:j.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),o.jsx("button",{type:"button",onClick:()=>ye("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:o.jsx(Nr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),o.jsx("input",{type:"text",readOnly:!0,value:j.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),o.jsx("button",{type:"button",onClick:()=>ye("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:o.jsx(Nr,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),j.otherDocuments&&j.otherDocuments.length>0?o.jsx("ul",{className:"space-y-2",children:j.otherDocuments.map((K,F)=>o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[K.type==="ARCHIVE_LINK"?o.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:o.jsx(R2,{className:"w-4 h-4"})}):o.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:o.jsx(mr,{className:"w-4 h-4"})}),o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-bold text-gray-800",children:K.title}),K.type==="ARCHIVE_LINK"?o.jsxs("p",{className:"text-amber-600",children:["  : ",K.archiveSerial]}):o.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),o.jsx("button",{type:"button",onClick:()=>J(F),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]},F))}):o.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[o.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[o.jsx("button",{type:"button",onClick:()=>O("UPLOAD"),className:`text-xs font-bold pb-1 ${R==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),o.jsx("button",{type:"button",onClick:()=>O("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${R==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:U.title,onChange:K=>k({...U,title:K.target.value})}),R==="UPLOAD"?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",readOnly:!0,value:U.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),o.jsxs("button",{type:"button",onClick:()=>ye("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[o.jsx(Nr,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):o.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:U.archiveId,onChange:K=>k({...U,archiveId:K.target.value}),children:[o.jsx("option",{value:"",children:"--     --"}),E.map(K=>o.jsxs("option",{value:K.id,children:["[",K.type===Je.INCOMING?"":"","] ",K.serialNumber," - ",K.subject]},K.id))]}),o.jsxs("button",{type:"button",onClick:oe,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[o.jsx(Zt,{className:"w-3 h-3"})," "]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),j.publishedPapers.length>0?o.jsx("ul",{className:"space-y-2",children:j.publishedPapers.map((K,F)=>o.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[o.jsxs("div",{className:"text-xs",children:[o.jsx("p",{className:"font-bold text-gray-800",children:K.title}),o.jsx("p",{className:"text-gray-500",children:K.date})]}),o.jsx("button",{type:"button",onClick:()=>W(F),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]},F))}):o.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[o.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),o.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:L.title,onChange:K=>A({...L,title:K.target.value})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:L.date,onChange:K=>A({...L,date:K.target.value})}),o.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:L.url,onChange:K=>A({...L,url:K.target.value})})]}),o.jsxs("button",{type:"button",onClick:le,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[o.jsx(Zt,{className:"w-3 h-3"}),"  "]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:V,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[V?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," "]})]})]})]})})]})},oge=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState(!0),[s,c]=_.useState(!1),[d,f]=_.useState(!1),[h,p]=_.useState(null),[g,x]=_.useState(null),[w,E]=_.useState(!1),[N,j]=_.useState(null),[T,L]=_.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});_.useEffect(()=>{A()},[]);const A=async()=>{a(!0);const I=await $me();n(I),a(!1)},R=I=>{I?(p(I.id),L({name:I.name,model:I.model,serialNumber:I.serialNumber,status:I.status,location:I.location,assignedTo:I.assignedTo,dateAcquired:I.dateAcquired})):(p(null),L({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),f(!0)},O=async I=>{I.preventDefault(),c(!0);const D=(t==null?void 0:t.name)||"Unknown";try{h?(await qme(h,T),Ae(" ",D,`  : ${T.name}`),alert("    ")):(await Fme(T),Ae(" ",D,`: ${T.name} - ${T.serialNumber}`),alert("   ")),await A(),f(!1)}catch(z){console.error(z),alert("   ")}finally{c(!1)}},U=I=>{j(I),E(!0)},k=async()=>{if(N){c(!0);try{const I=e.find(D=>D.id===N);await Hme(N),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${I==null?void 0:I.name}`),n(D=>D.filter(z=>z.id!==N)),E(!1),j(null)}catch(I){console.error(I),alert("   "),A()}finally{c(!1)}}},V=I=>{switch(I){case"WORKING":return o.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Gr,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return o.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Yr,{className:"w-3 h-3"})," "]});case"BROKEN":return o.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(eN,{className:"w-3 h-3"})," "]})}},M={total:e.length,working:e.filter(I=>I.status==="WORKING").length,maintenance:e.filter(I=>I.status==="MAINTENANCE").length,broken:e.filter(I=>I.status==="BROKEN").length};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(vg,{className:"w-6 h-6 text-blue-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),o.jsxs("button",{onClick:()=>R(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:M.total})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[o.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-green-800",children:M.working})]}),o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[o.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),o.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:M.maintenance})]}),o.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[o.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),o.jsx("h3",{className:"text-2xl font-bold text-red-800",children:M.broken})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:"  (SN)"}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})," ",o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r?o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:I.name}),o.jsx("td",{className:"p-4 text-gray-600",children:I.model}),o.jsx("td",{className:"p-4 font-mono text-gray-500",children:I.serialNumber||"-"}),o.jsx("td",{className:"p-4",children:I.location}),o.jsx("td",{className:"p-4",children:I.assignedTo}),o.jsx("td",{className:"p-4",children:V(I.status)}),o.jsx("td",{className:"p-4",children:o.jsxs("button",{onClick:()=>x(I),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[o.jsx(Jz,{className:"w-4 h-4"}),"QR"]})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[o.jsx("button",{onClick:()=>R(I),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),U(I.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},I.id)),!r&&e.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:h?"  ":"  "}),o.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:T.name,onChange:I=>L({...T,name:I.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:T.model,onChange:I=>L({...T,model:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:T.serialNumber,onChange:I=>L({...T,serialNumber:I.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:T.status,onChange:I=>L({...T,status:I.target.value}),children:[o.jsx("option",{value:"WORKING",children:"  "}),o.jsx("option",{value:"MAINTENANCE",children:" "}),o.jsx("option",{value:"BROKEN",children:" / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:T.dateAcquired,onChange:I=>L({...T,dateAcquired:I.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:T.location,onChange:I=>L({...T,location:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:T.assignedTo,onChange:I=>L({...T,assignedTo:I.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),o.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:o.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),o.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),o.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),o.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:k,disabled:s,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[s&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},lge=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState([]),[d,f]=_.useState(!0),[h,p]=_.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,x]=_.useState(!1),[w,E]=_.useState(null),[N,j]=_.useState({name:"",supervisor:"",location:""}),[T,L]=_.useState(!1),[A,R]=_.useState(null),[O,U]=_.useState(null),[k,V]=_.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[M,I]=_.useState(!1),[D,z]=_.useState(null),[B,ye]=_.useState(!1),[le,W]=_.useState(null),[oe,J]=_.useState(!1),[X,K]=_.useState(null),[F,Y]=_.useState(!1),H=(t==null?void 0:t.role)===_e.ADMIN||(t==null?void 0:t.role)===_e.STAFF;_.useEffect(()=>{Z()},[]);const Z=async()=>{f(!0);const[me,Ke,Ge]=await Promise.all([epe(),Gme(),Xme()]),Nt=me.sort((Ba,$a)=>Ba.date!==$a.date?Ba.date.localeCompare($a.date):Ba.startTime.localeCompare($a.startTime));a(Nt),n(Ke),c(Ge),f(!1)},fe=me=>{me?(E(me.id),j({name:me.name,supervisor:me.supervisor,location:me.location})):(E(null),j({name:"",supervisor:"",location:""})),x(!0)},je=async me=>{me.preventDefault(),Y(!0);const Ke=(t==null?void 0:t.name)||"Unknown";try{w?(await Yme(w,N),Ae(" ",Ke,`   : ${N.name}`)):(await Kme(N),Ae(" ",Ke,`  : ${N.name}`)),await Z(),x(!1)}catch(Ge){console.error(Ge),alert("    ")}finally{Y(!1)}},Ce=async()=>{if(le){Y(!0);try{const me=e.find(Ke=>Ke.id===le);await Wme(le),Ae(" ",(t==null?void 0:t.name)||"Unknown",`  : ${me==null?void 0:me.name}`),await Z(),ye(!1),W(null)}catch(me){console.error(me),alert("   ")}finally{Y(!1)}}},Fe=me=>{R(me),U(null),V({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),L(!0)},de=me=>{U(me.id),V({courseName:me.courseName,instructor:me.instructor,day:me.day,startTime:me.startTime,endTime:me.endTime})},Ue=async me=>{if(me.preventDefault(),!A)return;Y(!0);const Ke=(t==null?void 0:t.name)||"Unknown";try{O?(await Jme(O,k),Ae("  ",Ke,`: ${k.courseName}`),U(null)):(await Qme({...k,labId:A.id}),Ae("  ",Ke,`: ${k.courseName} - : ${A.name}`)),await Z(),V(Ge=>({...Ge,courseName:"",instructor:""}))}catch(Ge){console.error(Ge),alert("    ")}finally{Y(!1)}},te=me=>{K(me),J(!0)},he=async()=>{if(X){Y(!0);try{const me=s.find(Ke=>Ke.id===X);await Zme(X),Ae("  ",(t==null?void 0:t.name)||"Unknown",` : ${me==null?void 0:me.courseName}`),await Z(),J(!1),K(null)}catch{alert(" ")}finally{Y(!1)}}},Xe=me=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[me]||me,qe=async me=>{if(me.preventDefault(),h.endTime<=h.startTime){alert("       ");return}const Ke=h.experimentType.trim().toLowerCase();if(r.some(Nt=>Nt.status==="CANCELLED"||Nt.date!==h.date||Nt.experimentType.trim().toLowerCase()!==Ke?!1:h.startTime<Nt.endTime&&h.endTime>Nt.startTime)){alert(`     / (${h.experimentType})   .    .`);return}Y(!0);try{await tpe({...h,labName:"   ",status:"CONFIRMED"}),Ae(" ",(t==null?void 0:t.name)||h.researcherName,` : ${h.date} - ${h.experimentType}`),await Z(),p(Nt=>({...Nt,experimentType:""})),alert("    ")}catch(Nt){console.error(Nt),alert("   ")}finally{Y(!1)}},Mt=async(me,Ke)=>{try{await npe(me,{status:Ke}),a(Ge=>Ge.map(Nt=>Nt.id===me?{...Nt,status:Ke}:Nt)),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${Ke}`)}catch(Ge){console.error(Ge),alert("  ")}},Ne=async()=>{if(D){Y(!0);try{await rpe(D),Ae("/ ",(t==null?void 0:t.name)||"Unknown","   "),await Z(),I(!1),z(null)}catch(me){console.error(me),alert("   ")}finally{Y(!1)}}},ft=me=>{switch(me){case"CONFIRMED":return o.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Gr,{className:"w-3 h-3"})," "]});case"COMPLETED":return o.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(Z9,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return o.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[o.jsx(eN,{className:"w-3 h-3"})," "]});default:return null}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(d1,{className:"w-6 h-6 text-purple-600"})," "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),H&&o.jsxs("button",{onClick:()=>fe(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[o.jsx(Zt,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(me=>o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[o.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:o.jsx(d1,{className:"w-5 h-5"})}),o.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:me.name}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:me.location}),o.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",me.supervisor]}),o.jsxs("button",{onClick:()=>Fe(me),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[o.jsx(fB,{className:"w-3 h-3"}),"  "]}),H&&o.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>fe(me),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{W(me.id),ye(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]},me.id)),e.length===0&&o.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx(yh,{className:"w-5 h-5"}),"  -   "]}),o.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),o.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Hi,{className:"w-4 h-4"}),"   "]}),o.jsxs("form",{onSubmit:qe,className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.researcherName,onChange:me=>p({...h,researcherName:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),o.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.date,onChange:me=>p({...h,date:me.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.startTime,onChange:me=>p({...h,startTime:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),o.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.endTime,onChange:me=>p({...h,endTime:me.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),o.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.experimentType,onChange:me=>p({...h,experimentType:me.target.value})}),o.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),o.jsxs("button",{type:"submit",disabled:F,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[o.jsx(Zt,{className:"w-4 h-4"}),"  "]})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Gr,{className:"w-4 h-4 text-green-600"}),"  "]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(me=>o.jsxs("tr",{className:`hover:bg-gray-50 ${me.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[o.jsx("td",{className:"p-3 font-mono text-gray-600",children:me.date}),o.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[me.startTime," - ",me.endTime]}),o.jsx("td",{className:"p-3 font-bold text-gray-800",children:me.researcherName}),o.jsx("td",{className:"p-3 text-gray-600",children:me.experimentType}),o.jsx("td",{className:"p-3",children:H?o.jsxs("select",{value:me.status,onChange:Ke=>Mt(me.id,Ke.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${me.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":me.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[o.jsx("option",{value:"CONFIRMED",children:""}),o.jsx("option",{value:"COMPLETED",children:" "}),o.jsx("option",{value:"CANCELLED",children:""})]}):ft(me.status)}),o.jsx("td",{className:"p-3",children:(H||(t==null?void 0:t.name)===me.researcherName)&&o.jsx("button",{onClick:()=>{z(me.id),I(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})})]},me.id)),!d&&r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:w?"  ":"  "}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:je,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:N.name,onChange:me=>j({...N,name:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:N.supervisor,onChange:me=>j({...N,supervisor:me.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:N.location,onChange:me=>j({...N,location:me.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:F,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[F?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"}),""]})]})]})]})}),T&&A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),o.jsx("p",{className:"text-sm text-purple-700",children:A.name})]}),o.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6",children:[H&&o.jsxs("form",{onSubmit:Ue,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[o.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(Zt,{className:"w-4 h-4"})," ",O?"  ":"  "]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[o.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:k.courseName,onChange:me=>V({...k,courseName:me.target.value})}),o.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:k.instructor,onChange:me=>V({...k,instructor:me.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:k.day,onChange:me=>V({...k,day:me.target.value}),children:[o.jsx("option",{value:"Saturday",children:""}),o.jsx("option",{value:"Sunday",children:""}),o.jsx("option",{value:"Monday",children:""}),o.jsx("option",{value:"Tuesday",children:""}),o.jsx("option",{value:"Wednesday",children:""}),o.jsx("option",{value:"Thursday",children:""})]}),o.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:k.startTime,onChange:me=>V({...k,startTime:me.target.value})}),o.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:k.endTime,onChange:me=>V({...k,endTime:me.target.value})})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[O&&o.jsx("button",{type:"button",onClick:()=>{U(null),V(me=>({...me,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),o.jsx("button",{type:"submit",disabled:F,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:O?" ":" "})]})]}),o.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(me=>{const Ke=s.filter(Ge=>Ge.labId===A.id&&Ge.day===me).sort((Ge,Nt)=>Ge.startTime.localeCompare(Nt.startTime));return Ke.length===0?null:o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:Xe(me)}),o.jsx("ul",{className:"space-y-2",children:Ke.map(Ge=>o.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[Ge.startTime," - ",Ge.endTime]}),o.jsx("span",{className:"font-semibold text-gray-800",children:Ge.courseName}),o.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",Ge.instructor,")"]})]}),H&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>de(Ge),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:o.jsx(pr,{className:"w-3 h-3"})}),o.jsx("button",{onClick:()=>te(Ge.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:o.jsx(pt,{className:"w-3 h-3"})})]})]},Ge.id))})]},me)}),s.filter(me=>me.labId===A.id).length===0&&o.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),B&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>ye(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:Ce,disabled:F,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[F&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),oe&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsxs("button",{onClick:he,disabled:F,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[F&&o.jsx(tt,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),M&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:o.jsx(Yr,{className:"w-8 h-8"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),o.jsxs("div",{className:"flex gap-3 w-full",children:[o.jsx("button",{onClick:()=>I(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),o.jsx("button",{onClick:Ne,disabled:F,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},cge=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!0),[d,f]=_.useState(!1),[h,p]=_.useState(!1),[g,x]=_.useState(null),[w,E]=_.useState(!1),[N,j]=_.useState(!1),[T,L]=_.useState(null),[A,R]=_.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});_.useEffect(()=>{O()},[]);const O=async()=>{c(!0);const[I,D]=await Promise.all([ape(),ipe()]);n(I.sort((z,B)=>z.number-B.number)),a(D.sort((z,B)=>B.endDate.localeCompare(z.endDate))),c(!1)},U=I=>{x(I),I.status==="OCCUPIED"?R({researcher:I.researcher||"",plantType:I.plantType||"",notes:I.notes||"",startDate:I.startDate||""}):R({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},k=async I=>{if(I.preventDefault(),!!g){f(!0);try{await kP(g.id,{status:"OCCUPIED",...A}),Ae("  ",(t==null?void 0:t.name)||A.researcher,`    ${g.number}`),await O(),p(!1),alert("    ")}catch(D){console.error(D),alert("   ")}finally{f(!1)}}},V=async()=>{if(g){f(!0);try{g.researcher&&g.plantType&&await spe({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await kP(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Ae("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await O(),E(!1),p(!1),alert("      ")}catch(I){console.error(I),alert("   ")}finally{f(!1)}}},M=async()=>{if(T){f(!0);try{await ope(T),Ae("   ",(t==null?void 0:t.name)||"Unknown","   "),await O(),j(!1),L(null)}catch{alert("  ")}finally{f(!1)}}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(l4,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),o.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),o.jsx("span",{className:"text-green-700",children:" "})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),o.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),s?o.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[o.jsx(tt,{className:"w-8 h-8 animate-spin text-green-600"}),o.jsx("span",{children:"   ..."})]}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(I=>{const D=I.status==="OCCUPIED";return o.jsxs("div",{onClick:()=>U(I),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${D?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[o.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",I.number]}),D?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:o.jsx(wu,{className:"w-8 h-8 text-red-500"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800 truncate",children:I.plantType}),o.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:I.researcher})]}),o.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",I.startDate]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[o.jsx(wu,{className:"w-8 h-8 text-green-400"}),o.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),o.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},I.id)})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[o.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nz,{className:"w-5 h-5 text-gray-600"}),o.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r.map(I=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",I.plotNumber]}),o.jsx("td",{className:"p-4",children:I.researcher}),o.jsx("td",{className:"p-4",children:I.plantType}),o.jsx("td",{className:"p-4 text-gray-500",children:I.startDate}),o.jsx("td",{className:"p-4 text-gray-500",children:I.endDate}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>{L(I.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:o.jsx(pt,{className:"w-4 h-4"})})})]},I.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),h&&g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(wu,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:o.jsx(Bt,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(nN,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.researcher,onChange:I=>R({...A,researcher:I.target.value}),placeholder:"  "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),o.jsxs("div",{className:"relative",children:[o.jsx(wu,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.plantType,onChange:I=>R({...A,plantType:I.target.value}),placeholder:":  ( 95)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(yh,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),o.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.startDate,onChange:I=>R({...A,startDate:I.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),o.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:A.notes,onChange:I=>R({...A,notes:I.target.value}),placeholder:"     ..."})]}),o.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),o.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(Gr,{className:"w-4 h-4"})," "]})]}):o.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[o.jsx(pt,{className:"w-4 h-4"}),"   "]})})]})]})}),w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(Yr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),N&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(pt,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:M,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},uge=({user:t})=>{const[e,n]=_.useState([]),[r,a]=_.useState([]),[s,c]=_.useState(!0),[d,f]=_.useState(!1),[h,p]=_.useState("ALL"),[g,x]=_.useState(!1),[w,E]=_.useState(null),[N,j]=_.useState(!1),[T,L]=_.useState(null),[A,R]=_.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});_.useEffect(()=>{O()},[]),_.useEffect(()=>{a(h==="ALL"?e:e.filter(D=>D.type===h))},[e,h]);const O=async()=>{c(!0);const z=(await ype()).sort((B,ye)=>ye.date.localeCompare(B.date));n(z),c(!1)},U=D=>{D?(E(D.id),R({title:D.title,type:D.type,date:D.date,location:D.location,description:D.description,regLink:D.regLink||"",status:D.status||"UPCOMING"})):(E(null),R({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),x(!0)},k=async D=>{D.preventDefault(),f(!0);const z=(t==null?void 0:t.name)||"Unknown";try{w?(await xpe(w,A),Ae(" ",z,` : ${A.title}`)):(await vpe(A),Ae("  ",z,`: ${A.title}`)),await O(),x(!1),alert(w?"   ":"   ")}catch(B){console.error(B),alert("   ")}finally{f(!1)}},V=async()=>{if(T){f(!0);try{const D=e.find(z=>z.id===T);await bpe(T),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${D==null?void 0:D.title}`),await O(),j(!1),L(null)}catch{alert("  ")}finally{f(!1)}}},M=D=>{switch(D){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:Xz};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:Fz};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:F9};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:si};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:Is};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:m1}}},I=D=>{switch(D){case"UPCOMING":return o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[o.jsx(Hi,{className:"w-3 h-3"})," "]});case"COMPLETED":return o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[o.jsx(Gr,{className:"w-3 h-3"})," "]});case"CANCELLED":return o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[o.jsx(eN,{className:"w-3 h-3"})," "]});default:return null}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(m1,{className:"w-6 h-6 text-purple-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),o.jsxs("button",{onClick:()=>U(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),o.jsx("span",{children:"  "})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[o.jsx(pu,{active:h==="ALL",onClick:()=>p("ALL"),label:""}),o.jsx(pu,{active:h==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),o.jsx(pu,{active:h==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),o.jsx(pu,{active:h==="TRIP",onClick:()=>p("TRIP"),label:" "}),o.jsx(pu,{active:h==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),o.jsx(pu,{active:h==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),s?o.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[o.jsx(tt,{className:"w-8 h-8 animate-spin text-purple-600"}),o.jsx("span",{children:"  ..."})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(D=>{const z=M(D.type),B=z.icon;return o.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${z.border}`,children:[o.jsxs("div",{className:"p-5 flex-1",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${z.bg} ${z.color}`,children:[o.jsx(B,{className:"w-3 h-3"})," ",z.label]}),o.jsxs("div",{className:"flex items-center gap-2",children:[I(D.status),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[o.jsx(yh,{className:"w-3 h-3"})," ",D.date]})]})]}),o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:D.title}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[o.jsx(u4,{className:"w-4 h-4"}),o.jsx("span",{children:D.location})]}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:D.description})]}),o.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[D.regLink&&D.status==="UPCOMING"?o.jsxs("a",{href:D.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",o.jsx(yg,{className:"w-3 h-3"})]}):o.jsx("span",{className:"text-xs text-gray-400 italic",children:D.status==="UPCOMING"?"   ":" "}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>U(D),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>{L(D.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]},D.id)}),r.length===0&&o.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:w?" ":"  "}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Bt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.title,onChange:D=>R({...A,title:D.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:A.type,onChange:D=>R({...A,type:D.target.value}),children:[o.jsx("option",{value:"WORKSHOP",children:" "}),o.jsx("option",{value:"SEMINAR",children:""}),o.jsx("option",{value:"TRIP",children:" / "}),o.jsx("option",{value:"CONFERENCE",children:""}),o.jsx("option",{value:"COURSE",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:A.status,onChange:D=>R({...A,status:D.target.value}),children:[o.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),o.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),o.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.date,onChange:D=>R({...A,date:D.target.value})})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.location,onChange:D=>R({...A,location:D.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),o.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:A.description,onChange:D=>R({...A,description:D.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),o.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:A.regLink,onChange:D=>R({...A,regLink:D.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):w?o.jsx(bn,{className:"w-4 h-4"}):o.jsx(Zt,{className:"w-4 h-4"}),w?" ":" "]})]})]})]})}),N&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(pt,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},pu=({active:t,onClick:e,label:n})=>o.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),dge=()=>{const[t,e]=_.useState([]),[n,r]=_.useState([]),[a,s]=_.useState(!0),[c,d]=_.useState(""),[f,h]=_.useState(!1),[p,g]=_.useState(null),[x,w]=_.useState(!1);_.useEffect(()=>{E()},[]),_.useEffect(()=>{if(!c)r(t);else{const L=c.toLowerCase();r(t.filter(A=>A.action.toLowerCase().includes(L)||A.performedBy.toLowerCase().includes(L)||A.details.toLowerCase().includes(L)))}},[c,t]);const E=async()=>{s(!0);const L=await vme();e(L),r(L),s(!1)},N=L=>{g(L),h(!0)},j=async()=>{if(p){w(!0);try{await xme(p),await E(),h(!1),g(null)}catch(L){console.error(L),alert("  ")}finally{w(!1)}}},T=async()=>{s(!0),await Ae(" ","Admin","     "),await E(),s(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(n4,{className:"w-6 h-6 text-red-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:T,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[o.jsx(kf,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:E,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[o.jsx(p1,{className:"w-4 h-4"})," "]})]})]}),o.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:o.jsxs("div",{className:"relative",children:[o.jsx(ku,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:L=>d(L.target.value)})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:a?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:L.action}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:L.performedBy})}),o.jsx("td",{className:"p-4 text-gray-600",children:L.details}),o.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(L.timestamp).toLocaleString("ar-EG")}),o.jsx("td",{className:"p-4",children:o.jsx("button",{onClick:()=>N(L.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:o.jsx(pt,{className:"w-4 h-4"})})})]},L.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[o.jsx(sB,{className:"w-10 h-10 mb-2 opacity-20"}),o.jsx("p",{children:"     "}),o.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:T,children:"    "})]})})})]})})}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[o.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:o.jsx(Yr,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),o.jsxs("button",{onClick:j,disabled:x,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[x&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},fge=({user:t})=>{const[e,n]=_.useState("COUNCIL"),[r,a]=_.useState(!0),[s,c]=_.useState([]),[d,f]=_.useState([]),h=new Date().getFullYear(),[p,g]=_.useState(`${h}-${h+1}`),[x,w]=_.useState(!1),[E,N]=_.useState(!1),[j,T]=_.useState(null),[L,A]=_.useState(null),[R,O]=_.useState({academicYear:"",members:[]}),[U,k]=_.useState({name:"",academicYear:"",members:[]}),[V,M]=_.useState(null),I=t.role===_e.ADMIN;_.useEffect(()=>{D()},[]);const D=async()=>{a(!0);const[Z,fe]=await Promise.all([wpe(),Epe()]);c(Z),f(fe),a(!1)},z=()=>{const Z=new Set([...s.map(fe=>fe.academicYear),...d.map(fe=>fe.academicYear)]);return Z.add(`${h}-${h+1}`),Array.from(Z).sort().reverse()},B=Z=>{Z?(T(Z.id),O({academicYear:Z.academicYear,members:[...Z.members]})):(T(null),O({academicYear:p,members:[]})),w(!0)},ye=async()=>{if(!R.academicYear){alert("   ");return}try{j?(await Npe(j,R),await Ae("   ",t.name,`     : ${R.academicYear}`)):(await _pe(R),await Ae("   ",t.name,`      : ${R.academicYear}`)),w(!1),D(),alert("   ")}catch(Z){console.error(Z),alert("   ")}},le=async Z=>{if(window.confirm("       "))try{await jpe(Z),await Ae("   ",t.name,"      "),D()}catch(fe){console.error(fe),alert(" ")}},W=Z=>{Z?(A(Z.id),k({name:Z.name,academicYear:Z.academicYear,members:[...Z.members]})):(A(null),k({name:"",academicYear:p,members:[]})),N(!0)},oe=async()=>{if(!U.name||!U.academicYear){alert(" ");return}try{L?(await Ape(L,U),await Ae(" ",t.name,`  ${U.name}  ${U.academicYear}`)):(await Spe(U),await Ae(" ",t.name,`   : ${U.name}  ${U.academicYear}`)),N(!1),D(),alert("   ")}catch(Z){console.error(Z),alert("   ")}},J=async(Z,fe)=>{if(window.confirm(`      ${fe}`))try{await Tpe(Z),await Ae(" ",t.name,`  : ${fe}`),D()}catch(je){console.error(je),alert(" ")}},X=Z=>{Z(fe=>({...fe,members:[...fe.members,{name:"",role:"",title:""}]}))},K=(Z,fe,je,Ce)=>{Z(Fe=>{const de=[...Fe.members];return de[fe]={...de[fe],[je]:Ce},{...Fe,members:de}})},F=(Z,fe)=>{Z(je=>({...je,members:je.members.filter((Ce,Fe)=>Fe!==fe)}))},Y=s.find(Z=>Z.academicYear===p),H=d.filter(Z=>Z.academicYear===p);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Tf,{className:"w-6 h-6 text-indigo-600"}),"  "]}),o.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[o.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),o.jsx("select",{value:p,onChange:Z=>g(Z.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:z().map(Z=>o.jsx("option",{value:Z,children:Z},Z))})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200",children:[o.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[o.jsx(si,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[o.jsx(Tf,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),I&&o.jsxs("button",{onClick:()=>B(Y),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[Y?o.jsx(pr,{className:"w-4 h-4"}):o.jsx(Zt,{className:"w-4 h-4"}),Y?" ":"  "]})]}),Y?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:" (Role)"})]})}),o.jsx("tbody",{className:"divide-y",children:Y.members.map((Z,fe)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 text-gray-500",children:Z.title}),o.jsx("td",{className:"p-4 font-bold text-gray-800",children:Z.name}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${Z.role.includes("")?"bg-indigo-100 text-indigo-700":Z.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:Z.role})})]},fe))})]})}),I&&o.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:o.jsxs("button",{onClick:()=>le(Y.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[o.jsx(pt,{className:"w-3 h-3"}),"   "]})})]}):o.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[o.jsx(si,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"       ."}),I&&o.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),I&&o.jsxs("button",{onClick:()=>W(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[o.jsx(Zt,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[H.map(Z=>o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>M(V===Z.id?null:Z.id),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:o.jsx(Tf,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:Z.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[Z.members.length," "]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[I&&o.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[o.jsx("button",{onClick:fe=>{fe.stopPropagation(),W(Z)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:fe=>{fe.stopPropagation(),J(Z.id,Z.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]}),V===Z.id?o.jsx(J_,{className:"w-5 h-5 text-gray-400"}):o.jsx(Q_,{className:"w-5 h-5 text-gray-400"})]})]}),V===Z.id&&o.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsx("tbody",{children:Z.members.map((fe,je)=>o.jsxs("tr",{children:[o.jsx("td",{className:"py-2 text-gray-500 w-20",children:fe.title}),o.jsx("td",{className:"py-2 font-medium",children:fe.name}),o.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:fe.role})]},je))})]})})]},Z.id)),H.length===0&&o.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[o.jsx(Tf,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),o.jsx("p",{children:"     ."})]})]})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"   ":"  "}),o.jsx("button",{onClick:()=>w(!1),children:o.jsx(Bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:R.academicYear,onChange:Z=>O({...R,academicYear:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),o.jsxs("button",{onClick:()=>X(O),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[o.jsx(Zt,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"space-y-2",children:R.members.map((Z,fe)=>o.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:" (.)",value:Z.title,onChange:je=>K(O,fe,"title",je.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("input",{type:"text",placeholder:" ",value:Z.name,onChange:je=>K(O,fe,"name",je.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),o.jsx("input",{type:"text",placeholder:" (/)",value:Z.role,onChange:je=>K(O,fe,"role",je.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("button",{onClick:()=>F(O,fe),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(pt,{className:"w-4 h-4"})})]},fe))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{onClick:ye,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})]})]})]})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:L?" ":"  "}),o.jsx("button",{onClick:()=>N(!1),children:o.jsx(Bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:U.name,onChange:Z=>k({...U,name:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",value:U.academicYear,onChange:Z=>k({...U,academicYear:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),o.jsxs("button",{onClick:()=>X(k),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[o.jsx(Zt,{className:"w-3 h-3"}),"  "]})]}),o.jsx("div",{className:"space-y-2",children:U.members.map((Z,fe)=>o.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[o.jsx("input",{type:"text",placeholder:"",value:Z.title,onChange:je=>K(k,fe,"title",je.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("input",{type:"text",placeholder:" ",value:Z.name,onChange:je=>K(k,fe,"name",je.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),o.jsx("input",{type:"text",placeholder:"",value:Z.role,onChange:je=>K(k,fe,"role",je.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),o.jsx("button",{onClick:()=>F(k,fe),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(pt,{className:"w-4 h-4"})})]},fe))})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[o.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),o.jsxs("button",{onClick:oe,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},hge=({user:t})=>{const e="2024-2025",[n,r]=_.useState(t.role===_e.ADMIN),[a,s]=_.useState(!0),[c,d]=_.useState(!1),[f,h]=_.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=_.useState(1),[x,w]=_.useState([]),[E,N]=_.useState([]);_.useEffect(()=>{n&&t.role===_e.ADMIN?T():j()},[n,t.id,t.role]);const j=async()=>{s(!0);try{const I=await Cpe(t.id,e);h(I||(D=>({...D,userId:t.id,userName:t.name})))}catch(I){console.error("Error fetching report:",I)}s(!1)},T=async()=>{s(!0);try{const I=await Ope(e),D=await rv();w(I),N(D.map(z=>z.name))}catch(I){console.error("Error fetching dept data:",I)}s(!1)},L=async(I=!1)=>{d(!0);try{const D={...f,status:I?"SUBMITTED":"DRAFT",submissionDate:I?new Date().toISOString():f.submissionDate};await Ipe(D,f.id||void 0),I?(await Ae("  ",t.name,`     ${e}`),alert("    ")):(await Ae("  ",t.name,`     ${e}`),alert("   ")),j()}catch(D){console.error(D),alert("   ")}finally{d(!1)}},A=async()=>{if(!window.confirm("     .   "))return;const I={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};h(D=>({...D,publishedResearch:[...D.publishedResearch,I]})),await Ae(" ",t.name,"        "),alert("   ()")},R=async(I,D)=>{try{const z=await cl(I),B=[...f.publishedResearch];B[D].fileUrl=z,h({...f,publishedResearch:B}),alert("   ")}catch(z){alert("  : "+z.message)}},O=()=>{window.print()},U=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[o.jsx(Is,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),o.jsxs("button",{onClick:A,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[o.jsx(Ez,{className:"w-4 h-4"}),"    "]})]}),f.publishedResearch.map((I,D)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[o.jsx("button",{onClick:()=>{const z=f.publishedResearch.filter((B,ye)=>ye!==D);h({...f,publishedResearch:z})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.title,onChange:z=>{const B=[...f.publishedResearch];B[D].title=z.target.value,h({...f,publishedResearch:B})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:I.journal,onChange:z=>{const B=[...f.publishedResearch];B[D].journal=z.target.value,h({...f,publishedResearch:B})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.type,onChange:z=>{const B=[...f.publishedResearch];B[D].type=z.target.value,h({...f,publishedResearch:B})},children:[o.jsx("option",{value:"International",children:" (International)"}),o.jsx("option",{value:"Regional",children:" (Regional)"}),o.jsx("option",{value:"Local",children:" (Local)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:I.date,onChange:z=>{const B=[...f.publishedResearch];B[D].date=z.target.value,h({...f,publishedResearch:B})}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),o.jsx("div",{className:"flex items-center gap-2",children:I.fileUrl?o.jsxs("a",{href:I.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[o.jsx(mr,{className:"w-4 h-4"}),"  "]}):o.jsxs("div",{className:"relative w-full",children:[o.jsx("input",{type:"file",id:`file-${D}`,className:"hidden",onChange:z=>z.target.files&&R(z.target.files[0],D)}),o.jsxs("label",{htmlFor:`file-${D}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[o.jsx(Nr,{className:"w-4 h-4"}),"  "]})]})})]})]})]},D)),o.jsxs("button",{onClick:()=>h({...f,publishedResearch:[...f.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),"   "]})]}),k=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(vg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),f.ongoingResearch.map((I,D)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[o.jsx("button",{onClick:()=>{const z=f.ongoingResearch.filter((B,ye)=>ye!==D);h({...f,ongoingResearch:z})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:o.jsx(pt,{className:"w-4 h-4"})}),o.jsxs("div",{className:"space-y-3 pl-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.topic,onChange:z=>{const B=[...f.ongoingResearch];B[D].topic=z.target.value,h({...f,ongoingResearch:B})}})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:I.stage,onChange:z=>{const B=[...f.ongoingResearch];B[D].stage=z.target.value,h({...f,ongoingResearch:B})},children:[o.jsx("option",{value:"Data Collection",children:"  "}),o.jsx("option",{value:"Lab Experiments",children:" "}),o.jsx("option",{value:"Writing",children:" "}),o.jsx("option",{value:"Under Review",children:" "})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",I.progress,"%)"]}),o.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:I.progress,onChange:z=>{const B=[...f.ongoingResearch];B[D].progress=parseInt(z.target.value),h({...f,ongoingResearch:B})}})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),o.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:I.participants||"",onChange:z=>{const B=[...f.ongoingResearch];B[D].participants=z.target.value,h({...f,ongoingResearch:B})}})]})]})]},D)),o.jsxs("button",{onClick:()=>h({...f,ongoingResearch:[...f.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Zt,{className:"w-5 h-5"}),"   "]})]}),V=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.thesesJudged,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,thesesJudged:parseInt(I.target.value)}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.supervisionCount,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,supervisionCount:parseInt(I.target.value)}})})]}),o.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:f.scientificActivity.trainingCourses,onChange:I=>h({...f,scientificActivity:{...f.scientificActivity,trainingCourses:I.target.value}})})]})]}),o.jsxs("div",{className:"mt-4 border-t pt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),o.jsx("button",{onClick:()=>h({...f,scientificActivity:{...f.scientificActivity,conferences:[...f.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),f.scientificActivity.conferences.map((I,D)=>o.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[o.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:I.name,onChange:z=>{const B=[...f.scientificActivity.conferences];B[D].name=z.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})}}),o.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:I.role,onChange:z=>{const B=[...f.scientificActivity.conferences];B[D].role=z.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})},children:[o.jsx("option",{value:"Attendance",children:""}),o.jsx("option",{value:"Speaker",children:""}),o.jsx("option",{value:"Organizer",children:""})]}),o.jsx("button",{onClick:()=>{const z=f.scientificActivity.conferences.filter((B,ye)=>ye!==D);h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})},className:"text-red-500",title:"",children:o.jsx(Bt,{className:"w-4 h-4"})})]},D))]})]}),M=()=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx(si,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.books,onChange:I=>h({...f,communityActivity:{...f.communityActivity,books:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.convoys,onChange:I=>h({...f,communityActivity:{...f.communityActivity,convoys:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.media,onChange:I=>h({...f,communityActivity:{...f.communityActivity,media:I.target.value}})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),o.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.memberships,onChange:I=>h({...f,communityActivity:{...f.communityActivity,memberships:I.target.value}})})]})]});if(n&&t.role===_e.ADMIN){if(a)return o.jsx("div",{className:"p-10 text-center",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const I=x.reduce((ye,le)=>{var W;return ye+(((W=le.publishedResearch)==null?void 0:W.length)||0)},0),D=x.reduce((ye,le)=>{var W;return ye+(((W=le.publishedResearch)==null?void 0:W.filter(oe=>oe.type==="International").length)||0)},0),z=x.filter(ye=>ye.status==="SUBMITTED").length,B=[...x].sort((ye,le)=>{var W,oe;return(((W=le.publishedResearch)==null?void 0:W.length)||0)-(((oe=ye.publishedResearch)==null?void 0:oe.length)||0)})[0];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Gr,{className:"w-6 h-6 text-green-600"}),"  "]}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),o.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[o.jsx(Ra,{title:" ",value:`${z} / ${E.length}`,icon:Gr,color:"green"}),o.jsx(Ra,{title:" ",value:I,icon:Is,color:"blue"}),o.jsx(Ra,{title:" ",value:D,icon:tN,color:"purple"}),o.jsx(Ra,{title:" ",value:B?B.userName.split(" ")[0]:"-",icon:Eu,color:"amber"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:" "})]})}),o.jsxs("tbody",{className:"divide-y",children:[E.map((ye,le)=>{var oe,J;const W=x.find(X=>X.userName===ye);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:ye}),o.jsx("td",{className:"p-4",children:(W==null?void 0:W.status)==="SUBMITTED"?o.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(Gr,{className:"w-3 h-3"}),"  "]}):W?o.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(Hi,{className:"w-3 h-3"}),"  "]}):o.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[o.jsx(Z_,{className:"w-3 h-3"}),"  "]})}),o.jsx("td",{className:"p-4 font-mono",children:((oe=W==null?void 0:W.publishedResearch)==null?void 0:oe.length)||0}),o.jsx("td",{className:"p-4 font-mono",children:((J=W==null?void 0:W.ongoingResearch)==null?void 0:J.length)||0}),o.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:W!=null&&W.submissionDate?new Date(W.submissionDate).toLocaleDateString("ar-EG"):"-"})]},le)}),E.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?o.jsx("div",{className:"p-10 text-center",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(mr,{className:"w-6 h-6 text-blue-600"}),"   "]}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===_e.ADMIN&&o.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[o.jsx(si,{className:"w-4 h-4"}),"   "]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-full ${f.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:f.status==="SUBMITTED"?o.jsx(Gr,{className:"w-5 h-5"}):o.jsx(Hi,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),o.jsx("p",{className:`font-bold ${f.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:f.status==="SUBMITTED"?"   ":"   "})]})]}),o.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:o.jsxs("button",{onClick:O,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[o.jsx(gg,{className:"w-4 h-4"}),"  PDF"]})})]}),o.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:Is},{id:2,label:" ",icon:vg},{id:3,label:" ",icon:Eu},{id:4,label:" ",icon:si}].map(I=>o.jsxs("button",{onClick:()=>g(I.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===I.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[o.jsx(I.icon,{className:`w-4 h-4 ${p===I.id?"text-blue-600":"text-gray-400"}`})," ",I.label]},I.id))}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&U(),p===2&&k(),p===3&&V(),p===4&&M(),o.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[o.jsxs("button",{onClick:()=>L(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[o.jsx(bn,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>L(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(d4,{className:"w-4 h-4"}),"   "]})]})]}),o.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[o.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),o.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),o.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),o.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[o.jsxs("p",{children:[o.jsx("strong",{children:" :"})," ",t.name]}),o.jsxs("p",{children:[o.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),o.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.publishedResearch.length>0?f.publishedResearch.map((I,D)=>o.jsxs("li",{className:"pl-2",children:[o.jsx("span",{className:"font-bold",children:I.title}),o.jsx("br",{}),o.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",I.journal," (",I.date,") - [",I.type,"]"]})]},D)):o.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),o.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.ongoingResearch.length>0?f.ongoingResearch.map((I,D)=>o.jsxs("li",{className:"pl-2",children:[o.jsx("span",{className:"font-bold",children:I.topic}),o.jsx("br",{}),o.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",I.stage," ( : ",I.progress,"%)"]})]},D)):o.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),o.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[o.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[o.jsxs("div",{className:"border p-4",children:[o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{children:" :"})," ",f.scientificActivity.thesesJudged]}),o.jsxs("p",{className:"mb-2",children:[o.jsx("strong",{children:" :"})," ",f.scientificActivity.supervisionCount]}),o.jsx("p",{children:o.jsx("strong",{children:" :"})}),o.jsx("p",{className:"text-sm mt-1",children:f.scientificActivity.trainingCourses||" "})]}),o.jsxs("div",{className:"border p-4",children:[o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",f.scientificActivity.conferences.length>0?f.scientificActivity.conferences.map(I=>I.name).join(" "):" "]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:" :"})," ",f.communityActivity.books||" "]})]})]})]}),o.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:" "}),o.jsx("p",{className:"mt-8",children:"...................."})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{children:"  "}),o.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},mge=({user:t})=>{const[e,n]=_.useState("BROWSE"),[r,a]=_.useState(null),[s,c]=_.useState([]),[d,f]=_.useState(null),[h,p]=_.useState(""),[g,x]=_.useState("ALL"),[w,E]=_.useState(!1),[N,j]=_.useState(null),[T,L]=_.useState({title:"",axisId:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[A,R]=_.useState(null),O=t.role===_e.ADMIN;_.useEffect(()=>{U()},[]);const U=async()=>{const X=await u8();if(a(X),O||e==="PROPOSALS"){const K=await Rpe();c(K)}},k=X=>{if(!r||X.length<5){R(null);return}let K=!1;r.axes.forEach(F=>{F.topics.forEach(Y=>{(Y.title.includes(X)||X.includes(Y.title))&&(R(` :     "${Y.title}" (${Y.status==="COMPLETED"?" ":" "}).`),K=!0)})}),K||R(null)},V=()=>{j(null),L({title:"",axisId:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),E(!0)},M=X=>{j(X.id),L({title:X.title,axisId:X.axisId,type:X.type,justification:X.justification,appliedGoal:X.appliedGoal,studentName:X.studentName||"",hasStudent:!!X.studentName}),E(!0)},I=async(X,K)=>{if(window.confirm("      "))try{await un(Be(ge,"research_proposals",X)),await Ae("  ",t.name,`  : ${K}`),U()}catch{alert(" ")}},D=async X=>{X.preventDefault();try{const K={title:T.title,axisId:T.axisId,type:T.type,justification:T.justification,appliedGoal:T.appliedGoal,studentName:T.hasStudent?T.studentName:void 0,proposedBy:t.name,proposedById:t.id,status:"PENDING"};N?(await Pt(Be(ge,"research_proposals",N),K),await Ae("  ",t.name,`  : ${T.title}`)):(await Dpe(K),await Ae("  ",t.name,`   : ${T.title}`)),E(!1),alert(N?"   ":"     "),U()}catch{alert("   ")}},z=async(X,K,F)=>{const Y=prompt("  ():");Y!==null&&(await Ppe(X,F,Y||""),await Ae("  ",t.name,` ${F==="APPROVED"?"":F==="REJECTED"?"":" "} : ${K}`),U())},B=async(X,K,F)=>{if(!(!r||!O)&&window.confirm("         "))try{const Y=r.axes.map(H=>H.id===X?{...H,topics:H.topics.filter(Z=>Z.id!==K)}:H);await Pt(Be(ge,"research_plans",r.id),{axes:Y}),await Ae("   ",t.name,`  : ${F}`),U()}catch(Y){console.error(Y),alert("  ")}},ye=async(X,K,F,Y)=>{if(!(!r||!O))try{const H=r.axes.map(Z=>{if(Z.id===X){const fe=Z.topics.map(je=>je.id===K?{...je,status:F}:je);return{...Z,topics:fe}}return Z});await Pt(Be(ge,"research_plans",r.id),{axes:H}),await Ae("   ",t.name,`  "${Y}"  ${F}`),U()}catch{alert("  ")}};if(!r)return o.jsx("div",{className:"p-8 text-center",children:"  ..."});const le=()=>o.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),o.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),o.jsx("span",{className:`bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30 ${r.status==="ACTIVE"?"bg-green-500/20":"bg-red-500/20"}`,children:r.status==="ACTIVE"?"  ":" "})]}),o.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((X,K)=>o.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[o.jsx(Cf,{className:"w-3 h-3 text-green-300"})," ",X]},K))})]}),o.jsx(Cf,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),W=()=>o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ku,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:h,onChange:X=>p(X.target.value)})]}),o.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:g,onChange:X=>x(X.target.value),children:[o.jsx("option",{value:"ALL",children:" "}),o.jsx("option",{value:"AVAILABLE",children:" "}),o.jsx("option",{value:"IN_PROGRESS",children:"  "}),o.jsx("option",{value:"COMPLETED",children:" "})]})]}),o.jsx("div",{className:"space-y-4",children:r.axes.map(X=>{const K=X.topics.filter(Y=>(g==="ALL"||Y.status===g)&&Y.title.toLowerCase().includes(h.toLowerCase()));if(K.length===0&&h)return null;const F=Math.round(X.topics.filter(Y=>Y.status==="COMPLETED").length/X.topics.length*100)||0;return o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>f(d===X.id?null:X.id),children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[d===X.id?o.jsx(J_,{className:"w-5 h-5"}):o.jsx(Q_,{className:"w-5 h-5"}),X.title]}),o.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",X.coordinator]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-center hidden md:block",children:[o.jsx("div",{className:"text-xs text-gray-500",children:" "}),o.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:o.jsx("div",{className:"h-full bg-green-500",style:{width:`${F}%`}})})]}),o.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[K.length," "]})]})]}),d===X.id&&o.jsxs("div",{className:"p-4 border-t border-gray-100",children:[o.jsxs("p",{className:"text-gray-600 mb-4 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm",children:[" ",X.description]}),o.jsx("div",{className:"grid gap-3",children:K.map(Y=>o.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-gray-800",children:Y.title}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Y.status==="AVAILABLE"?"bg-green-100 text-green-700":Y.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:Y.status==="AVAILABLE"?" ":Y.status==="IN_PROGRESS"?" ":" "})]}),o.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[o.jsx(Cf,{className:"w-3 h-3"})," : ",Y.goal]}),Y.studentName&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[o.jsx(nN,{className:"w-3 h-3"}),"  : ",Y.studentName]})]}),o.jsx("div",{className:"flex items-center gap-2",children:O?o.jsxs(o.Fragment,{children:[o.jsxs("select",{className:"text-xs border rounded p-1 bg-white",value:Y.status,onChange:H=>ye(X.id,Y.id,H.target.value,Y.title),children:[o.jsx("option",{value:"AVAILABLE",children:""}),o.jsx("option",{value:"IN_PROGRESS",children:" "}),o.jsx("option",{value:"COMPLETED",children:""})]}),o.jsx("button",{onClick:()=>B(X.id,Y.id,Y.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})]}):Y.status==="AVAILABLE"&&o.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},Y.id))})]})]},X.id)})})]}),oe=()=>o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),o.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),o.jsxs("button",{onClick:V,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[o.jsx(Zt,{className:"w-5 h-5"}),"    "]})]}),o.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",O&&o.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[s.filter(X=>X.status==="PENDING").length,"  "]})]}),o.jsxs("div",{className:"space-y-3",children:[s.length===0&&o.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),s.map(X=>{var K;return o.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-bold text-lg",children:X.title}),o.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${X.status==="PENDING"?"bg-amber-100 text-amber-800":X.status==="APPROVED"?"bg-green-100 text-green-800":X.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:X.status==="PENDING"?" ":X.status==="APPROVED"?" ":X.status==="REJECTED"?"":" "})]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[o.jsx("strong",{children:" :"})," ",X.proposedBy," | ",o.jsx("strong",{children:":"})," ",((K=r.axes.find(F=>F.id===X.axisId))==null?void 0:K.title)||" "]}),o.jsxs("p",{className:"text-sm text-gray-500",children:[o.jsx("strong",{children:":"})," ",X.justification]}),X.adminNotes&&o.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",X.adminNotes]})]}),o.jsx("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:O&&X.status==="PENDING"?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>z(X.id,X.title,"APPROVED"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),o.jsx("button",{onClick:()=>z(X.id,X.title,"MODIFICATION_REQUESTED"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),o.jsx("button",{onClick:()=>z(X.id,X.title,"REJECTED"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):X.proposedById===t.id&&X.status==="PENDING"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>M(X),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>I(X.id,X.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]})})]},X.id)})]})]}),J=()=>{const X=r.axes.reduce((H,Z)=>H+Z.topics.length,0),K=r.axes.reduce((H,Z)=>H+Z.topics.filter(fe=>fe.status==="COMPLETED").length,0),F=r.axes.map(H=>({name:H.title.split(" ").slice(0,3).join(" ")+"...",value:H.topics.length})),Y=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:X}),o.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[o.jsx("h3",{className:"text-2xl font-bold text-green-700",children:K}),o.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[o.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[X>0?Math.round(K/X*100):0,"%"]}),o.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),o.jsx(kk,{width:"100%",height:"90%",children:o.jsxs(Nie,{children:[o.jsx(k6,{data:F,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:F.map((H,Z)=>o.jsx(Uh,{fill:Y[Z%Y.length]},`cell-${Z}`))}),o.jsx(d6,{})]})})]}),o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),o.jsx("div",{className:"space-y-3",children:r.strategicGoals.map((H,Z)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("span",{className:"flex items-center gap-2 font-bold text-gray-700",children:[o.jsx(Cf,{className:"w-4 h-4 text-red-500"})," ",H]}),o.jsx("span",{className:"text-xs bg-white border px-2 py-1 rounded text-gray-500",children:""})]},Z))})]})]})]})};return o.jsxs("div",{className:"space-y-6",children:[le(),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[o.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(ku,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(mr,{className:"w-4 h-4"}),"  "]}),o.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[o.jsx(K9,{className:"w-4 h-4"}),"  "]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&W(),e==="PROPOSALS"&&oe(),e==="ANALYTICS"&&J()]}),w&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N?"  ":"   "}),o.jsx("button",{onClick:()=>E(!1),children:o.jsx(Bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("form",{onSubmit:D,className:"p-6 space-y-5",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:T.title,onChange:X=>{L({...T,title:X.target.value}),k(X.target.value)}}),A&&o.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[o.jsx(Z_,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:A})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:T.axisId,onChange:X=>L({...T,axisId:X.target.value}),children:[o.jsx("option",{value:"",children:"--   --"}),r.axes.map(X=>o.jsx("option",{value:X.id,children:X.title},X.id)),o.jsx("option",{value:"NEW",children:"  / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:T.type,onChange:X=>L({...T,type:X.target.value}),children:[o.jsx("option",{value:"MSc",children:""}),o.jsx("option",{value:"PhD",children:""})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"      (   ...)",value:T.justification,onChange:X=>L({...T,justification:X.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:T.appliedGoal,onChange:X=>L({...T,appliedGoal:X.target.value})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:T.hasStudent,onChange:X=>L({...T,hasStudent:X.target.checked})}),o.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),T.hasStudent&&o.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:T.studentName,onChange:X=>L({...T,studentName:X.target.value})})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),o.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[o.jsx(d4,{className:"w-4 h-4"})," ",N?" ":" "]})]})]})]})})]})},pge=({user:t})=>{const[e,n]=_.useState("DASHBOARD"),[r,a]=_.useState([]),[s,c]=_.useState([]),[d,f]=_.useState([]),[h,p]=_.useState(!0),[g,x]=_.useState(!1),[w,E]=_.useState(null),[N,j]=_.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[T,L]=_.useState([]),[A,R]=_.useState(!1),[O,U]=_.useState(null),[k,V]=_.useState(null),[M,I]=_.useState("");_.useEffect(()=>{D()},[]);const D=async()=>{p(!0);try{const[H,Z,fe]=await Promise.all([Mpe(t.id),Lpe(t.id),rv()]);a(H),c(Z),f(fe.filter(je=>je.id!==t.id))}catch(H){console.error("Error fetching data:",H)}p(!1)},z=()=>{if(!N.startDate||!N.endDate)return 0;const H=new Date(N.startDate),fe=new Date(N.endDate).getTime()-H.getTime();return Math.ceil(fe/(1e3*3600*24))+1},B=H=>{switch(H){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return H}},ye=()=>{x(!1),E(null),j({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),L([]),n("NEW")},le=H=>{if(H.status==="APPROVED"||H.status==="REJECTED"){alert("    ");return}x(!0),E(H.id),j({type:H.type,startDate:H.startDate,endDate:H.endDate,substituteId:H.substituteId||"",address:H.address||"",phone:H.phone||"",hospital:H.hospital||"",conferenceName:H.conferenceName||"",conferenceLocation:H.conferenceLocation||"",spouseName:H.spouseName||"",spouseJob:H.spouseJob||"",country:H.country||""}),L([]),n("NEW")},W=async(H,Z)=>{if(window.confirm("      "))try{await un(Be(ge,"leave_requests",H)),await Ae("  ",t.name,`   ${B(Z)}`),D()}catch{alert(" ")}},oe=async H=>{var fe;H.preventDefault();const Z=z();if(Z<=0){alert("      ");return}if(N.type==="CASUAL"&&!g){const je=r.filter(Ce=>Ce.type==="CASUAL"&&Ce.status==="APPROVED").reduce((Ce,Fe)=>Ce+Fe.daysCount,0);if(je+Z>7){alert(`     (${7-je} )  .`);return}}R(!0);try{const je=[];for(const de of T){const Ue=await cl(de);je.push(Ue)}const Ce=(fe=d.find(de=>de.id===N.substituteId))==null?void 0:fe.name,Fe={userId:t.id,userName:t.name,type:N.type,startDate:N.startDate,endDate:N.endDate,daysCount:Z,substituteId:N.substituteId,substituteName:Ce,address:N.address,phone:N.phone,hospital:N.hospital,conferenceName:N.conferenceName,conferenceLocation:N.conferenceLocation,spouseName:N.spouseName,spouseJob:N.spouseJob,country:N.country,...je.length>0&&{documentsUrls:je,medicalReportUrl:je[0]}};g&&w?(await Pt(Be(ge,"leave_requests",w),Fe),await Ae("  ",t.name,`   ${B(N.type)}`),alert("   ")):(await kpe(Fe),await Ae(" ",t.name,`  ${B(N.type)}  ${Z} `),alert("   ")),n("HISTORY"),D()}catch(je){console.error(je),alert("   ")}finally{R(!1)}},J=async H=>{if(O)try{await Upe(O.id,H,M),await Ae("  ",t.name,`${H?"":""}   ${O.userName}`),alert("  "),U(null),V(null),D()}catch{alert(" ")}},X=()=>{const H=r.filter(fe=>fe.type==="CASUAL"&&fe.status==="APPROVED").reduce((fe,je)=>fe+je.daysCount,0),Z=r.filter(fe=>fe.status.includes("PENDING")).length;return o.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),o.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-H," ",o.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),o.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:o.jsx(Hi,{className:"w-6 h-6 text-orange-600"})})]}),o.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${H/7*100}%`}})})]}),o.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),o.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:Z})]}),o.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:o.jsx(mr,{className:"w-6 h-6 text-blue-600"})})]}),o.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),o.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),o.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:s.length})]}),o.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[o.jsx(P2,{className:"w-6 h-6 text-purple-600"}),s.length>0&&o.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),o.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]})]}),o.jsxs("button",{onClick:ye,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[o.jsx(Zt,{className:"w-6 h-6"}),"    "]})]})},K=()=>o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[o.jsx(Zp,{className:"w-6 h-6 text-green-600"})," ",g?"  ":"  "]}),g&&o.jsx("button",{onClick:ye,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),o.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:N.type,onChange:H=>j({...N,type:H.target.value}),disabled:g,children:[o.jsx("option",{value:"CASUAL",children:" "}),o.jsx("option",{value:"ANNUAL",children:" "}),o.jsx("option",{value:"SICK",children:" "}),o.jsx("option",{value:"SCIENTIFIC",children:"  / "}),o.jsx("option",{value:"SPOUSE",children:" /"}),o.jsx("option",{value:"CHILD_CARE",children:" "}),o.jsx("option",{value:"HAJJ",children:" / "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:N.startDate,onChange:H=>j({...N,startDate:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:N.endDate,onChange:H=>j({...N,endDate:H.target.value})}),z()>0&&o.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",z()," "]})]})]}),o.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[o.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[o.jsx(P2,{className:"w-4 h-4"}),"   ( )"]}),o.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:N.substituteId,onChange:H=>j({...N,substituteId:H.target.value}),required:N.type!=="CHILD_CARE"&&N.type!=="SPOUSE",children:[o.jsx("option",{value:"",children:"--   --"}),d.map(H=>o.jsxs("option",{value:H.id,children:[H.name," (",H.rank,")"]},H.id))]}),o.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"*        ."})]}),(N.type==="CASUAL"||N.type==="ANNUAL"||N.type==="HAJJ")&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:N.address,onChange:H=>j({...N,address:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:N.phone,onChange:H=>j({...N,phone:H.target.value})})]})]}),N.type==="SICK"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:N.hospital,onChange:H=>j({...N,hospital:H.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:H=>L(Array.from(H.target.files||[]))}),o.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[o.jsx(uB,{className:"w-8 h-8 text-red-500"}),o.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),T.length>0&&o.jsx("span",{className:"text-xs text-green-600",children:T[0].name})]})]})]}),N.type==="SCIENTIFIC"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:N.conferenceName,onChange:H=>j({...N,conferenceName:H.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:N.conferenceLocation,onChange:H=>j({...N,conferenceLocation:H.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:H=>L(Array.from(H.target.files||[]))}),o.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:T.length>0?T[0].name:"  "})]})]}),N.type==="SPOUSE"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[o.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(My,{className:"w-4 h-4"}),"  "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:N.spouseName,onChange:H=>j({...N,spouseName:H.target.value})}),o.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:N.foreignEntity,onChange:H=>j({...N,foreignEntity:H.target.value})}),o.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:N.country,onChange:H=>j({...N,country:H.target.value})})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:H=>L(Array.from(H.target.files||[]))}),o.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[o.jsx(Nr,{className:"w-6 h-6 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),T.length>0&&o.jsxs("span",{className:"text-xs text-green-600",children:[T.length,"   "]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),o.jsxs("button",{type:"submit",disabled:A,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[A?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):g?o.jsx(bn,{className:"w-5 h-5"}):o.jsx(Gr,{className:"w-5 h-5"}),g?" ":" "]})]})]})]}),F=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),s.length===0&&o.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),o.jsx("div",{className:"grid gap-4",children:s.map(H=>o.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),o.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:H.userName})]}),o.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",o.jsx("span",{className:"font-bold",children:B(H.type)})]}),o.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[o.jsxs("span",{children:[": ",H.startDate]}),o.jsxs("span",{children:[": ",H.endDate]}),o.jsxs("span",{children:["(",H.daysCount," )"]})]})]}),o.jsx("button",{onClick:()=>{U(H),V(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},H.id))}),O&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[o.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[o.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),o.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",O.userName]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[o.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(Zp,{className:"w-4 h-4"}),"    "]}),o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"text-gray-500 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""}),o.jsx("th",{className:"pb-2",children:""})]})}),o.jsxs("tbody",{className:"font-medium text-gray-800",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"py-2",children:""}),o.jsx("td",{children:"10:00 - 12:00"}),o.jsx("td",{children:" ()"}),o.jsx("td",{children:" "})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"py-2",children:""}),o.jsx("td",{children:"02:00 - 04:00"}),o.jsx("td",{children:" ()"}),o.jsx("td",{children:" 3"})]})]})]}),o.jsx("div",{className:"mt-3 bg-yellow-50 text-yellow-800 text-xs p-2 rounded border border-yellow-100",children:"          ."})]}),o.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',o.jsx("strong",{children:t.name}),"                 / ",o.jsx("strong",{children:O.userName}),'      ."']}),k?k==="ACCEPT"?o.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[o.jsx(Gr,{className:"w-16 h-16 text-green-500 mx-auto"}),o.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),o.jsx("button",{onClick:()=>J(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),o.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:M,onChange:H=>I(H.target.value)}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>V(null),className:"px-4 text-gray-500",children:""}),o.jsx("button",{onClick:()=>J(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:()=>V("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),o.jsx("button",{onClick:()=>V("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),o.jsx("div",{className:"absolute top-4 left-4",children:o.jsx("button",{onClick:()=>U(null),children:o.jsx(Bt,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),Y=()=>o.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[o.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:" "}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""}),o.jsx("th",{className:"p-4",children:""})]})}),o.jsxs("tbody",{className:"divide-y",children:[r.map(H=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-4 font-bold text-gray-800",children:B(H.type)}),o.jsx("td",{className:"p-4",children:H.startDate}),o.jsx("td",{className:"p-4",children:H.endDate}),o.jsx("td",{className:"p-4 text-gray-600",children:H.substituteName||"-"}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${H.status==="APPROVED"?"bg-green-100 text-green-700":H.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:H.status==="APPROVED"?"":H.status==="PENDING_SUBSTITUTE"?" ":H.status==="PENDING_HEAD"?" ":""})}),o.jsxs("td",{className:"p-4 flex gap-2",children:[(H.status==="PENDING_SUBSTITUTE"||H.status==="PENDING_HEAD")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>le(H),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:" ",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>W(H.id,H.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:" ",children:o.jsx(pt,{className:"w-4 h-4"})})]}),H.status==="APPROVED"&&o.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[o.jsx(mr,{className:"w-3 h-3"})," "]})]})]},H.id)),r.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Zp,{className:"w-8 h-8 text-green-600"}),"  "]})}),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[o.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),o.jsx("button",{onClick:ye,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),o.jsxs("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors flex items-center gap-2 ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700 bg-purple-50":"text-gray-500 hover:text-purple-600"}`,children:["  ",s.length>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:s.length})]}),o.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "})]}),o.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&X(),e==="NEW"&&K(),e==="SUBSTITUTE"&&F(),e==="HISTORY"&&Y()]})]})},gge=({user:t})=>{const[e,n]=_.useState("LOAN"),[r,a]=_.useState([]),[s,c]=_.useState(!0),[d,f]=_.useState(!1),[h,p]=_.useState(0),g=t.role===_e.ADMIN,[x,w]=_.useState("MY_REQUESTS"),[E,N]=_.useState(!1),[j,T]=_.useState(null),[L,A]=_.useState({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),[R,O]=_.useState({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),[U,k]=_.useState({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"}),[V,M]=_.useState([]);_.useEffect(()=>{I()},[x]);const I=async()=>{c(!0);try{g&&x==="ALL_REQUESTS"?a(await zpe()):(a(await Vpe(t.id)),(!g||x==="MY_REQUESTS")&&p(await $pe(t.id)))}catch(J){console.error("Error fetching data:",J)}c(!1)},D=J=>{M([]),J?(T(J.id),J.type==="LOAN"?(A({...J}),n("LOAN")):J.type==="SECONDMENT"?(O({...J}),n("SECONDMENT")):(k({...J}),n("TRANSFER"))):(T(null),A({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),O({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),k({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"})),N(!0)},z=async(J,X)=>{if(window.confirm("      "))try{await un(Be(ge,"career_requests",J)),await Ae("  /",t.name,`   ${X}`),I()}catch{alert(" ")}},B=async(J,X,K)=>{try{await Bpe(J,X),await Ae("  ",t.name,`    ${K}  ${X}`),I()}catch{alert("  ")}},ye=async J=>{try{return await cl(J)}catch(X){return alert("  : "+X.message),null}},le=async J=>{J.preventDefault(),f(!0);try{if(e==="LOAN"){if(h>=10&&!j){alert("      (10 )."),f(!1);return}let X;if(V.length>0){const F=await ye(V[0]);F&&(X=F)}const K={userId:t.id,userName:t.name,type:"LOAN",...L,...X&&{nominationLetterUrl:X},status:j?void 0:"PENDING_DEPT"};if(j){const F={...K};delete F.status,X||delete F.nominationLetterUrl,await Pt(Be(ge,"career_requests",j),F),await Ae("  ",t.name,`    ${L.country}`)}else await l1(K),await Ae(" ",t.name,`    ${L.country}`)}else if(e==="SECONDMENT"){const X={userId:t.id,userName:t.name,type:"SECONDMENT",...R,status:j?void 0:"PENDING_DEPT"};if(j){const K={...X};delete K.status,await Pt(Be(ge,"career_requests",j),K),await Ae("  ",t.name,`    ${R.targetInstitution}`)}else await l1(X),await Ae(" ",t.name,`   ${R.targetInstitution}`)}else if(e==="TRANSFER"){const X={userId:t.id,userName:t.name,type:"TRANSFER",...U,status:j?void 0:"PENDING_DEPT"};if(j){const K={...X};delete K.status,await Pt(Be(ge,"career_requests",j),K),await Ae("  ",t.name,`    ${U.targetUniversity}`)}else await l1(X),await Ae(" ",t.name,`   ${U.targetUniversity}`)}N(!1),alert(j?"   ":"    "),I()}catch(X){console.error(X),alert("   ")}finally{f(!1)}},W=({status:J})=>{const K={PENDING_DEPT:{label:" ",color:"bg-yellow-100 text-yellow-800"},PENDING_COLLEGE:{label:" ",color:"bg-orange-100 text-orange-800"},PENDING_UNIV:{label:" ",color:"bg-blue-100 text-blue-800"},APPROVED:{label:" ",color:"bg-green-100 text-green-800"},REJECTED:{label:"",color:"bg-red-100 text-red-800"}}[J]||{label:J,color:"bg-gray-100"};return o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${K.color}`,children:K.label})},oe=({status:J})=>{const X=["PENDING_DEPT","PENDING_COLLEGE","PENDING_UNIV","APPROVED"],K=X.indexOf(J),F=J==="REJECTED";return o.jsx("div",{className:"flex items-center gap-1 mt-2 text-[10px]",children:X.map((Y,H)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border 
                            ${H<=K?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-300"}
                            ${F&&H===K+1?"bg-red-500 border-red-500":""}
                        `,children:H+1}),H<X.length-1&&o.jsx("div",{className:`w-4 h-0.5 ${H<K?"bg-green-600":"bg-gray-200"}`})]},Y))})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(My,{className:"w-8 h-8 text-blue-600"}),"  "]}),o.jsxs("div",{className:"flex gap-2",children:[g&&o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>w("MY_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="MY_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""}),o.jsx("button",{onClick:()=>w("ALL_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="ALL_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""})]}),(!g||x==="MY_REQUESTS")&&o.jsxs("button",{onClick:()=>D(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold",children:[o.jsx(Zt,{className:"w-4 h-4"}),"  "]})]})]}),!g&&o.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${h>=10?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hi,{className:`w-6 h-6 ${h>=10?"text-red-600":"text-blue-600"}`}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-bold ${h>=10?"text-red-800":"text-blue-800"}`,children:"  "}),o.jsx("p",{className:"text-xs text-gray-600",children:"      10    ."})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("span",{className:`text-2xl font-bold ${h>=10?"text-red-600":"text-blue-600"}`,children:h}),o.jsx("span",{className:"text-gray-500 text-xs",children:" / 10 "})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[o.jsxs("button",{onClick:()=>n("LOAN"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="LOAN"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(tN,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>n("SECONDMENT"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="SECONDMENT"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(Ps,{className:"w-4 h-4"})," "]}),o.jsxs("button",{onClick:()=>n("TRANSFER"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="TRANSFER"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[o.jsx(k9,{className:"w-4 h-4"})," "]})]}),o.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:s?o.jsx("div",{className:"text-center py-10",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsx("div",{children:r.filter(J=>J.type===e).length===0?o.jsxs("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed rounded-xl",children:[o.jsx(Ps,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),o.jsx("p",{children:"      "})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-right",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:" "}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:" / "}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""}),o.jsx("th",{className:"p-3",children:""})]})}),o.jsx("tbody",{className:"divide-y",children:r.filter(J=>J.type===e).map(J=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"p-3 font-bold text-gray-800",children:J.userName}),o.jsx("td",{className:"p-3 text-xs",children:J.type==="LOAN"?J.loanType==="EXTERNAL"?"":"":J.type==="SECONDMENT"?J.secondmentType:J.transferType}),o.jsx("td",{className:"p-3 text-gray-600",children:J.type==="LOAN"?J.institution:J.type==="SECONDMENT"?J.targetInstitution:J.targetUniversity}),o.jsx("td",{className:"p-3 font-mono text-xs",children:J.type!=="TRANSFER"?o.jsxs(o.Fragment,{children:[J.startDate," ",o.jsx("br",{}),o.jsx("span",{className:"text-gray-400",children:""})," ",J.endDate]}):"-"}),o.jsx("td",{className:"p-3",children:o.jsx(W,{status:J.status})}),o.jsx("td",{className:"p-3",children:o.jsx(oe,{status:J.status})}),o.jsxs("td",{className:"p-3 flex items-center gap-2",children:[g&&x==="ALL_REQUESTS"&&o.jsxs("select",{className:"text-xs border rounded p-1",value:J.status,onChange:X=>B(J.id,X.target.value,J.type),children:[o.jsx("option",{value:"PENDING_DEPT",children:" "}),o.jsx("option",{value:"PENDING_COLLEGE",children:" "}),o.jsx("option",{value:"PENDING_UNIV",children:" "}),o.jsx("option",{value:"APPROVED",children:""}),o.jsx("option",{value:"REJECTED",children:""})]}),(g||J.userId===t.id)&&J.status.startsWith("PENDING")&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>D(J),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>z(J.id,J.type),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]},J.id))})]})})})}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[o.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?" ":`  ${e==="LOAN"?"":e==="SECONDMENT"?"":""} `}),o.jsx("button",{onClick:()=>N(!1),children:o.jsx(Bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),o.jsxs("div",{className:"p-6",children:[e==="LOAN"&&o.jsxs("form",{onSubmit:le,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:L.loanType,onChange:J=>A({...L,loanType:J.target.value}),children:[o.jsx("option",{value:"EXTERNAL",children:" "}),o.jsx("option",{value:"INTERNAL",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:L.requestType,onChange:J=>A({...L,requestType:J.target.value}),children:[o.jsx("option",{value:"NEW",children:" "}),o.jsx("option",{value:"RENEWAL",children:" "})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.country,onChange:J=>A({...L,country:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.institution,onChange:J=>A({...L,institution:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.college,onChange:J=>A({...L,college:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:L.startDate,onChange:J=>A({...L,startDate:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:L.endDate,onChange:J=>A({...L,endDate:J.target.value})})]}),o.jsxs("div",{className:"col-span-2 border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[o.jsx("input",{type:"file",className:"hidden",id:"loan-file",onChange:J=>M(Array.from(J.target.files||[]))}),o.jsxs("label",{htmlFor:"loan-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[o.jsx(Nr,{className:"w-8 h-8 text-blue-500"}),o.jsx("span",{className:"text-sm font-bold text-gray-600",children:L.requestType==="NEW"?"  ":"   "}),V.length>0&&o.jsx("span",{className:"text-xs text-green-600",children:V[0].name})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="SECONDMENT"&&o.jsxs("form",{onSubmit:le,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:R.secondmentType,onChange:J=>O({...R,secondmentType:J.target.value}),children:[o.jsx("option",{value:"FULL_TIME",children:"  ( )"}),o.jsx("option",{value:"PART_TIME",children:"  ( )"}),o.jsx("option",{value:"OFF_HOURS",children:"  "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.targetInstitution,onChange:J=>O({...R,targetInstitution:J.target.value})})]}),R.secondmentType==="PART_TIME"&&o.jsxs("div",{className:"col-span-2 bg-blue-50 p-3 rounded border border-blue-100",children:[o.jsx("label",{className:"block text-sm font-bold mb-2 text-blue-800",children:"  "}),o.jsx("div",{className:"flex gap-4 flex-wrap",children:["","","","","",""].map(J=>{var X;return o.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-2 py-1 rounded border",children:[o.jsx("input",{type:"checkbox",checked:(X=R.secondmentDays)==null?void 0:X.includes(J),onChange:K=>{const F=R.secondmentDays||[];O({...R,secondmentDays:K.target.checked?[...F,J]:F.filter(Y=>Y!==J)})}})," ",J]},J)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.startDate,onChange:J=>O({...R,startDate:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.endDate,onChange:J=>O({...R,endDate:J.target.value})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="TRANSFER"&&o.jsxs("form",{onSubmit:le,className:"space-y-4",children:[o.jsxs("div",{className:"bg-red-50 p-4 rounded text-red-700 text-sm border border-red-200 flex items-center gap-2 mb-4",children:[o.jsx(Yr,{className:"w-5 h-5 shrink-0"}),o.jsx("span",{children:":            ."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:U.targetUniversity,onChange:J=>k({...U,targetUniversity:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:U.targetCollege,onChange:J=>k({...U,targetCollege:J.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:U.transferType,onChange:J=>k({...U,transferType:J.target.value}),children:[o.jsx("option",{value:"VACANT_DEGREE",children:"    "}),o.jsx("option",{value:"WITH_DEGREE",children:"   ( )"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-gray-600",children:""}),o.jsxs("button",{disabled:d,type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 flex items-center gap-2",children:[d&&o.jsx(tt,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})]})})]})},yge=({user:t})=>{const[e,n]=_.useState("BROWSE"),[r,a]=_.useState([]),[s,c]=_.useState({totalItems:0,theses:0,papers:0,books:0}),[d,f]=_.useState(!0),[h,p]=_.useState(""),[g,x]=_.useState("ALL"),[w,E]=_.useState(!1),[N,j]=_.useState(null),[T,L]=_.useState("JOURNAL_PAPER"),A={titleAr:"",titleEn:"",abstract:"",authorNames:"",journalName:"",conferenceName:"",doi:"",publicationYear:new Date().getFullYear().toString(),supervisors:"",shelfLocation:""},[R,O]=_.useState(A),[U,k]=_.useState(null),[V,M]=_.useState(null),[I,D]=_.useState(!1),[z,B]=_.useState(null),[ye,le]=_.useState("RESEARCH"),[W,oe]=_.useState(""),[J,X]=_.useState([]),K=t.role===_e.ADMIN||t.role===_e.STAFF||t.role===_e.DATA_ENTRY;_.useEffect(()=>{F()},[]);const F=async()=>{f(!0);try{const[te,he]=await Promise.all([Fpe(),Ype()]);if(a(te),c(he),t.role===_e.STAFF||t.role===_e.ADMIN){const Xe=await Gpe(t.id);X(Xe)}}catch(te){console.error("Error fetching repository data:",te)}f(!1)},Y=te=>{let he="";te.type.includes("PAPER")?he=`${te.authorNames||""} (${te.publicationYear}). "${te.titleAr}". ${te.journalName||te.conferenceName||""}, ${te.volume||""}(${te.issue||""}), ${te.pages||""}. ${te.doi?`DOI: ${te.doi}`:""}`:te.type.includes("THESIS")?he=`${te.authorNames||""} (${te.publicationYear}). ${te.titleAr}. [${te.type==="THESIS_MASTER"?"Master Thesis":"PhD Thesis"}]. Al-Azhar University.`:he=`${te.authorNames||te.publisher||""} (${te.publicationYear}). ${te.titleAr}. ${te.publisher||""}.`,navigator.clipboard.writeText(he),alert("   ")},H=async te=>{try{return await cl(te)}catch(he){return alert("  : "+he.message),null}},Z=te=>{E(!0),j(te.id),L(te.type),O({titleAr:te.titleAr||"",titleEn:te.titleEn||"",abstract:te.abstract||"",authorNames:te.authorNames||"",journalName:te.journalName||"",conferenceName:te.conferenceName||"",doi:te.doi||"",publicationYear:te.publicationYear||"",supervisors:te.supervisors||"",shelfLocation:te.shelfLocation||""}),n("ADD")},fe=async(te,he)=>{if(window.confirm("        "))try{await un(Be(ge,"repository_items",te)),await Ae("  ",t.name,`  : ${he}`),F()}catch{alert(" ")}},je=async te=>{te.preventDefault(),D(!0);try{let he,Xe;U&&(he=await H(U)),V&&(Xe=await H(V));const qe={...R,type:T,...he&&{fileUrl:he},...Xe&&{privateFileUrl:Xe},addedBy:t.id,authorIds:w?void 0:[t.id],publicationYear:R.publicationYear||new Date().getFullYear().toString()};w&&N?(await Pt(Be(ge,"repository_items",N),qe),await Ae("  ",t.name,`  ${T}: ${R.titleAr}`),alert("  ")):(await qpe(qe),await Ae(" ",t.name,`  ${T}: ${R.titleAr}`),alert("  ")),E(!1),j(null),O(A),k(null),M(null),n("BROWSE"),F()}catch(he){console.error(he),alert("   ")}finally{D(!1)}},Ce=async()=>{if(z)try{await Hpe({itemId:z.id,itemTitle:z.titleAr,itemAuthorId:z.addedBy,requesterName:t.name,requesterEmail:"user@example.com",reason:ye,message:W}),await Ae("  ",t.name,`   : ${z.titleAr}`),alert("   "),B(null)}catch{alert("  ")}},Fe=async(te,he,Xe)=>{await Kpe(te,Xe),await Ae("   ",t.name,` ${Xe==="APPROVED"?" ":""}   : ${he}`),alert(` ${Xe==="APPROVED"?"  ":" "}`),F()},de=()=>{n("ADD"),O(A),j(null),E(!1)},Ue=te=>{const he=te.type.includes("PAPER"),Xe=te.type.includes("THESIS"),qe=te.addedBy===t.id||t.role===_e.ADMIN;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow flex flex-col gap-3 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${he?"bg-blue-100 text-blue-700":Xe?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:he?te.type==="JOURNAL_PAPER"?" ":"":Xe?te.type==="THESIS_MASTER"?"":"":""}),o.jsx("span",{className:"text-gray-500 text-xs",children:te.publicationYear})]}),o.jsxs("div",{className:"flex gap-2",children:[te.doi&&o.jsx("a",{href:te.doi,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",title:"DOI",children:o.jsx(yg,{className:"w-4 h-4"})}),qe&&o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onClick:()=>Z(te),className:"text-blue-400 hover:text-blue-600 p-1",title:"",children:o.jsx(pr,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>fe(te.id,te.titleAr),className:"text-red-400 hover:text-red-600 p-1",title:"",children:o.jsx(pt,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-snug mb-1",children:te.titleAr}),te.titleEn&&o.jsx("h4",{className:"text-sm text-gray-500 font-medium ltr text-right",dir:"ltr",children:te.titleEn})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[he&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",te.authorNames]}),he&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",te.journalName||te.conferenceName,", ",te.volume,"(",te.issue,")"]}),Xe&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",te.authorNames]}),Xe&&o.jsxs("p",{children:[o.jsx("strong",{children:":"})," ",te.supervisors]})]}),te.abstract&&o.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 bg-gray-50 p-2 rounded",children:te.abstract}),o.jsxs("div",{className:"mt-auto pt-4 border-t flex items-center justify-between gap-2",children:[o.jsx("div",{className:"flex gap-2",children:te.fileUrl?o.jsxs("a",{href:te.fileUrl,target:"_blank",rel:"noreferrer",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700",children:[o.jsx(gg,{className:"w-4 h-4"}),"  PDF"]}):o.jsxs("button",{onClick:()=>B(te),className:"bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-amber-100",children:[o.jsx(cb,{className:"w-4 h-4"}),"   "]})}),o.jsx("button",{onClick:()=>Y(te),className:"text-gray-400 hover:text-gray-600",title:" ",children:o.jsx(cz,{className:"w-5 h-5"})})]})]},te.id)};return o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-screen",children:[o.jsxs("aside",{className:"w-full lg:w-64 shrink-0 space-y-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(c4,{className:"w-5 h-5 text-green-600"})," "]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold",children:s.totalItems})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-purple-600",children:s.theses})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-blue-600",children:s.papers})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:" "}),o.jsx("span",{className:"font-bold text-amber-600",children:s.books})]})]})]}),J.length>0&&o.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 animate-pulse",children:[o.jsxs("h4",{className:"font-bold text-amber-800 text-sm mb-2 flex items-center gap-2",children:[o.jsx(Z_,{className:"w-4 h-4"}),"   (",J.length,")"]}),o.jsx("div",{className:"space-y-2",children:J.map(te=>o.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[o.jsx("p",{className:"font-bold mb-1",children:te.requesterName}),o.jsxs("p",{className:"text-gray-500 mb-2 truncate",children:[": ",te.itemTitle]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>Fe(te.id,te.itemTitle,"APPROVED"),className:"flex-1 bg-green-600 text-white py-1 rounded",children:""}),o.jsx("button",{onClick:()=>Fe(te.id,te.itemTitle,"REJECTED"),className:"flex-1 bg-gray-200 text-gray-700 py-1 rounded",children:""})]})]},te.id))})]})]}),o.jsxs("main",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),K&&o.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[o.jsx("button",{onClick:()=>{n("BROWSE"),E(!1)},className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="BROWSE"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "}),o.jsx("button",{onClick:de,className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="ADD"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "})]})]}),e==="BROWSE"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(ku,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:h,onChange:te=>p(te.target.value)})]}),o.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50 min-w-[150px]",value:g,onChange:te=>x(te.target.value),children:[o.jsx("option",{value:"ALL",children:" "}),o.jsx("option",{value:"PAPER",children:" "}),o.jsx("option",{value:"THESIS",children:" "}),o.jsx("option",{value:"BOOK",children:""})]})]}),d?o.jsx("div",{className:"text-center py-12",children:o.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(te=>g==="ALL"||te.type.includes(g)).filter(te=>{var he;return te.titleAr.includes(h)||te.titleEn&&te.titleEn.toLowerCase().includes(h.toLowerCase())||((he=te.authorNames)==null?void 0:he.includes(h))}).map(Ue),r.length===0&&o.jsx("p",{className:"text-center text-gray-400 col-span-2 py-12",children:"  "})]})]}),e==="ADD"&&o.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800",children:w?" ":"   "}),w&&o.jsx("button",{onClick:()=>{E(!1),n("BROWSE")},className:"text-sm text-gray-500 hover:text-red-500",children:""})]}),o.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:[o.jsx("button",{onClick:()=>L("JOURNAL_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${T==="JOURNAL_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("CONF_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${T==="CONF_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("THESIS_MASTER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${T.includes("THESIS")?"bg-purple-50 border-purple-500 text-purple-700":"hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>L("BOOK"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${T==="BOOK"?"bg-amber-50 border-amber-500 text-amber-700":"hover:bg-gray-50"}`,children:""})]}),o.jsxs("form",{onSubmit:je,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" () *"}),o.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:R.titleAr||"",onChange:te=>O({...R,titleAr:te.target.value})})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg text-left",dir:"ltr",value:R.titleEn||"",onChange:te=>O({...R,titleEn:te.target.value})})]}),T.includes("PAPER")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Authors)"}),o.jsx("input",{type:"text",placeholder:"Ahmed M., Sara H., ...",className:"w-full border p-2 rounded-lg",value:R.authorNames||"",onChange:te=>O({...R,authorNames:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:T==="JOURNAL_PAPER"?" ":" "}),T==="JOURNAL_PAPER"?o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:R.journalName||"",onChange:te=>O({...R,journalName:te.target.value})}):o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:R.conferenceName||"",onChange:te=>O({...R,conferenceName:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" DOI"}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:R.doi||"",onChange:te=>O({...R,doi:te.target.value})})]})]}),T.includes("THESIS")&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:R.authorNames||"",onChange:te=>O({...R,authorNames:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:R.supervisors||"",onChange:te=>O({...R,supervisors:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),o.jsx("input",{type:"number",className:"w-full border p-2 rounded-lg",value:R.publicationYear||"",onChange:te=>O({...R,publicationYear:te.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),o.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded-lg",value:R.shelfLocation||"",onChange:te=>O({...R,shelfLocation:te.target.value})})]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Abstract)"}),o.jsx("textarea",{rows:4,className:"w-full border p-2 rounded-lg",value:R.abstract||"",onChange:te=>O({...R,abstract:te.target.value})})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 col-span-2",children:[o.jsx("h4",{className:"font-bold text-sm mb-2",children:""}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"   (Public PDF)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nr,{className:"w-4 h-4 text-gray-400"}),o.jsx("input",{type:"file",className:"text-sm",onChange:te=>k(te.target.files?te.target.files[0]:null)})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"   (:  )"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ( )"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cb,{className:"w-4 h-4 text-amber-400"}),o.jsx("input",{type:"file",className:"text-sm",onChange:te=>M(te.target.files?te.target.files[0]:null)})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"      "})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[o.jsx("button",{type:"button",onClick:()=>n("BROWSE"),className:"px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:""}),o.jsxs("button",{type:"submit",disabled:I,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[I?o.jsx(tt,{className:"w-4 h-4 animate-spin"}):o.jsx(bn,{className:"w-4 h-4"})," ",w?" ":" "]})]})]})]})]}),z&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95",children:[o.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[o.jsx(cb,{className:"w-5 h-5 text-amber-600"}),"   "]}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"    .      ."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),o.jsxs("select",{className:"w-full border p-2 rounded",value:ye,onChange:te=>le(te.target.value),children:[o.jsx("option",{value:"RESEARCH",children:" "}),o.jsx("option",{value:"CITATION",children:"   "}),o.jsx("option",{value:"OTHER",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),o.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,value:W,onChange:te=>oe(te.target.value),placeholder:" ..."})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{onClick:()=>B(null),className:"px-4 py-2 text-gray-500",children:""}),o.jsx("button",{onClick:Ce,className:"bg-amber-600 text-white px-4 py-2 rounded font-bold hover:bg-amber-700",children:" "})]})]})]})})]})},vge=()=>{const[t,e]=_.useState(null),[n,r]=_.useState(""),[a,s]=_.useState(""),[c,d]=_.useState(!1),[f,h]=_.useState("");_.useEffect(()=>{(async()=>{try{await Xpe()}catch(x){console.error("Failed to seed initial data:",x)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),h("");try{const x=await bme(n,a);x?e(x):h("      ")}catch(x){console.error(x),h("     (  )")}finally{d(!1)}};return t?o.jsx(g9,{children:o.jsx(NB,{user:t,onLogout:()=>{e(null),r(""),s("")},children:o.jsxs(K7,{children:[o.jsx(Xt,{path:"/",element:t.role===_e.STUDENT_UG||t.role===_e.STUDENT_PG?o.jsx(MP,{user:t}):t.role===_e.ALUMNI?o.jsx(LP,{user:t}):o.jsx(Qpe,{})}),o.jsx(Xt,{path:"/outgoing",element:o.jsx(Jpe,{user:t})}),o.jsx(Xt,{path:"/incoming",element:o.jsx(Zpe,{user:t})}),o.jsx(Xt,{path:"/councils",element:o.jsx(ege,{user:t})}),o.jsx(Xt,{path:"/committees",element:o.jsx(tge,{user:t})}),o.jsx(Xt,{path:"/search",element:o.jsx(nge,{user:t})}),o.jsx(Xt,{path:"/staff",element:o.jsx(rge,{})}),o.jsx(Xt,{path:"/students",element:o.jsx(MP,{user:t})}),o.jsx(Xt,{path:"/alumni",element:o.jsx(LP,{user:t})}),o.jsx(Xt,{path:"/users",element:o.jsx(ige,{})}),o.jsx(Xt,{path:"/pg-manager",element:o.jsx(sge,{})}),o.jsx(Xt,{path:"/inventory",element:o.jsx(oge,{user:t})}),o.jsx(Xt,{path:"/labs",element:o.jsx(lge,{user:t})}),o.jsx(Xt,{path:"/greenhouse",element:o.jsx(cge,{user:t})}),o.jsx(Xt,{path:"/events",element:o.jsx(uge,{user:t})}),o.jsx(Xt,{path:"/formation",element:o.jsx(fge,{user:t})}),o.jsx(Xt,{path:"/annual-report",element:o.jsx(hge,{user:t})}),o.jsx(Xt,{path:"/research-plan",element:o.jsx(mge,{user:t})}),o.jsx(Xt,{path:"/leaves",element:o.jsx(pge,{user:t})}),o.jsx(Xt,{path:"/career-movements",element:o.jsx(gge,{user:t})}),o.jsx(Xt,{path:"/repository",element:o.jsx(yge,{user:t})})," ",o.jsx(Xt,{path:"/activity-log",element:o.jsx(dge,{})}),o.jsx(Xt,{path:"*",element:o.jsx(H7,{to:"/"})})]})})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[o.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[o.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:o.jsx(wu,{className:"w-16 h-16 text-green-700"})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),o.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),o.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),o.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(si,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(f1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),o.jsx("input",{type:"password",required:!0,value:a,onChange:g=>s(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),f&&o.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:f}),o.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?o.jsx(tt,{className:"w-5 h-5 animate-spin"}):o.jsx(D9,{className:"w-5 h-5"}),o.jsx("span",{children:""})]})]}),o.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},d8=document.getElementById("root");if(!d8)throw new Error("Could not find root element to mount to");const xge=t7.createRoot(d8);xge.render(o.jsx(UP.StrictMode,{children:o.jsx(vge,{})}));
