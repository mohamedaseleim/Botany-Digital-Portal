var WV=Object.defineProperty;var XV=(t,e,n)=>e in t?WV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Jx=(t,e,n)=>XV(t,typeof e!="symbol"?e+"":e,n);function QV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Zi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zx={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function JV(){if(p2)return yf;p2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return yf.Fragment=e,yf.jsx=n,yf.jsxs=n,yf}var g2;function ZV(){return g2||(g2=1,Zx.exports=JV()),Zx.exports}var s=ZV(),eb={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function e7(){if(y2)return nt;y2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function O(V,W,pe){this.props=V,this.context=W,this.refs=_,this.updater=pe||E}O.prototype.isReactComponent={},O.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},O.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function R(){}R.prototype=O.prototype;function M(V,W,pe){this.props=V,this.context=W,this.refs=_,this.updater=pe||E}var T=M.prototype=new R;T.constructor=M,j(T,O.prototype),T.isPureReactComponent=!0;var C=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function $(V,W,pe){var Z=pe.ref;return{$$typeof:t,type:V,key:W,ref:Z!==void 0?Z:null,props:pe}}function A(V,W){return $(V.type,W,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function z(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return W[pe]})}var B=/\/+/g;function ge(V,W){return typeof V=="object"&&V!==null&&V.key!=null?z(""+V.key):W.toString(36)}function re(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,W,pe,Z,xe){var Te=typeof V;(Te==="undefined"||Te==="boolean")&&(V=null);var De=!1;if(V===null)De=!0;else switch(Te){case"bigint":case"string":case"number":De=!0;break;case"object":switch(V.$$typeof){case t:case e:De=!0;break;case p:return De=V._init,G(De(V._payload),W,pe,Z,xe)}}if(De)return xe=xe(V),De=Z===""?"."+ge(V,0):Z,C(xe)?(pe="",De!=null&&(pe=De.replace(B,"$&/")+"/"),G(xe,W,pe,"",function(ke){return ke})):xe!=null&&(D(xe)&&(xe=A(xe,pe+(xe.key==null||V&&V.key===xe.key?"":(""+xe.key).replace(B,"$&/")+"/")+De)),W.push(xe)),1;De=0;var ae=Z===""?".":Z+":";if(C(V))for(var le=0;le<V.length;le++)Z=V[le],Te=ae+ge(Z,le),De+=G(Z,W,pe,Te,xe);else if(le=N(V),typeof le=="function")for(V=le.call(V),le=0;!(Z=V.next()).done;)Z=Z.value,Te=ae+ge(Z,le++),De+=G(Z,W,pe,Te,xe);else if(Te==="object"){if(typeof V.then=="function")return G(re(V),W,pe,Z,xe);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return De}function Y(V,W,pe){if(V==null)return V;var Z=[],xe=0;return G(V,Z,"","",function(Te){return W.call(pe,Te,xe++)}),Z}function H(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var he=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},X={map:Y,forEach:function(V,W,pe){Y(V,function(){W.apply(this,arguments)},pe)},count:function(V){var W=0;return Y(V,function(){W++}),W},toArray:function(V){return Y(V,function(W){return W})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return nt.Activity=g,nt.Children=X,nt.Component=O,nt.Fragment=n,nt.Profiler=a,nt.PureComponent=M,nt.StrictMode=r,nt.Suspense=f,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return P.H.useMemoCache(V)}},nt.cache=function(V){return function(){return V.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(V,W,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Z=j({},V.props),xe=V.key;if(W!=null)for(Te in W.key!==void 0&&(xe=""+W.key),W)!U.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(Z[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)Z.children=pe;else if(1<Te){for(var De=Array(Te),ae=0;ae<Te;ae++)De[ae]=arguments[ae+2];Z.children=De}return $(V.type,xe,Z)},nt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},nt.createElement=function(V,W,pe){var Z,xe={},Te=null;if(W!=null)for(Z in W.key!==void 0&&(Te=""+W.key),W)U.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(xe[Z]=W[Z]);var De=arguments.length-2;if(De===1)xe.children=pe;else if(1<De){for(var ae=Array(De),le=0;le<De;le++)ae[le]=arguments[le+2];xe.children=ae}if(V&&V.defaultProps)for(Z in De=V.defaultProps,De)xe[Z]===void 0&&(xe[Z]=De[Z]);return $(V,Te,xe)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(V){return{$$typeof:d,render:V}},nt.isValidElement=D,nt.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:H}},nt.memo=function(V,W){return{$$typeof:h,type:V,compare:W===void 0?null:W}},nt.startTransition=function(V){var W=P.T,pe={};P.T=pe;try{var Z=V(),xe=P.S;xe!==null&&xe(pe,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(L,he)}catch(Te){he(Te)}finally{W!==null&&pe.types!==null&&(W.types=pe.types),P.T=W}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(V){return P.H.use(V)},nt.useActionState=function(V,W,pe){return P.H.useActionState(V,W,pe)},nt.useCallback=function(V,W){return P.H.useCallback(V,W)},nt.useContext=function(V){return P.H.useContext(V)},nt.useDebugValue=function(){},nt.useDeferredValue=function(V,W){return P.H.useDeferredValue(V,W)},nt.useEffect=function(V,W){return P.H.useEffect(V,W)},nt.useEffectEvent=function(V){return P.H.useEffectEvent(V)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(V,W,pe){return P.H.useImperativeHandle(V,W,pe)},nt.useInsertionEffect=function(V,W){return P.H.useInsertionEffect(V,W)},nt.useLayoutEffect=function(V,W){return P.H.useLayoutEffect(V,W)},nt.useMemo=function(V,W){return P.H.useMemo(V,W)},nt.useOptimistic=function(V,W){return P.H.useOptimistic(V,W)},nt.useReducer=function(V,W,pe){return P.H.useReducer(V,W,pe)},nt.useRef=function(V){return P.H.useRef(V)},nt.useState=function(V){return P.H.useState(V)},nt.useSyncExternalStore=function(V,W,pe){return P.H.useSyncExternalStore(V,W,pe)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.0",nt}var v2;function Ju(){return v2||(v2=1,eb.exports=e7()),eb.exports}var w=Ju();const B4=Zi(w),t7=QV({__proto__:null,default:B4},[w]);var tb={exports:{}},vf={},nb={exports:{}},rb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function n7(){return x2||(x2=1,(function(t){function e(G,Y){var H=G.length;G.push(Y);e:for(;0<H;){var he=H-1>>>1,X=G[he];if(0<a(X,Y))G[he]=Y,G[H]=X,H=he;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],H=G.pop();if(H!==Y){G[0]=H;e:for(var he=0,X=G.length,V=X>>>1;he<V;){var W=2*(he+1)-1,pe=G[W],Z=W+1,xe=G[Z];if(0>a(pe,H))Z<X&&0>a(xe,pe)?(G[he]=xe,G[Z]=H,he=Z):(G[he]=pe,G[W]=H,he=W);else if(Z<X&&0>a(xe,H))G[he]=xe,G[Z]=H,he=Z;else break e}}return Y}function a(G,Y){var H=G.sortIndex-Y.sortIndex;return H!==0?H:G.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,x=3,N=!1,E=!1,j=!1,_=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function T(G){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=G)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(h)}}function C(G){if(j=!1,T(G),!E)if(n(f)!==null)E=!0,L||(L=!0,z());else{var Y=n(h);Y!==null&&re(C,Y.startTime-G)}}var L=!1,P=-1,U=5,$=-1;function A(){return _?!0:!(t.unstable_now()-$<U)}function D(){if(_=!1,L){var G=t.unstable_now();$=G;var Y=!0;try{e:{E=!1,j&&(j=!1,R(P),P=-1),N=!0;var H=x;try{t:{for(T(G),g=n(f);g!==null&&!(g.expirationTime>G&&A());){var he=g.callback;if(typeof he=="function"){g.callback=null,x=g.priorityLevel;var X=he(g.expirationTime<=G);if(G=t.unstable_now(),typeof X=="function"){g.callback=X,T(G),Y=!0;break t}g===n(f)&&r(f),T(G)}else r(f);g=n(f)}if(g!==null)Y=!0;else{var V=n(h);V!==null&&re(C,V.startTime-G),Y=!1}}break e}finally{g=null,x=H,N=!1}Y=void 0}}finally{Y?z():L=!1}}}var z;if(typeof M=="function")z=function(){M(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ge=B.port2;B.port1.onmessage=D,z=function(){ge.postMessage(null)}}else z=function(){O(D,0)};function re(G,Y){P=O(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var H=x;x=Y;try{return G()}finally{x=H}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var H=x;x=G;try{return Y()}finally{x=H}},t.unstable_scheduleCallback=function(G,Y,H){var he=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?he+H:he):H=he,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,G={id:p++,callback:Y,priorityLevel:G,startTime:H,expirationTime:X,sortIndex:-1},H>he?(G.sortIndex=H,e(h,G),n(f)===null&&G===n(h)&&(j?(R(P),P=-1):j=!0,re(C,H-he))):(G.sortIndex=X,e(f,G),E||N||(E=!0,L||(L=!0,z()))),G},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(G){var Y=x;return function(){var H=x;x=Y;try{return G.apply(this,arguments)}finally{x=H}}}})(rb)),rb}var b2;function r7(){return b2||(b2=1,nb.exports=n7()),nb.exports}var ab={exports:{}},vr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2;function a7(){if(w2)return vr;w2=1;var t=Ju();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,vr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(f,h,null,p)},vr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},vr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},vr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},vr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,N=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:N}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:N,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},vr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},vr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},vr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},vr.requestFormReset=function(f){r.d.r(f)},vr.unstable_batchedUpdates=function(f,h){return f(h)},vr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},vr.useFormStatus=function(){return c.H.useHostTransitionStatus()},vr.version="19.2.0",vr}var N2;function $4(){if(N2)return ab.exports;N2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ab.exports=a7(),ab.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function i7(){if(_2)return vf;_2=1;var t=r7(),e=Ju(),n=$4();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return f(v),i;if(b===m)return f(v),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=b;else{for(var I=!1,F=v.child;F;){if(F===u){I=!0,u=v,m=b;break}if(F===m){I=!0,m=v,u=b;break}F=F.sibling}if(!I){for(F=b.child;F;){if(F===u){I=!0,u=b,m=v;break}if(F===m){I=!0,m=b,u=v;break}F=F.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function ge(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case O:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case L:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case M:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:ge(i.type)||"Memo";case U:o=i._payload,i=i._init;try{return ge(i(o))}catch{}}return null}var re=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},he=[],X=-1;function V(i){return{current:i}}function W(i){0>X||(i.current=he[X],he[X]=null,X--)}function pe(i,o){X++,he[X]=i.current,i.current=o}var Z=V(null),xe=V(null),Te=V(null),De=V(null);function ae(i,o){switch(pe(Te,o),pe(xe,i),pe(Z,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?UT(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=UT(o),i=VT(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(Z),pe(Z,i)}function le(){W(Z),W(xe),W(Te)}function ke(i){i.memoizedState!==null&&pe(De,i);var o=Z.current,u=VT(o,i.type);o!==u&&(pe(xe,i),pe(Z,u))}function J(i){xe.current===i&&(W(Z),W(xe)),De.current===i&&(W(De),hf._currentValue=H)}var de,Ve;function Ge(i){if(de===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);de=o&&o[1]||"",Ve=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+i+Ve}var St=!1;function Ee(i,o){if(!i||St)return"";St=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(fe){var ce=fe}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(fe){ce=fe}i.call(_e.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),I=b[0],F=b[1];if(I&&F){var K=I.split(`
`),se=F.split(`
`);for(v=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(m===K.length||v===se.length)for(m=K.length-1,v=se.length-1;1<=m&&0<=v&&K[m]!==se[v];)v--;for(;1<=m&&0<=v;m--,v--)if(K[m]!==se[v]){if(m!==1||v!==1)do if(m--,v--,0>v||K[m]!==se[v]){var ye=`
`+K[m].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=m&&0<=v);break}}}finally{St=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ge(u):""}function yt(i,o){switch(i.tag){case 26:case 27:case 5:return Ge(i.type);case 16:return Ge("Lazy");case 13:return i.child!==o&&o!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ee(i.type,!1);case 11:return Ee(i.type.render,!1);case 1:return Ee(i.type,!0);case 31:return Ge("Activity");default:return""}}function ve(i){try{var o="",u=null;do o+=yt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var et=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,Rt=t.unstable_cancelCallback,hi=t.unstable_shouldYield,te=t.unstable_requestPaint,Pe=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,mi=t.unstable_LowPriority,Va=t.unstable_IdlePriority,Qh=t.log,Jh=t.unstable_setDisableYieldValue,za=null,lr=null;function ma(i){if(typeof Qh=="function"&&Jh(i),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(za,i)}catch{}}var yn=Math.clz32?Math.clz32:em,Zh=Math.log,Ec=Math.LN2;function em(i){return i>>>=0,i===0?32:31-(Zh(i)/Ec|0)|0}var pi=256,ho=262144,Sn=4194304;function gi(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,b=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var F=m&134217727;return F!==0?(m=F&~b,m!==0?v=gi(m):(I&=F,I!==0?v=gi(I):u||(u=F&~i,u!==0&&(v=gi(u))))):(F=m&~b,F!==0?v=gi(F):I!==0?v=gi(I):u||(u=m&~i,u!==0&&(v=gi(u)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:v}function Ba(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function nv(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(){var i=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),i}function vi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function mo(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rv(i,o,u,m,v,b){var I=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var F=i.entanglements,K=i.expirationTimes,se=i.hiddenUpdates;for(u=I&~u;0<u;){var ye=31-yn(u),_e=1<<ye;F[ye]=0,K[ye]=-1;var ce=se[ye];if(ce!==null)for(se[ye]=null,ye=0;ye<ce.length;ye++){var fe=ce[ye];fe!==null&&(fe.lane&=-536870913)}u&=~_e}m!==0&&po(i,m,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(I&~o))}function po(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-yn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function yd(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-yn(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function vd(i,o){var u=o&-o;return u=(u&42)!==0?1:go(u),(u&(i.suspendedLanes|o))!==0?0:u}function go(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nm(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:o2(i.type))}function $a(i,o){var u=Y.p;try{return Y.p=i,o()}finally{Y.p=u}}var Fa=Math.random().toString(36).slice(2),An="__reactFiber$"+Fa,Wn="__reactProps$"+Fa,xi="__reactContainer$"+Fa,Sc="__reactEvents$"+Fa,av="__reactListeners$"+Fa,rm="__reactHandles$"+Fa,am="__reactResources$"+Fa,bi="__reactMarker$"+Fa;function Ac(i){delete i[An],delete i[Wn],delete i[Sc],delete i[av],delete i[rm]}function wi(i){var o=i[An];if(o)return o;for(var u=i.parentNode;u;){if(o=u[xi]||u[An]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=GT(i);i!==null;){if(u=i[An])return u;i=GT(i)}return o}i=u,u=i.parentNode}return null}function pa(i){if(i=i[An]||i[xi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Qr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Ni(i){var o=i[am];return o||(o=i[am]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tn(i){i[bi]=!0}var xd=new Set,bd={};function _i(i,o){ji(i,o),ji(i+"Capture",o)}function ji(i,o){for(bd[i]=o,i=0;i<o.length;i++)xd.add(o[i])}var wd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nd={},_d={};function im(i){return et.call(_d,i)?!0:et.call(Nd,i)?!1:wd.test(i)?_d[i]=!0:(Nd[i]=!0,!1)}function Tc(i,o,u){if(im(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Jr(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Cn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function tl(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){u=""+I,b.call(this,I)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ct(i){if(!i._valueTracker){var o=tl(i)?"checked":"value";i._valueTracker=jd(i,o,""+i[o])}}function yo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=tl(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vo=/[\n"\\]/g;function Pr(i){return i.replace(vo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Cc(i,o,u,m,v,b,I,F){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),o!=null?I==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Xn(o)):i.value!==""+Xn(o)&&(i.value=""+Xn(o)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),o!=null?Ed(i,I,Xn(o)):u!=null?Ed(i,I,Xn(u)):m!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+Xn(F):i.removeAttribute("name")}function sm(i,o,u,m,v,b,I,F){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Ct(i);return}u=u!=null?""+Xn(u):"",o=o!=null?""+Xn(o):u,F||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=F?i.checked:!!m,i.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),Ct(i)}function Ed(i,o,u){o==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function nl(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Xn(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function lm(i,o,u){if(o!=null&&(o=""+Xn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Xn(u):""}function rl(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(re(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Xn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Ct(i)}function kr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var om=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||om.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Ad(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&Sd(i,v,m)}else for(var b in o)o.hasOwnProperty(b)&&Sd(i,b,o[b])}function Ic(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(i){return al.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function qa(){}var Td=null;function ga(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var il=null,Si=null;function xo(i){var o=pa(i);if(o&&(i=o.stateNode)){var u=i[Wn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Cc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Wn]||null;if(!v)throw Error(r(90));Cc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&yo(m)}break e;case"textarea":lm(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&nl(i,!!u.multiple,o,!1)}}}var Dc=!1;function sl(i,o,u){if(Dc)return i(o,u);Dc=!0;try{var m=i(o);return m}finally{if(Dc=!1,(il!==null||Si!==null)&&(np(),il&&(o=il,i=Si,Si=il=null,xo(o),i)))for(o=0;o<i.length;o++)xo(i[o])}}function Ha(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Wn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(ya)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){bo=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{bo=!1}var Ai=null,Cd=null,wo=null;function Id(){if(wo)return wo;var i,o=Cd,u=o.length,m,v="value"in Ai?Ai.value:Ai.textContent,b=v.length;for(i=0;i<u&&o[i]===v[i];i++);var I=u-i;for(m=1;m<=I&&o[u-m]===v[b-m];m++);return wo=v.slice(i,1<m?1-m:void 0)}function No(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function as(){return!0}function Ga(){return!1}function or(i){function o(u,m,v,b,I){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(u=i[F],this[F]=u?u(b):b[F]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?as:Ga,this.isPropagationStopped=Ga,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),o}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=or(is),ll=g({},is,{view:0,detail:0}),Od=or(ll),ol,Rc,Ci,Pc=g({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(ol=i.screenX-Ci.screenX,Rc=i.screenY-Ci.screenY):Rc=ol=0,Ci=i),ol)},movementY:function(i){return"movementY"in i?i.movementY:Rc}}),Dd=or(Pc),_o=g({},Pc,{dataTransfer:0}),um=or(_o),dm=g({},ll,{relatedTarget:0}),jo=or(dm),Rd=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=or(Rd),kc=g({},is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hm=or(kc),mm=g({},is,{data:0}),Ii=or(mm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ym[i])?!!o[i]:!1}function cl(){return vm}var Ar=g({},ll,{key:function(i){if(i.key){var o=pm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=No(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(i){return i.type==="keypress"?No(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?No(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xm=or(Ar),bm=g({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ss=or(bm),y=g({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),S=or(y),k=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=or(k),ne=g({},Pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=or(ne),Ae=g({},is,{newState:0,oldState:0}),it=or(Ae),vn=[9,13,27,32],_t=ya&&"CompositionEvent"in window,en=null;ya&&"documentMode"in document&&(en=document.documentMode);var va=ya&&"TextEvent"in window&&!en,Oi=ya&&(!_t||en&&8<en&&11>=en),Ka=" ",Ya=!1;function Eo(i,o){switch(i){case"keyup":return vn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lc=!1;function x8(i,o){switch(i){case"compositionend":return Mc(o);case"keypress":return o.which!==32?null:(Ya=!0,Ka);case"textInput":return i=o.data,i===Ka&&Ya?null:i;default:return null}}function b8(i,o){if(Lc)return i==="compositionend"||!_t&&Eo(i,o)?(i=Id(),wo=Cd=Ai=null,Lc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oi&&o.locale!=="ko"?null:o.data;default:return null}}var w8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WE(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!w8[i.type]:o==="textarea"}function XE(i,o,u,m){il?Si?Si.push(m):Si=[m]:il=m,o=cp(o,"onChange"),0<o.length&&(u=new Ti("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Pd=null,kd=null;function N8(i){DT(i,0)}function wm(i){var o=Qr(i);if(yo(o))return i}function QE(i,o){if(i==="change")return o}var JE=!1;if(ya){var iv;if(ya){var sv="oninput"in document;if(!sv){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),sv=typeof ZE.oninput=="function"}iv=sv}else iv=!1;JE=iv&&(!document.documentMode||9<document.documentMode)}function eS(){Pd&&(Pd.detachEvent("onpropertychange",tS),kd=Pd=null)}function tS(i){if(i.propertyName==="value"&&wm(kd)){var o=[];XE(o,kd,i,ga(i)),sl(N8,o)}}function _8(i,o,u){i==="focusin"?(eS(),Pd=o,kd=u,Pd.attachEvent("onpropertychange",tS)):i==="focusout"&&eS()}function j8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wm(kd)}function E8(i,o){if(i==="click")return wm(o)}function S8(i,o){if(i==="input"||i==="change")return wm(o)}function A8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zr=typeof Object.is=="function"?Object.is:A8;function Md(i,o){if(Zr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!et.call(o,v)||!Zr(i[v],o[v]))return!1}return!0}function nS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rS(i,o){var u=nS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=nS(u)}}function aS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?aS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function iS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ei(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ei(i.document)}return o}function lv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var T8=ya&&"documentMode"in document&&11>=document.documentMode,Uc=null,ov=null,Ld=null,cv=!1;function sS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;cv||Uc==null||Uc!==Ei(m)||(m=Uc,"selectionStart"in m&&lv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ld&&Md(Ld,m)||(Ld=m,m=cp(ov,"onSelect"),0<m.length&&(o=new Ti("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Uc)))}function So(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Vc={animationend:So("Animation","AnimationEnd"),animationiteration:So("Animation","AnimationIteration"),animationstart:So("Animation","AnimationStart"),transitionrun:So("Transition","TransitionRun"),transitionstart:So("Transition","TransitionStart"),transitioncancel:So("Transition","TransitionCancel"),transitionend:So("Transition","TransitionEnd")},uv={},lS={};ya&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete Vc.animationend.animation,delete Vc.animationiteration.animation,delete Vc.animationstart.animation),"TransitionEvent"in window||delete Vc.transitionend.transition);function Ao(i){if(uv[i])return uv[i];if(!Vc[i])return i;var o=Vc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in lS)return uv[i]=o[u];return i}var oS=Ao("animationend"),cS=Ao("animationiteration"),uS=Ao("animationstart"),C8=Ao("transitionrun"),I8=Ao("transitionstart"),O8=Ao("transitioncancel"),dS=Ao("transitionend"),fS=new Map,dv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dv.push("scrollEnd");function Wa(i,o){fS.set(i,o),_i(o,[i])}var Nm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xa=[],zc=0,fv=0;function _m(){for(var i=zc,o=fv=zc=0;o<i;){var u=xa[o];xa[o++]=null;var m=xa[o];xa[o++]=null;var v=xa[o];xa[o++]=null;var b=xa[o];if(xa[o++]=null,m!==null&&v!==null){var I=m.pending;I===null?v.next=v:(v.next=I.next,I.next=v),m.pending=v}b!==0&&hS(u,v,b)}}function jm(i,o,u,m){xa[zc++]=i,xa[zc++]=o,xa[zc++]=u,xa[zc++]=m,fv|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function hv(i,o,u,m){return jm(i,o,u,m),Em(i)}function To(i,o){return jm(i,null,null,o),Em(i)}function hS(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&o!==null&&(v=31-yn(u),i=b.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),b):null}function Em(i){if(50<sf)throw sf=0,Nx=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Bc={};function D8(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(i,o,u,m){return new D8(i,o,u,m)}function mv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ls(i,o){var u=i.alternate;return u===null?(u=ea(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function mS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Sm(i,o,u,m,v,b){var I=0;if(m=i,typeof i=="function")mv(i)&&(I=1);else if(typeof i=="string")I=LV(i,u,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=ea(31,u,o,v),i.elementType=$,i.lanes=b,i;case j:return Co(u.children,v,b,o);case _:I=8,v|=24;break;case O:return i=ea(12,u,o,v|2),i.elementType=O,i.lanes=b,i;case C:return i=ea(13,u,o,v),i.elementType=C,i.lanes=b,i;case L:return i=ea(19,u,o,v),i.elementType=L,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:I=10;break e;case R:I=9;break e;case T:I=11;break e;case P:I=14;break e;case U:I=16,m=null;break e}I=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=ea(I,u,o,v),o.elementType=i,o.type=m,o.lanes=b,o}function Co(i,o,u,m){return i=ea(7,i,m,o),i.lanes=u,i}function pv(i,o,u){return i=ea(6,i,null,o),i.lanes=u,i}function pS(i){var o=ea(18,null,null,0);return o.stateNode=i,o}function gv(i,o,u){return o=ea(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var gS=new WeakMap;function ba(i,o){if(typeof i=="object"&&i!==null){var u=gS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:ve(o)},gS.set(i,o),o)}return{value:i,source:o,stack:ve(o)}}var $c=[],Fc=0,Am=null,Ud=0,wa=[],Na=0,ul=null,Di=1,Ri="";function os(i,o){$c[Fc++]=Ud,$c[Fc++]=Am,Am=i,Ud=o}function yS(i,o,u){wa[Na++]=Di,wa[Na++]=Ri,wa[Na++]=ul,ul=i;var m=Di;i=Ri;var v=32-yn(m)-1;m&=~(1<<v),u+=1;var b=32-yn(o)+v;if(30<b){var I=v-v%5;b=(m&(1<<I)-1).toString(32),m>>=I,v-=I,Di=1<<32-yn(o)+v|u<<v|m,Ri=b+i}else Di=1<<b|u<<v|m,Ri=i}function yv(i){i.return!==null&&(os(i,1),yS(i,1,0))}function vv(i){for(;i===Am;)Am=$c[--Fc],$c[Fc]=null,Ud=$c[--Fc],$c[Fc]=null;for(;i===ul;)ul=wa[--Na],wa[Na]=null,Ri=wa[--Na],wa[Na]=null,Di=wa[--Na],wa[Na]=null}function vS(i,o){wa[Na++]=Di,wa[Na++]=Ri,wa[Na++]=ul,Di=o.id,Ri=o.overflow,ul=i}var cr=null,Yt=null,gt=!1,dl=null,_a=!1,xv=Error(r(519));function fl(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vd(ba(o,i)),xv}function xS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[An]=i,o[Wn]=m,u){case"dialog":ut("cancel",o),ut("close",o);break;case"iframe":case"object":case"embed":ut("load",o);break;case"video":case"audio":for(u=0;u<of.length;u++)ut(of[u],o);break;case"source":ut("error",o);break;case"img":case"image":case"link":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"input":ut("invalid",o),sm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ut("invalid",o);break;case"textarea":ut("invalid",o),rl(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||MT(o.textContent,u)?(m.popover!=null&&(ut("beforetoggle",o),ut("toggle",o)),m.onScroll!=null&&ut("scroll",o),m.onScrollEnd!=null&&ut("scrollend",o),m.onClick!=null&&(o.onclick=qa),o=!0):o=!1,o||fl(i,!0)}function bS(i){for(cr=i.return;cr;)switch(cr.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:cr=cr.return}}function qc(i){if(i!==cr)return!1;if(!gt)return bS(i),gt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Lx(i.type,i.memoizedProps)),u=!u),u&&Yt&&fl(i),bS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=HT(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=HT(i)}else o===27?(o=Yt,Sl(i.type)?(i=$x,$x=null,Yt=i):Yt=o):Yt=cr?Ea(i.stateNode.nextSibling):null;return!0}function Io(){Yt=cr=null,gt=!1}function bv(){var i=dl;return i!==null&&(Vr===null?Vr=i:Vr.push.apply(Vr,i),dl=null),i}function Vd(i){dl===null?dl=[i]:dl.push(i)}var wv=V(null),Oo=null,cs=null;function hl(i,o,u){pe(wv,o._currentValue),o._currentValue=u}function us(i){i._currentValue=wv.current,W(wv)}function Nv(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function _v(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var I=v.child;b=b.firstContext;e:for(;b!==null;){var F=b;b=v;for(var K=0;K<o.length;K++)if(F.context===o[K]){b.lanes|=u,F=b.alternate,F!==null&&(F.lanes|=u),Nv(b.return,u,i),m||(I=null);break e}b=F.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=u,b=I.alternate,b!==null&&(b.lanes|=u),Nv(I,u,i),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===i){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function Hc(i,o,u,m){i=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var F=v.type;Zr(v.pendingProps.value,I.value)||(i!==null?i.push(F):i=[F])}}else if(v===De.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(hf):i=[hf])}v=v.return}i!==null&&_v(o,i,u,m),o.flags|=262144}function Tm(i){for(i=i.firstContext;i!==null;){if(!Zr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Do(i){Oo=i,cs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ur(i){return wS(Oo,i)}function Cm(i,o){return Oo===null&&Do(i),wS(i,o)}function wS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},cs===null){if(i===null)throw Error(r(308));cs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else cs=cs.next=o;return u}var R8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},P8=t.unstable_scheduleCallback,k8=t.unstable_NormalPriority,In={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jv(){return{controller:new R8,data:new Map,refCount:0}}function zd(i){i.refCount--,i.refCount===0&&P8(k8,function(){i.controller.abort()})}var Bd=null,Ev=0,Gc=0,Kc=null;function M8(i,o){if(Bd===null){var u=Bd=[];Ev=0,Gc=Tx(),Kc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Ev++,o.then(NS,NS),o}function NS(){if(--Ev===0&&Bd!==null){Kc!==null&&(Kc.status="fulfilled");var i=Bd;Bd=null,Gc=0,Kc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function L8(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var _S=G.S;G.S=function(i,o){sT=Pe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&M8(i,o),_S!==null&&_S(i,o)};var Ro=V(null);function Sv(){var i=Ro.current;return i!==null?i:Ft.pooledCache}function Im(i,o){o===null?pe(Ro,Ro.current):pe(Ro,o.pool)}function jS(){var i=Sv();return i===null?null:{parent:In._currentValue,pool:i}}var Yc=Error(r(460)),Av=Error(r(474)),Om=Error(r(542)),Dm={then:function(){}};function ES(i){return i=i.status,i==="fulfilled"||i==="rejected"}function SS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(qa,qa),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,TS(i),i;default:if(typeof o.status=="string")o.then(qa,qa);else{if(i=Ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,TS(i),i}throw ko=o,Yc}}function Po(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ko=u,Yc):u}}var ko=null;function AS(){if(ko===null)throw Error(r(459));var i=ko;return ko=null,i}function TS(i){if(i===Yc||i===Om)throw Error(r(483))}var Wc=null,$d=0;function Rm(i){var o=$d;return $d+=1,Wc===null&&(Wc=[]),SS(Wc,i,o)}function Fd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Pm(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function CS(i){function o(ee,Q){if(i){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function u(ee,Q){if(!i)return null;for(;Q!==null;)o(ee,Q),Q=Q.sibling;return null}function m(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function v(ee,Q){return ee=ls(ee,Q),ee.index=0,ee.sibling=null,ee}function b(ee,Q,ie){return ee.index=ie,i?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=67108866,Q):ie):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function I(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function F(ee,Q,ie,be){return Q===null||Q.tag!==6?(Q=pv(ie,ee.mode,be),Q.return=ee,Q):(Q=v(Q,ie),Q.return=ee,Q)}function K(ee,Q,ie,be){var qe=ie.type;return qe===j?ye(ee,Q,ie.props.children,be,ie.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===U&&Po(qe)===Q.type)?(Q=v(Q,ie.props),Fd(Q,ie),Q.return=ee,Q):(Q=Sm(ie.type,ie.key,ie.props,null,ee.mode,be),Fd(Q,ie),Q.return=ee,Q)}function se(ee,Q,ie,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=gv(ie,ee.mode,be),Q.return=ee,Q):(Q=v(Q,ie.children||[]),Q.return=ee,Q)}function ye(ee,Q,ie,be,qe){return Q===null||Q.tag!==7?(Q=Co(ie,ee.mode,be,qe),Q.return=ee,Q):(Q=v(Q,ie),Q.return=ee,Q)}function _e(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=pv(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return ie=Sm(Q.type,Q.key,Q.props,null,ee.mode,ie),Fd(ie,Q),ie.return=ee,ie;case E:return Q=gv(Q,ee.mode,ie),Q.return=ee,Q;case U:return Q=Po(Q),_e(ee,Q,ie)}if(re(Q)||z(Q))return Q=Co(Q,ee.mode,ie,null),Q.return=ee,Q;if(typeof Q.then=="function")return _e(ee,Rm(Q),ie);if(Q.$$typeof===M)return _e(ee,Cm(ee,Q),ie);Pm(ee,Q)}return null}function ce(ee,Q,ie,be){var qe=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return qe!==null?null:F(ee,Q,""+ie,be);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:return ie.key===qe?K(ee,Q,ie,be):null;case E:return ie.key===qe?se(ee,Q,ie,be):null;case U:return ie=Po(ie),ce(ee,Q,ie,be)}if(re(ie)||z(ie))return qe!==null?null:ye(ee,Q,ie,be,null);if(typeof ie.then=="function")return ce(ee,Q,Rm(ie),be);if(ie.$$typeof===M)return ce(ee,Q,Cm(ee,ie),be);Pm(ee,ie)}return null}function fe(ee,Q,ie,be,qe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ee=ee.get(ie)||null,F(Q,ee,""+be,qe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case N:return ee=ee.get(be.key===null?ie:be.key)||null,K(Q,ee,be,qe);case E:return ee=ee.get(be.key===null?ie:be.key)||null,se(Q,ee,be,qe);case U:return be=Po(be),fe(ee,Q,ie,be,qe)}if(re(be)||z(be))return ee=ee.get(ie)||null,ye(Q,ee,be,qe,null);if(typeof be.then=="function")return fe(ee,Q,ie,Rm(be),qe);if(be.$$typeof===M)return fe(ee,Q,ie,Cm(Q,be),qe);Pm(Q,be)}return null}function Le(ee,Q,ie,be){for(var qe=null,xt=null,Ue=Q,lt=Q=0,ft=null;Ue!==null&&lt<ie.length;lt++){Ue.index>lt?(ft=Ue,Ue=null):ft=Ue.sibling;var bt=ce(ee,Ue,ie[lt],be);if(bt===null){Ue===null&&(Ue=ft);break}i&&Ue&&bt.alternate===null&&o(ee,Ue),Q=b(bt,Q,lt),xt===null?qe=bt:xt.sibling=bt,xt=bt,Ue=ft}if(lt===ie.length)return u(ee,Ue),gt&&os(ee,lt),qe;if(Ue===null){for(;lt<ie.length;lt++)Ue=_e(ee,ie[lt],be),Ue!==null&&(Q=b(Ue,Q,lt),xt===null?qe=Ue:xt.sibling=Ue,xt=Ue);return gt&&os(ee,lt),qe}for(Ue=m(Ue);lt<ie.length;lt++)ft=fe(Ue,ee,lt,ie[lt],be),ft!==null&&(i&&ft.alternate!==null&&Ue.delete(ft.key===null?lt:ft.key),Q=b(ft,Q,lt),xt===null?qe=ft:xt.sibling=ft,xt=ft);return i&&Ue.forEach(function(Ol){return o(ee,Ol)}),gt&&os(ee,lt),qe}function Ke(ee,Q,ie,be){if(ie==null)throw Error(r(151));for(var qe=null,xt=null,Ue=Q,lt=Q=0,ft=null,bt=ie.next();Ue!==null&&!bt.done;lt++,bt=ie.next()){Ue.index>lt?(ft=Ue,Ue=null):ft=Ue.sibling;var Ol=ce(ee,Ue,bt.value,be);if(Ol===null){Ue===null&&(Ue=ft);break}i&&Ue&&Ol.alternate===null&&o(ee,Ue),Q=b(Ol,Q,lt),xt===null?qe=Ol:xt.sibling=Ol,xt=Ol,Ue=ft}if(bt.done)return u(ee,Ue),gt&&os(ee,lt),qe;if(Ue===null){for(;!bt.done;lt++,bt=ie.next())bt=_e(ee,bt.value,be),bt!==null&&(Q=b(bt,Q,lt),xt===null?qe=bt:xt.sibling=bt,xt=bt);return gt&&os(ee,lt),qe}for(Ue=m(Ue);!bt.done;lt++,bt=ie.next())bt=fe(Ue,ee,lt,bt.value,be),bt!==null&&(i&&bt.alternate!==null&&Ue.delete(bt.key===null?lt:bt.key),Q=b(bt,Q,lt),xt===null?qe=bt:xt.sibling=bt,xt=bt);return i&&Ue.forEach(function(YV){return o(ee,YV)}),gt&&os(ee,lt),qe}function Lt(ee,Q,ie,be){if(typeof ie=="object"&&ie!==null&&ie.type===j&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case N:e:{for(var qe=ie.key;Q!==null;){if(Q.key===qe){if(qe=ie.type,qe===j){if(Q.tag===7){u(ee,Q.sibling),be=v(Q,ie.props.children),be.return=ee,ee=be;break e}}else if(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===U&&Po(qe)===Q.type){u(ee,Q.sibling),be=v(Q,ie.props),Fd(be,ie),be.return=ee,ee=be;break e}u(ee,Q);break}else o(ee,Q);Q=Q.sibling}ie.type===j?(be=Co(ie.props.children,ee.mode,be,ie.key),be.return=ee,ee=be):(be=Sm(ie.type,ie.key,ie.props,null,ee.mode,be),Fd(be,ie),be.return=ee,ee=be)}return I(ee);case E:e:{for(qe=ie.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){u(ee,Q.sibling),be=v(Q,ie.children||[]),be.return=ee,ee=be;break e}else{u(ee,Q);break}else o(ee,Q);Q=Q.sibling}be=gv(ie,ee.mode,be),be.return=ee,ee=be}return I(ee);case U:return ie=Po(ie),Lt(ee,Q,ie,be)}if(re(ie))return Le(ee,Q,ie,be);if(z(ie)){if(qe=z(ie),typeof qe!="function")throw Error(r(150));return ie=qe.call(ie),Ke(ee,Q,ie,be)}if(typeof ie.then=="function")return Lt(ee,Q,Rm(ie),be);if(ie.$$typeof===M)return Lt(ee,Q,Cm(ee,ie),be);Pm(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(u(ee,Q.sibling),be=v(Q,ie),be.return=ee,ee=be):(u(ee,Q),be=pv(ie,ee.mode,be),be.return=ee,ee=be),I(ee)):u(ee,Q)}return function(ee,Q,ie,be){try{$d=0;var qe=Lt(ee,Q,ie,be);return Wc=null,qe}catch(Ue){if(Ue===Yc||Ue===Om)throw Ue;var xt=ea(29,Ue,null,ee.mode);return xt.lanes=be,xt.return=ee,xt}finally{}}}var Mo=CS(!0),IS=CS(!1),ml=!1;function Tv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function pl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gl(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Em(i),hS(i,null,u),o}return jm(i,m,o,u),Em(i)}function qd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,yd(i,u)}}function Iv(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=I:b=b.next=I,u=u.next}while(u!==null);b===null?v=b=o:b=b.next=o}else v=b=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Ov=!1;function Hd(){if(Ov){var i=Kc;if(i!==null)throw i}}function Gd(i,o,u,m){Ov=!1;var v=i.updateQueue;ml=!1;var b=v.firstBaseUpdate,I=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var K=F,se=K.next;K.next=null,I===null?b=se:I.next=se,I=K;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,F=ye.lastBaseUpdate,F!==I&&(F===null?ye.firstBaseUpdate=se:F.next=se,ye.lastBaseUpdate=K))}if(b!==null){var _e=v.baseState;I=0,ye=se=K=null,F=b;do{var ce=F.lane&-536870913,fe=ce!==F.lane;if(fe?(dt&ce)===ce:(m&ce)===ce){ce!==0&&ce===Gc&&(Ov=!0),ye!==null&&(ye=ye.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Le=i,Ke=F;ce=o;var Lt=u;switch(Ke.tag){case 1:if(Le=Ke.payload,typeof Le=="function"){_e=Le.call(Lt,_e,ce);break e}_e=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ke.payload,ce=typeof Le=="function"?Le.call(Lt,_e,ce):Le,ce==null)break e;_e=g({},_e,ce);break e;case 2:ml=!0}}ce=F.callback,ce!==null&&(i.flags|=64,fe&&(i.flags|=8192),fe=v.callbacks,fe===null?v.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ye===null?(se=ye=fe,K=_e):ye=ye.next=fe,I|=ce;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;fe=F,F=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);ye===null&&(K=_e),v.baseState=K,v.firstBaseUpdate=se,v.lastBaseUpdate=ye,b===null&&(v.shared.lanes=0),wl|=I,i.lanes=I,i.memoizedState=_e}}function OS(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function DS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)OS(u[i],o)}var Xc=V(null),km=V(0);function RS(i,o){i=xs,pe(km,i),pe(Xc,o),xs=i|o.baseLanes}function Dv(){pe(km,xs),pe(Xc,Xc.current)}function Rv(){xs=km.current,W(Xc),W(km)}var ta=V(null),ja=null;function yl(i){var o=i.alternate;pe(xn,xn.current&1),pe(ta,i),ja===null&&(o===null||Xc.current!==null||o.memoizedState!==null)&&(ja=i)}function Pv(i){pe(xn,xn.current),pe(ta,i),ja===null&&(ja=i)}function PS(i){i.tag===22?(pe(xn,xn.current),pe(ta,i),ja===null&&(ja=i)):vl()}function vl(){pe(xn,xn.current),pe(ta,ta.current)}function na(i){W(ta),ja===i&&(ja=null),W(xn)}var xn=V(0);function Mm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||zx(u)||Bx(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ds=0,st=null,kt=null,On=null,Lm=!1,Qc=!1,Lo=!1,Um=0,Kd=0,Jc=null,U8=0;function fn(){throw Error(r(321))}function kv(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Zr(i[u],o[u]))return!1;return!0}function Mv(i,o,u,m,v,b){return ds=b,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=i===null||i.memoizedState===null?yA:Qv,Lo=!1,b=u(m,v),Lo=!1,Qc&&(b=MS(o,u,m,v)),kS(i),b}function kS(i){G.H=Xd;var o=kt!==null&&kt.next!==null;if(ds=0,On=kt=st=null,Lm=!1,Kd=0,Jc=null,o)throw Error(r(300));i===null||Dn||(i=i.dependencies,i!==null&&Tm(i)&&(Dn=!0))}function MS(i,o,u,m){st=i;var v=0;do{if(Qc&&(Jc=null),Kd=0,Qc=!1,25<=v)throw Error(r(301));if(v+=1,On=kt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=vA,b=o(u,m)}while(Qc);return b}function V8(){var i=G.H,o=i.useState()[0];return o=typeof o.then=="function"?Yd(o):o,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(st.flags|=1024),o}function Lv(){var i=Um!==0;return Um=0,i}function Uv(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Vv(i){if(Lm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Lm=!1}ds=0,On=kt=st=null,Qc=!1,Kd=Um=0,Jc=null}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?st.memoizedState=On=i:On=On.next=i,On}function bn(){if(kt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var o=On===null?st.memoizedState:On.next;if(o!==null)On=o,kt=i;else{if(i===null)throw st.alternate===null?Error(r(467)):Error(r(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},On===null?st.memoizedState=On=i:On=On.next=i}return On}function Vm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yd(i){var o=Kd;return Kd+=1,Jc===null&&(Jc=[]),i=SS(Jc,i,o),o=st,(On===null?o.memoizedState:On.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?yA:Qv),i}function zm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yd(i);if(i.$$typeof===M)return ur(i)}throw Error(r(438,String(i)))}function zv(i){var o=null,u=st.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=st.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Vm(),st.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=A;return o.index++,u}function fs(i,o){return typeof o=="function"?o(i):o}function Bm(i){var o=bn();return Bv(o,kt,i)}function Bv(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,b=m.pending;if(b!==null){if(v!==null){var I=v.next;v.next=b.next,b.next=I}o.baseQueue=v=b,m.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{o=v.next;var F=I=null,K=null,se=o,ye=!1;do{var _e=se.lane&-536870913;if(_e!==se.lane?(dt&_e)===_e:(ds&_e)===_e){var ce=se.revertLane;if(ce===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),_e===Gc&&(ye=!0);else if((ds&ce)===ce){se=se.next,ce===Gc&&(ye=!0);continue}else _e={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(F=K=_e,I=b):K=K.next=_e,st.lanes|=ce,wl|=ce;_e=se.action,Lo&&u(b,_e),b=se.hasEagerState?se.eagerState:u(b,_e)}else ce={lane:_e,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(F=K=ce,I=b):K=K.next=ce,st.lanes|=_e,wl|=_e;se=se.next}while(se!==null&&se!==o);if(K===null?I=b:K.next=F,!Zr(b,i.memoizedState)&&(Dn=!0,ye&&(u=Kc,u!==null)))throw u;i.memoizedState=b,i.baseState=I,i.baseQueue=K,m.lastRenderedState=b}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function $v(i){var o=bn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,b=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do b=i(b,I.action),I=I.next;while(I!==v);Zr(b,o.memoizedState)||(Dn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function LS(i,o,u){var m=st,v=bn(),b=gt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Zr((kt||v).memoizedState,u);if(I&&(v.memoizedState=u,Dn=!0),v=v.queue,Hv(zS.bind(null,m,v,i),[i]),v.getSnapshot!==o||I||On!==null&&On.memoizedState.tag&1){if(m.flags|=2048,Zc(9,{destroy:void 0},VS.bind(null,m,v,u,o),null),Ft===null)throw Error(r(349));b||(ds&127)!==0||US(m,o,u)}return u}function US(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o=Vm(),st.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function VS(i,o,u,m){o.value=u,o.getSnapshot=m,BS(o)&&$S(i)}function zS(i,o,u){return u(function(){BS(o)&&$S(i)})}function BS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Zr(i,u)}catch{return!0}}function $S(i){var o=To(i,2);o!==null&&zr(o,i,2)}function Fv(i){var o=Tr();if(typeof i=="function"){var u=i;if(i=u(),Lo){ma(!0);try{u()}finally{ma(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:i},o}function FS(i,o,u,m){return i.baseState=u,Bv(i,kt,typeof m=="function"?m:fs)}function z8(i,o,u,m,v){if(qm(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};G.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,qS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function qS(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var b=G.T,I={};G.T=I;try{var F=u(v,m),K=G.S;K!==null&&K(I,F),HS(i,o,F)}catch(se){qv(i,o,se)}finally{b!==null&&I.types!==null&&(b.types=I.types),G.T=b}}else try{b=u(v,m),HS(i,o,b)}catch(se){qv(i,o,se)}}function HS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){GS(i,o,m)},function(m){return qv(i,o,m)}):GS(i,o,u)}function GS(i,o,u){o.status="fulfilled",o.value=u,KS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,qS(i,u)))}function qv(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,KS(o),o=o.next;while(o!==m)}i.action=null}function KS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function YS(i,o){return o}function WS(i,o){if(gt){var u=Ft.formState;if(u!==null){e:{var m=st;if(gt){if(Yt){t:{for(var v=Yt,b=_a;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ea(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Yt=Ea(v.nextSibling),m=v.data==="F!";break e}}fl(m)}m=!1}m&&(o=u[0])}}return u=Tr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YS,lastRenderedState:o},u.queue=m,u=mA.bind(null,st,m),m.dispatch=u,m=Fv(!1),b=Xv.bind(null,st,!1,m.queue),m=Tr(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=z8.bind(null,st,v,b,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function XS(i){var o=bn();return QS(o,kt,i)}function QS(i,o,u){if(o=Bv(i,o,YS)[0],i=Bm(fs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Yd(o)}catch(I){throw I===Yc?Om:I}else m=o;o=bn();var v=o.queue,b=v.dispatch;return u!==o.memoizedState&&(st.flags|=2048,Zc(9,{destroy:void 0},B8.bind(null,v,u),null)),[m,b,i]}function B8(i,o){i.action=o}function JS(i){var o=bn(),u=kt;if(u!==null)return QS(o,u,i);bn(),o=o.memoizedState,u=bn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function Zc(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=st.updateQueue,o===null&&(o=Vm(),st.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function ZS(){return bn().memoizedState}function $m(i,o,u,m){var v=Tr();st.flags|=i,v.memoizedState=Zc(1|o,{destroy:void 0},u,m===void 0?null:m)}function Fm(i,o,u,m){var v=bn();m=m===void 0?null:m;var b=v.memoizedState.inst;kt!==null&&m!==null&&kv(m,kt.memoizedState.deps)?v.memoizedState=Zc(o,b,u,m):(st.flags|=i,v.memoizedState=Zc(1|o,b,u,m))}function eA(i,o){$m(8390656,8,i,o)}function Hv(i,o){Fm(2048,8,i,o)}function $8(i){st.flags|=4;var o=st.updateQueue;if(o===null)o=Vm(),st.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function tA(i){var o=bn().memoizedState;return $8({ref:o,nextImpl:i}),function(){if((jt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function nA(i,o){return Fm(4,2,i,o)}function rA(i,o){return Fm(4,4,i,o)}function aA(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function iA(i,o,u){u=u!=null?u.concat([i]):null,Fm(4,4,aA.bind(null,o,i),u)}function Gv(){}function sA(i,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&kv(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function lA(i,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&kv(o,m[1]))return m[0];if(m=i(),Lo){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m}function Kv(i,o,u){return u===void 0||(ds&1073741824)!==0&&(dt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=oT(),st.lanes|=i,wl|=i,u)}function oA(i,o,u,m){return Zr(u,o)?u:Xc.current!==null?(i=Kv(i,u,m),Zr(i,o)||(Dn=!0),i):(ds&42)===0||(ds&1073741824)!==0&&(dt&261930)===0?(Dn=!0,i.memoizedState=u):(i=oT(),st.lanes|=i,wl|=i,o)}function cA(i,o,u,m,v){var b=Y.p;Y.p=b!==0&&8>b?b:8;var I=G.T,F={};G.T=F,Xv(i,!1,o,u);try{var K=v(),se=G.S;if(se!==null&&se(F,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ye=L8(K,m);Wd(i,o,ye,ia(i))}else Wd(i,o,m,ia(i))}catch(_e){Wd(i,o,{then:function(){},status:"rejected",reason:_e},ia())}finally{Y.p=b,I!==null&&F.types!==null&&(I.types=F.types),G.T=I}}function F8(){}function Yv(i,o,u,m){if(i.tag!==5)throw Error(r(476));var v=uA(i).queue;cA(i,v,o,H,u===null?F8:function(){return dA(i),u(m)})}function uA(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function dA(i){var o=uA(i);o.next===null&&(o=i.alternate.memoizedState),Wd(i,o.next.queue,{},ia())}function Wv(){return ur(hf)}function fA(){return bn().memoizedState}function hA(){return bn().memoizedState}function q8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=ia();i=pl(u);var m=gl(o,i,u);m!==null&&(zr(m,o,u),qd(m,o,u)),o={cache:jv()},i.payload=o;return}o=o.return}}function H8(i,o,u){var m=ia();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},qm(i)?pA(o,u):(u=hv(i,o,u,m),u!==null&&(zr(u,i,m),gA(u,o,m)))}function mA(i,o,u){var m=ia();Wd(i,o,u,m)}function Wd(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(qm(i))pA(o,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var I=o.lastRenderedState,F=b(I,u);if(v.hasEagerState=!0,v.eagerState=F,Zr(F,I))return jm(i,o,v,0),Ft===null&&_m(),!1}catch{}finally{}if(u=hv(i,o,v,m),u!==null)return zr(u,i,m),gA(u,o,m),!0}return!1}function Xv(i,o,u,m){if(m={lane:2,revertLane:Tx(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},qm(i)){if(o)throw Error(r(479))}else o=hv(i,u,m,2),o!==null&&zr(o,i,2)}function qm(i){var o=i.alternate;return i===st||o!==null&&o===st}function pA(i,o){Qc=Lm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function gA(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,yd(i,u)}}var Xd={readContext:ur,use:zm,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Xd.useEffectEvent=fn;var yA={readContext:ur,use:zm,useCallback:function(i,o){return Tr().memoizedState=[i,o===void 0?null:o],i},useContext:ur,useEffect:eA,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,$m(4194308,4,aA.bind(null,o,i),u)},useLayoutEffect:function(i,o){return $m(4194308,4,i,o)},useInsertionEffect:function(i,o){$m(4,2,i,o)},useMemo:function(i,o){var u=Tr();o=o===void 0?null:o;var m=i();if(Lo){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Tr();if(u!==void 0){var v=u(o);if(Lo){ma(!0);try{u(o)}finally{ma(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=H8.bind(null,st,i),[m.memoizedState,i]},useRef:function(i){var o=Tr();return i={current:i},o.memoizedState=i},useState:function(i){i=Fv(i);var o=i.queue,u=mA.bind(null,st,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Gv,useDeferredValue:function(i,o){var u=Tr();return Kv(u,i,o)},useTransition:function(){var i=Fv(!1);return i=cA.bind(null,st,i.queue,!0,!1),Tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=st,v=Tr();if(gt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Ft===null)throw Error(r(349));(dt&127)!==0||US(m,o,u)}v.memoizedState=u;var b={value:u,getSnapshot:o};return v.queue=b,eA(zS.bind(null,m,b,i),[i]),m.flags|=2048,Zc(9,{destroy:void 0},VS.bind(null,m,b,u,o),null),u},useId:function(){var i=Tr(),o=Ft.identifierPrefix;if(gt){var u=Ri,m=Di;u=(m&~(1<<32-yn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Um++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=U8++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Wv,useFormState:WS,useActionState:WS,useOptimistic:function(i){var o=Tr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Xv.bind(null,st,!0,u),u.dispatch=o,[i,o]},useMemoCache:zv,useCacheRefresh:function(){return Tr().memoizedState=q8.bind(null,st)},useEffectEvent:function(i){var o=Tr(),u={impl:i};return o.memoizedState=u,function(){if((jt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Qv={readContext:ur,use:zm,useCallback:sA,useContext:ur,useEffect:Hv,useImperativeHandle:iA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:lA,useReducer:Bm,useRef:ZS,useState:function(){return Bm(fs)},useDebugValue:Gv,useDeferredValue:function(i,o){var u=bn();return oA(u,kt.memoizedState,i,o)},useTransition:function(){var i=Bm(fs)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:Yd(i),o]},useSyncExternalStore:LS,useId:fA,useHostTransitionStatus:Wv,useFormState:XS,useActionState:XS,useOptimistic:function(i,o){var u=bn();return FS(u,kt,i,o)},useMemoCache:zv,useCacheRefresh:hA};Qv.useEffectEvent=tA;var vA={readContext:ur,use:zm,useCallback:sA,useContext:ur,useEffect:Hv,useImperativeHandle:iA,useInsertionEffect:nA,useLayoutEffect:rA,useMemo:lA,useReducer:$v,useRef:ZS,useState:function(){return $v(fs)},useDebugValue:Gv,useDeferredValue:function(i,o){var u=bn();return kt===null?Kv(u,i,o):oA(u,kt.memoizedState,i,o)},useTransition:function(){var i=$v(fs)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:Yd(i),o]},useSyncExternalStore:LS,useId:fA,useHostTransitionStatus:Wv,useFormState:JS,useActionState:JS,useOptimistic:function(i,o){var u=bn();return kt!==null?FS(u,kt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:zv,useCacheRefresh:hA};vA.useEffectEvent=tA;function Jv(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Zv={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=ia(),v=pl(m);v.payload=o,u!=null&&(v.callback=u),o=gl(i,v,m),o!==null&&(zr(o,i,m),qd(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=ia(),v=pl(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=gl(i,v,m),o!==null&&(zr(o,i,m),qd(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=ia(),m=pl(u);m.tag=2,o!=null&&(m.callback=o),o=gl(i,m,u),o!==null&&(zr(o,i,u),qd(o,i,u))}};function xA(i,o,u,m,v,b,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,I):o.prototype&&o.prototype.isPureReactComponent?!Md(u,m)||!Md(v,b):!0}function bA(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Zv.enqueueReplaceState(o,o.state,null)}function Uo(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function wA(i){Nm(i)}function NA(i){console.error(i)}function _A(i){Nm(i)}function Hm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function jA(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ex(i,o,u){return u=pl(u),u.tag=3,u.payload={element:null},u.callback=function(){Hm(i,o)},u}function EA(i){return i=pl(i),i.tag=3,i}function SA(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;i.payload=function(){return v(b)},i.callback=function(){jA(o,u,m)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){jA(o,u,m),typeof v!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function G8(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Hc(o,u,v,!0),u=ta.current,u!==null){switch(u.tag){case 31:case 13:return ja===null?rp():u.alternate===null&&hn===0&&(hn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Dm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Ex(i,m,v)),!1;case 22:return u.flags|=65536,m===Dm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Ex(i,m,v)),!1}throw Error(r(435,u.tag))}return Ex(i,m,v),rp(),!1}if(gt)return o=ta.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==xv&&(i=Error(r(422),{cause:m}),Vd(ba(i,u)))):(m!==xv&&(o=Error(r(423),{cause:m}),Vd(ba(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=ba(m,u),v=ex(i.stateNode,m,v),Iv(i,v),hn!==4&&(hn=2)),!1;var b=Error(r(520),{cause:m});if(b=ba(b,u),af===null?af=[b]:af.push(b),hn!==4&&(hn=2),o===null)return!0;m=ba(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=ex(u.stateNode,m,i),Iv(u,i),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Nl===null||!Nl.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=EA(v),SA(v,i,u,m),Iv(u,v),!1}u=u.return}while(u!==null);return!1}var tx=Error(r(461)),Dn=!1;function dr(i,o,u,m){o.child=i===null?IS(o,null,u,m):Mo(o,i.child,u,m)}function AA(i,o,u,m,v){u=u.render;var b=o.ref;if("ref"in m){var I={};for(var F in m)F!=="ref"&&(I[F]=m[F])}else I=m;return Do(o),m=Mv(i,o,u,I,b,v),F=Lv(),i!==null&&!Dn?(Uv(i,o,v),hs(i,o,v)):(gt&&F&&yv(o),o.flags|=1,dr(i,o,m,v),o.child)}function TA(i,o,u,m,v){if(i===null){var b=u.type;return typeof b=="function"&&!mv(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,CA(i,o,b,m,v)):(i=Sm(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!cx(i,v)){var I=b.memoizedProps;if(u=u.compare,u=u!==null?u:Md,u(I,m)&&i.ref===o.ref)return hs(i,o,v)}return o.flags|=1,i=ls(b,m),i.ref=o.ref,i.return=o,o.child=i}function CA(i,o,u,m,v){if(i!==null){var b=i.memoizedProps;if(Md(b,m)&&i.ref===o.ref)if(Dn=!1,o.pendingProps=m=b,cx(i,v))(i.flags&131072)!==0&&(Dn=!0);else return o.lanes=i.lanes,hs(i,o,v)}return nx(i,o,u,m,v)}function IA(i,o,u,m){var v=m.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,o.child=null;return OA(i,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Im(o,b!==null?b.cachePool:null),b!==null?RS(o,b):Dv(),PS(o);else return m=o.lanes=536870912,OA(i,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Im(o,b.cachePool),RS(o,b),vl(),o.memoizedState=null):(i!==null&&Im(o,null),Dv(),vl());return dr(i,o,v,u),o.child}function Qd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function OA(i,o,u,m,v){var b=Sv();return b=b===null?null:{parent:In._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},i!==null&&Im(o,null),Dv(),PS(o),i!==null&&Hc(i,o,m,!0),o.childLanes=v,null}function Gm(i,o){return o=Ym({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function DA(i,o,u){return Mo(o,i.child,null,u),i=Gm(o,o.pendingProps),i.flags|=2,na(o),o.memoizedState=null,i}function K8(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(gt){if(m.mode==="hidden")return i=Gm(o,m),o.lanes=536870912,Qd(null,i);if(Pv(o),(i=Yt)?(i=qT(i,_a),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ul!==null?{id:Di,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},u=pS(i),u.return=o,o.child=u,cr=o,Yt=null)):i=null,i===null)throw fl(o);return o.lanes=536870912,null}return Gm(o,m)}var b=i.memoizedState;if(b!==null){var I=b.dehydrated;if(Pv(o),v)if(o.flags&256)o.flags&=-257,o=DA(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Dn||Hc(i,o,u,!1),v=(u&i.childLanes)!==0,Dn||v){if(m=Ft,m!==null&&(I=vd(m,u),I!==0&&I!==b.retryLane))throw b.retryLane=I,To(i,I),zr(m,i,I),tx;rp(),o=DA(i,o,u)}else i=b.treeContext,Yt=Ea(I.nextSibling),cr=o,gt=!0,dl=null,_a=!1,i!==null&&vS(o,i),o=Gm(o,m),o.flags|=4096;return o}return i=ls(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Km(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function nx(i,o,u,m,v){return Do(o),u=Mv(i,o,u,m,void 0,v),m=Lv(),i!==null&&!Dn?(Uv(i,o,v),hs(i,o,v)):(gt&&m&&yv(o),o.flags|=1,dr(i,o,u,v),o.child)}function RA(i,o,u,m,v,b){return Do(o),o.updateQueue=null,u=MS(o,m,u,v),kS(i),m=Lv(),i!==null&&!Dn?(Uv(i,o,b),hs(i,o,b)):(gt&&m&&yv(o),o.flags|=1,dr(i,o,u,b),o.child)}function PA(i,o,u,m,v){if(Do(o),o.stateNode===null){var b=Bc,I=u.contextType;typeof I=="object"&&I!==null&&(b=ur(I)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Zv,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Tv(o),I=u.contextType,b.context=typeof I=="object"&&I!==null?ur(I):Bc,b.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Jv(o,u,I,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&Zv.enqueueReplaceState(b,b.state,null),Gd(o,m,b,v),Hd(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){b=o.stateNode;var F=o.memoizedProps,K=Uo(u,F);b.props=K;var se=b.context,ye=u.contextType;I=Bc,typeof ye=="object"&&ye!==null&&(I=ur(ye));var _e=u.getDerivedStateFromProps;ye=typeof _e=="function"||typeof b.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(F||se!==I)&&bA(o,b,m,I),ml=!1;var ce=o.memoizedState;b.state=ce,Gd(o,m,b,v),Hd(),se=o.memoizedState,F||ce!==se||ml?(typeof _e=="function"&&(Jv(o,u,_e,m),se=o.memoizedState),(K=ml||xA(o,u,K,m,ce,se,I))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=se),b.props=m,b.state=se,b.context=I,m=K):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Cv(i,o),I=o.memoizedProps,ye=Uo(u,I),b.props=ye,_e=o.pendingProps,ce=b.context,se=u.contextType,K=Bc,typeof se=="object"&&se!==null&&(K=ur(se)),F=u.getDerivedStateFromProps,(se=typeof F=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==_e||ce!==K)&&bA(o,b,m,K),ml=!1,ce=o.memoizedState,b.state=ce,Gd(o,m,b,v),Hd();var fe=o.memoizedState;I!==_e||ce!==fe||ml||i!==null&&i.dependencies!==null&&Tm(i.dependencies)?(typeof F=="function"&&(Jv(o,u,F,m),fe=o.memoizedState),(ye=ml||xA(o,u,ye,m,ce,fe,K)||i!==null&&i.dependencies!==null&&Tm(i.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,fe,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,fe,K)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&ce===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&ce===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=fe),b.props=m,b.state=fe,b.context=K,m=ye):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&ce===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&ce===i.memoizedState||(o.flags|=1024),m=!1)}return b=m,Km(i,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&m?(o.child=Mo(o,i.child,null,v),o.child=Mo(o,null,u,v)):dr(i,o,u,v),o.memoizedState=b.state,i=o.child):i=hs(i,o,v),i}function kA(i,o,u,m){return Io(),o.flags|=256,dr(i,o,u,m),o.child}var rx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ax(i){return{baseLanes:i,cachePool:jS()}}function ix(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=aa),i}function MA(i,o,u){var m=o.pendingProps,v=!1,b=(o.flags&128)!==0,I;if((I=b)||(I=i!==null&&i.memoizedState===null?!1:(xn.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,i===null){if(gt){if(v?yl(o):vl(),(i=Yt)?(i=qT(i,_a),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ul!==null?{id:Di,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},u=pS(i),u.return=o,o.child=u,cr=o,Yt=null)):i=null,i===null)throw fl(o);return Bx(i)?o.lanes=32:o.lanes=536870912,null}var F=m.children;return m=m.fallback,v?(vl(),v=o.mode,F=Ym({mode:"hidden",children:F},v),m=Co(m,v,u,null),F.return=o,m.return=o,F.sibling=m,o.child=F,m=o.child,m.memoizedState=ax(u),m.childLanes=ix(i,I,u),o.memoizedState=rx,Qd(null,m)):(yl(o),sx(o,F))}var K=i.memoizedState;if(K!==null&&(F=K.dehydrated,F!==null)){if(b)o.flags&256?(yl(o),o.flags&=-257,o=lx(i,o,u)):o.memoizedState!==null?(vl(),o.child=i.child,o.flags|=128,o=null):(vl(),F=m.fallback,v=o.mode,m=Ym({mode:"visible",children:m.children},v),F=Co(F,v,u,null),F.flags|=2,m.return=o,F.return=o,m.sibling=F,o.child=m,Mo(o,i.child,null,u),m=o.child,m.memoizedState=ax(u),m.childLanes=ix(i,I,u),o.memoizedState=rx,o=Qd(null,m));else if(yl(o),Bx(F)){if(I=F.nextSibling&&F.nextSibling.dataset,I)var se=I.dgst;I=se,m=Error(r(419)),m.stack="",m.digest=I,Vd({value:m,source:null,stack:null}),o=lx(i,o,u)}else if(Dn||Hc(i,o,u,!1),I=(u&i.childLanes)!==0,Dn||I){if(I=Ft,I!==null&&(m=vd(I,u),m!==0&&m!==K.retryLane))throw K.retryLane=m,To(i,m),zr(I,i,m),tx;zx(F)||rp(),o=lx(i,o,u)}else zx(F)?(o.flags|=192,o.child=i.child,o=null):(i=K.treeContext,Yt=Ea(F.nextSibling),cr=o,gt=!0,dl=null,_a=!1,i!==null&&vS(o,i),o=sx(o,m.children),o.flags|=4096);return o}return v?(vl(),F=m.fallback,v=o.mode,K=i.child,se=K.sibling,m=ls(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,se!==null?F=ls(se,F):(F=Co(F,v,u,null),F.flags|=2),F.return=o,m.return=o,m.sibling=F,o.child=m,Qd(null,m),m=o.child,F=i.child.memoizedState,F===null?F=ax(u):(v=F.cachePool,v!==null?(K=In._currentValue,v=v.parent!==K?{parent:K,pool:K}:v):v=jS(),F={baseLanes:F.baseLanes|u,cachePool:v}),m.memoizedState=F,m.childLanes=ix(i,I,u),o.memoizedState=rx,Qd(i.child,m)):(yl(o),u=i.child,i=u.sibling,u=ls(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(I=o.deletions,I===null?(o.deletions=[i],o.flags|=16):I.push(i)),o.child=u,o.memoizedState=null,u)}function sx(i,o){return o=Ym({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Ym(i,o){return i=ea(22,i,null,o),i.lanes=0,i}function lx(i,o,u){return Mo(o,i.child,null,u),i=sx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function LA(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Nv(i.return,o,u)}function ox(i,o,u,m,v,b){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=u,I.tailMode=v,I.treeForkCount=b)}function UA(i,o,u){var m=o.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var I=xn.current,F=(I&2)!==0;if(F?(I=I&1|2,o.flags|=128):I&=1,pe(xn,I),dr(i,o,m,u),m=gt?Ud:0,!F&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&LA(i,u,o);else if(i.tag===19)LA(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Mm(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),ox(o,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Mm(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}ox(o,!0,u,null,b,m);break;case"together":ox(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function hs(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),wl|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Hc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=ls(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ls(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function cx(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Tm(i)))}function Y8(i,o,u){switch(o.tag){case 3:ae(o,o.stateNode.containerInfo),hl(o,In,i.memoizedState.cache),Io();break;case 27:case 5:ke(o);break;case 4:ae(o,o.stateNode.containerInfo);break;case 10:hl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Pv(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(yl(o),o.flags|=128,null):(u&o.child.childLanes)!==0?MA(i,o,u):(yl(o),i=hs(i,o,u),i!==null?i.sibling:null);yl(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Hc(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return UA(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),pe(xn,xn.current),m)break;return null;case 22:return o.lanes=0,IA(i,o,u,o.pendingProps);case 24:hl(o,In,i.memoizedState.cache)}return hs(i,o,u)}function VA(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Dn=!0;else{if(!cx(i,u)&&(o.flags&128)===0)return Dn=!1,Y8(i,o,u);Dn=(i.flags&131072)!==0}else Dn=!1,gt&&(o.flags&1048576)!==0&&yS(o,Ud,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Po(o.elementType),o.type=i,typeof i=="function")mv(i)?(m=Uo(i,m),o.tag=1,o=PA(null,o,i,m,u)):(o.tag=0,o=nx(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===T){o.tag=11,o=AA(null,o,i,m,u);break e}else if(v===P){o.tag=14,o=TA(null,o,i,m,u);break e}}throw o=ge(i)||i,Error(r(306,o,""))}}return o;case 0:return nx(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Uo(m,o.pendingProps),PA(i,o,m,v,u);case 3:e:{if(ae(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;v=b.element,Cv(i,o),Gd(o,m,null,u);var I=o.memoizedState;if(m=I.cache,hl(o,In,m),m!==b.cache&&_v(o,[In],u,!0),Hd(),m=I.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=kA(i,o,m,u);break e}else if(m!==v){v=ba(Error(r(424)),o),Vd(v),o=kA(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Yt=Ea(i.firstChild),cr=o,gt=!0,dl=null,_a=!0,u=IS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Io(),m===v){o=hs(i,o,u);break e}dr(i,o,m,u)}o=o.child}return o;case 26:return Km(i,o),i===null?(u=XT(o.type,null,o.pendingProps,null))?o.memoizedState=u:gt||(u=o.type,i=o.pendingProps,m=up(Te.current).createElement(u),m[An]=o,m[Wn]=i,fr(m,u,i),Tn(m),o.stateNode=m):o.memoizedState=XT(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ke(o),i===null&&gt&&(m=o.stateNode=KT(o.type,o.pendingProps,Te.current),cr=o,_a=!0,v=Yt,Sl(o.type)?($x=v,Yt=Ea(m.firstChild)):Yt=v),dr(i,o,o.pendingProps.children,u),Km(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&gt&&((v=m=Yt)&&(m=jV(m,o.type,o.pendingProps,_a),m!==null?(o.stateNode=m,cr=o,Yt=Ea(m.firstChild),_a=!1,v=!0):v=!1),v||fl(o)),ke(o),v=o.type,b=o.pendingProps,I=i!==null?i.memoizedProps:null,m=b.children,Lx(v,b)?m=null:I!==null&&Lx(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=Mv(i,o,V8,null,null,u),hf._currentValue=v),Km(i,o),dr(i,o,m,u),o.child;case 6:return i===null&&gt&&((i=u=Yt)&&(u=EV(u,o.pendingProps,_a),u!==null?(o.stateNode=u,cr=o,Yt=null,i=!0):i=!1),i||fl(o)),null;case 13:return MA(i,o,u);case 4:return ae(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Mo(o,null,m,u):dr(i,o,m,u),o.child;case 11:return AA(i,o,o.type,o.pendingProps,u);case 7:return dr(i,o,o.pendingProps,u),o.child;case 8:return dr(i,o,o.pendingProps.children,u),o.child;case 12:return dr(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,hl(o,o.type,m.value),dr(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Do(o),v=ur(v),m=m(v),o.flags|=1,dr(i,o,m,u),o.child;case 14:return TA(i,o,o.type,o.pendingProps,u);case 15:return CA(i,o,o.type,o.pendingProps,u);case 19:return UA(i,o,u);case 31:return K8(i,o,u);case 22:return IA(i,o,u,o.pendingProps);case 24:return Do(o),m=ur(In),i===null?(v=Sv(),v===null&&(v=Ft,b=jv(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),o.memoizedState={parent:m,cache:v},Tv(o),hl(o,In,v)):((i.lanes&u)!==0&&(Cv(i,o),Gd(o,null,null,u),Hd()),v=i.memoizedState,b=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),hl(o,In,m)):(m=b.cache,hl(o,In,m),m!==v.cache&&_v(o,[In],u,!0))),dr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ms(i){i.flags|=4}function ux(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(fT())i.flags|=8192;else throw ko=Dm,Av}else i.flags&=-16777217}function zA(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!t2(o))if(fT())i.flags|=8192;else throw ko=Dm,Av}function Wm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?tm():536870912,i.lanes|=o,ru|=o)}function Jd(i,o){if(!gt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function W8(i,o,u){var m=o.pendingProps;switch(vv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),us(In),le(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(qc(o)?ms(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,bv())),Wt(o),null;case 26:var v=o.type,b=o.memoizedState;return i===null?(ms(o),b!==null?(Wt(o),zA(o,b)):(Wt(o),ux(o,v,null,m,u))):b?b!==i.memoizedState?(ms(o),Wt(o),zA(o,b)):(Wt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&ms(o),Wt(o),ux(o,v,i,m,u)),null;case 27:if(J(o),u=Te.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ms(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}i=Z.current,qc(o)?xS(o):(i=KT(v,m,u),o.stateNode=i,ms(o))}return Wt(o),null;case 5:if(J(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ms(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(b=Z.current,qc(o))xS(o);else{var I=up(Te.current);switch(b){case 1:b=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=I.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?I.createElement(v,{is:m.is}):I.createElement(v)}}b[An]=o,b[Wn]=m;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)b.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=b;e:switch(fr(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ms(o)}}return Wt(o),ux(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&ms(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=Te.current,qc(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=cr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[An]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||MT(i.nodeValue,u)),i||fl(o,!0)}else i=up(i).createTextNode(m),i[An]=o,o.stateNode=i}return Wt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=qc(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[An]=o}else Io(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),i=!1}else u=bv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(na(o),o):(na(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Wt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=qc(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[An]=o}else Io(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else v=bv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(na(o),o):(na(o),null)}return na(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Wm(o,o.updateQueue),Wt(o),null);case 4:return le(),i===null&&Dx(o.stateNode.containerInfo),Wt(o),null;case 10:return us(o.type),Wt(o),null;case 19:if(W(xn),m=o.memoizedState,m===null)return Wt(o),null;if(v=(o.flags&128)!==0,b=m.rendering,b===null)if(v)Jd(m,!1);else{if(hn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Mm(i),b!==null){for(o.flags|=128,Jd(m,!1),i=b.updateQueue,o.updateQueue=i,Wm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)mS(u,i),u=u.sibling;return pe(xn,xn.current&1|2),gt&&os(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&Pe()>ep&&(o.flags|=128,v=!0,Jd(m,!1),o.lanes=4194304)}else{if(!v)if(i=Mm(b),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,Wm(o,i),Jd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!gt)return Wt(o),null}else 2*Pe()-m.renderingStartTime>ep&&u!==536870912&&(o.flags|=128,v=!0,Jd(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Pe(),i.sibling=null,u=xn.current,pe(xn,v?u&1|2:u&1),gt&&os(o,m.treeForkCount),i):(Wt(o),null);case 22:case 23:return na(o),Rv(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),u=o.updateQueue,u!==null&&Wm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&W(Ro),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),us(In),Wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function X8(i,o){switch(vv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return us(In),le(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return J(o),null;case 31:if(o.memoizedState!==null){if(na(o),o.alternate===null)throw Error(r(340));Io()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(na(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Io()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return W(xn),null;case 4:return le(),null;case 10:return us(o.type),null;case 22:case 23:return na(o),Rv(),i!==null&&W(Ro),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return us(In),null;case 25:return null;default:return null}}function BA(i,o){switch(vv(o),o.tag){case 3:us(In),le();break;case 26:case 27:case 5:J(o);break;case 4:le();break;case 31:o.memoizedState!==null&&na(o);break;case 13:na(o);break;case 19:W(xn);break;case 10:us(o.type);break;case 22:case 23:na(o),Rv(),i!==null&&W(Ro);break;case 24:us(In)}}function Zd(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var b=u.create,I=u.inst;m=b(),I.destroy=m}u=u.next}while(u!==v)}}catch(F){Ot(o,o.return,F)}}function xl(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&i)===i){var I=m.inst,F=I.destroy;if(F!==void 0){I.destroy=void 0,v=o;var K=u,se=F;try{se()}catch(ye){Ot(v,K,ye)}}}m=m.next}while(m!==b)}}catch(ye){Ot(o,o.return,ye)}}function $A(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{DS(o,u)}catch(m){Ot(i,i.return,m)}}}function FA(i,o,u){u.props=Uo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Ot(i,o,m)}}function ef(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){Ot(i,o,v)}}function Pi(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Ot(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ot(i,o,v)}else u.current=null}function qA(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Ot(i,i.return,v)}}function dx(i,o,u){try{var m=i.stateNode;vV(m,i.type,u,o),m[Wn]=o}catch(v){Ot(i,i.return,v)}}function HA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sl(i.type)||i.tag===4}function fx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||HA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hx(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=qa));else if(m!==4&&(m===27&&Sl(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(hx(i,o,u),i=i.sibling;i!==null;)hx(i,o,u),i=i.sibling}function Xm(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Sl(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Xm(i,o,u),i=i.sibling;i!==null;)Xm(i,o,u),i=i.sibling}function GA(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);fr(o,m,u),o[An]=i,o[Wn]=u}catch(b){Ot(i,i.return,b)}}var ps=!1,Rn=!1,mx=!1,KA=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function Q8(i,o){if(i=i.containerInfo,kx=yp,i=iS(i),lv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var I=0,F=-1,K=-1,se=0,ye=0,_e=i,ce=null;t:for(;;){for(var fe;_e!==u||v!==0&&_e.nodeType!==3||(F=I+v),_e!==b||m!==0&&_e.nodeType!==3||(K=I+m),_e.nodeType===3&&(I+=_e.nodeValue.length),(fe=_e.firstChild)!==null;)ce=_e,_e=fe;for(;;){if(_e===i)break t;if(ce===u&&++se===v&&(F=I),ce===b&&++ye===m&&(K=I),(fe=_e.nextSibling)!==null)break;_e=ce,ce=_e.parentNode}_e=fe}u=F===-1||K===-1?null:{start:F,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Mx={focusedElem:i,selectionRange:u},yp=!1,Qn=o;Qn!==null;)if(o=Qn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Qn=i;else for(;Qn!==null;){switch(o=Qn,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=o,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Le=Uo(u.type,v);i=m.getSnapshotBeforeUpdate(Le,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(Ke){Ot(u,u.return,Ke)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Vx(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Qn=i;break}Qn=o.return}}function YA(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ys(i,u),m&4&&Zd(5,u);break;case 1:if(ys(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(I){Ot(u,u.return,I)}else{var v=Uo(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Ot(u,u.return,I)}}m&64&&$A(u),m&512&&ef(u,u.return);break;case 3:if(ys(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{DS(i,o)}catch(I){Ot(u,u.return,I)}}break;case 27:o===null&&m&4&&GA(u);case 26:case 5:ys(i,u),o===null&&m&4&&qA(u),m&512&&ef(u,u.return);break;case 12:ys(i,u);break;case 31:ys(i,u),m&4&&QA(i,u);break;case 13:ys(i,u),m&4&&JA(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=sV.bind(null,u),SV(i,u))));break;case 22:if(m=u.memoizedState!==null||ps,!m){o=o!==null&&o.memoizedState!==null||Rn,v=ps;var b=Rn;ps=m,(Rn=o)&&!b?vs(i,u,(u.subtreeFlags&8772)!==0):ys(i,u),ps=v,Rn=b}break;case 30:break;default:ys(i,u)}}function WA(i){var o=i.alternate;o!==null&&(i.alternate=null,WA(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ac(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var tn=null,Mr=!1;function gs(i,o,u){for(u=u.child;u!==null;)XA(i,o,u),u=u.sibling}function XA(i,o,u){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(za,u)}catch{}switch(u.tag){case 26:Rn||Pi(u,o),gs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rn||Pi(u,o);var m=tn,v=Mr;Sl(u.type)&&(tn=u.stateNode,Mr=!1),gs(i,o,u),uf(u.stateNode),tn=m,Mr=v;break;case 5:Rn||Pi(u,o);case 6:if(m=tn,v=Mr,tn=null,gs(i,o,u),tn=m,Mr=v,tn!==null)if(Mr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(u.stateNode)}catch(b){Ot(u,o,b)}else try{tn.removeChild(u.stateNode)}catch(b){Ot(u,o,b)}break;case 18:tn!==null&&(Mr?(i=tn,$T(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),du(i)):$T(tn,u.stateNode));break;case 4:m=tn,v=Mr,tn=u.stateNode.containerInfo,Mr=!0,gs(i,o,u),tn=m,Mr=v;break;case 0:case 11:case 14:case 15:xl(2,u,o),Rn||xl(4,u,o),gs(i,o,u);break;case 1:Rn||(Pi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&FA(u,o,m)),gs(i,o,u);break;case 21:gs(i,o,u);break;case 22:Rn=(m=Rn)||u.memoizedState!==null,gs(i,o,u),Rn=m;break;default:gs(i,o,u)}}function QA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{du(i)}catch(u){Ot(o,o.return,u)}}}function JA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{du(i)}catch(u){Ot(o,o.return,u)}}function J8(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new KA),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new KA),o;default:throw Error(r(435,i.tag))}}function Qm(i,o){var u=J8(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=lV.bind(null,i,m);m.then(v,v)}})}function Lr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=i,I=o,F=I;e:for(;F!==null;){switch(F.tag){case 27:if(Sl(F.type)){tn=F.stateNode,Mr=!1;break e}break;case 5:tn=F.stateNode,Mr=!1;break e;case 3:case 4:tn=F.stateNode.containerInfo,Mr=!0;break e}F=F.return}if(tn===null)throw Error(r(160));XA(b,I,v),tn=null,Mr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)ZA(o,i),o=o.sibling}var Xa=null;function ZA(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(o,i),Ur(i),m&4&&(xl(3,i,i.return),Zd(3,i),xl(5,i,i.return));break;case 1:Lr(o,i),Ur(i),m&512&&(Rn||u===null||Pi(u,u.return)),m&64&&ps&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Xa;if(Lr(o,i),Ur(i),m&512&&(Rn||u===null||Pi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[bi]||b[An]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),fr(b,m,u),b[An]=i,Tn(b),m=b;break e;case"link":var I=ZT("link","href",v).get(m+(u.href||""));if(I){for(var F=0;F<I.length;F++)if(b=I[F],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(F,1);break t}}b=v.createElement(m),fr(b,m,u),v.head.appendChild(b);break;case"meta":if(I=ZT("meta","content",v).get(m+(u.content||""))){for(F=0;F<I.length;F++)if(b=I[F],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(F,1);break t}}b=v.createElement(m),fr(b,m,u),v.head.appendChild(b);break;default:throw Error(r(468,m))}b[An]=i,Tn(b),m=b}i.stateNode=m}else e2(v,i.type,i.stateNode);else i.stateNode=JT(v,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?e2(v,i.type,i.stateNode):JT(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&dx(i,i.memoizedProps,u.memoizedProps)}break;case 27:Lr(o,i),Ur(i),m&512&&(Rn||u===null||Pi(u,u.return)),u!==null&&m&4&&dx(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Lr(o,i),Ur(i),m&512&&(Rn||u===null||Pi(u,u.return)),i.flags&32){v=i.stateNode;try{kr(v,"")}catch(Le){Ot(i,i.return,Le)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,dx(i,v,u!==null?u.memoizedProps:v)),m&1024&&(mx=!0);break;case 6:if(Lr(o,i),Ur(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Le){Ot(i,i.return,Le)}}break;case 3:if(hp=null,v=Xa,Xa=dp(o.containerInfo),Lr(o,i),Xa=v,Ur(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{du(o.containerInfo)}catch(Le){Ot(i,i.return,Le)}mx&&(mx=!1,eT(i));break;case 4:m=Xa,Xa=dp(i.stateNode.containerInfo),Lr(o,i),Ur(i),Xa=m;break;case 12:Lr(o,i),Ur(i);break;case 31:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 13:Lr(o,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Zm=Pe()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 22:v=i.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,se=ps,ye=Rn;if(ps=se||v,Rn=ye||K,Lr(o,i),Rn=ye,ps=se,Ur(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||K||ps||Rn||Vo(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(b=K.stateNode,v)I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{F=K.stateNode;var _e=K.memoizedProps.style,ce=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;F.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Le){Ot(K,K.return,Le)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=v?"":K.memoizedProps}catch(Le){Ot(K,K.return,Le)}}}else if(o.tag===18){if(u===null){K=o;try{var fe=K.stateNode;v?FT(fe,!0):FT(K.stateNode,!1)}catch(Le){Ot(K,K.return,Le)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Qm(i,u))));break;case 19:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Qm(i,m)));break;case 30:break;case 21:break;default:Lr(o,i),Ur(i)}}function Ur(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(HA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=fx(i);Xm(i,b,v);break;case 5:var I=u.stateNode;u.flags&32&&(kr(I,""),u.flags&=-33);var F=fx(i);Xm(i,F,I);break;case 3:case 4:var K=u.stateNode.containerInfo,se=fx(i);hx(i,se,K);break;default:throw Error(r(161))}}catch(ye){Ot(i,i.return,ye)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function eT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;eT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ys(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)YA(i,o.alternate,o),o=o.sibling}function Vo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:xl(4,o,o.return),Vo(o);break;case 1:Pi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&FA(o,o.return,u),Vo(o);break;case 27:uf(o.stateNode);case 26:case 5:Pi(o,o.return),Vo(o);break;case 22:o.memoizedState===null&&Vo(o);break;case 30:Vo(o);break;default:Vo(o)}i=i.sibling}}function vs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,b=o,I=b.flags;switch(b.tag){case 0:case 11:case 15:vs(v,b,u),Zd(4,b);break;case 1:if(vs(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){Ot(m,m.return,se)}if(m=b,v=m.updateQueue,v!==null){var F=m.stateNode;try{var K=v.shared.hiddenCallbacks;if(K!==null)for(v.shared.hiddenCallbacks=null,v=0;v<K.length;v++)OS(K[v],F)}catch(se){Ot(m,m.return,se)}}u&&I&64&&$A(b),ef(b,b.return);break;case 27:GA(b);case 26:case 5:vs(v,b,u),u&&m===null&&I&4&&qA(b),ef(b,b.return);break;case 12:vs(v,b,u);break;case 31:vs(v,b,u),u&&I&4&&QA(v,b);break;case 13:vs(v,b,u),u&&I&4&&JA(v,b);break;case 22:b.memoizedState===null&&vs(v,b,u),ef(b,b.return);break;case 30:break;default:vs(v,b,u)}o=o.sibling}}function px(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&zd(u))}function gx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&zd(i))}function Qa(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)tT(i,o,u,m),o=o.sibling}function tT(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Qa(i,o,u,m),v&2048&&Zd(9,o);break;case 1:Qa(i,o,u,m);break;case 3:Qa(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&zd(i)));break;case 12:if(v&2048){Qa(i,o,u,m),i=o.stateNode;try{var b=o.memoizedProps,I=b.id,F=b.onPostCommit;typeof F=="function"&&F(I,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){Ot(o,o.return,K)}}else Qa(i,o,u,m);break;case 31:Qa(i,o,u,m);break;case 13:Qa(i,o,u,m);break;case 23:break;case 22:b=o.stateNode,I=o.alternate,o.memoizedState!==null?b._visibility&2?Qa(i,o,u,m):tf(i,o):b._visibility&2?Qa(i,o,u,m):(b._visibility|=2,eu(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&px(I,o);break;case 24:Qa(i,o,u,m),v&2048&&gx(o.alternate,o);break;default:Qa(i,o,u,m)}}function eu(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,I=o,F=u,K=m,se=I.flags;switch(I.tag){case 0:case 11:case 15:eu(b,I,F,K,v),Zd(8,I);break;case 23:break;case 22:var ye=I.stateNode;I.memoizedState!==null?ye._visibility&2?eu(b,I,F,K,v):tf(b,I):(ye._visibility|=2,eu(b,I,F,K,v)),v&&se&2048&&px(I.alternate,I);break;case 24:eu(b,I,F,K,v),v&&se&2048&&gx(I.alternate,I);break;default:eu(b,I,F,K,v)}o=o.sibling}}function tf(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:tf(u,m),v&2048&&px(m.alternate,m);break;case 24:tf(u,m),v&2048&&gx(m.alternate,m);break;default:tf(u,m)}o=o.sibling}}var nf=8192;function tu(i,o,u){if(i.subtreeFlags&nf)for(i=i.child;i!==null;)nT(i,o,u),i=i.sibling}function nT(i,o,u){switch(i.tag){case 26:tu(i,o,u),i.flags&nf&&i.memoizedState!==null&&UV(u,Xa,i.memoizedState,i.memoizedProps);break;case 5:tu(i,o,u);break;case 3:case 4:var m=Xa;Xa=dp(i.stateNode.containerInfo),tu(i,o,u),Xa=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=nf,nf=16777216,tu(i,o,u),nf=m):tu(i,o,u));break;default:tu(i,o,u)}}function rT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function rf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Qn=m,iT(m,i)}rT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)aT(i),i=i.sibling}function aT(i){switch(i.tag){case 0:case 11:case 15:rf(i),i.flags&2048&&xl(9,i,i.return);break;case 3:rf(i);break;case 12:rf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Jm(i)):rf(i);break;default:rf(i)}}function Jm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Qn=m,iT(m,i)}rT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:xl(8,o,o.return),Jm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Jm(o));break;default:Jm(o)}i=i.sibling}}function iT(i,o){for(;Qn!==null;){var u=Qn;switch(u.tag){case 0:case 11:case 15:xl(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:zd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Qn=m;else e:for(u=i;Qn!==null;){m=Qn;var v=m.sibling,b=m.return;if(WA(m),m===u){Qn=null;break e}if(v!==null){v.return=b,Qn=v;break e}Qn=b}}}var Z8={getCacheForType:function(i){var o=ur(In),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return ur(In).controller.signal}},eV=typeof WeakMap=="function"?WeakMap:Map,jt=0,Ft=null,ct=null,dt=0,It=0,ra=null,bl=!1,nu=!1,yx=!1,xs=0,hn=0,wl=0,zo=0,vx=0,aa=0,ru=0,af=null,Vr=null,xx=!1,Zm=0,sT=0,ep=1/0,tp=null,Nl=null,zn=0,_l=null,au=null,bs=0,bx=0,wx=null,lT=null,sf=0,Nx=null;function ia(){return(jt&2)!==0&&dt!==0?dt&-dt:G.T!==null?Tx():nm()}function oT(){if(aa===0)if((dt&536870912)===0||gt){var i=ho;ho<<=1,(ho&3932160)===0&&(ho=262144),aa=i}else aa=536870912;return i=ta.current,i!==null&&(i.flags|=32),aa}function zr(i,o,u){(i===Ft&&(It===2||It===9)||i.cancelPendingCommit!==null)&&(iu(i,0),jl(i,dt,aa,!1)),mo(i,u),((jt&2)===0||i!==Ft)&&(i===Ft&&((jt&2)===0&&(zo|=u),hn===4&&jl(i,dt,aa,!1)),ki(i))}function cT(i,o,u){if((jt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Ba(i,o),v=m?rV(i,o):jx(i,o,!0),b=m;do{if(v===0){nu&&!m&&jl(i,o,0,!1);break}else{if(u=i.current.alternate,b&&!tV(u)){v=jx(i,o,!1),b=!1;continue}if(v===2){if(b=o,i.errorRecoveryDisabledLanes&b)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var F=i;v=af;var K=F.current.memoizedState.isDehydrated;if(K&&(iu(F,I).flags|=256),I=jx(F,I,!1),I!==2){if(yx&&!K){F.errorRecoveryDisabledLanes|=b,zo|=b,v=4;break e}b=Vr,Vr=v,b!==null&&(Vr===null?Vr=b:Vr.push.apply(Vr,b))}v=I}if(b=!1,v!==2)continue}}if(v===1){iu(i,0),jl(i,o,0,!0);break}e:{switch(m=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:jl(m,o,aa,!bl);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Zm+300-Pe(),10<v)){if(jl(m,o,aa,!bl),yi(m,0,!0)!==0)break e;bs=o,m.timeoutHandle=zT(uT.bind(null,m,u,Vr,tp,xx,o,aa,zo,ru,bl,b,"Throttled",-0,0),v);break e}uT(m,u,Vr,tp,xx,o,aa,zo,ru,bl,b,null,-0,0)}}break}while(!0);ki(i)}function uT(i,o,u,m,v,b,I,F,K,se,ye,_e,ce,fe){if(i.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},nT(o,b,_e);var Le=(b&62914560)===b?Zm-Pe():(b&4194048)===b?sT-Pe():0;if(Le=VV(_e,Le),Le!==null){bs=b,i.cancelPendingCommit=Le(vT.bind(null,i,o,b,u,m,v,I,F,K,ye,_e,null,ce,fe)),jl(i,b,I,!se);return}}vT(i,o,b,u,m,v,I,F,K)}function tV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!Zr(b(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function jl(i,o,u,m){o&=~vx,o&=~zo,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var b=31-yn(v),I=1<<b;m[b]=-1,v&=~I}u!==0&&po(i,u,o)}function np(){return(jt&6)===0?(lf(0),!1):!0}function _x(){if(ct!==null){if(It===0)var i=ct.return;else i=ct,cs=Oo=null,Vv(i),Wc=null,$d=0,i=ct;for(;i!==null;)BA(i.alternate,i),i=i.return;ct=null}}function iu(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,wV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),bs=0,_x(),Ft=i,ct=u=ls(i.current,null),dt=o,It=0,ra=null,bl=!1,nu=Ba(i,o),yx=!1,ru=aa=vx=zo=wl=hn=0,Vr=af=null,xx=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-yn(m),b=1<<v;o|=i[v],m&=~b}return xs=o,_m(),u}function dT(i,o){st=null,G.H=Xd,o===Yc||o===Om?(o=AS(),It=3):o===Av?(o=AS(),It=4):It=o===tx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ra=o,ct===null&&(hn=1,Hm(i,ba(o,i.current)))}function fT(){var i=ta.current;return i===null?!0:(dt&4194048)===dt?ja===null:(dt&62914560)===dt||(dt&536870912)!==0?i===ja:!1}function hT(){var i=G.H;return G.H=Xd,i===null?Xd:i}function mT(){var i=G.A;return G.A=Z8,i}function rp(){hn=4,bl||(dt&4194048)!==dt&&ta.current!==null||(nu=!0),(wl&134217727)===0&&(zo&134217727)===0||Ft===null||jl(Ft,dt,aa,!1)}function jx(i,o,u){var m=jt;jt|=2;var v=hT(),b=mT();(Ft!==i||dt!==o)&&(tp=null,iu(i,o)),o=!1;var I=hn;e:do try{if(It!==0&&ct!==null){var F=ct,K=ra;switch(It){case 8:_x(),I=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(o=!0);var se=It;if(It=0,ra=null,su(i,F,K,se),u&&nu){I=0;break e}break;default:se=It,It=0,ra=null,su(i,F,K,se)}}nV(),I=hn;break}catch(ye){dT(i,ye)}while(!0);return o&&i.shellSuspendCounter++,cs=Oo=null,jt=m,G.H=v,G.A=b,ct===null&&(Ft=null,dt=0,_m()),I}function nV(){for(;ct!==null;)pT(ct)}function rV(i,o){var u=jt;jt|=2;var m=hT(),v=mT();Ft!==i||dt!==o?(tp=null,ep=Pe()+500,iu(i,o)):nu=Ba(i,o);e:do try{if(It!==0&&ct!==null){o=ct;var b=ra;t:switch(It){case 1:It=0,ra=null,su(i,o,b,1);break;case 2:case 9:if(ES(b)){It=0,ra=null,gT(o);break}o=function(){It!==2&&It!==9||Ft!==i||(It=7),ki(i)},b.then(o,o);break e;case 3:It=7;break e;case 4:It=5;break e;case 7:ES(b)?(It=0,ra=null,gT(o)):(It=0,ra=null,su(i,o,b,7));break;case 5:var I=null;switch(ct.tag){case 26:I=ct.memoizedState;case 5:case 27:var F=ct;if(I?t2(I):F.stateNode.complete){It=0,ra=null;var K=F.sibling;if(K!==null)ct=K;else{var se=F.return;se!==null?(ct=se,ap(se)):ct=null}break t}}It=0,ra=null,su(i,o,b,5);break;case 6:It=0,ra=null,su(i,o,b,6);break;case 8:_x(),hn=6;break e;default:throw Error(r(462))}}aV();break}catch(ye){dT(i,ye)}while(!0);return cs=Oo=null,G.H=m,G.A=v,jt=u,ct!==null?0:(Ft=null,dt=0,_m(),hn)}function aV(){for(;ct!==null&&!hi();)pT(ct)}function pT(i){var o=VA(i.alternate,i,xs);i.memoizedProps=i.pendingProps,o===null?ap(i):ct=o}function gT(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=RA(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=RA(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:Vv(o);default:BA(u,o),o=ct=mS(o,xs),o=VA(u,o,xs)}i.memoizedProps=i.pendingProps,o===null?ap(i):ct=o}function su(i,o,u,m){cs=Oo=null,Vv(o),Wc=null,$d=0;var v=o.return;try{if(G8(i,v,o,u,dt)){hn=1,Hm(i,ba(u,i.current)),ct=null;return}}catch(b){if(v!==null)throw ct=v,b;hn=1,Hm(i,ba(u,i.current)),ct=null;return}o.flags&32768?(gt||m===1?i=!0:nu||(dt&536870912)!==0?i=!1:(bl=i=!0,(m===2||m===9||m===3||m===6)&&(m=ta.current,m!==null&&m.tag===13&&(m.flags|=16384))),yT(o,i)):ap(o)}function ap(i){var o=i;do{if((o.flags&32768)!==0){yT(o,bl);return}i=o.return;var u=W8(o.alternate,o,xs);if(u!==null){ct=u;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=i}while(o!==null);hn===0&&(hn=5)}function yT(i,o){do{var u=X8(i.alternate,i);if(u!==null){u.flags&=32767,ct=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){ct=i;return}ct=i=u}while(i!==null);hn=6,ct=null}function vT(i,o,u,m,v,b,I,F,K){i.cancelPendingCommit=null;do ip();while(zn!==0);if((jt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=fv,rv(i,u,b,I,F,K),i===Ft&&(ct=Ft=null,dt=0),au=o,_l=i,bs=u,bx=b,wx=v,lT=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oV($t,function(){return _T(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=Y.p,Y.p=2,I=jt,jt|=4;try{Q8(i,o,u)}finally{jt=I,Y.p=v,G.T=m}}zn=1,xT(),bT(),wT()}}function xT(){if(zn===1){zn=0;var i=_l,o=au,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var m=Y.p;Y.p=2;var v=jt;jt|=4;try{ZA(o,i);var b=Mx,I=iS(i.containerInfo),F=b.focusedElem,K=b.selectionRange;if(I!==F&&F&&F.ownerDocument&&aS(F.ownerDocument.documentElement,F)){if(K!==null&&lv(F)){var se=K.start,ye=K.end;if(ye===void 0&&(ye=se),"selectionStart"in F)F.selectionStart=se,F.selectionEnd=Math.min(ye,F.value.length);else{var _e=F.ownerDocument||document,ce=_e&&_e.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),Le=F.textContent.length,Ke=Math.min(K.start,Le),Lt=K.end===void 0?Ke:Math.min(K.end,Le);!fe.extend&&Ke>Lt&&(I=Lt,Lt=Ke,Ke=I);var ee=rS(F,Ke),Q=rS(F,Lt);if(ee&&Q&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ie=_e.createRange();ie.setStart(ee.node,ee.offset),fe.removeAllRanges(),Ke>Lt?(fe.addRange(ie),fe.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),fe.addRange(ie))}}}}for(_e=[],fe=F;fe=fe.parentNode;)fe.nodeType===1&&_e.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<_e.length;F++){var be=_e[F];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}yp=!!kx,Mx=kx=null}finally{jt=v,Y.p=m,G.T=u}}i.current=o,zn=2}}function bT(){if(zn===2){zn=0;var i=_l,o=au,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var m=Y.p;Y.p=2;var v=jt;jt|=4;try{YA(i,o.alternate,o)}finally{jt=v,Y.p=m,G.T=u}}zn=3}}function wT(){if(zn===4||zn===3){zn=0,te();var i=_l,o=au,u=bs,m=lT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zn=5:(zn=0,au=_l=null,NT(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Nl=null),rs(u),o=o.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(za,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,v=Y.p,Y.p=2,G.T=null;try{for(var b=i.onRecoverableError,I=0;I<m.length;I++){var F=m[I];b(F.value,{componentStack:F.stack})}}finally{G.T=o,Y.p=v}}(bs&3)!==0&&ip(),ki(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===Nx?sf++:(sf=0,Nx=i):sf=0,lf(0)}}function NT(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,zd(o)))}function ip(){return xT(),bT(),wT(),_T()}function _T(){if(zn!==5)return!1;var i=_l,o=bx;bx=0;var u=rs(bs),m=G.T,v=Y.p;try{Y.p=32>u?32:u,G.T=null,u=wx,wx=null;var b=_l,I=bs;if(zn=0,au=_l=null,bs=0,(jt&6)!==0)throw Error(r(331));var F=jt;if(jt|=4,aT(b.current),tT(b,b.current,I,u),jt=F,lf(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(za,b)}catch{}return!0}finally{Y.p=v,G.T=m,NT(i,o)}}function jT(i,o,u){o=ba(u,o),o=ex(i.stateNode,o,2),i=gl(i,o,2),i!==null&&(mo(i,2),ki(i))}function Ot(i,o,u){if(i.tag===3)jT(i,i,u);else for(;o!==null;){if(o.tag===3){jT(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Nl===null||!Nl.has(m))){i=ba(u,i),u=EA(2),m=gl(o,u,2),m!==null&&(SA(u,m,o,i),mo(m,2),ki(m));break}}o=o.return}}function Ex(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new eV;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(yx=!0,v.add(u),i=iV.bind(null,i,o,u),o.then(i,i))}function iV(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ft===i&&(dt&u)===u&&(hn===4||hn===3&&(dt&62914560)===dt&&300>Pe()-Zm?(jt&2)===0&&iu(i,0):vx|=u,ru===dt&&(ru=0)),ki(i)}function ET(i,o){o===0&&(o=tm()),i=To(i,o),i!==null&&(mo(i,o),ki(i))}function sV(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),ET(i,u)}function lV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),ET(i,u)}function oV(i,o){return Qe(i,o)}var sp=null,lu=null,Sx=!1,lp=!1,Ax=!1,El=0;function ki(i){i!==lu&&i.next===null&&(lu===null?sp=lu=i:lu=lu.next=i),lp=!0,Sx||(Sx=!0,uV())}function lf(i,o){if(!Ax&&lp){Ax=!0;do for(var u=!1,m=sp;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var I=m.suspendedLanes,F=m.pingedLanes;b=(1<<31-yn(42|i)+1)-1,b&=v&~(I&~F),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,CT(m,b))}else b=dt,b=yi(m,m===Ft?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Ba(m,b)||(u=!0,CT(m,b));m=m.next}while(u);Ax=!1}}function cV(){ST()}function ST(){lp=Sx=!1;var i=0;El!==0&&bV()&&(i=El);for(var o=Pe(),u=null,m=sp;m!==null;){var v=m.next,b=AT(m,o);b===0?(m.next=null,u===null?sp=v:u.next=v,v===null&&(lu=u)):(u=m,(i!==0||(b&3)!==0)&&(lp=!0)),m=v}zn!==0&&zn!==5||lf(i),El!==0&&(El=0)}function AT(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var I=31-yn(b),F=1<<I,K=v[I];K===-1?((F&u)===0||(F&m)!==0)&&(v[I]=nv(F,o)):K<=o&&(i.expiredLanes|=F),b&=~F}if(o=Ft,u=dt,u=yi(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(It===2||It===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Rt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ba(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Rt(m),rs(u)){case 2:case 8:u=Ht;break;case 32:u=$t;break;case 268435456:u=Va;break;default:u=$t}return m=TT.bind(null,i),u=Qe(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Rt(m),i.callbackPriority=2,i.callbackNode=null,2}function TT(i,o){if(zn!==0&&zn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(ip()&&i.callbackNode!==u)return null;var m=dt;return m=yi(i,i===Ft?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(cT(i,m,o),AT(i,Pe()),i.callbackNode!=null&&i.callbackNode===u?TT.bind(null,i):null)}function CT(i,o){if(ip())return null;cT(i,o,!0)}function uV(){NV(function(){(jt&6)!==0?Qe(ze,cV):ST()})}function Tx(){if(El===0){var i=Gc;i===0&&(i=pi,pi<<=1,(pi&261888)===0&&(pi=256)),El=i}return El}function IT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oc(""+i)}function OT(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function dV(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var b=IT((v[Wn]||null).action),I=m.submitter;I&&(o=(o=I[Wn]||null)?IT(o.formAction):I.getAttribute("formAction"),o!==null&&(b=o,I=null));var F=new Ti("action","action",null,m,v);i.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(El!==0){var K=I?OT(v,I):new FormData(v);Yv(u,{pending:!0,data:K,method:v.method,action:b},null,K)}}else typeof b=="function"&&(F.preventDefault(),K=I?OT(v,I):new FormData(v),Yv(u,{pending:!0,data:K,method:v.method,action:b},b,K))},currentTarget:v}]})}}for(var Cx=0;Cx<dv.length;Cx++){var Ix=dv[Cx],fV=Ix.toLowerCase(),hV=Ix[0].toUpperCase()+Ix.slice(1);Wa(fV,"on"+hV)}Wa(oS,"onAnimationEnd"),Wa(cS,"onAnimationIteration"),Wa(uS,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(C8,"onTransitionRun"),Wa(I8,"onTransitionStart"),Wa(O8,"onTransitionCancel"),Wa(dS,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var of="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(of));function DT(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var I=m.length-1;0<=I;I--){var F=m[I],K=F.instance,se=F.currentTarget;if(F=F.listener,K!==b&&v.isPropagationStopped())break e;b=F,v.currentTarget=se;try{b(v)}catch(ye){Nm(ye)}v.currentTarget=null,b=K}else for(I=0;I<m.length;I++){if(F=m[I],K=F.instance,se=F.currentTarget,F=F.listener,K!==b&&v.isPropagationStopped())break e;b=F,v.currentTarget=se;try{b(v)}catch(ye){Nm(ye)}v.currentTarget=null,b=K}}}}function ut(i,o){var u=o[Sc];u===void 0&&(u=o[Sc]=new Set);var m=i+"__bubble";u.has(m)||(RT(o,i,2,!1),u.add(m))}function Ox(i,o,u){var m=0;o&&(m|=4),RT(u,i,m,o)}var op="_reactListening"+Math.random().toString(36).slice(2);function Dx(i){if(!i[op]){i[op]=!0,xd.forEach(function(u){u!=="selectionchange"&&(mV.has(u)||Ox(u,!1,i),Ox(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[op]||(o[op]=!0,Ox("selectionchange",!1,o))}}function RT(i,o,u,m){switch(o2(o)){case 2:var v=$V;break;case 8:v=FV;break;default:v=Kx}u=v.bind(null,o,u,i),v=void 0,!bo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Rx(i,o,u,m,v){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var F=m.stateNode.containerInfo;if(F===v)break;if(I===4)for(I=m.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;F!==null;){if(I=wi(F),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){m=b=I;continue e}F=F.parentNode}}m=m.return}sl(function(){var se=b,ye=ga(u),_e=[];e:{var ce=fS.get(i);if(ce!==void 0){var fe=Ti,Le=i;switch(i){case"keypress":if(No(u)===0)break e;case"keydown":case"keyup":fe=xm;break;case"focusin":Le="focus",fe=jo;break;case"focusout":Le="blur",fe=jo;break;case"beforeblur":case"afterblur":fe=jo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=S;break;case oS:case cS:case uS:fe=fm;break;case dS:fe=q;break;case"scroll":case"scrollend":fe=Od;break;case"wheel":fe=ue;break;case"copy":case"cut":case"paste":fe=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=ss;break;case"toggle":case"beforetoggle":fe=it}var Ke=(o&4)!==0,Lt=!Ke&&(i==="scroll"||i==="scrollend"),ee=Ke?ce!==null?ce+"Capture":null:ce;Ke=[];for(var Q=se,ie;Q!==null;){var be=Q;if(ie=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ie===null||ee===null||(be=Ha(Q,ee),be!=null&&Ke.push(cf(Q,be,ie))),Lt)break;Q=Q.return}0<Ke.length&&(ce=new fe(ce,Le,null,u,ye),_e.push({event:ce,listeners:Ke}))}}if((o&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ce&&u!==Td&&(Le=u.relatedTarget||u.fromElement)&&(wi(Le)||Le[xi]))break e;if((fe||ce)&&(ce=ye.window===ye?ye:(ce=ye.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(Le=u.relatedTarget||u.toElement,fe=se,Le=Le?wi(Le):null,Le!==null&&(Lt=l(Le),Ke=Le.tag,Le!==Lt||Ke!==5&&Ke!==27&&Ke!==6)&&(Le=null)):(fe=null,Le=se),fe!==Le)){if(Ke=Dd,be="onMouseLeave",ee="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ke=ss,be="onPointerLeave",ee="onPointerEnter",Q="pointer"),Lt=fe==null?ce:Qr(fe),ie=Le==null?ce:Qr(Le),ce=new Ke(be,Q+"leave",fe,u,ye),ce.target=Lt,ce.relatedTarget=ie,be=null,wi(ye)===se&&(Ke=new Ke(ee,Q+"enter",Le,u,ye),Ke.target=ie,Ke.relatedTarget=Lt,be=Ke),Lt=be,fe&&Le)t:{for(Ke=pV,ee=fe,Q=Le,ie=0,be=ee;be;be=Ke(be))ie++;be=0;for(var qe=Q;qe;qe=Ke(qe))be++;for(;0<ie-be;)ee=Ke(ee),ie--;for(;0<be-ie;)Q=Ke(Q),be--;for(;ie--;){if(ee===Q||Q!==null&&ee===Q.alternate){Ke=ee;break t}ee=Ke(ee),Q=Ke(Q)}Ke=null}else Ke=null;fe!==null&&PT(_e,ce,fe,Ke,!1),Le!==null&&Lt!==null&&PT(_e,Lt,Le,Ke,!0)}}e:{if(ce=se?Qr(se):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var xt=QE;else if(WE(ce))if(JE)xt=S8;else{xt=j8;var Ue=_8}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&Ic(se.elementType)&&(xt=QE):xt=E8;if(xt&&(xt=xt(i,se))){XE(_e,xt,u,ye);break e}Ue&&Ue(i,ce,se),i==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Ed(ce,"number",ce.value)}switch(Ue=se?Qr(se):window,i){case"focusin":(WE(Ue)||Ue.contentEditable==="true")&&(Uc=Ue,ov=se,Ld=null);break;case"focusout":Ld=ov=Uc=null;break;case"mousedown":cv=!0;break;case"contextmenu":case"mouseup":case"dragend":cv=!1,sS(_e,u,ye);break;case"selectionchange":if(T8)break;case"keydown":case"keyup":sS(_e,u,ye)}var lt;if(_t)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Lc?Eo(i,u)&&(ft="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ft="onCompositionStart");ft&&(Oi&&u.locale!=="ko"&&(Lc||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Lc&&(lt=Id()):(Ai=ye,Cd="value"in Ai?Ai.value:Ai.textContent,Lc=!0)),Ue=cp(se,ft),0<Ue.length&&(ft=new Ii(ft,i,null,u,ye),_e.push({event:ft,listeners:Ue}),lt?ft.data=lt:(lt=Mc(u),lt!==null&&(ft.data=lt)))),(lt=va?x8(i,u):b8(i,u))&&(ft=cp(se,"onBeforeInput"),0<ft.length&&(Ue=new Ii("onBeforeInput","beforeinput",null,u,ye),_e.push({event:Ue,listeners:ft}),Ue.data=lt)),dV(_e,i,se,u,ye)}DT(_e,o)})}function cf(i,o,u){return{instance:i,listener:o,currentTarget:u}}function cp(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ha(i,u),v!=null&&m.unshift(cf(i,v,b)),v=Ha(i,o),v!=null&&m.push(cf(i,v,b))),i.tag===3)return m;i=i.return}return[]}function pV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function PT(i,o,u,m,v){for(var b=o._reactName,I=[];u!==null&&u!==m;){var F=u,K=F.alternate,se=F.stateNode;if(F=F.tag,K!==null&&K===m)break;F!==5&&F!==26&&F!==27||se===null||(K=se,v?(se=Ha(u,b),se!=null&&I.unshift(cf(u,se,K))):v||(se=Ha(u,b),se!=null&&I.push(cf(u,se,K)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var gV=/\r\n?/g,yV=/\u0000|\uFFFD/g;function kT(i){return(typeof i=="string"?i:""+i).replace(gV,`
`).replace(yV,"")}function MT(i,o){return o=kT(o),kT(i)===o}function Mt(i,o,u,m,v,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||kr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&kr(i,""+m);break;case"className":Jr(i,"class",m);break;case"tabIndex":Jr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(i,u,m);break;case"style":Ad(i,m,b);break;case"data":if(o!=="object"){Jr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Oc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Mt(i,o,"name",v.name,v,null),Mt(i,o,"formEncType",v.formEncType,v,null),Mt(i,o,"formMethod",v.formMethod,v,null),Mt(i,o,"formTarget",v.formTarget,v,null)):(Mt(i,o,"encType",v.encType,v,null),Mt(i,o,"method",v.method,v,null),Mt(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Oc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=qa);break;case"onScroll":m!=null&&ut("scroll",i);break;case"onScrollEnd":m!=null&&ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Oc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":ut("beforetoggle",i),ut("toggle",i),Tc(i,"popover",m);break;case"xlinkActuate":Cn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Cn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Cn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Cn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Cn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Cn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=cm.get(u)||u,Tc(i,u,m))}}function Px(i,o,u,m,v,b){switch(u){case"style":Ad(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?kr(i,m):(typeof m=="number"||typeof m=="bigint")&&kr(i,""+m);break;case"onScroll":m!=null&&ut("scroll",i);break;case"onScrollEnd":m!=null&&ut("scrollend",i);break;case"onClick":m!=null&&(i.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),b=i[Wn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(o,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Tc(i,u,m)}}}function fr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",i),ut("load",i);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var I=u[b];if(I!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(i,o,b,I,u,null)}}v&&Mt(i,o,"srcSet",u.srcSet,u,null),m&&Mt(i,o,"src",u.src,u,null);return;case"input":ut("invalid",i);var F=b=I=v=null,K=null,se=null;for(m in u)if(u.hasOwnProperty(m)){var ye=u[m];if(ye!=null)switch(m){case"name":v=ye;break;case"type":I=ye;break;case"checked":K=ye;break;case"defaultChecked":se=ye;break;case"value":b=ye;break;case"defaultValue":F=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:Mt(i,o,m,ye,u,null)}}sm(i,b,F,K,se,I,v,!1);return;case"select":ut("invalid",i),m=I=b=null;for(v in u)if(u.hasOwnProperty(v)&&(F=u[v],F!=null))switch(v){case"value":b=F;break;case"defaultValue":I=F;break;case"multiple":m=F;default:Mt(i,o,v,F,u,null)}o=b,u=I,i.multiple=!!m,o!=null?nl(i,!!m,o,!1):u!=null&&nl(i,!!m,u,!0);return;case"textarea":ut("invalid",i),b=v=m=null;for(I in u)if(u.hasOwnProperty(I)&&(F=u[I],F!=null))switch(I){case"value":m=F;break;case"defaultValue":v=F;break;case"children":b=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Mt(i,o,I,F,u,null)}rl(i,m,v,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(m=u[K],m!=null))switch(K){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Mt(i,o,K,m,u,null)}return;case"dialog":ut("beforetoggle",i),ut("toggle",i),ut("cancel",i),ut("close",i);break;case"iframe":case"object":ut("load",i);break;case"video":case"audio":for(m=0;m<of.length;m++)ut(of[m],i);break;case"image":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"embed":case"source":case"link":ut("error",i),ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(m=u[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(i,o,se,m,u,null)}return;default:if(Ic(o)){for(ye in u)u.hasOwnProperty(ye)&&(m=u[ye],m!==void 0&&Px(i,o,ye,m,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(m=u[F],m!=null&&Mt(i,o,F,m,u,null))}function vV(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,I=null,F=null,K=null,se=null,ye=null;for(fe in u){var _e=u[fe];if(u.hasOwnProperty(fe)&&_e!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":K=_e;default:m.hasOwnProperty(fe)||Mt(i,o,fe,null,m,_e)}}for(var ce in m){var fe=m[ce];if(_e=u[ce],m.hasOwnProperty(ce)&&(fe!=null||_e!=null))switch(ce){case"type":b=fe;break;case"name":v=fe;break;case"checked":se=fe;break;case"defaultChecked":ye=fe;break;case"value":I=fe;break;case"defaultValue":F=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:fe!==_e&&Mt(i,o,ce,fe,m,_e)}}Cc(i,I,F,K,se,ye,b,v);return;case"select":fe=I=F=ce=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":fe=K;default:m.hasOwnProperty(b)||Mt(i,o,b,null,m,K)}for(v in m)if(b=m[v],K=u[v],m.hasOwnProperty(v)&&(b!=null||K!=null))switch(v){case"value":ce=b;break;case"defaultValue":F=b;break;case"multiple":I=b;default:b!==K&&Mt(i,o,v,b,m,K)}o=F,u=I,m=fe,ce!=null?nl(i,!!u,ce,!1):!!m!=!!u&&(o!=null?nl(i,!!u,o,!0):nl(i,!!u,u?[]:"",!1));return;case"textarea":fe=ce=null;for(F in u)if(v=u[F],u.hasOwnProperty(F)&&v!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Mt(i,o,F,null,m,v)}for(I in m)if(v=m[I],b=u[I],m.hasOwnProperty(I)&&(v!=null||b!=null))switch(I){case"value":ce=v;break;case"defaultValue":fe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Mt(i,o,I,v,m,b)}lm(i,ce,fe);return;case"option":for(var Le in u)if(ce=u[Le],u.hasOwnProperty(Le)&&ce!=null&&!m.hasOwnProperty(Le))switch(Le){case"selected":i.selected=!1;break;default:Mt(i,o,Le,null,m,ce)}for(K in m)if(ce=m[K],fe=u[K],m.hasOwnProperty(K)&&ce!==fe&&(ce!=null||fe!=null))switch(K){case"selected":i.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Mt(i,o,K,ce,m,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)ce=u[Ke],u.hasOwnProperty(Ke)&&ce!=null&&!m.hasOwnProperty(Ke)&&Mt(i,o,Ke,null,m,ce);for(se in m)if(ce=m[se],fe=u[se],m.hasOwnProperty(se)&&ce!==fe&&(ce!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:Mt(i,o,se,ce,m,fe)}return;default:if(Ic(o)){for(var Lt in u)ce=u[Lt],u.hasOwnProperty(Lt)&&ce!==void 0&&!m.hasOwnProperty(Lt)&&Px(i,o,Lt,void 0,m,ce);for(ye in m)ce=m[ye],fe=u[ye],!m.hasOwnProperty(ye)||ce===fe||ce===void 0&&fe===void 0||Px(i,o,ye,ce,m,fe);return}}for(var ee in u)ce=u[ee],u.hasOwnProperty(ee)&&ce!=null&&!m.hasOwnProperty(ee)&&Mt(i,o,ee,null,m,ce);for(_e in m)ce=m[_e],fe=u[_e],!m.hasOwnProperty(_e)||ce===fe||ce==null&&fe==null||Mt(i,o,_e,ce,m,fe)}function LT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,I=v.initiatorType,F=v.duration;if(b&&F&&LT(I)){for(I=0,F=v.responseEnd,m+=1;m<u.length;m++){var K=u[m],se=K.startTime;if(se>F)break;var ye=K.transferSize,_e=K.initiatorType;ye&&LT(_e)&&(K=K.responseEnd,I+=ye*(K<F?1:(F-se)/(K-se)))}if(--m,o+=8*(b+I)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var kx=null,Mx=null;function up(i){return i.nodeType===9?i:i.ownerDocument}function UT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Lx(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ux=null;function bV(){var i=window.event;return i&&i.type==="popstate"?i===Ux?!1:(Ux=i,!0):(Ux=null,!1)}var zT=typeof setTimeout=="function"?setTimeout:void 0,wV=typeof clearTimeout=="function"?clearTimeout:void 0,BT=typeof Promise=="function"?Promise:void 0,NV=typeof queueMicrotask=="function"?queueMicrotask:typeof BT<"u"?function(i){return BT.resolve(null).then(i).catch(_V)}:zT;function _V(i){setTimeout(function(){throw i})}function Sl(i){return i==="head"}function $T(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),du(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")uf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,uf(u);for(var b=u.firstChild;b;){var I=b.nextSibling,F=b.nodeName;b[bi]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=I}}else u==="body"&&uf(i.ownerDocument.body);u=v}while(u);du(o)}function FT(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Vx(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Vx(u),Ac(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function jV(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[bi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ea(i.nextSibling),i===null)break}return null}function EV(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ea(i.nextSibling),i===null))return null;return i}function qT(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ea(i.nextSibling),i===null))return null;return i}function zx(i){return i.data==="$?"||i.data==="$~"}function Bx(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function SV(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ea(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var $x=null;function HT(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Ea(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function GT(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function KT(i,o,u){switch(o=up(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ac(i)}var Sa=new Map,YT=new Set;function dp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ws=Y.d;Y.d={f:AV,r:TV,D:CV,C:IV,L:OV,m:DV,X:PV,S:RV,M:kV};function AV(){var i=ws.f(),o=np();return i||o}function TV(i){var o=pa(i);o!==null&&o.tag===5&&o.type==="form"?dA(o):ws.r(i)}var ou=typeof document>"u"?null:document;function WT(i,o,u){var m=ou;if(m&&typeof o=="string"&&o){var v=Pr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),YT.has(v)||(YT.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),fr(o,"link",i),Tn(o),m.head.appendChild(o)))}}function CV(i){ws.D(i),WT("dns-prefetch",i,null)}function IV(i,o){ws.C(i,o),WT("preconnect",i,o)}function OV(i,o,u){ws.L(i,o,u);var m=ou;if(m&&i&&o){var v='link[rel="preload"][as="'+Pr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Pr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Pr(u.imageSizes)+'"]')):v+='[href="'+Pr(i)+'"]';var b=v;switch(o){case"style":b=cu(i);break;case"script":b=uu(i)}Sa.has(b)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Sa.set(b,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(df(b))||o==="script"&&m.querySelector(ff(b))||(o=m.createElement("link"),fr(o,"link",i),Tn(o),m.head.appendChild(o)))}}function DV(i,o){ws.m(i,o);var u=ou;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Pr(m)+'"][href="'+Pr(i)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=uu(i)}if(!Sa.has(b)&&(i=g({rel:"modulepreload",href:i},o),Sa.set(b,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ff(b)))return}m=u.createElement("link"),fr(m,"link",i),Tn(m),u.head.appendChild(m)}}}function RV(i,o,u){ws.S(i,o,u);var m=ou;if(m&&i){var v=Ni(m).hoistableStyles,b=cu(i);o=o||"default";var I=v.get(b);if(!I){var F={loading:0,preload:null};if(I=m.querySelector(df(b)))F.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Sa.get(b))&&Fx(i,u);var K=I=m.createElement("link");Tn(K),fr(K,"link",i),K._p=new Promise(function(se,ye){K.onload=se,K.onerror=ye}),K.addEventListener("load",function(){F.loading|=1}),K.addEventListener("error",function(){F.loading|=2}),F.loading|=4,fp(I,o,m)}I={type:"stylesheet",instance:I,count:1,state:F},v.set(b,I)}}}function PV(i,o){ws.X(i,o);var u=ou;if(u&&i){var m=Ni(u).hoistableScripts,v=uu(i),b=m.get(v);b||(b=u.querySelector(ff(v)),b||(i=g({src:i,async:!0},o),(o=Sa.get(v))&&qx(i,o),b=u.createElement("script"),Tn(b),fr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function kV(i,o){ws.M(i,o);var u=ou;if(u&&i){var m=Ni(u).hoistableScripts,v=uu(i),b=m.get(v);b||(b=u.querySelector(ff(v)),b||(i=g({src:i,async:!0,type:"module"},o),(o=Sa.get(v))&&qx(i,o),b=u.createElement("script"),Tn(b),fr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function XT(i,o,u,m){var v=(v=Te.current)?dp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=cu(u.href),u=Ni(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=cu(u.href);var b=Ni(v).hoistableStyles,I=b.get(i);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,I),(b=v.querySelector(df(i)))&&!b._p&&(I.instance=b,I.state.loading=5),Sa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Sa.set(i,u),b||MV(v,i,u,I.state))),o&&m===null)throw Error(r(528,""));return I}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=uu(u),u=Ni(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function cu(i){return'href="'+Pr(i)+'"'}function df(i){return'link[rel="stylesheet"]['+i+"]"}function QT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function MV(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),fr(o,"link",u),Tn(o),i.head.appendChild(o))}function uu(i){return'[src="'+Pr(i)+'"]'}function ff(i){return"script[async]"+i}function JT(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Pr(u.href)+'"]');if(m)return o.instance=m,Tn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Tn(m),fr(m,"style",v),fp(m,u.precedence,i),o.instance=m;case"stylesheet":v=cu(u.href);var b=i.querySelector(df(v));if(b)return o.state.loading|=4,o.instance=b,Tn(b),b;m=QT(u),(v=Sa.get(v))&&Fx(m,v),b=(i.ownerDocument||i).createElement("link"),Tn(b);var I=b;return I._p=new Promise(function(F,K){I.onload=F,I.onerror=K}),fr(b,"link",m),o.state.loading|=4,fp(b,u.precedence,i),o.instance=b;case"script":return b=uu(u.src),(v=i.querySelector(ff(b)))?(o.instance=v,Tn(v),v):(m=u,(v=Sa.get(b))&&(m=g({},u),qx(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),Tn(v),fr(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,fp(m,u.precedence,i));return o.instance}function fp(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,I=0;I<m.length;I++){var F=m[I];if(F.dataset.precedence===o)b=F;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Fx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function qx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var hp=null;function ZT(i,o,u){if(hp===null){var m=new Map,v=hp=new Map;v.set(u,m)}else v=hp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var b=u[v];if(!(b[bi]||b[An]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(o)||"";I=i+I;var F=m.get(I);F?F.push(b):m.set(I,[b])}}return m}function e2(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function LV(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function t2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function UV(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=cu(m.href),b=o.querySelector(df(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=mp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=b,Tn(b);return}b=o.ownerDocument||o,m=QT(m),(v=Sa.get(v))&&Fx(m,v),b=b.createElement("link"),Tn(b);var I=b;I._p=new Promise(function(F,K){I.onload=F,I.onerror=K}),fr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=mp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Hx=0;function VV(i,o){return i.stylesheets&&i.count===0&&gp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&Hx===0&&(Hx=62500*xV());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Hx?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function mp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pp=null;function gp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pp=new Map,o.forEach(zV,i),pp=null,mp.call(i))}function zV(i,o){if(!(o.state.loading&4)){var u=pp.get(i);if(u)var m=u.get(null);else{u=new Map,pp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var I=v[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),m=I)}m&&u.set(null,m)}v=o.instance,I=v.getAttribute("data-precedence"),b=u.get(I)||m,b===m&&u.set(null,v),u.set(I,v),this.count++,m=mp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var hf={$$typeof:M,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function BV(i,o,u,m,v,b,I,F,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function n2(i,o,u,m,v,b,I,F,K,se,ye,_e){return i=new BV(i,o,u,I,K,se,ye,_e,F),o=1,b===!0&&(o|=24),b=ea(3,null,null,o),i.current=b,b.stateNode=i,o=jv(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Tv(b),i}function r2(i){return i?(i=Bc,i):Bc}function a2(i,o,u,m,v,b){v=r2(v),m.context===null?m.context=v:m.pendingContext=v,m=pl(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=gl(i,m,o),u!==null&&(zr(u,i,o),qd(u,i,o))}function i2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Gx(i,o){i2(i,o),(i=i.alternate)&&i2(i,o)}function s2(i){if(i.tag===13||i.tag===31){var o=To(i,67108864);o!==null&&zr(o,i,67108864),Gx(i,67108864)}}function l2(i){if(i.tag===13||i.tag===31){var o=ia();o=go(o);var u=To(i,o);u!==null&&zr(u,i,o),Gx(i,o)}}var yp=!0;function $V(i,o,u,m){var v=G.T;G.T=null;var b=Y.p;try{Y.p=2,Kx(i,o,u,m)}finally{Y.p=b,G.T=v}}function FV(i,o,u,m){var v=G.T;G.T=null;var b=Y.p;try{Y.p=8,Kx(i,o,u,m)}finally{Y.p=b,G.T=v}}function Kx(i,o,u,m){if(yp){var v=Yx(m);if(v===null)Rx(i,o,m,vp,u),c2(i,m);else if(HV(v,i,o,u,m))m.stopPropagation();else if(c2(i,m),o&4&&-1<qV.indexOf(i)){for(;v!==null;){var b=pa(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=gi(b.pendingLanes);if(I!==0){var F=b;for(F.pendingLanes|=2,F.entangledLanes|=2;I;){var K=1<<31-yn(I);F.entanglements[1]|=K,I&=~K}ki(b),(jt&6)===0&&(ep=Pe()+500,lf(0))}}break;case 31:case 13:F=To(b,2),F!==null&&zr(F,b,2),np(),Gx(b,2)}if(b=Yx(m),b===null&&Rx(i,o,m,vp,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else Rx(i,o,m,null,u)}}function Yx(i){return i=ga(i),Wx(i)}var vp=null;function Wx(i){if(vp=null,i=wi(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return vp=i,null}function o2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case ze:return 2;case Ht:return 8;case $t:case mi:return 32;case Va:return 268435456;default:return 32}default:return 32}}var Xx=!1,Al=null,Tl=null,Cl=null,mf=new Map,pf=new Map,Il=[],qV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c2(i,o){switch(i){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":mf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(o.pointerId)}}function gf(i,o,u,m,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},o!==null&&(o=pa(o),o!==null&&s2(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function HV(i,o,u,m,v){switch(o){case"focusin":return Al=gf(Al,i,o,u,m,v),!0;case"dragenter":return Tl=gf(Tl,i,o,u,m,v),!0;case"mouseover":return Cl=gf(Cl,i,o,u,m,v),!0;case"pointerover":var b=v.pointerId;return mf.set(b,gf(mf.get(b)||null,i,o,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,pf.set(b,gf(pf.get(b)||null,i,o,u,m,v)),!0}return!1}function u2(i){var o=wi(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,$a(i.priority,function(){l2(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,$a(i.priority,function(){l2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Yx(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Td=m,u.target.dispatchEvent(m),Td=null}else return o=pa(u),o!==null&&s2(o),i.blockedOn=u,!1;o.shift()}return!0}function d2(i,o,u){xp(i)&&u.delete(o)}function GV(){Xx=!1,Al!==null&&xp(Al)&&(Al=null),Tl!==null&&xp(Tl)&&(Tl=null),Cl!==null&&xp(Cl)&&(Cl=null),mf.forEach(d2),pf.forEach(d2)}function bp(i,o){i.blockedOn===o&&(i.blockedOn=null,Xx||(Xx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GV)))}var wp=null;function f2(i){wp!==i&&(wp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wp===i&&(wp=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(Wx(m||u)===null)continue;break}var b=pa(u);b!==null&&(i.splice(o,3),o-=3,Yv(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function du(i){function o(K){return bp(K,i)}Al!==null&&bp(Al,i),Tl!==null&&bp(Tl,i),Cl!==null&&bp(Cl,i),mf.forEach(o),pf.forEach(o);for(var u=0;u<Il.length;u++){var m=Il[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Il.length&&(u=Il[0],u.blockedOn===null);)u2(u),u.blockedOn===null&&Il.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],I=v[Wn]||null;if(typeof b=="function")I||f2(u);else if(I){var F=null;if(b&&b.hasAttribute("formAction")){if(v=b,I=b[Wn]||null)F=I.formAction;else if(Wx(v)!==null)continue}else F=I.action;typeof F=="function"?u[m+1]=F:(u.splice(m,3),m-=3),f2(u)}}}function h2(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Qx(i){this._internalRoot=i}Np.prototype.render=Qx.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=ia();a2(u,m,i,o,null,null)},Np.prototype.unmount=Qx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;a2(i.current,2,null,i,null,null),np(),o[xi]=null}};function Np(i){this._internalRoot=i}Np.prototype.unstable_scheduleHydration=function(i){if(i){var o=nm();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Il.length&&o!==0&&o<Il[u].priority;u++);Il.splice(u,0,i),u===0&&u2(i)}};var m2=e.version;if(m2!=="19.2.0")throw Error(r(527,m2,"19.2.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var KV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{za=_p.inject(KV),lr=_p}catch{}}return vf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",v=wA,b=NA,I=_A;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=n2(i,1,!1,null,null,u,m,null,v,b,I,h2),i[xi]=o.current,Dx(i),new Qx(o)},vf.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,v="",b=wA,I=NA,F=_A,K=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=n2(i,1,!0,o,u??null,m,v,K,b,I,F,h2),o.context=r2(null),u=o.current,m=ia(),m=go(m),v=pl(m),v.callback=null,gl(u,v,m),u=m,o.current.lanes=u,mo(o,u),ki(o),i[xi]=o.current,Dx(i),new Np(o)},vf.version="19.2.0",vf}var j2;function s7(){if(j2)return tb.exports;j2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tb.exports=i7(),tb.exports}var l7=s7();const o7=Zi(l7);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E2="popstate";function c7(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:f=""}=pc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),s1("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof l=="string"?l:Bf(l))}function r(a,l){fa(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return d7(e,n,r,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u7(){return Math.random().toString(36).substring(2,10)}function S2(t,e){return{usr:t.state,key:t.key,idx:e}}function s1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pc(e):e,state:n,key:e&&e.key||r||u7()}}function Bf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function d7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let _=p(),O=_==null?null:_-h;h=_,f&&f({action:d,location:j.location,delta:O})}function x(_,O){d="PUSH";let R=s1(j.location,_,O);n&&n(R,_),h=p()+1;let M=S2(R,h),T=j.createHref(R);try{c.pushState(M,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(T)}l&&f&&f({action:d,location:j.location,delta:1})}function N(_,O){d="REPLACE";let R=s1(j.location,_,O);n&&n(R,_),h=p();let M=S2(R,h),T=j.createHref(R);c.replaceState(M,"",T),l&&f&&f({action:d,location:j.location,delta:0})}function E(_){return f7(_)}let j={get action(){return d},get location(){return t(a,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E2,g),f=_,()=>{a.removeEventListener(E2,g),f=null}},createHref(_){return e(a,_)},createURL:E,encodeLocation(_){let O=E(_);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:N,go(_){return c.go(_)}};return j}function f7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function F4(t,e,n="/"){return h7(t,e,n,!1)}function h7(t,e,n,r){let a=typeof e=="string"?pc(e):e,l=Rs(a.pathname||"/",n);if(l==null)return null;let c=q4(t);m7(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=E7(l);d=_7(c[f],h,r)}return d}function q4(t,e=[],n=[],r="",a=!1){let l=(c,d,f=a,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;ln(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Cs([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(ln(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),q4(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:w7(g,c.index),routesMeta:x})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let h of H4(c.path))l(c,d,!0,h)}),e}function H4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=H4(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function m7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var p7=/^:[\w-]+$/,g7=3,y7=2,v7=1,x7=10,b7=-2,A2=t=>t==="*";function w7(t,e){let n=t.split("/"),r=n.length;return n.some(A2)&&(r+=b7),e&&(r+=y7),n.filter(a=>!A2(a)).reduce((a,l)=>a+(p7.test(l)?g7:l===""?v7:x7),r)}function N7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function _7(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",g=gg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=gg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Cs([l,g.pathname]),pathnameBase:I7(Cs([l,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(l=Cs([l,g.pathnameBase]))}return c}function gg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=j7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const N=d[x];return g&&!N?h[p]=void 0:h[p]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function j7(t,e=!1,n=!0){fa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function E7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var S7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A7=t=>S7.test(t);function T7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?pc(t):t,l;if(n)if(A7(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),fa(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=T2(n.substring(1),"/"):l=T2(n,e)}else l=e;return{pathname:l,search:O7(r),hash:D7(a)}}function T2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ib(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BN(t){let e=C7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $N(t,e,n,r=!1){let a;typeof t=="string"?a=pc(t):(a={...t},ln(!a.pathname||!a.pathname.includes("?"),ib("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),ib("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),ib("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=T7(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),I7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G4=["POST","PUT","PATCH","DELETE"];new Set(G4);var P7=["GET",...G4];new Set(P7);var Zu=w.createContext(null);Zu.displayName="DataRouter";var Py=w.createContext(null);Py.displayName="DataRouterState";w.createContext(!1);var K4=w.createContext({isTransitioning:!1});K4.displayName="ViewTransition";var k7=w.createContext(new Map);k7.displayName="Fetchers";var M7=w.createContext(null);M7.displayName="Await";var ui=w.createContext(null);ui.displayName="Navigation";var hh=w.createContext(null);hh.displayName="Location";var es=w.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var FN=w.createContext(null);FN.displayName="RouteError";function L7(t,{relative:e}={}){ln(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ui),{hash:a,pathname:l,search:c}=mh(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Cs([n,l])),r.createHref({pathname:d,search:c,hash:a})}function ed(){return w.useContext(hh)!=null}function ts(){return ln(ed(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(hh).location}var Y4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W4(t){w.useContext(ui).static||w.useLayoutEffect(t)}function qN(){let{isDataRoute:t}=w.useContext(es);return t?X7():U7()}function U7(){ln(ed(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Zu),{basename:e,navigator:n}=w.useContext(ui),{matches:r}=w.useContext(es),{pathname:a}=ts(),l=JSON.stringify(BN(r)),c=w.useRef(!1);return W4(()=>{c.current=!0}),w.useCallback((f,h={})=>{if(fa(c.current,Y4),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=$N(f,JSON.parse(l),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Cs([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,l,a,t])}w.createContext(null);function mh(t,{relative:e}={}){let{matches:n}=w.useContext(es),{pathname:r}=ts(),a=JSON.stringify(BN(n));return w.useMemo(()=>$N(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function V7(t,e){return X4(t,e)}function X4(t,e,n,r,a){var R;ln(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(ui),{matches:c}=w.useContext(es),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let M=g&&g.path||"";Q4(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=ts(),N;if(e){let M=typeof e=="string"?pc(e):e;ln(p==="/"||((R=M.pathname)==null?void 0:R.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),N=M}else N=x;let E=N.pathname||"/",j=E;if(p!=="/"){let M=p.replace(/^\//,"").split("/");j="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let _=F4(t,{pathname:j});fa(g||_!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),fa(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=q7(_&&_.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Cs([p,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Cs([p,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,r,a);return e&&O?w.createElement(hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},O):O}function z7(){let t=W7(),e=R7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var B7=w.createElement(z7,null),$7=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(es.Provider,{value:this.props.routeContext},w.createElement(FN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F7({routeContext:t,match:e,children:n}){let r=w.useContext(Zu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(es.Provider,{value:t},n)}function q7(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);ln(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:N}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let h=n&&r?(p,g)=>{var x,N;r(p,{location:n.location,params:((N=(x=n.matches)==null?void 0:x[0])==null?void 0:N.params)??{},errorInfo:g})}:void 0;return l.reduceRight((p,g,x)=>{let N,E=!1,j=null,_=null;n&&(N=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||B7,d&&(f<0&&x===0?(Q4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,_=null):f===x&&(E=!0,_=g.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,x+1)),R=()=>{let M;return N?M=j:E?M=_:g.route.Component?M=w.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,w.createElement(F7,{match:g,routeContext:{outlet:p,matches:O,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement($7,{location:n.location,revalidation:n.revalidation,component:j,error:N,children:R(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:h}):R()},null)}function HN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H7(t){let e=w.useContext(Zu);return ln(e,HN(t)),e}function G7(t){let e=w.useContext(Py);return ln(e,HN(t)),e}function K7(t){let e=w.useContext(es);return ln(e,HN(t)),e}function GN(t){let e=K7(t),n=e.matches[e.matches.length-1];return ln(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Y7(){return GN("useRouteId")}function W7(){var r;let t=w.useContext(FN),e=G7("useRouteError"),n=GN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function X7(){let{router:t}=H7("useNavigate"),e=GN("useNavigate"),n=w.useRef(!1);return W4(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{fa(n.current,Y4),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var C2={};function Q4(t,e,n){!e&&!C2[t]&&(C2[t]=!0,fa(!1,n))}w.memo(Q7);function Q7({routes:t,future:e,state:n,unstable_onError:r}){return X4(t,void 0,n,r,e)}function J7({to:t,replace:e,state:n,relative:r}){ln(ed(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(ui);fa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(es),{pathname:c}=ts(),d=qN(),f=$N(t,BN(l),c,r==="path"),h=JSON.stringify(f);return w.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function Xt(t){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Z7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){ln(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=pc(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,N=w.useMemo(()=>{let E=Rs(f,c);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return fa(N!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(ui.Provider,{value:d},w.createElement(hh.Provider,{children:e,value:N}))}function ez({children:t,location:e}){return V7(l1(t),e)}function l1(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let l=[...e,a];if(r.type===w.Fragment){n.push.apply(n,l1(r.props.children,l));return}ln(r.type===Xt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=l1(r.props.children,l)),n.push(c)}),n}var Xp="get",Qp="application/x-www-form-urlencoded";function ky(t){return t!=null&&typeof t.tagName=="string"}function tz(t){return ky(t)&&t.tagName.toLowerCase()==="button"}function nz(t){return ky(t)&&t.tagName.toLowerCase()==="form"}function rz(t){return ky(t)&&t.tagName.toLowerCase()==="input"}function az(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iz(t,e){return t.button===0&&(!e||e==="_self")&&!az(t)}var jp=null;function sz(){if(jp===null)try{new FormData(document.createElement("form"),0),jp=!1}catch{jp=!0}return jp}var lz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sb(t){return t!=null&&!lz.has(t)?(fa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qp}"`),null):t}function oz(t,e){let n,r,a,l,c;if(nz(t)){let d=t.getAttribute("action");r=d?Rs(d,e):null,n=t.getAttribute("method")||Xp,a=sb(t.getAttribute("enctype"))||Qp,l=new FormData(t)}else if(tz(t)||rz(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Rs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Xp,a=sb(t.getAttribute("formenctype"))||sb(d.getAttribute("enctype"))||Qp,l=new FormData(d,t),!sz()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else h&&l.append(h,g)}}else{if(ky(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xp,r=null,a=Qp,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function KN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Rs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function uz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fz(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await uz(l,n);return c.links?c.links():[]}return[]}));return gz(r.flat(1).filter(dz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function I2(t,e,n,r,a,l){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):l==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function hz(t,e,{includeHydrateFallback:n}={}){return mz(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mz(t){return[...new Set(t)]}function pz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gz(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(pz(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function J4(){let t=w.useContext(Zu);return KN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yz(){let t=w.useContext(Py);return KN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var YN=w.createContext(void 0);YN.displayName="FrameworkContext";function Z4(){let t=w.useContext(YN);return KN(t,"You must render this element inside a <HydratedRouter> element"),t}function vz(t,e){let n=w.useContext(YN),[r,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=O=>{O.forEach(R=>{c(R.isIntersecting)})},_=new IntersectionObserver(j,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[t]),w.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let N=()=>{a(!0)},E=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:xf(d,N),onBlur:xf(f,E),onMouseEnter:xf(h,N),onMouseLeave:xf(p,E),onTouchStart:xf(g,N)}]:[!1,x,{}]}function xf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xz({page:t,...e}){let{router:n}=J4(),r=w.useMemo(()=>F4(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(wz,{page:t,matches:r,...e}):null}function bz(t){let{manifest:e,routeModules:n}=Z4(),[r,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return fz(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function wz({page:t,matches:e,...n}){let r=ts(),{manifest:a,routeModules:l}=Z4(),{basename:c}=J4(),{loaderData:d,matches:f}=yz(),h=w.useMemo(()=>I2(t,e,f,a,r,"data"),[t,e,f,a,r]),p=w.useMemo(()=>I2(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,j=!1;if(e.forEach(O=>{var M;let R=a.routes[O.route.id];!R||!R.hasLoader||(!h.some(T=>T.route.id===O.route.id)&&O.route.id in d&&((M=l[O.route.id])!=null&&M.shouldRevalidate)||R.hasClientLoader?j=!0:E.add(O.route.id))}),E.size===0)return[];let _=cz(t,c,"data");return j&&E.size>0&&_.searchParams.set("_routes",e.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[_.pathname+_.search]},[c,d,r,a,h,e,t,l]),x=w.useMemo(()=>hz(p,a),[p,a]),N=bz(p);return w.createElement(w.Fragment,null,g.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),N.map(({key:E,link:j})=>w.createElement("link",{key:E,nonce:n.nonce,...j})))}function Nz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eP&&(window.__reactRouterVersion="7.9.6")}catch{}function _z({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=c7({window:n,v5Compat:!0}));let a=r.current,[l,c]=w.useState({action:a.action,location:a.location}),d=w.useCallback(f=>{w.startTransition(()=>c(f))},[c]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(Z7,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var tP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},N){let{basename:E}=w.useContext(ui),j=typeof h=="string"&&tP.test(h),_,O=!1;if(typeof h=="string"&&j&&(_=h,eP))try{let $=new URL(window.location.href),A=h.startsWith("//")?new URL($.protocol+h):new URL(h),D=Rs(A.pathname,E);A.origin===$.origin&&D!=null?h=D+A.search+A.hash:O=!0}catch{fa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=L7(h,{relative:a}),[M,T,C]=vz(r,x),L=Az(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function P($){e&&e($),$.defaultPrevented||L($)}let U=w.createElement("a",{...x,...C,href:_||R,onClick:O||l?e:P,ref:Nz(N,T),target:f,"data-discover":!j&&n==="render"?"true":void 0});return M&&!j?w.createElement(w.Fragment,null,U,w.createElement(xz,{page:R})):U});WN.displayName="Link";var jz=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...h},p){let g=mh(c,{relative:h.relative}),x=ts(),N=w.useContext(Py),{navigator:E,basename:j}=w.useContext(ui),_=N!=null&&Dz(g)&&d===!0,O=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,R=x.pathname,M=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,O=O.toLowerCase()),M&&j&&(M=Rs(M,j)||M);const T=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let C=R===O||!a&&R.startsWith(O)&&R.charAt(T)==="/",L=M!=null&&(M===O||!a&&M.startsWith(O)&&M.charAt(O.length)==="/"),P={isActive:C,isPending:L,isTransitioning:_},U=C?e:void 0,$;typeof r=="function"?$=r(P):$=[r,C?"active":null,L?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(P):l;return w.createElement(WN,{...h,"aria-current":U,className:$,ref:p,style:A,to:c,viewTransition:d},typeof f=="function"?f(P):f)});jz.displayName="NavLink";var Ez=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Xp,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},N)=>{let E=Iz(),j=Oz(d,{relative:h}),_=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&tP.test(d),R=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let T=M.nativeEvent.submitter,C=(T==null?void 0:T.getAttribute("formmethod"))||c;E(T||M.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:h,preventScrollReset:p,viewTransition:g})};return w.createElement("form",{ref:N,method:_,action:j,onSubmit:r?f:R,...x,"data-discover":!O&&t==="render"?"true":void 0})});Ez.displayName="Form";function Sz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nP(t){let e=w.useContext(Zu);return ln(e,Sz(t)),e}function Az(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=qN(),f=ts(),h=mh(t,{relative:l});return w.useCallback(p=>{if(iz(p,e)){p.preventDefault();let g=n!==void 0?n:Bf(f)===Bf(h);d(t,{replace:g,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[f,d,h,n,r,e,t,a,l,c])}var Tz=0,Cz=()=>`__${String(++Tz)}__`;function Iz(){let{router:t}=nP("useSubmit"),{basename:e}=w.useContext(ui),n=Y7();return w.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:f,body:h}=oz(r,e);if(a.navigate===!1){let p=a.fetcherKey||Cz();await t.fetch(p,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Oz(t,{relative:e}={}){let{basename:n}=w.useContext(ui),r=w.useContext(es);ln(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...mh(t||".",{relative:e})},c=ts();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Cs([n,l.pathname])),Bf(l)}function Dz(t,{relative:e}={}){let n=w.useContext(K4);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nP("useViewTransitionState"),a=mh(t,{relative:e});if(!n.isTransitioning)return!1;let l=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gg(a.pathname,c)!=null||gg(a.pathname,l)!=null}var rP=$4();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),O2=t=>{const e=Pz(t);return e.charAt(0).toUpperCase()+e.slice(1)},aP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),kz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...d},f)=>w.createElement("svg",{ref:f,...Mz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aP("lucide",a),...!l&&!kz(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>w.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(t,e)=>{const n=w.forwardRef(({className:r,...a},l)=>w.createElement(Lz,{ref:l,iconNode:e,className:aP(`lucide-${Rz(O2(t))}`,`lucide-${t}`,r),...a}));return n.displayName=O2(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iP=Ie("activity",Uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],D2=Ie("archive",Vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bz=Ie("arrow-left",zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Fz=Ie("arrow-right-left",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Hz=Ie("arrow-right",qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Jp=Ie("award",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],sP=Ie("badge-check",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ui=Ie("book-open",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ps=Ie("briefcase",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Qz=Ie("building",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Zz=Ie("bus",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],o1=Ie("calendar-days",e9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ph=Ie("calendar",t9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r9=Ie("chart-column",n9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XN=Ie("chevron-down",a9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QN=Ie("chevron-up",i9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JN=Ie("circle-alert",s9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qr=Ie("circle-check",l9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],c9=Ie("circle-play",o9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Rf=Ie("circle-plus",u9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],lP=Ie("circle-user",d9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ZN=Ie("circle-x",f9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],oP=Ie("clipboard-list",h9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gi=Ie("clock",m9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],rr=Ie("cloud-upload",p9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],y9=Ie("copy",g9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ku=Ie("download",v9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yg=Ie("external-link",x9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],w9=Ie("file-clock",b9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],cP=Ie("file-input",N9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],uP=Ie("file-output",_9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ar=Ie("file-text",j9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],c1=Ie("flask-conical",E9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],A9=Ie("funnel",S9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dP=Ie("globe",T9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Is=Ie("graduation-cap",C9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],O9=Ie("history",I9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],R9=Ie("import",D9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],u1=Ie("key",P9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],M9=Ie("layout-dashboard",k9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],fP=Ie("leaf",L9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],hP=Ie("library",U9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],R2=Ie("link",V9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ze=Ie("loader-circle",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lb=Ie("lock",B9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],F9=Ie("log-out",$9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],d1=Ie("mail",q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mP=Ie("map-pin",H9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],f1=Ie("megaphone",G9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Y9=Ie("menu",K9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],P2=Ie("message-circle",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],Q9=Ie("mic-vocal",X9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],vg=Ie("microscope",J9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Go=Ie("network",Z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],tB=Ie("panels-top-left",eB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Zp=Ie("phone",nB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],e_=Ie("plane",rB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vt=Ie("plus",aB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],sB=Ie("presentation",iB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],oB=Ie("qr-code",lB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],h1=Ie("refresh-ccw",cB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_n=Ie("save",uB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ks=Ie("search",dB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pP=Ie("send",fB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gP=Ie("settings",hB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yP=Ie("shield-alert",mB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],Nu=Ie("sprout",pB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gn=Ie("square-pen",gB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],vB=Ie("stethoscope",yB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],bB=Ie("table",xB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eg=Ie("target",wB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ot=Ie("trash-2",NB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gr=Ie("triangle-alert",_B);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],k2=Ie("user-check",jB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],SB=Ie("user-cog",EB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vP=Ie("user-plus",AB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xP=Ie("user",TB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ai=Ie("users",CB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Et=Ie("x",IB);var Ne=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(Ne||{}),rt=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(rt||{});const OB=({children:t,user:e,onLogout:n})=>{const[r,a]=w.useState(!1),l=ts(),c=h=>l.pathname===h,f=[{path:"/",label:" ",icon:M9,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY,Ne.EMPLOYEE]},{path:"/outgoing",label:"",icon:uP,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY]},{path:"/incoming",label:"",icon:cP,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY]},{path:"/councils",label:" ",icon:ai,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/committees",label:" ",icon:oP,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/formation",label:"  ",icon:Go,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/research-plan",label:"  ",icon:eg,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG]},{path:"/annual-report",label:" ",icon:ar,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/leaves",label:" ",icon:o1,roles:[Ne.ADMIN,Ne.STAFF,Ne.EMPLOYEE]},{path:"/career-movements",label:"  ",icon:e_,roles:[Ne.ADMIN,Ne.STAFF,Ne.EMPLOYEE]},{path:"/events",label:"  ",icon:f1,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG,Ne.ALUMNI,Ne.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:w9,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/repository",label:"   ",icon:hP,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG,Ne.ALUMNI,Ne.EMPLOYEE]},{path:"/courses",label:"  ",icon:Ui,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG,Ne.DATA_ENTRY]},{path:"/inventory",label:" ",icon:vg,roles:[Ne.ADMIN,Ne.STAFF]},{path:"/labs",label:" ",icon:c1,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:Nu,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG]},{path:"/staff",label:" ",icon:lP,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG]},{path:"/students",label:" ",icon:Is,roles:[Ne.ADMIN,Ne.STAFF,Ne.STUDENT_PG,Ne.STUDENT_UG]},{path:"/alumni",label:" ",icon:Ps,roles:[Ne.ADMIN,Ne.STAFF,Ne.ALUMNI]},{path:"/users",label:" ",icon:SB,roles:[Ne.ADMIN]},{path:"/activity-log",label:" ",icon:iP,roles:[Ne.ADMIN]},{path:"/search",label:" ",icon:ks,roles:[Ne.ADMIN,Ne.STAFF,Ne.DATA_ENTRY]}].filter(h=>h.roles.includes(e.role));return s.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[s.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[s.jsx("div",{className:"bg-white p-2 rounded-full",children:s.jsx(fP,{className:"w-6 h-6 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-sm",children:"   "}),s.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:f.map(h=>s.jsxs(WN,{to:h.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(h.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[s.jsx(h.icon,{className:"w-5 h-5"}),s.jsx("span",{children:h.label})]},h.path))}),s.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),s.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===Ne.ADMIN?" ":e.role===Ne.STAFF?"  ":e.role===Ne.STUDENT_PG?" ":e.role===Ne.STUDENT_UG?"":e.role===Ne.EMPLOYEE?" / ":""})]})]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[s.jsx(F9,{className:"w-4 h-4"}),s.jsx("span",{children:" "})]})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[s.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[s.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),s.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:s.jsx(Y9,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function bP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bP(t))&&(r&&(r+=" "),r+=e);return r}var DB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function t_(t){if(typeof t!="string")return!1;var e=DB;return e.includes(t)}var RB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PB=new Set(RB);function wP(t){return typeof t!="string"?!1:PB.has(t)}function NP(t){return typeof t=="string"&&t.startsWith("data-")}function si(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(wP(n)||NP(n))&&(e[n]=t[n]);return e}function $f(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return si(e)}return typeof t=="object"&&!Array.isArray(t)?si(t):null}function Ra(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(wP(n)||NP(n)||t_(n))&&(e[n]=t[n]);return e}var kB=["children","width","height","viewBox","className","style","title","desc"];function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m1.apply(null,arguments)}function MB(t,e){if(t==null)return{};var n,r,a=LB(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function LB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _P=w.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:l,className:c,style:d,title:f,desc:h}=t,p=MB(t,kB),g=l||{width:r,height:a,x:0,y:0},x=zt("recharts-surface",c);return w.createElement("svg",m1({},Ra(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,f),w.createElement("desc",null,h),n)}),UB=["children","className"];function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(null,arguments)}function VB(t,e){if(t==null)return{};var n,r,a=zB(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dr=w.forwardRef((t,e)=>{var{children:n,className:r}=t,a=VB(t,UB),l=zt("recharts-layer",r);return w.createElement("g",p1({className:l},Ra(a),{ref:e}),n)}),BB=w.createContext(null);function Gt(t){return function(){return t}}const jP=Math.cos,xg=Math.sin,di=Math.sqrt,bg=Math.PI,My=2*bg,g1=Math.PI,y1=2*g1,$o=1e-6,$B=y1-$o;function EP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function FB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return EP;const n=10**e;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class qB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?EP:FB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,l,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(e,n,r,a,l){if(e=+e,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=r-e,h=a-n,p=c-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>$o)if(!(Math.abs(g*f-h*p)>$o)||!l)this._append`L${this._x1=e},${this._y1=n}`;else{let N=r-c,E=a-d,j=f*f+h*h,_=N*N+E*E,O=Math.sqrt(j),R=Math.sqrt(x),M=l*Math.tan((g1-Math.acos((j+x-_)/(2*O*R)))/2),T=M/R,C=M/O;Math.abs(T-1)>$o&&this._append`L${e+T*p},${n+T*g}`,this._append`A${l},${l},0,0,${+(g*N>p*E)},${this._x1=e+C*f},${this._y1=n+C*h}`}}arc(e,n,r,a,l,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^c,x=c?a-l:l-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>$o||Math.abs(this._y1-p)>$o)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%y1+y1),x>$B?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>$o&&this._append`A${r},${r},0,${+(x>=g1)},${g},${this._x1=e+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function n_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qB(e)}function r_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SP(t){this._context=t}SP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new SP(t)}function AP(t){return t[0]}function TP(t){return t[1]}function CP(t,e){var n=Gt(!0),r=null,a=Ly,l=null,c=n_(d);t=typeof t=="function"?t:t===void 0?AP:Gt(t),e=typeof e=="function"?e:e===void 0?TP:Gt(e);function d(f){var h,p=(f=r_(f)).length,g,x=!1,N;for(r==null&&(l=a(N=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?l.lineStart():l.lineEnd()),x&&l.point(+t(g,h,f),+e(g,h,f));if(N)return l=null,N+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Gt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(l=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=l=null:l=a(r=f),d):r},d}function Ep(t,e,n){var r=null,a=Gt(!0),l=null,c=Ly,d=null,f=n_(h);t=typeof t=="function"?t:t===void 0?AP:Gt(+t),e=typeof e=="function"?e:Gt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?TP:Gt(+n);function h(g){var x,N,E,j=(g=r_(g)).length,_,O=!1,R,M=new Array(j),T=new Array(j);for(l==null&&(d=c(R=f())),x=0;x<=j;++x){if(!(x<j&&a(_=g[x],x,g))===O)if(O=!O)N=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=N;--E)d.point(M[E],T[E]);d.lineEnd(),d.areaEnd()}O&&(M[x]=+t(_,x,g),T[x]=+e(_,x,g),d.point(r?+r(_,x,g):M[x],n?+n(_,x,g):T[x]))}if(R)return d=null,R+""||null}function p(){return CP().defined(a).curve(c).context(l)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Gt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Gt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Gt(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),h):c},h.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),h):l},h}class IP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function HB(t){return new IP(t,!0)}function GB(t){return new IP(t,!1)}const a_={draw(t,e){const n=di(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,My)}},KB={draw(t,e){const n=di(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OP=di(1/3),YB=OP*2,WB={draw(t,e){const n=di(e/YB),r=n*OP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},XB={draw(t,e){const n=di(e),r=-n/2;t.rect(r,r,n,n)}},QB=.8908130915292852,DP=xg(bg/10)/xg(7*bg/10),JB=xg(My/10)*DP,ZB=-jP(My/10)*DP,e$={draw(t,e){const n=di(e*QB),r=JB*n,a=ZB*n;t.moveTo(0,-n),t.lineTo(r,a);for(let l=1;l<5;++l){const c=My*l/5,d=jP(c),f=xg(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},ob=di(3),t$={draw(t,e){const n=-di(e/(ob*3));t.moveTo(0,n*2),t.lineTo(-ob*n,-n),t.lineTo(ob*n,-n),t.closePath()}},Aa=-.5,Ta=di(3)/2,v1=1/di(12),n$=(v1/2+1)*3,r$={draw(t,e){const n=di(e/n$),r=n/2,a=n*v1,l=r,c=n*v1+n,d=-l,f=c;t.moveTo(r,a),t.lineTo(l,c),t.lineTo(d,f),t.lineTo(Aa*r-Ta*a,Ta*r+Aa*a),t.lineTo(Aa*l-Ta*c,Ta*l+Aa*c),t.lineTo(Aa*d-Ta*f,Ta*d+Aa*f),t.lineTo(Aa*r+Ta*a,Aa*a-Ta*r),t.lineTo(Aa*l+Ta*c,Aa*c-Ta*l),t.lineTo(Aa*d+Ta*f,Aa*f-Ta*d),t.closePath()}};function a$(t,e){let n=null,r=n_(a);t=typeof t=="function"?t:Gt(t||a_),e=typeof e=="function"?e:Gt(e===void 0?64:+e);function a(){let l;if(n||(n=l=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(t=typeof l=="function"?l:Gt(l),a):t},a.size=function(l){return arguments.length?(e=typeof l=="function"?l:Gt(+l),a):e},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function wg(){}function Ng(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RP(t){this._context=t}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function i$(t){return new RP(t)}function PP(t){this._context=t}PP.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function s$(t){return new PP(t)}function kP(t){this._context=t}kP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l$(t){return new kP(t)}function MP(t){this._context=t}MP.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function o$(t){return new MP(t)}function M2(t){return t<0?-1:1}function L2(t,e,n){var r=t._x1-t._x0,a=e-t._x1,l=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(l*a+c*r)/(r+a);return(M2(l)+M2(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function U2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cb(t,e,n){var r=t._x0,a=t._y0,l=t._x1,c=t._y1,d=(l-r)/3;t._context.bezierCurveTo(r+d,a+d*e,l-d,c-d*n,l,c)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cb(this,this._t0,U2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cb(this,U2(this,n=L2(this,t,e)),n);break;default:cb(this,this._t0,n=L2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LP(t){this._context=new UP(t)}(LP.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function UP(t){this._context=t}UP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,l){this._context.bezierCurveTo(e,t,r,n,l,a)}};function c$(t){return new _g(t)}function u$(t){return new LP(t)}function VP(t){this._context=t}VP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=V2(t),a=V2(e),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function V2(t){var e,n=t.length-1,r,a=new Array(n),l=new Array(n),c=new Array(n);for(a[0]=0,l[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,l[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,l[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/l[e-1],l[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/l[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/l[e];for(l[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)l[e]=2*t[e+1]-a[e+1];return[a,l]}function d$(t){return new VP(t)}function Uy(t,e){this._context=t,this._t=e}Uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function f$(t){return new Uy(t,.5)}function h$(t){return new Uy(t,0)}function m$(t){return new Uy(t,1)}function Mu(t,e){if((c=t.length)>1)for(var n=1,r,a,l=t[e[0]],c,d=l.length;n<c;++n)for(a=l,l=t[e[n]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function x1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function p$(t,e){return t[e]}function g$(t){const e=[];return e.key=t,e}function y$(){var t=Gt([]),e=x1,n=Mu,r=p$;function a(l){var c=Array.from(t.apply(this,arguments),g$),d,f=c.length,h=-1,p;for(const g of l)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,l)]).data=g;for(d=0,p=r_(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(l){return arguments.length?(t=typeof l=="function"?l:Gt(Array.from(l)),a):t},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:Gt(+l),a):r},a.order=function(l){return arguments.length?(e=l==null?x1:typeof l=="function"?l:Gt(Array.from(l)),a):e},a.offset=function(l){return arguments.length?(n=l??Mu,a):n},a}function v$(t,e){if((r=t.length)>0){for(var n,r,a=0,l=t[0].length,c;a<l;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Mu(t,e)}}function x$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,l=r.length;n<l;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Mu(t,e)}}function b$(t,e){if(!(!((c=t.length)>0)||!((l=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,l,c;r<l;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,N=(g-x)/2,E=0;E<d;++E){var j=t[e[E]],_=j[r][1]||0,O=j[r-1][1]||0;N+=_-O}f+=g,h+=N*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Mu(t,e)}}var ub={},db={},z2;function w$(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(db)),db}var fb={},B2;function zP(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(fb)),fb}var hb={},$2;function i_(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(hb)),hb}var mb={},pb={},F2;function N$(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(pb)),pb}var q2;function s_(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N$(),n=i_();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const l=[],c=a.length;if(c===0)return l;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=a[d];h?g==="\\"&&d+1<c?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,l.push(f),f=""):f+=g:g==="["?(p=!0,f&&(l.push(f),f="")):g==="."?f&&(l.push(f),f=""):f+=g,d++}return f&&l.push(f),l}t.toPath=r})(mb)),mb}var H2;function l_(){return H2||(H2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w$(),n=zP(),r=i_(),a=s_();function l(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?l(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=l})(ub)),ub}var gb,G2;function _$(){return G2||(G2=1,gb=l_().get),gb}var j$=_$();const rc=Zi(j$);var nr=t=>t===0?0:t>0?1:-1,li=t=>typeof t=="number"&&t!=+t,Ms=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Be=t=>(typeof t=="number"||t instanceof Number)&&!li(t),Ki=t=>Be(t)||typeof t=="string",E$=0,Ff=t=>{var e=++E$;return"".concat(t||"").concat(e)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(e)&&typeof e!="string")return r;var l;if(Ms(e)){if(n==null)return r;var c=e.indexOf("%");l=n*parseFloat(e.slice(0,c))/100}else l=+e;return li(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},BP=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Bn(t,e,n){return Be(t)&&Be(e)?t+n*(e-t):e}function S$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):rc(r,e))===n)}var ir=t=>t===null||typeof t>"u",gh=t=>ir(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function A$(t){return t!=null}function yh(){}var T$=["type","size","sizeType"];function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b1.apply(null,arguments)}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){C$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C$(t,e,n){return(e=I$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$(t){var e=O$(t,"string");return typeof e=="symbol"?e:e+""}function O$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D$(t,e){if(t==null)return{};var n,r,a=R$(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function R$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $P={symbolCircle:a_,symbolCross:KB,symbolDiamond:WB,symbolSquare:XB,symbolStar:e$,symbolTriangle:t$,symbolWye:r$},P$=Math.PI/180,k$=t=>{var e="symbol".concat(gh(t));return $P[e]||a_},M$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*P$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},L$=(t,e)=>{$P["symbol".concat(gh(t))]=e},FP=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=D$(t,T$),l=Y2(Y2({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var x=k$(c),N=a$().type(x).size(M$(n,r,c)),E=N();if(E!==null)return E},{className:f,cx:h,cy:p}=l,g=Ra(l);return Be(h)&&Be(p)&&Be(n)?w.createElement("path",b1({},g,{className:zt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};FP.registerSymbol=L$;var qP=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,U$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{t_(a)&&(r[a]=(l=>n[a](n,l)))}),r},V$=(t,e,n)=>r=>(t(e,n,r),null),Vy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var l=t[a];t_(a)&&typeof l=="function"&&(r||(r={}),r[a]=V$(l,e,n))}),r};function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){B$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$(t,e,n){return(e=$$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=F$(t,"string");return typeof e=="symbol"?e:e+""}function F$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e){var n=z$({},t),r=e,a=Object.keys(e),l=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return l}var yb={},vb={},X2;function q$(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(vb)),vb}var xb={},Q2;function HP(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(xb)),xb}var bb={},wb={},Nb={},J2;function H$(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Nb)),Nb}var Z2;function o_(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H$();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(wb)),wb}var _b={},eC;function G$(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(_b)),_b}var tC;function K$(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_(),n=G$();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(bb)),bb}var jb={},Eb={},nC;function Y$(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Eb)),Eb}var Sb={},Ab={},Tb={},Cb={},rC;function GP(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Cb)),Cb}var Ib={},aC;function KP(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Ib)),Ib}var Ob={},iC;function YP(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Ob)),Ob}var sC;function W$(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GP(),n=KP(),r=YP();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):l(p,g,function N(E,j,_,O,R,M){const T=x(E,j,_,O,R,M);return T!==void 0?!!T:l(E,j,N,M)},new Map)}function l(p,g,x,N){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,N);case"function":return Object.keys(g).length>0?l(p,{...g},x,N):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,x,N){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,N);if(g instanceof Map)return d(p,g,x,N);if(g instanceof Set)return h(p,g,x,N);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(N!=null&&N.has(g))return N.get(g)===p;N==null||N.set(g,p);try{for(let j=0;j<E.length;j++){const _=E[j];if(!n.isPrimitive(p)&&!(_ in p)||g[_]===void 0&&p[_]!==void 0||g[_]===null&&p[_]!==null||!x(p[_],g[_],_,p,g,N))return!1}return!0}finally{N==null||N.delete(g)}}function d(p,g,x,N){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,j]of g.entries()){const _=p.get(E);if(x(_,j,E,p,g,N)===!1)return!1}return!0}function f(p,g,x,N){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let j=0;j<g.length;j++){const _=g[j];let O=!1;for(let R=0;R<p.length;R++){if(E.has(R))continue;const M=p[R];let T=!1;if(x(M,_,j,p,g,N)&&(T=!0),T){E.add(R),O=!0;break}}if(!O)return!1}return!0}function h(p,g,x,N){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,N):!1}t.isMatchWith=a,t.isSetMatch=h})(Tb)),Tb}var lC;function WP(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W$();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Ab)),Ab}var Db={},Rb={},Pb={},oC;function X$(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Pb)),Pb}var kb={},cC;function XP(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(kb)),kb}var Mb={},uC;function QP(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",N="[object Object]",E="[object Error]",j="[object DataView]",_="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",M="[object Uint32Array]",T="[object BigUint64Array]",C="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",U="[object BigInt64Array]",$="[object Float32Array]",A="[object Float64Array]";t.argumentsTag=l,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=T,t.booleanTag=a,t.dataViewTag=j,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=$,t.float64ArrayTag=A,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=P,t.int8ArrayTag=C,t.mapTag=f,t.numberTag=r,t.objectTag=N,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=R,t.uint32ArrayTag=M,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=O})(Mb)),Mb}var Lb={},dC;function Q$(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Lb)),Lb}var fC;function JP(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X$(),n=XP(),r=QP(),a=KP(),l=Q$();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,N=new Map,E=void 0){const j=E==null?void 0:E(p,g,x,N);if(j!==void 0)return j;if(a.isPrimitive(p))return p;if(N.has(p))return N.get(p);if(Array.isArray(p)){const _=new Array(p.length);N.set(p,_);for(let O=0;O<p.length;O++)_[O]=d(p[O],O,x,N,E);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;N.set(p,_);for(const[O,R]of p)_.set(O,d(R,O,x,N,E));return _}if(p instanceof Set){const _=new Set;N.set(p,_);for(const O of p)_.add(d(O,void 0,x,N,E));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(l.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);N.set(p,_);for(let O=0;O<p.length;O++)_[O]=d(p[O],O,x,N,E);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return N.set(p,_),f(_,p,x,N,E),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return N.set(p,_),f(_,p,x,N,E),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return N.set(p,_),f(_,p,x,N,E),_}if(p instanceof Error){const _=new p.constructor;return N.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,f(_,p,x,N,E),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return N.set(p,_),f(_,p,x,N,E),_}if(p instanceof Number){const _=new Number(p.valueOf());return N.set(p,_),f(_,p,x,N,E),_}if(p instanceof String){const _=new String(p.valueOf());return N.set(p,_),f(_,p,x,N,E),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return N.set(p,_),f(_,p,x,N,E),_}return p}function f(p,g,x=p,N,E){const j=[...Object.keys(g),...e.getSymbols(g)];for(let _=0;_<j.length;_++){const O=j[_],R=Object.getOwnPropertyDescriptor(p,O);(R==null||R.writable)&&(p[O]=d(g[O],O,x,N,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(Rb)),Rb}var hC;function J$(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JP();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Db)),Db}var mC;function Z$(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WP(),n=J$();function r(a){return a=n.cloneDeep(a),l=>e.isMatch(l,a)}t.matches=r})(Sb)),Sb}var Ub={},Vb={},zb={},pC;function eF(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JP(),n=QP();function r(a,l){return e.cloneDeepWith(a,(c,d,f,h)=>{const p=l==null?void 0:l(c,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(zb)),zb}var gC;function tF(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eF();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Vb)),Vb}var Bb={},$b={},yC;function ZP(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})($b)),$b}var Fb={},vC;function nF(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Fb)),Fb}var xC;function rF(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zP(),n=ZP(),r=nF(),a=s_();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=l})(Bb)),Bb}var bC;function aF(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WP(),n=i_(),r=tF(),a=l_(),l=rF();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?l.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(Ub)),Ub}var wC;function iF(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HP(),n=Y$(),r=Z$(),a=aF();function l(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=l})(jb)),jb}var NC;function sF(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$(),n=HP(),r=K$(),a=iF();function l(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=l})(yb)),yb}var qb,_C;function lF(){return _C||(_C=1,qb=sF().uniqBy),qb}var oF=lF();const jC=Zi(oF);function cF(t,e,n){return e===!0?jC(t,n):typeof e=="function"?jC(t,e):t}var Hb={exports:{}},Gb={},Kb={exports:{}},Yb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function uF(){if(EC)return Yb;EC=1;var t=Ju();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(g,x){var N=x(),E=r({inst:{value:N,getSnapshot:x}}),j=E[0].inst,_=E[1];return l(function(){j.value=N,j.getSnapshot=x,f(j)&&_({inst:j})},[g,N,x]),a(function(){return f(j)&&_({inst:j}),g(function(){f(j)&&_({inst:j})})},[g]),c(N),N}function f(g){var x=g.getSnapshot;g=g.value;try{var N=x();return!n(g,N)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Yb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Yb}var SC;function dF(){return SC||(SC=1,Kb.exports=uF()),Kb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC;function fF(){if(AC)return Gb;AC=1;var t=Ju(),e=dF();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Gb.useSyncExternalStoreWithSelector=function(h,p,g,x,N){var E=l(null);if(E.current===null){var j={hasValue:!1,value:null};E.current=j}else j=E.current;E=d(function(){function O(L){if(!R){if(R=!0,M=L,L=x(L),N!==void 0&&j.hasValue){var P=j.value;if(N(P,L))return T=P}return T=L}if(P=T,r(M,L))return P;var U=x(L);return N!==void 0&&N(P,U)?(M=L,P):(M=L,T=U)}var R=!1,M,T,C=g===void 0?null:g;return[function(){return O(p())},C===null?void 0:function(){return O(C())}]},[p,g,x,N]);var _=a(h,E[0],E[1]);return c(function(){j.hasValue=!0,j.value=_},[_]),f(_),_},Gb}var TC;function hF(){return TC||(TC=1,Hb.exports=fF()),Hb.exports}var mF=hF(),c_=w.createContext(null),pF=t=>t,on=()=>{var t=w.useContext(c_);return t?t.store.dispatch:pF},tg=()=>{},gF=()=>tg,yF=(t,e)=>t===e;function $e(t){var e=w.useContext(c_);return mF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:gF,e?e.store.getState:tg,e?e.store.getState:tg,e?t:tg,yF)}function vF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function bF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var CC=t=>Array.isArray(t)?t:[t];function wF(t){const e=Array.isArray(t[0])?t[0]:t;return bF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function NF(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var _F=class{constructor(t){this.value=t}deref(){return this.value}},jF=typeof WeakRef<"u"?WeakRef:_F,EF=0,IC=1;function Sp(){return{s:EF,v:void 0,o:null,p:null}}function ek(t,e={}){let n=Sp();const{resultEqualityCheck:r}=e;let a,l=0;function c(){var g;let d=n;const{length:f}=arguments;for(let x=0,N=f;x<N;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const _=j.get(E);_===void 0?(d=Sp(),j.set(E,d)):d=_}else{let j=d.p;j===null&&(d.p=j=new Map);const _=j.get(E);_===void 0?(d=Sp(),j.set(E,d)):d=_}}const h=d;let p;if(d.s===IC)p=d.v;else if(p=t.apply(null,arguments),l++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,l!==0&&l--),a=typeof p=="object"&&p!==null||typeof p=="function"?new jF(p):p}return h.s=IC,h.v=p,p}return c.clearCache=()=>{n=Sp(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function SF(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let l=0,c=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),vF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:N=ek,argsMemoizeOptions:E=[]}=p,j=CC(x),_=CC(E),O=wF(a),R=g(function(){return l++,h.apply(null,arguments)},...j),M=N(function(){c++;const C=NF(O,arguments);return d=R.apply(null,C),d},..._);return Object.assign(M,{resultFunc:h,memoizedResultFunc:R,dependencies:O,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:N})};return Object.assign(r,{withTypes:()=>r}),r}var oe=SF(ek),AF=Object.assign((t,e=oe)=>{xF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(l=>t[l]);return e(r,(...l)=>l.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>AF}),Wb={},Xb={},Qb={},OC;function TF(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};t.compareValues=n})(Qb)),Qb}var Jb={},Zb={},DC;function tk(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Zb)),Zb}var RC;function CF(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||e.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}t.isKey=a})(Jb)),Jb}var PC;function IF(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TF(),n=CF(),r=s_();function a(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(N=>String(N));const h=(N,E)=>{let j=N;for(let _=0;_<E.length&&j!=null;++_)j=j[E[_]];return j},p=(N,E)=>E==null||N==null?E:typeof N=="object"&&"key"in N?Object.hasOwn(E,N.key)?E[N.key]:h(E,N.path):typeof N=="function"?N(E):Array.isArray(N)?h(E,N):typeof E=="object"?E[N]:E,g=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||n.isKey(N)?N:{key:N,path:r.toPath(N)}));return l.map(N=>({original:N,criteria:g.map(E=>p(E,N))})).slice().sort((N,E)=>{for(let j=0;j<g.length;j++){const _=e.compareValues(N.criteria[j],E.criteria[j],d[j]);if(_!==0)return _}return 0}).map(N=>N.original)}t.orderBy=a})(Xb)),Xb}var ew={},kC;function OF(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],l=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<l?c(p,f+1):a.push(p)}};return c(n,0),a}t.flatten=e})(ew)),ew}var tw={},MC;function nk(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZP(),n=o_(),r=GP(),a=YP();function l(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],c):!1}t.isIterateeCall=l})(tw)),tw}var LC;function DF(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IF(),n=OF(),r=nk();function a(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(l,n.flatten(c),["asc"])}t.sortBy=a})(Wb)),Wb}var nw,UC;function RF(){return UC||(UC=1,nw=DF().sortBy),nw}var PF=RF();const zy=Zi(PF);var rk=t=>t.legend.settings,kF=t=>t.legend.size,MF=t=>t.legend.payload;oe([MF,rk],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?zy(r,n):r});var Ap=1;function LF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-e.height)>Ap||Math.abs(c.left-e.left)>Ap||Math.abs(c.top-e.top)>Ap||Math.abs(c.width-e.width)>Ap)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function hr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var UF=typeof Symbol=="function"&&Symbol.observable||"@@observable",VC=UF,rw=()=>Math.random().toString(36).substring(7).split("").join("."),VF={INIT:`@@redux/INIT${rw()}`,REPLACE:`@@redux/REPLACE${rw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rw()}`},jg=VF;function u_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ak(t,e,n){if(typeof t!="function")throw new Error(hr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(hr(1));return n(ak)(t,e)}let r=t,a=e,l=new Map,c=l,d=0,f=!1;function h(){c===l&&(c=new Map,l.forEach((_,O)=>{c.set(O,_)}))}function p(){if(f)throw new Error(hr(3));return a}function g(_){if(typeof _!="function")throw new Error(hr(4));if(f)throw new Error(hr(5));let O=!0;h();const R=d++;return c.set(R,_),function(){if(O){if(f)throw new Error(hr(6));O=!1,h(),c.delete(R),l=null}}}function x(_){if(!u_(_))throw new Error(hr(7));if(typeof _.type>"u")throw new Error(hr(8));if(typeof _.type!="string")throw new Error(hr(17));if(f)throw new Error(hr(9));try{f=!0,a=r(a,_)}finally{f=!1}return(l=c).forEach(R=>{R()}),_}function N(_){if(typeof _!="function")throw new Error(hr(10));r=_,x({type:jg.REPLACE})}function E(){const _=g;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(hr(11));function R(){const T=O;T.next&&T.next(p())}return R(),{unsubscribe:_(R)}},[VC](){return this}}}return x({type:jg.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:N,[VC]:E}}function zF(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:jg.INIT})>"u")throw new Error(hr(12));if(typeof n(void 0,{type:jg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function ik(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{zF(n)}catch(l){a=l}return function(c={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],N=c[g],E=x(N,d);if(typeof E>"u")throw d&&d.type,new Error(hr(14));h[g]=E,f=f||E!==N}return f=f||r.length!==Object.keys(c).length,f?h:c}}function Eg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function BF(...t){return e=>(n,r)=>{const a=e(n,r);let l=()=>{throw new Error(hr(15))};const c={getState:a.getState,dispatch:(f,...h)=>l(f,...h)},d=t.map(f=>f(c));return l=Eg(...d)(a.dispatch),{...a,dispatch:l}}}function sk(t){return u_(t)&&"type"in t&&typeof t.type=="string"}var lk=Symbol.for("immer-nothing"),zC=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function Ja(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oa=Object,Lu=oa.getPrototypeOf,Sg="constructor",By="prototype",w1="configurable",Ag="enumerable",ng="writable",qf="value",Ls=t=>!!t&&!!t[Rr];function Yi(t){var e;return t?ok(t)||$y(t)||!!t[zC]||!!((e=t[Sg])!=null&&e[zC])||Fy(t)||qy(t):!1}var $F=oa[By][Sg].toString(),BC=new WeakMap;function ok(t){if(!t||!d_(t))return!1;const e=Lu(t);if(e===null||e===oa[By])return!0;const n=oa.hasOwnProperty.call(e,Sg)&&e[Sg];if(n===Object)return!0;if(!yu(n))return!1;let r=BC.get(n);return r===void 0&&(r=Function.toString.call(n),BC.set(n,r)),r===$F}function vh(t,e,n=!0){xh(t)===0?(n?Reflect.ownKeys(t):oa.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function xh(t){const e=t[Rr];return e?e.type_:$y(t)?1:Fy(t)?2:qy(t)?3:0}var $C=(t,e,n=xh(t))=>n===2?t.has(e):oa[By].hasOwnProperty.call(t,e),N1=(t,e,n=xh(t))=>n===2?t.get(e):t[e],Tg=(t,e,n,r=xh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function FF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var $y=Array.isArray,Fy=t=>t instanceof Map,qy=t=>t instanceof Set,d_=t=>typeof t=="object",yu=t=>typeof t=="function",aw=t=>typeof t=="boolean",Ns=t=>t.copy_||t.base_,f_=t=>t.modified_?t.copy_:t.base_;function _1(t,e){if(Fy(t))return new Map(t);if(qy(t))return new Set(t);if($y(t))return Array[By].slice.call(t);const n=ok(t);if(e===!0||e==="class_only"&&!n){const r=oa.getOwnPropertyDescriptors(t);delete r[Rr];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],d=r[c];d[ng]===!1&&(d[ng]=!0,d[w1]=!0),(d.get||d.set)&&(r[c]={[w1]:!0,[ng]:!0,[Ag]:d[Ag],[qf]:t[c]})}return oa.create(Lu(t),r)}else{const r=Lu(t);if(r!==null&&n)return{...t};const a=oa.create(r);return oa.assign(a,t)}}function h_(t,e=!1){return Hy(t)||Ls(t)||(xh(t)>1&&oa.defineProperties(t,{set:Tp,add:Tp,clear:Tp,delete:Tp}),oa.freeze(t),e&&vh(t,(n,r)=>{h_(r,!0)},!1)),t}function qF(){Ja(2)}var Tp={[qf]:qF};function Hy(t){return t===null||!d_(t)?!0:oa.isFrozen(t)}var Cg="MapSet",j1="Patches",ck={};function Uu(t){const e=ck[t];return e||Ja(0,t),e}var HF=t=>!!ck[t],Hf,uk=()=>Hf,GF=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:HF(Cg)?Uu(Cg):void 0});function FC(t,e){e&&(t.patchPlugin_=Uu(j1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function E1(t){S1(t),t.drafts_.forEach(KF),t.drafts_=null}function S1(t){t===Hf&&(Hf=t.parent_)}var qC=t=>Hf=GF(Hf,t);function KF(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function HC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rr].modified_&&(E1(e),Ja(4)),Yi(t)&&(t=GC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Rr].base_,t,e)}else t=GC(e,n);return YF(e,t,!0),E1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==lk?t:void 0}function GC(t,e){if(Hy(e))return e;const n=e[Rr];if(!n)return m_(e,t.handledSet_,t);if(!Gy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);hk(n,t)}return n.copy_}function YF(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&h_(e,n)}function dk(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Gy=(t,e)=>t.scope_===e,WF=[];function fk(t,e,n,r){const a=Ns(t),l=t.type_;if(r!==void 0&&N1(a,r,l)===e){Tg(a,r,n,l);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;vh(a,(f,h)=>{if(Ls(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??WF;for(const d of c)Tg(a,d,n,l)}function XF(t,e,n){t.callbacks_.push(function(a){var d;const l=e;if(!l||!Gy(l,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(l);const c=f_(l);fk(t,l.draft_??l,c,n),hk(l,a)})}function hk(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const l=a.getPath(t);l&&a.generatePatches_(t,l,e)}dk(t)}}function QF(t,e,n){const{scope_:r}=t;if(Ls(n)){const a=n[Rr];Gy(a,r)&&a.callbacks_.push(function(){rg(t);const c=f_(a);fk(t,n,c,e)})}else Yi(n)&&t.callbacks_.push(function(){const l=Ns(t);N1(l,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&m_(N1(t.copy_,e,t.type_),r.handledSet_,r)})}function m_(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ls(t)||e.has(t)||!Yi(t)||Hy(t)||(e.add(t),vh(t,(r,a)=>{if(Ls(a)){const l=a[Rr];if(Gy(l,n)){const c=f_(l);Tg(t,r,c,t.type_),dk(l)}}else Yi(a)&&m_(a,e,n)})),t}function JF(t,e){const n=$y(t),r={type_:n?1:0,scope_:e?e.scope_:uk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,l=p_;n&&(a=[r],l=Gf);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return r.draft_=d,r.revoke_=c,[d,r]}var p_={get(t,e){if(e===Rr)return t;const n=Ns(t);if(!$C(n,e,t.type_))return ZF(t,n,e);const r=n[e];if(t.finalized_||!Yi(r))return r;if(r===iw(t.base_,e)){rg(t);const a=t.type_===1?+e:e,l=T1(t.scope_,r,t,a);return t.copy_[a]=l}return r},has(t,e){return e in Ns(t)},ownKeys(t){return Reflect.ownKeys(Ns(t))},set(t,e,n){const r=mk(Ns(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=iw(Ns(t),e),l=a==null?void 0:a[Rr];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(FF(n,a)&&(n!==void 0||$C(t.base_,e,t.type_)))return!0;rg(t),A1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),QF(t,e,n)),!0},deleteProperty(t,e){return rg(t),iw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),A1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ns(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[ng]:!0,[w1]:t.type_!==1||e!=="length",[Ag]:r[Ag],[qf]:n[e]}},defineProperty(){Ja(11)},getPrototypeOf(t){return Lu(t.base_)},setPrototypeOf(){Ja(12)}},Gf={};vh(p_,(t,e)=>{Gf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Gf.deleteProperty=function(t,e){return Gf.set.call(this,t,e,void 0)};Gf.set=function(t,e,n){return p_.set.call(this,t[0],e,n,t[0])};function iw(t,e){const n=t[Rr];return(n?Ns(n):t)[e]}function ZF(t,e,n){var a;const r=mk(e,n);return r?qf in r?r[qf]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function mk(t,e){if(!(e in t))return;let n=Lu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lu(n)}}function A1(t){t.modified_||(t.modified_=!0,t.parent_&&A1(t.parent_))}function rg(t){t.copy_||(t.assigned_=new Map,t.copy_=_1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(yu(n)&&!yu(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}yu(r)||Ja(6),a!==void 0&&!yu(a)&&Ja(7);let l;if(Yi(n)){const c=qC(this),d=T1(c,n,void 0);let f=!0;try{l=r(d),f=!1}finally{f?E1(c):S1(c)}return FC(c,a),HC(l,c)}else if(!n||!d_(n)){if(l=r(n),l===void 0&&(l=n),l===lk&&(l=void 0),this.autoFreeze_&&h_(l,!0),a){const c=[],d=[];Uu(j1).generateReplacementPatches_(n,l,{patches_:c,inversePatches_:d}),a(c,d)}return l}else Ja(1,n)},this.produceWithPatches=(n,r)=>{if(yu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,l;return[this.produce(n,r,(d,f)=>{a=d,l=f}),a,l]},aw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),aw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),aw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yi(e)||Ja(8),Ls(e)&&(e=ii(e));const n=qC(this),r=T1(n,e,void 0);return r[Rr].isManual_=!0,S1(n),r}finishDraft(e,n){const r=e&&e[Rr];(!r||!r.isManual_)&&Ja(9);const{scope_:a}=r;return FC(a,n),HC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const l=n[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(n=n.slice(r+1));const a=Uu(j1).applyPatches_;return Ls(e)?a(e,n):this.produce(e,l=>a(l,n))}};function T1(t,e,n,r){const[a,l]=Fy(e)?Uu(Cg).proxyMap_(e,n):qy(e)?Uu(Cg).proxySet_(e,n):JF(e,n);return((n==null?void 0:n.scope_)??uk()).drafts_.push(a),l.callbacks_=(n==null?void 0:n.callbacks_)??[],l.key_=r,n&&r!==void 0?XF(n,l,r):l.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(l);const{patchPlugin_:h}=f;l.modified_&&h&&h.generatePatches_(l,[],f)}),a}function ii(t){return Ls(t)||Ja(10,t),pk(t)}function pk(t){if(!Yi(t)||Hy(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=_1(t,!0);return vh(n,(a,l)=>{Tg(n,a,pk(l))},r),e&&(e.finalized_=!1),n}var tq=new eq,gk=tq.produce;function yk(t){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,t):a(l)}var nq=yk(),rq=yk,aq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)};function Pa(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ua(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>sk(r)&&r.type===t,n}var vk=class Tf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Tf.prototype)}static get[Symbol.species](){return Tf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Tf(...e[0].concat(this)):new Tf(...e.concat(this))}};function KC(t){return Yi(t)?gk(t,()=>{}):t}function Cp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function iq(t){return typeof t=="boolean"}var sq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new vk;return n&&(iq(n)?c.push(nq):c.push(rq(n.extraArgument))),c},xk="RTK_autoBatch",rn=()=>t=>({payload:t,meta:{[xk]:!0}}),YC=t=>e=>{setTimeout(e,t)},bk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,l=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YC(10):t.type==="callback"?t.queueNotification:YC(t.timeout),h=()=>{c=!1,l&&(l=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[xk]),l=!a,l&&(c||(c=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},lq=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new vk(t);return r&&a.push(bk(typeof r=="object"?r:void 0)),a};function oq(t){const e=sq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(u_(n))d=ik(n);else throw new Error(ua(1));let f;typeof r=="function"?f=r(e):f=e();let h=Eg;a&&(h=aq({trace:!1,...typeof a=="object"&&a}));const p=BF(...f),g=lq(p);let x=typeof c=="function"?c(g):g();const N=h(...x);return ak(d,l,N)}function wk(t){const e={},n=[];let r;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ua(28));if(d in e)throw new Error(ua(29));return e[d]=c,a},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return r=l,a}};return t(a),[e,n,r]}function cq(t){return typeof t=="function"}function uq(t,e){let[n,r,a]=wk(e),l;if(cq(t))l=()=>KC(t());else{const d=KC(t);l=()=>d}function c(d=l(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Ls(p)){const N=g(p,f);return N===void 0?p:N}else{if(Yi(p))return gk(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=l,c}var dq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fq=(t=21)=>{let e="",n=t;for(;n--;)e+=dq[Math.random()*64|0];return e},hq=Symbol.for("rtk-slice-createasyncthunk");function mq(t,e){return`${t}/${e}`}function pq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[hq];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(ua(11));const d=(typeof a.reducers=="function"?a.reducers(yq()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(T,C){const L=typeof T=="string"?T:T.type;if(!L)throw new Error(ua(12));if(L in h.sliceCaseReducersByType)throw new Error(ua(13));return h.sliceCaseReducersByType[L]=C,p},addMatcher(T,C){return h.sliceMatchers.push({matcher:T,reducer:C}),p},exposeAction(T,C){return h.actionCreators[T]=C,p},exposeCaseReducer(T,C){return h.sliceCaseReducersByName[T]=C,p}};f.forEach(T=>{const C=d[T],L={reducerName:T,type:mq(l,T),createNotation:typeof a.reducers=="function"};xq(C)?wq(L,C,p,e):vq(L,C,p)});function g(){const[T={},C=[],L=void 0]=typeof a.extraReducers=="function"?wk(a.extraReducers):[a.extraReducers],P={...T,...h.sliceCaseReducersByType};return uq(a.initialState,U=>{for(let $ in P)U.addCase($,P[$]);for(let $ of h.sliceMatchers)U.addMatcher($.matcher,$.reducer);for(let $ of C)U.addMatcher($.matcher,$.reducer);L&&U.addDefaultCase(L)})}const x=T=>T,N=new Map,E=new WeakMap;let j;function _(T,C){return j||(j=g()),j(T,C)}function O(){return j||(j=g()),j.getInitialState()}function R(T,C=!1){function L(U){let $=U[T];return typeof $>"u"&&C&&($=Cp(E,L,O)),$}function P(U=x){const $=Cp(N,C,()=>new WeakMap);return Cp($,U,()=>{const A={};for(const[D,z]of Object.entries(a.selectors??{}))A[D]=gq(z,U,()=>Cp(E,U,O),C);return A})}return{reducerPath:T,getSelectors:P,get selectors(){return P(L)},selectSlice:L}}const M={name:l,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:O,...R(c),injectInto(T,{reducerPath:C,...L}={}){const P=C??c;return T.inject({reducerPath:P,reducer:_},L),{...M,...R(P,!0)}}};return M}}function gq(t,e,n,r){function a(l,...c){let d=e(l);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Wr=pq();function yq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function vq({type:t,reducerName:e,createNotation:n},r,a){let l,c;if("reducer"in r){if(n&&!bq(r))throw new Error(ua(17));l=r.reducer,c=r.prepare}else l=r;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?Pa(t,c):Pa(t))}function xq(t){return t._reducerDefinitionType==="asyncThunk"}function bq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ua(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,l,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||Ip,pending:d||Ip,rejected:f||Ip,settled:h||Ip})}function Ip(){}var Nq="task",Nk="listener",_k="completed",g_="cancelled",_q=`task-${g_}`,jq=`task-${_k}`,C1=`${Nk}-${g_}`,Eq=`${Nk}-${_k}`,Ky=class{constructor(t){Jx(this,"name","TaskAbortError");Jx(this,"message");this.code=t,this.message=`${Nq} ${g_} (reason: ${t})`}},y_=(t,e)=>{if(typeof t!="function")throw new TypeError(ua(32))},Ig=()=>{},jk=(t,e=Ig)=>(t.catch(e),t),Ek=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Jo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Zo=t=>{if(t.aborted){const{reason:e}=t;throw new Ky(e)}};function Sk(t,e){let n=Ig;return new Promise((r,a)=>{const l=()=>a(new Ky(t.reason));if(t.aborted){l();return}n=Ek(t,l),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Ig})}var Sq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ky?"cancelled":"rejected",error:n}}finally{e==null||e()}},Og=t=>e=>jk(Sk(t,e).then(n=>(Zo(t),n))),Ak=t=>{const e=Og(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Su}=Object,WC={},Yy="listenerMiddleware",Aq=(t,e)=>{const n=r=>Ek(t,()=>Jo(r,t.reason));return(r,a)=>{y_(r);const l=new AbortController;n(l);const c=Sq(async()=>{Zo(t),Zo(l.signal);const d=await r({pause:Og(l.signal),delay:Ak(l.signal),signal:l.signal});return Zo(l.signal),d},()=>Jo(l,jq));return a!=null&&a.autoJoin&&e.push(c.catch(Ig)),{result:Og(t)(c),cancel(){Jo(l,_q)}}}},Tq=(t,e)=>{const n=async(r,a)=>{Zo(e);let l=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});l=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await Sk(e,Promise.race(d));return Zo(e),f}finally{l()}};return(r,a)=>jk(n(r,a))},Tk=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:l}=t;if(e)a=Pa(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ua(21));return y_(l),{predicate:a,type:e,effect:l}},Ck=Su(t=>{const{type:e,predicate:n,effect:r}=Tk(t);return{id:fq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>Ck}),XC=(t,e)=>{const{type:n,effect:r,predicate:a}=Tk(e);return Array.from(t.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},I1=t=>{t.pending.forEach(e=>{Jo(e,C1)})},Cq=(t,e)=>()=>{for(const n of e.keys())I1(n);t.clear()},QC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Ik=Su(Pa(`${Yy}/add`),{withTypes:()=>Ik}),Iq=Pa(`${Yy}/removeAll`),Ok=Su(Pa(`${Yy}/remove`),{withTypes:()=>Ok}),Oq=(...t)=>{console.error(`${Yy}/error`,...t)},bh=(t={})=>{const e=new Map,n=new Map,r=N=>{const E=n.get(N)??0;n.set(N,E+1)},a=N=>{const E=n.get(N)??1;E===1?n.delete(N):n.set(N,E-1)},{extra:l,onError:c=Oq}=t;y_(c);const d=N=>(N.unsubscribe=()=>e.delete(N.id),e.set(N.id,N),E=>{N.unsubscribe(),E!=null&&E.cancelActive&&I1(N)}),f=N=>{const E=XC(e,N)??Ck(N);return d(E)};Su(f,{withTypes:()=>f});const h=N=>{const E=XC(e,N);return E&&(E.unsubscribe(),N.cancelActive&&I1(E)),!!E};Su(h,{withTypes:()=>h});const p=async(N,E,j,_)=>{const O=new AbortController,R=Tq(f,O.signal),M=[];try{N.pending.add(O),r(N),await Promise.resolve(N.effect(E,Su({},j,{getOriginalState:_,condition:(T,C)=>R(T,C).then(Boolean),take:R,delay:Ak(O.signal),pause:Og(O.signal),extra:l,signal:O.signal,fork:Aq(O.signal,M),unsubscribe:N.unsubscribe,subscribe:()=>{e.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((T,C,L)=>{T!==O&&(Jo(T,C1),L.delete(T))})},cancel:()=>{Jo(O,C1),N.pending.delete(O)},throwIfCancelled:()=>{Zo(O.signal)}})))}catch(T){T instanceof Ky||QC(c,T,{raisedBy:"effect"})}finally{await Promise.all(M),Jo(O,Eq),a(N),N.pending.delete(O)}},g=Cq(e,n);return{middleware:N=>E=>j=>{if(!sk(j))return E(j);if(Ik.match(j))return f(j.payload);if(Iq.match(j)){g();return}if(Ok.match(j))return h(j.payload);let _=N.getState();const O=()=>{if(_===WC)throw new Error(ua(23));return _};let R;try{if(R=E(j),e.size>0){const M=N.getState(),T=Array.from(e.values());for(const C of T){let L=!1;try{L=C.predicate(j,M,_)}catch(P){L=!1,QC(c,P,{raisedBy:"predicate"})}L&&p(C,j,N,O)}}}finally{_=WC}return R},startListening:f,stopListening:h,clearListeners:g}};function ua(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Dq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Dk=Wr({name:"chartLayout",initialState:Dq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,l;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(l=e.payload.left)!==null&&l!==void 0?l:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Rq,setLayout:Pq,setChartSize:kq,setScale:Mq}=Dk.actions,Lq=Dk.reducer;function Rk(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Uq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uq(t,e,n){return(e=Vq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vq(t){var e=zq(t,"string");return typeof e=="symbol"?e:e+""}function zq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function an(t,e,n){return ir(t)||ir(e)?n:Ki(e)?rc(t,e,n):typeof e=="function"?e(t):n}var Bq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:l,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Be(t[l]))return _u(_u({},t),{},{[l]:t[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Be(t[c]))return _u(_u({},t),{},{[c]:t[c]+(a||0)})}return t},gc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Pk=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,l,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(l=!0),d.coordinate));return a||c.push(e),l||c.push(n),c},kk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:N}=t;if(!c)return null;var E=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=a==="category"&&c.bandwidth?c.bandwidth()/E:0;if(j=N==="angleAxis"&&l&&l.length>=2?nr(l[0]-l[1])*2*j:j,g||x){var _=(g||x||[]).map((O,R)=>{var M=r?r.indexOf(O):O;return{coordinate:c(M)+j,value:O,offset:j,index:R}});return _.filter(O=>!li(O.coordinate))}return f&&h?h.map((O,R)=>({coordinate:c(O)+j,value:O,index:R,offset:j})):c.ticks&&p!=null?c.ticks(p).map((O,R)=>({coordinate:c(O)+j,value:O,offset:j,index:R})):c.domain().map((O,R)=>({coordinate:c(O)+j,value:r?r[O]:O,index:R,offset:j}))},ZC=1e-4,$q=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-ZC,l=Math.max(r[0],r[1])+ZC,c=t(e[0]),d=t(e[n-1]);(c<a||c>l||d<a||d>l)&&t.domain([e[0],e[n-1]])}},Fq=(t,e)=>{if(!e||e.length!==2||!Be(e[0])||!Be(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Be(t[0])||t[0]<n)&&(a[0]=n),(!Be(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},qq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,l=0,c=0;c<e;++c){var d=li(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=l,t[c][n][1]=l+d,l=t[c][n][1])}},Hq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,l=0;l<e;++l){var c=li(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},Gq={sign:qq,expand:v$,none:Mu,silhouette:x$,wiggle:b$,positive:Hq},Kq=(t,e,n)=>{var r=Gq[n],a=y$().keys(e).value((l,c)=>Number(an(l,c,0))).order(x1).offset(r);return a(t)};function Yq(t){return t==null?void 0:String(t)}var eI=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:l,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=an(l,e.dataKey,e.scale.domain()[c]);return ir(d)?null:e.scale(d)-a/2+r},Wq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Xq=t=>{var e=t.flat(2).filter(Be);return[Math.min(...e),Math.max(...e)]},Qq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Jq=(t,e,n)=>{if(t!=null)return Qq(Object.keys(t).reduce((r,a)=>{var l=t[a],{stackedData:c}=l,d=c.reduce((f,h)=>{var p=Rk(h,e,n),g=Xq(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},tI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=zy(e,p=>p.coordinate),l=1/0,c=1,d=a.length;c<d;c++){var f=a[c],h=a[c-1];l=Math.min((f.coordinate||0)-(h.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function rI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:l}=t;return _u(_u({},e),{},{dataKey:n,payload:r,value:a,name:l})}function Wy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Zq=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},eH=(t,e)=>e==="centric"?t.angle:t.radius,Ys=t=>t.layout.width,Ws=t=>t.layout.height,tH=t=>t.layout.scale,Mk=t=>t.layout.margin,Xy=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Qy=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Lk="data-recharts-item-index",Uk="data-recharts-item-data-key",wh=60;function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){nH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nH(t,e,n){return(e=rH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rH(t){var e=aH(t,"string");return typeof e=="symbol"?e:e+""}function aH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iH=t=>t.brush.height;function sH(t){var e=Qy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:wh;return n+a}return n},0)}function lH(t){var e=Qy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:wh;return n+a}return n},0)}function oH(t){var e=Xy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function cH(t){var e=Xy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hn=oe([Ys,Ws,Mk,iH,sH,lH,oH,cH,rk,kF],(t,e,n,r,a,l,c,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+l},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},x=Op(Op({},g),p),N=x.bottom;x.bottom+=r,x=Bq(x,f,h);var E=t-x.left-x.right,j=e-x.top-x.bottom;return Op(Op({brushBottom:N},x),{},{width:Math.max(E,0),height:Math.max(j,0)})}),uH=oe(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),v_=oe(Ys,Ws,(t,e)=>({x:0,y:0,width:t,height:e})),dH=w.createContext(null),Xr=()=>w.useContext(dH)!=null,Jy=t=>t.brush,Zy=oe([Jy,Hn,Mk],(t,e,n)=>({height:t.height,x:Be(t.x)?t.x:e.left,y:Be(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Be(t.width)?t.width:e.width})),sw={},lw={},ow={},iI;function fH(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),h=l==null||l.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),j()};let x=null;const N=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},j=()=>{E(),c=void 0,d=null},_=()=>{p()},O=function(...R){if(a!=null&&a.aborted)return;c=this,d=R;const M=x==null;N(),f&&M&&p()};return O.schedule=N,O.cancel=j,O.flush=_,a==null||a.addEventListener("abort",j,{once:!0}),O}t.debounce=e})(ow)),ow}var sI;function hH(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fH();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...j){p=r.apply(this,j),g=null},a,{edges:h}),N=function(...j){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,j),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,j),p)},E=()=>(x.flush(),p);return N.cancel=x.cancel,N.flush=E,N}t.debounce=n})(lw)),lw}var lI;function mH(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hH();function n(r,a=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(sw)),sw}var cw,oI;function pH(){return oI||(oI=1,cw=mH().throttle),cw}var gH=pH();const yH=Zi(gH);var Rg=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Vk=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:l,maxHeight:c}=n,d=Ms(r)?t:Number(r),f=Ms(a)?e:Number(a);return l&&l>0&&(d?f=d/l:f&&(d=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},vH={width:0,height:0,overflow:"visible"},xH={width:0,overflowX:"visible"},bH={height:0,overflowY:"visible"},wH={},NH=t=>{var{width:e,height:n}=t,r=Ms(e),a=Ms(n);return r&&a?vH:r?xH:a?bH:wH};function _H(t){var{width:e,height:n,aspect:r}=t,a=e,l=n;return a===void 0&&l===void 0?(a="100%",l="100%"):a===void 0?a=r&&r>0?void 0:"100%":l===void 0&&(l=r&&r>0?void 0:"100%"),{width:a,height:l}}function jn(t){return Number.isFinite(t)}function Wi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(null,arguments)}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(r){jH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jH(t,e,n){return(e=EH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EH(t){var e=SH(t,"string");return typeof e=="symbol"?e:e+""}function SH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zk=w.createContext({width:-1,height:-1});function AH(t){return Wi(t.width)&&Wi(t.height)}function Bk(t){var{children:e,width:n,height:r}=t,a=w.useMemo(()=>({width:n,height:r}),[n,r]);return AH(a)?w.createElement(zk.Provider,{value:a},e):null}var x_=()=>w.useContext(zk),TH=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:l,minWidth:c=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:N,style:E={}}=t,j=w.useRef(null),_=w.useRef();_.current=N,w.useImperativeHandle(e,()=>j.current);var[O,R]=w.useState({containerWidth:r.width,containerHeight:r.height}),M=w.useCallback((U,$)=>{R(A=>{var D=Math.round(U),z=Math.round($);return A.containerWidth===D&&A.containerHeight===z?A:{containerWidth:D,containerHeight:z}})},[]);w.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return yh;var U=z=>{var B,{width:ge,height:re}=z[0].contentRect;M(ge,re),(B=_.current)===null||B===void 0||B.call(_,ge,re)};p>0&&(U=yH(U,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(U),{width:A,height:D}=j.current.getBoundingClientRect();return M(A,D),$.observe(j.current),()=>{$.disconnect()}},[M,p]);var{containerWidth:T,containerHeight:C}=O;Rg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:P}=Vk(T,C,{width:a,height:l,aspect:n,maxHeight:f});return Rg(L!=null&&L>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,P,a,l,c,d,n),w.createElement("div",{id:g?"".concat(g):void 0,className:zt("recharts-responsive-container",x),style:uI(uI({},E),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},w.createElement("div",{style:NH({width:a,height:l})},w.createElement(Bk,{width:L,height:P},h)))}),$k=w.forwardRef((t,e)=>{var n=x_();if(Wi(n.width)&&Wi(n.height))return t.children;var{width:r,height:a}=_H({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:l,calculatedHeight:c}=Vk(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Be(l)&&Be(c)?w.createElement(Bk,{width:l,height:c},t.children):w.createElement(TH,O1({},t,{width:r,height:a,ref:e}))});function Fk(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var e0=()=>{var t,e=Xr(),n=$e(uH),r=$e(Zy),a=(t=$e(Jy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},CH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qk=()=>{var t;return(t=$e(Hn))!==null&&t!==void 0?t:CH},Hk=()=>$e(Ys),Gk=()=>$e(Ws),Nt=t=>t.layout.layoutType,t0=()=>$e(Nt),IH=()=>{var t=t0();return t!==void 0},n0=t=>{var e=on(),n=Xr(),{width:r,height:a}=t,l=x_(),c=r,d=a;return l&&(c=l.width>0?l.width:r,d=l.height>0?l.height:a),w.useEffect(()=>{!n&&Wi(c)&&Wi(d)&&e(kq({width:c,height:d}))},[e,n,c,d]),null},Kk=Symbol.for("immer-nothing"),dI=Symbol.for("immer-draftable"),ha=Symbol.for("immer-state");function Za(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kf=Object.getPrototypeOf;function Vu(t){return!!t&&!!t[ha]}function ac(t){var e;return t?Yk(t)||Array.isArray(t)||!!t[dI]||!!((e=t.constructor)!=null&&e[dI])||Nh(t)||a0(t):!1}var OH=Object.prototype.constructor.toString(),fI=new WeakMap;function Yk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=fI.get(n);return r===void 0&&(r=Function.toString.call(n),fI.set(n,r)),r===OH}function Pg(t,e,n=!0){r0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function r0(t){const e=t[ha];return e?e.type_:Array.isArray(t)?1:Nh(t)?2:a0(t)?3:0}function D1(t,e){return r0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Wk(t,e,n){const r=r0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function DH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Nh(t){return t instanceof Map}function a0(t){return t instanceof Set}function Fo(t){return t.copy_||t.base_}function R1(t,e){if(Nh(t))return new Map(t);if(a0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Yk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ha];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Kf(t),r)}else{const r=Kf(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function b_(t,e=!1){return i0(t)||Vu(t)||!ac(t)||(r0(t)>1&&Object.defineProperties(t,{set:Dp,add:Dp,clear:Dp,delete:Dp}),Object.freeze(t),e&&Object.values(t).forEach(n=>b_(n,!0))),t}function RH(){Za(2)}var Dp={value:RH};function i0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var PH={};function ic(t){const e=PH[t];return e||Za(0,t),e}var Yf;function Xk(){return Yf}function kH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hI(t,e){e&&(ic("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function P1(t){k1(t),t.drafts_.forEach(MH),t.drafts_=null}function k1(t){t===Yf&&(Yf=t.parent_)}function mI(t){return Yf=kH(Yf,t)}function MH(t){const e=t[ha];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function pI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ha].modified_&&(P1(e),Za(4)),ac(t)&&(t=kg(e,t),e.parent_||Mg(e,t)),e.patches_&&ic("Patches").generateReplacementPatches_(n[ha].base_,t,e.patches_,e.inversePatches_)):t=kg(e,n,[]),P1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Kk?t:void 0}function kg(t,e,n){if(i0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ha];if(!a)return Pg(e,(l,c)=>gI(t,a,e,l,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Mg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,d=!1;a.type_===3&&(c=new Set(l),l.clear(),d=!0),Pg(c,(f,h)=>gI(t,a,l,f,h,n,d),r),Mg(t,l,!1),n&&t.patches_&&ic("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function gI(t,e,n,r,a,l,c){if(a==null||typeof a!="object"&&!c)return;const d=i0(a);if(!(d&&!c)){if(Vu(a)){const f=l&&e&&e.type_!==3&&!D1(e.assigned_,r)?l.concat(r):void 0,h=kg(t,a,f);if(Wk(n,r,h),Vu(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(ac(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;kg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Nh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Mg(t,a)}}}function Mg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&b_(e,n)}function LH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Xk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=w_;n&&(a=[r],l=Wf);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return r.draft_=d,r.revoke_=c,d}var w_={get(t,e){if(e===ha)return t;const n=Fo(t);if(!D1(n,e))return UH(t,n,e);const r=n[e];return t.finalized_||!ac(r)?r:r===uw(t.base_,e)?(dw(t),t.copy_[e]=L1(r,t)):r},has(t,e){return e in Fo(t)},ownKeys(t){return Reflect.ownKeys(Fo(t))},set(t,e,n){const r=Qk(Fo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=uw(Fo(t),e),l=a==null?void 0:a[ha];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(DH(n,a)&&(n!==void 0||D1(t.base_,e)))return!0;dw(t),M1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return uw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,dw(t),M1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Za(11)},getPrototypeOf(t){return Kf(t.base_)},setPrototypeOf(){Za(12)}},Wf={};Pg(w_,(t,e)=>{Wf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wf.deleteProperty=function(t,e){return Wf.set.call(this,t,e,void 0)};Wf.set=function(t,e,n){return w_.set.call(this,t[0],e,n,t[0])};function uw(t,e){const n=t[ha];return(n?Fo(n):t)[e]}function UH(t,e,n){var a;const r=Qk(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function Qk(t,e){if(!(e in t))return;let n=Kf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Kf(n)}}function M1(t){t.modified_||(t.modified_=!0,t.parent_&&M1(t.parent_))}function dw(t){t.copy_||(t.copy_=R1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var VH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(f=l,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Za(6),r!==void 0&&typeof r!="function"&&Za(7);let a;if(ac(e)){const l=mI(this),c=L1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?P1(l):k1(l)}return hI(l,r),pI(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===Kk&&(a=void 0),this.autoFreeze_&&b_(a,!0),r){const l=[],c=[];ic("Patches").generateReplacementPatches_(e,a,l,c),r(l,c)}return a}else Za(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ac(t)||Za(8),Vu(t)&&(t=zH(t));const e=mI(this),n=L1(t,void 0);return n[ha].isManual_=!0,k1(e),n}finishDraft(t,e){const n=t&&t[ha];(!n||!n.isManual_)&&Za(9);const{scope_:r}=n;return hI(r,e),pI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=ic("Patches").applyPatches_;return Vu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function L1(t,e){const n=Nh(t)?ic("MapSet").proxyMap_(t,e):a0(t)?ic("MapSet").proxySet_(t,e):LH(t,e);return(e?e.scope_:Xk()).drafts_.push(n),n}function zH(t){return Vu(t)||Za(10,t),Jk(t)}function Jk(t){if(!ac(t)||i0(t))return t;const e=t[ha];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=R1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=R1(t,!0);return Pg(n,(a,l)=>{Wk(n,a,Jk(l))},r),e&&(e.finalized_=!1),n}var BH=new VH;BH.produce;var $H={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Zk=Wr({name:"legend",initialState:$H,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:rn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:rn()},removeLegendPayload:{reducer(t,e){var n=ii(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:rn()}}}),{setLegendSize:Mge,setLegendSettings:Lge,addLegendPayload:eM,replaceLegendPayload:tM,removeLegendPayload:nM}=Zk.actions,FH=Zk.reducer;function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(null,arguments)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){qH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qH(t,e,n){return(e=HH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HH(t){var e=GH(t,"string");return typeof e=="symbol"?e:e+""}function GH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KH(t){return Array.isArray(t)&&Ki(t[0])&&Ki(t[1])?t.join(" ~ "):t}var YH=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,N=()=>{if(l&&l.length){var C={padding:0,margin:0},L=(d?zy(l,d):l).map((P,U)=>{if(P.type==="none")return null;var $=P.formatter||c||KH,{value:A,name:D}=P,z=A,B=D;if($){var ge=$(A,D,P,U,l);if(Array.isArray(ge))[z,B]=ge;else if(ge!=null)z=ge;else return null}var re=fw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:re},Ki(B)?w.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ki(B)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:C},L)}return null},E=fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=fw({margin:0},a),_=!ir(p),O=_?p:"",R=zt("recharts-default-tooltip",f),M=zt("recharts-tooltip-label",h);_&&g&&l!==void 0&&l!==null&&(O=g(p,l));var T=x?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",U1({className:R,style:E},T),w.createElement("p",{className:M,style:j},w.isValidElement(O)?O:"".concat(O)),N())},bf="recharts-tooltip-wrapper",WH={visibility:"hidden"};function XH(t){var{coordinate:e,translateX:n,translateY:r}=t;return zt(bf,{["".concat(bf,"-right")]:Be(n)&&e&&Be(e.x)&&n>=e.x,["".concat(bf,"-left")]:Be(n)&&e&&Be(e.x)&&n<e.x,["".concat(bf,"-bottom")]:Be(r)&&e&&Be(e.y)&&r>=e.y,["".concat(bf,"-top")]:Be(r)&&e&&Be(e.y)&&r<e.y})}function vI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(l&&Be(l[r]))return l[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var x=f[r];if(x==null)return 0;if(c[r]){var N=p,E=x;return N<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var j=g+d,_=x+h;return j>_?Math.max(p,x):Math.max(g,x)}function QH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function JH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=t,h,p,g;return c.height>0&&c.width>0&&n?(p=vI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=vI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=QH({translateX:p,translateY:g,useTranslate3d:d})):h=WH,{cssProperties:h,cssClasses:XH({translateX:p,translateY:g,coordinate:n})}}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){V1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1(t,e,n){return(e=ZH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZH(t){var e=eG(t,"string");return typeof e=="symbol"?e:e+""}function eG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tG extends w.PureComponent{constructor(){super(...arguments),V1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),V1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:N,wrapperStyle:E,lastBoundingBox:j,innerRef:_,hasPortalFromProps:O}=this.props,{cssClasses:R,cssProperties:M}=JH({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:x,viewBox:N}),T=O?{}:Rp(Rp({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),C=Rp(Rp({},T),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:C,ref:_},l)}}var nG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),yc={devToolsEnabled:!1,isSsr:nG()},rM=()=>{var t;return(t=$e(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){rG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rG(t,e,n){return(e=aG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aG(t){var e=iG(t,"string");return typeof e=="symbol"?e:e+""}function iG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI={curveBasisClosed:s$,curveBasisOpen:l$,curveBasis:i$,curveBumpX:HB,curveBumpY:GB,curveLinearClosed:o$,curveLinear:Ly,curveMonotoneX:c$,curveMonotoneY:u$,curveNatural:d$,curveStep:f$,curveStepAfter:m$,curveStepBefore:h$},Lg=t=>jn(t.x)&&jn(t.y),_I=t=>t.base!=null&&Lg(t.base)&&Lg(t),wf=t=>t.x,Nf=t=>t.y,sG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(gh(t));return(n==="curveMonotone"||n==="curveBump")&&e?NI["".concat(n).concat(e==="vertical"?"Y":"X")]:NI[n]||Ly},lG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:l=!1}=t,c=sG(e,a),d=l?n.filter(Lg):n,f;if(Array.isArray(r)){var h=n.map((N,E)=>wI(wI({},N),{},{base:r[E]}));a==="vertical"?f=Ep().y(Nf).x1(wf).x0(N=>N.base.x):f=Ep().x(wf).y1(Nf).y0(N=>N.base.y);var p=f.defined(_I).curve(c),g=l?h.filter(_I):h;return p(g)}a==="vertical"&&Be(r)?f=Ep().y(Nf).x1(wf).x0(r):Be(r)?f=Ep().x(wf).y1(Nf).y0(r):f=CP().x(wf).y(Nf);var x=f.defined(Lg).curve(c);return x(d)},N_=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var l=n&&n.length?lG(t):r;return w.createElement("path",z1({},si(t),U$(t),{className:zt("recharts-curve",e),d:l===null?void 0:l,ref:a}))},oG=["x","y","top","left","width","height","className"];function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){uG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uG(t,e,n){return(e=dG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dG(t){var e=fG(t,"string");return typeof e=="symbol"?e:e+""}function fG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hG(t,e){if(t==null)return{};var n,r,a=mG(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pG=(t,e,n,r,a,l)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(l,",").concat(e,"h").concat(n),gG=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:l=0,height:c=0,className:d}=t,f=hG(t,oG),h=cG({x:e,y:n,top:r,left:a,width:l,height:c},f);return!Be(e)||!Be(n)||!Be(l)||!Be(c)||!Be(r)||!Be(a)?null:w.createElement("path",B1({},Ra(h),{className:zt("recharts-cross",d),d:pG(e,n,l,c,r,a)}))};function yG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function SI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){vG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vG(t,e,n){return(e=xG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xG(t){var e=bG(t,"string");return typeof e=="symbol"?e:e+""}function bG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),aM=(t,e,n)=>t.map(r=>"".concat(wG(r)," ").concat(e,"ms ").concat(n)).join(","),NG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Xf=(t,e)=>Object.keys(e).reduce((n,r)=>SI(SI({},n),{},{[r]:t(r,e[r])}),{});function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){_G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _G(t,e,n){return(e=jG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jG(t){var e=EG(t,"string");return typeof e=="symbol"?e:e+""}function EG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=(t,e,n)=>t+(e-t)*n,$1=t=>{var{from:e,to:n}=t;return e!==n},iM=(t,e,n)=>{var r=Xf((a,l)=>{if($1(l)){var[c,d]=t(l.from,l.to,l.velocity);return $n($n({},l),{},{from:c,velocity:d})}return l},e);return n<1?Xf((a,l)=>$1(l)?$n($n({},l),{},{velocity:Ug(l.velocity,r[a].velocity,n),from:Ug(l.from,r[a].from,n)}):l,e):iM(t,r,n-1)};function SG(t,e,n,r,a,l){var c,d=r.reduce((x,N)=>$n($n({},x),{},{[N]:{from:t[N],velocity:0,to:e[N]}}),{}),f=()=>Xf((x,N)=>N.from,d),h=()=>!Object.values(d).filter($1).length,p=null,g=x=>{c||(c=x);var N=x-c,E=N/n.dt;d=iM(n,d,E),a($n($n($n({},t),e),f())),c=x,h()||(p=l.setTimeout(g))};return()=>(p=l.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function AG(t,e,n,r,a,l,c){var d=null,f=a.reduce((g,x)=>$n($n({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,N=Xf((j,_)=>Ug(..._,n(x)),f);if(l($n($n($n({},t),e),N)),x<1)d=c.setTimeout(p);else{var E=Xf((j,_)=>Ug(..._,n(1)),f);l($n($n($n({},t),e),E))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const TG=(t,e,n,r,a,l)=>{var c=NG(t,e);return n==null?()=>(a($n($n({},t),e)),()=>{}):n.isStepper===!0?SG(t,e,n,c,a,l):AG(t,e,n,r,c,a,l)};var Vg=1e-4,sM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],lM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),TI=(t,e)=>n=>{var r=sM(t,e);return lM(r,n)},CG=(t,e)=>n=>{var r=sM(t,e),a=[...r.map((l,c)=>l*c).slice(1),0];return lM(a,n)},IG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,l=n[0].split("(");if(l[0]==="cubic-bezier"&&((a=l[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},OG=(t,e,n,r)=>{var a=TI(t,n),l=TI(e,r),c=CG(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var N=a(g)-p,E=c(g);if(Math.abs(N-p)<Vg||E<Vg)return l(g);g=d(g-N/E)}return l(g)};return f.isStepper=!1,f},CI=function(){return OG(...IG(...arguments))},DG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,l=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+c;return Math.abs(x-d)<Vg&&Math.abs(g)<Vg?[d,0]:[x,g]};return l.isStepper=!0,l.dt=a,l},RG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CI(t);case"spring":return DG();default:if(t.split("(")[0]==="cubic-bezier")return CI(t)}return typeof t=="function"?t:null};function PG(t){var e,n=()=>null,r=!1,a=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(l.bind(null,h),f);return}l(f),a=t.setTimeout(l.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class kG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function MG(){return PG(new kG)}var LG=w.createContext(MG);function UG(t,e){var n=w.useContext(LG);return w.useMemo(()=>e??n(t),[t,e,n])}var VG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},II={t:0},hw={t:1};function s0(t){var e=Sr(t,VG),{isActive:n,canBegin:r,duration:a,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!yc.isSsr:n,g=UG(e.animationId,e.animationManager),[x,N]=w.useState(p?II:hw),E=w.useRef(null);return w.useEffect(()=>{p||N(hw)},[p]),w.useEffect(()=>{if(!p||!r)return yh;var j=TG(II,hw,RG(l),a,N,g.getTimeoutController()),_=()=>{E.current=j()};return g.start([f,c,_,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,l,c,f,d,g]),h(x.t)}function l0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Ff(e)),r=w.useRef(t);return r.current!==t&&(n.current=Ff(e),r.current=t),n.current}var zG=["radius"],BG=["radius"];function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function DI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){$G(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $G(t,e,n){return(e=FG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=qG(t,"string");return typeof e=="symbol"?e:e+""}function qG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}function RI(t,e){if(t==null)return{};var n,r,a=HG(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function HG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PI=(t,e,n,r,a)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(l>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>l?l:a[g];h="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+c*p[1])),h+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-c*p[3])),h+="Z"}else if(l>0&&a===+a&&a>0){var N=Math.min(l,a);h="M ".concat(t,",").concat(e+c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t+d*N,",").concat(e,`
            L `).concat(t+n-d*N,",").concat(e,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t+n,",").concat(e+c*N,`
            L `).concat(t+n,",").concat(e+r-c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t+n-d*N,",").concat(e+r,`
            L `).concat(t+d*N,",").concat(e+r,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t,",").concat(e+r-c*N," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},kI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oM=t=>{var e=Sr(t,kI),n=w.useRef(null),[r,a]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:N,isAnimationActive:E,isUpdateAnimationActive:j}=e,_=w.useRef(d),O=w.useRef(f),R=w.useRef(l),M=w.useRef(c),T=w.useMemo(()=>({x:l,y:c,width:d,height:f,radius:h}),[l,c,d,f,h]),C=l0(T,"rectangle-");if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var L=zt("recharts-rectangle",p);if(!j){var P=Ra(e),{radius:U}=P,$=RI(P,zG);return w.createElement("path",zg({},$,{radius:typeof h=="number"?h:void 0,className:L,d:PI(l,c,d,f,h)}))}var A=_.current,D=O.current,z=R.current,B=M.current,ge="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),G=aM(["strokeDasharray"],x,typeof g=="string"?g:kI.animationEasing);return w.createElement(s0,{animationId:C,key:C,canBegin:r>0,duration:x,easing:g,isActive:j,begin:N},Y=>{var H=Bn(A,d,Y),he=Bn(D,f,Y),X=Bn(z,l,Y),V=Bn(B,c,Y);n.current&&(_.current=H,O.current=he,R.current=X,M.current=V);var W;E?Y>0?W={transition:G,strokeDasharray:re}:W={strokeDasharray:ge}:W={strokeDasharray:re};var pe=Ra(e),{radius:Z}=pe,xe=RI(pe,BG);return w.createElement("path",zg({},xe,{radius:typeof h=="number"?h:void 0,className:L,d:PI(X,V,H,he,h),ref:n,style:DI(DI({},W),e.style)}))})};function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){GG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GG(t,e,n){return(e=KG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KG(t){var e=YG(t,"string");return typeof e=="symbol"?e:e+""}function YG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bg=Math.PI/180,WG=t=>t*180/Math.PI,Ln=(t,e,n,r)=>({x:t+Math.cos(-Bg*r)*n,y:e+Math.sin(-Bg*r)*n}),cM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},XG=(t,e)=>{var{x:n,y:r}=t,{x:a,y:l}=e;return Math.sqrt((n-a)**2+(r-l)**2)},QG=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:l}=e,c=XG({x:n,y:r},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,f=Math.acos(d);return r>l&&(f=2*Math.PI-f),{radius:c,angle:WG(f),angleInRadian:f}},JG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:e-l*360,endAngle:n-l*360}},ZG=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(a,l);return t+c*360},eK=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:l}=QG({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:h}=JG(e),p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?LI(LI({},e),{},{radius:a,angle:ZG(p,e)}):null};function uM(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:l}=t,c=Ln(e,n,r,a),d=Ln(e,n,r,l);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:l}}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(null,arguments)}var tK=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Pp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/Bg,g=f?a:a+l*p,x=Ln(e,n,h,g),N=Ln(e,n,r,g),E=f?a-l*p:a,j=Ln(e,n,h*Math.cos(p*Bg),E);return{center:x,circleTangency:N,lineTangency:j,theta:p}},dM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c}=t,d=tK(l,c),f=l+d,h=Ln(e,n,a,l),p=Ln(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=Ln(e,n,r,l),N=Ln(e,n,r,f);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},nK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=nr(h-f),{circleTangency:g,lineTangency:x,theta:N}=Pp({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:l,cornerIsExternal:d}),{circleTangency:E,lineTangency:j,theta:_}=Pp({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:l,cornerIsExternal:d}),O=d?Math.abs(f-h):Math.abs(f-h)-N-_;if(O<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):dM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var R="M ".concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:T,theta:C}=Pp({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:L,lineTangency:P,theta:U}=Pp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),$=d?Math.abs(f-h):Math.abs(f-h)-C-U;if($<0&&l===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(p>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},rK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fM=t=>{var e=Sr(t,rK),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(l<a||h===p)return null;var x=zt("recharts-sector",g),N=l-a,E=jr(c,N,0,!0),j;return E>0&&Math.abs(h-p)<360?j=nK({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(E,N/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):j=dM({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:h,endAngle:p}),w.createElement("path",F1({},Ra(e),{className:x,d:j}))};function aK(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(qP(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:l,outerRadius:c,angle:d}=e,f=Ln(r,a,l,d),h=Ln(r,a,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return uM(e)}}var mw={},pw={},gw={},UI;function iK(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tk();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(gw)),gw}var VI;function sK(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(pw)),pw}var zI;function lK(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nk(),n=sK();function r(a,l,c){c&&typeof c!="number"&&e.isIterateeCall(a,l,c)&&(l=c=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),c=c===void 0?a<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-a)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=c;return f}t.range=r})(mw)),mw}var yw,BI;function oK(){return BI||(BI=1,yw=lK().range),yw}var cK=oK();const hM=Zi(cK);function Bl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function __(t){let e,n,r;t.length!==2?(e=Bl,n=(d,f)=>Bl(t(d),f),r=(d,f)=>t(d)-f):(e=t===Bl||t===uK?t:dK,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function l(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:c,right:l}}function dK(){return 0}function mM(t){return t===null?NaN:+t}function*fK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const hK=__(Bl),_h=hK.right;__(mM).center;class $I extends Map{constructor(e,n=gK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(FI(this,e))}has(e){return super.has(FI(this,e))}set(e,n){return super.set(mK(this,e),n)}delete(e){return super.delete(pK(this,e))}}function FI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function mK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function pK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function gK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yK(t=Bl){if(t===Bl)return pM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function pM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vK=Math.sqrt(50),xK=Math.sqrt(10),bK=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),c=l>=vK?10:l>=xK?5:l>=bK?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?$g(t,e,n*2):[d,f,h]}function q1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,l,c]=r?$g(e,t,n):$g(t,e,n);if(!(l>=a))return[];const d=l-a+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(l-h)/-c;else for(let h=0;h<d;++h)f[h]=(l-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(a+h)/-c;else for(let h=0;h<d;++h)f[h]=(a+h)*c;return f}function H1(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function G1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?H1(e,t,n):H1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function qI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function HI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function gM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?pM:yK(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),N=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));gM(t,e,N,E,a)}const l=t[e];let c=n,d=r;for(_f(t,n,e),a(t[r],l)>0&&_f(t,n,r);c<d;){for(_f(t,c,d),++c,--d;a(t[c],l)<0;)++c;for(;a(t[d],l)>0;)--d}a(t[n],l)===0?_f(t,n,d):(++d,_f(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function _f(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wK(t,e,n){if(t=Float64Array.from(fK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return HI(t);if(e>=1)return qI(t);var r,a=(r-1)*e,l=Math.floor(a),c=qI(gM(t,l).subarray(0,l+1)),d=HI(t.subarray(l+1));return c+(d-c)*(a-l)}}function NK(t,e,n=mM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,l=Math.floor(a),c=+n(t[l],l,t),d=+n(t[l+1],l+1,t);return c+(d-c)*(a-l)}}function _K(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,l=new Array(a);++r<a;)l[r]=t+r*n;return l}function La(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K1=Symbol("implicit");function j_(){var t=new $I,e=[],n=[],r=K1;function a(l){let c=t.get(l);if(c===void 0){if(r!==K1)return r;t.set(l,c=e.push(l)-1)}return n[c%n.length]}return a.domain=function(l){if(!arguments.length)return e.slice();e=[],t=new $I;for(const c of l)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return j_(e,n).unknown(r)},La.apply(a,arguments),a}function E_(){var t=j_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,l,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,N=a<r,E=N?a:r,j=N?r:a;l=(j-E)/Math.max(1,x-f+h*2),d&&(l=Math.floor(l)),E+=(j-E-l*(x-f))*p,c=l*(1-f),d&&(E=Math.round(E),c=Math.round(c));var _=_K(x).map(function(O){return E+l*O});return n(N?_.reverse():_)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return l},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return E_(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},La.apply(g(),arguments)}function yM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return yM(e())},t}function jK(){return yM(E_.apply(null,arguments).paddingInner(1))}function S_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jh(){}var Qf=.7,Fg=1/Qf,Au="\\s*([+-]?\\d+)\\s*",Jf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EK=/^#([0-9a-f]{3,8})$/,SK=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),AK=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),TK=new RegExp(`^rgba\\(${Au},${Au},${Au},${Jf}\\)$`),CK=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${Jf}\\)$`),IK=new RegExp(`^hsl\\(${Jf},${Vi},${Vi}\\)$`),OK=new RegExp(`^hsla\\(${Jf},${Vi},${Vi},${Jf}\\)$`),GI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S_(jh,Zf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KI,formatHex:KI,formatHex8:DK,formatHsl:RK,formatRgb:YI,toString:YI});function KI(){return this.rgb().formatHex()}function DK(){return this.rgb().formatHex8()}function RK(){return xM(this).formatHsl()}function YI(){return this.rgb().formatRgb()}function Zf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WI(e):n===3?new Hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=SK.exec(t))?new Hr(e[1],e[2],e[3],1):(e=AK.exec(t))?new Hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=TK.exec(t))?kp(e[1],e[2],e[3],e[4]):(e=CK.exec(t))?kp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IK.exec(t))?JI(e[1],e[2]/100,e[3]/100,1):(e=OK.exec(t))?JI(e[1],e[2]/100,e[3]/100,e[4]):GI.hasOwnProperty(t)?WI(GI[t]):t==="transparent"?new Hr(NaN,NaN,NaN,0):null}function WI(t){return new Hr(t>>16&255,t>>8&255,t&255,1)}function kp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hr(t,e,n,r)}function PK(t){return t instanceof jh||(t=Zf(t)),t?(t=t.rgb(),new Hr(t.r,t.g,t.b,t.opacity)):new Hr}function Y1(t,e,n,r){return arguments.length===1?PK(t):new Hr(t,e,n,r??1)}function Hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}S_(Hr,Y1,vM(jh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qf:Math.pow(Qf,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hr(ec(this.r),ec(this.g),ec(this.b),qg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XI,formatHex:XI,formatHex8:kK,formatRgb:QI,toString:QI}));function XI(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}`}function kK(){return`#${Ko(this.r)}${Ko(this.g)}${Ko(this.b)}${Ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function QI(){const t=qg(this.opacity);return`${t===1?"rgb(":"rgba("}${ec(this.r)}, ${ec(this.g)}, ${ec(this.b)}${t===1?")":`, ${t})`}`}function qg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ec(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ko(t){return t=ec(t),(t<16?"0":"")+t.toString(16)}function JI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,n,r)}function xM(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof jh||(t=Zf(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),l=Math.max(e,n,r),c=NaN,d=l-a,f=(l+a)/2;return d?(e===l?c=(n-r)/d+(n<r)*6:n===l?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?l+a:2-l-a,c*=60):d=f>0&&f<1?0:c,new ei(c,d,f,t.opacity)}function MK(t,e,n,r){return arguments.length===1?xM(t):new ei(t,e,n,r??1)}function ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}S_(ei,MK,vM(jh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qf:Math.pow(Qf,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Hr(vw(t>=240?t-240:t+120,a,r),vw(t,a,r),vw(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ei(ZI(this.h),Mp(this.s),Mp(this.l),qg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qg(this.opacity);return`${t===1?"hsl(":"hsla("}${ZI(this.h)}, ${Mp(this.s)*100}%, ${Mp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZI(t){return t=(t||0)%360,t<0?t+360:t}function Mp(t){return Math.max(0,Math.min(1,t||0))}function vw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const A_=t=>()=>t;function LK(t,e){return function(n){return t+n*e}}function UK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VK(t){return(t=+t)==1?bM:function(e,n){return n-e?UK(e,n,t):A_(isNaN(e)?n:e)}}function bM(t,e){var n=e-t;return n?LK(t,n):A_(isNaN(t)?e:t)}const eO=(function t(e){var n=VK(e);function r(a,l){var c=n((a=Y1(a)).r,(l=Y1(l)).r),d=n(a.g,l.g),f=n(a.b,l.b),h=bM(a.opacity,l.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function zK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=t[a]*(1-l)+e[a]*l;return r}}function BK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $K(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)a[c]=td(t[c],e[c]);for(;c<n;++c)l[c]=e[c];return function(d){for(c=0;c<r;++c)l[c]=a[c](d);return l}}function FK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qK(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=td(t[a],e[a]):r[a]=e[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var W1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xw=new RegExp(W1.source,"g");function HK(t){return function(){return t}}function GK(t){return function(e){return t(e)+""}}function KK(t,e){var n=W1.lastIndex=xw.lastIndex=0,r,a,l,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=W1.exec(t))&&(a=xw.exec(e));)(l=a.index)>n&&(l=e.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:Hg(r,a)})),n=xw.lastIndex;return n<e.length&&(l=e.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?GK(f[0].x):HK(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function td(t,e){var n=typeof e,r;return e==null||n==="boolean"?A_(e):(n==="number"?Hg:n==="string"?(r=Zf(e))?(e=r,eO):KK:e instanceof Zf?eO:e instanceof Date?FK:BK(e)?zK:Array.isArray(e)?$K:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qK:Hg)(t,e)}function T_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function YK(t,e){e===void 0&&(e=t,t=td);for(var n=0,r=e.length-1,a=e[0],l=new Array(r<0?0:r);n<r;)l[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function WK(t){return function(){return t}}function Gg(t){return+t}var tO=[0,1];function Ir(t){return t}function X1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:WK(isNaN(e)?NaN:.5)}function XK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function QK(t,e,n){var r=t[0],a=t[1],l=e[0],c=e[1];return a<r?(r=X1(a,r),l=n(c,l)):(r=X1(r,a),l=n(l,c)),function(d){return l(r(d))}}function JK(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),l=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=X1(t[c],t[c+1]),l[c]=n(e[c],e[c+1]);return function(d){var f=_h(t,d,1,r)-1;return l[f](a[f](d))}}function Eh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function o0(){var t=tO,e=tO,n=td,r,a,l,c=Ir,d,f,h;function p(){var x=Math.min(t.length,e.length);return c!==Ir&&(c=XK(t[0],t[x-1])),d=x>2?JK:QK,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?l:(f||(f=d(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(a((h||(h=d(e,t.map(r),Hg)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Gg),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=T_,p()},g.clamp=function(x){return arguments.length?(c=x?!0:Ir,p()):c!==Ir},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(l=x,g):l},function(x,N){return r=x,a=N,p()}}function C_(){return o0()(Ir,Ir)}function ZK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zu(t){return t=Kg(Math.abs(t)),t?t[1]:NaN}function eY(t,e){return function(n,r){for(var a=n.length,l=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),l.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return l.reverse().join(e)}}function tY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eh(t){if(!(e=nY.exec(t)))throw new Error("invalid format: "+t);var e;return new I_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}eh.prototype=I_.prototype;function I_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rY(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var wM;function aY(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1],l=a-(wM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Kg(t,Math.max(0,e+l-1))[0]}function nO(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const rO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ZK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nO(t*100,e),r:nO,s:aY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aO(t){return t}var iO=Array.prototype.map,sO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iY(t){var e=t.grouping===void 0||t.thousands===void 0?aO:eY(iO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?aO:tY(iO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=eh(g);var x=g.fill,N=g.align,E=g.sign,j=g.symbol,_=g.zero,O=g.width,R=g.comma,M=g.precision,T=g.trim,C=g.type;C==="n"?(R=!0,C="g"):rO[C]||(M===void 0&&(M=12),T=!0,C="g"),(_||x==="0"&&N==="=")&&(_=!0,x="0",N="=");var L=j==="$"?n:j==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=j==="$"?r:/[%p]/.test(C)?c:"",U=rO[C],$=/[defgprs%]/.test(C);M=M===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function A(D){var z=L,B=P,ge,re,G;if(C==="c")B=U(D)+B,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?f:U(Math.abs(D),M),T&&(D=rY(D)),Y&&+D==0&&E!=="+"&&(Y=!1),z=(Y?E==="("?E:d:E==="-"||E==="("?"":E)+z,B=(C==="s"?sO[8+wM/3]:"")+B+(Y&&E==="("?")":""),$){for(ge=-1,re=D.length;++ge<re;)if(G=D.charCodeAt(ge),48>G||G>57){B=(G===46?a+D.slice(ge+1):D.slice(ge))+B,D=D.slice(0,ge);break}}}R&&!_&&(D=e(D,1/0));var H=z.length+D.length+B.length,he=H<O?new Array(O-H+1).join(x):"";switch(R&&_&&(D=e(he+D,he.length?O-B.length:1/0),he=""),N){case"<":D=z+D+B+he;break;case"=":D=z+he+D+B;break;case"^":D=he.slice(0,H=he.length>>1)+z+D+B+he.slice(H);break;default:D=he+z+D+B;break}return l(D)}return A.toString=function(){return g+""},A}function p(g,x){var N=h((g=eh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(zu(x)/3)))*3,j=Math.pow(10,-E),_=sO[8+E/3];return function(O){return N(j*O)+_}}return{format:h,formatPrefix:p}}var Lp,O_,NM;sY({thousands:",",grouping:[3],currency:["$",""]});function sY(t){return Lp=iY(t),O_=Lp.format,NM=Lp.formatPrefix,Lp}function lY(t){return Math.max(0,-zu(Math.abs(t)))}function oY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function cY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}function _M(t,e,n,r){var a=G1(t,e,n),l;switch(r=eh(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(l=oY(a,c))&&(r.precision=l),NM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=cY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=lY(a))&&(r.precision=l-(r.type==="%")*2);break}}return O_(r)}function ro(t){var e=t.domain;return t.ticks=function(n){var r=e();return q1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return _M(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,l=r.length-1,c=r[a],d=r[l],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=a,a=l,l=h);p-- >0;){if(h=H1(c,d,n),h===f)return r[a]=c,r[l]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function jM(){var t=C_();return t.copy=function(){return Eh(t,jM())},La.apply(t,arguments),ro(t)}function EM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return EM(t).unknown(e)},t=arguments.length?Array.from(t,Gg):[0,1],ro(n)}function SM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],l=t[r],c;return l<a&&(c=n,n=r,r=c,c=a,a=l,l=c),t[n]=e.floor(a),t[r]=e.ceil(l),t}function lO(t){return Math.log(t)}function oO(t){return Math.exp(t)}function uY(t){return-Math.log(-t)}function dY(t){return-Math.exp(-t)}function fY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hY(t){return t===10?fY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cO(t){return(e,n)=>-t(-e,n)}function D_(t){const e=t(lO,oO),n=e.domain;let r=10,a,l;function c(){return a=mY(r),l=hY(r),n()[0]<0?(a=cO(a),l=cO(l),t(uY,dY)):t(lO,oO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),N=a(p),E,j;const _=d==null?10:+d;let O=[];if(!(r%1)&&N-x<_){if(x=Math.floor(x),N=Math.ceil(N),h>0){for(;x<=N;++x)for(E=1;E<r;++E)if(j=x<0?E/l(-x):E*l(x),!(j<h)){if(j>p)break;O.push(j)}}else for(;x<=N;++x)for(E=r-1;E>=1;--E)if(j=x>0?E/l(-x):E*l(x),!(j<h)){if(j>p)break;O.push(j)}O.length*2<_&&(O=q1(h,p,_))}else O=q1(x,N,Math.min(N-x,_)).map(l);return g?O.reverse():O},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=eh(f)).precision==null&&(f.trim=!0),f=O_(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/l(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(SM(n(),{floor:d=>l(Math.floor(a(d))),ceil:d=>l(Math.ceil(a(d)))})),e}function AM(){const t=D_(o0()).domain([1,10]);return t.copy=()=>Eh(t,AM()).base(t.base()),La.apply(t,arguments),t}function uO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R_(t){var e=1,n=t(uO(e),dO(e));return n.constant=function(r){return arguments.length?t(uO(e=+r),dO(e)):e},ro(n)}function TM(){var t=R_(o0());return t.copy=function(){return Eh(t,TM()).constant(t.constant())},La.apply(t,arguments)}function fO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gY(t){return t<0?-t*t:t*t}function P_(t){var e=t(Ir,Ir),n=1;function r(){return n===1?t(Ir,Ir):n===.5?t(pY,gY):t(fO(n),fO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},ro(e)}function k_(){var t=P_(o0());return t.copy=function(){return Eh(t,k_()).exponent(t.exponent())},La.apply(t,arguments),t}function yY(){return k_.apply(null,arguments).exponent(.5)}function hO(t){return Math.sign(t)*t*t}function vY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CM(){var t=C_(),e=[0,1],n=!1,r;function a(l){var c=vY(t(l));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(l){return t.invert(hO(l))},a.domain=function(l){return arguments.length?(t.domain(l),a):t.domain()},a.range=function(l){return arguments.length?(t.range((e=Array.from(l,Gg)).map(hO)),a):e.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(t.clamp(l),a):t.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return CM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},La.apply(a,arguments),ro(a)}function IM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=NK(t,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:e[_h(n,c)]}return l.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},l.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Bl),a()},l.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return IM().domain(t).range(e).unknown(r)},La.apply(l,arguments)}function OM(){var t=0,e=1,n=1,r=[.5],a=[0,1],l;function c(f){return f!=null&&f<=f?a[_h(r,f,0,n)]:l}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return OM().domain([t,e]).range(a).unknown(l)},La.apply(ro(c),arguments)}function DM(){var t=[.5],e=[0,1],n,r=1;function a(l){return l!=null&&l<=l?e[_h(t,l,0,r)]:n}return a.domain=function(l){return arguments.length?(t=Array.from(l),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(l){return arguments.length?(e=Array.from(l),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(l){var c=e.indexOf(l);return[t[c-1],t[c]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return DM().domain(t).range(e).unknown(n)},La.apply(a,arguments)}const bw=new Date,ww=new Date;function Gn(t,e,n,r){function a(l){return t(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(t(l=new Date(+l)),l),a.ceil=l=>(t(l=new Date(l-1)),e(l,1),t(l),l),a.round=l=>{const c=a(l),d=a.ceil(l);return l-c<d-l?c:d},a.offset=(l,c)=>(e(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,d)=>{const f=[];if(l=a.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let h;do f.push(h=new Date(+l)),e(l,d),t(l);while(h<l&&l<c);return f},a.filter=l=>Gn(c=>{if(c>=c)for(;t(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!l(c););else for(;--d>=0;)for(;e(c,1),!l(c););}),n&&(a.count=(l,c)=>(bw.setTime(+l),ww.setTime(+c),t(bw),t(ww),Math.floor(n(bw,ww))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?c=>r(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const Yg=Gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yg);Yg.range;const Es=1e3,Da=Es*60,Ss=Da*60,Us=Ss*24,M_=Us*7,mO=Us*30,Nw=Us*365,Yo=Gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());Yo.range;const L_=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getMinutes());L_.range;const U_=Gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCMinutes());U_.range;const V_=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*Da)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getHours());V_.range;const z_=Gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCHours());z_.range;const Sh=Gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Da)/Us,t=>t.getDate()-1);Sh.range;const c0=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>t.getUTCDate()-1);c0.range;const RM=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>Math.floor(t/Us));RM.range;function vc(t){return Gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Da)/M_)}const u0=vc(0),Wg=vc(1),xY=vc(2),bY=vc(3),Bu=vc(4),wY=vc(5),NY=vc(6);u0.range;Wg.range;xY.range;bY.range;Bu.range;wY.range;NY.range;function xc(t){return Gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/M_)}const d0=xc(0),Xg=xc(1),_Y=xc(2),jY=xc(3),$u=xc(4),EY=xc(5),SY=xc(6);d0.range;Xg.range;_Y.range;jY.range;$u.range;EY.range;SY.range;const B_=Gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());B_.range;const $_=Gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$_.range;const Vs=Gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Vs.range;const zs=Gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zs.range;function PM(t,e,n,r,a,l){const c=[[Yo,1,Es],[Yo,5,5*Es],[Yo,15,15*Es],[Yo,30,30*Es],[l,1,Da],[l,5,5*Da],[l,15,15*Da],[l,30,30*Da],[a,1,Ss],[a,3,3*Ss],[a,6,6*Ss],[a,12,12*Ss],[r,1,Us],[r,2,2*Us],[n,1,M_],[e,1,mO],[e,3,3*mO],[t,1,Nw]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const N=g&&typeof g.range=="function"?g:f(h,p,g),E=N?N.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,N=__(([,,_])=>_).right(c,x);if(N===c.length)return t.every(G1(h/Nw,p/Nw,g));if(N===0)return Yg.every(Math.max(G1(h,p,g),1));const[E,j]=c[x/c[N-1][2]<c[N][2]/x?N-1:N];return E.every(j)}return[d,f]}const[AY,TY]=PM(zs,$_,d0,RM,z_,U_),[CY,IY]=PM(Vs,B_,u0,Sh,V_,L_);function _w(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function jw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function OY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,l=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=Ef(a),p=Sf(a),g=Ef(l),x=Sf(l),N=Ef(c),E=Sf(c),j=Ef(d),_=Sf(d),O=Ef(f),R=Sf(f),M={a:Y,A:H,b:he,B:X,c:null,d:bO,e:bO,f:eW,g:uW,G:fW,H:QY,I:JY,j:ZY,L:kM,m:tW,M:nW,p:V,q:W,Q:_O,s:jO,S:rW,u:aW,U:iW,V:sW,w:lW,W:oW,x:null,X:null,y:cW,Y:dW,Z:hW,"%":NO},T={a:pe,A:Z,b:xe,B:Te,c:null,d:wO,e:wO,f:yW,g:AW,G:CW,H:mW,I:pW,j:gW,L:LM,m:vW,M:xW,p:De,q:ae,Q:_O,s:jO,S:bW,u:wW,U:NW,V:_W,w:jW,W:EW,x:null,X:null,y:SW,Y:TW,Z:IW,"%":NO},C={a:A,A:D,b:z,B,c:ge,d:vO,e:vO,f:KY,g:yO,G:gO,H:xO,I:xO,j:FY,L:GY,m:$Y,M:qY,p:$,q:BY,Q:WY,s:XY,S:HY,u:MY,U:LY,V:UY,w:kY,W:VY,x:re,X:G,y:yO,Y:gO,Z:zY,"%":YY};M.x=L(n,M),M.X=L(r,M),M.c=L(e,M),T.x=L(n,T),T.X=L(r,T),T.c=L(e,T);function L(le,ke){return function(J){var de=[],Ve=-1,Ge=0,St=le.length,Ee,yt,ve;for(J instanceof Date||(J=new Date(+J));++Ve<St;)le.charCodeAt(Ve)===37&&(de.push(le.slice(Ge,Ve)),(yt=pO[Ee=le.charAt(++Ve)])!=null?Ee=le.charAt(++Ve):yt=Ee==="e"?" ":"0",(ve=ke[Ee])&&(Ee=ve(J,yt)),de.push(Ee),Ge=Ve+1);return de.push(le.slice(Ge,Ve)),de.join("")}}function P(le,ke){return function(J){var de=jf(1900,void 0,1),Ve=U(de,le,J+="",0),Ge,St;if(Ve!=J.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(ke&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Ge=jw(jf(de.y,0,1)),St=Ge.getUTCDay(),Ge=St>4||St===0?Xg.ceil(Ge):Xg(Ge),Ge=c0.offset(Ge,(de.V-1)*7),de.y=Ge.getUTCFullYear(),de.m=Ge.getUTCMonth(),de.d=Ge.getUTCDate()+(de.w+6)%7):(Ge=_w(jf(de.y,0,1)),St=Ge.getDay(),Ge=St>4||St===0?Wg.ceil(Ge):Wg(Ge),Ge=Sh.offset(Ge,(de.V-1)*7),de.y=Ge.getFullYear(),de.m=Ge.getMonth(),de.d=Ge.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),St="Z"in de?jw(jf(de.y,0,1)).getUTCDay():_w(jf(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(St+5)%7:de.w+de.U*7-(St+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,jw(de)):_w(de)}}function U(le,ke,J,de){for(var Ve=0,Ge=ke.length,St=J.length,Ee,yt;Ve<Ge;){if(de>=St)return-1;if(Ee=ke.charCodeAt(Ve++),Ee===37){if(Ee=ke.charAt(Ve++),yt=C[Ee in pO?ke.charAt(Ve++):Ee],!yt||(de=yt(le,J,de))<0)return-1}else if(Ee!=J.charCodeAt(de++))return-1}return de}function $(le,ke,J){var de=h.exec(ke.slice(J));return de?(le.p=p.get(de[0].toLowerCase()),J+de[0].length):-1}function A(le,ke,J){var de=N.exec(ke.slice(J));return de?(le.w=E.get(de[0].toLowerCase()),J+de[0].length):-1}function D(le,ke,J){var de=g.exec(ke.slice(J));return de?(le.w=x.get(de[0].toLowerCase()),J+de[0].length):-1}function z(le,ke,J){var de=O.exec(ke.slice(J));return de?(le.m=R.get(de[0].toLowerCase()),J+de[0].length):-1}function B(le,ke,J){var de=j.exec(ke.slice(J));return de?(le.m=_.get(de[0].toLowerCase()),J+de[0].length):-1}function ge(le,ke,J){return U(le,e,ke,J)}function re(le,ke,J){return U(le,n,ke,J)}function G(le,ke,J){return U(le,r,ke,J)}function Y(le){return c[le.getDay()]}function H(le){return l[le.getDay()]}function he(le){return f[le.getMonth()]}function X(le){return d[le.getMonth()]}function V(le){return a[+(le.getHours()>=12)]}function W(le){return 1+~~(le.getMonth()/3)}function pe(le){return c[le.getUTCDay()]}function Z(le){return l[le.getUTCDay()]}function xe(le){return f[le.getUTCMonth()]}function Te(le){return d[le.getUTCMonth()]}function De(le){return a[+(le.getUTCHours()>=12)]}function ae(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ke=L(le+="",M);return ke.toString=function(){return le},ke},parse:function(le){var ke=P(le+="",!1);return ke.toString=function(){return le},ke},utcFormat:function(le){var ke=L(le+="",T);return ke.toString=function(){return le},ke},utcParse:function(le){var ke=P(le+="",!0);return ke.toString=function(){return le},ke}}}var pO={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,DY=/^%/,RY=/[\\^$*+?|[\]().{}]/g;function wt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(e)+a:a)}function PY(t){return t.replace(RY,"\\$&")}function Ef(t){return new RegExp("^(?:"+t.map(PY).join("|")+")","i")}function Sf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function kY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function MY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gO(t,e,n){var r=sr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function BY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $Y(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function FY(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function HY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function GY(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function KY(t,e,n){var r=sr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function YY(t,e,n){var r=DY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function WY(t,e,n){var r=sr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function XY(t,e,n){var r=sr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bO(t,e){return wt(t.getDate(),e,2)}function QY(t,e){return wt(t.getHours(),e,2)}function JY(t,e){return wt(t.getHours()%12||12,e,2)}function ZY(t,e){return wt(1+Sh.count(Vs(t),t),e,3)}function kM(t,e){return wt(t.getMilliseconds(),e,3)}function eW(t,e){return kM(t,e)+"000"}function tW(t,e){return wt(t.getMonth()+1,e,2)}function nW(t,e){return wt(t.getMinutes(),e,2)}function rW(t,e){return wt(t.getSeconds(),e,2)}function aW(t){var e=t.getDay();return e===0?7:e}function iW(t,e){return wt(u0.count(Vs(t)-1,t),e,2)}function MM(t){var e=t.getDay();return e>=4||e===0?Bu(t):Bu.ceil(t)}function sW(t,e){return t=MM(t),wt(Bu.count(Vs(t),t)+(Vs(t).getDay()===4),e,2)}function lW(t){return t.getDay()}function oW(t,e){return wt(Wg.count(Vs(t)-1,t),e,2)}function cW(t,e){return wt(t.getFullYear()%100,e,2)}function uW(t,e){return t=MM(t),wt(t.getFullYear()%100,e,2)}function dW(t,e){return wt(t.getFullYear()%1e4,e,4)}function fW(t,e){var n=t.getDay();return t=n>=4||n===0?Bu(t):Bu.ceil(t),wt(t.getFullYear()%1e4,e,4)}function hW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wt(e/60|0,"0",2)+wt(e%60,"0",2)}function wO(t,e){return wt(t.getUTCDate(),e,2)}function mW(t,e){return wt(t.getUTCHours(),e,2)}function pW(t,e){return wt(t.getUTCHours()%12||12,e,2)}function gW(t,e){return wt(1+c0.count(zs(t),t),e,3)}function LM(t,e){return wt(t.getUTCMilliseconds(),e,3)}function yW(t,e){return LM(t,e)+"000"}function vW(t,e){return wt(t.getUTCMonth()+1,e,2)}function xW(t,e){return wt(t.getUTCMinutes(),e,2)}function bW(t,e){return wt(t.getUTCSeconds(),e,2)}function wW(t){var e=t.getUTCDay();return e===0?7:e}function NW(t,e){return wt(d0.count(zs(t)-1,t),e,2)}function UM(t){var e=t.getUTCDay();return e>=4||e===0?$u(t):$u.ceil(t)}function _W(t,e){return t=UM(t),wt($u.count(zs(t),t)+(zs(t).getUTCDay()===4),e,2)}function jW(t){return t.getUTCDay()}function EW(t,e){return wt(Xg.count(zs(t)-1,t),e,2)}function SW(t,e){return wt(t.getUTCFullYear()%100,e,2)}function AW(t,e){return t=UM(t),wt(t.getUTCFullYear()%100,e,2)}function TW(t,e){return wt(t.getUTCFullYear()%1e4,e,4)}function CW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$u(t):$u.ceil(t),wt(t.getUTCFullYear()%1e4,e,4)}function IW(){return"+0000"}function NO(){return"%"}function _O(t){return+t}function jO(t){return Math.floor(+t/1e3)}var fu,VM,zM;OW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function OW(t){return fu=OY(t),VM=fu.format,fu.parse,zM=fu.utcFormat,fu.utcParse,fu}function DW(t){return new Date(t)}function RW(t){return t instanceof Date?+t:+new Date(+t)}function F_(t,e,n,r,a,l,c,d,f,h){var p=C_(),g=p.invert,x=p.domain,N=h(".%L"),E=h(":%S"),j=h("%I:%M"),_=h("%I %p"),O=h("%a %d"),R=h("%b %d"),M=h("%B"),T=h("%Y");function C(L){return(f(L)<L?N:d(L)<L?E:c(L)<L?j:l(L)<L?_:r(L)<L?a(L)<L?O:R:n(L)<L?M:T)(L)}return p.invert=function(L){return new Date(g(L))},p.domain=function(L){return arguments.length?x(Array.from(L,RW)):x().map(DW)},p.ticks=function(L){var P=x();return t(P[0],P[P.length-1],L??10)},p.tickFormat=function(L,P){return P==null?C:h(P)},p.nice=function(L){var P=x();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?x(SM(P,L)):p},p.copy=function(){return Eh(p,F_(t,e,n,r,a,l,c,d,f,h))},p}function PW(){return La.apply(F_(CY,IY,Vs,B_,u0,Sh,V_,L_,Yo,VM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kW(){return La.apply(F_(AY,TY,zs,$_,d0,c0,z_,U_,Yo,zM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f0(){var t=0,e=1,n,r,a,l,c=Ir,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(l(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=l(t=+t),r=l(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(x){var N,E;return arguments.length?([N,E]=x,c=g(N,E),h):[c(0),c(1)]}}return h.range=p(td),h.rangeRound=p(T_),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return l=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function ao(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BM(){var t=ro(f0()(Ir));return t.copy=function(){return ao(t,BM())},Xs.apply(t,arguments)}function $M(){var t=D_(f0()).domain([1,10]);return t.copy=function(){return ao(t,$M()).base(t.base())},Xs.apply(t,arguments)}function FM(){var t=R_(f0());return t.copy=function(){return ao(t,FM()).constant(t.constant())},Xs.apply(t,arguments)}function q_(){var t=P_(f0());return t.copy=function(){return ao(t,q_()).exponent(t.exponent())},Xs.apply(t,arguments)}function MW(){return q_.apply(null,arguments).exponent(.5)}function qM(){var t=[],e=Ir;function n(r){if(r!=null&&!isNaN(r=+r))return e((_h(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Bl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>wK(t,l/r))},n.copy=function(){return qM(e).domain(t)},Xs.apply(n,arguments)}function h0(){var t=0,e=.5,n=1,r=1,a,l,c,d,f,h=Ir,p,g=!1,x;function N(j){return isNaN(j=+j)?x:(j=.5+((j=+p(j))-l)*(r*j<r*l?d:f),h(g?Math.max(0,Math.min(1,j)):j))}N.domain=function(j){return arguments.length?([t,e,n]=j,a=p(t=+t),l=p(e=+e),c=p(n=+n),d=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,N):[t,e,n]},N.clamp=function(j){return arguments.length?(g=!!j,N):g},N.interpolator=function(j){return arguments.length?(h=j,N):h};function E(j){return function(_){var O,R,M;return arguments.length?([O,R,M]=_,h=YK(j,[O,R,M]),N):[h(0),h(.5),h(1)]}}return N.range=E(td),N.rangeRound=E(T_),N.unknown=function(j){return arguments.length?(x=j,N):x},function(j){return p=j,a=j(t),l=j(e),c=j(n),d=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,N}}function HM(){var t=ro(h0()(Ir));return t.copy=function(){return ao(t,HM())},Xs.apply(t,arguments)}function GM(){var t=D_(h0()).domain([.1,1,10]);return t.copy=function(){return ao(t,GM()).base(t.base())},Xs.apply(t,arguments)}function KM(){var t=R_(h0());return t.copy=function(){return ao(t,KM()).constant(t.constant())},Xs.apply(t,arguments)}function H_(){var t=P_(h0());return t.copy=function(){return ao(t,H_()).exponent(t.exponent())},Xs.apply(t,arguments)}function LW(){return H_.apply(null,arguments).exponent(.5)}const Cf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E_,scaleDiverging:HM,scaleDivergingLog:GM,scaleDivergingPow:H_,scaleDivergingSqrt:LW,scaleDivergingSymlog:KM,scaleIdentity:EM,scaleImplicit:K1,scaleLinear:jM,scaleLog:AM,scaleOrdinal:j_,scalePoint:jK,scalePow:k_,scaleQuantile:IM,scaleQuantize:OM,scaleRadial:CM,scaleSequential:BM,scaleSequentialLog:$M,scaleSequentialPow:q_,scaleSequentialQuantile:qM,scaleSequentialSqrt:MW,scaleSequentialSymlog:FM,scaleSqrt:yY,scaleSymlog:TM,scaleThreshold:DM,scaleTime:PW,scaleUtc:kW,tickFormat:_M},Symbol.toStringTag,{value:"Module"}));var io=t=>t.chartData,G_=oe([io],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),K_=(t,e,n,r)=>r?G_(t):io(t);function Kl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(jn(e)&&jn(n))return!0}return!1}function EO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function YM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,l;if(jn(n))a=n;else if(typeof n=="function")return;if(jn(r))l=r;else if(typeof r=="function")return;var c=[a,l];if(Kl(c))return c}}function UW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Kl(r))return EO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,l]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(Be(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&tI.test(a)){var f=tI.exec(a);if(f==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e==null?void 0:e[0];if(l==="auto")e!=null&&(d=Math.max(...e));else if(Be(l))d=l;else if(typeof l=="function")try{e!=null&&(d=l(e==null?void 0:e[1]))}catch{}else if(typeof l=="string"&&nI.test(l)){var p=nI.exec(l);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[c,d];if(Kl(x))return e==null?x:EO(x,e,n)}}}var nd=1e9,VW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W_,sn=!0,ka="[DecimalError] ",tc=ka+"Invalid argument: ",Y_=ka+"Exponent out of range: ",rd=Math.floor,qo=Math.pow,zW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,la,er=1e7,Qt=7,WM=9007199254740991,Qg=rd(WM/Qt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,a,l=this;if(t=new l.constructor(t),l.s!==t.s)return l.s||-t.s;if(l.e!==t.e)return l.e>t.e^l.s<0?1:-1;for(r=l.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(l.d[e]!==t.d[e])return l.d[e]>t.d[e]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Os(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return qt(Os(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return Vn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,a=r.precision,l=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(la))throw Error(ka+"NaN");if(n.s<1)throw Error(ka+(n.s?"NaN":"-Infinity"));return n.eq(la)?new r(0):(sn=!1,e=Os(th(n,l),th(t,l),l),sn=!0,qt(e,a))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JM(e,t):XM(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(ka+"NaN");return n.s?(sn=!1,e=Os(n,t,0,1).times(t),sn=!0,n.minus(e)):qt(new r(n),a)};Me.naturalExponential=Me.exp=function(){return QM(this)};Me.naturalLogarithm=Me.ln=function(){return th(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XM(e,t):JM(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tc+t);if(e=Vn(a)+1,r=a.d.length-1,n=r*Qt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,a,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(ka+"NaN")}for(t=Vn(d),sn=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Li(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=rd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(l=r,r=l.plus(Os(d,l,c+2)).times(.5),Li(l.d).slice(0,c)===(e=Li(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(qt(l,n+1,0),l.times(l).eq(d)){r=l;break}}else if(e!="9999")break;c+=4}return sn=!0,qt(r,n)};Me.times=Me.mul=function(t){var e,n,r,a,l,c,d,f,h,p=this,g=p.constructor,x=p.d,N=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=N.length,f<h&&(l=x,x=N,N=l,c=f,f=h,h=c),l=[],c=f+h,r=c;r--;)l.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=l[a]+N[r]*x[a-r-1]+e,l[a--]=d%er|0,e=d/er|0;l[a]=(l[a]+e)%er|0}for(;!l[--c];)l.pop();return e?++n:l.shift(),t.d=l,t.e=n,sn?qt(t,g.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Xi(t,0,nd),e===void 0?e=r.rounding:Xi(e,0,8),qt(n,t+Vn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=sc(r,!0):(Xi(t,0,nd),e===void 0?e=a.rounding:Xi(e,0,8),r=qt(new a(r),t+1,e),n=sc(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,a=this,l=a.constructor;return t===void 0?sc(a):(Xi(t,0,nd),e===void 0?e=l.rounding:Xi(e,0,8),r=qt(new l(a),t+Vn(a)+1,e),n=sc(r.abs(),!1,t+Vn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return qt(new e(t),Vn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,a,l,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(la);if(d=new f(d),!d.s){if(t.s<1)throw Error(ka+"Infinity");return d}if(d.eq(la))return d;if(r=f.precision,t.eq(la))return qt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,l=d.s,c){if((n=p<0?-p:p)<=WM){for(a=new f(la),e=Math.ceil(r/Qt+4),sn=!1;n%2&&(a=a.times(d),AO(a.d,e)),n=rd(n/2),n!==0;)d=d.times(d),AO(d.d,e);return sn=!0,t.s<0?new f(la).div(a):qt(a,r)}}else if(l<0)throw Error(ka+"NaN");return l=l<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,sn=!1,a=t.times(th(d,r+h)),sn=!0,a=QM(a),a.s=l,a};Me.toPrecision=function(t,e){var n,r,a=this,l=a.constructor;return t===void 0?(n=Vn(a),r=sc(a,n<=l.toExpNeg||n>=l.toExpPos)):(Xi(t,1,nd),e===void 0?e=l.rounding:Xi(e,0,8),a=qt(new l(a),t,e),n=Vn(a),r=sc(a,t<=n||n<=l.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Xi(t,1,nd),e===void 0?e=r.rounding:Xi(e,0,8)),qt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vn(t),n=t.constructor;return sc(t,e<=n.toExpNeg||e>=n.toExpPos)};function XM(t,e){var n,r,a,l,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),sn?qt(e,g):e;if(f=t.d,h=e.d,c=t.e,a=e.e,f=f.slice(),l=c-a,l){for(l<0?(r=f,l=-l,d=h.length):(r=h,a=c,d=f.length),c=Math.ceil(g/Qt),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=f.length,l=h.length,d-l<0&&(l=d,r=h,h=f,f=r),n=0;l;)n=(f[--l]=f[l]+h[l]+n)/er|0,f[l]%=er;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,sn?qt(e,g):e}function Xi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tc+t)}function Li(t){var e,n,r,a=t.length-1,l="",c=t[0];if(a>0){for(l+=c,e=1;e<a;e++)r=t[e]+"",n=Qt-r.length,n&&(l+=Rl(n)),l+=r;c=t[e],r=c+"",n=Qt-r.length,n&&(l+=Rl(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Os=(function(){function t(r,a){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*a+c,r[d]=l%er|0,c=l/er|0;return c&&r.unshift(c),r}function e(r,a,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,l){for(var c=0;l--;)r[l]-=c,c=r[l]<a[l]?1:0,r[l]=c*er+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,c){var d,f,h,p,g,x,N,E,j,_,O,R,M,T,C,L,P,U,$=r.constructor,A=r.s==a.s?1:-1,D=r.d,z=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(ka+"Division by zero");for(f=r.e-a.e,P=z.length,C=D.length,N=new $(A),E=N.d=[],h=0;z[h]==(D[h]||0);)++h;if(z[h]>(D[h]||0)&&--f,l==null?R=l=$.precision:c?R=l+(Vn(r)-Vn(a))+1:R=l,R<0)return new $(0);if(R=R/Qt+2|0,h=0,P==1)for(p=0,z=z[0],R++;(h<C||p)&&R--;h++)M=p*er+(D[h]||0),E[h]=M/z|0,p=M%z|0;else{for(p=er/(z[0]+1)|0,p>1&&(z=t(z,p),D=t(D,p),P=z.length,C=D.length),T=P,j=D.slice(0,P),_=j.length;_<P;)j[_++]=0;U=z.slice(),U.unshift(0),L=z[0],z[1]>=er/2&&++L;do p=0,d=e(z,j,P,_),d<0?(O=j[0],P!=_&&(O=O*er+(j[1]||0)),p=O/L|0,p>1?(p>=er&&(p=er-1),g=t(z,p),x=g.length,_=j.length,d=e(g,j,x,_),d==1&&(p--,n(g,P<x?U:z,x))):(p==0&&(d=p=1),g=z.slice()),x=g.length,x<_&&g.unshift(0),n(j,g,_),d==-1&&(_=j.length,d=e(z,j,P,_),d<1&&(p++,n(j,P<_?U:z,_))),_=j.length):d===0&&(p++,j=[0]),E[h++]=p,d&&j[0]?j[_++]=D[T]||0:(j=[D[T]],_=1);while((T++<C||j[0]!==void 0)&&R--)}return E[0]||E.shift(),N.e=f,qt(N,c?l+Vn(N)+1:l)}})();function QM(t,e){var n,r,a,l,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(Vn(t)>16)throw Error(Y_+Vn(t));if(!t.s)return new p(la);for(sn=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(qo(2,h))/Math.LN10*2+5|0,d+=r,n=a=l=new p(la),p.precision=d;;){if(a=qt(a.times(t),d),n=n.times(++f),c=l.plus(Os(a,n,d)),Li(c.d).slice(0,d)===Li(l.d).slice(0,d)){for(;h--;)l=qt(l.times(l),d);return p.precision=g,e==null?(sn=!0,qt(l,g)):l}l=c}}function Vn(t){for(var e=t.e*Qt,n=t.d[0];n>=10;n/=10)e++;return e}function Ew(t,e,n){if(e>t.LN10.sd())throw sn=!0,n&&(t.precision=n),Error(ka+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Rl(t){for(var e="";t--;)e+="0";return e}function th(t,e){var n,r,a,l,c,d,f,h,p,g=1,x=10,N=t,E=N.d,j=N.constructor,_=j.precision;if(N.s<1)throw Error(ka+(N.s?"NaN":"-Infinity"));if(N.eq(la))return new j(0);if(e==null?(sn=!1,h=_):h=e,N.eq(10))return e==null&&(sn=!0),Ew(j,h);if(h+=x,j.precision=h,n=Li(E),r=n.charAt(0),l=Vn(N),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)N=N.times(t),n=Li(N.d),r=n.charAt(0),g++;l=Vn(N),r>1?(N=new j("0."+n),l++):N=new j(r+"."+n.slice(1))}else return f=Ew(j,h+2,_).times(l+""),N=th(new j(r+"."+n.slice(1)),h-x).plus(f),j.precision=_,e==null?(sn=!0,qt(N,_)):N;for(d=c=N=Os(N.minus(la),N.plus(la),h),p=qt(N.times(N),h),a=3;;){if(c=qt(c.times(p),h),f=d.plus(Os(c,new j(a),h)),Li(f.d).slice(0,h)===Li(d.d).slice(0,h))return d=d.times(2),l!==0&&(d=d.plus(Ew(j,h+2,_).times(l+""))),d=Os(d,new j(g),h),j.precision=_,e==null?(sn=!0,qt(d,_)):d;d=f,a+=2}}function SO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=rd(n/Qt),t.d=[],r=(n+1)%Qt,n<0&&(r+=Qt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Qt;r<a;)t.d.push(+e.slice(r,r+=Qt));e=e.slice(r),r=Qt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),sn&&(t.e>Qg||t.e<-Qg))throw Error(Y_+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,a,l,c,d,f,h,p,g=t.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=e-c,r<0)r+=Qt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Qt),l=g.length,p>=l)return t;for(h=l=g[p],c=1;l>=10;l/=10)c++;r%=Qt,a=r-Qt+c}if(n!==void 0&&(l=qo(10,c-a-1),d=h/l%10|0,f=e<0||g[p+1]!==void 0||h%l,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/qo(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(l=Vn(t),g.length=1,e=e-l-1,g[0]=qo(10,(Qt-e%Qt)%Qt),t.e=rd(-e/Qt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,l=1,p--):(g.length=p+1,l=qo(10,Qt-r),g[p]=a>0?(h/qo(10,c-a)%qo(10,a)|0)*l:0),f)for(;;)if(p==0){(g[0]+=l)==er&&(g[0]=1,++t.e);break}else{if(g[p]+=l,g[p]!=er)break;g[p--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(sn&&(t.e>Qg||t.e<-Qg))throw Error(Y_+Vn(t));return t}function JM(t,e){var n,r,a,l,c,d,f,h,p,g,x=t.constructor,N=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),sn?qt(e,N):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(N/Qt),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(l=a;l&&f[--l]===0;)f[l]=er-1;--f[l],f[a]+=er}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,sn?qt(e,N):e):new x(0)}function sc(t,e,n){var r,a=Vn(t),l=Li(t.d),c=l.length;return e?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Rl(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Rl(-a-1)+l,n&&(r=n-c)>0&&(l+=Rl(r))):a>=c?(l+=Rl(a+1-c),n&&(r=n-a-1)>0&&(l=l+"."+Rl(r))):((r=a+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(l+="."),l+=Rl(r))),t.s<0?"-"+l:l}function AO(t,e){if(t.length>e)return t.length=e,!0}function ZM(t){var e,n,r;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(tc+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return SO(c,l.toString())}else if(typeof l!="string")throw Error(tc+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,zW.test(l))SO(c,l);else throw Error(tc+l)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZM,a.config=a.set=BW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function BW(t){if(!t||typeof t!="object")throw Error(ka+"Object expected");var e,n,r,a=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(rd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(tc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tc+n+": "+r);return this}var W_=ZM(VW);la=new W_(1);const Dt=W_;var $W=t=>t,e5={},t5=t=>t===e5,TO=t=>function e(){return arguments.length===0||arguments.length===1&&t5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},n5=(t,e)=>t===1?e:TO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=r.filter(c=>c!==e5).length;return l>=t?e(...r):n5(t-l,TO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=r.map(p=>t5(p)?d.shift():p);return e(...h,...d)}))}),FW=t=>n5(t.length,t),Q1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},qW=FW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),HW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return $W;var a=n.reverse(),l=a[0],c=a.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},J1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function r5(t){var e;return t===0?e=1:e=Math.floor(new Dt(t).abs().log(10).toNumber())+1,e}function a5(t,e,n){for(var r=new Dt(t),a=0,l=[];r.lt(e)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}var i5=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},s5=(t,e,n)=>{if(t.lte(0))return new Dt(0);var r=r5(t.toNumber()),a=new Dt(10).pow(r),l=t.div(a),c=r!==1?.05:.1,d=new Dt(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=d.mul(a);return e?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},GW=(t,e,n)=>{var r=new Dt(1),a=new Dt(t);if(!a.isint()&&n){var l=Math.abs(t);l<1?(r=new Dt(10).pow(r5(t)-1),a=new Dt(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new Dt(Math.floor(t)))}else t===0?a=new Dt(Math.floor((e-1)/2)):n||(a=new Dt(Math.floor(t)));var c=Math.floor((e-1)/2),d=HW(qW(f=>a.add(new Dt(f-c).mul(r)).toNumber()),Q1);return d(0,e)},l5=function(e,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=s5(new Dt(n).sub(e).div(r-1),a,l),d;e<=0&&n>=0?d=new Dt(0):(d=new Dt(e).add(n).div(2),d=d.sub(new Dt(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new Dt(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?l5(e,n,r,a,l+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new Dt(f).mul(c)),tickMax:d.add(new Dt(h).mul(c))})},KW=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=i5([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Q1(0,a-1).map(()=>1/0)]:[...Q1(0,a-1).map(()=>-1/0),f];return n>r?J1(h):h}if(d===f)return GW(d,a,l);var{step:p,tickMin:g,tickMax:x}=l5(d,f,c,l,0),N=a5(g,x.add(new Dt(.1).mul(p)),p);return n>r?J1(N):N},YW=function(e,n){var[r,a]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=i5([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var f=Math.max(n,2),h=s5(new Dt(d).sub(c).div(f-1),l,0),p=[...a5(new Dt(c),new Dt(d),h),d];return l===!1&&(p=p.map(g=>Math.round(g))),r>a?J1(p):p},o5=t=>t.rootProps.maxBarSize,WW=t=>t.rootProps.barGap,c5=t=>t.rootProps.barCategoryGap,XW=t=>t.rootProps.barSize,Ah=t=>t.rootProps.stackOffset,u5=t=>t.rootProps.reverseStackOrder,X_=t=>t.options.chartName,Q_=t=>t.rootProps.syncId,d5=t=>t.rootProps.syncMethod,J_=t=>t.options.eventEmitter,gr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},m0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},QW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:_s.type,unit:void 0},JW={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:sa.type,unit:void 0},ZW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eX={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:"category",unit:void 0},Z_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?ZW:QW,ej=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?eX:JW,p0=t=>t.polarOptions,tj=oe([Ys,Ws,Hn],cM),f5=oe([p0,tj],(t,e)=>{if(t!=null)return jr(t.innerRadius,e,0)}),h5=oe([p0,tj],(t,e)=>{if(t!=null)return jr(t.outerRadius,e,e*.8)}),tX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},m5=oe([p0],tX);oe([Z_,m5],m0);var p5=oe([tj,f5,h5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([ej,p5],m0);var g5=oe([Nt,p0,f5,h5,Ys,Ws],(t,e,n,r,a,l)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:jr(c,a,a/2),cy:jr(d,l,l/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),cn=(t,e)=>e,Th=(t,e,n)=>n;function nj(t){return t==null?void 0:t.id}function y5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:l}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=nj(d);h.forEach((g,x)=>{var N=l==null||a?x:String(an(g,l,null)),E=an(g,d.dataKey,0),j;c.has(N)?j=c.get(N):j={},Object.assign(j,{[p]:E}),c.set(N,j)})}}),Array.from(c.values())}function g0(t){return t.stackId!=null&&t.dataKey!=null}var y0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function v0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function nX(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Kn=t=>{var e=Nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ad=t=>t.tooltip.settings.axisId;function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){rX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rX(t,e,n){return(e=aX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aX(t){var e=iX(t,"string");return typeof e=="symbol"?e:e+""}function iX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z1=[0,"auto"],Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},v5=(t,e)=>t.cartesianAxis.xAxis[e],Qs=(t,e)=>{var n=v5(t,e);return n??Jn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Z1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wh},x5=(t,e)=>t.cartesianAxis.yAxis[e],Js=(t,e)=>{var n=x5(t,e);return n??Zn},sX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??sX},dn=(t,e,n)=>{switch(e){case"xAxis":return Qs(t,n);case"yAxis":return Js(t,n);case"zAxis":return rj(t,n);case"angleAxis":return Z_(t,n);case"radiusAxis":return ej(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lX=(t,e,n)=>{switch(e){case"xAxis":return Qs(t,n);case"yAxis":return Js(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ch=(t,e,n)=>{switch(e){case"xAxis":return Qs(t,n);case"yAxis":return Js(t,n);case"angleAxis":return Z_(t,n);case"radiusAxis":return ej(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},b5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ij=t=>t.graphicalItems.cartesianItems,oX=oe([cn,Th],aj),sj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Ih=oe([ij,dn,oX],sj,{memoizeOptions:{resultEqualityCheck:v0}}),w5=oe([Ih],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(g0)),N5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),cX=oe([Ih],N5),lj=t=>t.map(e=>e.data).filter(Boolean).flat(1),uX=oe([Ih],lj,{memoizeOptions:{resultEqualityCheck:v0}}),oj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},cj=oe([uX,K_],oj),uj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:an(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:an(a,r)}))):t.map(r=>({value:r})),x0=oe([cj,dn,Ih],uj);function _5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ag(t){if(Ki(t)||t instanceof Date){var e=Number(t);if(jn(e))return e}}function IO(t){if(Array.isArray(t)){var e=[ag(t[0]),ag(t[1])];return Kl(e)?e:void 0}var n=ag(t);if(n!=null)return[n,n]}function Bs(t){return t.map(ag).filter(A$)}function dX(t,e,n){return!n||typeof e!="number"||li(e)?[]:n.length?Bs(n.flatMap(r=>{var a=an(t,r.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!jn(l)||!jn(c)))return[e-l,e+c]})):[]}var Yn=t=>{var e=Kn(t),n=ad(t);return Ch(t,e,n)},Oh=oe([Yn],t=>t==null?void 0:t.dataKey),fX=oe([w5,K_,Yn],y5),j5=(t,e,n,r)=>{var a={},l=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(l).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(nj);return[d,{stackedData:Kq(t,p,n),graphicalItems:h}]}))},eN=oe([fX,w5,Ah,u5],j5),E5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:l}=e;if(r==null&&n!=="zAxis"){var c=Jq(t,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},hX=oe([dn],t=>t.allowDataOverflow),dj=t=>{var e;if(t==null||!("domain"in t))return Z1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Bs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Z1},fj=oe([dn],dj),hj=oe([fj,hX],YM),mX=oe([eN,io,cn,hj],E5,{memoizeOptions:{resultEqualityCheck:y0}}),b0=t=>t.errorBars,pX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>_5(n,r)),Zg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},mj=(t,e,n,r,a)=>{var l,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(O=>_5(a,O)),x=an(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),N=dX(d,x,g);if(N.length>=2){var E=Math.min(...N),j=Math.max(...N);(l==null||E<l)&&(l=E),(c==null||j>c)&&(c=j)}var _=IO(x);_!=null&&(l=l==null?_[0]:Math.min(l,_[0]),c=c==null?_[1]:Math.max(c,_[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=IO(an(d,e.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),jn(l)&&jn(c))return[l,c]},gX=oe([cj,dn,cX,b0,cn],mj,{memoizeOptions:{resultEqualityCheck:y0}});function yX(t){var{value:e}=t;if(Ki(e)||e instanceof Date)return e}var vX=(t,e,n)=>{var r=t.map(yX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&BP(r))?hM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},S5=t=>t.referenceElements.dots,id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),xX=oe([S5,cn,Th],id),A5=t=>t.referenceElements.areas,bX=oe([A5,cn,Th],id),T5=t=>t.referenceElements.lines,wX=oe([T5,cn,Th],id),C5=(t,e)=>{var n=Bs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},NX=oe(xX,cn,C5),I5=(t,e)=>{var n=Bs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_X=oe([bX,cn],I5);function jX(t){var e;if(t.x!=null)return Bs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Bs(n)}function EX(t){var e;if(t.y!=null)return Bs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Bs(n)}var O5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?jX(r):EX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},SX=oe([wX,cn],O5),AX=oe(NX,SX,_X,(t,e,n)=>Zg(t,n,e)),pj=(t,e,n,r,a,l,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?Zg(r,l,a):Zg(l,a);return UW(e,h,t.allowDataOverflow)},TX=oe([dn,fj,hj,mX,gX,AX,Nt,cn],pj,{memoizeOptions:{resultEqualityCheck:y0}}),CX=[0,1],gj=(t,e,n,r,a,l,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=gc(e,l);if(h&&d==null){var p;return hM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?vX(r,t,h):a==="expand"?CX:c}},yj=oe([dn,Nt,cj,x0,Ah,cn,TX],gj),D5=(t,e,n,r,a)=>{if(t!=null){var{scale:l,type:c}=t;if(l==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(gh(l));return d in Cf?d:"point"}}},sd=oe([dn,Nt,b5,X_,cn],D5);function IX(t){if(t!=null){if(t in Cf)return Cf[t]();var e="scale".concat(gh(t));if(e in Cf)return Cf[e]()}}function vj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=IX(e);if(a!=null){var l=a.domain(n).range(r);return $q(l),l}}}var xj=(t,e,n)=>{var r=dj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Kl(t))return KW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Kl(t))return YW(t,e.tickCount,e.allowDecimals)}},bj=oe([yj,Ch,sd],xj),wj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Kl(e)&&Array.isArray(n)&&n.length>0){var a=e[0],l=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,l),Math.max(c,d)]}return e},OX=oe([dn,yj,bj,cn],wj),DX=oe(x0,dn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Bs(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];n=Math.min(n,c)}return n/a}}),R5=oe(DX,Nt,c5,Hn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!jn(t))return 0;var l=e==="vertical"?r.height:r.width;if(a==="gap")return t*l/2;if(a==="no-gap"){var c=jr(n,t*l),d=t*l/2;return d-c-(d-c)/l*c}return 0}),RX=(t,e)=>{var n=Qs(t,e);return n==null||typeof n.padding!="string"?0:R5(t,"xAxis",e,n.padding)},PX=(t,e)=>{var n=Js(t,e);return n==null||typeof n.padding!="string"?0:R5(t,"yAxis",e,n.padding)},kX=oe(Qs,RX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),MX=oe(Js,PX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),LX=oe([Hn,kX,Zy,Jy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[t.left+e.left,t.left+t.width-e.right]}),UX=oe([Hn,Nt,MX,Zy,Jy,(t,e,n)=>n],(t,e,n,r,a,l)=>{var{padding:c}=a;return l?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Dh=(t,e,n,r)=>{var a;switch(e){case"xAxis":return LX(t,n,r);case"yAxis":return UX(t,n,r);case"zAxis":return(a=rj(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return m5(t);case"radiusAxis":return p5(t,n);default:return}},P5=oe([dn,Dh],m0),ld=oe([dn,sd,OX,P5],vj);oe([Ih,b0,cn],pX);function k5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var w0=(t,e)=>e,N0=(t,e,n)=>n,VX=oe(Xy,w0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(k5)),zX=oe(Qy,w0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(k5)),M5=(t,e)=>({width:t.width,height:e.height}),BX=(t,e)=>{var n=typeof e.width=="number"?e.width:wh;return{width:n,height:t.height}},L5=oe(Hn,Qs,M5),$X=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},FX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},qX=oe(Ws,Hn,VX,w0,N0,(t,e,n,r,a)=>{var l={},c;return n.forEach(d=>{var f=M5(e,d);c==null&&(c=$X(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;l[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),l}),HX=oe(Ys,Hn,zX,w0,N0,(t,e,n,r,a)=>{var l={},c;return n.forEach(d=>{var f=BX(e,d);c==null&&(c=FX(e,r,t));var h=r==="left"&&!a||r==="right"&&a;l[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),l}),GX=(t,e)=>{var n=Qs(t,e);if(n!=null)return qX(t,n.orientation,n.mirror)},KX=oe([Hn,Qs,GX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),YX=(t,e)=>{var n=Js(t,e);if(n!=null)return HX(t,n.orientation,n.mirror)},WX=oe([Hn,Js,YX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),U5=oe(Hn,Js,(t,e)=>{var n=typeof e.width=="number"?e.width:wh;return{width:n,height:t.height}}),OO=(t,e,n)=>{switch(e){case"xAxis":return L5(t,n).width;case"yAxis":return U5(t,n).height;default:return}},V5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=n,d=gc(t,r),f=e.map(h=>h.value);if(c&&d&&l==="category"&&a&&BP(f))return f}},Nj=oe([Nt,x0,dn,cn],V5),z5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,c=gc(t,r);if(c&&(a==="number"||l!=="auto"))return e.map(d=>d.value)}},_j=oe([Nt,x0,Ch,cn],z5),DO=oe([Nt,lX,sd,ld,Nj,_j,Dh,bj,cn],(t,e,n,r,a,l,c,d,f)=>{if(e!=null){var h=gc(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:l,duplicateDomain:a,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),XX=(t,e,n,r,a,l,c,d,f)=>{if(!(e==null||r==null)){var h=gc(t,f),{type:p,ticks:g,tickCount:x}=e,N=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/N:0;E=f==="angleAxis"&&l!=null&&l.length>=2?nr(l[0]-l[1])*2*E:E;var j=g||a;if(j){var _=j.map((O,R)=>{var M=c?c.indexOf(O):O;return{index:R,coordinate:r(M)+E,value:O,offset:E}});return _.filter(O=>jn(O.coordinate))}return h&&d?d.map((O,R)=>({coordinate:r(O)+E,value:O,index:R,offset:E})).filter(O=>jn(O.coordinate)):r.ticks?r.ticks(x).map(O=>({coordinate:r(O)+E,value:O,offset:E})):r.domain().map((O,R)=>({coordinate:r(O)+E,value:c?c[O]:O,index:R,offset:E}))}},B5=oe([Nt,Ch,sd,ld,bj,Dh,Nj,_j,cn],XX),QX=(t,e,n,r,a,l,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=gc(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&(r==null?void 0:r.length)>=2?nr(r[0]-r[1])*2*h:h,d&&l?l.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},Fu=oe([Nt,Ch,ld,Dh,Nj,_j,cn],QX),qu=oe(dn,ld,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})}),JX=oe([dn,sd,yj,P5],vj);oe((t,e,n)=>rj(t,n),JX,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})});var ZX=oe([Nt,Xy,Qy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),$5=t=>t.options.defaultTooltipEventType,F5=t=>t.options.validateTooltipEventTypes;function q5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function jj(t,e){var n=$5(t),r=F5(t);return q5(e,n,r)}function eQ(t){return $e(e=>jj(e,t))}var H5=(t,e)=>{var n,r=Number(e);if(!(li(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},tQ=t=>t.tooltip.settings,kl={active:!1,index:null,dataKey:void 0,coordinate:void 0},nQ={itemInteraction:{click:kl,hover:kl},axisInteraction:{click:kl,hover:kl},keyboardInteraction:kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},G5=Wr({name:"tooltip",initialState:nQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:rn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:rn()},removeTooltipEntrySettings:{reducer(t,e){var n=ii(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:rn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:rQ,replaceTooltipEntrySettings:aQ,removeTooltipEntrySettings:iQ,setTooltipSettingsState:sQ,setActiveMouseOverItemIndex:K5,mouseLeaveItem:lQ,mouseLeaveChart:Y5,setActiveClickItemIndex:oQ,setMouseOverAxisIndex:W5,setMouseClickAxisIndex:cQ,setSyncInteraction:tN,setKeyboardInteraction:nN}=G5.actions,uQ=G5.reducer;function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return(e=fQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fQ(t){var e=hQ(t,"string");return typeof e=="symbol"?e:e+""}function hQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function pQ(t){return t.index!=null}var X5=(t,e,n,r)=>{if(e==null)return kl;var a=mQ(t,e,n);if(a==null)return kl;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var l=t.settings.active===!0;if(pQ(a)){if(l)return Up(Up({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Up(Up({},kl),{},{coordinate:a.coordinate})};function gQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function yQ(t,e){var n=gQ(t),r=e[0],a=e[1];if(n===void 0)return!1;var l=Math.min(r,a),c=Math.max(r,a);return n>=l&&n<=c}function vQ(t,e,n){if(n==null||e==null)return!0;var r=an(t,e);return r==null||!Kl(n)?!0:yQ(r,n)}var Ej=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var l=Number(a);if(!jn(l))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(l,d)),h=e[f];return h==null||vQ(h,n,r)?String(f):null},Q5=(t,e,n,r,a,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],h=f==null?void 0:d(f.positions,l);if(h!=null)return h;var p=a==null?void 0:a[Number(l)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},J5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===a})},Rh=t=>t.options.tooltipPayloadSearcher,od=t=>t.tooltip;function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){xQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xQ(t,e,n){return(e=bQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bQ(t){var e=wQ(t,"string");return typeof e=="symbol"?e:e+""}function wQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NQ(t,e){return t??e}var Z5=(t,e,n,r,a,l,c)=>{if(!(e==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,N)=>{var E,{dataDefinedOnItem:j,settings:_}=N,O=NQ(j,d),R=Array.isArray(O)?Rk(O,h,p):O,M=(E=_==null?void 0:_.dataKey)!==null&&E!==void 0?E:r,T=_==null?void 0:_.nameKey,C;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&c==="axis"?C=S$(R,r,a):C=l(R,e,f,T),Array.isArray(C))C.forEach(P=>{var U=kO(kO({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push(rI({tooltipEntrySettings:U,dataKey:P.dataKey,payload:P.payload,value:an(P.payload,P.dataKey),name:P.name}))});else{var L;x.push(rI({tooltipEntrySettings:_,dataKey:M,payload:C,value:an(C,M),name:(L=an(C,T))!==null&&L!==void 0?L:_==null?void 0:_.name}))}return x},g)}},Sj=oe([Yn,Nt,b5,X_,Kn],D5),_Q=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),jQ=oe([Kn,ad],aj),Ph=oe([_Q,Yn,jQ],sj,{memoizeOptions:{resultEqualityCheck:v0}}),EQ=oe([Ph],t=>t.filter(g0)),SQ=oe([Ph],lj,{memoizeOptions:{resultEqualityCheck:v0}}),cd=oe([SQ,io],oj),AQ=oe([EQ,io,Yn],y5),Aj=oe([cd,Yn,Ph],uj),e6=oe([Yn],dj),TQ=oe([Yn],t=>t.allowDataOverflow),t6=oe([e6,TQ],YM),CQ=oe([Ph],t=>t.filter(g0)),IQ=oe([AQ,CQ,Ah,u5],j5),OQ=oe([IQ,io,Kn,t6],E5),DQ=oe([Ph],N5),RQ=oe([cd,Yn,DQ,b0,Kn],mj,{memoizeOptions:{resultEqualityCheck:y0}}),PQ=oe([S5,Kn,ad],id),kQ=oe([PQ,Kn],C5),MQ=oe([A5,Kn,ad],id),LQ=oe([MQ,Kn],I5),UQ=oe([T5,Kn,ad],id),VQ=oe([UQ,Kn],O5),zQ=oe([kQ,VQ,LQ],Zg),BQ=oe([Yn,e6,t6,OQ,RQ,zQ,Nt,Kn],pj),kh=oe([Yn,Nt,cd,Aj,Ah,Kn,BQ],gj),$Q=oe([kh,Yn,Sj],xj),FQ=oe([Yn,kh,$Q,Kn],wj),n6=t=>{var e=Kn(t),n=ad(t),r=!1;return Dh(t,e,n,r)},r6=oe([Yn,n6],m0),a6=oe([Yn,Sj,FQ,r6],vj),qQ=oe([Nt,Aj,Yn,Kn],V5),HQ=oe([Nt,Aj,Yn,Kn],z5),GQ=(t,e,n,r,a,l,c,d)=>{if(e){var{type:f}=e,h=gc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?nr(a[0]-a[1])*2*g:g,h&&c?c.map((x,N)=>({coordinate:r(x)+g,value:x,index:N,offset:g})):r.domain().map((x,N)=>({coordinate:r(x)+g,value:l?l[x]:x,index:N,offset:g}))}}},Zs=oe([Nt,Yn,Sj,a6,n6,qQ,HQ,Kn],GQ),Tj=oe([$5,F5,tQ],(t,e,n)=>q5(n.shared,t,e)),i6=t=>t.tooltip.settings.trigger,Cj=t=>t.tooltip.settings.defaultIndex,_0=oe([od,Tj,i6,Cj],X5),lc=oe([_0,cd,Oh,kh],Ej),s6=oe([Zs,lc],H5),l6=oe([_0],t=>{if(t)return t.dataKey}),o6=oe([od,Tj,i6,Cj],J5),KQ=oe([Ys,Ws,Nt,Hn,Zs,Cj,o6,Rh],Q5),YQ=oe([_0,KQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),WQ=oe([_0],t=>t.active),XQ=oe([o6,lc,io,Oh,s6,Rh,Tj],Z5);oe([XQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){QQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QQ(t,e,n){return(e=JQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JQ(t){var e=ZQ(t,"string");return typeof e=="symbol"?e:e+""}function ZQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eJ=()=>$e(Yn),tJ=()=>{var t=eJ(),e=$e(Zs),n=$e(a6);return Dg(!t||!n?void 0:LO(LO({},t),{},{scale:n}),e)};function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){nJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nJ(t,e,n){return(e=rJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rJ(t){var e=aJ(t,"string");return typeof e=="symbol"?e:e+""}function aJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iJ=(t,e,n,r)=>{var a=e.find(l=>l&&l.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},sJ=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var l=a.coordinate,{radius:c}=r;return hu(hu(hu({},r),Ln(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=a.coordinate,{angle:f}=r;return hu(hu(hu({},r),Ln(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function lJ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var c6=(t,e,n,r,a)=>{var l,c=-1,d=(l=e==null?void 0:e.length)!==null&&l!==void 0?l:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(nr(p-h)!==nr(g-p)){var N=[];if(nr(g-p)===nr(a[1]-a[0])){x=g;var E=p+a[1]-a[0];N[0]=Math.min(E,(E+h)/2),N[1]=Math.max(E,(E+h)/2)}else{x=h;var j=g+a[1]-a[0];N[0]=Math.min(p,(j+p)/2),N[1]=Math.max(p,(j+p)/2)}var _=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>_[0]&&t<=_[1]||t>=N[0]&&t<=N[1]){({index:c}=n[f]);break}}else{var O=Math.min(h,g),R=Math.max(h,g);if(t>(O+p)/2&&t<=(R+p)/2){({index:c}=n[f]);break}}}else if(e){for(var M=0;M<d;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<d-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===d-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:c}=e[M]);break}}return c},oJ=()=>$e(X_),Ij=(t,e)=>e,u6=(t,e,n)=>n,Oj=(t,e,n,r)=>r,cJ=oe(Zs,t=>zy(t,e=>e.coordinate)),Dj=oe([od,Ij,u6,Oj],X5),Rj=oe([Dj,cd,Oh,kh],Ej),uJ=(t,e,n)=>{if(e!=null){var r=od(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},d6=oe([od,Ij,u6,Oj],J5),ey=oe([Ys,Ws,Nt,Hn,Zs,Oj,d6,Rh],Q5),dJ=oe([Dj,ey],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),f6=oe([Zs,Rj],H5),fJ=oe([d6,Rj,io,Oh,f6,Rh,Ij],Z5),hJ=oe([Dj,Rj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),mJ=(t,e,n,r,a,l,c)=>{if(!(!t||!n||!r||!a)&&lJ(t,c)){var d=Zq(t,e),f=c6(d,l,a,n,r),h=iJ(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},pJ=(t,e,n,r,a,l,c)=>{if(!(!t||!r||!a||!l||!n)){var d=eK(t,n);if(d){var f=eH(d,e),h=c6(f,c,l,r,a),p=sJ(e,l,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},gJ=(t,e,n,r,a,l,c,d)=>{if(!(!t||!e||!r||!a||!l))return e==="horizontal"||e==="vertical"?mJ(t,e,r,a,l,c,d):pJ(t,e,n,r,a,l,c)},yJ=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),vJ=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(gr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:nX}});function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){xJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xJ(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=wJ(t,"string");return typeof e=="symbol"?e:e+""}function wJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NJ={},_J={zIndexMap:Object.values(gr).reduce((t,e)=>zO(zO({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),NJ)},jJ=new Set(Object.values(gr));function EJ(t){return jJ.has(t)}var h6=Wr({name:"zIndex",initialState:_J,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:rn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!EJ(n)&&delete t.zIndexMap[n])},prepare:rn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:rn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:rn()}}}),{registerZIndexPortal:SJ,unregisterZIndexPortal:AJ,registerZIndexPortalId:TJ,unregisterZIndexPortalId:CJ}=h6.actions,IJ=h6.reducer;function fi(t){var{zIndex:e,children:n}=t,r=IH(),a=r&&e!==void 0&&e!==0,l=Xr(),c=on();w.useLayoutEffect(()=>a?(c(SJ({zIndex:e})),()=>{c(AJ({zIndex:e}))}):yh,[c,e,a]);var d=$e(h=>yJ(h,e,l));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?rP.createPortal(n,f):null}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rN.apply(null,arguments)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){OJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OJ(t,e,n){return(e=DJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=RJ(t,"string");return typeof e=="symbol"?e:e+""}function RJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function kJ(t){var e,{coordinate:n,payload:r,index:a,offset:l,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,N=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,j,_;if(p==="ScatterChart")E=g,j=gG,_=gr.cursorLine;else if(p==="BarChart")E=yG(d,g,l,c),j=oM,_=gr.cursorRectangle;else if(d==="radial"&&qP(g)){var{cx:O,cy:R,radius:M,startAngle:T,endAngle:C}=uM(g);E={cx:O,cy:R,startAngle:T,endAngle:C,innerRadius:M,outerRadius:M},j=fM,_=gr.cursorLine}else E={points:aK(d,g,l)},j=N_,_=gr.cursorLine;var L=typeof f=="object"&&"className"in f?f.className:void 0,P=Vp(Vp(Vp(Vp({stroke:"#ccc",pointerEvents:"none"},l),E),$f(f)),{},{payload:x,payloadIndex:N,className:zt("recharts-tooltip-cursor",L)});return w.createElement(fi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},w.createElement(PJ,{cursor:f,cursorComp:j,cursorProps:P}))}function MJ(t){var e=tJ(),n=qk(),r=t0(),a=oJ();return e==null||n==null||r==null||a==null?null:w.createElement(kJ,rN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var m6=w.createContext(null),LJ=()=>w.useContext(m6),Sw={exports:{}},$O;function UJ(){return $O||($O=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function l(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var N=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],N]:f._events[E].push(N):(f._events[E]=N,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,N=g.length,E=new Array(N);x<N;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,N,E){var j=n?n+h:h;if(!this._events[j])return!1;var _=this._events[j],O=arguments.length,R,M;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),O){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,g),!0;case 4:return _.fn.call(_.context,p,g,x),!0;case 5:return _.fn.call(_.context,p,g,x,N),!0;case 6:return _.fn.call(_.context,p,g,x,N,E),!0}for(M=1,R=new Array(O-1);M<O;M++)R[M-1]=arguments[M];_.fn.apply(_.context,R)}else{var T=_.length,C;for(M=0;M<T;M++)switch(_[M].once&&this.removeListener(h,_[M].fn,void 0,!0),O){case 1:_[M].fn.call(_[M].context);break;case 2:_[M].fn.call(_[M].context,p);break;case 3:_[M].fn.call(_[M].context,p,g);break;case 4:_[M].fn.call(_[M].context,p,g,x);break;default:if(!R)for(C=1,R=new Array(O-1);C<O;C++)R[C-1]=arguments[C];_[M].fn.apply(_[M].context,R)}}return!0},d.prototype.on=function(h,p,g){return l(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return l(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var N=n?n+h:h;if(!this._events[N])return this;if(!p)return c(this,N),this;var E=this._events[N];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&c(this,N);else{for(var j=0,_=[],O=E.length;j<O;j++)(E[j].fn!==p||x&&!E[j].once||g&&E[j].context!==g)&&_.push(E[j]);_.length?this._events[N]=_.length===1?_[0]:_:c(this,N)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(Sw)),Sw.exports}var VJ=UJ();const zJ=Zi(VJ);var nh=new zJ,aN="recharts.syncEvent.tooltip",FO="recharts.syncEvent.brush";function p6(t,e){if(e){var n=Number.parseInt(e,10);if(!li(n))return t==null?void 0:t[n]}}var BJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},g6=Wr({name:"options",initialState:BJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$J=g6.reducer,{createEventEmitter:FJ}=g6.actions;function qJ(t){return t.tooltip.syncInteraction}var HJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},y6=Wr({name:"chartData",initialState:HJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:qO,setDataStartEndIndexes:GJ,setComputedData:Uge}=y6.actions,KJ=y6.reducer,YJ=["x","y"];function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){WJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJ(t,e,n){return(e=XJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XJ(t){var e=QJ(t,"string");return typeof e=="symbol"?e:e+""}function QJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JJ(t,e){if(t==null)return{};var n,r,a=ZJ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ZJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eZ(){var t=$e(Q_),e=$e(J_),n=on(),r=$e(d5),a=$e(Zs),l=t0(),c=e0(),d=$e(f=>f.rootProps.className);w.useEffect(()=>{if(t==null)return yh;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(c&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var N=p.payload.coordinate,{x:E,y:j}=N,_=JJ(N,YJ),{x:O,y:R,width:M,height:T}=p.payload.sourceViewBox,C=mu(mu({},_),{},{x:c.x+(M?(E-O)/M:0)*c.width,y:c.y+(T?(j-R)/T:0)*c.height});n(mu(mu({},p),{},{payload:mu(mu({},p.payload),{},{coordinate:C})}))}else n(p);return}if(a!=null){var L;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},U=r(a,P);L=a[U]}else r==="value"&&(L=a.find(G=>String(G.value)===p.payload.label));var{coordinate:$}=p.payload;if(L==null||p.payload.active===!1||$==null||c==null){n(tN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:A,y:D}=$,z=Math.min(A,c.x+c.width),B=Math.min(D,c.y+c.height),ge={x:l==="horizontal"?L.coordinate:z,y:l==="horizontal"?B:L.coordinate},re=tN({active:p.payload.active,coordinate:ge,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(re)}}};return nh.on(aN,f),()=>{nh.off(aN,f)}},[d,n,e,t,r,a,l,c])}function tZ(){var t=$e(Q_),e=$e(J_),n=on();w.useEffect(()=>{if(t==null)return yh;var r=(a,l,c)=>{e!==c&&t===a&&n(GJ(l))};return nh.on(FO,r),()=>{nh.off(FO,r)}},[n,e,t])}function nZ(){var t=on();w.useEffect(()=>{t(FJ())},[t]),eZ(),tZ()}function rZ(t,e,n,r,a,l){var c=$e(N=>uJ(N,t,e)),d=$e(J_),f=$e(Q_),h=$e(d5),p=$e(qJ),g=p==null?void 0:p.active,x=e0();w.useEffect(()=>{if(!g&&f!=null&&d!=null){var N=tN({active:l,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});nh.emit(aN,f,N,d)}},[g,n,c,a,r,d,f,h,l,x])}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){aZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lZ(t){return t.dataKey}function oZ(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(YH,e)}var YO=[],cZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!yc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function v6(t){var e,n,r=Sr(t,cZ),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:N,reverseDirection:E,useTranslate3d:j,wrapperStyle:_,cursor:O,shared:R,trigger:M,defaultIndex:T,portal:C,axisId:L}=r,P=on(),U=typeof T=="number"?String(T):T;w.useEffect(()=>{P(sQ({shared:R,trigger:M,axisId:L,active:a,defaultIndex:U}))},[P,R,M,L,a,U]);var $=e0(),A=rM(),D=eQ(R),{activeIndex:z,isActive:B}=(e=$e(De=>hJ(De,D,M,U)))!==null&&e!==void 0?e:{},ge=$e(De=>fJ(De,D,M,U)),re=$e(De=>f6(De,D,M,U)),G=$e(De=>dJ(De,D,M,U)),Y=ge,H=LJ(),he=(n=a??B)!==null&&n!==void 0?n:!1,[X,V]=LF([Y,he]),W=D==="axis"?re:void 0;rZ(D,M,G,W,z,he);var pe=C??H;if(pe==null||$==null||D==null)return null;var Z=Y??YO;he||(Z=YO),h&&Z.length&&(Z=cF(Z.filter(De=>De.value!=null&&(De.hide!==!0||r.includeHidden)),x,lZ));var xe=Z.length>0,Te=w.createElement(tG,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:p,active:he,coordinate:G,hasPayload:xe,offset:g,position:N,reverseDirection:E,useTranslate3d:j,viewBox:$,wrapperStyle:_,lastBoundingBox:X,innerRef:V,hasPortalFromProps:!!C},oZ(f,KO(KO({},r),{},{payload:Z,label:W,active:he,activeIndex:z,coordinate:G,accessibilityLayer:A})));return w.createElement(w.Fragment,null,rP.createPortal(Te,pe),he&&w.createElement(MJ,{cursor:O,tooltipEventType:D,coordinate:G,payload:Z,index:z}))}var Mh=t=>null;Mh.displayName="Cell";function uZ(t,e,n){return(e=dZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hZ{constructor(e){uZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vZ={cacheSize:2e3,enableCache:!0},x6=mZ({},vZ),XO=new hZ(x6.cacheSize),xZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QO="recharts_measurement_span";function bZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",l=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(d)}var JO=(t,e)=>{try{var n=document.getElementById(QO);n||(n=document.createElement("span"),n.setAttribute("id",QO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,xZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yc.isSsr)return{width:0,height:0};if(!x6.enableCache)return JO(e,n);var r=bZ(e,n),a=XO.get(r);if(a)return a;var l=JO(e,n);return XO.set(r,l),l},ZO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,b6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Z=Object.keys(b6),ju="NaN";function jZ(t,e){return t*b6[e]}class Br{static parse(e){var n,[,r,a]=(n=NZ.exec(e))!==null&&n!==void 0?n:[];return new Br(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,li(e)&&(this.unit=""),n!==""&&!wZ.test(n)&&(this.num=NaN,this.unit=""),_Z.includes(n)&&(this.num=jZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Br(NaN,""):new Br(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Br(NaN,""):new Br(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Br(NaN,""):new Br(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Br(NaN,""):new Br(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return li(this.num)}}function w6(t){if(t.includes(ju))return ju;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,l]=(n=ZO.exec(e))!==null&&n!==void 0?n:[],c=Br.parse(r??""),d=Br.parse(l??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return ju;e=e.replace(ZO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=eD.exec(e))!==null&&h!==void 0?h:[],N=Br.parse(p??""),E=Br.parse(x??""),j=g==="+"?N.add(E):N.subtract(E);if(j.isNaN())return ju;e=e.replace(eD,j.toString())}return e}var tD=/\(([^()]*)\)/;function EZ(t){for(var e=t,n;(n=tD.exec(e))!=null;){var[,r]=n;e=e.replace(tD,w6(r))}return e}function SZ(t){var e=t.replace(/\s+/g,"");return e=EZ(e),e=w6(e),e}function AZ(t){try{return SZ(t)}catch{return ju}}function Aw(t){var e=AZ(t.slice(5,-1));return e===ju?"":e}var TZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],CZ=["dx","dy","angle","className","breakAll"];function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iN.apply(null,arguments)}function nD(t,e){if(t==null)return{};var n,r,a=IZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function IZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N6=/[ \f\n\r\t\v\u2028\u2029]+/,_6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];ir(e)||(n?a=e.toString().split(""):a=e.toString().split(N6));var l=a.map(d=>({word:d,width:Pf(d,r).width})),c=n?0:Pf("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function OZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var j6=(t,e,n,r)=>t.reduce((a,l)=>{var{word:c,width:d}=l,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};a.push(h)}return a},[]),E6=t=>t.reduce((e,n)=>e.width>n.width?e:n),DZ="",rD=(t,e,n,r,a,l,c,d)=>{var f=t.slice(0,e),h=_6({breakAll:n,style:r,children:f+DZ});if(!h)return[!1,[]];var p=j6(h.wordsWithComputedWidth,l,c,d),g=p.length>a||E6(p).width>Number(l);return[g,p]},RZ=(t,e,n,r,a)=>{var{maxLines:l,children:c,style:d,breakAll:f}=t,h=Be(l),p=String(c),g=j6(e,r,n,a);if(!h||a)return g;var x=g.length>l||E6(g).width>Number(r);if(!x)return g;for(var N=0,E=p.length-1,j=0,_;N<=E&&j<=p.length-1;){var O=Math.floor((N+E)/2),R=O-1,[M,T]=rD(p,R,f,d,l,r,n,a),[C]=rD(p,O,f,d,l,r,n,a);if(!M&&!C&&(N=O+1),M&&C&&(E=O-1),!M&&C){_=T;break}j++}return _||g},aD=t=>{var e=ir(t)?[]:t.toString().split(N6);return[{words:e,width:void 0}]},PZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:c}=t;if((e||n)&&!yc.isSsr){var d,f,h=_6({breakAll:l,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return aD(r);return RZ({breakAll:l,children:r,maxLines:c,style:a},d,f,e,!!n)}return aD(r)},S6="#808080",kZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:S6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},j0=w.forwardRef((t,e)=>{var n=Sr(t,kZ),{x:r,y:a,lineHeight:l,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=nD(n,TZ),x=w.useMemo(()=>PZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:N,dy:E,angle:j,className:_,breakAll:O}=g,R=nD(g,CZ);if(!Ki(r)||!Ki(a)||x.length===0)return null;var M=Number(r)+(Be(N)?N:0),T=Number(a)+(Be(E)?E:0);if(!jn(M)||!jn(T))return null;var C;switch(p){case"start":C=Aw("calc(".concat(c,")"));break;case"middle":C=Aw("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:C=Aw("calc(".concat(x.length-1," * -").concat(l,")"));break}var L=[];if(f){var P=x[0].width,{width:U}=g;L.push("scale(".concat(Be(U)&&Be(P)?U/P:1,")"))}return j&&L.push("rotate(".concat(j,", ").concat(M,", ").concat(T,")")),L.length&&(R.transform=L.join(" ")),w.createElement("text",iN({},Ra(R),{ref:e,x:M,y:T,className:zt("recharts-text",_),textAnchor:h,fill:d.includes("url")?S6:d}),x.map(($,A)=>{var D=$.words.join(O?"":" ");return w.createElement("tspan",{x:M,dy:A===0?C:l,key:"".concat(D,"-").concat(A)},D)}))});j0.displayName="Text";var MZ=["labelRef"];function LZ(t,e){if(t==null)return{};var n,r,a=UZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function UZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){VZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VZ(t,e,n){return(e=zZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=BZ(t,"string");return typeof e=="symbol"?e:e+""}function BZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}var A6=w.createContext(null),$Z=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:l,height:c,children:d}=t,f=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:l,height:c}),[e,n,r,a,l,c]);return w.createElement(A6.Provider,{value:f},d)},T6=()=>{var t=w.useContext(A6),e=e0();return t||Fk(e)},FZ=w.createContext(null),qZ=()=>{var t=w.useContext(FZ),e=$e(g5);return t||e},HZ=t=>{var{value:e,formatter:n}=t,r=ir(t.children)?e:t.children;return typeof n=="function"?n(r):r},Pj=t=>t!=null&&typeof t=="function",GZ=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},KZ=(t,e,n,r,a)=>{var{offset:l,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:N}=a,E=(h+p)/2,j=GZ(g,x),_=j>=0?1:-1,O,R;switch(e){case"insideStart":O=g+_*l,R=N;break;case"insideEnd":O=x-_*l,R=!N;break;case"end":O=x+_*l,R=N;break;default:throw new Error("Unsupported position ".concat(e))}R=j<=0?R:!R;var M=Ln(d,f,E,O),T=Ln(d,f,E,O+(R?1:-1)*359),C="M".concat(M.x,",").concat(M.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(T.x,",").concat(T.y),L=ir(t.id)?Ff("recharts-radial-line-"):t.id;return w.createElement("text",js({},r,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",c)}),w.createElement("defs",null,w.createElement("path",{id:L,d:C})),w.createElement("textPath",{xlinkHref:"#".concat(L)},n))},YZ=(t,e,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Ln(r,a,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,{x:N,y:E}=Ln(r,a,x,h);return{x:N,y:E,textAnchor:"middle",verticalAnchor:"middle"}},sN=t=>"cx"in t&&Be(t.cx),WZ=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,l;n!=null&&!sN(n)&&(l=n);var{x:c,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=c,x=c+(f-h)/2,N=(g+x)/2,E=(f+h)/2,j=g+f/2,_=p>=0?1:-1,O=_*r,R=_>0?"end":"start",M=_>0?"start":"end",T=f>=0?1:-1,C=T*r,L=T>0?"end":"start",P=T>0?"start":"end";if(a==="top"){var U={x:g+f/2,y:d-O,textAnchor:"middle",verticalAnchor:R};return wn(wn({},U),l?{height:Math.max(d-l.y,0),width:f}:{})}if(a==="bottom"){var $={x:x+h/2,y:d+p+O,textAnchor:"middle",verticalAnchor:M};return wn(wn({},$),l?{height:Math.max(l.y+l.height-(d+p),0),width:h}:{})}if(a==="left"){var A={x:N-C,y:d+p/2,textAnchor:L,verticalAnchor:"middle"};return wn(wn({},A),l?{width:Math.max(A.x-l.x,0),height:p}:{})}if(a==="right"){var D={x:N+E+C,y:d+p/2,textAnchor:P,verticalAnchor:"middle"};return wn(wn({},D),l?{width:Math.max(l.x+l.width-D.x,0),height:p}:{})}var z=l?{width:E,height:p}:{};return a==="insideLeft"?wn({x:N+C,y:d+p/2,textAnchor:P,verticalAnchor:"middle"},z):a==="insideRight"?wn({x:N+E-C,y:d+p/2,textAnchor:L,verticalAnchor:"middle"},z):a==="insideTop"?wn({x:g+f/2,y:d+O,textAnchor:"middle",verticalAnchor:M},z):a==="insideBottom"?wn({x:x+h/2,y:d+p-O,textAnchor:"middle",verticalAnchor:R},z):a==="insideTopLeft"?wn({x:g+C,y:d+O,textAnchor:P,verticalAnchor:M},z):a==="insideTopRight"?wn({x:g+f-C,y:d+O,textAnchor:L,verticalAnchor:M},z):a==="insideBottomLeft"?wn({x:x+C,y:d+p-O,textAnchor:P,verticalAnchor:R},z):a==="insideBottomRight"?wn({x:x+h-C,y:d+p-O,textAnchor:L,verticalAnchor:R},z):a&&typeof a=="object"&&(Be(a.x)||Ms(a.x))&&(Be(a.y)||Ms(a.y))?wn({x:c+jr(a.x,E),y:d+jr(a.y,p),textAnchor:"end",verticalAnchor:"end"},z):wn({x:j,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},z)},XZ={angle:0,offset:5,zIndex:gr.label,position:"middle",textBreakAll:!1};function Pl(t){var e=Sr(t,XZ),{viewBox:n,position:r,value:a,children:l,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=qZ(),g=T6(),x=r==="center"?g:p??g,N,E,j;if(n==null?N=x:sN(n)?N=n:N=Fk(n),!N||ir(a)&&ir(l)&&!w.isValidElement(c)&&typeof c!="function")return null;var _=wn(wn({},e),{},{viewBox:N});if(w.isValidElement(c)){var{labelRef:O}=_,R=LZ(_,MZ);return w.cloneElement(c,R)}if(typeof c=="function"){if(E=w.createElement(c,_),w.isValidElement(E))return E}else E=HZ(e);var M=Ra(e);if(sN(N)){if(r==="insideStart"||r==="insideEnd"||r==="end")return KZ(e,r,E,M,N);j=YZ(N,e.offset,e.position)}else j=WZ(e,N);return w.createElement(fi,{zIndex:e.zIndex},w.createElement(j0,js({ref:h,className:zt("recharts-label",d)},M,j,{textAnchor:OZ(M.textAnchor)?M.textAnchor:j.textAnchor,breakAll:f}),E))}Pl.displayName="Label";var QZ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Pl,js({key:"label-implicit"},r)):Ki(t)?w.createElement(Pl,js({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Pl?w.cloneElement(t,wn({key:"label-implicit"},r)):w.createElement(Pl,js({key:"label-implicit",content:t},r)):Pj(t)?w.createElement(Pl,js({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Pl,js({},t,{key:"label-implicit"},r)):null};function JZ(t){var{label:e,labelRef:n}=t,r=T6();return QZ(e,r,n)||null}var Tw={},Cw={},sD;function ZZ(){return sD||(sD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Cw)),Cw}var Iw={},lD;function eee(){return lD||(lD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Iw)),Iw}var oD;function tee(){return oD||(oD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZZ(),n=eee(),r=o_();function a(l){if(r.isArrayLike(l))return e.last(n.toArray(l))}t.last=a})(Tw)),Tw}var Ow,cD;function nee(){return cD||(cD=1,Ow=tee().last),Ow}var ree=nee();const aee=Zi(ree);var iee=["valueAccessor"],see=["dataKey","clockWise","id","textBreakAll","zIndex"];function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(null,arguments)}function uD(t,e){if(t==null)return{};var n,r,a=lee(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oee=t=>Array.isArray(t.value)?aee(t.value):t.value,C6=w.createContext(void 0),cee=C6.Provider,I6=w.createContext(void 0),uee=I6.Provider;function dee(){return w.useContext(C6)}function fee(){return w.useContext(I6)}function ig(t){var{valueAccessor:e=oee}=t,n=uD(t,iee),{dataKey:r,clockWise:a,id:l,textBreakAll:c,zIndex:d}=n,f=uD(n,see),h=dee(),p=fee(),g=h||p;return!g||!g.length?null:w.createElement(fi,{zIndex:d??gr.label},w.createElement(Dr,{className:"recharts-label-list"},g.map((x,N)=>{var E,j=ir(r)?e(x,N):an(x&&x.payload,r),_=ir(l)?{}:{id:"".concat(l,"-").concat(N)};return w.createElement(Pl,ty({key:"label-".concat(N)},Ra(x),f,_,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:j,textBreakAll:c,viewBox:x.viewBox,index:N,zIndex:0}))})))}ig.displayName="LabelList";function O6(t){var{label:e}=t;return e?e===!0?w.createElement(ig,{key:"labelList-implicit"}):w.isValidElement(e)||Pj(e)?w.createElement(ig,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(ig,ty({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var D6=t=>t.graphicalItems.polarItems,hee=oe([cn,Th],aj),E0=oe([D6,dn,hee],sj),mee=oe([E0],lj),S0=oe([mee,G_],oj),pee=oe([S0,dn,E0],uj);oe([S0,dn,E0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var l,c=an(r,(l=e.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:an(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var dD=()=>{},gee=oe([S0,dn,E0,b0,cn],mj),yee=oe([dn,fj,hj,dD,gee,dD,Nt,cn],pj),R6=oe([dn,Nt,S0,pee,Ah,cn,yee],gj),vee=oe([R6,dn,sd],xj);oe([dn,R6,vee,cn],wj);var xee={radiusAxis:{},angleAxis:{}},P6=Wr({name:"polarAxis",initialState:xee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Vge,removeRadiusAxis:zge,addAngleAxis:Bge,removeAngleAxis:$ge}=P6.actions,bee=P6.reducer;function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){wee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e,n){return(e=Nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=_ee(t,"string");return typeof e=="symbol"?e:e+""}function _ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jee=(t,e)=>e,kj=oe([D6,jee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Eee=[],Mj=(t,e,n)=>(n==null?void 0:n.length)===0?Eee:n,k6=oe([G_,kj,Mj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(l=>hD(hD({},e.presentationProps),l.props))),a!=null)return a}}),See=oe([k6,kj,Mj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var l,c=an(r,e.nameKey,e.name),d;return n!=null&&(l=n[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Wy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),Aee=oe([k6,kj,Mj,Hn],(t,e,n,r)=>{if(!(e==null||t==null))return Ite({offset:r,pieSettings:e,displayedData:t,cells:n})}),Dw={exports:{}},Ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function Tee(){if(mD)return Ut;mD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function E(j){if(typeof j=="object"&&j!==null){var _=j.$$typeof;switch(_){case t:switch(j=j.type,j){case n:case a:case r:case f:case h:case x:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case g:case p:return j;case l:return j;default:return _}}case e:return _}}}return Ut.ContextConsumer=l,Ut.ContextProvider=c,Ut.Element=t,Ut.ForwardRef=d,Ut.Fragment=n,Ut.Lazy=g,Ut.Memo=p,Ut.Portal=e,Ut.Profiler=a,Ut.StrictMode=r,Ut.Suspense=f,Ut.SuspenseList=h,Ut.isContextConsumer=function(j){return E(j)===l},Ut.isContextProvider=function(j){return E(j)===c},Ut.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},Ut.isForwardRef=function(j){return E(j)===d},Ut.isFragment=function(j){return E(j)===n},Ut.isLazy=function(j){return E(j)===g},Ut.isMemo=function(j){return E(j)===p},Ut.isPortal=function(j){return E(j)===e},Ut.isProfiler=function(j){return E(j)===a},Ut.isStrictMode=function(j){return E(j)===r},Ut.isSuspense=function(j){return E(j)===f},Ut.isSuspenseList=function(j){return E(j)===h},Ut.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===a||j===r||j===f||j===h||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===p||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===N||j.getModuleId!==void 0)},Ut.typeOf=E,Ut}var pD;function Cee(){return pD||(pD=1,Dw.exports=Tee()),Dw.exports}var Iee=Cee(),gD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",yD=null,Rw=null,M6=t=>{if(t===yD&&Array.isArray(Rw))return Rw;var e=[];return w.Children.forEach(t,n=>{ir(n)||(Iee.isFragment(n)?e=e.concat(M6(n.props.children)):e.push(n))}),Rw=e,yD=t,e};function Lj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>gD(a)):r=[gD(e)],M6(t).forEach(a=>{var l=rc(a,"type.displayName")||rc(a,"type.name");l&&r.indexOf(l)!==-1&&n.push(a)}),n}var Pw={},vD;function Oee(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Pw)),Pw}var kw,xD;function Dee(){return xD||(xD=1,kw=Oee().isPlainObject),kw}var Ree=Dee();const Pee=Zi(Ree);function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kee(t,e,n){return(e=Mee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}var ND=(t,e,n,r,a)=>{var l=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-l/2,",").concat(e+a),c+="L ".concat(t+n-l/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},Uee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vee=t=>{var e=Sr(t,Uee),{x:n,y:r,upperWidth:a,lowerWidth:l,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=w.useRef(null),[N,E]=w.useState(-1),j=w.useRef(a),_=w.useRef(l),O=w.useRef(c),R=w.useRef(n),M=w.useRef(r),T=l0(t,"trapezoid-");if(w.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var ge=x.current.getTotalLength();ge&&E(ge)}catch{}},[]),n!==+n||r!==+r||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var C=zt("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",ny({},Ra(e),{className:C,d:ND(n,r,a,l,c)})));var L=j.current,P=_.current,U=O.current,$=R.current,A=M.current,D="0px ".concat(N===-1?1:N,"px"),z="".concat(N,"px 0px"),B=aM(["strokeDasharray"],h,f);return w.createElement(s0,{animationId:T,key:T,canBegin:N>0,duration:h,easing:f,isActive:g,begin:p},ge=>{var re=Bn(L,a,ge),G=Bn(P,l,ge),Y=Bn(U,c,ge),H=Bn($,n,ge),he=Bn(A,r,ge);x.current&&(j.current=re,_.current=G,O.current=Y,R.current=H,M.current=he);var X=ge>0?{transition:B,strokeDasharray:z}:{strokeDasharray:D};return w.createElement("path",ny({},Ra(e),{className:C,d:ND(H,he,re,G,Y),ref:x,style:wD(wD({},X),e.style)}))})},zee=["option","shapeType","propTransformer","activeClassName"];function Bee(t,e){if(t==null)return{};var n,r,a=$ee(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $ee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){Fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=Hee(t,"string");return typeof e=="symbol"?e:e+""}function Hee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gee(t,e){return ry(ry({},e),t)}function Kee(t,e){return t==="symbols"}function jD(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(oM,n);case"trapezoid":return w.createElement(Vee,n);case"sector":return w.createElement(fM,n);case"symbols":if(Kee(e))return w.createElement(FP,n);break;case"curve":return w.createElement(N_,n);default:return null}}function Yee(t){return w.isValidElement(t)?t.props:t}function L6(t){var{option:e,shapeType:n,propTransformer:r=Gee,activeClassName:a="recharts-active-shape"}=t,l=Bee(t,zee),c;if(w.isValidElement(e))c=w.cloneElement(e,ry(ry({},l),Yee(e)));else if(typeof e=="function")c=e(l);else if(Pee(e)&&typeof e!="boolean"){var d=r(e,l);c=w.createElement(jD,{shapeType:n,elementProps:d})}else{var f=l;c=w.createElement(jD,{shapeType:n,elementProps:f})}return l.isActive?w.createElement(Dr,{className:a},c):c}var Uj=(t,e)=>{var n=on();return(r,a)=>l=>{t==null||t(r,a,l),n(K5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Vj=t=>{var e=on();return(n,r)=>a=>{t==null||t(n,r,a),e(lQ())}},zj=(t,e)=>{var n=on();return(r,a)=>l=>{t==null||t(r,a,l),n(oQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function U6(t){var{tooltipEntrySettings:e}=t,n=on(),r=Xr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(rQ(e)):a.current!==e&&n(aQ({prev:a.current,next:e})),a.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{a.current&&(n(iQ(a.current)),a.current=null)},[n]),null}function Wee(t){var{legendPayload:e}=t,n=on(),r=Xr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(eM(e)):a.current!==e&&n(tM({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(nM(a.current)),a.current=null)},[n]),null}function Xee(t){var{legendPayload:e}=t,n=on(),r=$e(Nt),a=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(eM(e)):a.current!==e&&n(tM({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(nM(a.current)),a.current=null)},[n]),null}var Mw,Qee=()=>{var[t]=w.useState(()=>Ff("uid-"));return t},Jee=(Mw=t7.useId)!==null&&Mw!==void 0?Mw:Qee;function V6(t,e){var n=Jee();return e||(t?"".concat(t,"-").concat(n):n)}var Zee=w.createContext(void 0),z6=t=>{var{id:e,type:n,children:r}=t,a=V6("recharts-".concat(n),e);return w.createElement(Zee.Provider,{value:a},r(a))},ete={cartesianItems:[],polarItems:[]},B6=Wr({name:"graphicalItems",initialState:ete,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:rn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:rn()},removeCartesianGraphicalItem:{reducer(t,e){var n=ii(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:rn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:rn()},removePolarGraphicalItem:{reducer(t,e){var n=ii(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:rn()}}}),{addCartesianGraphicalItem:tte,replaceCartesianGraphicalItem:nte,removeCartesianGraphicalItem:rte,addPolarGraphicalItem:ate,removePolarGraphicalItem:ite}=B6.actions,ste=B6.reducer,lte=t=>{var e=on(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(tte(t)):n.current!==t&&e(nte({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(rte(n.current)),n.current=null)},[e]),null},ote=w.memo(lte);function cte(t){var e=on();return w.useLayoutEffect(()=>(e(ate(t)),()=>{e(ite(t))}),[e,t]),null}var ute=["key"],dte=["onMouseEnter","onClick","onMouseLeave"],fte=["id"],hte=["id"];function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){mte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mte(t,e,n){return(e=pte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pte(t){var e=gte(t,"string");return typeof e=="symbol"?e:e+""}function gte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(null,arguments)}function A0(t,e){if(t==null)return{};var n,r,a=yte(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vte(t){var e=w.useMemo(()=>Lj(t.children,Mh),[t.children]),n=$e(r=>See(r,t.id,e));return n==null?null:w.createElement(Xee,{legendPayload:n})}var xte=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:l,fill:c,dataKey:e,nameKey:n,name:Wy(d,e),hide:f,type:h,color:c,unit:""}};return w.createElement(U6,{tooltipEntrySettings:p})}),bte=(t,e)=>t>e?"start":t<e?"end":"middle",wte=(t,e,n)=>jr(typeof e=="function"?e(t):e,n,n*.8),Nte=(t,e,n)=>{var{top:r,left:a,width:l,height:c}=e,d=cM(l,c),f=a+jr(t.cx,l,l/2),h=r+jr(t.cy,c,c/2),p=jr(t.innerRadius,d,0),g=wte(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},_te=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function jte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Ete=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=zt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=A0(e,ute);return w.createElement(N_,Yl({},a,{type:"linear",className:n}))},Ste=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var a=zt("recharts-pie-label-text",jte(t));return w.createElement(j0,Yl({},e,{alignmentBaseline:"middle",className:a}),r)};function Ate(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:l,dataKey:c}=n;if(!r||!a||!e)return null;var d=si(n),f=$f(a),h=$f(l),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,N)=>{var E=(x.startAngle+x.endAngle)/2,j=Ln(x.cx,x.cy,x.outerRadius+p,E),_=mn(mn(mn(mn({},d),x),{},{stroke:"none"},f),{},{index:N,textAnchor:bte(j.x,x.cx)},j),O=mn(mn(mn(mn({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:N,points:[Ln(x.cx,x.cy,x.outerRadius,E),j],key:"line"});return w.createElement(fi,{zIndex:gr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(N)},w.createElement(Dr,null,l&&Ete(l,O),Ste(a,_,an(x,c))))});return w.createElement(Dr,{className:"recharts-pie-labels"},g)}function Tte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(O6,{label:a}):w.createElement(Ate,{sectors:e,props:n,showLabels:r})}function Cte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:l}=t,c=$e(lc),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=A0(a,dte),g=Uj(d,a.dataKey),x=Vj(h),N=zj(f,a.dataKey);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((E,j)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var _=String(j)===c,O=c?r:null,R=n&&_?n:O,M=mn(mn({},E),{},{stroke:E.stroke,tabIndex:-1,[Lk]:j,[Uk]:a.dataKey});return w.createElement(Dr,Yl({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},Vy(p,E,j),{onMouseEnter:g(E,j),onMouseLeave:x(E,j),onClick:N(E,j)}),w.createElement(L6,Yl({option:l??R,shapeType:"sector",isActive:_},M)))}))}function Ite(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:l}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),N=_te(d,f),E=Math.abs(N),j=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,_=r.filter(L=>an(L,h,0)!==0).length,O=(E>=360?_:_-1)*j,R=E-_*x-O,M=r.reduce((L,P)=>{var U=an(P,h,0);return L+(Be(U)?U:0)},0),T;if(M>0){var C;T=r.map((L,P)=>{var U=an(L,h,0),$=an(L,p,P),A=Nte(n,l,L),D=(Be(U)?U:0)/M,z,B=mn(mn({},L),a&&a[P]&&a[P].props);P?z=C.endAngle+nr(N)*j*(U!==0?1:0):z=d;var ge=z+nr(N)*((U!==0?x:0)+D*R),re=(z+ge)/2,G=(A.innerRadius+A.outerRadius)/2,Y=[{name:$,value:U,payload:B,dataKey:h,type:g}],H=Ln(A.cx,A.cy,G,re);return C=mn(mn(mn(mn({},n.presentationProps),{},{percent:D,cornerRadius:typeof c=="string"?parseFloat(c):c,name:$,tooltipPayload:Y,midAngle:re,middleRadius:G,tooltipPosition:H},B),A),{},{value:U,startAngle:z,endAngle:ge,payload:B,paddingAngle:nr(N)*j}),C})}return T}function Ote(t){var{showLabels:e,sectors:n,children:r}=t,a=w.useMemo(()=>!e||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,e]);return w.createElement(uee,{value:e?a:void 0},r)}function Dte(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=l0(e,"recharts-pie-"),N=n.current,[E,j]=w.useState(!1),_=w.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),O=w.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return w.createElement(Ote,{showLabels:!E,sectors:r},w.createElement(s0,{animationId:x,begin:l,duration:c,isActive:a,easing:d,onAnimationStart:O,onAnimationEnd:_,key:x},R=>{var M=[],T=r&&r[0],C=T==null?void 0:T.startAngle;return r==null||r.forEach((L,P)=>{var U=N&&N[P],$=P>0?rc(L,"paddingAngle",0):0;if(U){var A=Bn(U.endAngle-U.startAngle,L.endAngle-L.startAngle,R),D=mn(mn({},L),{},{startAngle:C+$,endAngle:C+A+$});M.push(D),C=D.endAngle}else{var{endAngle:z,startAngle:B}=L,ge=Bn(0,z-B,R),re=mn(mn({},L),{},{startAngle:C+$,endAngle:C+ge+$});M.push(re),C=re.endAngle}}),n.current=M,w.createElement(Dr,null,w.createElement(Cte,{sectors:M,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),w.createElement(Tte,{showLabels:!E,sectors:r,props:e}),e.children)}var Rte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!yc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gr.area};function Pte(t){var{id:e}=t,n=A0(t,fte),{hide:r,className:a,rootTabIndex:l}=t,c=w.useMemo(()=>Lj(t.children,Mh),[t.children]),d=$e(p=>Aee(p,e,c)),f=w.useRef(null),h=zt("recharts-pie",a);return r||d==null?(f.current=null,w.createElement(Dr,{tabIndex:l,className:h})):w.createElement(fi,{zIndex:t.zIndex},w.createElement(xte,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),w.createElement(Dr,{tabIndex:l,className:h},w.createElement(Dte,{props:mn(mn({},n),{},{sectors:d}),previousSectorsRef:f})))}function $6(t){var e=Sr(t,Rte),{id:n}=e,r=A0(e,hte),a=si(r);return w.createElement(z6,{id:n,type:"pie"},l=>w.createElement(w.Fragment,null,w.createElement(cte,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),w.createElement(vte,Yl({},r,{id:l})),w.createElement(Pte,Yl({},r,{id:l}))))}$6.displayName="Pie";function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return(e=Mte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=Lte(t,"string");return typeof e=="symbol"?e:e+""}function Lte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ute={xAxis:{},yAxis:{},zAxis:{}},F6=Wr({name:"cartesianAxis",initialState:Ute,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:rn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:rn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:rn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:rn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:rn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:rn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:rn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:rn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:rn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==a.width&&Math.abs(r-l[0])<=1)return;var c=[...l,r].slice(-3);t.yAxis[n]=AD(AD({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Vte,replaceXAxis:zte,removeXAxis:Bte,addYAxis:$te,replaceYAxis:Fte,removeYAxis:qte,addZAxis:Fge,replaceZAxis:qge,removeZAxis:Hge,updateYAxisWidth:Hte}=F6.actions,Gte=F6.reducer,Kte=oe([Hn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Yte=oe([Kte,Ys,Ws],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),q6=()=>$e(Yte),Wte="Invariant failed";function Xte(t,e){throw new Error(Wte)}var Qte=["x","y"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lN.apply(null,arguments)}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){Jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=ene(t,"string");return typeof e=="symbol"?e:e+""}function ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tne(t,e){if(t==null)return{};var n,r,a=nne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rne(t,e){var{x:n,y:r}=t,a=tne(t,Qte),l="".concat(n),c=parseInt(l,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return Af(Af(Af(Af(Af({},e),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function ay(t){return w.createElement(L6,lN({shapeType:"rectangle",propTransformer:rne,activeClassName:"recharts-active-bar"},t))}var ane=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Be(e))return e;var l=Be(r)||ir(r);return l?e(r,a):(l||Xte(),n)}},ine={},H6=Wr({name:"errorBars",initialState:ine,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?a:l))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Gge,replaceErrorBar:Kge,removeErrorBar:Yge}=H6.actions,sne=H6.reducer,lne=["children"];function one(t,e){if(t==null)return{};var n,r,a=cne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var une={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dne=w.createContext(une);function fne(t){var{children:e}=t,n=one(t,lne);return w.createElement(dne.Provider,{value:n},e)}function G6(t,e){var n,r,a=$e(h=>Qs(h,t)),l=$e(h=>Js(h,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Jn.allowDataOverflow,d=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function hne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=q6(),{needClipX:l,needClipY:c,needClip:d}=G6(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:l?f:f-p/2,y:c?h:h-g/2,width:l?p:p*2,height:c?g:g*2}))}function mne(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&jn(t.zIndex)?t.zIndex:e}var Lw={exports:{}},Uw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD;function pne(){if(CD)return Uw;CD=1;var t=Ju();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Uw.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var N=a(null);if(N.current===null){var E={hasValue:!1,value:null};N.current=E}else E=N.current;N=c(function(){function _(C){if(!O){if(O=!0,R=C,C=g(C),x!==void 0&&E.hasValue){var L=E.value;if(x(L,C))return M=L}return M=C}if(L=M,n(R,C))return L;var P=g(C);return x!==void 0&&x(L,P)?(R=C,L):(R=C,M=P)}var O=!1,R,M,T=p===void 0?null:p;return[function(){return _(h())},T===null?void 0:function(){return _(T())}]},[h,p,g,x]);var j=r(f,N[0],N[1]);return l(function(){E.hasValue=!0,E.value=j},[j]),d(j),j},Uw}var ID;function gne(){return ID||(ID=1,Lw.exports=pne()),Lw.exports}gne();function yne(t){t()}function vne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var OD={notify(){},get:()=>[]};function xne(t,e){let n,r=OD,a=0,l=!1;function c(j){p();const _=r.subscribe(j);let O=!1;return()=>{O||(O=!0,_(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return l}function p(){a++,n||(n=t.subscribe(f),r=vne())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=OD)}function x(){l||(l=!0,p())}function N(){l&&(l=!1,g())}const E={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:N,getListeners:()=>r};return E}var bne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wne=bne(),Nne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_ne=Nne(),jne=()=>wne||_ne?w.useLayoutEffect:w.useEffect,Ene=jne();function DD(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Sne(t,e){if(DD(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!DD(t[n[a]],e[n[a]]))return!1;return!0}var Vw=Symbol.for("react-redux-context"),zw=typeof globalThis<"u"?globalThis:{};function Ane(){if(!w.createContext)return{};const t=zw[Vw]??(zw[Vw]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Tne=Ane();function Cne(t){const{children:e,context:n,serverState:r,store:a}=t,l=w.useMemo(()=>{const f=xne(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=w.useMemo(()=>a.getState(),[a]);Ene(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||Tne;return w.createElement(d.Provider,{value:l},e)}var Ine=Cne,One=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Dne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Bj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(One.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Sne(t[r],e[r]))return!1}else if(!Dne(t[r],e[r]))return!1;return!0}var Rne=["onMouseEnter","onMouseLeave","onClick"],Pne=["value","background","tooltipPosition"],kne=["id"],Mne=["onMouseEnter","onClick","onMouseLeave"];function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(null,arguments)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){Lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lne(t,e,n){return(e=Une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Une(t){var e=Vne(t,"string");return typeof e=="symbol"?e:e+""}function Vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iy(t,e){if(t==null)return{};var n,r,a=zne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function zne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:l}=t;return[{inactive:l,dataKey:e,type:a,color:r,value:Wy(n,e),payload:t}]},$ne=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:l,hide:c,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Wy(l,e),hide:c,type:f,color:a,unit:d}};return w.createElement(U6,{tooltipEntrySettings:h})});function Fne(t){var e=$e(lc),{data:n,dataKey:r,background:a,allOtherBarProps:l}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,h=iy(l,Rne),p=Uj(c,r),g=Vj(d),x=zj(f,r);if(!a||n==null)return null;var N=$f(a);return w.createElement(fi,{zIndex:mne(a,gr.barBackground)},n.map((E,j)=>{var{value:_,background:O,tooltipPosition:R}=E,M=iy(E,Pne);if(!O)return null;var T=p(E,j),C=g(E,j),L=x(E,j),P=Cr(Cr(Cr(Cr(Cr({option:a,isActive:String(j)===e},M),{},{fill:"#eee"},O),N),Vy(h,E,j)),{},{onMouseEnter:T,onMouseLeave:C,onClick:L,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return w.createElement(ay,$s({key:"background-bar-".concat(j)},P))}))}function qne(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return Cr(Cr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return w.createElement(cee,{value:e?a:void 0},n)}function Hne(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:l,dataKey:c}=t,d=$e(lc),f=$e(l6),h=n&&String(l)===d&&(f==null||c===f),p=h?n:e;return h?w.createElement(fi,{zIndex:gr.activeBar},w.createElement(ay,$s({},r,{name:String(r.name)},a,{isActive:h,option:p,index:l,dataKey:c}))):w.createElement(ay,$s({},r,{name:String(r.name)},a,{isActive:h,option:p,index:l,dataKey:c}))}function Gne(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:l}=t;return w.createElement(ay,$s({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:l}))}function Kne(t){var e,{data:n,props:r}=t,a=(e=si(r))!==null&&e!==void 0?e:{},{id:l}=a,c=iy(a,kne),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,N=iy(r,Mne),E=Uj(p,f),j=Vj(x),_=zj(g,f);return n?w.createElement(w.Fragment,null,n.map((O,R)=>w.createElement(Dr,$s({key:"rectangle-".concat(O==null?void 0:O.x,"-").concat(O==null?void 0:O.y,"-").concat(O==null?void 0:O.value,"-").concat(R),className:"recharts-bar-rectangle"},Vy(N,O,R),{onMouseEnter:E(O,R),onMouseLeave:j(O,R),onClick:_(O,R)}),h?w.createElement(Hne,{shape:d,activeBar:h,baseProps:c,entry:O,index:R,dataKey:f}):w.createElement(Gne,{shape:d,baseProps:c,entry:O,index:R,dataKey:f})))):null}function Yne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=l0(e,"recharts-bar-"),[N,E]=w.useState(!1),j=!N,_=w.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),O=w.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return w.createElement(qne,{showLabels:j,rects:r},w.createElement(s0,{animationId:x,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:O,key:x},R=>{var M=R===1?r:r==null?void 0:r.map((T,C)=>{var L=g&&g[C];if(L)return Cr(Cr({},T),{},{x:Bn(L.x,T.x,R),y:Bn(L.y,T.y,R),width:Bn(L.width,T.width,R),height:Bn(L.height,T.height,R)});if(a==="horizontal"){var P=Bn(0,T.height,R),U=Bn(T.stackedBarStart,T.y,R);return Cr(Cr({},T),{},{y:U,height:P})}var $=Bn(0,T.width,R),A=Bn(T.stackedBarStart,T.x,R);return Cr(Cr({},T),{},{width:$,x:A})});return R>0&&(n.current=M??null),M==null?null:w.createElement(Dr,null,w.createElement(Kne,{props:e,data:M}))}),w.createElement(O6,{label:e.label}),e.children)}function Wne(t){var e=w.useRef(null);return w.createElement(Yne,{previousRectanglesRef:e,props:t})}var K6=0,Xne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:an(t,e)}};class Qne extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:l,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=zt("recharts-bar",a),g=h;return w.createElement(Dr,{className:p,id:h},d&&w.createElement("defs",null,w.createElement(hne,{clipPathId:g,xAxisId:l,yAxisId:c})),w.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Fne,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),w.createElement(Wne,this.props)))}}var Jne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:K6,xAxisId:0,yAxisId:0,zIndex:gr.bar};function Zne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=G6(e,n),x=t0(),N=Xr(),E=Lj(t.children,Mh),j=$e(R=>Are(R,e,n,N,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var _,O=j==null?void 0:j[0];return O==null||O.height==null||O.width==null?_=0:_=x==="vertical"?O.height/2:O.width/2,w.createElement(fne,{xAxisId:e,yAxisId:n,data:j,dataPointFormatter:Xne,errorBarOffset:_},w.createElement(Qne,$s({},t,{layout:x,needClip:g,data:j,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function ere(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:N,parentViewBox:E,dataStartIndex:j}=t,_=e==="horizontal"?d:c,O=p?_.scale.domain():null,R=Wq({numericAxis:_}),M=_.scale(R);return g.map((T,C)=>{var L,P,U,$,A,D;p?L=Fq(p[C+j],O):(L=an(T,n),Array.isArray(L)||(L=[R,L]));var z=ane(r,K6)(L[1],C);if(e==="horizontal"){var B,[ge,re]=[d.scale(L[0]),d.scale(L[1])];P=eI({axis:c,ticks:f,bandSize:l,offset:a.offset,entry:T,index:C}),U=(B=re??ge)!==null&&B!==void 0?B:void 0,$=a.size;var G=ge-re;if(A=li(G)?0:G,D={x:P,y:x.top,width:$,height:x.height},Math.abs(z)>0&&Math.abs(A)<Math.abs(z)){var Y=nr(A||z)*(Math.abs(z)-Math.abs(A));U-=Y,A+=Y}}else{var[H,he]=[c.scale(L[0]),c.scale(L[1])];if(P=H,U=eI({axis:d,ticks:h,bandSize:l,offset:a.offset,entry:T,index:C}),$=he-H,A=a.size,D={x:x.left,y:U,width:x.width,height:A},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var X=nr($||z)*(Math.abs(z)-Math.abs($));$+=X}}if(P==null||U==null||$==null||A==null)return null;var V=Cr(Cr({},T),{},{stackedBarStart:M,x:P,y:U,width:$,height:A,value:p?L:L[1],payload:T,background:D,tooltipPosition:{x:P+$/2,y:U+A/2},parentViewBox:E},N&&N[C]&&N[C].props);return V}).filter(Boolean)}function tre(t){var e=Sr(t,Jne),n=Xr();return w.createElement(z6,{id:e.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(Wee,{legendPayload:Bne(e)}),w.createElement($ne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),w.createElement(ote,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Yq(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),w.createElement(fi,{zIndex:e.zIndex},w.createElement(Zne,$s({},e,{id:r})))))}var Y6=w.memo(tre,Bj);Y6.displayName="Bar";function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nre(t,e,n){return(e=rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=are(t,"string");return typeof e=="symbol"?e:e+""}function are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ire=(t,e)=>e,sre=(t,e,n)=>n,lre=(t,e,n,r)=>r,ore=(t,e,n,r,a)=>a,Lh=oe([ij,ore],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),cre=oe([Lh],t=>t==null?void 0:t.maxBarSize),ure=(t,e,n,r,a,l)=>l,kD=(t,e,n)=>{var r=n??t;if(!ir(r))return jr(r,e,0)},dre=oe([Nt,ij,ire,sre,lre],(t,e,n,r,a)=>e.filter(l=>t==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===a).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),fre=(t,e,n,r)=>{var a=Nt(t);return a==="horizontal"?eN(t,"yAxis",n,r):eN(t,"xAxis",e,r)},hre=(t,e,n)=>{var r=Nt(t);return r==="horizontal"?OO(t,"xAxis",e):OO(t,"yAxis",n)},mre=(t,e,n)=>{var r={},a=t.filter(g0),l=t.filter(h=>h.stackId==null),c=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(c).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),N=kD(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:N}}),f=l.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=kD(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},pre=oe([dre,XW,hre],mre),gre=(t,e,n,r,a)=>{var l,c,d=Lh(t,e,n,r,a);if(d!=null){var f=Nt(t),h=o5(t),{maxBarSize:p}=d,g=ir(p)?h:p,x,N;return f==="horizontal"?(x=qu(t,"xAxis",e,r),N=Fu(t,"xAxis",e,r)):(x=qu(t,"yAxis",n,r),N=Fu(t,"yAxis",n,r)),(l=(c=Dg(x,N,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},W6=(t,e,n,r)=>{var a=Nt(t),l,c;return a==="horizontal"?(l=qu(t,"xAxis",e,r),c=Fu(t,"xAxis",e,r)):(l=qu(t,"yAxis",n,r),c=Fu(t,"yAxis",n,r)),Dg(l,c)};function yre(t,e,n,r,a){var l=r.length;if(!(l<1)){var c=jr(t,n,0,!0),d,f=[];if(jn(r[0].barSize)){var h=!1,p=n/l,g=r.reduce((O,R)=>O+(R.barSize||0),0);g+=(l-1)*c,g>=n&&(g-=(l-1)*c,c=0),g>=n&&p>0&&(h=!0,p*=.9,g=l*p);var x=(n-g)/2>>0,N={offset:x-c,size:0};d=r.reduce((O,R)=>{var M,T={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:N.offset+N.size+c,size:h?p:(M=R.barSize)!==null&&M!==void 0?M:0}},C=[...O,T];return N=C[C.length-1].position,C},f)}else{var E=jr(e,n,0,!0);n-2*E-(l-1)*c<=0&&(c=0);var j=(n-2*E-(l-1)*c)/l;j>1&&(j>>=0);var _=jn(a)?Math.min(j,a):j;d=r.reduce((O,R,M)=>[...O,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(j+c)*M+(j-_)/2,size:_}}],f)}return d}}var vre=(t,e,n,r,a,l,c)=>{var d=ir(c)?e:c,f=yre(n,r,a!==l?a:l,t,d);return a!==l&&f!=null&&(f=f.map(h=>zp(zp({},h),{},{position:zp(zp({},h.position),{},{offset:h.position.offset-a/2})}))),f},xre=oe([pre,o5,WW,c5,gre,W6,cre],vre),bre=(t,e,n,r)=>qu(t,"xAxis",e,r),wre=(t,e,n,r)=>qu(t,"yAxis",n,r),Nre=(t,e,n,r)=>Fu(t,"xAxis",e,r),_re=(t,e,n,r)=>Fu(t,"yAxis",n,r),jre=oe([xre,Lh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Ere=(t,e)=>{var n=nj(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:l}=a;if(l)return l.find(c=>c.key===n)}}}},Sre=oe([fre,Lh],Ere),Are=oe([Hn,v_,bre,wre,Nre,_re,jre,Nt,K_,W6,Sre,Lh,ure],(t,e,n,r,a,l,c,d,f,h,p,g,x)=>{var{chartData:N,dataStartIndex:E,dataEndIndex:j}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||l==null||h==null)){var{data:_}=g,O;if(_!=null&&_.length>0?O=_:O=N==null?void 0:N.slice(E,j+1),O!=null)return ere({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,stackedData:p,displayedData:O,offset:t,cells:x,dataStartIndex:E})}}),X6=t=>{var{chartData:e}=t,n=on(),r=Xr();return w.useEffect(()=>r?()=>{}:(n(qO(e)),()=>{n(qO(void 0))}),[e,n,r]),null},MD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Q6=Wr({name:"brush",initialState:MD,reducers:{setBrushSettings(t,e){return e.payload==null?MD:e.payload}}}),{setBrushSettings:Wge}=Q6.actions,Tre=Q6.reducer;function Cre(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Ore(t,"string");return typeof e=="symbol"?e:e+""}function Ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $j{static create(e){return new $j(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(e)+l}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}Cre($j,"EPS",1e-4);function Dre(t){return(t%180+180)%180}var Rre=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Dre(a),c=l*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Pre={dots:[],areas:[],lines:[]},J6=Wr({name:"referenceElements",initialState:Pre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ii(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ii(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ii(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Xge,removeDot:Qge,addArea:Jge,removeArea:Zge,addLine:eye,removeLine:tye}=J6.actions,kre=J6.reducer,Mre=w.createContext(void 0),Lre=t=>{var{children:e}=t,[n]=w.useState("".concat(Ff("recharts"),"-clip")),r=q6();if(r==null)return null;var{x:a,y:l,width:c,height:d}=r;return w.createElement(Mre.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:a,y:l,height:d,width:c}))),e)};function Z6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Ure(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Rre(r,n)}function Vre(t,e,n){var r=n==="width",{x:a,y:l,width:c,height:d}=t;return e===1?{start:r?a:l,end:r?a+c:l+d}:{start:r?a+c:l+d,end:r?a:l}}function sy(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var l=n();return t*(e-t*l/2-r)>=0&&t*(e+t*l/2-a)<=0}function zre(t,e){return Z6(t,e+1)}function Bre(t,e,n,r,a){for(var l=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:Z6(r,h)};var j=f,_,O=()=>(_===void 0&&(_=n(E,j)),_),R=E.coordinate,M=f===0||sy(t,R,O,p,d);M||(f=0,p=c,h+=1),M&&(p=R+t*(O()/2+a),f+=h)},x;h<=l.length;)if(x=g(),x)return x.v;return[]}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){$re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $re(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=qre(t,"string");return typeof e=="symbol"?e:e+""}function qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hre(t,e,n,r,a){for(var l=(r||[]).slice(),c=l.length,{start:d}=e,{end:f}=e,h=function(x){var N=l[x],E,j=()=>(E===void 0&&(E=n(N,x)),E);if(x===c-1){var _=t*(N.coordinate+t*j()/2-f);l[x]=N=br(br({},N),{},{tickCoord:_>0?N.coordinate-_*t:N.coordinate})}else l[x]=N=br(br({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var O=sy(t,N.tickCoord,j,d,f);O&&(f=N.tickCoord-t*(j()/2+a),l[x]=br(br({},N),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return l}function Gre(t,e,n,r,a,l){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(l){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=br(br({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var N=sy(t,p.tickCoord,()=>g,f,h);N&&(h=p.tickCoord-t*(g/2+a),c[d-1]=br(br({},p),{},{isShow:!0}))}}for(var E=l?d-1:d,j=function(R){var M=c[R],T,C=()=>(T===void 0&&(T=n(M,R)),T);if(R===0){var L=t*(M.coordinate-t*C()/2-f);c[R]=M=br(br({},M),{},{tickCoord:L<0?M.coordinate-L*t:M.coordinate})}else c[R]=M=br(br({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var P=sy(t,M.tickCoord,C,f,h);P&&(f=M.tickCoord+t*(C()/2+a),c[R]=br(br({},M),{},{isShow:!0}))}},_=0;_<E;_++)j(_);return c}function Fj(t,e,n){var{tick:r,ticks:a,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Be(f)||yc.isSsr){var x;return(x=zre(a,Be(f)?f:0))!==null&&x!==void 0?x:[]}var N=[],E=d==="top"||d==="bottom"?"width":"height",j=p&&E==="width"?Pf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(M,T)=>{var C=typeof h=="function"?h(M.value,T):M.value;return E==="width"?Ure(Pf(C,{fontSize:e,letterSpacing:n}),j,g):Pf(C,{fontSize:e,letterSpacing:n})[E]},O=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,R=Vre(l,O,E);return f==="equidistantPreserveStart"?Bre(O,R,_,a,c):(f==="preserveStart"||f==="preserveStartEnd"?N=Gre(O,R,_,a,c,f==="preserveStartEnd"):N=Hre(O,R,_,a,c),N.filter(M=>M.isShow))}var Kre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:l=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+l,h=c+f+d+(n?r:0);return Math.round(h)}return 0},Yre=["axisLine","width","height","className","hide","ticks","axisType"];function Wre(t,e){if(t==null)return{};var n,r,a=Xre(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(null,arguments)}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){Qre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e,n){return(e=Jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jre(t){var e=Zre(t,"string");return typeof e=="symbol"?e:e+""}function Zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ds={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gr.axis};function eae(t){var{x:e,y:n,width:r,height:a,orientation:l,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=kn(kn(kn({},f),si(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);h=kn(kn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);h=kn(kn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return w.createElement("line",oc({},h,{className:zt("recharts-cartesian-axis-line",rc(d,"className"))}))}function tae(t,e,n,r,a,l,c,d,f){var h,p,g,x,N,E,j=d?-1:1,_=t.tickSize||c,O=Be(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-j*_,E=g-j*f,N=O;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-j*_,N=h-j*f,E=O;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+j*_,N=h+j*f,E=O;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+j*_,E=g+j*f,N=O;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:N,y:E}}}function nae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function rae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function aae(t){var{option:e,tickProps:n,value:r}=t,a,l=zt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))a=w.cloneElement(e,kn(kn({},n),{},{className:l}));else if(typeof e=="function")a=e(kn(kn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=zt(c,e==null?void 0:e.className)),a=w.createElement(j0,oc({},n,{className:c}),r)}return a}var iae=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:l,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:N,width:E,height:j,tickSize:_,tickMargin:O,fontSize:R,letterSpacing:M,getTicksConfig:T,events:C,axisType:L}=t,P=Fj(kn(kn({},T),{},{ticks:n}),R,M),U=nae(p,g),$=rae(p,g),A=si(T),D=$f(r),z={};typeof a=="object"&&(z=a);var B=kn(kn({},A),{},{fill:"none"},z),ge=P.map(Y=>kn({entry:Y},tae(Y,x,N,E,j,p,_,g,O))),re=ge.map(Y=>{var{entry:H,line:he}=Y;return w.createElement(Dr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&w.createElement("line",oc({},B,he,{className:zt("recharts-cartesian-axis-tick-line",rc(a,"className"))})))}),G=ge.map((Y,H)=>{var{entry:he,tick:X}=Y,V=kn(kn(kn(kn({textAnchor:U,verticalAnchor:$},A),{},{stroke:"none",fill:l},D),X),{},{index:H,payload:he,visibleTicksCount:P.length,tickFormatter:c,padding:f},h);return w.createElement(Dr,oc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},Vy(C,he,H)),r&&w.createElement(aae,{option:r,tickProps:V,value:"".concat(typeof c=="function"?c(he.value,H):he.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},G.length>0&&w.createElement(fi,{zIndex:gr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},G)),re.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},re))}),sae=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:l,hide:c,ticks:d,axisType:f}=t,h=Wre(t,Yre),[p,g]=w.useState(""),[x,N]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Kre({ticks:E.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=w.useCallback(_=>{if(_){var O=_.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=O;var R=O[0];if(R){var M=window.getComputedStyle(R),T=M.fontSize,C=M.letterSpacing;(T!==p||C!==x)&&(g(T),N(C))}}},[p,x]);return c||r!=null&&r<=0||a!=null&&a<=0?null:w.createElement(fi,{zIndex:t.zIndex},w.createElement(Dr,{className:zt("recharts-cartesian-axis",l)},w.createElement(eae,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:si(t)}),w.createElement(iae,{ref:j,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement($Z,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(JZ,{label:t.label,labelRef:t.labelRef}),t.children)))}),qj=w.forwardRef((t,e)=>{var n=Sr(t,Ds);return w.createElement(sae,oc({},n,{ref:e}))});qj.displayName="CartesianAxis";var lae=["x1","y1","x2","y2","key"],oae=["offset"],cae=["xAxisId","yAxisId"],uae=["xAxisId","yAxisId"];function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wo.apply(null,arguments)}function ly(t,e){if(t==null)return{};var n,r,a=mae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:l,height:c,ry:d}=t;return w.createElement("rect",{x:r,y:a,ry:d,width:l,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function e3(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:l,y1:c,x2:d,y2:f,key:h}=n,p=ly(n,lae),g=(a=si(p))!==null&&a!==void 0?a:{},{offset:x}=g,N=ly(g,oae);r=w.createElement("line",Wo({},N,{x1:l,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function gae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=t,d=ly(t,cae),f=a.map((h,p)=>{var g=Nr(Nr({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(e3,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function yae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=t,d=ly(t,uae),f=a.map((h,p)=>{var g=Nr(Nr({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(e3,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function vae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var N=!h[x+1],E=N?a+c-g:h[x+1]-g;if(E<=0)return null;var j=x%e.length;return w.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:l,stroke:"none",fill:e[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function xae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:l,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var N=!h[x+1],E=N?a+c-g:h[x+1]-g;if(E<=0)return null;var j=x%n.length;return w.createElement("rect",{key:"react-".concat(x),x:g,y:l,width:E,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var bae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:l}=t;return Pk(Fj(Nr(Nr(Nr({},Ds),n),{},{ticks:kk(n),viewBox:{x:0,y:0,width:r,height:a}})),l.left,l.left+l.width,e)},wae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:l}=t;return Pk(Fj(Nr(Nr(Nr({},Ds),n),{},{ticks:kk(n),viewBox:{x:0,y:0,width:r,height:a}})),l.top,l.top+l.height,e)},Nae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gr.grid};function t3(t){var e=Hk(),n=Gk(),r=qk(),a=Nr(Nr({},Sr(t,Nae)),{},{x:Be(t.x)?t.x:r.left,y:Be(t.y)?t.y:r.top,width:Be(t.width)?t.width:r.width,height:Be(t.height)?t.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:N}=a,E=Xr(),j=$e($=>DO($,"xAxis",l,E)),_=$e($=>DO($,"yAxis",c,E));if(!Wi(h)||!Wi(p)||!Be(d)||!Be(f))return null;var O=a.verticalCoordinatesGenerator||bae,R=a.horizontalCoordinatesGenerator||wae,{horizontalPoints:M,verticalPoints:T}=a;if((!M||!M.length)&&typeof R=="function"){var C=x&&x.length,L=R({yAxis:_?Nr(Nr({},_),{},{ticks:C?x:_.ticks}):void 0,width:e??h,height:n??p,offset:r},C?!0:g);Rg(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(M=L)}if((!T||!T.length)&&typeof O=="function"){var P=N&&N.length,U=O({xAxis:j?Nr(Nr({},j),{},{ticks:P?N:j.ticks}):void 0,width:e??h,height:n??p,offset:r},P?!0:g);Rg(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(T=U)}return w.createElement(fi,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(pae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(vae,Wo({},a,{horizontalPoints:M})),w.createElement(xae,Wo({},a,{verticalPoints:T})),w.createElement(gae,Wo({},a,{offset:r,horizontalPoints:M,xAxis:j,yAxis:_})),w.createElement(yae,Wo({},a,{offset:r,verticalPoints:T,xAxis:j,yAxis:_}))))}t3.displayName="CartesianGrid";var _ae=["domain","range"],jae=["domain","range"];function zD(t,e){if(t==null)return{};var n,r,a=Eae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function n3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=zD(t,_ae),{domain:l,range:c}=e,d=zD(e,jae);return!BD(n,l)||!BD(r,c)?!1:Bj(a,d)}var Sae=["dangerouslySetInnerHTML","ticks"],Aae=["id"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(null,arguments)}function $D(t,e){if(t==null)return{};var n,r,a=Tae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cae(t){var e=on(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Vte(t)):n.current!==t&&e(zte({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Bte(n.current)),n.current=null)},[e]),null}var Iae=t=>{var{xAxisId:e,className:n}=t,r=$e(v_),a=Xr(),l="xAxis",c=$e(_=>ld(_,l,e,a)),d=$e(_=>B5(_,l,e,a)),f=$e(_=>L5(_,e)),h=$e(_=>KX(_,e)),p=$e(_=>v5(_,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,N=$D(t,Sae),{id:E}=p,j=$D(p,Aae);return w.createElement(qj,oN({},N,j,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:zt("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:d,axisType:l}))},Oae={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,angle:Jn.angle,axisLine:Ds.axisLine,height:Jn.height,hide:!1,includeHidden:Jn.includeHidden,interval:Jn.interval,minTickGap:Jn.minTickGap,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tick:Jn.tick,tickCount:Jn.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:Jn.type,xAxisId:0},Dae=t=>{var e=Sr(t,Oae);return w.createElement(w.Fragment,null,w.createElement(Cae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Iae,e))},r3=w.memo(Dae,n3);r3.displayName="XAxis";var Rae=["dangerouslySetInnerHTML","ticks"],Pae=["id"];function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(null,arguments)}function FD(t,e){if(t==null)return{};var n,r,a=kae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function kae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mae(t){var e=on(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e($te(t)):n.current!==t&&e(Fte({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(qte(n.current)),n.current=null)},[e]),null}var Lae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,l=w.useRef(null),c=w.useRef(null),d=$e(v_),f=Xr(),h=on(),p="yAxis",g=$e(C=>ld(C,p,e,f)),x=$e(C=>U5(C,e)),N=$e(C=>WX(C,e)),E=$e(C=>B5(C,p,e,f)),j=$e(C=>x5(C,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Pj(a)||w.isValidElement(a)||j==null)){var C=l.current;if(C){var L=C.getCalculatedWidth();Math.round(x.width)!==Math.round(L)&&h(Hte({id:e,width:L}))}}},[E,x,h,a,e,r,j]),x==null||N==null||j==null)return null;var{dangerouslySetInnerHTML:_,ticks:O}=t,R=FD(t,Rae),{id:M}=j,T=FD(j,Pae);return w.createElement(qj,cN({},R,T,{ref:l,labelRef:c,scale:g,x:N.x,y:N.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:zt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},Uae={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:Ds.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:Ds.tickLine,tickSize:Ds.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},Vae=t=>{var e=Sr(t,Uae);return w.createElement(w.Fragment,null,w.createElement(Mae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Lae,e))},a3=w.memo(Vae,n3);a3.displayName="YAxis";var zae=(t,e)=>e,Hj=oe([zae,Nt,g5,Kn,r6,Zs,cJ,Hn],gJ),Gj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},i3=Pa("mouseClick"),s3=bh();s3.startListening({actionCreator:i3,effect:(t,e)=>{var n=t.payload,r=Hj(e.getState(),Gj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(cQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var uN=Pa("mouseMove"),l3=bh(),Bp=null;l3.startListening({actionCreator:uN,effect:(t,e)=>{var n=t.payload;Bp!==null&&cancelAnimationFrame(Bp);var r=Gj(n);Bp=requestAnimationFrame(()=>{var a=e.getState(),l=jj(a,a.tooltip.settings.shared);if(l==="axis"){var c=Hj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch(W5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(Y5())}Bp=null})}});var qD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},o3=Wr({name:"rootProps",initialState:qD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:qD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Bae=o3.reducer,{updateOptions:$ae}=o3.actions,c3=Wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Fae}=c3.actions,qae=c3.reducer,u3=Pa("keyDown"),d3=Pa("focus"),Kj=bh();Kj.startListening({actionCreator:u3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=t.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Ej(a,cd(n),Oh(n),kh(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Zs(n);if(l==="Enter"){var h=ey(n,"axis","hover",String(a.index));e.dispatch(nN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=ZX(n),g=p==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,N=d+x*g;if(!(f==null||N>=f.length||N<0)){var E=ey(n,"axis","hover",String(N));e.dispatch(nN({active:!0,activeIndex:N.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});Kj.startListening({actionCreator:d3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",c=ey(n,"axis","hover",String(l));e.dispatch(nN({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Ca=Pa("externalEvent"),f3=bh(),Bw=new Map;f3.startListening({actionCreator:Ca,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,l=Bw.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:YQ(d),activeDataKey:l6(d),activeIndex:lc(d),activeLabel:s6(d),activeTooltipIndex:lc(d),isTooltipActive:WQ(d)};n(f,r)}finally{Bw.delete(a)}});Bw.set(a,c)}}});var Hae=oe([od],t=>t.tooltipItemPayloads),Gae=oe([Hae,Rh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:l}=a;if(l!=null){var c=e(l,n);return c}}}),h3=Pa("touchMove"),m3=bh();m3.startListening({actionCreator:h3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=jj(r,r.tooltip.settings.shared);if(a==="axis"){var l=Hj(r,Gj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&e.dispatch(W5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(Lk),p=(c=f.getAttribute(Uk))!==null&&c!==void 0?c:void 0,g=Gae(e.getState(),h,p);e.dispatch(K5({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Kae=ik({brush:Tre,cartesianAxis:Gte,chartData:KJ,errorBars:sne,graphicalItems:ste,layout:Lq,legend:FH,options:$J,polarAxis:bee,polarOptions:qae,referenceElements:kre,rootProps:Bae,tooltip:uQ,zIndex:IJ}),Yae=function(e){return oq({reducer:Kae,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([s3.middleware,l3.middleware,Kj.middleware,f3.middleware,m3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(bk({type:"raf"}))},devTools:yc.devToolsEnabled})};function p3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Xr(),l=w.useRef(null);if(a)return n;l.current==null&&(l.current=Yae(e));var c=c_;return w.createElement(Ine,{context:c,store:l.current},n)}function Wae(t){var{layout:e,margin:n}=t,r=on(),a=Xr();return w.useEffect(()=>{a||(r(Pq(e)),r(Rq(n)))},[r,a,e,n]),null}var g3=w.memo(Wae,Bj);function y3(t){var e=on();return w.useEffect(()=>{e($ae(t))},[e,t]),null}function HD(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=V6("".concat(r).concat(e)),l=on();return w.useLayoutEffect(()=>(l(TJ({zIndex:e,elementId:a,isPanorama:n})),()=>{l(CJ({zIndex:e,isPanorama:n}))}),[l,e,a,n]),w.createElement("g",{id:a})}function GD(t){var{children:e,isPanorama:n}=t,r=$e(vJ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),l=r.filter(c=>c>0);return w.createElement(w.Fragment,null,a.map(c=>w.createElement(HD,{key:c,zIndex:c,isPanorama:n})),e,l.map(c=>w.createElement(HD,{key:c,zIndex:c,isPanorama:n})))}var Xae=["children"];function Qae(t,e){if(t==null)return{};var n,r,a=Jae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}var Zae={width:"100%",height:"100%",display:"block"},eie=w.forwardRef((t,e)=>{var n=Hk(),r=Gk(),a=rM();if(!Wi(n)||!Wi(r))return null;var{children:l,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),w.createElement(_P,oy({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Zae,ref:e}),l)}),tie=t=>{var{children:e}=t,n=$e(Zy);if(!n)return null;var{width:r,height:a,y:l,x:c}=n;return w.createElement(_P,{width:r,height:a,x:c,y:l},e)},KD=w.forwardRef((t,e)=>{var{children:n}=t,r=Qae(t,Xae),a=Xr();return a?w.createElement(tie,null,w.createElement(GD,{isPanorama:!0},n)):w.createElement(eie,oy({ref:e},r),w.createElement(GD,{isPanorama:!1},n))});function nie(){var t=on(),[e,n]=w.useState(null),r=$e(tH);return w.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),l=a.width/e.offsetWidth;jn(l)&&l!==r&&t(Mq(l))}},[e,t,r]),n}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aie(t,e,n){return(e=iie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iie(t){var e=sie(t,"string");return typeof e=="symbol"?e:e+""}function sie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}var lie=()=>(nZ(),null);function cy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var oie=w.forwardRef((t,e)=>{var n,r,a=w.useRef(null),[l,c]=w.useState({containerWidth:cy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:cy((r=t.style)===null||r===void 0?void 0:r.height)}),d=w.useCallback((h,p)=>{c(g=>{var x=Math.round(h),N=Math.round(p);return g.containerWidth===x&&g.containerHeight===N?g:{containerWidth:x,containerHeight:N}})},[]),f=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:j,height:_}=E[0].contentRect;d(j,_)},N=new ResizeObserver(x);N.observe(h),a.current=N}},[e,d]);return w.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(n0,{width:l.containerWidth,height:l.containerHeight}),w.createElement("div",cc({ref:f},t)))}),cie=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,l]=w.useState({containerWidth:cy(n),containerHeight:cy(r)}),c=w.useCallback((f,h)=>{l(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return w.createElement(w.Fragment,null,w.createElement(n0,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",cc({ref:d},t)))}),uie=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(n0,{width:n,height:r}),w.createElement("div",cc({ref:e},t)))}),die=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ms(n)||Ms(r)?w.createElement(cie,cc({},t,{ref:e})):w.createElement(uie,cc({},t,{ref:e}))});function fie(t){return t===!0?oie:die}var hie=w.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:N,onTouchMove:E,onTouchStart:j,style:_,width:O,responsive:R,dispatchTouchEvents:M=!0}=t,T=w.useRef(null),C=on(),[L,P]=w.useState(null),[U,$]=w.useState(null),A=nie(),D=x_(),z=(D==null?void 0:D.width)>0?D.width:O,B=(D==null?void 0:D.height)>0?D.height:a,ge=w.useCallback(le=>{A(le),typeof e=="function"&&e(le),P(le),$(le),le!=null&&(T.current=le)},[A,e,P,$]),re=w.useCallback(le=>{C(i3(le)),C(Ca({handler:l,reactEvent:le}))},[C,l]),G=w.useCallback(le=>{C(uN(le)),C(Ca({handler:h,reactEvent:le}))},[C,h]),Y=w.useCallback(le=>{C(Y5()),C(Ca({handler:p,reactEvent:le}))},[C,p]),H=w.useCallback(le=>{C(uN(le)),C(Ca({handler:g,reactEvent:le}))},[C,g]),he=w.useCallback(()=>{C(d3())},[C]),X=w.useCallback(le=>{C(u3(le.key))},[C]),V=w.useCallback(le=>{C(Ca({handler:c,reactEvent:le}))},[C,c]),W=w.useCallback(le=>{C(Ca({handler:d,reactEvent:le}))},[C,d]),pe=w.useCallback(le=>{C(Ca({handler:f,reactEvent:le}))},[C,f]),Z=w.useCallback(le=>{C(Ca({handler:x,reactEvent:le}))},[C,x]),xe=w.useCallback(le=>{C(Ca({handler:j,reactEvent:le}))},[C,j]),Te=w.useCallback(le=>{M&&C(h3(le)),C(Ca({handler:E,reactEvent:le}))},[C,M,E]),De=w.useCallback(le=>{C(Ca({handler:N,reactEvent:le}))},[C,N]),ae=fie(R);return w.createElement(m6.Provider,{value:L},w.createElement(BB.Provider,{value:U},w.createElement(ae,{width:z??(_==null?void 0:_.width),height:B??(_==null?void 0:_.height),className:zt("recharts-wrapper",r),style:rie({position:"relative",cursor:"default",width:z,height:B},_),onClick:re,onContextMenu:V,onDoubleClick:W,onFocus:he,onKeyDown:X,onMouseDown:pe,onMouseEnter:G,onMouseLeave:Y,onMouseMove:H,onMouseUp:Z,onTouchEnd:De,onTouchMove:Te,onTouchStart:xe,ref:ge},w.createElement(lie,null),n)))}),mie=["width","height","responsive","children","className","style","compact","title","desc"];function pie(t,e){if(t==null)return{};var n,r,a=gie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function gie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v3=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:l,className:c,style:d,compact:f,title:h,desc:p}=t,g=pie(t,mie),x=si(g);return f?w.createElement(w.Fragment,null,w.createElement(n0,{width:n,height:r}),w.createElement(KD,{otherAttributes:x,title:h,desc:p},l)):w.createElement(hie,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(KD,{otherAttributes:x,title:h,desc:p,ref:e},w.createElement(Lre,null,l)))});function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(null,arguments)}var yie={top:5,right:5,bottom:5,left:5},vie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},xie=w.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,vie),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(p3,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},w.createElement(X6,{chartData:h.data}),w.createElement(g3,{layout:a.layout,margin:a.margin}),w.createElement(y3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(v3,dN({},a,{ref:n})))}),bie=["axis","item"],wie=w.forwardRef((t,e)=>w.createElement(xie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bie,tooltipPayloadSearcher:p6,categoricalChartProps:t,ref:e}));function Nie(t){var e=on();return w.useEffect(()=>{e(Fae(t))},[e,t]),null}var _ie=["layout"];function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fN.apply(null,arguments)}function jie(t,e){if(t==null)return{};var n,r,a=Eie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Eie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sie={top:5,right:5,bottom:5,left:5},Aie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Sie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Tie=w.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,Aie),{layout:l}=a,c=jie(a,_ie),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(p3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},w.createElement(X6,{chartData:a.data}),w.createElement(g3,{layout:l,margin:a.margin}),w.createElement(y3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Nie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(v3,fN({},c,{ref:n})))}),Cie=["item"],Iie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Oie=w.forwardRef((t,e)=>{var n=Sr(t,Iie);return w.createElement(Tie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Cie,tooltipPayloadSearcher:p6,categoricalChartProps:n,ref:e})});const Ia=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),s.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:s.jsx(n,{className:"w-6 h-6"})})]})},Die=()=>{};var WD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Rie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},b3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=l>>2,g=(l&3)<<4|d>>4;let x=(d&15)<<2|h>>6,N=h&63;f||(N=64,c||(x=64)),r.push(n[p],n[g],n[x],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||h==null||g==null)throw new Pie;const x=l<<2|d>>4;if(r.push(x),h!==64){const N=d<<4&240|h>>2;if(r.push(N),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kie=function(t){const e=x3(t);return b3.encodeByteArray(e,!0)},uy=function(t){return kie(t).replace(/\./g,"")},w3=function(t){try{return b3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lie=()=>Mie().__FIREBASE_DEFAULTS__,Uie=()=>{if(typeof process>"u"||typeof WD>"u")return;const t=WD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w3(t[1]);return e&&JSON.parse(e)},T0=()=>{try{return Die()||Lie()||Uie()||Vie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N3=t=>{var e,n;return(n=(e=T0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_3=t=>{const e=N3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},j3=()=>{var t;return(t=T0())==null?void 0:t.config},E3=t=>{var e;return(e=T0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uy(JSON.stringify(n)),uy(JSON.stringify(c)),""].join(".")}const kf={};function Bie(){const t={prod:[],emulator:[]};for(const e of Object.keys(kf))kf[e]?t.emulator.push(e):t.prod.push(e);return t}function $ie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XD=!1;function Wj(t,e){if(typeof window>"u"||typeof document>"u"||!bc(window.location.host)||kf[t]===e||kf[t]||XD)return;kf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",l=Bie().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{XD=!0,c()},x}function p(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=$ie(r),N=n("text"),E=document.getElementById(N)||document.createElement("span"),j=n("learnmore"),_=document.getElementById(j)||document.createElement("a"),O=n("preprendIcon"),R=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const M=x.element;d(M),p(_,j);const T=h();f(R,O),M.append(R,E,_,T),document.body.appendChild(M)}l?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function qie(){var e;const t=(e=T0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kie(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yie(){return!qie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T3(){try{return typeof indexedDB=="object"}catch{return!1}}function C3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function Wie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie="FirebaseError";class Ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Xie,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?Qie(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ua(a,d,r)}}function Qie(t,e){return t.replace(Jie,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Jie=/\{\$([^}]+)}/g;function Zie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(QD(l)&&QD(c)){if(!Wl(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function QD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ese(t,e){const n=new tse(t,e);return n.subscribe.bind(n)}class tse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nse(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=$w),a.error===void 0&&(a.error=$w),a.complete===void 0&&(a.complete=$w);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nse(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $w(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse=1e3,ase=2,ise=14400*1e3,sse=.5;function JD(t,e=rse,n=ase){const r=e*Math.pow(n,t),a=Math.round(sse*r*(Math.random()-.5)*2);return Math.min(ise,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class Ma{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cse(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ose(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ose(t){return t===Ho?void 0:t}function cse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const dse={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},fse=ht.INFO,hse={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},mse=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=hse[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C0{constructor(e){this.name=e,this._logLevel=fse,this._logHandler=mse,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const pse=(t,e)=>e.some(n=>t instanceof n);let ZD,eR;function gse(){return ZD||(ZD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yse(){return eR||(eR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I3=new WeakMap,hN=new WeakMap,O3=new WeakMap,Fw=new WeakMap,Xj=new WeakMap;function vse(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n($l(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&I3.set(n,t)}).catch(()=>{}),Xj.set(e,t),e}function xse(t){if(hN.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});hN.set(t,e)}let mN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $l(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bse(t){mN=t(mN)}function wse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qw(this),e,...n);return O3.set(r,e.sort?e.sort():[e]),$l(r)}:yse().includes(t)?function(...e){return t.apply(qw(this),e),$l(I3.get(this))}:function(...e){return $l(t.apply(qw(this),e))}}function Nse(t){return typeof t=="function"?wse(t):(t instanceof IDBTransaction&&xse(t),pse(t,gse())?new Proxy(t,mN):t)}function $l(t){if(t instanceof IDBRequest)return vse(t);if(Fw.has(t))return Fw.get(t);const e=Nse(t);return e!==t&&(Fw.set(t,e),Xj.set(e,t)),e}const qw=t=>Xj.get(t);function D3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=$l(c);return r&&c.addEventListener("upgradeneeded",f=>{r($l(c.result),f.oldVersion,f.newVersion,$l(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const _se=["get","getKey","getAll","getAllKeys","count"],jse=["put","add","delete","clear"],Hw=new Map;function tR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hw.get(e))return Hw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=jse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||_se.includes(n)))return;const l=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return Hw.set(e,l),l}bse(t=>({...t,get:(e,n,r)=>tR(e,n)||t.get(e,n,r),has:(e,n)=>!!tR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pN="@firebase/app",nR="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new C0("@firebase/app"),Ase="@firebase/app-compat",Tse="@firebase/analytics-compat",Cse="@firebase/analytics",Ise="@firebase/app-check-compat",Ose="@firebase/app-check",Dse="@firebase/auth",Rse="@firebase/auth-compat",Pse="@firebase/database",kse="@firebase/data-connect",Mse="@firebase/database-compat",Lse="@firebase/functions",Use="@firebase/functions-compat",Vse="@firebase/installations",zse="@firebase/installations-compat",Bse="@firebase/messaging",$se="@firebase/messaging-compat",Fse="@firebase/performance",qse="@firebase/performance-compat",Hse="@firebase/remote-config",Gse="@firebase/remote-config-compat",Kse="@firebase/storage",Yse="@firebase/storage-compat",Wse="@firebase/firestore",Xse="@firebase/ai",Qse="@firebase/firestore-compat",Jse="firebase",Zse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="[DEFAULT]",ele={[pN]:"fire-core",[Ase]:"fire-core-compat",[Cse]:"fire-analytics",[Tse]:"fire-analytics-compat",[Ose]:"fire-app-check",[Ise]:"fire-app-check-compat",[Dse]:"fire-auth",[Rse]:"fire-auth-compat",[Pse]:"fire-rtdb",[kse]:"fire-data-connect",[Mse]:"fire-rtdb-compat",[Lse]:"fire-fn",[Use]:"fire-fn-compat",[Vse]:"fire-iid",[zse]:"fire-iid-compat",[Bse]:"fire-fcm",[$se]:"fire-fcm-compat",[Fse]:"fire-perf",[qse]:"fire-perf-compat",[Hse]:"fire-rc",[Gse]:"fire-rc-compat",[Kse]:"fire-gcs",[Yse]:"fire-gcs-compat",[Wse]:"fire-fst",[Qse]:"fire-fst-compat",[Xse]:"fire-vertex","fire-js":"fire-js",[Jse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map,tle=new Map,yN=new Map;function rR(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oi(t){const e=t.name;if(yN.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;yN.set(e,t);for(const n of dy.values())rR(n,t);for(const n of tle.values())rR(n,t);return!0}function so(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fl=new wc("app","Firebase",nle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=Zse;function R3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gN,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Fl.create("bad-app-name",{appName:String(a)});if(n||(n=j3()),!n)throw Fl.create("no-options");const l=dy.get(a);if(l){if(Wl(n,l.options)&&Wl(r,l.config))return l;throw Fl.create("duplicate-app",{appName:a})}const c=new use(a);for(const f of yN.values())c.addComponent(f);const d=new rle(n,r,c);return dy.set(a,d),d}function I0(t=gN){const e=dy.get(t);if(!e&&t===gN&&j3())return R3();if(!e)throw Fl.create("no-app",{appName:t});return e}function Kr(t,e,n){let r=ele[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(c.join(" "));return}oi(new Ma(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ale="firebase-heartbeat-database",ile=1,rh="firebase-heartbeat-store";let Gw=null;function P3(){return Gw||(Gw=D3(ale,ile,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fl.create("idb-open",{originalErrorMessage:t.message})})),Gw}async function sle(t){try{const n=(await P3()).transaction(rh),r=await n.objectStore(rh).get(k3(t));return await n.done,r}catch(e){if(e instanceof Ua)Fs.warn(e.message);else{const n=Fl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function aR(t,e){try{const r=(await P3()).transaction(rh,"readwrite");await r.objectStore(rh).put(e,k3(t)),await r.done}catch(n){if(n instanceof Ua)Fs.warn(n.message);else{const r=Fl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(r.message)}}}function k3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lle=1024,ole=30;class cle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=iR();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ole){const c=fle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iR(),{heartbeatsToSend:r,unsentEntries:a}=ule(this._heartbeatsCache.heartbeats),l=uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Fs.warn(n),""}}}function iR(){return new Date().toISOString().substring(0,10)}function ule(t,e=lle){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),sR(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),sR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T3()?C3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aR(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sR(t){return uy(JSON.stringify({version:2,heartbeats:t})).length}function fle(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hle(t){oi(new Ma("platform-logger",e=>new Ese(e),"PRIVATE")),oi(new Ma("heartbeat",e=>new cle(e),"PRIVATE")),Kr(pN,nR,t),Kr(pN,nR,"esm2020"),Kr("fire-js","")}hle("");var mle="firebase",ple="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(mle,ple,"app");const M3="@firebase/installations",Qj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=1e4,U3=`w:${Qj}`,V3="FIS_v2",gle="https://firebaseinstallations.googleapis.com/v1",yle=3600*1e3,vle="installations",xle="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uc=new wc(vle,xle,ble);function z3(t){return t instanceof Ua&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3({projectId:t}){return`${gle}/projects/${t}/installations`}function $3(t){return{token:t.token,requestStatus:2,expiresIn:Nle(t.expiresIn),creationTime:Date.now()}}async function F3(t,e){const r=(await e.json()).error;return uc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function q3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wle(t,{refreshToken:e}){const n=q3(t);return n.append("Authorization",_le(e)),n}async function H3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Nle(t){return Number(t.replace("s","000"))}function _le(t){return`${V3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jle({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=B3(t),a=q3(t),l=e.getImmediate({optional:!0});if(l){const h=await l.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={fid:n,authVersion:V3,appId:t.appId,sdkVersion:U3},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await H3(()=>fetch(r,d));if(f.ok){const h=await f.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:$3(h.authToken)}}else throw await F3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ele(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle=/^[cdef][\w-]{21}$/,vN="";function Ale(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Tle(t);return Sle.test(n)?n:vN}catch{return vN}}function Tle(t){return Ele(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new Map;function Y3(t,e){const n=O0(t);W3(n,e),Cle(n,e)}function W3(t,e){const n=K3.get(t);if(n)for(const r of n)r(e)}function Cle(t,e){const n=Ile();n&&n.postMessage({key:t,fid:e}),Ole()}let Xo=null;function Ile(){return!Xo&&"BroadcastChannel"in self&&(Xo=new BroadcastChannel("[Firebase] FID Change"),Xo.onmessage=t=>{W3(t.data.key,t.data.fid)}),Xo}function Ole(){K3.size===0&&Xo&&(Xo.close(),Xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle="firebase-installations-database",Rle=1,dc="firebase-installations-store";let Kw=null;function Jj(){return Kw||(Kw=D3(Dle,Rle,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dc)}}})),Kw}async function fy(t,e){const n=O0(t),a=(await Jj()).transaction(dc,"readwrite"),l=a.objectStore(dc),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&Y3(t,e.fid),e}async function X3(t){const e=O0(t),r=(await Jj()).transaction(dc,"readwrite");await r.objectStore(dc).delete(e),await r.done}async function D0(t,e){const n=O0(t),a=(await Jj()).transaction(dc,"readwrite"),l=a.objectStore(dc),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&Y3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t){let e;const n=await D0(t.appConfig,r=>{const a=Ple(r),l=kle(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===vN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Ple(t){const e=t||{fid:Ale(),registrationStatus:0};return Q3(e)}function kle(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(uc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Mle(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Lle(t)}:{installationEntry:e}}async function Mle(t,e){try{const n=await jle(t,e);return fy(t.appConfig,n)}catch(n){throw z3(n)&&n.customData.serverCode===409?await X3(t.appConfig):await fy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Lle(t){let e=await lR(t.appConfig);for(;e.registrationStatus===1;)await G3(100),e=await lR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Zj(t);return r||n}return e}function lR(t){return D0(t,e=>{if(!e)throw uc.create("installation-not-found");return Q3(e)})}function Q3(t){return Ule(t)?{fid:t.fid,registrationStatus:0}:t}function Ule(t){return t.registrationStatus===1&&t.registrationTime+L3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vle({appConfig:t,heartbeatServiceProvider:e},n){const r=zle(t,n),a=wle(t,n),l=e.getImmediate({optional:!0});if(l){const h=await l.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={installation:{sdkVersion:U3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await H3(()=>fetch(r,d));if(f.ok){const h=await f.json();return $3(h)}else throw await F3("Generate Auth Token",f)}function zle(t,{fid:e}){return`${B3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(t,e=!1){let n;const r=await D0(t.appConfig,l=>{if(!J3(l))throw uc.create("not-registered");const c=l.authToken;if(!e&&Fle(c))return l;if(c.requestStatus===1)return n=Ble(t,e),l;{if(!navigator.onLine)throw uc.create("app-offline");const d=Hle(l);return n=$le(t,d),d}});return n?await n:r.authToken}async function Ble(t,e){let n=await oR(t.appConfig);for(;n.authToken.requestStatus===1;)await G3(100),n=await oR(t.appConfig);const r=n.authToken;return r.requestStatus===0?eE(t,e):r}function oR(t){return D0(t,e=>{if(!J3(e))throw uc.create("not-registered");const n=e.authToken;return Gle(n)?{...e,authToken:{requestStatus:0}}:e})}async function $le(t,e){try{const n=await Vle(t,e),r={...e,authToken:n};return await fy(t.appConfig,r),n}catch(n){if(z3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await X3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await fy(t.appConfig,r)}throw n}}function J3(t){return t!==void 0&&t.registrationStatus===2}function Fle(t){return t.requestStatus===2&&!qle(t)}function qle(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+yle}function Hle(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Gle(t){return t.requestStatus===1&&t.requestTime+L3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kle(t){const e=t,{installationEntry:n,registrationPromise:r}=await Zj(e);return r?r.catch(console.error):eE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yle(t,e=!1){const n=t;return await Wle(n),(await eE(n,e)).token}async function Wle(t){const{registrationPromise:e}=await Zj(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(t){if(!t||!t.options)throw Yw("App Configuration");if(!t.name)throw Yw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yw(t){return uc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="installations",Qle="installations-internal",Jle=t=>{const e=t.getProvider("app").getImmediate(),n=Xle(e),r=so(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Zle=t=>{const e=t.getProvider("app").getImmediate(),n=so(e,Z3).getImmediate();return{getId:()=>Kle(n),getToken:a=>Yle(n,a)}};function eoe(){oi(new Ma(Z3,Jle,"PUBLIC")),oi(new Ma(Qle,Zle,"PRIVATE"))}eoe();Kr(M3,Qj);Kr(M3,Qj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="analytics",toe="firebase_id",noe="origin",roe=60*1e3,aoe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new C0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},da=new wc("analytics","Analytics",ioe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(t){if(!t.startsWith(tE)){const e=da.create("invalid-gtag-resource",{gtagURL:t});return Or.warn(e.message),""}return t}function eL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function loe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ooe(t,e){const n=loe("firebase-js-sdk-policy",{createScriptURL:soe}),r=document.createElement("script"),a=`${tE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function coe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uoe(t,e,n,r,a,l){const c=r[a];try{if(c)await e[c];else{const f=(await eL(n)).find(h=>h.measurementId===a);f&&await e[f.appId]}}catch(d){Or.error(d)}t("config",a,l)}async function doe(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await eL(n);for(const f of c){const h=d.find(g=>g.measurementId===f),p=h&&e[h.appId];if(p)l.push(p);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){Or.error(l)}}function foe(t,e,n,r){async function a(l,...c){try{if(l==="event"){const[d,f]=c;await doe(t,e,n,d,f)}else if(l==="config"){const[d,f]=c;await uoe(t,e,n,r,d,f)}else if(l==="consent"){const[d,f]=c;t("consent",d,f)}else if(l==="get"){const[d,f,h]=c;t("get",d,f,h)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){Or.error(d)}}return a}function hoe(t,e,n,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=foe(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function moe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(tE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=30,goe=1e3;class yoe{constructor(e={},n=goe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tL=new yoe;function voe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function xoe(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:voe(n)},a=aoe.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let d="";try{const f=await l.json();(c=f.error)!=null&&c.message&&(d=f.error.message)}catch{}throw da.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function boe(t,e=tL,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw da.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw da.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new _oe;return setTimeout(async()=>{d.abort()},roe),nL({appId:r,apiKey:a,measurementId:l},c,d,e)}async function nL(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=tL){var d;const{appId:l,measurementId:c}=t;try{await woe(r,e)}catch(f){if(c)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw f}try{const f=await xoe(t);return a.deleteThrottleMetadata(l),f}catch(f){const h=f;if(!Noe(h)){if(a.deleteThrottleMetadata(l),c)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw f}const p=Number((d=h==null?void 0:h.customData)==null?void 0:d.httpStatus)===503?JD(n,a.intervalMillis,poe):JD(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,g),Or.debug(`Calling attemptFetch again in ${p} millis`),nL(t,g,r,a)}}function woe(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Noe(t){if(!(t instanceof Ua)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _oe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function joe(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,c={...r,send_to:l};t("event",n,c)}}async function Eoe(t,e,n,r){if(r&&r.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Soe(){if(T3())try{await C3()}catch(t){return Or.warn(da.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Or.warn(da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Aoe(t,e,n,r,a,l,c){const d=boe(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Or.error(x)),e.push(d);const f=Soe().then(x=>{if(x)return r.getId()}),[h,p]=await Promise.all([d,f]);moe(l)||ooe(l,h.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[noe]="firebase",g.update=!0,p!=null&&(g[toe]=p),a("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.app=e}_delete(){return delete Tu[this.app.options.appId],Promise.resolve()}}let Tu={},cR=[];const uR={};let Ww="dataLayer",Coe="gtag",dR,nE,fR=!1;function Ioe(){const t=[];if(A3()&&t.push("This is a browser extension environment."),Wie()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=da.create("invalid-analytics-context",{errorInfo:e});Or.warn(n.message)}}function Ooe(t,e,n){Ioe();const r=t.options.appId;if(!r)throw da.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw da.create("no-api-key");if(Tu[r]!=null)throw da.create("already-exists",{id:r});if(!fR){coe(Ww);const{wrappedGtag:l,gtagCore:c}=hoe(Tu,cR,uR,Ww,Coe);nE=l,dR=c,fR=!0}return Tu[r]=Aoe(t,cR,uR,e,dR,Ww,n),new Toe(t)}function Doe(t=I0()){t=En(t);const e=so(t,hy);return e.isInitialized()?e.getImmediate():Roe(t)}function Roe(t,e={}){const n=so(t,hy);if(n.isInitialized()){const a=n.getImmediate();if(Wl(e,n.getOptions()))return a;throw da.create("already-initialized")}return n.initialize({options:e})}function Poe(t,e,n){t=En(t),Eoe(nE,Tu[t.app.options.appId],e,n).catch(r=>Or.error(r))}function koe(t,e,n,r){t=En(t),joe(nE,Tu[t.app.options.appId],e,n,r).catch(a=>Or.error(a))}const hR="@firebase/analytics",mR="0.10.19";function Moe(){oi(new Ma(hy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Ooe(r,a,n)},"PUBLIC")),oi(new Ma("analytics-internal",t,"PRIVATE")),Kr(hR,mR),Kr(hR,mR,"esm2020");function t(e){try{const n=e.getProvider(hy).getImmediate();return{logEvent:(r,a,l)=>koe(n,r,a,l),setUserProperties:(r,a)=>Poe(n,r,a)}}catch(n){throw da.create("interop-component-reg-failed",{reason:n})}}}Moe();var pR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ql,rL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,U){function $(){}$.prototype=U.prototype,P.F=U.prototype,P.prototype=new $,P.prototype.constructor=P,P.D=function(A,D,z){for(var B=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)B[ge-2]=arguments[ge];return U.prototype[D].apply(A,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,U,$){$||($=0);const A=Array(16);if(typeof U=="string")for(var D=0;D<16;++D)A[D]=U.charCodeAt($++)|U.charCodeAt($++)<<8|U.charCodeAt($++)<<16|U.charCodeAt($++)<<24;else for(D=0;D<16;++D)A[D]=U[$++]|U[$++]<<8|U[$++]<<16|U[$++]<<24;U=P.g[0],$=P.g[1],D=P.g[2];let z=P.g[3],B;B=U+(z^$&(D^z))+A[0]+3614090360&4294967295,U=$+(B<<7&4294967295|B>>>25),B=z+(D^U&($^D))+A[1]+3905402710&4294967295,z=U+(B<<12&4294967295|B>>>20),B=D+($^z&(U^$))+A[2]+606105819&4294967295,D=z+(B<<17&4294967295|B>>>15),B=$+(U^D&(z^U))+A[3]+3250441966&4294967295,$=D+(B<<22&4294967295|B>>>10),B=U+(z^$&(D^z))+A[4]+4118548399&4294967295,U=$+(B<<7&4294967295|B>>>25),B=z+(D^U&($^D))+A[5]+1200080426&4294967295,z=U+(B<<12&4294967295|B>>>20),B=D+($^z&(U^$))+A[6]+2821735955&4294967295,D=z+(B<<17&4294967295|B>>>15),B=$+(U^D&(z^U))+A[7]+4249261313&4294967295,$=D+(B<<22&4294967295|B>>>10),B=U+(z^$&(D^z))+A[8]+1770035416&4294967295,U=$+(B<<7&4294967295|B>>>25),B=z+(D^U&($^D))+A[9]+2336552879&4294967295,z=U+(B<<12&4294967295|B>>>20),B=D+($^z&(U^$))+A[10]+4294925233&4294967295,D=z+(B<<17&4294967295|B>>>15),B=$+(U^D&(z^U))+A[11]+2304563134&4294967295,$=D+(B<<22&4294967295|B>>>10),B=U+(z^$&(D^z))+A[12]+1804603682&4294967295,U=$+(B<<7&4294967295|B>>>25),B=z+(D^U&($^D))+A[13]+4254626195&4294967295,z=U+(B<<12&4294967295|B>>>20),B=D+($^z&(U^$))+A[14]+2792965006&4294967295,D=z+(B<<17&4294967295|B>>>15),B=$+(U^D&(z^U))+A[15]+1236535329&4294967295,$=D+(B<<22&4294967295|B>>>10),B=U+(D^z&($^D))+A[1]+4129170786&4294967295,U=$+(B<<5&4294967295|B>>>27),B=z+($^D&(U^$))+A[6]+3225465664&4294967295,z=U+(B<<9&4294967295|B>>>23),B=D+(U^$&(z^U))+A[11]+643717713&4294967295,D=z+(B<<14&4294967295|B>>>18),B=$+(z^U&(D^z))+A[0]+3921069994&4294967295,$=D+(B<<20&4294967295|B>>>12),B=U+(D^z&($^D))+A[5]+3593408605&4294967295,U=$+(B<<5&4294967295|B>>>27),B=z+($^D&(U^$))+A[10]+38016083&4294967295,z=U+(B<<9&4294967295|B>>>23),B=D+(U^$&(z^U))+A[15]+3634488961&4294967295,D=z+(B<<14&4294967295|B>>>18),B=$+(z^U&(D^z))+A[4]+3889429448&4294967295,$=D+(B<<20&4294967295|B>>>12),B=U+(D^z&($^D))+A[9]+568446438&4294967295,U=$+(B<<5&4294967295|B>>>27),B=z+($^D&(U^$))+A[14]+3275163606&4294967295,z=U+(B<<9&4294967295|B>>>23),B=D+(U^$&(z^U))+A[3]+4107603335&4294967295,D=z+(B<<14&4294967295|B>>>18),B=$+(z^U&(D^z))+A[8]+1163531501&4294967295,$=D+(B<<20&4294967295|B>>>12),B=U+(D^z&($^D))+A[13]+2850285829&4294967295,U=$+(B<<5&4294967295|B>>>27),B=z+($^D&(U^$))+A[2]+4243563512&4294967295,z=U+(B<<9&4294967295|B>>>23),B=D+(U^$&(z^U))+A[7]+1735328473&4294967295,D=z+(B<<14&4294967295|B>>>18),B=$+(z^U&(D^z))+A[12]+2368359562&4294967295,$=D+(B<<20&4294967295|B>>>12),B=U+($^D^z)+A[5]+4294588738&4294967295,U=$+(B<<4&4294967295|B>>>28),B=z+(U^$^D)+A[8]+2272392833&4294967295,z=U+(B<<11&4294967295|B>>>21),B=D+(z^U^$)+A[11]+1839030562&4294967295,D=z+(B<<16&4294967295|B>>>16),B=$+(D^z^U)+A[14]+4259657740&4294967295,$=D+(B<<23&4294967295|B>>>9),B=U+($^D^z)+A[1]+2763975236&4294967295,U=$+(B<<4&4294967295|B>>>28),B=z+(U^$^D)+A[4]+1272893353&4294967295,z=U+(B<<11&4294967295|B>>>21),B=D+(z^U^$)+A[7]+4139469664&4294967295,D=z+(B<<16&4294967295|B>>>16),B=$+(D^z^U)+A[10]+3200236656&4294967295,$=D+(B<<23&4294967295|B>>>9),B=U+($^D^z)+A[13]+681279174&4294967295,U=$+(B<<4&4294967295|B>>>28),B=z+(U^$^D)+A[0]+3936430074&4294967295,z=U+(B<<11&4294967295|B>>>21),B=D+(z^U^$)+A[3]+3572445317&4294967295,D=z+(B<<16&4294967295|B>>>16),B=$+(D^z^U)+A[6]+76029189&4294967295,$=D+(B<<23&4294967295|B>>>9),B=U+($^D^z)+A[9]+3654602809&4294967295,U=$+(B<<4&4294967295|B>>>28),B=z+(U^$^D)+A[12]+3873151461&4294967295,z=U+(B<<11&4294967295|B>>>21),B=D+(z^U^$)+A[15]+530742520&4294967295,D=z+(B<<16&4294967295|B>>>16),B=$+(D^z^U)+A[2]+3299628645&4294967295,$=D+(B<<23&4294967295|B>>>9),B=U+(D^($|~z))+A[0]+4096336452&4294967295,U=$+(B<<6&4294967295|B>>>26),B=z+($^(U|~D))+A[7]+1126891415&4294967295,z=U+(B<<10&4294967295|B>>>22),B=D+(U^(z|~$))+A[14]+2878612391&4294967295,D=z+(B<<15&4294967295|B>>>17),B=$+(z^(D|~U))+A[5]+4237533241&4294967295,$=D+(B<<21&4294967295|B>>>11),B=U+(D^($|~z))+A[12]+1700485571&4294967295,U=$+(B<<6&4294967295|B>>>26),B=z+($^(U|~D))+A[3]+2399980690&4294967295,z=U+(B<<10&4294967295|B>>>22),B=D+(U^(z|~$))+A[10]+4293915773&4294967295,D=z+(B<<15&4294967295|B>>>17),B=$+(z^(D|~U))+A[1]+2240044497&4294967295,$=D+(B<<21&4294967295|B>>>11),B=U+(D^($|~z))+A[8]+1873313359&4294967295,U=$+(B<<6&4294967295|B>>>26),B=z+($^(U|~D))+A[15]+4264355552&4294967295,z=U+(B<<10&4294967295|B>>>22),B=D+(U^(z|~$))+A[6]+2734768916&4294967295,D=z+(B<<15&4294967295|B>>>17),B=$+(z^(D|~U))+A[13]+1309151649&4294967295,$=D+(B<<21&4294967295|B>>>11),B=U+(D^($|~z))+A[4]+4149444226&4294967295,U=$+(B<<6&4294967295|B>>>26),B=z+($^(U|~D))+A[11]+3174756917&4294967295,z=U+(B<<10&4294967295|B>>>22),B=D+(U^(z|~$))+A[2]+718787259&4294967295,D=z+(B<<15&4294967295|B>>>17),B=$+(z^(D|~U))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+U&4294967295,P.g[1]=P.g[1]+(D+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.v=function(P,U){U===void 0&&(U=P.length);const $=U-this.blockSize,A=this.C;let D=this.h,z=0;for(;z<U;){if(D==0)for(;z<=$;)a(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<U;)if(A[D++]=P.charCodeAt(z++),D==this.blockSize){a(this,A),D=0;break}}else for(;z<U;)if(A[D++]=P[z++],D==this.blockSize){a(this,A),D=0;break}}this.h=D,this.o+=U},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var U=1;U<P.length-8;++U)P[U]=0;U=this.o*8;for(var $=P.length-8;$<P.length;++$)P[$]=U&255,U/=256;for(this.v(P),P=Array(16),U=0,$=0;$<4;++$)for(let A=0;A<32;A+=8)P[U++]=this.g[$]>>>A&255;return P};function l(P,U){var $=d;return Object.prototype.hasOwnProperty.call($,P)?$[P]:$[P]=U(P)}function c(P,U){this.h=U;const $=[];let A=!0;for(let D=P.length-1;D>=0;D--){const z=P[D]|0;A&&z==U||($[D]=z,A=!1)}this.g=$}var d={};function f(P){return-128<=P&&P<128?l(P,function(U){return new c([U|0],U<0?-1:0)}):new c([P|0],P<0?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return g;if(P<0)return _(h(-P));const U=[];let $=1;for(let A=0;P>=$;A++)U[A]=P/$|0,$*=4294967296;return new c(U,0)}function p(P,U){if(P.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(P.charAt(0)=="-")return _(p(P.substring(1),U));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const $=h(Math.pow(U,8));let A=g;for(let z=0;z<P.length;z+=8){var D=Math.min(8,P.length-z);const B=parseInt(P.substring(z,z+D),U);D<8?(D=h(Math.pow(U,D)),A=A.j(D).add(h(B))):(A=A.j($),A=A.add(h(B)))}return A}var g=f(0),x=f(1),N=f(16777216);t=c.prototype,t.m=function(){if(j(this))return-_(this).m();let P=0,U=1;for(let $=0;$<this.g.length;$++){const A=this.i($);P+=(A>=0?A:4294967296+A)*U,U*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(j(this))return"-"+_(this).toString(P);const U=h(Math.pow(P,6));var $=this;let A="";for(;;){const D=T($,U).g;$=O($,D.j(U));let z=(($.g.length>0?$.g[0]:$.h)>>>0).toString(P);if($=D,E($))return z+A;for(;z.length<6;)z="0"+z;A=z+A}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(let U=0;U<P.g.length;U++)if(P.g[U]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=O(this,P),j(P)?-1:E(P)?0:1};function _(P){const U=P.g.length,$=[];for(let A=0;A<U;A++)$[A]=~P.g[A];return new c($,~P.h).add(x)}t.abs=function(){return j(this)?_(this):this},t.add=function(P){const U=Math.max(this.g.length,P.g.length),$=[];let A=0;for(let D=0;D<=U;D++){let z=A+(this.i(D)&65535)+(P.i(D)&65535),B=(z>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);A=B>>>16,z&=65535,B&=65535,$[D]=B<<16|z}return new c($,$[$.length-1]&-2147483648?-1:0)};function O(P,U){return P.add(_(U))}t.j=function(P){if(E(this)||E(P))return g;if(j(this))return j(P)?_(this).j(_(P)):_(_(this).j(P));if(j(P))return _(this.j(_(P)));if(this.l(N)<0&&P.l(N)<0)return h(this.m()*P.m());const U=this.g.length+P.g.length,$=[];for(var A=0;A<2*U;A++)$[A]=0;for(A=0;A<this.g.length;A++)for(let D=0;D<P.g.length;D++){const z=this.i(A)>>>16,B=this.i(A)&65535,ge=P.i(D)>>>16,re=P.i(D)&65535;$[2*A+2*D]+=B*re,R($,2*A+2*D),$[2*A+2*D+1]+=z*re,R($,2*A+2*D+1),$[2*A+2*D+1]+=B*ge,R($,2*A+2*D+1),$[2*A+2*D+2]+=z*ge,R($,2*A+2*D+2)}for(P=0;P<U;P++)$[P]=$[2*P+1]<<16|$[2*P];for(P=U;P<2*U;P++)$[P]=0;return new c($,0)};function R(P,U){for(;(P[U]&65535)!=P[U];)P[U+1]+=P[U]>>>16,P[U]&=65535,U++}function M(P,U){this.g=P,this.h=U}function T(P,U){if(E(U))throw Error("division by zero");if(E(P))return new M(g,g);if(j(P))return U=T(_(P),U),new M(_(U.g),_(U.h));if(j(U))return U=T(P,_(U)),new M(_(U.g),U.h);if(P.g.length>30){if(j(P)||j(U))throw Error("slowDivide_ only works with positive integers.");for(var $=x,A=U;A.l(P)<=0;)$=C($),A=C(A);var D=L($,1),z=L(A,1);for(A=L(A,2),$=L($,2);!E(A);){var B=z.add(A);B.l(P)<=0&&(D=D.add($),z=B),A=L(A,1),$=L($,1)}return U=O(P,D.j(U)),new M(D,U)}for(D=g;P.l(U)>=0;){for($=Math.max(1,Math.floor(P.m()/U.m())),A=Math.ceil(Math.log($)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),z=h($),B=z.j(U);j(B)||B.l(P)>0;)$-=A,z=h($),B=z.j(U);E(z)&&(z=x),D=D.add(z),P=O(P,B)}return new M(D,P)}t.B=function(P){return T(this,P).h},t.and=function(P){const U=Math.max(this.g.length,P.g.length),$=[];for(let A=0;A<U;A++)$[A]=this.i(A)&P.i(A);return new c($,this.h&P.h)},t.or=function(P){const U=Math.max(this.g.length,P.g.length),$=[];for(let A=0;A<U;A++)$[A]=this.i(A)|P.i(A);return new c($,this.h|P.h)},t.xor=function(P){const U=Math.max(this.g.length,P.g.length),$=[];for(let A=0;A<U;A++)$[A]=this.i(A)^P.i(A);return new c($,this.h^P.h)};function C(P){const U=P.g.length+1,$=[];for(let A=0;A<U;A++)$[A]=P.i(A)<<1|P.i(A-1)>>>31;return new c($,P.h)}function L(P,U){const $=U>>5;U%=32;const A=P.g.length-$,D=[];for(let z=0;z<A;z++)D[z]=U>0?P.i(z+$)>>>U|P.i(z+$+1)<<32-U:P.i(z+$);return new c(D,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rL=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,ql=c}).apply(typeof pR<"u"?pR:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aL,If,iL,sg,xN,sL,lL,oL;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var S=0;S<y.length;++S){var k=y[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var k=r;y=y.split(".");for(var q=0;q<y.length-1;q++){var ne=y[q];if(!(ne in k))break e;k=k[ne]}y=y[y.length-1],q=k[y],S=S(q),S!=q&&S!=null&&e(k,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var k=[],q;for(q in S)Object.prototype.hasOwnProperty.call(S,q)&&k.push([q,S[q]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function f(y,S,k){return y.call.apply(y.bind,arguments)}function h(y,S,k){return h=f,h.apply(null,arguments)}function p(y,S){var k=Array.prototype.slice.call(arguments,1);return function(){var q=k.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,S){function k(){}k.prototype=S.prototype,y.Z=S.prototype,y.prototype=new k,y.prototype.constructor=y,y.Ob=function(q,ne,ue){for(var Ae=Array(arguments.length-2),it=2;it<arguments.length;it++)Ae[it-2]=arguments[it];return S.prototype[ne].apply(q,Ae)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function N(y){const S=y.length;if(S>0){const k=Array(S);for(let q=0;q<S;q++)k[q]=y[q];return k}return[]}function E(y,S){for(let q=1;q<arguments.length;q++){const ne=arguments[q];var k=typeof ne;if(k=k!="object"?k:ne?Array.isArray(ne)?"array":k:"null",k=="array"||k=="object"&&typeof ne.length=="number"){k=y.length||0;const ue=ne.length||0;y.length=k+ue;for(let Ae=0;Ae<ue;Ae++)y[k+Ae]=ne[Ae]}else y.push(ne)}}class j{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function _(y){c.setTimeout(()=>{throw y},0)}function O(){var y=P;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class R{constructor(){this.h=this.g=null}add(S,k){const q=M.get();q.set(S,k),this.h?this.h.next=q:this.g=q,this.h=q}}var M=new j(()=>new T,y=>y.reset());class T{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let C,L=!1,P=new R,U=()=>{const y=Promise.resolve(void 0);C=()=>{y.then($)}};function $(){for(var y;y=O();){try{y.h.call(y.g)}catch(k){_(k)}var S=M;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}L=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const k=()=>{};c.addEventListener("test",k,S),c.removeEventListener("test",k,S)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function ge(y,S){D.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(ge,D),ge.prototype.init=function(y,S){const k=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(k=="mouseover"?S=y.fromElement:k=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),G=0;function Y(y,S,k,q,ne){this.listener=y,this.proxy=null,this.src=S,this.type=k,this.capture=!!q,this.ha=ne,this.key=++G,this.da=this.fa=!1}function H(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function he(y,S,k){for(const q in y)S.call(k,y[q],q,y)}function X(y,S){for(const k in y)S.call(void 0,y[k],k,y)}function V(y){const S={};for(const k in y)S[k]=y[k];return S}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(y,S){let k,q;for(let ne=1;ne<arguments.length;ne++){q=arguments[ne];for(k in q)y[k]=q[k];for(let ue=0;ue<W.length;ue++)k=W[ue],Object.prototype.hasOwnProperty.call(q,k)&&(y[k]=q[k])}}function Z(y){this.src=y,this.g={},this.h=0}Z.prototype.add=function(y,S,k,q,ne){const ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);const Ae=Te(y,S,q,ne);return Ae>-1?(S=y[Ae],k||(S.fa=!1)):(S=new Y(S,this.src,ue,!!q,ne),S.fa=k,y.push(S)),S};function xe(y,S){const k=S.type;if(k in y.g){var q=y.g[k],ne=Array.prototype.indexOf.call(q,S,void 0),ue;(ue=ne>=0)&&Array.prototype.splice.call(q,ne,1),ue&&(H(S),y.g[k].length==0&&(delete y.g[k],y.h--))}}function Te(y,S,k,q){for(let ne=0;ne<y.length;++ne){const ue=y[ne];if(!ue.da&&ue.listener==S&&ue.capture==!!k&&ue.ha==q)return ne}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ae={};function le(y,S,k,q,ne){if(Array.isArray(S)){for(let ue=0;ue<S.length;ue++)le(y,S[ue],k,q,ne);return null}return k=ve(k),y&&y[re]?y.J(S,k,d(q)?!!q.capture:!1,ne):ke(y,S,k,!1,q,ne)}function ke(y,S,k,q,ne,ue){if(!S)throw Error("Invalid event type");const Ae=d(ne)?!!ne.capture:!!ne;let it=Ee(y);if(it||(y[De]=it=new Z(y)),k=it.add(S,k,q,Ae,ue),k.proxy)return k;if(q=J(),k.proxy=q,q.src=y,q.listener=k,y.addEventListener)z||(ne=Ae),ne===void 0&&(ne=!1),y.addEventListener(S.toString(),q,ne);else if(y.attachEvent)y.attachEvent(Ge(S.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return k}function J(){function y(k){return S.call(y.src,y.listener,k)}const S=St;return y}function de(y,S,k,q,ne){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)de(y,S[ue],k,q,ne);else q=d(q)?!!q.capture:!!q,k=ve(k),y&&y[re]?(y=y.i,ue=String(S).toString(),ue in y.g&&(S=y.g[ue],k=Te(S,k,q,ne),k>-1&&(H(S[k]),Array.prototype.splice.call(S,k,1),S.length==0&&(delete y.g[ue],y.h--)))):y&&(y=Ee(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Te(S,k,q,ne)),(k=y>-1?S[y]:null)&&Ve(k))}function Ve(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[re])xe(S.i,y);else{var k=y.type,q=y.proxy;S.removeEventListener?S.removeEventListener(k,q,y.capture):S.detachEvent?S.detachEvent(Ge(k),q):S.addListener&&S.removeListener&&S.removeListener(q),(k=Ee(S))?(xe(k,y),k.h==0&&(k.src=null,S[De]=null)):H(y)}}}function Ge(y){return y in ae?ae[y]:ae[y]="on"+y}function St(y,S){if(y.da)y=!0;else{S=new ge(S,this);const k=y.listener,q=y.ha||y.src;y.fa&&Ve(y),y=k.call(q,S)}return y}function Ee(y){return y=y[De],y instanceof Z?y:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ve(y){return typeof y=="function"?y:(y[yt]||(y[yt]=function(S){return y.handleEvent(S)}),y[yt])}function et(){A.call(this),this.i=new Z(this),this.M=this,this.G=null}g(et,A),et.prototype[re]=!0,et.prototype.removeEventListener=function(y,S,k,q){de(this,y,S,k,q)};function Qe(y,S){var k,q=y.G;if(q)for(k=[];q;q=q.G)k.push(q);if(y=y.M,q=S.type||S,typeof S=="string")S=new D(S,y);else if(S instanceof D)S.target=S.target||y;else{var ne=S;S=new D(q,y),pe(S,ne)}ne=!0;let ue,Ae;if(k)for(Ae=k.length-1;Ae>=0;Ae--)ue=S.g=k[Ae],ne=Rt(ue,q,!0,S)&&ne;if(ue=S.g=y,ne=Rt(ue,q,!0,S)&&ne,ne=Rt(ue,q,!1,S)&&ne,k)for(Ae=0;Ae<k.length;Ae++)ue=S.g=k[Ae],ne=Rt(ue,q,!1,S)&&ne}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const k=y.g[S];for(let q=0;q<k.length;q++)H(k[q]);delete y.g[S],y.h--}}this.G=null},et.prototype.J=function(y,S,k,q){return this.i.add(String(y),S,!1,k,q)},et.prototype.K=function(y,S,k,q){return this.i.add(String(y),S,!0,k,q)};function Rt(y,S,k,q){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let ne=!0;for(let ue=0;ue<S.length;++ue){const Ae=S[ue];if(Ae&&!Ae.da&&Ae.capture==k){const it=Ae.listener,vn=Ae.ha||Ae.src;Ae.fa&&xe(y.i,Ae),ne=it.call(vn,q)!==!1&&ne}}return ne&&!q.defaultPrevented}function hi(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function te(y){y.g=hi(()=>{y.g=null,y.i&&(y.i=!1,te(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class Pe extends A{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:te(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(y){A.call(this),this.h=y,this.g={}}g(We,A);var ze=[];function Ht(y){he(y.g,function(S,k){this.g.hasOwnProperty(k)&&Ve(S)},y),y.g={}}We.prototype.N=function(){We.Z.N.call(this),Ht(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=c.JSON.stringify,mi=c.JSON.parse,Va=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Qh(){}function Jh(){}var za={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lr(){D.call(this,"d")}g(lr,D);function ma(){D.call(this,"c")}g(ma,D);var yn={},Zh=null;function Ec(){return Zh=Zh||new et}yn.Ia="serverreachability";function em(y){D.call(this,yn.Ia,y)}g(em,D);function pi(y){const S=Ec();Qe(S,new em(S))}yn.STAT_EVENT="statevent";function ho(y,S){D.call(this,yn.STAT_EVENT,y),this.stat=S}g(ho,D);function Sn(y){const S=Ec();Qe(S,new ho(S,y))}yn.Ja="timingevent";function gi(y,S){D.call(this,yn.Ja,y),this.size=S}g(gi,D);function yi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function Ba(){this.g=!0}Ba.prototype.ua=function(){this.g=!1};function nv(y,S,k,q,ne,ue){y.info(function(){if(y.g)if(ue){var Ae="",it=ue.split("&");for(let _t=0;_t<it.length;_t++){var vn=it[_t].split("=");if(vn.length>1){const en=vn[0];vn=vn[1];const va=en.split("_");Ae=va.length>=2&&va[1]=="type"?Ae+(en+"="+vn+"&"):Ae+(en+"=redacted&")}}}else Ae=null;else Ae=ue;return"XMLHTTP REQ ("+q+") [attempt "+ne+"]: "+S+`
`+k+`
`+Ae})}function tm(y,S,k,q,ne,ue,Ae){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ne+"]: "+S+`
`+k+`
`+ue+" "+Ae})}function vi(y,S,k,q){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+rv(y,k)+(q?" "+q:"")})}function mo(y,S){y.info(function(){return"TIMEOUT: "+S})}Ba.prototype.info=function(){};function rv(y,S){if(!y.g)return S;if(!S)return null;try{const ue=JSON.parse(S);if(ue){for(y=0;y<ue.length;y++)if(Array.isArray(ue[y])){var k=ue[y];if(!(k.length<2)){var q=k[1];if(Array.isArray(q)&&!(q.length<1)){var ne=q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ae=1;Ae<q.length;Ae++)q[Ae]=""}}}}return $t(ue)}catch{return S}}var po={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vd;function go(){}g(go,Qh),go.prototype.g=function(){return new XMLHttpRequest},vd=new go;function rs(y){return encodeURIComponent(String(y))}function nm(y){var S=1;y=y.split(":");const k=[];for(;S>0&&y.length;)k.push(y.shift()),S--;return y.length&&k.push(y.join(":")),k}function $a(y,S,k,q){this.j=y,this.i=S,this.l=k,this.S=q||1,this.V=new We(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}var An={},Wn={};function xi(y,S,k){y.M=1,y.A=yo(Cn(S)),y.u=k,y.R=!0,Sc(y,null)}function Sc(y,S){y.F=Date.now(),bi(y),y.B=Cn(y.A);var k=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Ic(k.i,"t",q),y.C=0,k=y.j.L,y.h=new Fa,y.g=ym(y.j,k?S:null,!y.u),y.P>0&&(y.O=new Pe(h(y.Y,y,y.g),y.P)),S=y.V,k=y.g,q=y.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(ze[0]=ne.toString()),ne=ze);for(let ue=0;ue<ne.length;ue++){const Ae=le(k,ne[ue],q||S.handleEvent,!1,S.h||S);if(!Ae)break;S.g[Ae.key]=Ae}S=y.J?V(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),pi(),nv(y.i,y.v,y.B,y.l,y.S,y.u)}$a.prototype.ba=function(y){y=y.target;const S=this.O;S&&Ga(y)==3?S.j():this.Y(y)},$a.prototype.Y=function(y){try{if(y==this.g)e:{const it=Ga(this.g),vn=this.g.ya(),_t=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||or(this.g)))){this.K||it!=4||vn==7||(vn==8||_t<=0?pi(3):pi(2)),wi(this);var S=this.g.ca();this.X=S;var k=av(this);if(this.o=S==200,tm(this.i,this.v,this.B,this.l,this.S,it,S),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ne=this.g;if((q=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(q)){var ue=q;break t}}ue=null}if(y=ue)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,y);else{this.o=!1,this.m=3,Sn(12),Qr(this),pa(this);break e}}if(this.R){y=!0;let en;for(;!this.K&&this.C<k.length;)if(en=am(this,k),en==Wn){it==4&&(this.m=4,Sn(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==An){this.m=4,Sn(15),vi(this.i,this.l,k,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,en,null),Ni(this,en);if(rm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||k.length!=0||this.h.h||(this.m=1,Sn(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,k,"[Invalid Chunked Response]"),Qr(this),pa(this);else if(k.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Rd(Ae),Ae.P=!0,Sn(11))}}else vi(this.i,this.l,k,null),Ni(this,k);it==4&&Qr(this),this.o&&!this.K&&(it==4?hm(this.j,this):(this.o=!1,bi(this)))}else is(this.g),S==400&&k.indexOf("Unknown SID")>0?(this.m=3,Sn(12)):(this.m=0,Sn(13)),Qr(this),pa(this)}}}catch{}finally{}};function av(y){if(!rm(y))return y.g.la();const S=or(y.g);if(S==="")return"";let k="";const q=S.length,ne=Ga(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Qr(y),pa(y),"";y.h.i=new c.TextDecoder}for(let ue=0;ue<q;ue++)y.h.h=!0,k+=y.h.i.decode(S[ue],{stream:!(ne&&ue==q-1)});return S.length=0,y.h.g+=k,y.C=0,y.h.g}function rm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function am(y,S){var k=y.C,q=S.indexOf(`
`,k);return q==-1?Wn:(k=Number(S.substring(k,q)),isNaN(k)?An:(q+=1,q+k>S.length?Wn:(S=S.slice(q,q+k),y.C=q+k,S)))}$a.prototype.cancel=function(){this.K=!0,Qr(this)};function bi(y){y.T=Date.now()+y.H,Ac(y,y.H)}function Ac(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=yi(h(y.aa,y),S)}function wi(y){y.D&&(c.clearTimeout(y.D),y.D=null)}$a.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(mo(this.i,this.B),this.M!=2&&(pi(),Sn(17)),Qr(this),this.m=2,pa(this)):Ac(this,this.T-y)};function pa(y){y.j.I==0||y.K||hm(y.j,y)}function Qr(y){wi(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,Ht(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function Ni(y,S){try{var k=y.j;if(k.I!=0&&(k.g==y||ji(k.h,y))){if(!y.L&&ji(k.h,y)&&k.I==3){try{var q=k.Ba.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ne=q;if(ne[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<y.F)kc(k),ol(k);else break e;jo(k),Sn(18)}}else k.xa=ne[1],0<k.xa-k.K&&ne[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=yi(h(k.Va,k),6e3));_i(k.h)<=1&&k.ta&&(k.ta=void 0)}else Ii(k,11)}else if((y.L||k.g==y)&&kc(k),!B(S))for(ne=k.Ba.g.parse(S),S=0;S<ne.length;S++){let _t=ne[S];const en=_t[0];if(!(en<=k.K))if(k.K=en,_t=_t[1],k.I==2)if(_t[0]=="c"){k.M=_t[1],k.ba=_t[2];const va=_t[3];va!=null&&(k.ka=va,k.j.info("VER="+k.ka));const Oi=_t[4];Oi!=null&&(k.za=Oi,k.j.info("SVER="+k.za));const Ka=_t[5];Ka!=null&&typeof Ka=="number"&&Ka>0&&(q=1.5*Ka,k.O=q,k.j.info("backChannelRequestTimeoutMs_="+q)),q=k;const Ya=y.g;if(Ya){const Eo=Ya.g?Ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var ue=q.h;ue.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(wd(ue,ue.h),ue.h=null))}if(q.G){const Mc=Ya.g?Ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Mc&&(q.wa=Mc,Ct(q.J,q.G,Mc))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-y.F,k.j.info("Handshake RTT: "+k.T+"ms")),q=k;var Ae=y;if(q.na=gm(q,q.L?q.ba:null,q.W),Ae.L){Nd(q.h,Ae);var it=Ae,vn=q.O;vn&&(it.H=vn),it.D&&(wi(it),bi(it)),q.g=Ae}else dm(q);k.i.length>0&&Ci(k)}else _t[0]!="stop"&&_t[0]!="close"||Ii(k,7);else k.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Ii(k,7):Od(k):_t[0]!="noop"&&k.l&&k.l.qa(_t),k.A=0)}}pi(4)}catch{}}var Tn=class{constructor(y,S){this.g=y,this.map=S}};function xd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function _i(y){return y.h?1:y.g?y.g.size:0}function ji(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function wd(y,S){y.g?y.g.add(S):y.h=S}function Nd(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}xd.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function _d(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const k of y.g.values())S=S.concat(k.G);return S}return N(y.i)}var im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(y,S){if(y){y=y.split("&");for(let k=0;k<y.length;k++){const q=y[k].indexOf("=");let ne,ue=null;q>=0?(ne=y[k].substring(0,q),ue=y[k].substring(q+1)):ne=y[k],S(ne,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Jr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof Jr?(this.l=y.l,Xn(this,y.j),this.o=y.o,this.g=y.g,tl(this,y.u),this.h=y.h,jd(this,cm(y.i)),this.m=y.m):y&&(S=String(y).match(im))?(this.l=!1,Xn(this,S[1]||"",!0),this.o=Ei(S[2]||""),this.g=Ei(S[3]||"",!0),tl(this,S[4]),this.h=Ei(S[5]||"",!0),jd(this,S[6]||"",!0),this.m=Ei(S[7]||"")):(this.l=!1,this.i=new rl(null,this.l))}Jr.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(vo(S,Cc,!0),":");var k=this.g;return(k||S=="file")&&(y.push("//"),(S=this.o)&&y.push(vo(S,Cc,!0),"@"),y.push(rs(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&y.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&y.push("/"),y.push(vo(k,k.charAt(0)=="/"?Ed:sm,!0))),(k=this.i.toString())&&y.push("?",k),(k=this.m)&&y.push("#",vo(k,lm)),y.join("")},Jr.prototype.resolve=function(y){const S=Cn(this);let k=!!y.j;k?Xn(S,y.j):k=!!y.o,k?S.o=y.o:k=!!y.g,k?S.g=y.g:k=y.u!=null;var q=y.h;if(k)tl(S,y.u);else if(k=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ne=S.h.lastIndexOf("/");ne!=-1&&(q=S.h.slice(0,ne+1)+q)}if(ne=q,ne==".."||ne==".")q="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){q=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ue=[];for(let Ae=0;Ae<ne.length;){const it=ne[Ae++];it=="."?q&&Ae==ne.length&&ue.push(""):it==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),q&&Ae==ne.length&&ue.push("")):(ue.push(it),q=!0)}q=ue.join("/")}else q=ne}return k?S.h=q:k=y.i.toString()!=="",k?jd(S,cm(y.i)):k=!!y.m,k&&(S.m=y.m),S};function Cn(y){return new Jr(y)}function Xn(y,S,k){y.j=k?Ei(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function tl(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function jd(y,S,k){S instanceof rl?(y.i=S,Oc(y.i,y.l)):(k||(S=vo(S,nl)),y.i=new rl(S,y.l))}function Ct(y,S,k){y.i.set(S,k)}function yo(y){return Ct(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ei(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function vo(y,S,k){return typeof y=="string"?(y=encodeURI(y).replace(S,Pr),k&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Pr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Cc=/[#\/\?@]/g,sm=/[#\?:]/g,Ed=/[#\?]/g,nl=/[#\?@]/g,lm=/#/g;function rl(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function kr(y){y.g||(y.g=new Map,y.h=0,y.i&&Tc(y.i,function(S,k){y.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=rl.prototype,t.add=function(y,S){kr(this),this.i=null,y=al(this,y);let k=this.g.get(y);return k||this.g.set(y,k=[]),k.push(S),this.h+=1,this};function om(y,S){kr(y),S=al(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Sd(y,S){return kr(y),S=al(y,S),y.g.has(S)}t.forEach=function(y,S){kr(this),this.g.forEach(function(k,q){k.forEach(function(ne){y.call(S,ne,q,this)},this)},this)};function Ad(y,S){kr(y);let k=[];if(typeof S=="string")Sd(y,S)&&(k=k.concat(y.g.get(al(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)k=k.concat(y[S]);return k}t.set=function(y,S){return kr(this),this.i=null,y=al(this,y),Sd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=Ad(this,y),y.length>0?String(y[0]):S):S};function Ic(y,S,k){om(y,S),k.length>0&&(y.i=null,y.g.set(al(y,S),N(k)),y.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let q=0;q<S.length;q++){var k=S[q];const ne=rs(k);k=Ad(this,k);for(let ue=0;ue<k.length;ue++){let Ae=ne;k[ue]!==""&&(Ae+="="+rs(k[ue])),y.push(Ae)}}return this.i=y.join("&")};function cm(y){const S=new rl;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function al(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Oc(y,S){S&&!y.j&&(kr(y),y.i=null,y.g.forEach(function(k,q){const ne=q.toLowerCase();q!=ne&&(om(this,q),Ic(this,ne,k))},y)),y.j=S}function qa(y,S){const k=new Ba;if(c.Image){const q=new Image;q.onload=p(ga,k,"TestLoadImage: loaded",!0,S,q),q.onerror=p(ga,k,"TestLoadImage: error",!1,S,q),q.onabort=p(ga,k,"TestLoadImage: abort",!1,S,q),q.ontimeout=p(ga,k,"TestLoadImage: timeout",!1,S,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else S(!1)}function Td(y,S){const k=new Ba,q=new AbortController,ne=setTimeout(()=>{q.abort(),ga(k,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:q.signal}).then(ue=>{clearTimeout(ne),ue.ok?ga(k,"TestPingServer: ok",!0,S):ga(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ne),ga(k,"TestPingServer: error",!1,S)})}function ga(y,S,k,q,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),q(k)}catch{}}function il(){this.g=new Va}function Si(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Si,Qh),Si.prototype.g=function(){return new xo(this.i,this.h)};function xo(y,S){et.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(xo,et),t=xo.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ha(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?sl(this):Ha(this),this.readyState==3&&Dc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,sl(this))},t.Na=function(y){this.g&&(this.response=y,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ha(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,y.push(k[0]+": "+k[1]),k=S.next();return y.join(`\r
`)};function Ha(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ya(y){let S="";return he(y,function(k,q){S+=q,S+=":",S+=k,S+=`\r
`}),S}function bo(y,S,k){e:{for(q in k){var q=!1;break e}q=!0}q||(k=ya(k),typeof y=="string"?k!=null&&rs(k):Ct(y,S,k))}function Pt(y){et.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Pt,et);var Ai=/^https?$/i,Cd=["POST","PUT"];t=Pt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,k,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vd.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(ue){wo(this,ue);return}if(y=k||"",k=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ne in q)k.set(ne,q[ne]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ue of q.keys())k.set(ue,q.get(ue));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(k.keys()).find(ue=>ue.toLowerCase()=="content-type"),ne=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Cd,S,void 0)>=0)||q||ne||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ae]of k)this.g.setRequestHeader(ue,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ue){wo(this,ue)}};function wo(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Id(y),as(y)}function Id(y){y.A||(y.A=!0,Qe(y,"complete"),Qe(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Qe(this,"complete"),Qe(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?No(this):this.Xa())},t.Xa=function(){No(this)};function No(y){if(y.h&&typeof l<"u"){if(y.v&&Ga(y)==4)setTimeout(y.Ca.bind(y),0);else if(Qe(y,"readystatechange"),Ga(y)==4){y.h=!1;try{const ue=y.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var q;if(q=ue===0){let Ae=String(y.D).match(im)[1]||null;!Ae&&c.self&&c.self.location&&(Ae=c.self.location.protocol.slice(0,-1)),q=!Ai.test(Ae?Ae.toLowerCase():"")}k=q}if(k)Qe(y,"complete"),Qe(y,"success");else{y.o=6;try{var ne=Ga(y)>2?y.g.statusText:""}catch{ne=""}y.l=ne+" ["+y.ca()+"]",Id(y)}}finally{as(y)}}}}function as(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const k=y.g;y.g=null,S||Qe(y,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ga(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ga(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),mi(S)}};function or(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function is(y){const S={};y=(y.g&&Ga(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(B(y[q]))continue;var k=nm(y[q]);const ne=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ue=S[ne]||[];S[ne]=ue,ue.push(k)}X(S,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(y,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[y]||S}function ll(y){this.za=0,this.i=[],this.j=new Ba,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,y),this.Za=Ti("retryDelaySeedMs",1e4,y),this.Ta=Ti("forwardChannelMaxRetries",2,y),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new xd(y&&y.concurrentRequestLimit),this.Ba=new il,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ll.prototype,t.ka=8,t.I=1,t.connect=function(y,S,k,q){Sn(0),this.W=y,this.H=S||{},k&&q!==void 0&&(this.H.OSID=k,this.H.OAID=q),this.F=this.X,this.J=gm(this,null,this.W),Ci(this)};function Od(y){if(Rc(y),y.I==3){var S=y.V++,k=Cn(y.J);if(Ct(k,"SID",y.M),Ct(k,"RID",S),Ct(k,"TYPE","terminate"),_o(y,k),S=new $a(y,y.j,S),S.M=2,S.A=yo(Cn(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!k&&c.Image&&(new Image().src=S.A,k=!0),k||(S.g=ym(S.j,null),S.g.ea(S.A)),S.F=Date.now(),bi(S)}pm(y)}function ol(y){y.g&&(Rd(y),y.g.cancel(),y.g=null)}function Rc(y){ol(y),y.v&&(c.clearTimeout(y.v),y.v=null),kc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ci(y){if(!bd(y.h)&&!y.m){y.m=!0;var S=y.Ea;C||U(),L||(C(),L=!0),P.add(S,y),y.D=0}}function Pc(y,S){return _i(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=yi(h(y.Ea,y,S),mm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ne=new $a(this,this.j,y);let ue=this.o;if(this.U&&(ue?(ue=V(ue),pe(ue,this.U)):ue=this.U),this.u!==null||this.R||(ne.J=ue,ue=null),this.S)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var q=this.i[k];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(S+=q,S>4096){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=um(this,ne,S),k=Cn(this.J),Ct(k,"RID",y),Ct(k,"CVER",22),this.G&&Ct(k,"X-HTTP-Session-Id",this.G),_o(this,k),ue&&(this.R?S="headers="+rs(ya(ue))+"&"+S:this.u&&bo(k,this.u,ue)),wd(this.h,ne),this.Ra&&Ct(k,"TYPE","init"),this.S?(Ct(k,"$req",S),Ct(k,"SID","null"),ne.U=!0,xi(ne,k,null)):xi(ne,k,S),this.I=2}}else this.I==3&&(y?Dd(this,y):this.i.length==0||bd(this.h)||Dd(this))};function Dd(y,S){var k;S?k=S.l:k=y.V++;const q=Cn(y.J);Ct(q,"SID",y.M),Ct(q,"RID",k),Ct(q,"AID",y.K),_o(y,q),y.u&&y.o&&bo(q,y.u,y.o),k=new $a(y,y.j,k,y.D+1),y.u===null&&(k.J=y.o),S&&(y.i=S.G.concat(y.i)),S=um(y,k,1e3),k.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),wd(y.h,k),xi(k,q,S)}function _o(y,S){y.H&&he(y.H,function(k,q){Ct(S,q,k)}),y.l&&he({},function(k,q){Ct(S,q,k)})}function um(y,S,k){k=Math.min(y.i.length,k);const q=y.l?h(y.l.Ka,y.l,y):null;e:{var ne=y.i;let it=-1;for(;;){const vn=["count="+k];it==-1?k>0?(it=ne[0].g,vn.push("ofs="+it)):it=0:vn.push("ofs="+it);let _t=!0;for(let en=0;en<k;en++){var ue=ne[en].g;const va=ne[en].map;if(ue-=it,ue<0)it=Math.max(0,ne[en].g-100),_t=!1;else try{ue="req"+ue+"_"||"";try{var Ae=va instanceof Map?va:Object.entries(va);for(const[Oi,Ka]of Ae){let Ya=Ka;d(Ka)&&(Ya=$t(Ka)),vn.push(ue+Oi+"="+encodeURIComponent(Ya))}}catch(Oi){throw vn.push(ue+"type="+encodeURIComponent("_badmap")),Oi}}catch{q&&q(va)}}if(_t){Ae=vn.join("&");break e}}Ae=void 0}return y=y.i.splice(0,k),S.G=y,Ae}function dm(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;C||U(),L||(C(),L=!0),P.add(S,y),y.A=0}}function jo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=yi(h(y.Da,y),mm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=yi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Sn(10),ol(this),fm(this))};function Rd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function fm(y){y.g=new $a(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=Cn(y.na);Ct(S,"RID","rpc"),Ct(S,"SID",y.M),Ct(S,"AID",y.K),Ct(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&Ct(S,"TO",y.ia),Ct(S,"TYPE","xmlhttp"),_o(y,S),y.u&&y.o&&bo(S,y.u,y.o),y.O&&(y.g.H=y.O);var k=y.g;y=y.ba,k.M=1,k.A=yo(Cn(S)),k.u=null,k.R=!0,Sc(k,y)}t.Va=function(){this.C!=null&&(this.C=null,ol(this),jo(this),Sn(19))};function kc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function hm(y,S){var k=null;if(y.g==S){kc(y),Rd(y),y.g=null;var q=2}else if(ji(y.h,S))k=S.G,Nd(y.h,S),q=1;else return;if(y.I!=0){if(S.o)if(q==1){k=S.u?S.u.length:0,S=Date.now()-S.F;var ne=y.D;q=Ec(),Qe(q,new gi(q,k)),Ci(y)}else dm(y);else if(ne=S.m,ne==3||ne==0&&S.X>0||!(q==1&&Pc(y,S)||q==2&&jo(y)))switch(k&&k.length>0&&(S=y.h,S.i=S.i.concat(k)),ne){case 1:Ii(y,5);break;case 4:Ii(y,10);break;case 3:Ii(y,6);break;default:Ii(y,2)}}}function mm(y,S){let k=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(k*=2),k*S}function Ii(y,S){if(y.j.info("Error code "+S),S==2){var k=h(y.bb,y),q=y.Ua;const ne=!q;q=new Jr(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xn(q,"https"),yo(q),ne?qa(q.toString(),k):Td(q.toString(),k)}else Sn(2);y.I=0,y.l&&y.l.pa(S),pm(y),Rc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function pm(y){if(y.I=0,y.ja=[],y.l){const S=_d(y.h);(S.length!=0||y.i.length!=0)&&(E(y.ja,S),E(y.ja,y.i),y.h.i.length=0,N(y.i),y.i.length=0),y.l.oa()}}function gm(y,S,k){var q=k instanceof Jr?Cn(k):new Jr(k);if(q.g!="")S&&(q.g=S+"."+q.g),tl(q,q.u);else{var ne=c.location;q=ne.protocol,S=S?S+"."+ne.hostname:ne.hostname,ne=+ne.port;const ue=new Jr(null);q&&Xn(ue,q),S&&(ue.g=S),ne&&tl(ue,ne),k&&(ue.h=k),q=ue}return k=y.G,S=y.wa,k&&S&&Ct(q,k,S),Ct(q,"VER",y.ka),_o(y,q),q}function ym(y,S,k){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new Pt(new Si({ab:k})):new Pt(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}t=vm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cl(){}cl.prototype.g=function(y,S){return new Ar(y,S)};function Ar(y,S){et.call(this),this.g=new ll(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!B(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!B(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new ss(this)}g(Ar,et),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){Od(this.g)},Ar.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var k={};k.__data__=y,y=k}else this.v&&(k={},k.__data__=$t(y),y=k);S.i.push(new Tn(S.Ya++,y)),S.I==3&&Ci(S)},Ar.prototype.N=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,Ar.Z.N.call(this)};function xm(y){lr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const k in S){y=k;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(xm,lr);function bm(){ma.call(this),this.status=1}g(bm,ma);function ss(y){this.g=y}g(ss,vm),ss.prototype.ra=function(){Qe(this.g,"a")},ss.prototype.qa=function(y){Qe(this.g,new xm(y))},ss.prototype.pa=function(y){Qe(this.g,new bm)},ss.prototype.oa=function(){Qe(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,oL=function(){return new cl},lL=function(){return Ec()},sL=yn,xN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,sg=po,yd.COMPLETE="complete",iL=yd,Jh.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",et.prototype.listen=et.prototype.J,If=Jh,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,aL=Pt}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const gR="@firebase/firestore",yR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new C0("@firebase/firestore");function vu(){return fc.logLevel}function Re(t,...e){if(fc.logLevel<=ht.DEBUG){const n=e.map(rE);fc.debug(`Firestore (${ud}): ${t}`,...n)}}function qs(t,...e){if(fc.logLevel<=ht.ERROR){const n=e.map(rE);fc.error(`Firestore (${ud}): ${t}`,...n)}}function Hu(t,...e){if(fc.logLevel<=ht.WARN){const n=e.map(rE);fc.warn(`Firestore (${ud}): ${t}`,...n)}}function rE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cL(t,r,n)}function cL(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function At(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||cL(e,a,r)}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Loe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wr.UNAUTHENTICATED)))}shutdown(){}}class Uoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Voe{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let l=new Hl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hl,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hl)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new uL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new wr(e)}}class zoe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Boe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zoe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $oe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vR(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Foe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Foe(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function mt(t,e){return t<e?-1:t>e?1:0}function bN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Xw(a)===Xw(l)?mt(a,l):Xw(a)?1:-1}return mt(t.length,e.length)}const qoe=55296,Hoe=57343;function Xw(t){const e=t.charCodeAt(0);return e>=qoe&&e<=Hoe}function Gu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Mi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return mt(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),a=Mi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):bN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ql.fromString(e.substring(4,e.length-2))}}class Kt extends Mi{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const Goe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Mi{construct(e,n,r){return new pr(e,n,r)}static isValidIdentifier(e){return Goe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xR}static keyField(){return new pr([xR])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Oe(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Oe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Oe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new Oe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Kt.fromString(e))}static fromName(e){return new He(Kt.fromString(e).popFirst(5))}static empty(){return new He(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t,e,n){if(!n)throw new Oe(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Koe(t,e,n,r){if(e===!0&&r===!0)throw new Oe(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bR(t){if(!He.isDocumentKey(t))throw new Oe(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wR(t){if(He.isDocumentKey(t))throw new Oe(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function R0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye(12329,{type:typeof t})}function Xl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=R0(t);throw new Oe(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vh(t,e){if(!fL(t))throw new Oe(we.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new Oe(we.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=-62135596800,_R=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_R);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NR)throw new Oe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_R}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vh(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Un("string",Jt._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new Jt(0,0))}static max(){return new tt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=-1;function Yoe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=tt.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new Ql(a,He.empty(),e)}function Woe(t){return new Ql(t.readTime,t.key,ah)}class Ql{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ql(tt.min(),He.empty(),ah)}static max(){return new Ql(tt.max(),He.empty(),ah)}}function Xoe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Joe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==Qoe)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):je.reject(n)}static resolve(e){return new je(((n,r)=>{n(e)}))}static reject(e){return new je(((n,r)=>{r(e)}))}static waitFor(e){return new je(((n,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(f=>r(f)))})),c=!0,l===a&&n()}))}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next((a=>a?je.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new je(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let f=0;f<l;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===l&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new je(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function Zoe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}P0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=-1;function k0(t){return t==null}function my(t){return t===0&&1/t==-1/0}function ece(t){return typeof t=="number"&&Number.isInteger(t)&&!my(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="";function tce(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jR(e)),e=nce(t.get(n),e);return jR(e)}function nce(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case hL:n+="";break;default:n+=l}}return n}function jR(t){return t+hL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??mr.RED,this.left=a??mr.EMPTY,this.right=l??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new mr(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new SR(this.data.getIterator())}getIteratorFrom(e){return new SR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class SR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new ca([])}unionWith(e){let n=new qn(pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ca(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new pL("Invalid base64 string: "+l):l}})(e);return new yr(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const rce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jl(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=rce.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(t.seconds),nanos:Nn(t.nanos)}}function Nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zl(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="server_timestamp",yL="__type__",vL="__previous_value__",xL="__local_write_time__";function sE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yL])==null?void 0:r.stringValue)===gL}function M0(t){const e=t.mapValue.fields[vL];return sE(e)?M0(e):e}function ih(t){const e=Jl(t.mapValue.fields[xL].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(e,n,r,a,l,c,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const py="(default)";class sh{constructor(e,n){this.projectId=e,this.database=n||py}static empty(){return new sh("","")}get isDefaultDatabase(){return this.database===py}isEqual(e){return e instanceof sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="__type__",ice="__max__",qp={mapValue:{}},wL="__vector__",gy="value";function eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:lce(t)?9007199254740991:sce(t)?10:11:Ye(28295,{value:t})}function Qi(t,e){if(t===e)return!0;const n=eo(t);if(n!==eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ih(t).isEqual(ih(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Jl(a.timestampValue),d=Jl(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Zl(a.bytesValue).isEqual(Zl(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nn(a.geoPointValue.latitude)===Nn(l.geoPointValue.latitude)&&Nn(a.geoPointValue.longitude)===Nn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nn(a.integerValue)===Nn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nn(a.doubleValue),d=Nn(l.doubleValue);return c===d?my(c)===my(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(ER(c)!==ER(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Qi(c[f],d[f])))return!1;return!0})(t,e);default:return Ye(52216,{left:t})}}function lh(t,e){return(t.values||[]).find((n=>Qi(n,e)))!==void 0}function Ku(t,e){if(t===e)return 0;const n=eo(t),r=eo(e);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Nn(l.integerValue||l.doubleValue),f=Nn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return AR(t.timestampValue,e.timestampValue);case 4:return AR(ih(t),ih(e));case 5:return bN(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Zl(l),f=Zl(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=mt(d[h],f[h]);if(p!==0)return p}return mt(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=mt(Nn(l.latitude),Nn(c.latitude));return d!==0?d:mt(Nn(l.longitude),Nn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TR(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var x,N,E,j;const d=l.fields||{},f=c.fields||{},h=(x=d[gy])==null?void 0:x.arrayValue,p=(N=f[gy])==null?void 0:N.arrayValue,g=mt(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((j=p==null?void 0:p.values)==null?void 0:j.length)||0);return g!==0?g:TR(h,p)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===qp.mapValue&&c===qp.mapValue)return 0;if(l===qp.mapValue)return 1;if(c===qp.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=bN(f[g],p[g]);if(x!==0)return x;const N=Ku(d[f[g]],h[p[g]]);if(N!==0)return N}return mt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ye(23264,{he:n})}}function AR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=Jl(t),r=Jl(e),a=mt(n.seconds,r.seconds);return a!==0?a:mt(n.nanos,r.nanos)}function TR(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ku(n[a],r[a]);if(l)return l}return mt(n.length,r.length)}function Yu(t){return wN(t)}function wN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Jl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return He.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=wN(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${wN(n.fields[c])}`;return a+"}"})(t.mapValue):Ye(61005,{value:t})}function lg(t){switch(eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=M0(t);return e?16+lg(e):16;case 5:return 2*t.stringValue.length;case 6:return Zl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+lg(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return lo(r.fields,((l,c)=>{a+=l.length+lg(c)})),a})(t.mapValue);default:throw Ye(13486,{value:t})}}function CR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function NN(t){return!!t&&"integerValue"in t}function lE(t){return!!t&&"arrayValue"in t}function IR(t){return!!t&&"nullValue"in t}function OR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function og(t){return!!t&&"mapValue"in t}function sce(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bL])==null?void 0:r.stringValue)===wL}function Mf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Mf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mf(t.arrayValue.values[n]);return e}return{...t}}function lce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ice}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(n)}setAll(e){let n=pr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Mf(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];og(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){lo(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Fr(Mf(this.value))}}function NL(t){const e=[];return lo(t.fields,((n,r)=>{const a=new pr([n]);if(og(r)){const l=NL(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ca(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,a,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _r(e,0,tt.min(),tt.min(),tt.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,a){return new _r(e,1,n,tt.min(),r,a,0)}static newNoDocument(e,n){return new _r(e,2,n,tt.min(),tt.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,tt.min(),tt.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.position=e,this.inclusive=n}}function DR(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=He.comparator(He.fromName(c.referenceValue),n.key):r=Ku(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function RR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function oce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{}class Mn extends _L{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uce(e,n,r):n==="array-contains"?new hce(e,r):n==="in"?new mce(e,r):n==="not-in"?new pce(e,r):n==="array-contains-any"?new gce(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dce(e,r):new fce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&eo(this.value)===eo(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends _L{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return jL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jL(t){return t.op==="and"}function EL(t){return cce(t)&&jL(t)}function cce(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function _N(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(EL(t))return t.filters.map((e=>_N(e))).join(",");{const e=t.filters.map((n=>_N(n))).join(",");return`${t.op}(${e})`}}function SL(t,e){return t instanceof Mn?(function(r,a){return a instanceof Mn&&r.op===a.op&&r.field.isEqual(a.field)&&Qi(r.value,a.value)})(t,e):t instanceof ci?(function(r,a){return a instanceof ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&SL(c,a.filters[d])),!0):!1})(t,e):void Ye(19439)}function AL(t){return t instanceof Mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`})(t):t instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(AL).join(" ,")+"}"})(t):"Filter"}class uce extends Mn{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class dce extends Mn{constructor(e,n){super(e,"in",n),this.keys=TL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fce extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=TL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>He.fromName(r.referenceValue)))}class hce extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lE(n)&&lh(n.arrayValue,this.value)}}class mce extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lh(this.value.arrayValue,n)}}class pce extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lh(this.value.arrayValue,n)}}class gce extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>lh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yce{constructor(e,n=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function PR(t,e=null,n=[],r=[],a=null,l=null,c=null){return new yce(t,e,n,r,a,l,c)}function oE(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_N(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),k0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yu(r))).join(",")),e.Te=n}return e.Te}function cE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RR(t.startAt,e.startAt)&&RR(t.endAt,e.endAt)}function jN(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],a=[],l=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vce(t,e,n,r,a,l,c,d){return new hd(t,e,n,r,a,l,c,d)}function CL(t){return new hd(t)}function kR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IL(t){return t.collectionGroup!==null}function Lf(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new qn(pr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new oh(l,r))})),n.has(pr.keyField().canonicalString())||e.Ie.push(new oh(pr.keyField(),r))}return e.Ie}function zi(t){const e=at(t);return e.Ee||(e.Ee=xce(e,Lf(t))),e.Ee}function xce(t,e){if(t.limitType==="F")return PR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new oh(a.field,l)}));const n=t.endAt?new yy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yy(t.startAt.position,t.startAt.inclusive):null;return PR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function EN(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function L0(t,e){return cE(zi(t),zi(e))&&t.limitType===e.limitType}function OL(t){return`${oE(zi(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>AL(a))).join(", ")}]`),k0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Yu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Yu(a))).join(",")),`Target(${r})`})(zi(t))}; limitType=${t.limitType})`}function U0(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):He.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Lf(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const h=DR(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,Lf(r),a)||r.endAt&&!(function(c,d,f){const h=DR(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,Lf(r),a))})(t,e)}function bce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DL(t){return(e,n)=>{let r=!1;for(const a of Lf(t)){const l=wce(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function wce(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):(function(l,c,d){const f=c.data.field(l),h=d.data.field(l);return f!==null&&h!==null?Ku(f,h):Ye(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return mL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nce=new un(He.comparator);function Hs(){return Nce}const RL=new un(He.comparator);function Of(...t){let e=RL;for(const n of t)e=e.insert(n.key,n);return e}function PL(t){let e=RL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Qo(){return Uf()}function kL(){return Uf()}function Uf(){return new _c((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _ce=new un(He.comparator),jce=new qn(He.comparator);function pt(...t){let e=jce;for(const n of t)e=e.add(n);return e}const Ece=new qn(mt);function Sce(){return Ece}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function ML(t){return{integerValue:""+t}}function Ace(t,e){return ece(e)?ML(e):uE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this._=void 0}}function Tce(t,e,n){return t instanceof xy?(function(a,l){const c={fields:{[yL]:{stringValue:gL},[xL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&sE(l)&&(l=M0(l)),l&&(c.fields[vL]=l),{mapValue:c}})(n,e):t instanceof ch?UL(t,e):t instanceof uh?VL(t,e):(function(a,l){const c=LL(a,l),d=MR(c)+MR(a.Ae);return NN(c)&&NN(a.Ae)?ML(d):uE(a.serializer,d)})(t,e)}function Cce(t,e,n){return t instanceof ch?UL(t,e):t instanceof uh?VL(t,e):n}function LL(t,e){return t instanceof by?(function(r){return NN(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class xy extends V0{}class ch extends V0{constructor(e){super(),this.elements=e}}function UL(t,e){const n=zL(e);for(const r of t.elements)n.some((a=>Qi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class uh extends V0{constructor(e){super(),this.elements=e}}function VL(t,e){let n=zL(e);for(const r of t.elements)n=n.filter((a=>!Qi(a,r)));return{arrayValue:{values:n}}}class by extends V0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MR(t){return Nn(t.integerValue||t.doubleValue)}function zL(t){return lE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ice(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof ch&&a instanceof ch||r instanceof uh&&a instanceof uh?Gu(r.elements,a.elements,Qi):r instanceof by&&a instanceof by?Qi(r.Ae,a.Ae):r instanceof xy&&a instanceof xy})(t.transform,e.transform)}class Oce{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class z0{}function BL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new B0(t.key,Yr.none()):new zh(t.key,t.data,Yr.none());{const n=t.data,r=Fr.empty();let a=new qn(pr.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new oo(t.key,r,new ca(a.toArray()),Yr.none())}}function Dce(t,e,n){t instanceof zh?(function(a,l,c){const d=a.value.clone(),f=UR(a.fieldTransforms,l,c.transformResults);d.setAll(f),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof oo?(function(a,l,c){if(!cg(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=UR(a.fieldTransforms,l,c.transformResults),f=l.data;f.setAll($L(a)),f.setAll(d),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Vf(t,e,n,r){return t instanceof zh?(function(l,c,d,f){if(!cg(l.precondition,c))return d;const h=l.value.clone(),p=VR(l.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof oo?(function(l,c,d,f){if(!cg(l.precondition,c))return d;const h=VR(l.fieldTransforms,f,c),p=c.data;return p.setAll($L(l)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(l,c,d){return cg(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function Rce(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=LL(r.transform,a||null);l!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,l))}return n||null}function LR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Gu(r,a,((l,c)=>Ice(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zh extends z0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oo extends z0{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $L(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UR(t,e,n){const r=new Map;At(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,Cce(c,d,n[a]))}return r}function VR(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,Tce(l,c,e))}return r}class B0 extends z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pce extends z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kce{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Dce(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kL();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const f=BL(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,((n,r)=>LR(n,r)))&&Gu(this.baseMutations,e.baseMutations,((n,r)=>LR(n,r)))}}class dE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return _ce})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new dE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,vt;function Uce(t){switch(t){case we.OK:return Ye(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return Ye(15467,{code:t})}}function FL(t){if(t===void 0)return qs("GRPC error has no .code"),we.UNKNOWN;switch(t){case Pn.OK:return we.OK;case Pn.CANCELLED:return we.CANCELLED;case Pn.UNKNOWN:return we.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return we.INTERNAL;case Pn.UNAVAILABLE:return we.UNAVAILABLE;case Pn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Pn.NOT_FOUND:return we.NOT_FOUND;case Pn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Pn.ABORTED:return we.ABORTED;case Pn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Pn.DATA_LOSS:return we.DATA_LOSS;default:return Ye(39323,{code:t})}}(vt=Pn||(Pn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce=new ql([4294967295,4294967295],0);function zR(t){const e=Vce().encode(t),n=new rL;return n.update(e),new Uint8Array(n.digest())}function BR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ql([n,r],0),new ql([a,l],0)]}class fE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Df(`Invalid padding: ${n}`);if(r<0)throw new Df(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Df(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Df(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ql.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(ql.fromNumber(r)));return a.compare(zce)===1&&(a=new ql([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zR(e),[r,a]=BR(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new fE(l,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=zR(e),[r,a]=BR(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $0(tt.min(),a,new un(mt),Hs(),pt())}}class Bh{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bh(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class qL{constructor(e,n){this.targetId=e,this.Ce=n}}class HL{constructor(e,n,r=yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class $R{constructor(){this.ve=0,this.Fe=FR(),this.Me=yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ye(38017,{changeType:l})}})),new Bh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bce{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hs(),this.Je=Hp(),this.He=Hp(),this.Ye=new un(mt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(jN(l))if(r===0){const c=new He(l.path);this.et(n,c,_r.newNoDocument(c,tt.min()))}else At(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Zl(r).toUint8Array()}catch(f){if(f instanceof pL)return Hu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new fE(c,a,l)}catch(f){return Hu(f instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&jN(d.target)){const f=new He(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,_r.newNoDocument(f,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=pt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new $0(e,n,this.Ye,this.je,r);return this.je=Hs(),this.Je=Hp(),this.He=Hp(),this.Ye=new un(mt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $R,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qn(mt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qn(mt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $R),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hp(){return new un(He.comparator)}function FR(){return new un(He.comparator)}const $ce={asc:"ASCENDING",desc:"DESCENDING"},Fce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qce={and:"AND",or:"OR"};class Hce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function SN(t,e){return t.useProto3Json||k0(e)?e:{value:e}}function wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gce(t,e){return wy(t,e.toTimestamp())}function Bi(t){return At(!!t,49232),tt.fromTimestamp((function(n){const r=Jl(n);return new Jt(r.seconds,r.nanos)})(t))}function hE(t,e){return AN(t,e).canonicalString()}function AN(t,e){const n=(function(a){return new Kt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function KL(t){const e=Kt.fromString(t);return At(JL(e),10190,{key:e.toString()}),e}function TN(t,e){return hE(t.databaseId,e.path)}function Qw(t,e){const n=KL(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(WL(n))}function YL(t,e){return hE(t.databaseId,e)}function Kce(t){const e=KL(t);return e.length===4?Kt.emptyPath():WL(e)}function CN(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WL(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qR(t,e,n){return{name:TN(t,e),fields:n.value.mapValue.fields}}function Yce(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ye(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(h,p){return h.useProto3Json?(At(p===void 0||typeof p=="string",58123),yr.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?we.UNKNOWN:FL(h.code);return new Oe(p,h.message||"")})(c);n=new HL(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Qw(t,r.document.name),l=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):tt.min(),d=new Fr({mapValue:{fields:r.document.fields}}),f=_r.newFoundDocument(a,l,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new ug(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Qw(t,r.document),l=r.readTime?Bi(r.readTime):tt.min(),c=_r.newNoDocument(a,l),d=r.removedTargetIds||[];n=new ug([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Qw(t,r.document),l=r.removedTargetIds||[];n=new ug([],l,a,null)}else{if(!("filter"in e))return Ye(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new Lce(a,l),d=r.targetId;n=new qL(d,c)}}return n}function Wce(t,e){let n;if(e instanceof zh)n={update:qR(t,e.key,e.value)};else if(e instanceof B0)n={delete:TN(t,e.key)};else if(e instanceof oo)n={update:qR(t,e.key,e.data),updateMask:aue(e.fieldMask)};else{if(!(e instanceof Pce))return Ye(16599,{Vt:e.type});n={verify:TN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof xy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ch)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof by)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ye(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Gce(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ye(27497)})(t,e.precondition)),n}function Xce(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Bi(a.updateTime):Bi(l);return c.isEqual(tt.min())&&(c=Bi(l)),new Oce(c,a.transformResults||[])})(n,e)))):[]}function Qce(t,e){return{documents:[YL(t,e.path)]}}function Jce(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YL(t,a);const l=(function(h){if(h.length!==0)return QL(ci.create(h,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:bu(x.field),direction:tue(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=SN(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function Zce(t){let e=Kce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){At(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let l=[];n.where&&(l=(function(g){const x=XL(g);return x instanceof ci&&EL(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(E){return new oh(wu(E.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,k0(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,N=g.values||[];return new yy(N,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,N=g.values||[];return new yy(N,x)})(n.endAt)),vce(e,a,c,l,d,"F",f,h)}function eue(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wu(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=wu(n.unaryFilter.field);return Mn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wu(n.unaryFilter.field);return Mn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wu(n.unaryFilter.field);return Mn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Mn.create(wu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>XL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}})(n.compositeFilter.op))})(t):Ye(30097,{filter:t})}function tue(t){return $ce[t]}function nue(t){return Fce[t]}function rue(t){return qce[t]}function bu(t){return{fieldPath:t.canonicalString()}}function wu(t){return pr.fromServerFormat(t.fieldPath)}function QL(t){return t instanceof Mn?(function(n){if(n.op==="=="){if(OR(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NAN"}};if(IR(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OR(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NOT_NAN"}};if(IR(n.value))return{unaryFilter:{field:bu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(n.field),op:nue(n.op),value:n.value}}})(t):t instanceof ci?(function(n){const r=n.getFilters().map((a=>QL(a)));return r.length===1?r[0]:{compositeFilter:{op:rue(n.op),filters:r}}})(t):Ye(54877,{filter:t})}function aue(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,a,l=tt.min(),c=tt.min(),d=yr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(e){this.yt=e}}function sue(t){const e=Zce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(){this.Cn=new oue}addToCollectionParentIndex(e,n){return this.Cn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Ql.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Ql.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class oue{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new qn(Kt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new qn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZL=41943040;class $r{static withCacheSize(e){return new $r(e,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(ZL,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wu(0)}static cr(){return new Wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="LruGarbageCollector",cue=1048576;function KR([t,e],[n,r]){const a=mt(t,n);return a===0?mt(e,r):a}class uue{constructor(e){this.Ir=e,this.buffer=new qn(KR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class due{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(GR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fd(n)?Re(GR,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class fue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return je.resolve(P0.ce);const r=new uue(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(HR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(l=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),vu()<=ht.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:g}))))}}function hue(t,e){return new fue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(){this.changes=new _c((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Vf(r.mutation,a,ca.empty(),Jt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=pt()){const a=Qo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Of();return l.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,pt())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let l=Hs();const c=Uf(),d=(function(){return Uf()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof oo)?l=l.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),Vf(p.mutation,h,p.mutation.getFieldMask(),Jt.now())):c.set(h.key,ca.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new pue(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Uf();let a=new un(((c,d)=>c-d)),l=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||ca.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||pt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=kL();p.forEach((x=>{if(!l.has(x)){const N=BL(n.get(x),r.get(x));N!==null&&g.set(x,N),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return je.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return He.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):je.resolve(Qo());let d=ah,f=l;return c.next((h=>je.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),l.get(p)?je.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,l))).next((()=>this.computeViews(e,f,h,pt()))).next((p=>({batchId:d,changes:PL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next((r=>{let a=Of();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Of();return this.indexManager.getCollectionParents(e,l).next((d=>je.forEach(d,(f=>{const h=(function(g,x){return new hd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,_r.newInvalidDocument(p)))}));let d=Of();return c.forEach(((f,h)=>{const p=l.get(f);p!==void 0&&Vf(p.mutation,h,ca.empty(),Jt.now()),U0(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Bi(a.createTime)}})(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:sue(a.bundledQuery),readTime:Bi(a.readTime)}})(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vue{constructor(){this.overlays=new un(He.comparator),this.qr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return je.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),je.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const a=Qo(),l=n.length+1,c=new He(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===l&&f.largestBatchId>r&&a.set(f.getKey(),f)}return je.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new un(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=l.get(h.largestBatchId);p===null&&(p=Qo(),l=l.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Qo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return je.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Mce(n,r));let l=this.qr.get(n);l===void 0&&(l=pt(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.Qr=new qn(tr.$r),this.Ur=new qn(tr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new tr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new He(new Kt([])),r=new tr(n,e),a=new tr(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new He(new Kt([])),r=new tr(n,e),a=new tr(n,e+1);let l=pt();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new tr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return He.comparator(e.key,n.key)||mt(e.Yr,n.Yr)}static Kr(e,n){return mt(e.Yr,n.Yr)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qn(tr.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new kce(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new tr(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return je.resolve(c)}lookupMutationBatch(e,n){return je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return je.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?iE:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tr(n,0),a=new tr(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qn(mt);return n.forEach((a=>{const l=new tr(a,0),c=new tr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;He.isDocumentKey(l)||(l=l.child(""));const c=new tr(new He(l),0);let d=new qn(mt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),c),je.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){At(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return je.forEach(n.mutations,(a=>{const l=new tr(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new tr(n,0),a=this.Zr.firstAfterOrEqual(r);return je.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wue{constructor(e){this.ri=e,this.docs=(function(){return new un(He.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():_r.newInvalidDocument(a))})),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Hs();const c=n.path,d=new He(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||Xoe(Woe(p),r)<=0||(a.has(p.key)||U0(n,p))&&(l=l.insert(p.key,p.mutableCopy()))}return je.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ye(9500)}ii(e,n){return je.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Nue(this)}getSize(e){return je.resolve(this.size)}}class Nue extends mue{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ue{constructor(e){this.persistence=e,this.si=new _c((n=>oE(n)),cE),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new mE,this.targetCount=0,this.ai=Wu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Pr(n),je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),je.waitFor(l).next((()=>a))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),je.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n){this.ui={},this.overlays={},this.ci=new P0(0),this.li=!1,this.li=!0,this.hi=new xue,this.referenceDelegate=e(this),this.Pi=new _ue(this),this.indexManager=new lue,this.remoteDocumentCache=(function(a){return new wue(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new iue(n),this.Ii=new yue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new bue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const a=new jue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class jue extends Joe{constructor(e){super(),this.currentSequenceNumber=e}}class pE{constructor(e){this.persistence=e,this.Ri=new mE,this.Vi=null}static mi(e){return new pE(e)}get fi(){if(this.Vi)return this.Vi;throw Ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(r=>{const a=He.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ny{constructor(e,n){this.persistence=e,this.pi=new _c((r=>tce(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=hue(this,n)}static mi(e,n){return new Ny(e,n)}Ei(){}di(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return je.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?je.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,l.removeEntry(c,tt.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lg(e.data.value)),n}br(e,n,r){return je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return je.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=pt(),a=pt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Yie()?8:Zoe(Er())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Eue;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(vu()<=ht.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(vu()<=ht.DEBUG&&Re("QueryEngine","Query:",xu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(vu()<=ht.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):je.resolve())}ys(e,n){if(kR(n))return je.resolve(null);let r=zi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vy(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=pt(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,c,f.readTime)?this.ys(e,vy(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return kR(n)||a.isEqual(tt.min())?je.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?je.resolve(null):(vu()<=ht.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xu(n)),this.vs(e,c,n,Yoe(a,ah)).next((d=>d)))}))}Ds(e,n){let r=new qn(DL(e));return n.forEach(((a,l)=>{U0(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return vu()<=ht.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",xu(n)),this.ps.getDocumentsMatchingQuery(e,n,Ql.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LocalStore",Aue=3e8;class Tue{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new un(mt),this.xs=new _c((l=>oE(l)),cE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gue(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Cue(t,e,n,r){return new Tue(t,e,n,r)}async function tU(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let f=pt();for(const h of a){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of l){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function Iue(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let N=je.resolve();return x.forEach((E=>{N=N.next((()=>p.getEntry(f,E))).next((j=>{const _=h.docVersions.get(E);At(_!==null,48541),j.version.compareTo(_)<0&&(g.applyToRemoteDocument(j,h),j.isValidDocument()&&(j.setReadTime(h.commitVersion),p.addEntry(j)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=pt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function nU(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Oue(t,e){const n=at(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(l,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(l,p.addedDocuments,g))));let N=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(g)!==null?N=N.withResumeToken(yr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(p.resumeToken,r)),a=a.insert(g,N),(function(j,_,O){return j.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Aue?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(x,N,p)&&d.push(n.Pi.updateTargetData(l,N))}));let f=Hs(),h=pt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,p))})),d.push(Due(l,c,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(l).next((g=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(p)}return je.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,h))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function Due(t,e,n){let r=pt(),a=pt();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Hs();return n.forEach(((d,f)=>{const h=l.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(tt.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Re(yE,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function Rue(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=iE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Pue(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,je.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new zl(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function IN(t,e,n){const r=at(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!fd(c))throw c;Re(yE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function YR(t,e,n){const r=at(t);let a=tt.min(),l=pt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=at(f),x=g.xs.get(p);return x!==void 0?je.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,c,zi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{l=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:tt.min(),n?l:pt()))).next((d=>(kue(r,bce(e),d),{documents:d,Qs:l})))))}function kue(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class WR{constructor(){this.activeTargetIds=Sce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mue{constructor(){this.Mo=new WR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="ConnectivityMonitor";class QR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(XR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(XR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp=null;function ON(){return Gp===null?Gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gp++,"0x"+Gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="RestConnection",Uue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===py?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const c=ON(),d=this.zo(e,n.toUriEncodedString());Re(Jw,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:h}=new URL(d),p=bc(h);return this.Jo(e,d,f,r,p).then((g=>(Re(Jw,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Hu(Jw,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,l,c){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=Uue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="WebChannelConnection";class Bue extends Vue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const c=ON();return new Promise(((d,f)=>{const h=new aL;h.setWithCredentials(!0),h.listenOnce(iL.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case sg.NO_ERROR:const g=h.getResponseJson();Re(xr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case sg.TIMEOUT:Re(xr,`RPC '${e}' ${c} timed out`),f(new Oe(we.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const x=h.getStatus();if(Re(xr,`RPC '${e}' ${c} failed with status:`,x,"response text:",h.getResponseText()),x>0){let N=h.getResponseJson();Array.isArray(N)&&(N=N[0]);const E=N==null?void 0:N.error;if(E&&E.status&&E.message){const j=(function(O){const R=O.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(R)>=0?R:we.UNKNOWN})(E.status);f(new Oe(j,E.message))}else f(new Oe(we.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Oe(we.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Re(xr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);Re(xr,`RPC '${e}' ${c} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=ON(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=oL(),d=lL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=l.join("");Re(xr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=c.createWebChannel(p,f);this.I_(g);let x=!1,N=!1;const E=new zue({Yo:_=>{N?Re(xr,`Not sending because RPC '${e}' stream ${a} is closed:`,_):(x||(Re(xr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),Re(xr,`RPC '${e}' stream ${a} sending:`,_),g.send(_))},Zo:()=>g.close()}),j=(_,O,R)=>{_.listen(O,(M=>{try{R(M)}catch(T){setTimeout((()=>{throw T}),0)}}))};return j(g,If.EventType.OPEN,(()=>{N||(Re(xr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),j(g,If.EventType.CLOSE,(()=>{N||(N=!0,Re(xr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),j(g,If.EventType.ERROR,(_=>{N||(N=!0,Hu(xr,`RPC '${e}' stream ${a} transport errored. Name:`,_.name,"Message:",_.message),E.a_(new Oe(we.UNAVAILABLE,"The operation could not be completed")))})),j(g,If.EventType.MESSAGE,(_=>{var O;if(!N){const R=_.data[0];At(!!R,16349);const M=R,T=(M==null?void 0:M.error)||((O=M[0])==null?void 0:O.error);if(T){Re(xr,`RPC '${e}' stream ${a} received error:`,T);const C=T.status;let L=(function($){const A=Pn[$];if(A!==void 0)return FL(A)})(C),P=T.message;L===void 0&&(L=we.INTERNAL,P="Unknown error status: "+C+" with message "+T.message),N=!0,E.a_(new Oe(L,P)),g.close()}else Re(xr,`RPC '${e}' stream ${a} received:`,R),E.u_(R)}})),j(d,sL.STAT_EVENT,(_=>{_.stat===xN.PROXY?Re(xr,`RPC '${e}' stream ${a} detected buffering proxy`):_.stat===xN.NOPROXY&&Re(xr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Zw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){return new Hce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="PersistentStream";class aU{constructor(e,n,r,a,l,c,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Oe(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(JR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Re(JR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $ue extends aU{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Yce(this.serializer,e),r=(function(l){if(!("targetChange"in l))return tt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?tt.min():c.readTime?Bi(c.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=CN(this.serializer),n.addTarget=(function(l,c){let d;const f=c.target;if(d=jN(f)?{documents:Qce(l,f)}:{query:Jce(l,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=GL(l,c.resumeToken);const h=SN(l,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(tt.min())>0){d.readTime=wy(l,c.snapshotVersion.toTimestamp());const h=SN(l,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=eue(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=CN(this.serializer),n.removeTarget=e,this.q_(n)}}class Fue extends aU{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Xce(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=CN(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Wce(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class que{}class Hue extends que{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Oe(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,AN(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Oe(we.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,AN(n,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Oe(we.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Gue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qs(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="RemoteStore";class Kue{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{jc(this)&&(Re(hc,"Restarting streams for network reachability change."),await(async function(f){const h=at(f);h.Ea.add(4),await $h(h),h.Ra.set("Unknown"),h.Ea.delete(4),await q0(h)})(this))}))})),this.Ra=new Gue(r,a)}}async function q0(t){if(jc(t))for(const e of t.da)await e(!0)}async function $h(t){for(const e of t.da)await e(!1)}function iU(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wE(n)?bE(n):md(n).O_()&&xE(n,e))}function vE(t,e){const n=at(t),r=md(n);n.Ia.delete(e),r.O_()&&sU(n,e),n.Ia.size===0&&(r.O_()?r.L_():jc(n)&&n.Ra.set("Unknown"))}function xE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function sU(t,e){t.Va.Ue(e),md(t).Z_(e)}function bE(t){t.Va=new Bce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function wE(t){return jc(t)&&!md(t).x_()&&t.Ia.size>0}function jc(t){return at(t).Ea.size===0}function lU(t){t.Va=void 0}async function Yue(t){t.Ra.set("Online")}async function Wue(t){t.Ia.forEach(((e,n)=>{xE(t,e)}))}async function Xue(t,e){lU(t),wE(t)?(t.Ra.ha(e),bE(t)):t.Ra.set("Unknown")}async function Que(t,e,n){if(t.Ra.set("Online"),e instanceof HL&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Re(hc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _y(t,r)}else if(e instanceof ug?t.Va.Ze(e):e instanceof qL?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await nU(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=l.Ia.get(h);p&&l.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=l.Ia.get(f);if(!p)return;l.Ia.set(f,p.withResumeToken(yr.EMPTY_BYTE_STRING,p.snapshotVersion)),sU(l,f);const g=new zl(p.target,f,h,p.sequenceNumber);xE(l,g)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Re(hc,"Failed to raise snapshot:",r),await _y(t,r)}}async function _y(t,e,n){if(!fd(e))throw e;t.Ea.add(1),await $h(t),t.Ra.set("Offline"),n||(n=()=>nU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(hc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await q0(t)}))}function oU(t,e){return e().catch((n=>_y(t,n,e)))}async function H0(t){const e=at(t),n=to(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iE;for(;Jue(e);)try{const a=await Rue(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Zue(e,a)}catch(a){await _y(e,a)}cU(e)&&uU(e)}function Jue(t){return jc(t)&&t.Ta.length<10}function Zue(t,e){t.Ta.push(e);const n=to(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cU(t){return jc(t)&&!to(t).x_()&&t.Ta.length>0}function uU(t){to(t).start()}async function ede(t){to(t).ra()}async function tde(t){const e=to(t);for(const n of t.Ta)e.ea(n.mutations)}async function nde(t,e,n){const r=t.Ta.shift(),a=dE.from(r,e,n);await oU(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await H0(t)}async function rde(t,e){e&&to(t).X_&&await(async function(r,a){if((function(c){return Uce(c)&&c!==we.ABORTED})(a.code)){const l=r.Ta.shift();to(r).B_(),await oU(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await H0(r)}})(t,e),cU(t)&&uU(t)}async function ZR(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Re(hc,"RemoteStore received new credentials");const r=jc(n);n.Ea.add(3),await $h(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await q0(n)}async function ade(t,e){const n=at(t);e?(n.Ea.delete(2),await q0(n)):e||(n.Ea.add(2),await $h(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,a){const l=at(n);return l.sa(),new $ue(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Yue.bind(null,t),t_:Wue.bind(null,t),r_:Xue.bind(null,t),H_:Que.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wE(t)?bE(t):t.Ra.set("Unknown")):(await t.ma.stop(),lU(t))}))),t.ma}function to(t){return t.fa||(t.fa=(function(n,r,a){const l=at(n);return l.sa(),new Fue(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ede.bind(null,t),r_:rde.bind(null,t),ta:tde.bind(null,t),na:nde.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await H0(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(hc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,d=new NE(e,n,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _E(t,e){if(qs("AsyncQueue",`${e}: ${t}`),fd(t))return new Oe(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=Of(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.ga=new un(He.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ye(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xu{constructor(e,n,r,a,l,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xu(e,n,Cu.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ide{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sde{constructor(){this.queries=t4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=at(n),l=a.queries;a.queries=t4(),l.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new Oe(we.ABORTED,"Firestore shutting down"))}}function t4(){return new _c((t=>OL(t)),L0)}async function lde(t,e){const n=at(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new ide,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=_E(c,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&jE(n)}async function ode(t,e){const n=at(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cde(t,e){const n=at(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&jE(n)}function ude(t,e,n){const r=at(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function jE(t){t.Ca.forEach((e=>{e.next()}))}var DN,n4;(n4=DN||(DN={})).Ma="default",n4.Cache="cache";class dde{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==DN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.key=e}}class fU{constructor(e){this.key=e}}class fde{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=DL(e),this.tu=new Cu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new e4,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),N=U0(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let _=!1;x&&N?x.data.isEqual(N.data)?E!==j&&(r.track({type:3,doc:N}),_=!0):this.su(x,N)||(r.track({type:2,doc:N}),_=!0,(f&&this.eu(N,f)>0||h&&this.eu(N,h)<0)&&(d=!0)):!x&&N?(r.track({type:0,doc:N}),_=!0):x&&!N&&(r.track({type:1,doc:x}),_=!0,(f||h)&&(d=!0)),_&&(N?(c=c.add(N),l=j?l.add(p):l.delete(p)):(c=c.delete(p),l=l.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),l=l.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(N,E){const j=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Rt:_})}};return j(N)-j(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,c.length!==0||h?{snapshot:new Xu(this.query,e.tu,l,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e4,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new fU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new dU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const EE="SyncEngine";class hde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mde{constructor(e){this.key=e,this.hu=!1}}class pde{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _c((d=>OL(d)),L0),this.Iu=new Map,this.Eu=new Set,this.du=new un(He.comparator),this.Au=new Map,this.Ru=new mE,this.Vu={},this.mu=new Map,this.fu=Wu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gde(t,e,n=!0){const r=vU(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hU(r,e,n,!0),a}async function yde(t,e){const n=vU(t);await hU(n,e,!0,!1)}async function hU(t,e,n,r){const a=await Pue(t.localStore,zi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await vde(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&iU(t.remoteStore,a),d}async function vde(t,e,n,r,a){t.pu=(g,x,N)=>(async function(j,_,O,R){let M=_.view.ru(O);M.Cs&&(M=await YR(j.localStore,_.query,!1).then((({documents:P})=>_.view.ru(P,M))));const T=R&&R.targetChanges.get(_.targetId),C=R&&R.targetMismatches.get(_.targetId)!=null,L=_.view.applyChanges(M,j.isPrimaryClient,T,C);return a4(j,_.targetId,L.au),L.snapshot})(t,g,x,N);const l=await YR(t.localStore,e,!0),c=new fde(e,l.Qs),d=c.ru(l.documents),f=Bh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=c.applyChanges(d,t.isPrimaryClient,f);a4(t,n,h.au);const p=new hde(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function xde(t,e,n){const r=at(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!L0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await IN(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&vE(r.remoteStore,a.targetId),RN(r,a.targetId)})).catch(dd)):(RN(r,a.targetId),await IN(r.localStore,a.targetId,!0))}async function bde(t,e){const n=at(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vE(n.remoteStore,r.targetId))}async function wde(t,e,n){const r=Tde(t);try{const a=await(function(c,d){const f=at(c),h=Jt.now(),p=d.reduce(((N,E)=>N.add(E.key)),pt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let E=Hs(),j=pt();return f.Ns.getEntries(N,p).next((_=>{E=_,E.forEach(((O,R)=>{R.isValidDocument()||(j=j.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(N,E))).next((_=>{g=_;const O=[];for(const R of d){const M=Rce(R,g.get(R.key).overlayedDocument);M!=null&&O.push(new oo(R.key,M,NL(M.value.mapValue),Yr.exists(!0)))}return f.mutationQueue.addMutationBatch(N,h,O,d)})).next((_=>{x=_;const O=_.applyToLocalDocumentSet(g,j);return f.documentOverlayCache.saveOverlays(N,_.batchId,O)}))})).then((()=>({batchId:x.batchId,changes:PL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let h=c.Vu[c.currentUser.toKey()];h||(h=new un(mt)),h=h.insert(d,f),c.Vu[c.currentUser.toKey()]=h})(r,a.batchId,n),await Fh(r,a.changes),await H0(r.remoteStore)}catch(a){const l=_E(a,"Failed to persist write");n.reject(l)}}async function mU(t,e){const n=at(t);try{const r=await Oue(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?At(c.hu,14607):a.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await Fh(n,r,e)}catch(r){await dd(r)}}function r4(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=at(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&jE(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nde(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new un(He.comparator);c=c.insert(l,_r.newNoDocument(l,tt.min()));const d=pt().add(l),f=new $0(tt.min(),new Map,new un(mt),c,d);await mU(r,f),r.du=r.du.remove(l),r.Au.delete(e),SE(r)}else await IN(r.localStore,e,!1).then((()=>RN(r,e,n))).catch(dd)}async function _de(t,e){const n=at(t),r=e.batch.batchId;try{const a=await Iue(n.localStore,e);gU(n,r,null),pU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fh(n,a)}catch(a){await dd(a)}}async function jde(t,e,n){const r=at(t);try{const a=await(function(c,d){const f=at(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(At(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);gU(r,e,n),pU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fh(r,a)}catch(a){await dd(a)}}function pU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function gU(t,e,n){const r=at(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function RN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yU(t,r)}))}function yU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),SE(t))}function a4(t,e,n){for(const r of n)r instanceof dU?(t.Ru.addReference(r.key,e),Ede(t,r)):r instanceof fU?(Re(EE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yU(t,r.key)):Ye(19791,{wu:r})}function Ede(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(EE,"New document in limbo: "+n),t.Eu.add(r),SE(t))}function SE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new He(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new mde(n)),t.du=t.du.insert(n,r),iU(t.remoteStore,new zl(zi(CL(n.path)),r,"TargetPurposeLimboResolution",P0.ce))}}async function Fh(t,e,n){const r=at(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=gE.As(f.targetId,h);l.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,h){const p=at(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>je.forEach(h,(x=>je.forEach(x.Es,(N=>p.persistence.referenceDelegate.addReference(g,x.targetId,N))).next((()=>je.forEach(x.ds,(N=>p.persistence.referenceDelegate.removeReference(g,x.targetId,N)))))))))}catch(g){if(!fd(g))throw g;Re(yE,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const N=p.Ms.get(x),E=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,j)}}})(r.localStore,l))}async function Sde(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Re(EE,"User change. New user:",e.toKey());const r=await tU(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((f=>{f.reject(new Oe(we.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fh(n,r.Ls)}}function Ade(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let a=pt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function vU(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ade.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nde.bind(null,e),e.Pu.H_=cde.bind(null,e.eventManager),e.Pu.yu=ude.bind(null,e.eventManager),e}function Tde(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_de.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jde.bind(null,e),e}class jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=F0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Cue(this.persistence,new Sue,e.initialUser,this.serializer)}Cu(e){return new eU(pE.mi,this.serializer)}Du(e){return new Mue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jy.provider={build:()=>new jy};class Cde extends jy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof Ny,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new due(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new eU((r=>Ny.mi(r,n)),this.serializer)}}class PN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r4(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sde.bind(null,this.syncEngine),await ade(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sde})()}createDatastore(e){const n=F0(e.databaseInfo.databaseId),r=(function(l){return new Bue(l)})(e.databaseInfo);return(function(l,c,d,f){return new Hue(l,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,d){return new Kue(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>r4(this.syncEngine,n,0)),(function(){return QR.v()?new QR:new Lue})())}createSyncEngine(e,n){return(function(a,l,c,d,f,h,p){const g=new pde(a,l,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=at(a);Re(hc,"RemoteStore shutting down."),l.Ea.add(5),await $h(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}PN.provider={build:()=>new PN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ide{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class Ode{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=wr.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Re(no,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Re(no,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_E(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function e1(t,e){t.asyncQueue.verifyOperationInProgress(),Re(no,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await tU(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function i4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Dde(t);Re(no,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ZR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>ZR(e.remoteStore,a))),t._onlineComponents=e}async function Dde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(no,"Using user provided OfflineComponentProvider");try{await e1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await e1(t,new jy)}}else Re(no,"Using default OfflineComponentProvider"),await e1(t,new Cde(void 0));return t._offlineComponents}async function xU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(no,"Using user provided OnlineComponentProvider"),await i4(t,t._uninitializedComponentsProvider._online)):(Re(no,"Using default OnlineComponentProvider"),await i4(t,new PN))),t._onlineComponents}function Rde(t){return xU(t).then((e=>e.syncEngine))}async function Pde(t){const e=await xU(t),n=e.eventManager;return n.onListen=gde.bind(null,e.syncEngine),n.onUnlisten=xde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bde.bind(null,e.syncEngine),n}function kde(t,e,n={}){const r=new Hl;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,f,h){const p=new Ide({next:x=>{p.Nu(),c.enqueueAndForget((()=>ode(l,g))),x.fromCache&&f.source==="server"?h.reject(new Oe(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new dde(d,p,{includeMetadataChanges:!0,qa:!0});return lde(l,g)})(await Pde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="firestore.googleapis.com",l4=!0;class o4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wU,this.ssl=l4}else this.host=e.host,this.ssl=e.ssl??l4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cue)throw new Oe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Koe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Loe;switch(r.type){case"firstParty":return new Boe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=s4.get(n);r&&(Re("ComponentProvider","Removing Datastore"),s4.delete(n),r.terminate())})(this),Promise.resolve()}}function Mde(t,e,n,r={}){var h;t=Xl(t,G0);const a=bc(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Yj(`https://${d}`),Wj("Firestore",!0)),l.host!==wU&&l.host!==d&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:a,emulatorOptions:r};if(!Wl(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=wr.MOCK_USER;else{p=S3(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Oe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wr(x)}t._authCredentials=new Uoe(new uL(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class Fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}toJSON(){return{type:Fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vh(n,Fn._jsonSchema))return new Fn(e,r||null,new He(Kt.fromString(n.referencePath)))}}Fn._jsonSchemaVersion="firestore/documentReference/1.0",Fn._jsonSchema={type:Un("string",Fn._jsonSchemaVersion),referencePath:Un("string")};class Gl extends co{constructor(e,n,r){super(e,n,CL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new He(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function Ce(t,e,...n){if(t=En(t),dL("collection","path",e),t instanceof G0){const r=Kt.fromString(e,...n);return wR(r),new Gl(t,null,r)}{if(!(t instanceof Fn||t instanceof Gl))throw new Oe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return wR(r),new Gl(t.firestore,null,r)}}function Fe(t,e,...n){if(t=En(t),arguments.length===1&&(e=aE.newId()),dL("doc","path",e),t instanceof G0){const r=Kt.fromString(e,...n);return bR(r),new Fn(t,null,new He(r))}{if(!(t instanceof Fn||t instanceof Gl))throw new Oe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return bR(r),new Fn(t.firestore,t instanceof Gl?t.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="AsyncQueue";class u4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rU(this,"async_queue_retry"),this._c=()=>{const r=Zw();r&&Re(c4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Zw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fd(e))throw e;Re(c4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qs("INTERNAL UNHANDLED ERROR: ",d4(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=NE.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ye(47125,{Pc:d4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pd extends G0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new u4,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u4(e),this._firestoreClient=void 0,await e}}}function Lde(t,e){const n=typeof t=="object"?t:I0(),r=typeof t=="string"?t:py,a=so(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=_3("firestore");l&&Mde(a,...l)}return a}function AE(t){if(t._terminated)throw new Oe(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ude(t),t._firestoreClient}function Ude(t){var r,a,l;const e=t._freezeSettings(),n=(function(d,f,h,p){return new ace(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ode(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(yr.fromBase64String(e))}catch(n){throw new Oe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vh(e,Oa._jsonSchema))return Oa.fromBase64String(e.bytes)}}Oa._jsonSchemaVersion="firestore/bytes/1.0",Oa._jsonSchema={type:Un("string",Oa._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(Vh(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Un("string",$i._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vh(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new Oe(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Un("string",Fi._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vde=/^__.*__$/;class zde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new zh(e,this.data,n,this.fieldTransforms)}}class NU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _U(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{Ac:t})}}class CE{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new CE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_U(this.Ac)&&Vde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||F0(e)}Cc(e,n,r,a=!1){return new CE({Ac:e,methodName:n,Dc:r,path:pr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K0(t){const e=t._freezeSettings(),n=F0(t._databaseId);return new Bde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jU(t,e,n,r,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);IE("Data must be an object, but it was:",c,r);const d=AU(r,c);let f,h;if(l.merge)f=new ca(c.fieldMask),h=c.fieldTransforms;else if(l.mergeFields){const p=[];for(const g of l.mergeFields){const x=kN(e,g,n);if(!c.contains(x))throw new Oe(we.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);CU(p,x)||p.push(x)}f=new ca(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new zde(new Fr(d),f,h)}class Y0 extends TE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Y0}}function EU(t,e,n,r){const a=t.Cc(1,e,n);IE("Data must be an object, but it was:",a,r);const l=[],c=Fr.empty();lo(r,((f,h)=>{const p=OE(e,f,n);h=En(h);const g=a.yc(p);if(h instanceof Y0)l.push(p);else{const x=Hh(h,g);x!=null&&(l.push(p),c.set(p,x))}}));const d=new ca(l);return new NU(c,d,a.fieldTransforms)}function SU(t,e,n,r,a,l){const c=t.Cc(1,e,n),d=[kN(e,r,n)],f=[a];if(l.length%2!=0)throw new Oe(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(kN(e,l[x])),f.push(l[x+1]);const h=[],p=Fr.empty();for(let x=d.length-1;x>=0;--x)if(!CU(h,d[x])){const N=d[x];let E=f[x];E=En(E);const j=c.yc(N);if(E instanceof Y0)h.push(N);else{const _=Hh(E,j);_!=null&&(h.push(N),p.set(N,_))}}const g=new ca(h);return new NU(p,g,c.fieldTransforms)}function $de(t,e,n,r=!1){return Hh(n,t.Cc(r?4:3,e))}function Hh(t,e){if(TU(t=En(t)))return IE("Unsupported field value:",e,t),AU(t,e);if(t instanceof TE)return(function(r,a){if(!_U(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let f=Hh(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ace(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Jt.fromDate(r);return{timestampValue:wy(a.serializer,l)}}if(r instanceof Jt){const l=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wy(a.serializer,l)}}if(r instanceof $i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:GL(a.serializer,r._byteString)};if(r instanceof Fn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Fi)return(function(c,d){return{mapValue:{fields:{[bL]:{stringValue:wL},[gy]:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return uE(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${R0(r)}`)})(t,e)}function AU(t,e){const n={};return mL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,((r,a)=>{const l=Hh(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function TU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof $i||t instanceof Oa||t instanceof Fn||t instanceof TE||t instanceof Fi)}function IE(t,e,n){if(!TU(n)||!fL(n)){const r=R0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function kN(t,e,n){if((e=En(e))instanceof qh)return e._internalPath;if(typeof e=="string")return OE(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const Fde=new RegExp("[~\\*/\\[\\]]");function OE(t,e,n){if(e.search(Fde)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qh(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ey(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||c)&&(f+=" (found",l&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new Oe(we.INVALID_ARGUMENT,d+t+f)}function CU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qde(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qde extends IU{data(){return super.data()}}function W0(t,e){return typeof e=="string"?OE(t,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DE{}class RE extends DE{}function pn(t,e,...n){let r=[];e instanceof DE&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((f=>f instanceof PE)).length,d=l.filter((f=>f instanceof X0)).length;if(c>1||c>0&&d>0)throw new Oe(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class X0 extends RE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new X0(e,n,r)}_apply(e){const n=this._parse(e);return OU(e._query,n),new co(e.firestore,e.converter,EN(e._query,n))}_parse(e){const n=K0(e.firestore);return(function(l,c,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Oe(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){h4(g,p);const E=[];for(const j of g)E.push(f4(f,l,j));x={arrayValue:{values:E}}}else x=f4(f,l,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||h4(g,p),x=$de(d,c,g,p==="in"||p==="not-in");return Mn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nn(t,e,n){const r=e,a=W0("where",t);return X0._create(a,r,n)}class PE extends DE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const f of d)OU(c,f),c=EN(c,f)})(e._query,n),new co(e.firestore,e.converter,EN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kE extends RE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kE(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new Oe(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Oe(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oh(l,c)})(e._query,this._field,this._direction);return new co(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new hd(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function uo(t,e="asc"){const n=e,r=W0("orderBy",t);return kE._create(r,n)}class ME extends RE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ME(e,n,r)}_apply(e){return new co(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}function Gde(t){return ME._create("limit",t,"F")}function f4(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new Oe(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IL(e)&&n.indexOf("/")!==-1)throw new Oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!He.isDocumentKey(r))throw new Oe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CR(t,new He(r))}if(n instanceof Fn)return CR(t,n._key);throw new Oe(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${R0(n)}.`)}function h4(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OU(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Kde{convertValue(e,n="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){var r,a,l;const n=(l=(a=(r=e.fields)==null?void 0:r[gy].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Nn(c.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new $i(Nn(e.latitude),Nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const n=Jl(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);At(JL(r),9688,{name:e});const a=new sh(r.get(1),r.get(3)),l=new He(r.popFirst(5));return a.isEqual(n)||qs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Kp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iu extends IU{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(W0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Iu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Iu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Iu._jsonSchema={type:Un("string",Iu._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class dg extends Iu{data(e={}){return super.data(e)}}class Ou{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Kp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new dg(this._firestore,this._userDataWriter,r.key,r,new Kp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new dg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const f=new dg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Kp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:Yde(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ou._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=aE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yde(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:t})}}Ou._jsonSchemaVersion="firestore/querySnapshot/1.0",Ou._jsonSchema={type:Un("string",Ou._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class Wde extends Kde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function Xe(t){t=Xl(t,co);const e=Xl(t.firestore,pd),n=AE(e),r=new Wde(e);return Hde(t._query),kde(n,t._query).then((a=>new Ou(e,r,t,a)))}function Tt(t,e,n,...r){t=Xl(t,Fn);const a=Xl(t.firestore,pd),l=K0(a);let c;return c=typeof(e=En(e))=="string"||e instanceof qh?SU(l,"updateDoc",t._key,e,n,r):EU(l,"updateDoc",t._key,e),Q0(a,[c.toMutation(t._key,Yr.exists(!0))])}function Zt(t){return Q0(Xl(t.firestore,pd),[new B0(t._key,Yr.none())])}function Bt(t,e){const n=Xl(t.firestore,pd),r=Fe(t),a=DU(t.converter,e);return Q0(n,[jU(K0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then((()=>r))}function Q0(t,e){return(function(r,a){const l=new Hl;return r.asyncQueue.enqueueAndForget((async()=>wde(await Rde(r),a,l))),l.promise})(AE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xde{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=K0(e)}set(e,n,r){this._verifyNotCommitted();const a=t1(e,this._firestore),l=DU(a.converter,n,r),c=jU(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Yr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const l=t1(e,this._firestore);let c;return c=typeof(n=En(n))=="string"||n instanceof qh?SU(this._dataReader,"WriteBatch.update",l._key,n,r,a):EU(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=t1(e,this._firestore);return this._mutations=this._mutations.concat(new B0(n._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function t1(t,e){if((t=En(t)).firestore!==e)throw new Oe(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){return AE(t=Xl(t,pd)),new Xde(t,(e=>Q0(t,e)))}(function(e,n=!0){(function(a){ud=a})(Nc),oi(new Ma("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new pd(new Voe(r.getProvider("auth-internal")),new $oe(c,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(h.options.projectId,p)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Kr(gR,yR,e),Kr(gR,yR,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firebasestorage.googleapis.com",Qde="storageBucket",Jde=120*1e3,Zde=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Ua{constructor(e,n,r=0){super(n1(e),`Firebase Storage: ${n} (${n1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ns.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return n1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function n1(t){return"storage/"+t}function efe(){const t="An unknown error occurred, please check the error payload for server response.";return new ns(Ji.UNKNOWN,t)}function tfe(){return new ns(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nfe(){return new ns(Ji.CANCELED,"User canceled the upload/download.")}function rfe(t){return new ns(Ji.INVALID_URL,"Invalid URL '"+t+"'.")}function afe(t){return new ns(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function m4(t){return new ns(Ji.INVALID_ARGUMENT,t)}function PU(){return new ns(Ji.APP_DELETED,"The Firebase app was deleted.")}function ife(t){return new ns(Ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(r.path==="")return r;throw afe(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function h(T){T.path_=decodeURIComponent(T.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",N=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},j=n===RU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",O=new RegExp(`^https?://${j}/${a}/${_}`,"i"),M=[{regex:d,indices:f,postModify:l},{regex:N,indices:E,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let T=0;T<M.length;T++){const C=M[T],L=C.regex.exec(e);if(L){const P=L[C.indices.bucket];let U=L[C.indices.path];U||(U=""),r=new ni(P,U),C.postModify(r);break}}if(r==null)throw rfe(e);return r}}class sfe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lfe(t,e,n){let r=1,a=null,l=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(..._){h||(h=!0,e.apply(null,_))}function g(_){a=setTimeout(()=>{a=null,t(N,f())},_)}function x(){l&&clearTimeout(l)}function N(_,...O){if(h){x();return}if(_){x(),p.call(null,_,...O);return}if(f()||c){x(),p.call(null,_,...O);return}r<64&&(r*=2);let M;d===1?(d=2,M=0):M=(r+Math.random())*1e3,g(M)}let E=!1;function j(_){E||(E=!0,x(),!h&&(a!==null?(_||(d=2),clearTimeout(a),g(0)):_||(d=1)))}return g(0),l=setTimeout(()=>{c=!0,j(!0)},n),j}function ofe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cfe(t){return t!==void 0}function p4(t,e,n,r){if(r<e)throw m4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw m4(`Invalid value for '${t}'. Expected ${n} or less.`)}function ufe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Sy;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sy||(Sy={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dfe(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ffe{constructor(e,n,r,a,l,c,d,f,h,p,g,x=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,j)=>{this.resolve_=E,this.reject_=j,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Yp(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Sy.NO_ERROR,f=l.getStatus();if(!d||dfe(f,this.additionalRetryCodes_)&&this.retry){const p=l.getErrorCode()===Sy.ABORT;r(!1,new Yp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Yp(h,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());cfe(f)?l(f):l()}catch(f){c(f)}else if(d!==null){const f=efe();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?PU():nfe();c(f)}else{const f=tfe();c(f)}};this.canceled_?n(!1,new Yp(!1,null,!0)):this.backoffId_=lfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ofe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mfe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gfe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yfe(t,e,n,r,a,l,c=!0,d=!1){const f=ufe(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return pfe(p,e),hfe(p,n),mfe(p,l),gfe(p,r),new ffe(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vfe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xfe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ay(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xfe(this._location.path)}get storage(){return this._service}get parent(){const e=vfe(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new Ay(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ife(e)}}function g4(t,e){const n=e==null?void 0:e[Qde];return n==null?null:ni.makeFromBucketSpec(n,t)}function bfe(t,e,n,r={}){t.host=`${e}:${n}`;const a=bc(e);a&&(Yj(`https://${t.host}/b`),Wj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:S3(l,t.app.options.projectId))}class wfe{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=RU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Jde,this._maxUploadRetryTime=Zde,this._requests=new Set,a!=null?this._bucket=ni.makeFromBucketSpec(a,this._host):this._bucket=g4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=g4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){p4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){p4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new sfe(PU());{const c=yfe(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const y4="@firebase/storage",v4="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU="storage";function Nfe(t=I0(),e){t=En(t);const r=so(t,kU).getImmediate({identifier:e}),a=_3("storage");return a&&_fe(r,...a),r}function _fe(t,e,n,r={}){bfe(t,e,n,r)}function jfe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new wfe(n,r,a,e,Nc)}function Efe(){oi(new Ma(kU,jfe,"PUBLIC").setMultipleInstances(!0)),Kr(y4,v4,""),Kr(y4,v4,"esm2020")}Efe();function MU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sfe=MU,LU=new wc("auth","Firebase",MU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new C0("@firebase/auth");function Afe(t,...e){Ty.logLevel<=ht.WARN&&Ty.warn(`Auth (${Nc}): ${t}`,...e)}function fg(t,...e){Ty.logLevel<=ht.ERROR&&Ty.error(`Auth (${Nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,...e){throw UE(t,...e)}function qi(t,...e){return UE(t,...e)}function UU(t,e,n){const r={...Sfe(),[e]:n};return new wc("auth","Firebase",r).create(e,{appName:t.name})}function nc(t){return UU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LU.create(t,...e)}function Je(t,e,...n){if(!t)throw UE(e,...n)}function As(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fg(e),new Error(e)}function Ks(t,e){t||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Tfe(){return x4()==="http:"||x4()==="https:"}function x4(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cfe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tfe()||A3()||"connection"in navigator)?navigator.onLine:!0}function Ife(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ks(n>e,"Short delay should be less than long delay!"),this.isMobile=Fie()||Gie()}get(){return Cfe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(t,e){Ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ofe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dfe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rfe=new Gh(3e4,6e4);function zE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gd(t,e,n,r,a={}){return zU(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Uh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...l};return Hie()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&bc(t.emulatorConfig.host)&&(h.credentials="include"),VU.fetch()(await BU(t,t.config.apiHost,n,d),h)})}async function zU(t,e,n){t._canInitEmulator=!1;const r={...Ofe,...e};try{const a=new kfe(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Wp(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Wp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Wp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw UU(t,p,h);Gs(t,p)}}catch(a){if(a instanceof Ua)throw a;Gs(t,"network-request-failed",{message:String(a)})}}async function Pfe(t,e,n,r,a={}){const l=await gd(t,e,n,r,a);return"mfaPendingCredential"in l&&Gs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function BU(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?VE(t.config,a):`${t.config.apiScheme}://${a}`;return Dfe.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class kfe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),Rfe.get())})}}function Wp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=qi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mfe(t,e){return gd(t,"POST","/v1/accounts:delete",e)}async function Cy(t,e){return gd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lfe(t,e=!1){const n=En(t),r=await n.getIdToken(e),a=BE(r);Je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:zf(r1(a.auth_time)),issuedAtTime:zf(r1(a.iat)),expirationTime:zf(r1(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function r1(t){return Number(t)*1e3}function BE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fg("JWT malformed, contained fewer than 3 sections"),null;try{const a=w3(n);return a?JSON.parse(a):(fg("Failed to decode base64 JWT payload"),null)}catch(a){return fg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function b4(t){const e=BE(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ua&&Ufe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ufe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vfe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zf(this.lastLoginAt),this.creationTime=zf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await dh(t,Cy(e,{idToken:n}));Je(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=(g=a.providerUserInfo)!=null&&g.length?$U(a.providerUserInfo):[],c=Bfe(t.providerData,l),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new LN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function zfe(t){const e=En(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bfe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function $U(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $fe(t,e){const n=await zU(t,{},async()=>{const r=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await BU(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&bc(t.emulatorConfig.host)&&(f.credentials="include"),VU.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ffe(t,e){return gd(t,"POST","/v2/accounts:revokeToken",zE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=b4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await $fe(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Du;return r&&(Je(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Je(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Je(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Vfe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new LN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await dh(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lfe(this,e)}reload(){return zfe(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(nc(this.auth));const e=await this.getIdToken();return await dh(this,Mfe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:N,providerData:E,stsTokenManager:j}=n;Je(g&&j,e,"internal-error");const _=Du.fromJSON(this.name,j);Je(typeof g=="string",e,"internal-error"),Dl(r,e.name),Dl(a,e.name),Je(typeof x=="boolean",e,"internal-error"),Je(typeof N=="boolean",e,"internal-error"),Dl(l,e.name),Dl(c,e.name),Dl(d,e.name),Dl(f,e.name),Dl(h,e.name),Dl(p,e.name);const O=new ri({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:_,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(O.providerData=E.map(R=>({...R}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const a=new Du;a.updateFromServerResponse(n);const l=new ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Iy(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Je(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?$U(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Du;d.updateFromIdToken(r);const f=new ri({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new LN(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new Map;function Ts(t){Ks(t instanceof Function,"Expected a class definition");let e=w4.get(t);return e?(Ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,w4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FU.type="NONE";const N4=FU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ru{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=hg(this.userKey,a.apiKey,l),this.fullPersistenceKey=hg("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cy(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ru(Ts(N4),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let l=a[0]||Ts(N4);const c=hg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const x=await Cy(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ri._fromGetAccountInfoResponse(e,x,p)}else g=ri._fromJSON(e,p);h!==l&&(d=g),l=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Ru(l,e,r):(l=f[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==l)try{await h._remove(c)}catch{}})),new Ru(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WU(e))return"Blackberry";if(XU(e))return"Webos";if(HU(e))return"Safari";if((e.includes("chrome/")||GU(e))&&!e.includes("edge/"))return"Chrome";if(YU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qU(t=Er()){return/firefox\//i.test(t)}function HU(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GU(t=Er()){return/crios\//i.test(t)}function KU(t=Er()){return/iemobile/i.test(t)}function YU(t=Er()){return/android/i.test(t)}function WU(t=Er()){return/blackberry/i.test(t)}function XU(t=Er()){return/webos/i.test(t)}function $E(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qfe(t=Er()){var e;return $E(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Hfe(){return Kie()&&document.documentMode===10}function QU(t=Er()){return $E(t)||YU(t)||XU(t)||WU(t)||/windows phone/i.test(t)||KU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e=[]){let n;switch(t){case"Browser":n=_4(Er());break;case"Worker":n=`${_4(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const f=e(l);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kfe(t,e={}){return gd(t,"GET","/v2/passwordPolicy",zE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yfe=6;class Wfe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Yfe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xfe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j4(this),this.idTokenSubscription=new j4(this),this.beforeStateQueue=new Gfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ts(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Ru.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cy(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ife()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(nc(this));const n=e?En(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(nc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(nc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Kfe(this),n=new Wfe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ffe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ts(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Ru.create(this,[Ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Afe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function FE(t){return En(t)}class j4{constructor(e){this.auth=e,this.observer=null,this.addObserver=ese(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qfe(t){qE=t}function Jfe(t){return qE.loadJS(t)}function Zfe(){return qE.gapiScript}function ehe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function the(t,e){const n=so(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Wl(l,e??{}))return a;Gs(a,"already-initialized")}return n.initialize({options:e})}function nhe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rhe(t,e,n){const r=FE(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=ZU(e),{host:c,port:d}=ahe(e),f=d===null?"":`:${d}`,h={url:`${l}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(Wl(h,r.config.emulator)&&Wl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,bc(c)?(Yj(`${l}//${c}${f}`),Wj("Auth",!0)):ihe()}function ZU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ahe(t){const e=ZU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:E4(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:E4(c)}}}function E4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ihe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,n){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return Pfe(t,"POST","/v1/accounts:signInWithIdp",zE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const she="http://localhost";class mc extends e8{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new mc(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:she,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends t8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Kh{constructor(){super("facebook.com")}static credential(e){return mc._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mc._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ll.credential(n,r)}catch{return null}}}Ll.GOOGLE_SIGN_IN_METHOD="google.com";Ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Kh{constructor(){super("github.com")}static credential(e){return mc._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ul.credentialFromTaggedObject(e)}static credentialFromError(e){return Ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ul.credential(e.oauthAccessToken)}catch{return null}}}Ul.GITHUB_SIGN_IN_METHOD="github.com";Ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Kh{constructor(){super("twitter.com")}static credential(e,n){return mc._fromParams({providerId:Vl.PROVIDER_ID,signInMethod:Vl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vl.credentialFromTaggedObject(e)}static credentialFromError(e){return Vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vl.credential(n,r)}catch{return null}}}Vl.TWITTER_SIGN_IN_METHOD="twitter.com";Vl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await ri._fromIdTokenResponse(e,r,a),c=S4(r);return new Qu({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=S4(r);return new Qu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function S4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Ua{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Oy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Oy(e,n,r,a)}}function n8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oy._fromErrorAndOperation(t,l,e,r):l})}async function lhe(t,e,n=!1){const r=await dh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ohe(t,e,n=!1){const{auth:r}=t;if(ti(r.app))return Promise.reject(nc(r));const a="reauthenticate";try{const l=await dh(t,n8(r,a,e,t),n);Je(l.idToken,r,"internal-error");const c=BE(l.idToken);Je(c,r,"internal-error");const{sub:d}=c;return Je(t.uid===d,r,"user-mismatch"),Qu._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Gs(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function che(t,e,n=!1){if(ti(t.app))return Promise.reject(nc(t));const r="signIn",a=await n8(t,r,e),l=await Qu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}function uhe(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function dhe(t,e,n){return En(t).beforeAuthStateChanged(e,n)}const Dy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dy,"1"),this.storage.removeItem(Dy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fhe=1e3,hhe=10;class a8 extends r8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);Hfe()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,hhe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a8.type="LOCAL";const mhe=a8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8 extends r8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i8.type="SESSION";const s8=i8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function phe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new J0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async h=>h(n.origin,l)),f=await phe(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}J0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ghe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,f)=>{const h=HE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(p),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function yhe(t){Hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function vhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xhe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function bhe(){return l8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8="firebaseLocalStorageDb",whe=1,Ry="firebaseLocalStorage",c8="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Z0(t,e){return t.transaction([Ry],e?"readwrite":"readonly").objectStore(Ry)}function Nhe(){const t=indexedDB.deleteDatabase(o8);return new Yh(t).toPromise()}function UN(){const t=indexedDB.open(o8,whe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ry,{keyPath:c8})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ry)?e(r):(r.close(),await Nhe(),e(await UN()))})})}async function A4(t,e,n){const r=Z0(t,!0).put({[c8]:e,value:n});return new Yh(r).toPromise()}async function _he(t,e){const n=Z0(t,!1).get(e),r=await new Yh(n).toPromise();return r===void 0?null:r.value}function T4(t,e){const n=Z0(t,!0).delete(e);return new Yh(n).toPromise()}const jhe=800,Ehe=3;class u8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await UN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ehe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=J0._getInstance(bhe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await vhe(),!this.activeServiceWorker)return;this.sender=new ghe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xhe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await UN();return await A4(e,Dy,"1"),await T4(e,Dy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_he(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Z0(a,!1).getAll();return new Yh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u8.type="LOCAL";const She=u8;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ahe(t,e){return e?Ts(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends e8{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function The(t){return che(t.auth,new GE(t),t.bypassAuthState)}function Che(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),ohe(n,new GE(t),t.bypassAuthState)}async function Ihe(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),lhe(n,new GE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return The;case"linkViaPopup":case"linkViaRedirect":return Ihe;case"reauthViaPopup":case"reauthViaRedirect":return Che;default:Gs(this.auth,"internal-error")}}resolve(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ohe=new Gh(2e3,1e4);class Eu extends d8{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Eu.currentPopupAction&&Eu.currentPopupAction.cancel(),Eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const e=HE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ohe.get())};e()}}Eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dhe="pendingRedirect",mg=new Map;class Rhe extends d8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mg.get(this.auth._key());if(!e){try{const r=await Phe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mg.set(this.auth._key(),e)}return this.bypassAuthState||mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Phe(t,e){const n=Lhe(e),r=Mhe(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function khe(t,e){mg.set(t._key(),e)}function Mhe(t){return Ts(t._redirectPersistence)}function Lhe(t){return hg(Dhe,t.config.apiKey,t.name)}async function Uhe(t,e,n=!1){if(ti(t.app))return Promise.reject(nc(t));const r=FE(t),a=Ahe(r,e),c=await new Rhe(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe=600*1e3;class zhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bhe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!f8(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vhe&&this.cachedEventUids.clear(),this.cachedEventUids.has(C4(e))}saveEventToCache(e){this.cachedEventUids.add(C4(e)),this.lastProcessedEventTime=Date.now()}}function C4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function f8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bhe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $he(t,e={}){return gd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qhe=/^https?/;async function Hhe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $he(t);for(const n of e)try{if(Ghe(n))return}catch{}Gs(t,"unauthorized-domain")}function Ghe(t){const e=MN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!qhe.test(n))return!1;if(Fhe.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe=new Gh(3e4,6e4);function I4(){const t=Hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Yhe(t){return new Promise((e,n)=>{var a,l,c;function r(){I4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I4(),n(qi(t,"network-request-failed"))},timeout:Khe.get()})}if((l=(a=Hi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Hi().gapi)!=null&&c.load)r();else{const d=ehe("iframefcb");return Hi()[d]=()=>{gapi.load?r():n(qi(t,"network-request-failed"))},Jfe(`${Zfe()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw pg=null,e})}let pg=null;function Whe(t){return pg=pg||Yhe(t),pg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xhe=new Gh(5e3,15e3),Qhe="__/auth/iframe",Jhe="emulator/auth/iframe",Zhe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tme(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?VE(e,Jhe):`https://${t.config.authDomain}/${Qhe}`,r={apiKey:e.apiKey,appName:t.name,v:Nc},a=eme.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Uh(r).slice(1)}`}async function nme(t){const e=await Whe(t),n=Hi().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:tme(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zhe,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=qi(t,"network-request-failed"),d=Hi().setTimeout(()=>{l(c)},Xhe.get());function f(){Hi().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ame=500,ime=600,sme="_blank",lme="http://localhost";class O4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ome(t,e,n,r=ame,a=ime){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...rme,width:r.toString(),height:a.toString(),top:l,left:c},h=Er().toLowerCase();n&&(d=GU(h)?sme:n),qU(h)&&(e=e||lme,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[N,E])=>`${x}${N}=${E},`,"");if(qfe(h)&&d!=="_self")return cme(e||"",d),new O4(null);const g=window.open(e||"",d,p);Je(g,t,"popup-blocked");try{g.focus()}catch{}return new O4(g)}function cme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ume="__/auth/handler",dme="emulator/auth/handler",fme=encodeURIComponent("fac");async function D4(t,e,n,r,a,l){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nc,eventId:a};if(e instanceof t8){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Zie(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Kh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${fme}=${encodeURIComponent(f)}`:"";return`${hme(t)}?${Uh(d).slice(1)}${h}`}function hme({config:t}){return t.emulator?VE(t,dme):`https://${t.authDomain}/${ume}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="webStorageSupport";class mme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s8,this._completeRedirectFn=Uhe,this._overrideRedirectResult=khe}async _openPopup(e,n,r,a){var c;Ks((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await D4(e,n,r,MN(),a);return ome(e,l,HE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await D4(e,n,r,MN(),a);return yhe(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ks(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nme(e),r=new zhe(e);return n.register("authEvent",a=>(Je(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(a1,{type:a1},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[a1];l!==void 0&&n(!!l),Gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hhe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QU()||HU()||$E()}}const pme=mme;var R4="@firebase/auth",P4="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gme{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vme(t){oi(new Ma("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Je(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JU(t)},h=new Xfe(r,a,l,f);return nhe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oi(new Ma("auth-internal",e=>{const n=FE(e.getProvider("auth").getImmediate());return(r=>new gme(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(R4,P4,yme(t)),Kr(R4,P4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xme=300,bme=E3("authIdTokenMaxAge")||xme;let k4=null;const wme=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bme)return;const a=n==null?void 0:n.token;k4!==a&&(k4=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Nme(t=I0()){const e=so(t,"auth");if(e.isInitialized())return e.getImmediate();const n=the(t,{popupRedirectResolver:pme,persistence:[She,mhe,s8]}),r=E3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=wme(l.toString());dhe(n,c,()=>c(n.currentUser)),uhe(n,d=>c(d))}}const a=N3("auth");return a&&rhe(n,`http://${a}`),n}function _me(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Qfe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=qi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",_me().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vme("Browser");const jme={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},ev=R3(jme);Doe(ev);const me=Lde(ev);Nfe(ev);Nme(ev);const Eme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",el=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const l=r.result.split(",")[1];if(!l){n(new Error("   ."));return}const c={base64:l,type:t.type,name:t.name},d=await fetch(Eme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();f.status==="success"&&f.url?e(f.url):n(new Error(f.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Se=async(t,e,n="")=>{try{await Bt(Ce(me,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},Sme=async()=>{try{const t=pn(Ce(me,"activity_logs"),Gde(100));let n=(await Xe(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},Ame=async t=>{await Zt(Fe(me,"activity_logs",t))},Tme=async(t,e)=>{try{const n=pn(Ce(me,"staff"),nn("username","==",t),nn("password","==",e)),r=await Xe(n);if(!r.empty){const x=r.docs[0].data();let N=Ne.STAFF;return t.toLowerCase()==="admin"&&(N=Ne.ADMIN),await Se(" ",x.name,`  ${N}`),{id:r.docs[0].id,name:x.name,role:N,details:x.rank}}const a=pn(Ce(me,"employees"),nn("username","==",t),nn("password","==",e)),l=await Xe(a);if(!l.empty){const x=l.docs[0].data();return await Se(" ",x.name,`: ${x.jobTitle}`),{id:l.docs[0].id,name:x.name,role:Ne.EMPLOYEE,details:x.jobTitle}}const c=pn(Ce(me,"pg_students"),nn("username","==",t),nn("password","==",e)),d=await Xe(c);if(!d.empty){const x=d.docs[0].data();return await Se(" ",x.name,"  "),{id:d.docs[0].id,name:x.name,role:Ne.STUDENT_PG,details:" "}}const f=pn(Ce(me,"ug_students"),nn("username","==",t),nn("password","==",e)),h=await Xe(f);if(!h.empty){const x=h.docs[0].data();return await Se(" ",x.name," "),{id:h.docs[0].id,name:x.name,role:Ne.STUDENT_UG,details:" "}}const p=pn(Ce(me,"alumni"),nn("username","==",t),nn("password","==",e)),g=await Xe(p);if(!g.empty){const x=g.docs[0].data();return await Se(" ",x.name,""),{id:g.docs[0].id,name:x.name,role:Ne.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},fo=async t=>{try{const e=Ce(me,"archive");let n;return t?n=pn(e,nn("type","==",t)):n=pn(e),(await Xe(n)).docs.map(l=>({id:l.id,...l.data()})).sort((l,c)=>c.createdAt-l.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},tv=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await Bt(Ce(me,"archive"),e);return{...e,id:n.id}},fh=async(t,e)=>{await Tt(Fe(me,"archive",t),e)},Wh=async t=>{await Zt(Fe(me,"archive",t))},KE=async t=>{const e=await fo(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},Cme=async()=>{const t=await Xe(Ce(me,"archive")),e=await Xe(Ce(me,"staff")),n=await Xe(Ce(me,"pg_students")),r=await Xe(Ce(me,"alumni")),a=await Xe(Ce(me,"employees")),l=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:l.filter(d=>d.type===rt.INCOMING).length,totalOutgoing:l.filter(d=>d.type===rt.OUTGOING).length,totalCouncils:l.filter(d=>d.type===rt.DEPARTMENT_COUNCIL).length,totalCommittees:l.filter(d=>d.type===rt.COMMITTEE_MEETING).length,todayCount:l.filter(d=>d.date===c).length,unansweredCount:l.filter(d=>d.type===rt.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},Xh=async()=>(await Xe(Ce(me,"staff"))).docs.map(e=>({id:e.id,...e.data()})),h8=async t=>{await Bt(Ce(me,"staff"),t)},VN=async(t,e)=>{await Tt(Fe(me,"staff",t),e)},m8=async t=>{await Zt(Fe(me,"staff",t))},p8=async()=>(await Xe(Ce(me,"employees"))).docs.map(e=>({id:e.id,...e.data()})),Ime=async t=>{await Bt(Ce(me,"employees"),t)},Ome=async(t,e)=>{await Tt(Fe(me,"employees",t),e)},Dme=async t=>{await Zt(Fe(me,"employees",t))},Rme=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},g8=async()=>(await Xe(Ce(me,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:Rme(n.dates)}}),Pme=async t=>{await Bt(Ce(me,"pg_students"),t)},zN=async(t,e)=>{await Tt(Fe(me,"pg_students",t),e)},kme=async t=>{await Zt(Fe(me,"pg_students",t))},Mme=async()=>(await Xe(Ce(me,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),Lme=async t=>{await Bt(Ce(me,"ug_students"),t)},Ume=async(t,e)=>{await Tt(Fe(me,"ug_students",t),e)},Vme=async t=>{await Zt(Fe(me,"ug_students",t))},zme=async()=>(await Xe(Ce(me,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),y8=async t=>{await Bt(Ce(me,"alumni"),t)},Bme=async(t,e)=>{await Tt(Fe(me,"alumni",t),e)},$me=async t=>{await Zt(Fe(me,"alumni",t))},Fme=async()=>(await Xe(Ce(me,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),qme=async t=>{await Bt(Ce(me,"jobs"),{...t,status:t.status||"OPEN"})},Hme=async(t,e)=>{await Tt(Fe(me,"jobs",t),e)},Gme=async t=>{await Zt(Fe(me,"jobs",t))},Kme=async()=>(await Xe(Ce(me,"assets"))).docs.map(e=>({id:e.id,...e.data()})),Yme=async t=>{await Bt(Ce(me,"assets"),{...t,createdAt:Date.now()})},Wme=async(t,e)=>{await Tt(Fe(me,"assets",t),e)},Xme=async t=>{await Zt(Fe(me,"assets",t))},Qme=async()=>(await Xe(Ce(me,"labs"))).docs.map(e=>({id:e.id,...e.data()})),Jme=async t=>{await Bt(Ce(me,"labs"),t)},Zme=async(t,e)=>{await Tt(Fe(me,"labs",t),e)},epe=async t=>{await Zt(Fe(me,"labs",t))},tpe=async()=>(await Xe(Ce(me,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),npe=async t=>{await Bt(Ce(me,"lab_classes"),t)},rpe=async(t,e)=>{await Tt(Fe(me,"lab_classes",t),e)},ape=async t=>{await Zt(Fe(me,"lab_classes",t))},ipe=async()=>(await Xe(Ce(me,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),spe=async t=>{await Bt(Ce(me,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},lpe=async(t,e)=>{await Tt(Fe(me,"lab_bookings",t),e)},ope=async t=>{await Zt(Fe(me,"lab_bookings",t))},cpe=async()=>{const e=(await Xe(Ce(me,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=LE(me),r=[];for(let a=1;a<=12;a++){const l=Fe(Ce(me,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(l,c),r.push({id:l.id,...c})}return await n.commit(),r}return e},M4=async(t,e)=>{await Tt(Fe(me,"greenhouse_plots",t),e)},upe=async()=>(await Xe(Ce(me,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),dpe=async t=>{await Bt(Ce(me,"greenhouse_history"),t)},fpe=async t=>{await Zt(Fe(me,"greenhouse_history",t))},hpe=async()=>(await Xe(Ce(me,"materials"))).docs.map(e=>({id:e.id,...e.data()})),mpe=async t=>{await Bt(Ce(me,"materials"),t)},ppe=async t=>{await Zt(Fe(me,"materials",t))},gpe=async()=>(await Xe(Ce(me,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),ype=async t=>{await Bt(Ce(me,"announcements"),t)},vpe=async t=>{await Zt(Fe(me,"announcements",t))},xpe=async()=>(await Xe(Ce(me,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),bpe=async t=>{await Bt(Ce(me,"schedules"),t)},wpe=async t=>{await Zt(Fe(me,"schedules",t))},Npe=async()=>(await Xe(Ce(me,"events"))).docs.map(e=>({id:e.id,...e.data()})),_pe=async t=>{await Bt(Ce(me,"events"),{...t,createdAt:Date.now()})},jpe=async(t,e)=>{await Tt(Fe(me,"events",t),e)},Epe=async t=>{await Zt(Fe(me,"events",t))},Spe=async()=>(await Xe(Ce(me,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),Ape=async t=>{await Bt(Ce(me,"dept_councils"),t)},Tpe=async(t,e)=>{await Tt(Fe(me,"dept_councils",t),e)},Cpe=async t=>{await Zt(Fe(me,"dept_councils",t))},Ipe=async()=>(await Xe(Ce(me,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),Ope=async t=>{await Bt(Ce(me,"dept_committees"),t)},Dpe=async(t,e)=>{await Tt(Fe(me,"dept_committees",t),e)},Rpe=async t=>{await Zt(Fe(me,"dept_committees",t))},Ppe=async(t,e)=>{const n=pn(Ce(me,"annual_reports"),nn("userId","==",t),nn("academicYear","==",e)),r=await Xe(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},kpe=async(t,e)=>{e?await Tt(Fe(me,"annual_reports",e),{...t}):await Bt(Ce(me,"annual_reports"),t)},Mpe=async t=>{const e=pn(Ce(me,"annual_reports"),nn("academicYear","==",t));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},YE=async()=>{const t=pn(Ce(me,"research_plans"),nn("status","==","ACTIVE")),e=await Xe(t);return e.empty?(await cge(),YE()):{id:e.docs[0].id,...e.docs[0].data()}},Lpe=async()=>{const t=pn(Ce(me,"research_plans"),uo("startDate","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},Upe=async t=>{if(t.status==="ACTIVE"){const e=await YE();e&&await zpe(e.id)}await Bt(Ce(me,"research_plans"),t)},Bo=async(t,e)=>{await Tt(Fe(me,"research_plans",t),e)},Vpe=async t=>{await Zt(Fe(me,"research_plans",t))},zpe=async t=>{await Tt(Fe(me,"research_plans",t),{status:"ARCHIVED"})},Bpe=async()=>{const t=pn(Ce(me,"research_proposals"),uo("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},$pe=async t=>{const e=JSON.parse(JSON.stringify(t));await Bt(Ce(me,"research_proposals"),{...e,createdAt:Date.now()})},Fpe=async(t,e,n)=>{await Tt(Fe(me,"research_proposals",t),{status:e,adminNotes:n})},qpe=async t=>{await Bt(Ce(me,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},Hpe=async t=>{const e=pn(Ce(me,"leave_requests"),nn("userId","==",t),uo("createdAt","desc"));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},Gpe=async t=>{const e=pn(Ce(me,"leave_requests"),nn("substituteId","==",t),nn("status","==","PENDING_SUBSTITUTE"));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},Kpe=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await Tt(Fe(me,"leave_requests",t),r)},Ype=async()=>{const t=pn(Ce(me,"leave_requests"),uo("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},i1=async t=>{await Bt(Ce(me,"career_requests"),{...t,createdAt:Date.now(),status:"PENDING_DEPT"})},Wpe=async t=>{const e=pn(Ce(me,"career_requests"),nn("userId","==",t),uo("createdAt","desc"));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},Xpe=async()=>{const t=pn(Ce(me,"career_requests"),uo("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},Qpe=async(t,e)=>{await Tt(Fe(me,"career_requests",t),{status:e})},Jpe=async t=>{const e=pn(Ce(me,"career_requests"),nn("userId","==",t),nn("type","==","LOAN"),nn("status","==","APPROVED")),n=await Xe(e);let r=0;return n.forEach(a=>{const l=a.data(),c=new Date(l.startDate).getFullYear(),d=new Date(l.endDate).getFullYear();r+=d-c+1}),r},Zpe=async()=>{const t=pn(Ce(me,"repository_items"),uo("createdAt","desc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},ege=async t=>{await Bt(Ce(me,"repository_items"),{...t,createdAt:Date.now()})},tge=async t=>{await Bt(Ce(me,"repository_requests"),{...t,status:"PENDING",createdAt:Date.now()})},nge=async t=>{const e=pn(Ce(me,"repository_requests"),nn("itemAuthorId","==",t),nn("status","==","PENDING"));return(await Xe(e)).docs.map(r=>({id:r.id,...r.data()}))},rge=async(t,e)=>{await Tt(Fe(me,"repository_requests",t),{status:e,responseDate:new Date().toISOString()})},age=async()=>{const e=(await Xe(Ce(me,"repository_items"))).docs.map(n=>n.data());return{totalItems:e.length,theses:e.filter(n=>n.type.includes("THESIS")).length,papers:e.filter(n=>n.type.includes("PAPER")).length,books:e.filter(n=>n.type==="BOOK").length}},L4=async()=>{const t=pn(Ce(me,"courses"),uo("code","asc"));return(await Xe(t)).docs.map(n=>({id:n.id,...n.data()}))},ige=async t=>{await Bt(Ce(me,"courses"),{...t,createdAt:Date.now()})},sge=async(t,e)=>{await Tt(Fe(me,"courses",t),e)},lge=async t=>{await Zt(Fe(me,"courses",t))},oge=async()=>{if(!(await Xe(Ce(me,"courses"))).empty)return;console.log("Seeding Courses...");const e=LE(me);[{code:"BOT101",nameAr:"  ( )",nameEn:"General Botany",level:"Level 1",semester:"First",division:"General",creditHours:3,lectureHours:2,labHours:1,coordinator:"./  ",type:"Compulsory"},{code:"PP301",nameAr:"  ",nameEn:"Fungal Plant Pathology",level:"Level 3",semester:"First",division:"Plant Pathology",creditHours:3,lectureHours:2,labHours:1,prerequisiteName:"BOT101",coordinator:".  ",type:"Compulsory",description:"     ."},{code:"PP605",nameAr:" ",nameEn:"Physiology of Parasitism",level:"MSc",creditHours:3,coordinator:"./  ",type:"Compulsory",description:"      ."}].forEach(r=>{const a=Fe(Ce(me,"courses"));e.set(a,{...r,createdAt:Date.now()})}),await e.commit()},cge=async()=>{if(!(await Xe(Ce(me,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await Bt(Ce(me,"research_plans"),e)},uge=async()=>{if(!(await Xe(Ce(me,"staff"))).empty)return;console.log("Seeding initial data...");const e=LE(me),n=Fe(Ce(me,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},dge=()=>{const[t,e]=w.useState(null),[n,r]=w.useState([]),[a,l]=w.useState(!0),c=async()=>{l(!0);const f=await Cme(),h=await fo();e(f),r(h.slice(0,5)),l(!1)};if(w.useEffect(()=>{c()},[]),a||!t)return s.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:s.jsx(h1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),s.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(h1,{className:"w-4 h-4"})," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ia,{title:" ",value:t.totalIncoming,icon:cP,color:"blue"}),s.jsx(Ia,{title:" ",value:t.totalOutgoing,icon:uP,color:"green"}),s.jsx(Ia,{title:" ",value:t.totalCouncils,icon:ai,color:"purple"}),s.jsx(Ia,{title:" ",value:t.totalCommittees,icon:oP,color:"amber"})]}),s.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ia,{title:"  ",value:t.totalStaff,icon:ai,color:"green"}),s.jsx(Ia,{title:" ",value:t.totalEmployees,icon:sP,color:"amber"}),s.jsx(Ia,{title:"  ",value:t.totalStudentsPG,icon:Is,color:"blue"}),s.jsx(Ia,{title:" ",value:t.totalAlumni,icon:Ps,color:"purple"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b text-gray-500",children:[s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[n.map(f=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.type===rt.INCOMING?"bg-blue-100 text-blue-700":f.type===rt.OUTGOING?"bg-green-100 text-green-700":f.type===rt.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:f.type===rt.INCOMING?"":f.type===rt.OUTGOING?"":f.type===rt.DEPARTMENT_COUNCIL?"":""}),f.type===rt.INCOMING&&f.actionRequired&&(f.isFollowedUp?s.jsx(qr,{className:"w-4 h-4 text-green-500",title:" "}):s.jsx(Gi,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),s.jsx("td",{className:"py-3 font-medium text-gray-700",children:f.serialNumber}),s.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:f.subject}),s.jsx("td",{className:"py-3 text-gray-500",children:f.date})]},f.id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),s.jsx($k,{width:"100%",height:250,children:s.jsxs(wie,{data:d,children:[s.jsx(t3,{strokeDasharray:"3 3",vertical:!1}),s.jsx(r3,{dataKey:"name",tick:{fontFamily:"Cairo"}}),s.jsx(a3,{allowDecimals:!1}),s.jsx(v6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),s.jsx(Y6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},fge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[N,E]=w.useState(null);w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const T=await fo(rt.OUTGOING);c(T),n(!1)},_=async()=>{const T=await KE(rt.OUTGOING);x({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),E(null),p(null),f(!0)},O=T=>{x({serialNumber:T.serialNumber,date:T.date,recipient:T.recipient||"",subject:T.subject,notes:T.notes||""}),p(T.id),E(null),f(!0)},R=async T=>{if(window.confirm("      "))try{await Wh(T.id),await Se(" ",t.name,`   : ${T.serialNumber}`),j()}catch(C){console.error(C),alert(" ")}},M=async T=>{T.preventDefault(),a(!0);try{let C="";if(N)try{C=await el(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(h){const L={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};C&&(L.fileUrl=C),await fh(h,L),await Se(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await tv({type:rt.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:C||""}),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),j()}catch(C){console.error(C),alert(" : "+C.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&s.jsxs("button",{onClick:_,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-green-800",children:h?"  ":"  "}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:T=>x({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>x({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:T=>x({...g,recipient:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:T=>x({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:2,value:g.notes,onChange:T=>x({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>E(T.target.files?T.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ze,{className:"w-8 h-8 text-green-600 animate-spin"}):s.jsx(rr,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ze,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),s.jsx("td",{className:"p-4",children:T.date}),s.jsx("td",{className:"p-4",children:T.recipient}),s.jsx("td",{className:"p-4 max-w-xs truncate",title:T.subject,children:T.subject}),s.jsx("td",{className:"p-4",children:T.fileUrl?s.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),s.jsxs("td",{className:"p-4 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>O(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},T.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},hge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[N,E]=w.useState(null),j=["./  ",".  ",".  "," "," "];w.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const L=await fo(rt.INCOMING);c(L),n(!1)},O=async()=>{const L=await KE(rt.INCOMING);x({...g,serialNumber:L,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),E(null),p(null),f(!0)},R=L=>{x({serialNumber:L.serialNumber,date:L.date,sender:L.sender||"",senderRefNumber:L.senderRefNumber||"",subject:L.subject,actionRequired:L.actionRequired||"",assignedTo:L.assignedTo||"",notes:L.notes||""}),p(L.id),E(null),f(!0)},M=async L=>{if(window.confirm("       "))try{await Wh(L.id),await Se(" ",t.name,`    : ${L.serialNumber}`),_()}catch(P){console.error(P),alert(" ")}},T=async L=>{L.preventDefault(),a(!0);try{let P="";if(N)try{P=await el(N)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};P&&(U.fileUrl=P),await fh(h,U),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await tv({type:rt.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:P||"",isFollowedUp:!1}),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),_()}catch(P){console.error(P),alert("   : "+P.message)}finally{a(!1)}},C=async L=>{if(!L.actionRequired)return;const P=!L.isFollowedUp;c(U=>U.map($=>$.id===L.id?{...$,isFollowedUp:P}:$));try{await fh(L.id,{isFollowedUp:P}),await Se(" ",t.name,`     ${L.serialNumber}  ${P?"":" "}`)}catch{c($=>$.map(A=>A.id===L.id?{...A,isFollowedUp:!P}:A)),alert("  ")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&s.jsxs("button",{onClick:O,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-blue-800",children:h?"  ":"  "}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:L=>x({...g,serialNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:L=>x({...g,date:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsx("div",{}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:L=>x({...g,sender:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:L=>x({...g,senderRefNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,value:g.subject,onChange:L=>x({...g,subject:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:L=>x({...g,actionRequired:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),s.jsxs("select",{value:g.assignedTo,onChange:L=>x({...g,assignedTo:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[s.jsx("option",{value:"",children:"--     --"}),j.map((L,P)=>s.jsx("option",{value:L,children:L},P))]})]})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:L=>E(L.target.files?L.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ze,{className:"w-8 h-8 text-blue-600 animate-spin"}):s.jsx(rr,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ze,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(L=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4",children:L.actionRequired?s.jsx("button",{onClick:()=>C(L),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${L.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:L.isFollowedUp?"  ":"  ",children:L.isFollowedUp?s.jsxs(s.Fragment,{children:[s.jsx(qr,{className:"w-3 h-3"}),s.jsx("span",{children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(Gi,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})}):s.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),s.jsx("td",{className:"p-4 font-bold text-gray-700",children:L.serialNumber}),s.jsx("td",{className:"p-4",children:L.date}),s.jsx("td",{className:"p-4",children:L.sender}),s.jsx("td",{className:"p-4 max-w-xs truncate",title:L.subject,children:L.subject}),s.jsx("td",{className:"p-4",children:L.assignedTo?s.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:L.assignedTo}):"-"}),s.jsx("td",{className:"p-4",children:L.fileUrl?s.jsxs("a",{href:L.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>R(L),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(L),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},L.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},mge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[N,E]=w.useState(null);w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const T=await fo(rt.DEPARTMENT_COUNCIL);c(T),n(!1)},_=async()=>{const T=await KE(rt.DEPARTMENT_COUNCIL);x({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),E(null),p(null),f(!0)},O=T=>{x({serialNumber:T.serialNumber,date:T.date,subject:T.subject,notes:T.notes||""}),p(T.id),E(null),f(!0)},R=async T=>{if(window.confirm("      "))try{await Wh(T.id),await Se("  ",t.name,`    : ${T.serialNumber}`),j()}catch(C){console.error(C),alert(" ")}},M=async T=>{T.preventDefault(),a(!0);try{let C="";if(N)try{C=await el(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(h){const L={date:g.date,subject:g.subject,notes:g.notes};C&&(L.fileUrl=C),await fh(h,L),await Se("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await tv({type:rt.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:C||""}),await Se("  ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),j()}catch(C){console.error(C),alert("   : "+C.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&s.jsxs("button",{onClick:_,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-purple-800",children:h?"  ":"  "}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:T=>x({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>x({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:T=>x({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("textarea",{rows:4,value:g.notes,onChange:T=>x({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>E(T.target.files?T.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ze,{className:"w-8 h-8 text-purple-600 animate-spin"}):s.jsx(rr,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ze,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),s.jsx("td",{className:"p-4",children:T.date}),s.jsx("td",{className:"p-4 max-w-lg truncate",title:T.subject,children:T.subject}),s.jsx("td",{className:"p-4",children:T.fileUrl?s.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>O(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},T.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},pge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[N,E]=w.useState(null),j=["   ","  ","  ","  ","  "," "];w.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const C=await fo(rt.COMMITTEE_MEETING);c(C),n(!1)},O=async()=>{x({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),E(null),p(null),f(!0)},R=C=>{x({serialNumber:C.serialNumber,date:C.date,committeeName:C.sender||"",subject:C.subject,notes:C.notes||""}),p(C.id),E(null),f(!0)},M=async C=>{if(window.confirm("      "))try{await Wh(C.id),await Se("  ",t.name,`   : ${C.sender}  ${C.date}`),_()}catch(L){console.error(L),alert(" ")}},T=async C=>{C.preventDefault(),a(!0);try{let L="";if(N)try{L=await el(N)}catch(P){throw console.error("Upload failed:",P),new Error("  .    Google Drive Script.")}if(h){const P={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};L&&(P.fileUrl=L),await fh(h,P),await Se("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await tv({type:rt.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:L||""}),await Se("  ",t.name,`    : ${g.committeeName}`),alert("   ");f(!1),_()}catch(L){console.error(L),alert("   : "+L.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&s.jsxs("button",{onClick:O,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-amber-800",children:h?" ":" "}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{required:!0,value:g.committeeName,onChange:C=>x({...g,committeeName:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[s.jsx("option",{value:"",children:"--   --"}),j.map(C=>s.jsx("option",{value:C,children:C},C)),s.jsx("option",{value:"other",children:"  (   )"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:C=>x({...g,serialNumber:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:C=>x({...g,date:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:C=>x({...g,subject:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:4,value:g.notes,onChange:C=>x({...g,notes:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:C=>E(C.target.files?C.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Ze,{className:"w-8 h-8 text-amber-600 animate-spin"}):s.jsx(rr,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Ze,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-amber-800",children:C.sender}),s.jsx("td",{className:"p-4 text-gray-700",children:C.serialNumber}),s.jsx("td",{className:"p-4",children:C.date}),s.jsx("td",{className:"p-4 max-w-lg truncate",title:C.subject,children:C.subject}),s.jsx("td",{className:"p-4",children:C.fileUrl?s.jsxs("a",{href:C.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>R(C),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(C),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},C.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},gge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!1),[d,f]=w.useState(""),[h,p]=w.useState("ALL"),[g,x]=w.useState(""),[N,E]=w.useState("");w.useEffect(()=>{j()},[]);const j=async()=>{c(!0);const C=await fo();n(C),a(C),c(!1)},_=()=>{let C=e;if(h!=="ALL"&&(C=C.filter(L=>L.type===h)),d.trim()){const L=d.toLowerCase();C=C.filter(P=>P.subject.toLowerCase().includes(L)||P.serialNumber.toLowerCase().includes(L)||P.notes&&P.notes.toLowerCase().includes(L)||P.recipient&&P.recipient.toLowerCase().includes(L)||P.sender&&P.sender.toLowerCase().includes(L))}g&&(C=C.filter(L=>L.date>=g)),N&&(C=C.filter(L=>L.date<=N)),a(C)},O=()=>{f(""),p("ALL"),x(""),E(""),a(e)},R=async C=>{if(window.confirm("      ")){const L=e.find(P=>P.id===C);await Wh(C),await Se("  ",t.name,`  : ${(L==null?void 0:L.serialNumber)||C} - : ${L==null?void 0:L.type}`),j()}},M=C=>{switch(C){case rt.INCOMING:return"";case rt.OUTGOING:return"";case rt.DEPARTMENT_COUNCIL:return" ";case rt.COMMITTEE_MEETING:return" ";default:return C}},T=C=>{switch(C){case rt.INCOMING:return"bg-blue-100 text-blue-700";case rt.OUTGOING:return"bg-green-100 text-green-700";case rt.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case rt.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5 text-green-600"})," "]}),s.jsxs("button",{onClick:O,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[s.jsx(Et,{className:"w-4 h-4"}),"  "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:C=>f(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("select",{value:h,onChange:C=>p(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[s.jsx("option",{value:"ALL",children:""}),s.jsx("option",{value:rt.INCOMING,children:""}),s.jsx("option",{value:rt.OUTGOING,children:""}),s.jsx("option",{value:rt.DEPARTMENT_COUNCIL,children:" "}),s.jsx("option",{value:rt.COMMITTEE_MEETING,children:" "})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",value:g,onChange:C=>x(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",value:N,onChange:C=>E(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:s.jsxs("button",{onClick:_,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[s.jsx(A9,{className:"w-4 h-4"})," "]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:" / "}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:l?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${T(C.type)}`,children:M(C.type)})}),s.jsx("td",{className:"p-3 font-semibold",children:C.serialNumber}),s.jsx("td",{className:"p-3",children:C.date}),s.jsx("td",{className:"p-3 max-w-xs truncate",title:C.subject,children:C.subject}),s.jsxs("td",{className:"p-3",children:[C.type===rt.OUTGOING&&C.recipient,C.type===rt.INCOMING&&C.sender,C.type===rt.DEPARTMENT_COUNCIL&&" ",C.type===rt.COMMITTEE_MEETING&&C.sender]}),s.jsxs("td",{className:"p-3 flex items-center gap-2",children:[C.fileUrl&&s.jsx("a",{href:C.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:s.jsx(ar,{className:"w-4 h-4"})}),t.role==="ADMIN"&&s.jsx("button",{onClick:()=>R(C.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:s.jsx(Et,{className:"w-4 h-4"})})]})]},C.id))})]})})]})]})},yge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[l,c]=w.useState(""),[d,f]=w.useState(!1),[h,p]=w.useState("FACULTY"),[g,x]=w.useState(!1),[N,E]=w.useState(!1),[j,_]=w.useState(null),[O,R]=w.useState({}),[M,T]=w.useState({}),[C,L]=w.useState(!1),[P,U]=w.useState(!1),$=t.role===Ne.ADMIN;w.useEffect(()=>{A()},[]);const A=async()=>{a(!0);const V=await Xh();n(V),a(!1)},D=V=>!!($||t.role===Ne.STAFF&&t.id===V),z=V=>{V?(_(V),R(V)):(_(null),R({name:"",rank:"",specialization:"",email:"",phone:"",subRole:"FACULTY"})),x(!0)},B=async(V,W)=>{if(window.confirm("      "))try{await m8(V),await Se("   ",t.name,`  : ${W}`),A()}catch{alert(" ")}},ge=async V=>{V.preventDefault(),f(!0);try{j?(await VN(j.id,O),await Se("  ",t.name,`  : ${O.name}`),alert("  ")):(await h8(O),await Se("   ",t.name,`  : ${O.name}`),alert("  ")),x(!1),A()}catch{alert("   ")}finally{f(!1)}},re=V=>{var W,pe,Z,xe,Te,De,ae,le,ke,J;_(V),T({...V.documents,promotionDecisions:((W=V.documents)==null?void 0:W.promotionDecisions)||[],adminPositions:((pe=V.documents)==null?void 0:pe.adminPositions)||[],extensionDecisions:((Z=V.documents)==null?void 0:Z.extensionDecisions)||[],progressReports:((xe=V.documents)==null?void 0:xe.progressReports)||[],efficiencyReports:((Te=V.documents)==null?void 0:Te.efficiencyReports)||[],coursePortfolios:((De=V.documents)==null?void 0:De.coursePortfolios)||[],publications:((ae=V.documents)==null?void 0:ae.publications)||[],conferenceCerts:((le=V.documents)==null?void 0:le.conferenceCerts)||[],arbitrationCerts:((ke=V.documents)==null?void 0:ke.arbitrationCerts)||[],communityServiceDocs:((J=V.documents)==null?void 0:J.communityServiceDocs)||[]}),U(!1),E(!0)},G=V=>{const W=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;T(pe=>({...pe,[V]:W})),alert("   ()")},Y=(V,W)=>{if(!W)return;const pe=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,Z={id:Math.random().toString(36).substr(2,9),title:W,url:pe,date:new Date().toISOString().split("T")[0]};T(xe=>({...xe,[V]:[...xe[V]||[],Z]}))},H=(V,W)=>{T(pe=>({...pe,[V]:(pe[V]||[]).filter(Z=>Z.id!==W)}))},he=async()=>{if(j){L(!0);try{await VN(j.id,{documents:M}),await Se("  ",t.name,`   : ${j.name}`),n(V=>V.map(W=>W.id===j.id?{...W,documents:M}:W)),alert("    "),U(!1)}catch{alert("   ")}finally{L(!1)}}},X=e.filter(V=>(V.subRole||"FACULTY")===h&&(V.name.toLowerCase().includes(l.toLowerCase())||V.specialization.toLowerCase().includes(l.toLowerCase())));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Is,{className:"w-8 h-8 text-green-600"})," "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),$&&s.jsxs("button",{onClick:()=>z(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow-sm",children:[s.jsx(Vt,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>p("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${h==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ps,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>p("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${h==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Is,{className:"w-4 h-4"}),"  "]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400 absolute right-6 top-6"}),s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-3 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:l,onChange:V=>c(V.target.value)})]}),r?s.jsx("div",{className:"text-center py-12",children:s.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[X.map(V=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group",children:s.jsxs("div",{className:"p-6 flex flex-col items-center text-center relative",children:[s.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[D(V.id)&&s.jsx("button",{onClick:()=>z(V),className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",title:"  ",children:s.jsx(gn,{className:"w-4 h-4"})}),$&&s.jsx("button",{onClick:()=>B(V.id,V.name),className:"p-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 border-4 border-white shadow-sm",children:V.imageUrl?s.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-full h-full rounded-full object-cover"}):s.jsx(lP,{className:"w-16 h-16 text-gray-400"})}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:V.name}),s.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-bold mb-2",children:V.rank}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4 flex items-center gap-1",children:[s.jsx(Ui,{className:"w-4 h-4"})," ",V.specialization]}),s.jsxs("div",{className:"w-full border-t pt-4 flex flex-col gap-2 text-sm text-gray-600",children:[V.email&&s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(d1,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:V.email})]}),V.phone&&s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(Zp,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{dir:"ltr",children:V.phone})]}),s.jsxs("button",{onClick:()=>re(V),className:"mt-2 w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[s.jsx(FileText,{className:"w-4 h-4"}),"   "]})]})]})},V.id)),X.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-gray-400",children:"    ."})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"  ":"  "}),s.jsx("button",{onClick:()=>x(!1),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:O.name||"",onChange:V=>R({...O,name:V.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:O.rank||"",onChange:V=>R({...O,rank:V.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:O.specialization||"",onChange:V=>R({...O,specialization:V.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"email",className:"w-full border p-2 rounded-lg",value:O.email||"",onChange:V=>R({...O,email:V.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"tel",className:"w-full border p-2 rounded-lg",value:O.phone||"",onChange:V=>R({...O,phone:V.target.value})})]}),$&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg bg-white",value:O.subRole||"FACULTY",onChange:V=>R({...O,subRole:V.target.value}),children:[s.jsx("option",{value:"FACULTY",children:"  "}),s.jsx("option",{value:"ASSISTANT",children:" "})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-8 py-2 rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[d&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})]})}),N&&j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:j.name}),s.jsx("p",{className:"text-green-100 text-sm",children:"  "})]}),s.jsxs("div",{className:"flex gap-2",children:[D(j.id)&&(P?s.jsxs("button",{onClick:he,disabled:C,className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm font-bold",children:[C?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),"  "]}):s.jsxs("button",{onClick:()=>U(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[s.jsx(gn,{className:"w-4 h-4"}),"  "]})),s.jsx("button",{onClick:()=>E(!1),className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:s.jsx(Et,{className:"w-6 h-6"})})]})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[P&&s.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[s.jsx(rr,{className:"w-4 h-4"}),s.jsx("span",{children:"      .         ."})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Ps,{className:"w-5 h-5 text-gray-500"}),"   "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(pu,{title:"1.   ",url:M.appointmentDecision,isEditing:P,onUpload:()=>G("appointmentDecision")}),s.jsx(pu,{title:"2.   ",url:M.joiningReport,isEditing:P,onUpload:()=>G("joiningReport")}),s.jsx(U4,{title:"3.  ",description:"   .",items:M.promotionDecisions,isEditing:P,onAdd:V=>Y("promotionDecisions",V),onRemove:V=>H("promotionDecisions",V)})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Is,{className:"w-5 h-5 text-purple-600"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(pu,{title:" ",url:M.bachelorCert,isEditing:P,onUpload:()=>G("bachelorCert")}),s.jsx(pu,{title:" ",url:M.masterCert,isEditing:P,onUpload:()=>G("masterCert")}),s.jsx(pu,{title:" ",url:M.phdCert,isEditing:P,onUpload:()=>G("phdCert")})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Jp,{className:"w-5 h-5 text-blue-600"}),"  "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(U4,{title:"  ",description:"  .",items:M.conferenceCerts,isEditing:P,onAdd:V=>Y("conferenceCerts",V),onRemove:V=>H("conferenceCerts",V)}),s.jsx(pu,{title:"  ",url:M.publicationsListFile,isEditing:P,onUpload:()=>G("publicationsListFile")})]})]})]})]})})]})},pu=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>s.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-green-50 border-green-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"text-xs bg-white border border-green-200 text-green-700 px-2 py-1 rounded hover:bg-green-50 transition-colors",children:""}),r&&s.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[s.jsx(rr,{className:"w-3 h-3"})," ",n?s.jsx("span",{children:""}):s.jsx("span",{children:""})]}),!n&&!r&&s.jsx("span",{className:"text-xs text-red-400 font-medium",children:""})]})]}),e&&s.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),U4=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:l})=>{const[c,d]=w.useState("");return s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white shadow-sm",children:[s.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?s.jsx("ul",{className:"space-y-2 mb-3",children:n.map(f=>s.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm border border-gray-100",children:[s.jsx("span",{className:"truncate flex-1 ml-2 font-medium text-gray-700",children:f.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("a",{href:f.url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline font-bold",children:""}),r&&s.jsx("button",{onClick:()=>l(f.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-3 h-3"})})]})]},f.id))}):!r&&s.jsx("p",{className:"text-xs text-gray-400 italic mb-3 bg-gray-50 p-2 rounded text-center",children:"   ."}),r&&s.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-3 border-dashed",children:[s.jsx("input",{type:"text",placeholder:"  ...",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500 bg-gray-50 focus:bg-white",value:c,onChange:f=>d(f.target.value)}),s.jsxs("button",{onClick:()=>{c&&(a(c),d(""))},className:"bg-blue-600 text-white text-xs px-3 py-2 rounded hover:bg-blue-700 flex items-center gap-1 shadow-sm disabled:opacity-50",disabled:!c,children:[s.jsx(Vt,{className:"w-3 h-3"})," "]})]})]})},V4=({user:t})=>{const[e,n]=w.useState(t.role===Ne.STUDENT_PG?"PG":"UG"),[r,a]=w.useState("MATERIALS"),[l,c]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState([]),[g,x]=w.useState([]),[N,E]=w.useState([]),[j,_]=w.useState(!0),[O,R]=w.useState(!1),[M,T]=w.useState(!1),[C,L]=w.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[P,U]=w.useState(!1),[$,A]=w.useState(null),[D,z]=w.useState(!1),[B,ge]=w.useState(!1),[re,G]=w.useState(null),[Y,H]=w.useState({content:"",isImportant:!1}),[he,X]=w.useState(!1),[V,W]=w.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[pe,Z]=w.useState(!1),[xe,Te]=w.useState(null),De=t.role===Ne.ADMIN||t.role===Ne.STAFF;w.useEffect(()=>{ae()},[]),w.useEffect(()=>{const Ee=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];x(l.filter(ve=>Ee.includes(ve.year))),E(h.filter(ve=>Ee.includes(ve.year)));const yt=e==="UG"?"Third":"Pre-Master";L(ve=>({...ve,year:yt})),W(ve=>({...ve,year:yt}))},[e,l,h]);const ae=async()=>{_(!0);const[Ee,yt,ve]=await Promise.all([hpe(),gpe(),xpe()]);c(Ee),f(yt),p(ve),_(!1)},le=async Ee=>{Ee.preventDefault(),R(!0);try{await mpe({title:C.title,year:C.year,fileUrl:C.fileUrl||"#",description:C.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Se("  ",t.name,`: ${C.title} - : ${C.year}`),await ae(),T(!1),L({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(yt){console.error(yt),alert("   ")}finally{R(!1)}},ke=async()=>{if($){R(!0);try{const Ee=l.find(yt=>yt.id===$);await ppe($),Se("  ",t.name,`  : ${Ee==null?void 0:Ee.title}`),await ae(),U(!1),A(null)}catch(Ee){console.error(Ee),alert("  ")}finally{R(!1)}}},J=async Ee=>{Ee.preventDefault(),R(!0);try{await ype({content:Y.content,isImportant:Y.isImportant,date:new Date().toISOString().split("T")[0]}),Se(" ",t.name,Y.content.substring(0,50)+"..."),await ae(),z(!1),H({content:"",isImportant:!1})}catch(yt){console.error(yt),alert("    ")}finally{R(!1)}},de=async()=>{if(re){R(!0);try{await vpe(re),Se(" ",t.name,"    "),await ae(),ge(!1),G(null)}catch(Ee){console.error(Ee),alert("   ")}finally{R(!1)}}},Ve=async Ee=>{Ee.preventDefault(),R(!0);try{await bpe({title:V.title,type:V.type,year:V.year,fileUrl:V.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Se(" ",t.name,`: ${V.title}`),await ae(),X(!1),W({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(yt){console.error(yt),alert("    ")}finally{R(!1)}},Ge=async()=>{if(xe){R(!0);try{const Ee=h.find(yt=>yt.id===xe);await wpe(xe),Se(" ",t.name,`  : ${Ee==null?void 0:Ee.title}`),await ae(),Z(!1),Te(null)}catch(Ee){console.error(Ee),alert("   ")}finally{R(!1)}}},St=Ee=>{const yt=`https://picsum.photos/seed/${Math.random()}/800/600`;Ee(ve=>({...ve,fileUrl:yt}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),s.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ui,{className:"w-4 h-4"}),"  ( 3  4)"]}),s.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Is,{className:"w-4 h-4"}),"  ()"]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(ar,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(ph,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[s.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),De&&s.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[s.jsx(Rf,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(Ee=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:s.jsx(ar,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:Ee.title}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Ee.year==="Third"&&" ",Ee.year==="Fourth"&&" ",Ee.year==="Pre-Master"&&" ",Ee.year==="Pre-PhD"&&" "," | ",": ",Ee.uploadedBy]}),Ee.description&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ee.description}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:Ee.date})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("a",{href:Ee.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[s.jsx(ku,{className:"w-4 h-4"})," "]}),De&&s.jsx("button",{onClick:()=>{A(Ee.id),U(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},Ee.id)):s.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:s.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),De&&s.jsxs("button",{onClick:()=>X(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[s.jsx(Rf,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.length>0?N.map(Ee=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[s.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[s.jsx("img",{src:Ee.fileUrl,alt:Ee.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${Ee.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:Ee.type==="EXAM"?" ":" "})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:Ee.title}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[Ee.year==="Third"&&" ",Ee.year==="Fourth"&&" ",Ee.year==="Pre-Master"&&" ",Ee.year==="Pre-PhD"&&" "," | ",Ee.date]}),s.jsxs("a",{href:Ee.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[s.jsx(ku,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),De&&s.jsx("button",{onClick:()=>{Te(Ee.id),Z(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},Ee.id)):s.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:s.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),s.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:" "}),De&&s.jsxs("button",{onClick:()=>z(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[s.jsx(Rf,{className:"w-3 h-3"})," "]})]}),d.length>0?s.jsx("ul",{className:"space-y-4 text-sm",children:d.map(Ee=>s.jsxs("li",{className:"flex gap-2 relative group",children:[s.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${Ee.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{children:Ee.content}),s.jsx("p",{className:"text-green-300 text-xs mt-1",children:Ee.date})]}),De&&s.jsx("button",{onClick:()=>{G(Ee.id),ge(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:s.jsx(ot,{className:"w-4 h-4"})})]},Ee.id))}):s.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:le,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:C.title,onChange:Ee=>L({...C,title:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:C.year,onChange:Ee=>L({...C,year:Ee.target.value}),children:e==="UG"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Pre-Master",children:" "}),s.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:C.description,onChange:Ee=>L({...C,description:Ee.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:C.fileUrl}),s.jsxs("button",{type:"button",onClick:()=>St(L),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[s.jsx(rr,{className:"w-4 h-4"})," "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:O,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[O?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),he&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:Ve,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:V.title,onChange:Ee=>W({...V,title:Ee.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:V.type,onChange:Ee=>W({...V,type:Ee.target.value}),children:[s.jsx("option",{value:"LECTURE",children:" "}),s.jsx("option",{value:"EXAM",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:V.year,onChange:Ee=>W({...V,year:Ee.target.value}),children:e==="UG"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Pre-Master",children:" "}),s.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:V.fileUrl}),s.jsxs("button",{type:"button",onClick:()=>St(W),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[s.jsx(rr,{className:"w-4 h-4"})," "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>X(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:O,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[O?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),D&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:J,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:Y.content,onChange:Ee=>H({...Y,content:Ee.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isImportant",checked:Y.isImportant,onChange:Ee=>H({...Y,isImportant:Ee.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),s.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:O,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[O?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:ke,disabled:O,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[O&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),pe&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:Ge,disabled:O,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[O&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),B&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>ge(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:de,disabled:O,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[O&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},z4=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!1),l=qN(),[c,d]=w.useState(!1),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[x,N]=w.useState(null),[E,j]=w.useState(!1),[_,O]=w.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[R,M]=w.useState(null),[T,C]=w.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),L=async()=>{a(!0);const re=await Fme();n(re),a(!1)};w.useEffect(()=>{L()},[]);const P=()=>{l("/users",{state:{initialTab:"ALUMNI"}})},U=async re=>{re.preventDefault(),j(!0);try{await y8({..._,username:_.email.split("@")[0],password:"123"});const G=(t==null?void 0:t.name)||_.name;Se("  ",G,` : ${_.name} -  ${_.graduationYear}`),alert("   !    ."),d(!1),O({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(G){console.error(G),alert("   ")}finally{j(!1)}},$=re=>{re?(M(re.id),C({title:re.title,company:re.company,description:re.description,contactInfo:re.contactInfo,datePosted:re.datePosted,status:re.status||"OPEN"})):(M(null),C({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),h(!0)},A=async re=>{re.preventDefault(),j(!0);const G=(t==null?void 0:t.name)||"Unknown";try{R?(await Hme(R,T),Se("  ",G,`: ${T.title}`)):(await qme(T),Se("  ",G,`: ${T.title} - : ${T.company}`)),h(!1),L()}catch(Y){console.error(Y),alert("    ")}finally{j(!1)}},D=re=>{N(re),g(!0)},z=async()=>{if(x){j(!0);try{const re=e.find(G=>G.id===x);await Gme(x),Se("  ",(t==null?void 0:t.name)||"Unknown",`  : ${re==null?void 0:re.title}`),n(G=>G.filter(Y=>Y.id!==x)),g(!1),N(null)}catch(re){console.error("Delete failed",re),alert("  "),L()}finally{j(!1)}}},B=(t==null?void 0:t.role)===Ne.ADMIN||(t==null?void 0:t.role)===Ne.STAFF,ge=B||(t==null?void 0:t.role)===Ne.ALUMNI;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),s.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[s.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[s.jsx(vP,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===Ne.ADMIN&&s.jsxs("button",{onClick:P,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[s.jsx(gP,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),s.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:s.jsx(Ps,{className:"w-64 h-64"})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[s.jsx(Ps,{className:"w-6 h-6 text-amber-600"}),s.jsx("h2",{children:"  "})]}),ge&&s.jsxs("button",{onClick:()=>$(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[s.jsx(Rf,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(re=>s.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${re.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:re.title}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[s.jsx(Qz,{className:"w-4 h-4"}),s.jsx("span",{children:re.company})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${re.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:re.status==="CLOSED"?"":" "}),B&&s.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[s.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),$(re)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),D(re.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]}),s.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:re.description}),s.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),s.jsx("p",{className:"text-amber-600",children:re.contactInfo})]}),s.jsx("div",{className:"mt-4 flex items-center justify-between",children:s.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",re.datePosted]})})]},re.id)),s.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[s.jsx("p",{className:"font-medium",children:"   "}),s.jsx("p",{className:"text-sm mt-1",children:"   "}),ge&&s.jsx("button",{onClick:()=>$(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:_.name,onChange:re=>O({..._,name:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:_.graduationYear,onChange:re=>O({..._,graduationYear:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",value:_.currentJob,onChange:re=>O({..._,currentJob:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"email",required:!0,value:_.email,onChange:re=>O({..._,email:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"tel",required:!0,value:_.phone,onChange:re=>O({..._,phone:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:E,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[E?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:z,disabled:E,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[E&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?"  ":"   "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":  ",value:T.title,onChange:re=>C({...T,title:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,value:T.company,onChange:re=>C({...T,company:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.status,onChange:re=>C({...T,status:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[s.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),s.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:T.description,onChange:re=>C({...T,description:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"    ",value:T.contactInfo,onChange:re=>C({...T,contactInfo:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:T.datePosted,onChange:re=>C({...T,datePosted:re.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:E,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[E?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})})]})},vge=({user:t})=>{if(t.role!==Ne.ADMIN)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] animate-in fade-in",children:[s.jsx("div",{className:"bg-red-50 p-6 rounded-full mb-4",children:s.jsx(yP,{className:"w-12 h-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"   "}),s.jsx("p",{className:"text-gray-500 text-center max-w-md",children:"      .         ."})]});const e=ts(),[n,r]=w.useState("STAFF"),[a,l]=w.useState(!1),[c,d]=w.useState([]),[f,h]=w.useState([]),[p,g]=w.useState([]),[x,N]=w.useState([]),[E,j]=w.useState([]),[_,O]=w.useState(!1),[R,M]=w.useState(null),[T,C]=w.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});w.useEffect(()=>{e.state&&e.state.initialTab&&r(e.state.initialTab)},[e.state]),w.useEffect(()=>{L()},[n]);const L=async()=>{l(!0),n==="STAFF"?d(await Xh()):n==="PG"?h(await g8()):n==="UG"?g(await Mme()):n==="ALUMNI"?N(await zme()):n==="EMPLOYEE"&&j(await p8()),l(!1)},P=A=>{if(A)M(A.id),C({name:A.name||"",email:A.email||"",phone:A.phone||"",whatsapp:A.whatsapp||"",address:A.address||"",subRole:A.subRole||"FACULTY",rank:A.rank||"",specialization:A.specialization||"",degree:A.degree||"MSc",researchTopic:A.researchTopic||"",supervisor:A.supervisor||"",status:A.status||"Researching",year:A.year||"Third",section:A.section||"",graduationYear:A.graduationYear||"",currentJob:A.currentJob||"",jobTitle:A.jobTitle||"",department:A.department||"",username:A.username||"",password:A.password||""});else{M(null);const D="user"+Math.floor(Math.random()*1e3);C({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:D,password:"123"})}O(!0)},U=async(A,D)=>{if(window.confirm("      "))try{n==="STAFF"?await m8(A):n==="PG"?await kme(A):n==="UG"?await Vme(A):n==="ALUMNI"?await $me(A):n==="EMPLOYEE"&&await Dme(A),await Se(" ","Admin",`  : ${D}   ${n}`),L()}catch(z){console.error("Error deleting user:",z),alert("   ")}},$=async A=>{A.preventDefault();const D={email:T.email,phone:T.phone,whatsapp:T.whatsapp,address:T.address};try{if(n==="STAFF"){const z={name:T.name,...D,subRole:T.subRole,rank:T.rank,specialization:T.specialization,username:T.username,password:T.password};R?await VN(R,z):await h8(z)}else if(n==="PG")if(R){const z={name:T.name,...D,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password};await zN(R,z)}else{const z={name:T.name,...D,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await Pme(z)}else if(n==="UG"){const z={name:T.name,...D,year:T.year,section:T.section,username:T.username,password:T.password};R?await Ume(R,z):await Lme(z)}else if(n==="ALUMNI"){const z={name:T.name,...D,graduationYear:T.graduationYear,currentJob:T.currentJob,username:T.username,password:T.password};R?await Bme(R,z):await y8(z)}else if(n==="EMPLOYEE"){const z={name:T.name,...D,jobTitle:T.jobTitle,department:T.department,username:T.username,password:T.password};R?await Ome(R,z):await Ime(z)}await Se(R?"  ":"  ","Admin",` ${R?"":""} : ${T.name}   ${n}`),O(!1),L(),alert("   ")}catch(z){console.error("Error saving user:",z),alert("   ")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(u1,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),s.jsxs("button",{onClick:()=>P(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(vP,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:ai,label:" "},{id:"EMPLOYEE",icon:sP,label:" "},{id:"PG",icon:Is,label:" "},{id:"UG",icon:Ui,label:" (3  4)"},{id:"ALUMNI",icon:Ps,label:""}].map(A=>s.jsx("button",{onClick:()=>r(A.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${n===A.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(A.icon,{className:"w-4 h-4"})," ",A.label]})},A.id))}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:n==="STAFF"?" ":n==="EMPLOYEE"?" ":n==="PG"?"":n==="UG"?"":" "}),s.jsx("th",{className:"p-4",children:n==="STAFF"?"":n==="EMPLOYEE"?" / ":n==="PG"?"":n==="UG"?"":" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let A=[];return n==="STAFF"?A=c:n==="EMPLOYEE"?A=E:n==="PG"?A=f:n==="UG"?A=p:A=x,A.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):A.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:D.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:n==="STAFF"?D.rank:n==="EMPLOYEE"?D.jobTitle:n==="PG"?D.degree:n==="UG"?D.year==="Third"?"":"":D.graduationYear})}),s.jsx("td",{className:"p-4",children:n==="STAFF"?D.specialization:n==="EMPLOYEE"?D.department:n==="PG"?D.supervisor:n==="UG"?D.section||"-":D.currentJob||"-"}),s.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[D.phone&&s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(Zp,{className:"w-3 h-3 text-gray-400"})," ",D.phone]}),D.whatsapp&&s.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[s.jsx(P2,{className:"w-3 h-3"})," ",D.whatsapp]}),D.email&&s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(d1,{className:"w-3 h-3"})," ",D.email]})]}),s.jsx("td",{className:"p-4 font-mono text-gray-600",children:D.username||"-"}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>P(D),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>U(D.id,D.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},D.id))})()})]})})]}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[R?" ":"  ",s.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",n==="STAFF"?" ":n==="EMPLOYEE"?"/":n==="PG"?" ":n==="UG"?" ":"",")"]})]}),s.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.name,onChange:A=>C({...T,name:A.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(Zp,{className:"w-4 h-4"}),"   ()"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(Zp,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.phone,onChange:A=>C({...T,phone:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(P2,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),s.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.whatsapp,onChange:A=>C({...T,whatsapp:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(d1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:T.email,onChange:A=>C({...T,email:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(mP,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:" - ",value:T.address,onChange:A=>C({...T,address:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),n==="EMPLOYEE"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":   ",required:!0,value:T.jobTitle,onChange:A=>C({...T,jobTitle:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.department,onChange:A=>C({...T,department:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="STAFF"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.subRole,onChange:A=>C({...T,subRole:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[s.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),s.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.rank,onChange:A=>C({...T,rank:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.specialization,onChange:A=>C({...T,specialization:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="PG"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:T.degree,onChange:A=>C({...T,degree:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.status,onChange:A=>C({...T,status:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"Researching",children:" "}),s.jsx("option",{value:"Writing",children:" "}),s.jsx("option",{value:"Defense",children:""})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.researchTopic,onChange:A=>C({...T,researchTopic:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:T.supervisor,onChange:A=>C({...T,supervisor:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="UG"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.year,onChange:A=>C({...T,year:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",placeholder:":  ",value:T.section,onChange:A=>C({...T,section:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="ALUMNI"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",placeholder:"2023",required:!0,value:T.graduationYear,onChange:A=>C({...T,graduationYear:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"",value:T.currentJob,onChange:A=>C({...T,currentJob:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[s.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[s.jsx(u1,{className:"w-4 h-4"}),"   "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.username,onChange:A=>C({...T,username:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.password,onChange:A=>C({...T,password:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),s.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},xge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[a,l]=w.useState(null),[c,d]=w.useState(0),[f,h]=w.useState(0),[p,g]=w.useState(!1),[x,N]=w.useState(null),[E,j]=w.useState([]),[_,O]=w.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[R,M]=w.useState({title:"",url:"",date:""}),[T,C]=w.useState("UPLOAD"),[L,P]=w.useState({title:"",url:"",archiveId:""}),[U,$]=w.useState(!1);w.useEffect(()=>{A()},[]);const A=async()=>{r(!0);const X=await g8();e(X),d(X.filter(V=>V.alerts.reportOverdue).length),h(X.filter(V=>V.alerts.extensionNeeded).length),r(!1)},D=X=>{l(a===X?null:X)},z=async(X,V,W)=>{const pe=t.find(xe=>xe.id===X);if(!pe)return;const Z={...pe.dates,[V]:W};if(V==="lastReport"){const xe=new Date(W);xe.setMonth(xe.getMonth()+6),Z.nextReportDue=xe.toISOString().split("T")[0]}try{await zN(X,{dates:Z}),A()}catch(xe){console.error(xe),alert("   ")}},B=async X=>{N(X.id),O({protocolUrl:X.documents.protocolUrl||"",toeflUrl:X.documents.toeflUrl||"",publishedPapers:X.documents.publishedPapers?[...X.documents.publishedPapers]:[],otherDocuments:X.documents.otherDocuments?[...X.documents.otherDocuments]:[]}),M({title:"",url:"",date:""}),P({title:"",url:"",archiveId:""}),C("UPLOAD");const W=(await fo()).filter(pe=>pe.type===rt.INCOMING||pe.type===rt.OUTGOING||pe.type===rt.DEPARTMENT_COUNCIL);j(W),g(!0)},ge=X=>{const V=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;X==="protocol"?O(W=>({...W,protocolUrl:V})):X==="toefl"?O(W=>({...W,toeflUrl:V})):X==="other"&&P(W=>({...W,url:V}))},re=()=>{!R.title||!R.date||(O(X=>({...X,publishedPapers:[...X.publishedPapers,{...R}]})),M({title:"",url:"",date:""}))},G=X=>{O(V=>({...V,publishedPapers:V.publishedPapers.filter((W,pe)=>pe!==X)}))},Y=()=>{if(!L.title)return;const X={id:Math.random().toString(36).substr(2,9),title:L.title,date:new Date().toISOString().split("T")[0],type:T};if(T==="UPLOAD"){if(!L.url)return;X.url=L.url}else{if(!L.archiveId)return;const V=E.find(W=>W.id===L.archiveId);X.archiveId=L.archiveId,X.archiveSerial=(V==null?void 0:V.serialNumber)||"???"}O(V=>({...V,otherDocuments:[...V.otherDocuments,X]})),P({title:"",url:"",archiveId:""})},H=X=>{O(V=>({...V,otherDocuments:V.otherDocuments.filter((W,pe)=>pe!==X)}))},he=async X=>{if(X.preventDefault(),!!x){$(!0);try{const V=t.find(W=>W.id===x);if(V){const W={...V.documents,protocolUrl:_.protocolUrl,toeflUrl:_.toeflUrl,publishedPapers:_.publishedPapers,otherDocuments:_.otherDocuments};await zN(x,{documents:W}),await A()}g(!1)}catch(V){console.error(V),alert("    ")}finally{$(!1)}}};return n?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:s.jsx(Is,{})})]}),s.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),s.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),s.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:s.jsx(Gi,{})})]}),s.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${f>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`${f>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),s.jsx("h3",{className:`text-2xl font-bold ${f>0?"text-amber-800":"text-gray-800"}`,children:f}),f>0&&s.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),s.jsx("div",{className:`${f>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:s.jsx(Gr,{})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:s.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),s.jsx("div",{className:"divide-y",children:t.map(X=>s.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[s.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>D(X.id),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${X.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:X.degree==="PhD"?"D":"M"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:X.name}),s.jsx("p",{className:"text-sm text-gray-500",children:X.researchTopic})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-left md:text-right",children:[s.jsx("p",{className:"text-gray-500 text-xs",children:" "}),s.jsx("p",{className:"font-medium",children:X.supervisor})]}),s.jsxs("div",{className:"flex gap-2",children:[X.alerts.reportOverdue&&s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[s.jsx(Gi,{className:"w-3 h-3"}),"  "]}),X.alerts.extensionNeeded&&s.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[s.jsx(Gr,{className:"w-3 h-3"}),"  "]})]}),s.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===X.id?s.jsx(QN,{}):s.jsx(XN,{})})]})]}),a===X.id&&s.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[s.jsx(ph,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.enrollment||"",onChange:V=>z(X.id,"enrollment",V.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.registration||"",onChange:V=>z(X.id,"registration",V.target.value)})]})]}),s.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),X.alerts.reportOverdue&&s.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:X.dates.lastReport||"",onChange:V=>z(X.id,"lastReport",V.target.value)}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",s.jsx("span",{className:"font-mono text-gray-600",children:X.dates.nextReportDue||"-"})]})]}),s.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:X.dates.expectedDefense||"",onChange:V=>z(X.id,"expectedDefense",V.target.value)})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[s.jsx(ar,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),X.documents.protocolUrl?s.jsxs("a",{href:X.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(yg,{className:"w-3 h-3"})," "]}):s.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),X.documents.toeflUrl?s.jsxs("a",{href:X.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(yg,{className:"w-3 h-3"})," "]}):s.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),X.documents.otherDocuments&&X.documents.otherDocuments.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[s.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),s.jsx("ul",{className:"space-y-1",children:X.documents.otherDocuments.map((V,W)=>s.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[V.type==="ARCHIVE_LINK"?s.jsx(R2,{className:"w-3 h-3 text-amber-500"}):s.jsx(ar,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"truncate",children:V.title})]},W))})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("button",{onClick:()=>B(X),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[s.jsx(Vt,{className:"w-3 h-3"}),"   "]})})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs("button",{onClick:()=>D(X.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})})]})]},X.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[s.jsx(Ui,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[t.map(X=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:X.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${X.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:X.degree==="PhD"?"":""})}),s.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:X.researchTopic,children:X.researchTopic}),s.jsxs("td",{className:"p-4 text-gray-600",children:[X.supervisor,X.coSupervisors&&s.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",X.coSupervisors]})]}),s.jsx("td",{className:"p-4 font-mono text-gray-500",children:X.dates.registration||"-"}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[X.status==="Researching"&&" ",X.status==="Writing"&&" ",X.status==="Defense"&&" ",X.status==="Granted"&&" ",X.status==="Recording"&&" "]})})]},X.id)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:he,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),s.jsx("input",{type:"text",readOnly:!0,value:_.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),s.jsx("button",{type:"button",onClick:()=>ge("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:s.jsx(rr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),s.jsx("input",{type:"text",readOnly:!0,value:_.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),s.jsx("button",{type:"button",onClick:()=>ge("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:s.jsx(rr,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),_.otherDocuments&&_.otherDocuments.length>0?s.jsx("ul",{className:"space-y-2",children:_.otherDocuments.map((X,V)=>s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[X.type==="ARCHIVE_LINK"?s.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:s.jsx(R2,{className:"w-4 h-4"})}):s.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:s.jsx(ar,{className:"w-4 h-4"})}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-bold text-gray-800",children:X.title}),X.type==="ARCHIVE_LINK"?s.jsxs("p",{className:"text-amber-600",children:["  : ",X.archiveSerial]}):s.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),s.jsx("button",{type:"button",onClick:()=>H(V),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]},V))}):s.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[s.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[s.jsx("button",{type:"button",onClick:()=>C("UPLOAD"),className:`text-xs font-bold pb-1 ${T==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),s.jsx("button",{type:"button",onClick:()=>C("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${T==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:L.title,onChange:X=>P({...L,title:X.target.value})}),T==="UPLOAD"?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:L.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),s.jsxs("button",{type:"button",onClick:()=>ge("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[s.jsx(rr,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):s.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:L.archiveId,onChange:X=>P({...L,archiveId:X.target.value}),children:[s.jsx("option",{value:"",children:"--     --"}),E.map(X=>s.jsxs("option",{value:X.id,children:["[",X.type===rt.INCOMING?"":"","] ",X.serialNumber," - ",X.subject]},X.id))]}),s.jsxs("button",{type:"button",onClick:Y,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[s.jsx(Vt,{className:"w-3 h-3"})," "]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),_.publishedPapers.length>0?s.jsx("ul",{className:"space-y-2",children:_.publishedPapers.map((X,V)=>s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-bold text-gray-800",children:X.title}),s.jsx("p",{className:"text-gray-500",children:X.date})]}),s.jsx("button",{type:"button",onClick:()=>G(V),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]},V))}):s.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[s.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),s.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:R.title,onChange:X=>M({...R,title:X.target.value})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:R.date,onChange:X=>M({...R,date:X.target.value})}),s.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:R.url,onChange:X=>M({...R,url:X.target.value})})]}),s.jsxs("button",{type:"button",onClick:re,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[s.jsx(Vt,{className:"w-3 h-3"}),"  "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:U,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[U?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})})]})},bge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[l,c]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState(null),[N,E]=w.useState(!1),[j,_]=w.useState(null),[O,R]=w.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});w.useEffect(()=>{M()},[]);const M=async()=>{a(!0);const A=await Kme();n(A),a(!1)},T=A=>{A?(p(A.id),R({name:A.name,model:A.model,serialNumber:A.serialNumber,status:A.status,location:A.location,assignedTo:A.assignedTo,dateAcquired:A.dateAcquired})):(p(null),R({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),f(!0)},C=async A=>{A.preventDefault(),c(!0);const D=(t==null?void 0:t.name)||"Unknown";try{h?(await Wme(h,O),Se(" ",D,`  : ${O.name}`),alert("    ")):(await Yme(O),Se(" ",D,`: ${O.name} - ${O.serialNumber}`),alert("   ")),await M(),f(!1)}catch(z){console.error(z),alert("   ")}finally{c(!1)}},L=A=>{_(A),E(!0)},P=async()=>{if(j){c(!0);try{const A=e.find(D=>D.id===j);await Xme(j),Se(" ",(t==null?void 0:t.name)||"Unknown",` : ${A==null?void 0:A.name}`),n(D=>D.filter(z=>z.id!==j)),E(!1),_(null)}catch(A){console.error(A),alert("   "),M()}finally{c(!1)}}},U=A=>{switch(A){case"WORKING":return s.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return s.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(Gr,{className:"w-3 h-3"})," "]});case"BROKEN":return s.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(ZN,{className:"w-3 h-3"})," "]})}},$={total:e.length,working:e.filter(A=>A.status==="WORKING").length,maintenance:e.filter(A=>A.status==="MAINTENANCE").length,broken:e.filter(A=>A.status==="BROKEN").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(vg,{className:"w-6 h-6 text-blue-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),s.jsxs("button",{onClick:()=>T(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:$.total})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[s.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-green-800",children:$.working})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[s.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:$.maintenance})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[s.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),s.jsx("h3",{className:"text-2xl font-bold text-red-800",children:$.broken})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:"  (SN)"}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})," ",s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:A.name}),s.jsx("td",{className:"p-4 text-gray-600",children:A.model}),s.jsx("td",{className:"p-4 font-mono text-gray-500",children:A.serialNumber||"-"}),s.jsx("td",{className:"p-4",children:A.location}),s.jsx("td",{className:"p-4",children:A.assignedTo}),s.jsx("td",{className:"p-4",children:U(A.status)}),s.jsx("td",{className:"p-4",children:s.jsxs("button",{onClick:()=>x(A),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[s.jsx(oB,{className:"w-4 h-4"}),"QR"]})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>T(A),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),L(A.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},A.id)),!r&&e.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:h?"  ":"  "}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:O.name,onChange:A=>R({...O,name:A.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:O.model,onChange:A=>R({...O,model:A.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:O.serialNumber,onChange:A=>R({...O,serialNumber:A.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:O.status,onChange:A=>R({...O,status:A.target.value}),children:[s.jsx("option",{value:"WORKING",children:"  "}),s.jsx("option",{value:"MAINTENANCE",children:" "}),s.jsx("option",{value:"BROKEN",children:" / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:O.dateAcquired,onChange:A=>R({...O,dateAcquired:A.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:O.location,onChange:A=>R({...O,location:A.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:O.assignedTo,onChange:A=>R({...O,assignedTo:A.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[l?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),s.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),s.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),s.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),s.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:P,disabled:l,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[l&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},wge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState([]),[d,f]=w.useState(!0),[h,p]=w.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,x]=w.useState(!1),[N,E]=w.useState(null),[j,_]=w.useState({name:"",supervisor:"",location:""}),[O,R]=w.useState(!1),[M,T]=w.useState(null),[C,L]=w.useState(null),[P,U]=w.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[$,A]=w.useState(!1),[D,z]=w.useState(null),[B,ge]=w.useState(!1),[re,G]=w.useState(null),[Y,H]=w.useState(!1),[he,X]=w.useState(null),[V,W]=w.useState(!1),pe=(t==null?void 0:t.role)===Ne.ADMIN||(t==null?void 0:t.role)===Ne.STAFF;w.useEffect(()=>{Z()},[]);const Z=async()=>{f(!0);const[ve,et,Qe]=await Promise.all([ipe(),Qme(),tpe()]),Rt=ve.sort((hi,te)=>hi.date!==te.date?hi.date.localeCompare(te.date):hi.startTime.localeCompare(te.startTime));a(Rt),n(et),c(Qe),f(!1)},xe=ve=>{ve?(E(ve.id),_({name:ve.name,supervisor:ve.supervisor,location:ve.location})):(E(null),_({name:"",supervisor:"",location:""})),x(!0)},Te=async ve=>{ve.preventDefault(),W(!0);const et=(t==null?void 0:t.name)||"Unknown";try{N?(await Zme(N,j),Se(" ",et,`   : ${j.name}`)):(await Jme(j),Se(" ",et,`  : ${j.name}`)),await Z(),x(!1)}catch(Qe){console.error(Qe),alert("    ")}finally{W(!1)}},De=async()=>{if(re){W(!0);try{const ve=e.find(et=>et.id===re);await epe(re),Se(" ",(t==null?void 0:t.name)||"Unknown",`  : ${ve==null?void 0:ve.name}`),await Z(),ge(!1),G(null)}catch(ve){console.error(ve),alert("   ")}finally{W(!1)}}},ae=ve=>{T(ve),L(null),U({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),R(!0)},le=ve=>{L(ve.id),U({courseName:ve.courseName,instructor:ve.instructor,day:ve.day,startTime:ve.startTime,endTime:ve.endTime})},ke=async ve=>{if(ve.preventDefault(),!M)return;W(!0);const et=(t==null?void 0:t.name)||"Unknown";try{C?(await rpe(C,P),Se("  ",et,`: ${P.courseName}`),L(null)):(await npe({...P,labId:M.id}),Se("  ",et,`: ${P.courseName} - : ${M.name}`)),await Z(),U(Qe=>({...Qe,courseName:"",instructor:""}))}catch(Qe){console.error(Qe),alert("    ")}finally{W(!1)}},J=ve=>{X(ve),H(!0)},de=async()=>{if(he){W(!0);try{const ve=l.find(et=>et.id===he);await ape(he),Se("  ",(t==null?void 0:t.name)||"Unknown",` : ${ve==null?void 0:ve.courseName}`),await Z(),H(!1),X(null)}catch{alert(" ")}finally{W(!1)}}},Ve=ve=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[ve]||ve,Ge=async ve=>{if(ve.preventDefault(),h.endTime<=h.startTime){alert("       ");return}const et=h.experimentType.trim().toLowerCase();if(r.some(Rt=>Rt.status==="CANCELLED"||Rt.date!==h.date||Rt.experimentType.trim().toLowerCase()!==et?!1:h.startTime<Rt.endTime&&h.endTime>Rt.startTime)){alert(`     / (${h.experimentType})   .    .`);return}W(!0);try{await spe({...h,labName:"   ",status:"CONFIRMED"}),Se(" ",(t==null?void 0:t.name)||h.researcherName,` : ${h.date} - ${h.experimentType}`),await Z(),p(Rt=>({...Rt,experimentType:""})),alert("    ")}catch(Rt){console.error(Rt),alert("   ")}finally{W(!1)}},St=async(ve,et)=>{try{await lpe(ve,{status:et}),a(Qe=>Qe.map(Rt=>Rt.id===ve?{...Rt,status:et}:Rt)),Se("  ",(t==null?void 0:t.name)||"Unknown",`  : ${et}`)}catch(Qe){console.error(Qe),alert("  ")}},Ee=async()=>{if(D){W(!0);try{await ope(D),Se("/ ",(t==null?void 0:t.name)||"Unknown","   "),await Z(),A(!1),z(null)}catch(ve){console.error(ve),alert("   ")}finally{W(!1)}}},yt=ve=>{switch(ve){case"CONFIRMED":return s.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"COMPLETED":return s.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(c9,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return s.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(ZN,{className:"w-3 h-3"})," "]});default:return null}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(c1,{className:"w-6 h-6 text-purple-600"})," "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),pe&&s.jsxs("button",{onClick:()=>xe(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[s.jsx(Vt,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(ve=>s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[s.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:s.jsx(c1,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:ve.name}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:ve.location}),s.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[s.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",ve.supervisor]}),s.jsxs("button",{onClick:()=>ae(ve),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[s.jsx(bB,{className:"w-3 h-3"}),"  "]}),pe&&s.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>xe(ve),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{G(ve.id),ge(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},ve.id)),e.length===0&&s.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx(ph,{className:"w-5 h-5"}),"  -   "]}),s.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),s.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Gi,{className:"w-4 h-4"}),"   "]}),s.jsxs("form",{onSubmit:Ge,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.researcherName,onChange:ve=>p({...h,researcherName:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.date,onChange:ve=>p({...h,date:ve.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.startTime,onChange:ve=>p({...h,startTime:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.endTime,onChange:ve=>p({...h,endTime:ve.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),s.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.experimentType,onChange:ve=>p({...h,experimentType:ve.target.value})}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),s.jsxs("button",{type:"submit",disabled:V,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[s.jsx(Vt,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-green-600"}),"  "]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(ve=>s.jsxs("tr",{className:`hover:bg-gray-50 ${ve.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[s.jsx("td",{className:"p-3 font-mono text-gray-600",children:ve.date}),s.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[ve.startTime," - ",ve.endTime]}),s.jsx("td",{className:"p-3 font-bold text-gray-800",children:ve.researcherName}),s.jsx("td",{className:"p-3 text-gray-600",children:ve.experimentType}),s.jsx("td",{className:"p-3",children:pe?s.jsxs("select",{value:ve.status,onChange:et=>St(ve.id,et.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${ve.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":ve.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[s.jsx("option",{value:"CONFIRMED",children:""}),s.jsx("option",{value:"COMPLETED",children:" "}),s.jsx("option",{value:"CANCELLED",children:""})]}):yt(ve.status)}),s.jsx("td",{className:"p-3",children:(pe||(t==null?void 0:t.name)===ve.researcherName)&&s.jsx("button",{onClick:()=>{z(ve.id),A(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},ve.id)),!d&&r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:N?"  ":"  "}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.name,onChange:ve=>_({...j,name:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.supervisor,onChange:ve=>_({...j,supervisor:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.location,onChange:ve=>_({...j,location:ve.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:V,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[V?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),O&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("p",{className:"text-sm text-purple-700",children:M.name})]}),s.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6",children:[pe&&s.jsxs("form",{onSubmit:ke,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Vt,{className:"w-4 h-4"})," ",C?"  ":"  "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:P.courseName,onChange:ve=>U({...P,courseName:ve.target.value})}),s.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:P.instructor,onChange:ve=>U({...P,instructor:ve.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:P.day,onChange:ve=>U({...P,day:ve.target.value}),children:[s.jsx("option",{value:"Saturday",children:""}),s.jsx("option",{value:"Sunday",children:""}),s.jsx("option",{value:"Monday",children:""}),s.jsx("option",{value:"Tuesday",children:""}),s.jsx("option",{value:"Wednesday",children:""}),s.jsx("option",{value:"Thursday",children:""})]}),s.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:P.startTime,onChange:ve=>U({...P,startTime:ve.target.value})}),s.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:P.endTime,onChange:ve=>U({...P,endTime:ve.target.value})})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[C&&s.jsx("button",{type:"button",onClick:()=>{L(null),U(ve=>({...ve,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),s.jsx("button",{type:"submit",disabled:V,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:C?" ":" "})]})]}),s.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(ve=>{const et=l.filter(Qe=>Qe.labId===M.id&&Qe.day===ve).sort((Qe,Rt)=>Qe.startTime.localeCompare(Rt.startTime));return et.length===0?null:s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:Ve(ve)}),s.jsx("ul",{className:"space-y-2",children:et.map(Qe=>s.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[Qe.startTime," - ",Qe.endTime]}),s.jsx("span",{className:"font-semibold text-gray-800",children:Qe.courseName}),s.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",Qe.instructor,")"]})]}),pe&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>le(Qe),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:s.jsx(gn,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>J(Qe.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:s.jsx(ot,{className:"w-3 h-3"})})]})]},Qe.id))})]},ve)}),l.filter(ve=>ve.labId===M.id).length===0&&s.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),B&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>ge(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:De,disabled:V,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[V&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),Y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:de,disabled:V,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[V&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),$&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsx("button",{onClick:Ee,disabled:V,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},Nge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,x]=w.useState(null),[N,E]=w.useState(!1),[j,_]=w.useState(!1),[O,R]=w.useState(null),[M,T]=w.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});w.useEffect(()=>{C()},[]);const C=async()=>{c(!0);const[A,D]=await Promise.all([cpe(),upe()]);n(A.sort((z,B)=>z.number-B.number)),a(D.sort((z,B)=>B.endDate.localeCompare(z.endDate))),c(!1)},L=A=>{x(A),A.status==="OCCUPIED"?T({researcher:A.researcher||"",plantType:A.plantType||"",notes:A.notes||"",startDate:A.startDate||""}):T({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},P=async A=>{if(A.preventDefault(),!!g){f(!0);try{await M4(g.id,{status:"OCCUPIED",...M}),Se("  ",(t==null?void 0:t.name)||M.researcher,`    ${g.number}`),await C(),p(!1),alert("    ")}catch(D){console.error(D),alert("   ")}finally{f(!1)}}},U=async()=>{if(g){f(!0);try{g.researcher&&g.plantType&&await dpe({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await M4(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Se("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await C(),E(!1),p(!1),alert("      ")}catch(A){console.error(A),alert("   ")}finally{f(!1)}}},$=async()=>{if(O){f(!0);try{await fpe(O),Se("   ",(t==null?void 0:t.name)||"Unknown","   "),await C(),_(!1),R(null)}catch{alert("  ")}finally{f(!1)}}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(fP,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),s.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),s.jsx("span",{className:"text-green-700",children:" "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),s.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),l?s.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[s.jsx(Ze,{className:"w-8 h-8 animate-spin text-green-600"}),s.jsx("span",{children:"   ..."})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>{const D=A.status==="OCCUPIED";return s.jsxs("div",{onClick:()=>L(A),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${D?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[s.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",A.number]}),D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:s.jsx(Nu,{className:"w-8 h-8 text-red-500"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800 truncate",children:A.plantType}),s.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:A.researcher})]}),s.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",A.startDate]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[s.jsx(Nu,{className:"w-8 h-8 text-green-400"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),s.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},A.id)})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[s.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O9,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",A.plotNumber]}),s.jsx("td",{className:"p-4",children:A.researcher}),s.jsx("td",{className:"p-4",children:A.plantType}),s.jsx("td",{className:"p-4 text-gray-500",children:A.startDate}),s.jsx("td",{className:"p-4 text-gray-500",children:A.endDate}),s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:()=>{R(A.id),_(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},A.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),h&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Nu,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(xP,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.researcher,onChange:A=>T({...M,researcher:A.target.value}),placeholder:"  "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),s.jsxs("div",{className:"relative",children:[s.jsx(Nu,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.plantType,onChange:A=>T({...M,plantType:A.target.value}),placeholder:":  ( 95)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(ph,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.startDate,onChange:A=>T({...M,startDate:A.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),s.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.notes,onChange:A=>T({...M,notes:A.target.value}),placeholder:"     ..."})]}),s.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(qr,{className:"w-4 h-4"})," "]})]}):s.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[s.jsx(ot,{className:"w-4 h-4"}),"   "]})})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(Gr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:U,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(ot,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:$,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},_ge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState("ALL"),[g,x]=w.useState(!1),[N,E]=w.useState(null),[j,_]=w.useState(!1),[O,R]=w.useState(null),[M,T]=w.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});w.useEffect(()=>{C()},[]),w.useEffect(()=>{a(h==="ALL"?e:e.filter(D=>D.type===h))},[e,h]);const C=async()=>{c(!0);const z=(await Npe()).sort((B,ge)=>ge.date.localeCompare(B.date));n(z),c(!1)},L=D=>{D?(E(D.id),T({title:D.title,type:D.type,date:D.date,location:D.location,description:D.description,regLink:D.regLink||"",status:D.status||"UPCOMING"})):(E(null),T({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),x(!0)},P=async D=>{D.preventDefault(),f(!0);const z=(t==null?void 0:t.name)||"Unknown";try{N?(await jpe(N,M),Se(" ",z,` : ${M.title}`)):(await _pe(M),Se("  ",z,`: ${M.title}`)),await C(),x(!1),alert(N?"   ":"   ")}catch(B){console.error(B),alert("   ")}finally{f(!1)}},U=async()=>{if(O){f(!0);try{const D=e.find(z=>z.id===O);await Epe(O),Se(" ",(t==null?void 0:t.name)||"Unknown",` : ${D==null?void 0:D.title}`),await C(),_(!1),R(null)}catch{alert("  ")}finally{f(!1)}}},$=D=>{switch(D){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:sB};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:Q9};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:Zz};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:ai};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:Ui};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:f1}}},A=D=>{switch(D){case"UPCOMING":return s.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[s.jsx(Gi,{className:"w-3 h-3"})," "]});case"COMPLETED":return s.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"CANCELLED":return s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[s.jsx(ZN,{className:"w-3 h-3"})," "]});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(f1,{className:"w-6 h-6 text-purple-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),s.jsxs("button",{onClick:()=>L(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[s.jsx(gu,{active:h==="ALL",onClick:()=>p("ALL"),label:""}),s.jsx(gu,{active:h==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),s.jsx(gu,{active:h==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),s.jsx(gu,{active:h==="TRIP",onClick:()=>p("TRIP"),label:" "}),s.jsx(gu,{active:h==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),s.jsx(gu,{active:h==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),l?s.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[s.jsx(Ze,{className:"w-8 h-8 animate-spin text-purple-600"}),s.jsx("span",{children:"  ..."})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(D=>{const z=$(D.type),B=z.icon;return s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${z.border}`,children:[s.jsxs("div",{className:"p-5 flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${z.bg} ${z.color}`,children:[s.jsx(B,{className:"w-3 h-3"})," ",z.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A(D.status),s.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[s.jsx(ph,{className:"w-3 h-3"})," ",D.date]})]})]}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:D.title}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[s.jsx(mP,{className:"w-4 h-4"}),s.jsx("span",{children:D.location})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:D.description})]}),s.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[D.regLink&&D.status==="UPCOMING"?s.jsxs("a",{href:D.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",s.jsx(yg,{className:"w-3 h-3"})]}):s.jsx("span",{className:"text-xs text-gray-400 italic",children:D.status==="UPCOMING"?"   ":" "}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>L(D),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{R(D.id),_(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]},D.id)}),r.length===0&&s.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N?" ":"  "}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Et,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.title,onChange:D=>T({...M,title:D.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:M.type,onChange:D=>T({...M,type:D.target.value}),children:[s.jsx("option",{value:"WORKSHOP",children:" "}),s.jsx("option",{value:"SEMINAR",children:""}),s.jsx("option",{value:"TRIP",children:" / "}),s.jsx("option",{value:"CONFERENCE",children:""}),s.jsx("option",{value:"COURSE",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:M.status,onChange:D=>T({...M,status:D.target.value}),children:[s.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),s.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),s.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.date,onChange:D=>T({...M,date:D.target.value})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.location,onChange:D=>T({...M,location:D.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.description,onChange:D=>T({...M,description:D.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:M.regLink,onChange:D=>T({...M,regLink:D.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):N?s.jsx(_n,{className:"w-4 h-4"}):s.jsx(Vt,{className:"w-4 h-4"}),N?" ":" "]})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(ot,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:U,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},gu=({active:t,onClick:e,label:n})=>s.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),jge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,l]=w.useState(!0),[c,d]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState(null),[x,N]=w.useState(!1);w.useEffect(()=>{E()},[]),w.useEffect(()=>{if(!c)r(t);else{const R=c.toLowerCase();r(t.filter(M=>M.action.toLowerCase().includes(R)||M.performedBy.toLowerCase().includes(R)||M.details.toLowerCase().includes(R)))}},[c,t]);const E=async()=>{l(!0);const R=await Sme();e(R),r(R),l(!1)},j=R=>{g(R),h(!0)},_=async()=>{if(p){N(!0);try{await Ame(p),await E(),h(!1),g(null)}catch(R){console.error(R),alert("  ")}finally{N(!1)}}},O=async()=>{l(!0),await Se(" ","Admin","     "),await E(),l(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(iP,{className:"w-6 h-6 text-red-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:O,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[s.jsx(Rf,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:E,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[s.jsx(h1,{className:"w-4 h-4"})," "]})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:s.jsxs("div",{className:"relative",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:R=>d(R.target.value)})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:R.action}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:R.performedBy})}),s.jsx("td",{className:"p-4 text-gray-600",children:R.details}),s.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(R.timestamp).toLocaleString("ar-EG")}),s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:()=>j(R.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},R.id)):s.jsx("tr",{children:s.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[s.jsx(yP,{className:"w-10 h-10 mb-2 opacity-20"}),s.jsx("p",{children:"     "}),s.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:O,children:"    "})]})})})]})})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(Gr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:_,disabled:x,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[x&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},Ege=({user:t})=>{const[e,n]=w.useState("COUNCIL"),[r,a]=w.useState(!0),[l,c]=w.useState([]),[d,f]=w.useState([]),h=new Date().getFullYear(),[p,g]=w.useState(`${h}-${h+1}`),[x,N]=w.useState(!1),[E,j]=w.useState(!1),[_,O]=w.useState(null),[R,M]=w.useState(null),[T,C]=w.useState({academicYear:"",members:[]}),[L,P]=w.useState({name:"",academicYear:"",members:[]}),[U,$]=w.useState(null),A=t.role===Ne.ADMIN;w.useEffect(()=>{D()},[]);const D=async()=>{a(!0);const[Z,xe]=await Promise.all([Spe(),Ipe()]);c(Z),f(xe),a(!1)},z=()=>{const Z=new Set([...l.map(xe=>xe.academicYear),...d.map(xe=>xe.academicYear)]);return Z.add(`${h}-${h+1}`),Array.from(Z).sort().reverse()},B=Z=>{Z?(O(Z.id),C({academicYear:Z.academicYear,members:[...Z.members]})):(O(null),C({academicYear:p,members:[]})),N(!0)},ge=async()=>{if(!T.academicYear){alert("   ");return}try{_?(await Tpe(_,T),await Se("   ",t.name,`     : ${T.academicYear}`)):(await Ape(T),await Se("   ",t.name,`      : ${T.academicYear}`)),N(!1),D(),alert("   ")}catch(Z){console.error(Z),alert("   ")}},re=async Z=>{if(window.confirm("       "))try{await Cpe(Z),await Se("   ",t.name,"      "),D()}catch(xe){console.error(xe),alert(" ")}},G=Z=>{Z?(M(Z.id),P({name:Z.name,academicYear:Z.academicYear,members:[...Z.members]})):(M(null),P({name:"",academicYear:p,members:[]})),j(!0)},Y=async()=>{if(!L.name||!L.academicYear){alert(" ");return}try{R?(await Dpe(R,L),await Se(" ",t.name,`  ${L.name}  ${L.academicYear}`)):(await Ope(L),await Se(" ",t.name,`   : ${L.name}  ${L.academicYear}`)),j(!1),D(),alert("   ")}catch(Z){console.error(Z),alert("   ")}},H=async(Z,xe)=>{if(window.confirm(`      ${xe}`))try{await Rpe(Z),await Se(" ",t.name,`  : ${xe}`),D()}catch(Te){console.error(Te),alert(" ")}},he=Z=>{Z(xe=>({...xe,members:[...xe.members,{name:"",role:"",title:""}]}))},X=(Z,xe,Te,De)=>{Z(ae=>{const le=[...ae.members];return le[xe]={...le[xe],[Te]:De},{...ae,members:le}})},V=(Z,xe)=>{Z(Te=>({...Te,members:Te.members.filter((De,ae)=>ae!==xe)}))},W=l.find(Z=>Z.academicYear===p),pe=d.filter(Z=>Z.academicYear===p);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Go,{className:"w-6 h-6 text-indigo-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),s.jsx("select",{value:p,onChange:Z=>g(Z.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:z().map(Z=>s.jsx("option",{value:Z,children:Z},Z))})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(ai,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(Go,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),A&&s.jsxs("button",{onClick:()=>B(W),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[W?s.jsx(gn,{className:"w-4 h-4"}):s.jsx(Vt,{className:"w-4 h-4"}),W?" ":"  "]})]}),W?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" (Role)"})]})}),s.jsx("tbody",{className:"divide-y",children:W.members.map((Z,xe)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 text-gray-500",children:Z.title}),s.jsx("td",{className:"p-4 font-bold text-gray-800",children:Z.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${Z.role.includes("")?"bg-indigo-100 text-indigo-700":Z.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:Z.role})})]},xe))})]})}),A&&s.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:s.jsxs("button",{onClick:()=>re(W.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(ot,{className:"w-3 h-3"}),"   "]})})]}):s.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[s.jsx(ai,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"       ."}),A&&s.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),A&&s.jsxs("button",{onClick:()=>G(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[s.jsx(Vt,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[pe.map(Z=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>$(U===Z.id?null:Z.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:s.jsx(Go,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:Z.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Z.members.length," "]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A&&s.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[s.jsx("button",{onClick:xe=>{xe.stopPropagation(),G(Z)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:xe=>{xe.stopPropagation(),H(Z.id,Z.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]}),U===Z.id?s.jsx(QN,{className:"w-5 h-5 text-gray-400"}):s.jsx(XN,{className:"w-5 h-5 text-gray-400"})]})]}),U===Z.id&&s.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""})]})}),s.jsx("tbody",{children:Z.members.map((xe,Te)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 text-gray-500 w-20",children:xe.title}),s.jsx("td",{className:"py-2 font-medium",children:xe.name}),s.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:xe.role})]},Te))})]})})]},Z.id)),pe.length===0&&s.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[s.jsx(Go,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"     ."})]})]})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:_?"   ":"  "}),s.jsx("button",{onClick:()=>N(!1),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:T.academicYear,onChange:Z=>C({...T,academicYear:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),s.jsxs("button",{onClick:()=>he(C),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[s.jsx(Vt,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"space-y-2",children:T.members.map((Z,xe)=>s.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[s.jsx("input",{type:"text",placeholder:" (.)",value:Z.title,onChange:Te=>X(C,xe,"title",Te.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("input",{type:"text",placeholder:" ",value:Z.name,onChange:Te=>X(C,xe,"name",Te.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),s.jsx("input",{type:"text",placeholder:" (/)",value:Z.role,onChange:Te=>X(C,xe,"role",Te.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("button",{onClick:()=>V(C,xe),className:"text-red-400 hover:text-red-600 p-1",children:s.jsx(ot,{className:"w-4 h-4"})})]},xe))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{onClick:ge,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?" ":"  "}),s.jsx("button",{onClick:()=>j(!1),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:L.name,onChange:Z=>P({...L,name:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:L.academicYear,onChange:Z=>P({...L,academicYear:Z.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),s.jsxs("button",{onClick:()=>he(P),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[s.jsx(Vt,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"space-y-2",children:L.members.map((Z,xe)=>s.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[s.jsx("input",{type:"text",placeholder:"",value:Z.title,onChange:Te=>X(P,xe,"title",Te.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("input",{type:"text",placeholder:" ",value:Z.name,onChange:Te=>X(P,xe,"name",Te.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),s.jsx("input",{type:"text",placeholder:"",value:Z.role,onChange:Te=>X(P,xe,"role",Te.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("button",{onClick:()=>V(P,xe),className:"text-red-400 hover:text-red-600 p-1",children:s.jsx(ot,{className:"w-4 h-4"})})]},xe))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{onClick:Y,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},Sge=({user:t})=>{const e="2024-2025",[n,r]=w.useState(t.role===Ne.ADMIN),[a,l]=w.useState(!0),[c,d]=w.useState(!1),[f,h]=w.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=w.useState(1),[x,N]=w.useState([]),[E,j]=w.useState([]);w.useEffect(()=>{n&&t.role===Ne.ADMIN?O():_()},[n,t.id,t.role]);const _=async()=>{l(!0);try{const A=await Ppe(t.id,e);h(A||(D=>({...D,userId:t.id,userName:t.name})))}catch(A){console.error("Error fetching report:",A)}l(!1)},O=async()=>{l(!0);try{const A=await Mpe(e),D=await Xh();N(A),j(D.map(z=>z.name))}catch(A){console.error("Error fetching dept data:",A)}l(!1)},R=async(A=!1)=>{d(!0);try{const D={...f,status:A?"SUBMITTED":"DRAFT",submissionDate:A?new Date().toISOString():f.submissionDate};await kpe(D,f.id||void 0),A?(await Se("  ",t.name,`     ${e}`),alert("    ")):(await Se("  ",t.name,`     ${e}`),alert("   ")),_()}catch(D){console.error(D),alert("   ")}finally{d(!1)}},M=async()=>{if(!window.confirm("     .   "))return;const A={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};h(D=>({...D,publishedResearch:[...D.publishedResearch,A]})),await Se(" ",t.name,"        "),alert("   ()")},T=async(A,D)=>{try{const z=await el(A),B=[...f.publishedResearch];B[D].fileUrl=z,h({...f,publishedResearch:B}),alert("   ")}catch(z){alert("  : "+z.message)}},C=()=>{window.print()},L=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx(Ui,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),s.jsxs("button",{onClick:M,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[s.jsx(R9,{className:"w-4 h-4"}),"    "]})]}),f.publishedResearch.map((A,D)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[s.jsx("button",{onClick:()=>{const z=f.publishedResearch.filter((B,ge)=>ge!==D);h({...f,publishedResearch:z})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.title,onChange:z=>{const B=[...f.publishedResearch];B[D].title=z.target.value,h({...f,publishedResearch:B})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.journal,onChange:z=>{const B=[...f.publishedResearch];B[D].journal=z.target.value,h({...f,publishedResearch:B})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.type,onChange:z=>{const B=[...f.publishedResearch];B[D].type=z.target.value,h({...f,publishedResearch:B})},children:[s.jsx("option",{value:"International",children:" (International)"}),s.jsx("option",{value:"Regional",children:" (Regional)"}),s.jsx("option",{value:"Local",children:" (Local)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:A.date,onChange:z=>{const B=[...f.publishedResearch];B[D].date=z.target.value,h({...f,publishedResearch:B})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),s.jsx("div",{className:"flex items-center gap-2",children:A.fileUrl?s.jsxs("a",{href:A.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4"}),"  "]}):s.jsxs("div",{className:"relative w-full",children:[s.jsx("input",{type:"file",id:`file-${D}`,className:"hidden",onChange:z=>z.target.files&&T(z.target.files[0],D)}),s.jsxs("label",{htmlFor:`file-${D}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[s.jsx(rr,{className:"w-4 h-4"}),"  "]})]})})]})]})]},D)),s.jsxs("button",{onClick:()=>h({...f,publishedResearch:[...f.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),"   "]})]}),P=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(vg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),f.ongoingResearch.map((A,D)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[s.jsx("button",{onClick:()=>{const z=f.ongoingResearch.filter((B,ge)=>ge!==D);h({...f,ongoingResearch:z})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"space-y-3 pl-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.topic,onChange:z=>{const B=[...f.ongoingResearch];B[D].topic=z.target.value,h({...f,ongoingResearch:B})}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.stage,onChange:z=>{const B=[...f.ongoingResearch];B[D].stage=z.target.value,h({...f,ongoingResearch:B})},children:[s.jsx("option",{value:"Data Collection",children:"  "}),s.jsx("option",{value:"Lab Experiments",children:" "}),s.jsx("option",{value:"Writing",children:" "}),s.jsx("option",{value:"Under Review",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",A.progress,"%)"]}),s.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:A.progress,onChange:z=>{const B=[...f.ongoingResearch];B[D].progress=parseInt(z.target.value),h({...f,ongoingResearch:B})}})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),s.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.participants||"",onChange:z=>{const B=[...f.ongoingResearch];B[D].participants=z.target.value,h({...f,ongoingResearch:B})}})]})]})]},D)),s.jsxs("button",{onClick:()=>h({...f,ongoingResearch:[...f.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),"   "]})]}),U=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(Jp,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.thesesJudged,onChange:A=>h({...f,scientificActivity:{...f.scientificActivity,thesesJudged:parseInt(A.target.value)}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.supervisionCount,onChange:A=>h({...f,scientificActivity:{...f.scientificActivity,supervisionCount:parseInt(A.target.value)}})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:f.scientificActivity.trainingCourses,onChange:A=>h({...f,scientificActivity:{...f.scientificActivity,trainingCourses:A.target.value}})})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),s.jsx("button",{onClick:()=>h({...f,scientificActivity:{...f.scientificActivity,conferences:[...f.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),f.scientificActivity.conferences.map((A,D)=>s.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[s.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:A.name,onChange:z=>{const B=[...f.scientificActivity.conferences];B[D].name=z.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})}}),s.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:A.role,onChange:z=>{const B=[...f.scientificActivity.conferences];B[D].role=z.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})},children:[s.jsx("option",{value:"Attendance",children:""}),s.jsx("option",{value:"Speaker",children:""}),s.jsx("option",{value:"Organizer",children:""})]}),s.jsx("button",{onClick:()=>{const z=f.scientificActivity.conferences.filter((B,ge)=>ge!==D);h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})},className:"text-red-500",title:"",children:s.jsx(Et,{className:"w-4 h-4"})})]},D))]})]}),$=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5 text-amber-600"}),"   "]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.books,onChange:A=>h({...f,communityActivity:{...f.communityActivity,books:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.convoys,onChange:A=>h({...f,communityActivity:{...f.communityActivity,convoys:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.media,onChange:A=>h({...f,communityActivity:{...f.communityActivity,media:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.memberships,onChange:A=>h({...f,communityActivity:{...f.communityActivity,memberships:A.target.value}})})]})]});if(n&&t.role===Ne.ADMIN){if(a)return s.jsx("div",{className:"p-10 text-center",children:s.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const A=x.reduce((ge,re)=>{var G;return ge+(((G=re.publishedResearch)==null?void 0:G.length)||0)},0),D=x.reduce((ge,re)=>{var G;return ge+(((G=re.publishedResearch)==null?void 0:G.filter(Y=>Y.type==="International").length)||0)},0),z=x.filter(ge=>ge.status==="SUBMITTED").length,B=[...x].sort((ge,re)=>{var G,Y;return(((G=re.publishedResearch)==null?void 0:G.length)||0)-(((Y=ge.publishedResearch)==null?void 0:Y.length)||0)})[0];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(qr,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),s.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[s.jsx(Ia,{title:" ",value:`${z} / ${E.length}`,icon:qr,color:"green"}),s.jsx(Ia,{title:" ",value:A,icon:Ui,color:"blue"}),s.jsx(Ia,{title:" ",value:D,icon:dP,color:"purple"}),s.jsx(Ia,{title:" ",value:B?B.userName.split(" ")[0]:"-",icon:Jp,color:"amber"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[s.jsx("div",{className:"p-4 border-b border-gray-100",children:s.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "})]})}),s.jsxs("tbody",{className:"divide-y",children:[E.map((ge,re)=>{var Y,H;const G=x.find(he=>he.userName===ge);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:ge}),s.jsx("td",{className:"p-4",children:(G==null?void 0:G.status)==="SUBMITTED"?s.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(qr,{className:"w-3 h-3"}),"  "]}):G?s.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(Gi,{className:"w-3 h-3"}),"  "]}):s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(JN,{className:"w-3 h-3"}),"  "]})}),s.jsx("td",{className:"p-4 font-mono",children:((Y=G==null?void 0:G.publishedResearch)==null?void 0:Y.length)||0}),s.jsx("td",{className:"p-4 font-mono",children:((H=G==null?void 0:G.ongoingResearch)==null?void 0:H.length)||0}),s.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:G!=null&&G.submissionDate?new Date(G.submissionDate).toLocaleDateString("ar-EG"):"-"})]},re)}),E.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?s.jsx("div",{className:"p-10 text-center",children:s.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(ar,{className:"w-6 h-6 text-blue-600"}),"   "]}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===Ne.ADMIN&&s.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[s.jsx(ai,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${f.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:f.status==="SUBMITTED"?s.jsx(qr,{className:"w-5 h-5"}):s.jsx(Gi,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("p",{className:`font-bold ${f.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:f.status==="SUBMITTED"?"   ":"   "})]})]}),s.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:s.jsxs("button",{onClick:C,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[s.jsx(ku,{className:"w-4 h-4"}),"  PDF"]})})]}),s.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:Ui},{id:2,label:" ",icon:vg},{id:3,label:" ",icon:Jp},{id:4,label:" ",icon:ai}].map(A=>s.jsxs("button",{onClick:()=>g(A.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===A.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[s.jsx(A.icon,{className:`w-4 h-4 ${p===A.id?"text-blue-600":"text-gray-400"}`})," ",A.label]},A.id))}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&L(),p===2&&P(),p===3&&U(),p===4&&$(),s.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[s.jsxs("button",{onClick:()=>R(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>R(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(pP,{className:"w-4 h-4"}),"   "]})]})]}),s.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),s.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),s.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),s.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",t.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),s.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.publishedResearch.length>0?f.publishedResearch.map((A,D)=>s.jsxs("li",{className:"pl-2",children:[s.jsx("span",{className:"font-bold",children:A.title}),s.jsx("br",{}),s.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",A.journal," (",A.date,") - [",A.type,"]"]})]},D)):s.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),s.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.ongoingResearch.length>0?f.ongoingResearch.map((A,D)=>s.jsxs("li",{className:"pl-2",children:[s.jsx("span",{className:"font-bold",children:A.topic}),s.jsx("br",{}),s.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",A.stage," ( : ",A.progress,"%)"]})]},D)):s.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),s.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[s.jsxs("div",{className:"border p-4",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:" :"})," ",f.scientificActivity.thesesJudged]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:" :"})," ",f.scientificActivity.supervisionCount]}),s.jsx("p",{children:s.jsx("strong",{children:" :"})}),s.jsx("p",{className:"text-sm mt-1",children:f.scientificActivity.trainingCourses||" "})]}),s.jsxs("div",{className:"border p-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",f.scientificActivity.conferences.length>0?f.scientificActivity.conferences.map(A=>A.name).join(" "):" "]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:" :"})," ",f.communityActivity.books||" "]})]})]})]}),s.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:" "}),s.jsx("p",{className:"mt-8",children:"...................."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:"  "}),s.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},Age=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState(null),[l,c]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState(null),[g,x]=w.useState(""),[N,E]=w.useState("ALL"),[j,_]=w.useState(!1),[O,R]=w.useState(!1),[M,T]=w.useState(!1),[C,L]=w.useState(null),[P,U]=w.useState(null),[$,A]=w.useState(null),[D,z]=w.useState(null),[B,ge]=w.useState({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[re,G]=w.useState({title:"",vision:"",startDate:"",endDate:"",strategicGoals:""}),[Y,H]=w.useState({title:"",description:"",coordinator:""}),[he,X]=w.useState(null),V=t.role===Ne.ADMIN;w.useEffect(()=>{W()},[]);const W=async()=>{const te=await YE();a(te);const Pe=await Lpe();c(Pe.filter(ze=>ze.status==="ARCHIVED"));const We=await Bpe();f(V?We:We.filter(ze=>ze.proposedById===t.id))},pe=te=>{te?(A(te.id),H({title:te.title,description:te.description,coordinator:te.coordinator})):(A(null),H({title:"",description:"",coordinator:""})),T(!0)},Z=async te=>{if(te.preventDefault(),!!r)try{let Pe=[...r.axes];if($)Pe=Pe.map(We=>We.id===$?{...We,...Y}:We),await Se("  ",t.name,` : ${Y.title}`);else{const We={id:`axis-${Date.now()}`,title:Y.title,description:Y.description,coordinator:Y.coordinator,topics:[]};Pe.push(We),await Se("  ",t.name,` : ${Y.title}`)}await Bo(r.id,{axes:Pe}),T(!1),W(),alert("     ")}catch(Pe){console.error(Pe),alert("  ")}},xe=async(te,Pe)=>{if(!(!r||!V)&&window.confirm(`      "${Pe}"    `))try{const We=r.axes.filter(ze=>ze.id!==te);await Bo(r.id,{axes:We}),await Se("  ",t.name,` : ${Pe}`),W(),alert("   ")}catch{alert(" ")}},Te=async te=>{if(te.preventDefault(),!r||!D)return;const Pe=r.axes.map(We=>We.id===D.axisId?{...We,topics:We.topics.map(ze=>ze.id===D.topic.id?D.topic:ze)}:We);try{await Bo(r.id,{axes:Pe}),await Se("  ",t.name,` : ${D.topic.title}`),z(null),W(),alert("  ")}catch{alert(" ")}},De=async(te,Pe,We)=>{if(!(!r||!V)&&window.confirm("         "))try{const ze=r.axes.map(Ht=>Ht.id===te?{...Ht,topics:Ht.topics.filter($t=>$t.id!==Pe)}:Ht);await Bo(r.id,{axes:ze}),await Se("   ",t.name,`  : ${We}`),W()}catch{alert("  ")}},ae=async(te,Pe,We)=>{if(r){if(t.role!==Ne.STUDENT_PG&&t.role!==Ne.STAFF&&!V){alert("      .");return}if(window.confirm(`      : "${We}"`))try{const ze=r.axes.map(Ht=>Ht.id===te?{...Ht,topics:Ht.topics.map($t=>$t.id===Pe?{...$t,status:"IN_PROGRESS",studentName:`${t.name} ( )`}:$t)}:Ht);await Bo(r.id,{axes:ze}),await Se("   ",t.name,`  : ${We}`),W(),alert("         .")}catch{alert("  ")}}},le=async(te,Pe,We,ze)=>{const Ht=prompt("  ():");if(Ht!==null)try{if(await Fpe(te,We,Ht||""),We==="APPROVED"&&ze&&r){const $t={id:`topic-${Date.now()}`,title:ze.title,goal:ze.appliedGoal,status:"AVAILABLE",studentName:ze.studentName||""};ze.studentName&&($t.status="IN_PROGRESS");let mi=[...r.axes];if(ze.axisId==="NEW"){const Va={id:`axis-${Date.now()}`,title:ze.newAxisName||" ",description:ze.justification,coordinator:ze.proposedBy,topics:[$t]};mi.push(Va)}else mi=mi.map(Va=>Va.id===ze.axisId?{...Va,topics:[...Va.topics,$t]}:Va);await Bo(r.id,{axes:mi}),await Se("  ",t.name,`    : ${Pe}`)}await Se("  ",t.name,` ${We} : ${Pe}`),W(),alert("   .")}catch($t){console.error($t),alert("     (  )")}},ke=()=>{L(null),ge({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),_(!0)},J=te=>{L(te.id),ge({title:te.title,axisId:te.axisId,newAxisName:te.newAxisName||"",type:te.type,justification:te.justification,appliedGoal:te.appliedGoal,studentName:te.studentName||"",hasStudent:!!te.studentName}),_(!0)},de=async(te,Pe)=>{if(window.confirm("      "))try{await Zt(Fe(me,"research_proposals",te)),await Se("  ",t.name,`  : ${Pe}`),W(),alert("  ")}catch(We){console.error(We),alert(" ")}},Ve=async te=>{te.preventDefault();try{const Pe={title:B.title,axisId:B.axisId,newAxisName:B.axisId==="NEW"&&B.newAxisName||"",type:B.type,justification:B.justification,appliedGoal:B.appliedGoal,studentName:B.hasStudent&&B.studentName||"",proposedBy:t.name,proposedById:t.id,status:"PENDING"};C?(await Tt(Fe(me,"research_proposals",C),Pe),await Se("  ",t.name,`  : ${B.title}`)):(await $pe(Pe),await Se("  ",t.name,`   : ${B.title}`)),_(!1),W(),alert(C?"   ":"     ")}catch(Pe){console.error(Pe),alert("   .         .")}},Ge=te=>{if(!r||te.length<5){X(null);return}let Pe=!1;r.axes.forEach(We=>{We.topics.forEach(ze=>{(ze.title.includes(te)||te.includes(ze.title))&&(X(` :     "${ze.title}"`),Pe=!0)})}),Pe||X(null)},St=te=>{if(te)U(te.id),G({title:te.title,vision:te.vision,startDate:te.startDate,endDate:te.endDate,strategicGoals:te.strategicGoals.join(", ")});else{U(null);const Pe=new Date().getFullYear();G({title:`   ${Pe}-${Pe+5}`,vision:"",startDate:`${Pe}-01-01`,endDate:`${Pe+5}-12-31`,strategicGoals:"  2030,  "})}R(!0)},Ee=async te=>{te.preventDefault();const Pe={title:re.title,vision:re.vision,startDate:re.startDate,endDate:re.endDate,strategicGoals:re.strategicGoals.split(",").map(We=>We.trim()),status:"ACTIVE",axes:P&&r?r.axes:[]};try{P?await Bo(P,Pe):await Upe(Pe),R(!1),W()}catch{alert("")}},yt=async()=>{r&&window.confirm(":   ")&&(await Vpe(r.id),W())},ve=()=>s.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"relative z-10",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),s.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsxs("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30",children:["   (",r.startDate.split("-")[0]," - ",r.endDate.split("-")[0],")"]}),V&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>St(r),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(gP,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>St(),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(Vt,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:yt,className:"bg-red-500/30 hover:bg-red-500/50 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(ot,{className:"w-4 h-4"})," "]})]})]})]}),s.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((te,Pe)=>s.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[s.jsx(eg,{className:"w-3 h-3 text-green-300"})," ",te]},Pe))})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),V&&s.jsxs("button",{onClick:()=>St(),className:"bg-white text-green-800 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition shadow-lg flex items-center gap-2 mx-auto",children:[s.jsx(Vt,{className:"w-5 h-5"}),"    "]})]})}),s.jsx(eg,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),et=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[V&&r&&s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("button",{onClick:()=>pe(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold hover:bg-green-700",children:[s.jsx(Vt,{className:"w-4 h-4"}),"   "]})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:g,onChange:te=>x(te.target.value)})]}),s.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:N,onChange:te=>E(te.target.value),children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"AVAILABLE",children:" "}),s.jsx("option",{value:"IN_PROGRESS",children:"  "}),s.jsx("option",{value:"COMPLETED",children:" "})]})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.axes.map(te=>{const Pe=te.topics.filter(ze=>(N==="ALL"||ze.status===N)&&ze.title.toLowerCase().includes(g.toLowerCase()));if(Pe.length===0&&g)return null;const We=Math.round(te.topics.filter(ze=>ze.status==="COMPLETED").length/te.topics.length*100)||0;return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>p(h===te.id?null:te.id),children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h===te.id?s.jsx(QN,{className:"w-5 h-5"}):s.jsx(XN,{className:"w-5 h-5"}),te.title]}),s.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",te.coordinator]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center hidden md:block",children:[s.jsx("div",{className:"text-xs text-gray-500",children:" "}),s.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500",style:{width:`${We}%`}})})]}),s.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[Pe.length," "]})]})]}),h===te.id&&s.jsxs("div",{className:"p-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("p",{className:"text-gray-600 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm flex-1",children:[" ",te.description]}),V&&s.jsxs("div",{className:"flex gap-2 mr-2",children:[s.jsx("button",{onClick:()=>pe(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:" ",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>xe(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid gap-3",children:[Pe.map(ze=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-gray-800",children:ze.title}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${ze.status==="AVAILABLE"?"bg-green-100 text-green-700":ze.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:ze.status==="AVAILABLE"?" ":ze.status==="IN_PROGRESS"?" ":" "})]}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx(eg,{className:"w-3 h-3"})," : ",ze.goal]}),ze.studentName&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[s.jsx(xP,{className:"w-3 h-3"}),"  : ",ze.studentName]})]}),s.jsx("div",{className:"flex items-center gap-2",children:V?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>z({axisId:te.id,topic:ze}),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>De(te.id,ze.id,ze.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]}):ze.status==="AVAILABLE"&&s.jsx("button",{onClick:()=>ae(te.id,ze.id,ze.title),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},ze.id)),Pe.length===0&&s.jsx("p",{className:"text-center text-gray-400 py-4",children:"        ."})]})]})]},te.id)})}),M&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:$?" ":"  "}),s.jsx("button",{onClick:()=>T(!1),children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:Y.title,onChange:te=>H({...Y,title:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:Y.description,onChange:te=>H({...Y,description:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded",value:Y.coordinator,onChange:te=>H({...Y,coordinator:te.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded text-sm",children:""})]})]})]})}),D&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:"  "}),s.jsx("button",{onClick:()=>z(null),children:s.jsx(Et,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Te,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:D.topic.title,onChange:te=>z({...D,topic:{...D.topic,title:te.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:D.topic.goal,onChange:te=>z({...D,topic:{...D.topic,goal:te.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"    ",value:D.topic.studentName||"",onChange:te=>z({...D,topic:{...D.topic,studentName:te.target.value||void 0}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded",value:D.topic.status,onChange:te=>z({...D,topic:{...D.topic,status:te.target.value}}),children:[s.jsx("option",{value:"AVAILABLE",children:""}),s.jsx("option",{value:"IN_PROGRESS",children:" "}),s.jsx("option",{value:"COMPLETED",children:""})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",onClick:()=>z(null),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded text-sm",children:" "})]})]})]})})]}),Qe=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[r&&s.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),s.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),s.jsxs("button",{onClick:ke,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[s.jsx(Vt,{className:"w-5 h-5"}),"    "]})]}),s.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",V&&s.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.filter(te=>te.status==="PENDING").length,"  "]})]}),s.jsxs("div",{className:"space-y-3",children:[d.length===0&&s.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),d.map(te=>{var Pe;return s.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg",children:te.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${te.status==="PENDING"?"bg-amber-100 text-amber-800":te.status==="APPROVED"?"bg-green-100 text-green-800":te.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:te.status==="PENDING"?" ":te.status==="APPROVED"?" ":te.status==="REJECTED"?"":" "})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[s.jsx("strong",{children:" :"})," ",te.proposedBy," |",s.jsx("strong",{children:" :"})," ",te.axisId==="NEW"?`  (${te.newAxisName})`:((Pe=r==null?void 0:r.axes.find(We=>We.id===te.axisId))==null?void 0:Pe.title)||" "]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[s.jsx("strong",{children:":"})," ",te.justification]}),te.adminNotes&&s.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",te.adminNotes]})]}),s.jsxs("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:[V&&te.status==="PENDING"?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>le(te.id,te.title,"APPROVED",te),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),s.jsx("button",{onClick:()=>le(te.id,te.title,"MODIFICATION_REQUESTED",te),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),s.jsx("button",{onClick:()=>le(te.id,te.title,"REJECTED",te),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):te.proposedById===t.id&&(te.status==="PENDING"||te.status==="MODIFICATION_REQUESTED")&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>J(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded flex items-center gap-1 text-sm font-bold border border-blue-200",children:[s.jsx(gn,{className:"w-4 h-4"}),"   "]}),s.jsx("button",{onClick:()=>de(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),V&&te.status!=="PENDING"&&s.jsxs("button",{onClick:()=>de(te.id,te.title),className:"text-gray-400 hover:text-red-500 p-1 text-xs flex items-center justify-end gap-1 mt-2",children:[s.jsx(ot,{className:"w-3 h-3"}),"   "]})]})]},te.id)})]})]}),Rt=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(D2,{className:"w-5 h-5"}),"    "]}),l.length===0?s.jsx("p",{className:"text-center text-gray-400 py-12 border-2 border-dashed rounded-xl",children:"   "}):l.map(te=>s.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold text-gray-800",children:te.title}),s.jsxs("p",{className:"text-gray-500 text-sm",children:[te.startDate," - ",te.endDate]})]}),s.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-bold",children:""})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",te.vision]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:" :"})," ",te.axes.length]})]})]},te.id))]}),hi=()=>{if(!r)return s.jsx("p",{className:"text-center p-8",children:"     ."});const te=r.axes.reduce((Ht,$t)=>Ht+$t.topics.length,0),Pe=r.axes.reduce((Ht,$t)=>Ht+$t.topics.filter(mi=>mi.status==="COMPLETED").length,0),We=r.axes.map(Ht=>({name:Ht.title.split(" ").slice(0,3).join(" ")+"...",value:Ht.topics.length})),ze=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:te}),s.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-green-700",children:Pe}),s.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[te>0?Math.round(Pe/te*100):0,"%"]}),s.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),s.jsx($k,{width:"100%",height:"90%",children:s.jsxs(Oie,{children:[s.jsx($6,{data:We,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:We.map((Ht,$t)=>s.jsx(Mh,{fill:ze[$t%ze.length]},`cell-${$t}`))}),s.jsx(v6,{})]})})]})})]})};return s.jsxs("div",{className:"space-y-6",children:[ve(),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(ks,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(ar,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(r9,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("ARCHIVE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ARCHIVE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(D2,{className:"w-4 h-4"})," "]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&et(),e==="PROPOSALS"&&Qe(),e==="ANALYTICS"&&hi(),e==="ARCHIVE"&&Rt()]}),O&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P?"  ":"   "}),s.jsx("button",{onClick:()=>R(!1),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[P===null&&s.jsx("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 text-sm text-yellow-800 mb-4",children:" :         ."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:re.title,onChange:te=>G({...re,title:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:re.vision,onChange:te=>G({...re,vision:te.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:re.startDate,onChange:te=>G({...re,startDate:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:re.endDate,onChange:te=>G({...re,endDate:te.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  (  )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:re.strategicGoals,onChange:te=>G({...re,strategicGoals:te.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded font-bold hover:bg-green-700",children:" "})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:C?"  ":"   "}),s.jsx("button",{onClick:()=>_(!1),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:Ve,className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:B.title,onChange:te=>{ge({...B,title:te.target.value}),Ge(te.target.value)}}),he&&s.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[s.jsx(JN,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{children:he})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:B.axisId,onChange:te=>ge({...B,axisId:te.target.value}),children:[s.jsx("option",{value:"",children:"--   --"}),r&&r.axes.map(te=>s.jsx("option",{value:te.id,children:te.title},te.id)),s.jsx("option",{value:"NEW",children:"   / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:B.type,onChange:te=>ge({...B,type:te.target.value}),children:[s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),B.axisId==="NEW"&&s.jsxs("div",{className:"col-span-2 animate-in fade-in",children:[s.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-1",children:"   "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg border-purple-300 focus:ring-2 focus:ring-purple-500 outline-none bg-purple-50",placeholder:"   ...",value:B.newAxisName,onChange:te=>ge({...B,newAxisName:te.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"     ",value:B.justification,onChange:te=>ge({...B,justification:te.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:B.appliedGoal,onChange:te=>ge({...B,appliedGoal:te.target.value})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:B.hasStudent,onChange:te=>ge({...B,hasStudent:te.target.checked})}),s.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),B.hasStudent&&s.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:B.studentName,onChange:te=>ge({...B,studentName:te.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[s.jsx(pP,{className:"w-4 h-4"})," ",C?" ":" "]})]})]})]})})]})},Tge=({user:t})=>{const[e,n]=w.useState("DASHBOARD"),[r,a]=w.useState([]),[l,c]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState([]),[g,x]=w.useState(!0),N=t.role===Ne.ADMIN,[E,j]=w.useState(!1),[_,O]=w.useState(null),[R,M]=w.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[T,C]=w.useState([]),[L,P]=w.useState(!1),[U,$]=w.useState(null),[A,D]=w.useState(null),[z,B]=w.useState("");w.useEffect(()=>{ge()},[]);const ge=async()=>{x(!0);try{const[ae,le,ke,J]=await Promise.all([Hpe(t.id),Gpe(t.id),Xh(),p8()]);a(ae),c(le);const de=[...ke.map(Ve=>({id:Ve.id,name:Ve.name,role:Ve.rank||"  "})),...J.map(Ve=>({id:Ve.id,name:Ve.name,role:Ve.jobTitle||""}))].filter(Ve=>Ve.id!==t.id);if(p(de),N){const Ve=await Ype();f(Ve)}}catch(ae){console.error("Error fetching data:",ae)}x(!1)},re=()=>{if(!R.startDate||!R.endDate)return 0;const ae=new Date(R.startDate),ke=new Date(R.endDate).getTime()-ae.getTime();return Math.ceil(ke/(1e3*3600*24))+1},G=ae=>{switch(ae){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return ae}},Y=()=>{j(!1),O(null),M({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),C([]),n("NEW")},H=ae=>{if(ae.status==="APPROVED"||ae.status==="REJECTED"){alert("    ");return}j(!0),O(ae.id),M({type:ae.type,startDate:ae.startDate,endDate:ae.endDate,substituteId:ae.substituteId||"",address:ae.address||"",phone:ae.phone||"",hospital:ae.hospital||"",conferenceName:ae.conferenceName||"",conferenceLocation:ae.conferenceLocation||"",spouseName:ae.spouseName||"",spouseJob:ae.spouseJob||"",country:ae.country||""}),C([]),n("NEW")},he=async(ae,le)=>{if(window.confirm("      "))try{await Zt(Fe(me,"leave_requests",ae)),await Se("  ",t.name,`   ${G(le)}`),ge()}catch{alert(" ")}},X=async ae=>{var ke;ae.preventDefault();const le=re();if(le<=0){alert("      ");return}if(R.type==="CASUAL"&&!E){const J=r.filter(de=>de.type==="CASUAL"&&de.status==="APPROVED").reduce((de,Ve)=>de+Ve.daysCount,0);if(J+le>7){alert(`     (${7-J} )  .`);return}}P(!0);try{const J=[];for(const Ge of T){const St=await el(Ge);J.push(St)}const de=(ke=h.find(Ge=>Ge.id===R.substituteId))==null?void 0:ke.name,Ve={userId:t.id,userName:t.name,type:R.type,startDate:R.startDate,endDate:R.endDate,daysCount:le,substituteId:R.substituteId,substituteName:de,address:R.address,phone:R.phone,hospital:R.hospital,conferenceName:R.conferenceName,conferenceLocation:R.conferenceLocation,spouseName:R.spouseName,spouseJob:R.spouseJob,country:R.country,...J.length>0&&{documentsUrls:J,medicalReportUrl:J[0]}};E&&_?(await Tt(Fe(me,"leave_requests",_),Ve),await Se("  ",t.name,`   ${G(R.type)}`),alert("   ")):(await qpe(Ve),await Se(" ",t.name,`  ${G(R.type)}  ${le} `),alert("   ")),n("HISTORY"),ge()}catch(J){console.error(J),alert("   ")}finally{P(!1)}},V=async ae=>{if(U)try{await Kpe(U.id,ae,z),await Se("  ",t.name,`${ae?"":""}   ${U.userName}`),alert("  "),$(null),D(null),ge()}catch{alert(" ")}},W=async(ae,le)=>{if(window.confirm(`    ${le==="APPROVED"?"":""}  `))try{await Tt(Fe(me,"leave_requests",ae),{status:le}),await Se(" ",t.name,` ${le==="APPROVED"?"":""}  `),ge()}catch{alert("")}},pe=()=>{const ae=r.filter(J=>J.type==="CASUAL"&&J.status==="APPROVED").reduce((J,de)=>J+de.daysCount,0),le=r.filter(J=>J.status.includes("PENDING")).length,ke=N?d.filter(J=>J.status==="PENDING_HEAD").length:0;return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),s.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-ae," ",s.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),s.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:s.jsx(Gi,{className:"w-6 h-6 text-orange-600"})})]}),s.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${ae/7*100}%`}})})]}),s.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),s.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:le})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]}),s.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),s.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),s.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:l.length})]}),s.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[s.jsx(k2,{className:"w-6 h-6 text-purple-600"}),l.length>0&&s.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),s.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]}),N&&s.jsx("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100 cursor-pointer hover:bg-green-100 transition-colors md:col-span-3",onClick:()=>n("ALL_REQUESTS"),children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-200 rounded-full",children:s.jsx(qr,{className:"w-6 h-6 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-green-900",children:"  (  )"}),s.jsxs("p",{className:"text-sm text-green-700",children:[" ",ke,"    "]})]})]}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:" "})]})})]}),s.jsxs("button",{onClick:Y,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[s.jsx(Vt,{className:"w-6 h-6"}),"    "]})]})},Z=()=>s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[s.jsx(o1,{className:"w-6 h-6 text-green-600"})," ",E?"  ":"  "]}),E&&s.jsx("button",{onClick:Y,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),s.jsxs("form",{onSubmit:X,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:R.type,onChange:ae=>M({...R,type:ae.target.value}),disabled:E,children:[s.jsx("option",{value:"CASUAL",children:" "}),s.jsx("option",{value:"ANNUAL",children:" "}),s.jsx("option",{value:"SICK",children:" "}),s.jsx("option",{value:"SCIENTIFIC",children:"  / "}),s.jsx("option",{value:"SPOUSE",children:" /"}),s.jsx("option",{value:"CHILD_CARE",children:" "}),s.jsx("option",{value:"HAJJ",children:" / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:R.startDate,onChange:ae=>M({...R,startDate:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:R.endDate,onChange:ae=>M({...R,endDate:ae.target.value})}),re()>0&&s.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",re()," "]})]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[s.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(k2,{className:"w-4 h-4"}),"   ( )"]}),s.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:R.substituteId,onChange:ae=>M({...R,substituteId:ae.target.value}),required:R.type!=="CHILD_CARE"&&R.type!=="SPOUSE",children:[s.jsx("option",{value:"",children:"--   --"}),h.length===0?s.jsx("option",{disabled:!0,children:"     (  )"}):h.map(ae=>s.jsxs("option",{value:ae.id,children:[ae.name," - ",ae.role]},ae.id))]}),h.length===0&&s.jsx("p",{className:"text-xs text-red-500 font-bold mt-1",children:':      .       " "   .'}),s.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"*        ."})]}),(R.type==="CASUAL"||R.type==="ANNUAL"||R.type==="HAJJ")&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.address,onChange:ae=>M({...R,address:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:R.phone,onChange:ae=>M({...R,phone:ae.target.value})})]})]}),R.type==="SICK"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:R.hospital,onChange:ae=>M({...R,hospital:ae.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:ae=>C(Array.from(ae.target.files||[]))}),s.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(vB,{className:"w-8 h-8 text-red-500"}),s.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),T.length>0&&s.jsx("span",{className:"text-xs text-green-600",children:T[0].name})]})]})]}),R.type==="SCIENTIFIC"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.conferenceName,onChange:ae=>M({...R,conferenceName:ae.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.conferenceLocation,onChange:ae=>M({...R,conferenceLocation:ae.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:ae=>C(Array.from(ae.target.files||[]))}),s.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:T.length>0?T[0].name:"  "})]})]}),R.type==="SPOUSE"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(e_,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:R.spouseName,onChange:ae=>M({...R,spouseName:ae.target.value})}),s.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:R.foreignEntity,onChange:ae=>M({...R,foreignEntity:ae.target.value})}),s.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:R.country,onChange:ae=>M({...R,country:ae.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:ae=>C(Array.from(ae.target.files||[]))}),s.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[s.jsx(rr,{className:"w-6 h-6 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),T.length>0&&s.jsxs("span",{className:"text-xs text-green-600",children:[T.length,"   "]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",disabled:L,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[L?s.jsx(Ze,{className:"w-5 h-5 animate-spin"}):E?s.jsx(_n,{className:"w-5 h-5"}):s.jsx(qr,{className:"w-5 h-5"}),E?" ":" "]})]})]})]}),xe=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),l.length===0&&s.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),s.jsx("div",{className:"grid gap-4",children:l.map(ae=>s.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:ae.userName})]}),s.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",s.jsx("span",{className:"font-bold",children:G(ae.type)})]}),s.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[s.jsxs("span",{children:[": ",ae.startDate]}),s.jsxs("span",{children:[": ",ae.endDate]}),s.jsxs("span",{children:["(",ae.daysCount," )"]})]})]}),s.jsx("button",{onClick:()=>{$(ae),D(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},ae.id))}),U&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[s.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[s.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),s.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",U.userName]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',s.jsx("strong",{children:t.name}),"                 / ",s.jsx("strong",{children:U.userName}),'      ."']}),A?A==="ACCEPT"?s.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[s.jsx(qr,{className:"w-16 h-16 text-green-500 mx-auto"}),s.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),s.jsx("button",{onClick:()=>V(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),s.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:z,onChange:ae=>B(ae.target.value)}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>D(null),className:"px-4 text-gray-500",children:""}),s.jsx("button",{onClick:()=>V(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:()=>D("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),s.jsx("button",{onClick:()=>D("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("button",{onClick:()=>$(null),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),Te=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r.map(ae=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:G(ae.type)}),s.jsx("td",{className:"p-4",children:ae.startDate}),s.jsx("td",{className:"p-4",children:ae.endDate}),s.jsx("td",{className:"p-4 text-gray-600",children:ae.substituteName||"-"}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ae.status==="APPROVED"?"bg-green-100 text-green-700":ae.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:ae.status==="APPROVED"?"":ae.status==="PENDING_SUBSTITUTE"?" ":ae.status==="PENDING_HEAD"?" ":""})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[(ae.status==="PENDING_SUBSTITUTE"||ae.status==="PENDING_HEAD")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>H(ae),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>he(ae.id,ae.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),ae.status==="APPROVED"&&s.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(ar,{className:"w-3 h-3"})," "]})]})]},ae.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]}),De=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   ()"}),s.jsx("div",{className:"grid gap-4",children:d.map(ae=>s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl p-4 flex flex-col md:flex-row justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg",children:ae.userName}),s.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:G(ae.type)})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[": ",ae.daysCount,"  (",ae.startDate," - ",ae.endDate,") ",s.jsx("br",{}),": ",ae.substituteName||" "]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ae.status==="APPROVED"?"bg-green-100 text-green-700":ae.status==="REJECTED"?"bg-red-100 text-red-700":ae.status==="PENDING_HEAD"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:ae.status==="PENDING_HEAD"?" ":ae.status==="PENDING_SUBSTITUTE"?" ":ae.status})})]}),ae.status==="PENDING_HEAD"&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>W(ae.id,"APPROVED"),className:"bg-green-600 text-white px-4 py-2 rounded font-bold hover:bg-green-700",children:""}),s.jsx("button",{onClick:()=>W(ae.id,"REJECTED"),className:"bg-red-600 text-white px-4 py-2 rounded font-bold hover:bg-red-700",children:""})]})]},ae.id))})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(o1,{className:"w-8 h-8 text-green-600"}),"  "]})}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:Y,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:""}),N&&s.jsx("button",{onClick:()=>n("ALL_REQUESTS"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="ALL_REQUESTS"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:"  ()"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&pe(),e==="NEW"&&Z(),e==="SUBSTITUTE"&&xe(),e==="HISTORY"&&Te(),e==="ALL_REQUESTS"&&N&&De()]})]})},Cge=({user:t})=>{const[e,n]=w.useState("LOAN"),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState(0),g=t.role===Ne.ADMIN,[x,N]=w.useState("MY_REQUESTS"),[E,j]=w.useState(!1),[_,O]=w.useState(null),[R,M]=w.useState({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),[T,C]=w.useState({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),[L,P]=w.useState({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"}),[U,$]=w.useState([]);w.useEffect(()=>{A()},[x]);const A=async()=>{c(!0);try{g&&x==="ALL_REQUESTS"?a(await Xpe()):(a(await Wpe(t.id)),(!g||x==="MY_REQUESTS")&&p(await Jpe(t.id)))}catch(H){console.error("Error fetching data:",H)}c(!1)},D=H=>{$([]),H?(O(H.id),H.type==="LOAN"?(M({...H}),n("LOAN")):H.type==="SECONDMENT"?(C({...H}),n("SECONDMENT")):(P({...H}),n("TRANSFER"))):(O(null),M({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),C({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),P({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"})),j(!0)},z=async(H,he)=>{if(window.confirm("      "))try{await Zt(Fe(me,"career_requests",H)),await Se("  /",t.name,`   ${he}`),A()}catch{alert(" ")}},B=async(H,he,X)=>{try{await Qpe(H,he),await Se("  ",t.name,`    ${X}  ${he}`),A()}catch{alert("  ")}},ge=async H=>{try{return await el(H)}catch(he){return alert("  : "+he.message),null}},re=async H=>{H.preventDefault(),f(!0);try{if(e==="LOAN"){if(h>=10&&!_){alert("      (10 )."),f(!1);return}let he;if(U.length>0){const V=await ge(U[0]);V&&(he=V)}const X={userId:t.id,userName:t.name,type:"LOAN",...R,...he&&{nominationLetterUrl:he},status:_?void 0:"PENDING_DEPT"};if(_){const V={...X};delete V.status,he||delete V.nominationLetterUrl,await Tt(Fe(me,"career_requests",_),V),await Se("  ",t.name,`    ${R.country}`)}else await i1(X),await Se(" ",t.name,`    ${R.country}`)}else if(e==="SECONDMENT"){const he={userId:t.id,userName:t.name,type:"SECONDMENT",...T,status:_?void 0:"PENDING_DEPT"};if(_){const X={...he};delete X.status,await Tt(Fe(me,"career_requests",_),X),await Se("  ",t.name,`    ${T.targetInstitution}`)}else await i1(he),await Se(" ",t.name,`   ${T.targetInstitution}`)}else if(e==="TRANSFER"){const he={userId:t.id,userName:t.name,type:"TRANSFER",...L,status:_?void 0:"PENDING_DEPT"};if(_){const X={...he};delete X.status,await Tt(Fe(me,"career_requests",_),X),await Se("  ",t.name,`    ${L.targetUniversity}`)}else await i1(he),await Se(" ",t.name,`   ${L.targetUniversity}`)}j(!1),alert(_?"   ":"    "),A()}catch(he){console.error(he),alert("   ")}finally{f(!1)}},G=({status:H})=>{const X={PENDING_DEPT:{label:" ",color:"bg-yellow-100 text-yellow-800"},PENDING_COLLEGE:{label:" ",color:"bg-orange-100 text-orange-800"},PENDING_UNIV:{label:" ",color:"bg-blue-100 text-blue-800"},APPROVED:{label:" ",color:"bg-green-100 text-green-800"},REJECTED:{label:"",color:"bg-red-100 text-red-800"}}[H]||{label:H,color:"bg-gray-100"};return s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${X.color}`,children:X.label})},Y=({status:H})=>{const he=["PENDING_DEPT","PENDING_COLLEGE","PENDING_UNIV","APPROVED"],X=he.indexOf(H),V=H==="REJECTED";return s.jsx("div",{className:"flex items-center gap-1 mt-2 text-[10px]",children:he.map((W,pe)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border 
                            ${pe<=X?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-300"}
                            ${V&&pe===X+1?"bg-red-500 border-red-500":""}
                        `,children:pe+1}),pe<he.length-1&&s.jsx("div",{className:`w-4 h-0.5 ${pe<X?"bg-green-600":"bg-gray-200"}`})]},W))})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(e_,{className:"w-8 h-8 text-blue-600"}),"  "]}),s.jsxs("div",{className:"flex gap-2",children:[g&&s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>N("MY_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="MY_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""}),s.jsx("button",{onClick:()=>N("ALL_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="ALL_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""})]}),(!g||x==="MY_REQUESTS")&&s.jsxs("button",{onClick:()=>D(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold",children:[s.jsx(Vt,{className:"w-4 h-4"}),"  "]})]})]}),!g&&s.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${h>=10?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gi,{className:`w-6 h-6 ${h>=10?"text-red-600":"text-blue-600"}`}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold ${h>=10?"text-red-800":"text-blue-800"}`,children:"  "}),s.jsx("p",{className:"text-xs text-gray-600",children:"      10    ."})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:`text-2xl font-bold ${h>=10?"text-red-600":"text-blue-600"}`,children:h}),s.jsx("span",{className:"text-gray-500 text-xs",children:" / 10 "})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[s.jsxs("button",{onClick:()=>n("LOAN"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="LOAN"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(dP,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>n("SECONDMENT"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="SECONDMENT"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Ps,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>n("TRANSFER"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="TRANSFER"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Fz,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:l?s.jsx("div",{className:"text-center py-10",children:s.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsx("div",{children:r.filter(H=>H.type===e).length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed rounded-xl",children:[s.jsx(Ps,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),s.jsx("p",{children:"      "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:" "}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:" / "}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:r.filter(H=>H.type===e).map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 font-bold text-gray-800",children:H.userName}),s.jsx("td",{className:"p-3 text-xs",children:H.type==="LOAN"?H.loanType==="EXTERNAL"?"":"":H.type==="SECONDMENT"?H.secondmentType:H.transferType}),s.jsx("td",{className:"p-3 text-gray-600",children:H.type==="LOAN"?H.institution:H.type==="SECONDMENT"?H.targetInstitution:H.targetUniversity}),s.jsx("td",{className:"p-3 font-mono text-xs",children:H.type!=="TRANSFER"?s.jsxs(s.Fragment,{children:[H.startDate," ",s.jsx("br",{}),s.jsx("span",{className:"text-gray-400",children:""})," ",H.endDate]}):"-"}),s.jsx("td",{className:"p-3",children:s.jsx(G,{status:H.status})}),s.jsx("td",{className:"p-3",children:s.jsx(Y,{status:H.status})}),s.jsxs("td",{className:"p-3 flex items-center gap-2",children:[g&&x==="ALL_REQUESTS"&&s.jsxs("select",{className:"text-xs border rounded p-1",value:H.status,onChange:he=>B(H.id,he.target.value,H.type),children:[s.jsx("option",{value:"PENDING_DEPT",children:" "}),s.jsx("option",{value:"PENDING_COLLEGE",children:" "}),s.jsx("option",{value:"PENDING_UNIV",children:" "}),s.jsx("option",{value:"APPROVED",children:""}),s.jsx("option",{value:"REJECTED",children:""})]}),(g||H.userId===t.id)&&H.status.startsWith("PENDING")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>D(H),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(H.id,H.type),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]},H.id))})]})})})}),E&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:_?" ":`  ${e==="LOAN"?"":e==="SECONDMENT"?"":""} `}),s.jsx("button",{onClick:()=>j(!1),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"p-6",children:[e==="LOAN"&&s.jsxs("form",{onSubmit:re,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:R.loanType,onChange:H=>M({...R,loanType:H.target.value}),children:[s.jsx("option",{value:"EXTERNAL",children:" "}),s.jsx("option",{value:"INTERNAL",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:R.requestType,onChange:H=>M({...R,requestType:H.target.value}),children:[s.jsx("option",{value:"NEW",children:" "}),s.jsx("option",{value:"RENEWAL",children:" "})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.country,onChange:H=>M({...R,country:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.institution,onChange:H=>M({...R,institution:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.college,onChange:H=>M({...R,college:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.startDate,onChange:H=>M({...R,startDate:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.endDate,onChange:H=>M({...R,endDate:H.target.value})})]}),s.jsxs("div",{className:"col-span-2 border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"loan-file",onChange:H=>$(Array.from(H.target.files||[]))}),s.jsxs("label",{htmlFor:"loan-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(rr,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"text-sm font-bold text-gray-600",children:R.requestType==="NEW"?"  ":"   "}),U.length>0&&s.jsx("span",{className:"text-xs text-green-600",children:U[0].name})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="SECONDMENT"&&s.jsxs("form",{onSubmit:re,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:T.secondmentType,onChange:H=>C({...T,secondmentType:H.target.value}),children:[s.jsx("option",{value:"FULL_TIME",children:"  ( )"}),s.jsx("option",{value:"PART_TIME",children:"  ( )"}),s.jsx("option",{value:"OFF_HOURS",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:T.targetInstitution,onChange:H=>C({...T,targetInstitution:H.target.value})})]}),T.secondmentType==="PART_TIME"&&s.jsxs("div",{className:"col-span-2 bg-blue-50 p-3 rounded border border-blue-100",children:[s.jsx("label",{className:"block text-sm font-bold mb-2 text-blue-800",children:"  "}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:["","","","","",""].map(H=>{var he;return s.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-2 py-1 rounded border",children:[s.jsx("input",{type:"checkbox",checked:(he=T.secondmentDays)==null?void 0:he.includes(H),onChange:X=>{const V=T.secondmentDays||[];C({...T,secondmentDays:X.target.checked?[...V,H]:V.filter(W=>W!==H)})}})," ",H]},H)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.startDate,onChange:H=>C({...T,startDate:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.endDate,onChange:H=>C({...T,endDate:H.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="TRANSFER"&&s.jsxs("form",{onSubmit:re,className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded text-red-700 text-sm border border-red-200 flex items-center gap-2 mb-4",children:[s.jsx(Gr,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{children:":            ."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetUniversity,onChange:H=>P({...L,targetUniversity:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetCollege,onChange:H=>P({...L,targetCollege:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:L.transferType,onChange:H=>P({...L,transferType:H.target.value}),children:[s.jsx("option",{value:"VACANT_DEGREE",children:"    "}),s.jsx("option",{value:"WITH_DEGREE",children:"   ( )"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 flex items-center gap-2",children:[d&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})]})})]})},Ige=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState([]),[l,c]=w.useState({totalItems:0,theses:0,papers:0,books:0}),[d,f]=w.useState(!0),[h,p]=w.useState(""),[g,x]=w.useState("ALL"),[N,E]=w.useState(!1),[j,_]=w.useState(null),[O,R]=w.useState("JOURNAL_PAPER"),M={titleAr:"",titleEn:"",abstract:"",authorNames:"",journalName:"",conferenceName:"",doi:"",publicationYear:new Date().getFullYear().toString(),supervisors:"",shelfLocation:""},[T,C]=w.useState(M),[L,P]=w.useState(null),[U,$]=w.useState(null),[A,D]=w.useState(!1),[z,B]=w.useState(null),[ge,re]=w.useState("RESEARCH"),[G,Y]=w.useState(""),[H,he]=w.useState([]),X=t.role===Ne.ADMIN||t.role===Ne.STAFF||t.role===Ne.DATA_ENTRY;w.useEffect(()=>{V()},[]);const V=async()=>{f(!0);try{const[J,de]=await Promise.all([Zpe(),age()]);if(a(J),c(de),t.role===Ne.STAFF||t.role===Ne.ADMIN){const Ve=await nge(t.id);he(Ve)}}catch(J){console.error("Error fetching repository data:",J)}f(!1)},W=J=>{let de="";J.type.includes("PAPER")?de=`${J.authorNames||""} (${J.publicationYear}). "${J.titleAr}". ${J.journalName||J.conferenceName||""}, ${J.volume||""}(${J.issue||""}), ${J.pages||""}. ${J.doi?`DOI: ${J.doi}`:""}`:J.type.includes("THESIS")?de=`${J.authorNames||""} (${J.publicationYear}). ${J.titleAr}. [${J.type==="THESIS_MASTER"?"Master Thesis":"PhD Thesis"}]. Al-Azhar University.`:de=`${J.authorNames||J.publisher||""} (${J.publicationYear}). ${J.titleAr}. ${J.publisher||""}.`,navigator.clipboard.writeText(de),alert("   ")},pe=async J=>{try{return await el(J)}catch(de){return alert("  : "+de.message),null}},Z=J=>{E(!0),_(J.id),R(J.type),C({titleAr:J.titleAr||"",titleEn:J.titleEn||"",abstract:J.abstract||"",authorNames:J.authorNames||"",journalName:J.journalName||"",conferenceName:J.conferenceName||"",doi:J.doi||"",publicationYear:J.publicationYear||"",supervisors:J.supervisors||"",shelfLocation:J.shelfLocation||""}),n("ADD")},xe=async(J,de)=>{if(window.confirm("        "))try{await Zt(Fe(me,"repository_items",J)),await Se("  ",t.name,`  : ${de}`),V()}catch{alert(" ")}},Te=async J=>{J.preventDefault(),D(!0);try{let de,Ve;L&&(de=await pe(L)),U&&(Ve=await pe(U));const Ge={...T,type:O,...de&&{fileUrl:de},...Ve&&{privateFileUrl:Ve},addedBy:t.id,authorIds:N?void 0:[t.id],publicationYear:T.publicationYear||new Date().getFullYear().toString()};N&&j?(await Tt(Fe(me,"repository_items",j),Ge),await Se("  ",t.name,`  ${O}: ${T.titleAr}`),alert("  ")):(await ege(Ge),await Se(" ",t.name,`  ${O}: ${T.titleAr}`),alert("  ")),E(!1),_(null),C(M),P(null),$(null),n("BROWSE"),V()}catch(de){console.error(de),alert("   ")}finally{D(!1)}},De=async()=>{if(z)try{await tge({itemId:z.id,itemTitle:z.titleAr,itemAuthorId:z.addedBy,requesterName:t.name,requesterEmail:"user@example.com",reason:ge,message:G}),await Se("  ",t.name,`   : ${z.titleAr}`),alert("   "),B(null)}catch{alert("  ")}},ae=async(J,de,Ve)=>{await rge(J,Ve),await Se("   ",t.name,` ${Ve==="APPROVED"?" ":""}   : ${de}`),alert(` ${Ve==="APPROVED"?"  ":" "}`),V()},le=()=>{n("ADD"),C(M),_(null),E(!1)},ke=J=>{const de=J.type.includes("PAPER"),Ve=J.type.includes("THESIS"),Ge=J.addedBy===t.id||t.role===Ne.ADMIN;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow flex flex-col gap-3 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${de?"bg-blue-100 text-blue-700":Ve?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:de?J.type==="JOURNAL_PAPER"?" ":"":Ve?J.type==="THESIS_MASTER"?"":"":""}),s.jsx("span",{className:"text-gray-500 text-xs",children:J.publicationYear})]}),s.jsxs("div",{className:"flex gap-2",children:[J.doi&&s.jsx("a",{href:J.doi,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",title:"DOI",children:s.jsx(yg,{className:"w-4 h-4"})}),Ge&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>Z(J),className:"text-blue-400 hover:text-blue-600 p-1",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>xe(J.id,J.titleAr),className:"text-red-400 hover:text-red-600 p-1",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-snug mb-1",children:J.titleAr}),J.titleEn&&s.jsx("h4",{className:"text-sm text-gray-500 font-medium ltr text-right",dir:"ltr",children:J.titleEn})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[de&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.authorNames]}),de&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.journalName||J.conferenceName,", ",J.volume,"(",J.issue,")"]}),Ve&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.authorNames]}),Ve&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",J.supervisors]})]}),J.abstract&&s.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 bg-gray-50 p-2 rounded",children:J.abstract}),s.jsxs("div",{className:"mt-auto pt-4 border-t flex items-center justify-between gap-2",children:[s.jsx("div",{className:"flex gap-2",children:J.fileUrl?s.jsxs("a",{href:J.fileUrl,target:"_blank",rel:"noreferrer",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700",children:[s.jsx(ku,{className:"w-4 h-4"}),"  PDF"]}):s.jsxs("button",{onClick:()=>B(J),className:"bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-amber-100",children:[s.jsx(lb,{className:"w-4 h-4"}),"   "]})}),s.jsx("button",{onClick:()=>W(J),className:"text-gray-400 hover:text-gray-600",title:" ",children:s.jsx(y9,{className:"w-5 h-5"})})]})]},J.id)};return s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-screen",children:[s.jsxs("aside",{className:"w-full lg:w-64 shrink-0 space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(hP,{className:"w-5 h-5 text-green-600"})," "]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold",children:l.totalItems})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-purple-600",children:l.theses})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-blue-600",children:l.papers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-amber-600",children:l.books})]})]})]}),H.length>0&&s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 animate-pulse",children:[s.jsxs("h4",{className:"font-bold text-amber-800 text-sm mb-2 flex items-center gap-2",children:[s.jsx(JN,{className:"w-4 h-4"}),"   (",H.length,")"]}),s.jsx("div",{className:"space-y-2",children:H.map(J=>s.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[s.jsx("p",{className:"font-bold mb-1",children:J.requesterName}),s.jsxs("p",{className:"text-gray-500 mb-2 truncate",children:[": ",J.itemTitle]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>ae(J.id,J.itemTitle,"APPROVED"),className:"flex-1 bg-green-600 text-white py-1 rounded",children:""}),s.jsx("button",{onClick:()=>ae(J.id,J.itemTitle,"REJECTED"),className:"flex-1 bg-gray-200 text-gray-700 py-1 rounded",children:""})]})]},J.id))})]})]}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),X&&s.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>{n("BROWSE"),E(!1)},className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="BROWSE"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:le,className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="ADD"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "})]})]}),e==="BROWSE"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:h,onChange:J=>p(J.target.value)})]}),s.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50 min-w-[150px]",value:g,onChange:J=>x(J.target.value),children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"PAPER",children:" "}),s.jsx("option",{value:"THESIS",children:" "}),s.jsx("option",{value:"BOOK",children:""})]})]}),d?s.jsx("div",{className:"text-center py-12",children:s.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(J=>g==="ALL"||J.type.includes(g)).filter(J=>{var de;return J.titleAr.includes(h)||J.titleEn&&J.titleEn.toLowerCase().includes(h.toLowerCase())||((de=J.authorNames)==null?void 0:de.includes(h))}).map(ke),r.length===0&&s.jsx("p",{className:"text-center text-gray-400 col-span-2 py-12",children:"  "})]})]}),e==="ADD"&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:N?" ":"   "}),N&&s.jsx("button",{onClick:()=>{E(!1),n("BROWSE")},className:"text-sm text-gray-500 hover:text-red-500",children:""})]}),s.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:[s.jsx("button",{onClick:()=>R("JOURNAL_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${O==="JOURNAL_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("CONF_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${O==="CONF_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("THESIS_MASTER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${O.includes("THESIS")?"bg-purple-50 border-purple-500 text-purple-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("BOOK"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${O==="BOOK"?"bg-amber-50 border-amber-500 text-amber-700":"hover:bg-gray-50"}`,children:""})]}),s.jsxs("form",{onSubmit:Te,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" () *"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:T.titleAr||"",onChange:J=>C({...T,titleAr:J.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg text-left",dir:"ltr",value:T.titleEn||"",onChange:J=>C({...T,titleEn:J.target.value})})]}),O.includes("PAPER")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Authors)"}),s.jsx("input",{type:"text",placeholder:"Ahmed M., Sara H., ...",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:J=>C({...T,authorNames:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:O==="JOURNAL_PAPER"?" ":" "}),O==="JOURNAL_PAPER"?s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.journalName||"",onChange:J=>C({...T,journalName:J.target.value})}):s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.conferenceName||"",onChange:J=>C({...T,conferenceName:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" DOI"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.doi||"",onChange:J=>C({...T,doi:J.target.value})})]})]}),O.includes("THESIS")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:J=>C({...T,authorNames:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.supervisors||"",onChange:J=>C({...T,supervisors:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded-lg",value:T.publicationYear||"",onChange:J=>C({...T,publicationYear:J.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded-lg",value:T.shelfLocation||"",onChange:J=>C({...T,shelfLocation:J.target.value})})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Abstract)"}),s.jsx("textarea",{rows:4,className:"w-full border p-2 rounded-lg",value:T.abstract||"",onChange:J=>C({...T,abstract:J.target.value})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 col-span-2",children:[s.jsx("h4",{className:"font-bold text-sm mb-2",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"   (Public PDF)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"w-4 h-4 text-gray-400"}),s.jsx("input",{type:"file",className:"text-sm",onChange:J=>P(J.target.files?J.target.files[0]:null)})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"   (:  )"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ( )"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lb,{className:"w-4 h-4 text-amber-400"}),s.jsx("input",{type:"file",className:"text-sm",onChange:J=>$(J.target.files?J.target.files[0]:null)})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"      "})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>n("BROWSE"),className:"px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:A,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[A?s.jsx(Ze,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," ",N?" ":" "]})]})]})]})]}),z&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95",children:[s.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[s.jsx(lb,{className:"w-5 h-5 text-amber-600"}),"   "]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"    .      ."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:ge,onChange:J=>re(J.target.value),children:[s.jsx("option",{value:"RESEARCH",children:" "}),s.jsx("option",{value:"CITATION",children:"   "}),s.jsx("option",{value:"OTHER",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,value:G,onChange:J=>Y(J.target.value),placeholder:" ..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{onClick:()=>B(null),className:"px-4 py-2 text-gray-500",children:""}),s.jsx("button",{onClick:De,className:"bg-amber-600 text-white px-4 py-2 rounded font-bold hover:bg-amber-700",children:" "})]})]})]})})]})},Oge=({user:t})=>{const[e,n]=w.useState("UNDERGRAD"),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,f]=w.useState([]),[h,p]=w.useState("Level 1"),[g,x]=w.useState("First"),[N,E]=w.useState("General"),[j,_]=w.useState(""),[O,R]=w.useState(!1),[M,T]=w.useState(null),[C,L]=w.useState({}),[P,U]=w.useState(!1),$=t.role===Ne.ADMIN||t.role===Ne.STAFF;w.useEffect(()=>{(async()=>{c(!0),await oge();const[H,he]=await Promise.all([L4(),Xh()]);a(H),f(he.map(X=>X.name)),c(!1)})()},[]);const A=async(Y,H)=>{if(window.confirm("      "))try{await lge(Y),await Se(" ",t.name,`  : ${H}`),a(he=>he.filter(X=>X.id!==Y))}catch{alert(" ")}},D=Y=>{Y?(T(Y.id),L(Y)):(T(null),L({level:"Level 1",semester:"First",division:"General",type:"Compulsory",creditHours:3,lectureHours:2,labHours:1})),R(!0)},z=async Y=>{Y.preventDefault(),U(!0);try{if(M)await sge(M,C),await Se(" ",t.name,`  : ${C.nameAr}`),a(H=>H.map(he=>he.id===M?{...he,...C}:he)),alert("  ");else{await ige(C),await Se(" ",t.name,`   : ${C.nameAr}`);const H=await L4();a(H),alert("  ")}R(!1)}catch{alert("   ")}finally{U(!1)}},B=async(Y,H)=>{try{const he=await el(H);L(X=>({...X,[Y]:he})),alert("   ")}catch(he){alert(" : "+he.message)}},ge=()=>{const Y=r.filter(H=>["Level 1","Level 2","Level 3","Level 4"].includes(H.level)&&H.level===h&&H.semester===g&&(h==="Level 3"||h==="Level 4"?H.division===N:!0)&&(H.nameAr.includes(j)||H.code.includes(j)));return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-wrap gap-4 items-end sticky top-0 z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:h,onChange:H=>p(H.target.value),children:[s.jsx("option",{value:"Level 1",children:" "}),s.jsx("option",{value:"Level 2",children:" "}),s.jsx("option",{value:"Level 3",children:" "}),s.jsx("option",{value:"Level 4",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:g,onChange:H=>x(H.target.value),children:[s.jsx("option",{value:"First",children:""}),s.jsx("option",{value:"Second",children:""})]})]}),(h==="Level 3"||h==="Level 4")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:N,onChange:H=>E(H.target.value),children:[s.jsx("option",{value:"General",children:" "}),s.jsx("option",{value:"Plant Pathology",children:"  "}),s.jsx("option",{value:"Genetics",children:" "}),s.jsx("option",{value:"Physiology",children:" "})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(ks,{className:"w-4 h-4 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full border p-2 pr-9 rounded focus:outline-none focus:border-green-500",placeholder:"   ...",value:j,onChange:H=>_(H.target.value)})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" (+)"}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" (Specs)"}),s.jsx("th",{className:"p-4",children:" "}),$&&s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[Y.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-mono font-bold text-blue-600",children:H.code}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-bold",children:H.nameAr}),s.jsx("div",{className:"text-xs text-gray-500",dir:"ltr",children:H.nameEn})]}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-bold",children:[H.creditHours," (",H.lectureHours,"+",H.labHours,")"]})}),s.jsx("td",{className:"p-4 text-gray-600",children:H.prerequisiteName?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-amber-50 text-amber-700 px-2 py-1 rounded border border-amber-200 cursor-help",title:"  ()",children:[s.jsx(Hz,{className:"w-3 h-3"})," ",H.prerequisiteName]}):"-"}),s.jsx("td",{className:"p-4",children:H.specsUrl?s.jsxs("a",{href:H.specsUrl,target:"_blank",className:"text-green-600 hover:underline flex items-center gap-1 text-xs font-bold",children:[s.jsx(ar,{className:"w-3 h-3"}),"  PDF"]}):s.jsx("span",{className:"text-gray-300 text-xs",children:" "})}),s.jsx("td",{className:"p-4",children:H.materialsUrl?s.jsxs("a",{href:H.materialsUrl,target:"_blank",className:"text-blue-600 hover:underline flex items-center gap-1 text-xs font-bold",children:[s.jsx(ku,{className:"w-3 h-3"}),"  "]}):s.jsx("span",{className:"text-gray-300 text-xs",children:" "})}),$&&s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>D(H),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(H.id,H.nameAr),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},H.id)),Y.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})},re=()=>{const Y=r.filter(H=>["Diploma","MSc","PhD"].includes(H.level)&&(H.nameAr.includes(j)||H.code.includes(j)));return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsx("div",{className:"flex gap-4 mb-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",className:"w-full border p-2 pr-10 rounded-lg focus:outline-none focus:border-green-500",placeholder:"    ...",value:j,onChange:H=>_(H.target.value)})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(H=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all relative group",children:[$&&s.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>D(H),className:"p-1.5 bg-blue-50 text-blue-600 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(H.id,H.nameAr),className:"p-1.5 bg-red-50 text-red-600 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${H.level==="MSc"?"bg-purple-100 text-purple-700":H.level==="PhD"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:H.level==="MSc"?"":H.level==="PhD"?"":""}),s.jsx("span",{className:"font-mono text-gray-400 font-bold",children:H.code})]}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:H.nameAr}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:H.nameEn}),s.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded mb-4 line-clamp-3",children:H.description||"   ."}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",H.creditHours," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",H.coordinator||" "]})]}),s.jsxs("div",{className:"flex gap-2 mt-auto pt-4 border-t",children:[H.materialsUrl?s.jsxs("a",{href:H.materialsUrl,target:"_blank",className:"flex-1 text-center bg-green-600 text-white py-2 rounded-lg text-sm hover:bg-green-700 flex items-center justify-center gap-1",children:[s.jsx(ku,{className:"w-4 h-4"}),"  "]}):s.jsx("button",{disabled:!0,className:"flex-1 bg-gray-100 text-gray-400 py-2 rounded-lg text-sm cursor-not-allowed",children:"  "}),H.specsUrl&&s.jsx("a",{href:H.specsUrl,target:"_blank",className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:" ",children:s.jsx(ar,{className:"w-4 h-4 text-gray-600"})})]})]},H.id))})]})},G=()=>s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 text-center animate-in fade-in",children:[s.jsx(Go,{className:"w-16 h-16 text-green-200 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"  (Course Map)"}),s.jsx("p",{className:"text-gray-500 mb-8",children:"      ."}),s.jsxs("div",{className:"inline-flex flex-col items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 text-green-800 rounded-lg font-bold border-2 border-green-200",children:"  (BOT101)"}),s.jsx("div",{className:"h-8 w-0.5 bg-gray-300"}),s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:" (BOT201)"}),s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:"  (BOT305)"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:" (BOT202)"}),s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:"  (BOT308)"})]})]})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-8",children:"*   "})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ui,{className:"w-8 h-8 text-green-600"}),"   "]}),$&&s.jsxs("button",{onClick:()=>D(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(Vt,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsxs("button",{onClick:()=>n("UNDERGRAD"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="UNDERGRAD"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Is,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("POSTGRAD"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="POSTGRAD"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(tB,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("MAP"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="MAP"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Go,{className:"w-4 h-4"}),"  "]})]}),s.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:l?s.jsx("div",{className:"text-center py-12",children:s.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs(s.Fragment,{children:[e==="UNDERGRAD"&&ge(),e==="POSTGRAD"&&re(),e==="MAP"&&G()]})}),O&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:M?"  ":"  "}),s.jsx("button",{onClick:()=>R(!1),children:s.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:C.nameAr||"",onChange:Y=>L({...C,nameAr:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded text-left",dir:"ltr",value:C.nameEn||"",onChange:Y=>L({...C,nameEn:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded uppercase font-mono",value:C.code||"",onChange:Y=>L({...C,code:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" / "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.level,onChange:Y=>L({...C,level:Y.target.value}),children:[s.jsx("option",{value:"Level 1",children:" "}),s.jsx("option",{value:"Level 2",children:" "}),s.jsx("option",{value:"Level 3",children:" "}),s.jsx("option",{value:"Level 4",children:" "}),s.jsx("option",{value:"Diploma",children:""}),s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),["Level 1","Level 2","Level 3","Level 4"].includes(C.level||"")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.semester,onChange:Y=>L({...C,semester:Y.target.value}),children:[s.jsx("option",{value:"First",children:""}),s.jsx("option",{value:"Second",children:""}),s.jsx("option",{value:"Summer",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" ()"}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.division,onChange:Y=>L({...C,division:Y.target.value}),children:[s.jsx("option",{value:"General",children:" / "}),s.jsx("option",{value:"Plant Pathology",children:" "}),s.jsx("option",{value:"Genetics",children:""}),s.jsx("option",{value:"Physiology",children:""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 col-span-2 bg-gray-50 p-3 rounded border",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.creditHours,onChange:Y=>L({...C,creditHours:parseInt(Y.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.lectureHours,onChange:Y=>L({...C,lectureHours:parseInt(Y.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.labHours,onChange:Y=>L({...C,labHours:parseInt(Y.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.coordinator||"",onChange:Y=>L({...C,coordinator:Y.target.value}),children:[s.jsx("option",{value:"",children:"--  --"}),d.map(Y=>s.jsx("option",{value:Y,children:Y},Y))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:": BOT101",value:C.prerequisiteName||"",onChange:Y=>L({...C,prerequisiteName:Y.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" /  "}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:2,value:C.description||"",onChange:Y=>L({...C,description:Y.target.value})})]})]}),s.jsxs("div",{className:"space-y-2 bg-blue-50 p-4 rounded border border-blue-100",children:[s.jsx("h4",{className:"font-bold text-blue-800 text-sm mb-2",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (Specs)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-specs",className:"hidden",onChange:Y=>Y.target.files&&B("specsUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-specs",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(rr,{className:"w-3 h-3"}),"  PDF"]}),C.specsUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (ILOs)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-ilos",className:"hidden",onChange:Y=>Y.target.files&&B("ilosUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-ilos",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(rr,{className:"w-3 h-3"}),"  PDF"]}),C.ilosUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (Materials)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-mat",className:"hidden",onChange:Y=>Y.target.files&&B("materialsUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-mat",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(rr,{className:"w-3 h-3"}),"  "]}),C.materialsUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-6 py-2 text-gray-600",children:""}),s.jsxs("button",{type:"submit",disabled:P,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[P&&s.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})})]})},Dge=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(!1),[f,h]=w.useState("");w.useEffect(()=>{(async()=>{try{await uge()}catch(x){console.error("Failed to seed initial data:",x)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),h("");try{const x=await Tme(n,a);x?e(x):h("      ")}catch(x){console.error(x),h("     (  )")}finally{d(!1)}};return t?s.jsx(_z,{children:s.jsx(OB,{user:t,onLogout:()=>{e(null),r(""),l("")},children:s.jsxs(ez,{children:[s.jsx(Xt,{path:"/",element:t.role===Ne.STUDENT_UG||t.role===Ne.STUDENT_PG?s.jsx(V4,{user:t}):t.role===Ne.ALUMNI?s.jsx(z4,{user:t}):s.jsx(dge,{})}),s.jsx(Xt,{path:"/staff",element:s.jsx(yge,{user:t})}),s.jsx(Xt,{path:"/outgoing",element:s.jsx(fge,{user:t})}),s.jsx(Xt,{path:"/incoming",element:s.jsx(hge,{user:t})}),s.jsx(Xt,{path:"/councils",element:s.jsx(mge,{user:t})}),s.jsx(Xt,{path:"/committees",element:s.jsx(pge,{user:t})}),s.jsx(Xt,{path:"/search",element:s.jsx(gge,{user:t})}),s.jsx(Xt,{path:"/students",element:s.jsx(V4,{user:t})}),s.jsx(Xt,{path:"/alumni",element:s.jsx(z4,{user:t})}),s.jsx(Xt,{path:"/users",element:s.jsx(vge,{user:t})}),s.jsx(Xt,{path:"/pg-manager",element:s.jsx(xge,{})}),s.jsx(Xt,{path:"/inventory",element:s.jsx(bge,{user:t})}),s.jsx(Xt,{path:"/labs",element:s.jsx(wge,{user:t})}),s.jsx(Xt,{path:"/greenhouse",element:s.jsx(Nge,{user:t})}),s.jsx(Xt,{path:"/events",element:s.jsx(_ge,{user:t})}),s.jsx(Xt,{path:"/formation",element:s.jsx(Ege,{user:t})}),s.jsx(Xt,{path:"/annual-report",element:s.jsx(Sge,{user:t})}),s.jsx(Xt,{path:"/research-plan",element:s.jsx(Age,{user:t})}),s.jsx(Xt,{path:"/leaves",element:s.jsx(Tge,{user:t})}),s.jsx(Xt,{path:"/career-movements",element:s.jsx(Cge,{user:t})}),s.jsx(Xt,{path:"/repository",element:s.jsx(Ige,{user:t})}),s.jsx(Xt,{path:"/courses",element:s.jsx(Oge,{user:t})})," ",s.jsx(Xt,{path:"/activity-log",element:s.jsx(jge,{})}),s.jsx(Xt,{path:"*",element:s.jsx(J7,{to:"/"})})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[s.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[s.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:s.jsx(Nu,{className:"w-16 h-16 text-green-700"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),s.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),s.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),s.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(ai,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(u1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"password",required:!0,value:a,onChange:g=>l(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),f&&s.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:f}),s.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?s.jsx(Ze,{className:"w-5 h-5 animate-spin"}):s.jsx(Bz,{className:"w-5 h-5"}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},v8=document.getElementById("root");if(!v8)throw new Error("Could not find root element to mount to");const Rge=o7.createRoot(v8);Rge.render(s.jsx(B4.StrictMode,{children:s.jsx(Dge,{})}));
