var K8=Object.defineProperty;var Y8=(t,e,n)=>e in t?K8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zx=(t,e,n)=>Y8(t,typeof e!="symbol"?e+"":e,n);function W8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Ji(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eb={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function X8(){if(m2)return mf;m2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:s}}return mf.Fragment=e,mf.jsx=n,mf.jsxs=n,mf}var p2;function Q8(){return p2||(p2=1,eb.exports=X8()),eb.exports}var l=Q8(),tb={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2;function J8(){if(g2)return tt;g2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function C(V,Y,H){this.props=V,this.context=Y,this.refs=j,this.updater=H||E}C.prototype.isReactComponent={},C.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function M(){}M.prototype=C.prototype;function k(V,Y,H){this.props=V,this.context=Y,this.refs=j,this.updater=H||E}var T=k.prototype=new M;T.constructor=k,_(T,C.prototype),T.isPureReactComponent=!0;var R=Array.isArray;function L(){}var D={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function $(V,Y,H){var J=H.ref;return{$$typeof:t,type:V,key:Y,ref:J!==void 0?J:null,props:H}}function A(V,Y){return $(V.type,Y,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function B(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(H){return Y[H]})}var z=/\/+/g;function me(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?B(""+V.key):Y.toString(36)}function ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(L,L):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,Y,H,J,fe){var Ee=typeof V;(Ee==="undefined"||Ee==="boolean")&&(V=null);var Te=!1;if(V===null)Te=!0;else switch(Ee){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(V.$$typeof){case t:case e:Te=!0;break;case p:return Te=V._init,G(Te(V._payload),Y,H,J,fe)}}if(Te)return fe=fe(V),Te=J===""?"."+me(V,0):J,R(fe)?(H="",Te!=null&&(H=Te.replace(z,"$&/")+"/"),G(fe,Y,H,"",function(ze){return ze})):fe!=null&&(O(fe)&&(fe=A(fe,H+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+Te)),Y.push(fe)),1;Te=0;var qe=J===""?".":J+":";if(R(V))for(var ce=0;ce<V.length;ce++)J=V[ce],Ee=qe+me(J,ce),Te+=G(J,Y,H,Ee,fe);else if(ce=N(V),typeof ce=="function")for(V=ce.call(V),ce=0;!(J=V.next()).done;)J=J.value,Ee=qe+me(J,ce++),Te+=G(J,Y,H,Ee,fe);else if(Ee==="object"){if(typeof V.then=="function")return G(ie(V),Y,H,J,fe);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Te}function re(V,Y,H){if(V==null)return V;var J=[],fe=0;return G(V,J,"","",function(Ee){return Y.call(H,Ee,fe++)}),J}function W(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(H){(V._status===0||V._status===-1)&&(V._status=1,V._result=H)},function(H){(V._status===0||V._status===-1)&&(V._status=2,V._result=H)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Q={map:re,forEach:function(V,Y,H){re(V,function(){Y.apply(this,arguments)},H)},count:function(V){var Y=0;return re(V,function(){Y++}),Y},toArray:function(V){return re(V,function(Y){return Y})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return tt.Activity=g,tt.Children=Q,tt.Component=C,tt.Fragment=n,tt.Profiler=a,tt.PureComponent=k,tt.StrictMode=r,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},tt.cache=function(V){return function(){return V.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(V,Y,H){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=_({},V.props),fe=V.key;if(Y!=null)for(Ee in Y.key!==void 0&&(fe=""+Y.key),Y)!U.call(Y,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Y.ref===void 0||(J[Ee]=Y[Ee]);var Ee=arguments.length-2;if(Ee===1)J.children=H;else if(1<Ee){for(var Te=Array(Ee),qe=0;qe<Ee;qe++)Te[qe]=arguments[qe+2];J.children=Te}return $(V.type,fe,J)},tt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:s,_context:V},V},tt.createElement=function(V,Y,H){var J,fe={},Ee=null;if(Y!=null)for(J in Y.key!==void 0&&(Ee=""+Y.key),Y)U.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=Y[J]);var Te=arguments.length-2;if(Te===1)fe.children=H;else if(1<Te){for(var qe=Array(Te),ce=0;ce<Te;ce++)qe[ce]=arguments[ce+2];fe.children=qe}if(V&&V.defaultProps)for(J in Te=V.defaultProps,Te)fe[J]===void 0&&(fe[J]=Te[J]);return $(V,Ee,fe)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(V){return{$$typeof:d,render:V}},tt.isValidElement=O,tt.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:W}},tt.memo=function(V,Y){return{$$typeof:h,type:V,compare:Y===void 0?null:Y}},tt.startTransition=function(V){var Y=D.T,H={};D.T=H;try{var J=V(),fe=D.S;fe!==null&&fe(H,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(L,ve)}catch(Ee){ve(Ee)}finally{Y!==null&&H.types!==null&&(Y.types=H.types),D.T=Y}},tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},tt.use=function(V){return D.H.use(V)},tt.useActionState=function(V,Y,H){return D.H.useActionState(V,Y,H)},tt.useCallback=function(V,Y){return D.H.useCallback(V,Y)},tt.useContext=function(V){return D.H.useContext(V)},tt.useDebugValue=function(){},tt.useDeferredValue=function(V,Y){return D.H.useDeferredValue(V,Y)},tt.useEffect=function(V,Y){return D.H.useEffect(V,Y)},tt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},tt.useId=function(){return D.H.useId()},tt.useImperativeHandle=function(V,Y,H){return D.H.useImperativeHandle(V,Y,H)},tt.useInsertionEffect=function(V,Y){return D.H.useInsertionEffect(V,Y)},tt.useLayoutEffect=function(V,Y){return D.H.useLayoutEffect(V,Y)},tt.useMemo=function(V,Y){return D.H.useMemo(V,Y)},tt.useOptimistic=function(V,Y){return D.H.useOptimistic(V,Y)},tt.useReducer=function(V,Y,H){return D.H.useReducer(V,Y,H)},tt.useRef=function(V){return D.H.useRef(V)},tt.useState=function(V){return D.H.useState(V)},tt.useSyncExternalStore=function(V,Y,H){return D.H.useSyncExternalStore(V,Y,H)},tt.useTransition=function(){return D.H.useTransition()},tt.version="19.2.0",tt}var y2;function Wu(){return y2||(y2=1,tb.exports=J8()),tb.exports}var w=Wu();const VP=Ji(w),Z8=W8({__proto__:null,default:VP},[w]);var nb={exports:{}},pf={},rb={exports:{}},ab={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function e7(){return v2||(v2=1,(function(t){function e(G,re){var W=G.length;G.push(re);e:for(;0<W;){var ve=W-1>>>1,Q=G[ve];if(0<a(Q,re))G[ve]=re,G[W]=Q,W=ve;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],W=G.pop();if(W!==re){G[0]=W;e:for(var ve=0,Q=G.length,V=Q>>>1;ve<V;){var Y=2*(ve+1)-1,H=G[Y],J=Y+1,fe=G[J];if(0>a(H,W))J<Q&&0>a(fe,H)?(G[ve]=fe,G[J]=W,ve=J):(G[ve]=H,G[Y]=W,ve=Y);else if(J<Q&&0>a(fe,W))G[ve]=fe,G[J]=W,ve=J;else break e}}return re}function a(G,re){var W=G.sortIndex-re.sortIndex;return W!==0?W:G.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],h=[],p=1,g=null,x=3,N=!1,E=!1,_=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function T(G){for(var re=n(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=G)r(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(h)}}function R(G){if(_=!1,T(G),!E)if(n(f)!==null)E=!0,L||(L=!0,B());else{var re=n(h);re!==null&&ie(R,re.startTime-G)}}var L=!1,D=-1,U=5,$=-1;function A(){return j?!0:!(t.unstable_now()-$<U)}function O(){if(j=!1,L){var G=t.unstable_now();$=G;var re=!0;try{e:{E=!1,_&&(_=!1,M(D),D=-1),N=!0;var W=x;try{t:{for(T(G),g=n(f);g!==null&&!(g.expirationTime>G&&A());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,x=g.priorityLevel;var Q=ve(g.expirationTime<=G);if(G=t.unstable_now(),typeof Q=="function"){g.callback=Q,T(G),re=!0;break t}g===n(f)&&r(f),T(G)}else r(f);g=n(f)}if(g!==null)re=!0;else{var V=n(h);V!==null&&ie(R,V.startTime-G),re=!1}}break e}finally{g=null,x=W,N=!1}re=void 0}}finally{re?B():L=!1}}}var B;if(typeof k=="function")B=function(){k(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,me=z.port2;z.port1.onmessage=O,B=function(){me.postMessage(null)}}else B=function(){C(O,0)};function ie(G,re){D=C(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var W=x;x=re;try{return G()}finally{x=W}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=x;x=G;try{return re()}finally{x=W}},t.unstable_scheduleCallback=function(G,re,W){var ve=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ve+W:ve):W=ve,G){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,G={id:p++,callback:re,priorityLevel:G,startTime:W,expirationTime:Q,sortIndex:-1},W>ve?(G.sortIndex=W,e(h,G),n(f)===null&&G===n(h)&&(_?(M(D),D=-1):_=!0,ie(R,W-ve))):(G.sortIndex=Q,e(f,G),E||N||(E=!0,L||(L=!0,B()))),G},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(G){var re=x;return function(){var W=x;x=re;try{return G.apply(this,arguments)}finally{x=W}}}})(ab)),ab}var x2;function t7(){return x2||(x2=1,rb.exports=e7()),rb.exports}var ib={exports:{}},gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function n7(){if(b2)return gr;b2=1;var t=Wu();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},gr.flushSync=function(f){var h=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=h,r.p=p,r.d.f()}},gr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,N=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:N}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:N,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},gr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},gr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=d(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},gr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,h){return f(h)},gr.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},gr.useFormStatus=function(){return c.H.useHostTransitionStatus()},gr.version="19.2.0",gr}var w2;function zP(){if(w2)return ib.exports;w2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ib.exports=n7(),ib.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function r7(){if(N2)return pf;N2=1;var t=t7(),e=Wu(),n=zP();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return f(v),i;if(b===m)return f(v),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=b;else{for(var I=!1,F=v.child;F;){if(F===u){I=!0,u=v,m=b;break}if(F===m){I=!0,m=v,u=b;break}F=F.sibling}if(!I){for(F=b.child;F;){if(F===u){I=!0,u=b,m=v;break}if(F===m){I=!0,m=b,u=v;break}F=F.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case L:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case k:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:me(i.type)||"Memo";case U:o=i._payload,i=i._init;try{return me(i(o))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ve=[],Q=-1;function V(i){return{current:i}}function Y(i){0>Q||(i.current=ve[Q],ve[Q]=null,Q--)}function H(i,o){Q++,ve[Q]=i.current,i.current=o}var J=V(null),fe=V(null),Ee=V(null),Te=V(null);function qe(i,o){switch(H(Ee,o),H(fe,i),H(J,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?LT(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=LT(o),i=UT(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(J),H(J,i)}function ce(){Y(J),Y(fe),Y(Ee)}function ze(i){i.memoizedState!==null&&H(Te,i);var o=J.current,u=UT(o,i.type);o!==u&&(H(fe,i),H(J,u))}function ee(i){fe.current===i&&(Y(J),Y(fe)),Te.current===i&&(Y(Te),uf._currentValue=W)}var he,at;function Ke(i){if(he===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",at=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+i+at}var Ot=!1;function je(i,o){if(!i||Ot)return"";Ot=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(de){var oe=de}Reflect.construct(i,[],we)}else{try{we.call()}catch(de){oe=de}i.call(we.prototype)}}else{try{throw Error()}catch(de){oe=de}(we=i())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(de){if(de&&oe&&typeof de.stack=="string")return[de.stack,oe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),I=b[0],F=b[1];if(I&&F){var K=I.split(`
`),se=F.split(`
`);for(v=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(m===K.length||v===se.length)for(m=K.length-1,v=se.length-1;1<=m&&0<=v&&K[m]!==se[v];)v--;for(;1<=m&&0<=v;m--,v--)if(K[m]!==se[v]){if(m!==1||v!==1)do if(m--,v--,0>v||K[m]!==se[v]){var ge=`
`+K[m].replace(" at new "," at ");return i.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",i.displayName)),ge}while(1<=m&&0<=v);break}}}finally{Ot=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Ke(u):""}function yt(i,o){switch(i.tag){case 26:case 27:case 5:return Ke(i.type);case 16:return Ke("Lazy");case 13:return i.child!==o&&o!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return je(i.type,!1);case 11:return je(i.type.render,!1);case 1:return je(i.type,!0);case 31:return Ke("Activity");default:return""}}function ye(i){try{var o="",u=null;do o+=yt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Qe=Object.prototype.hasOwnProperty,We=t.unstable_scheduleCallback,Rt=t.unstable_cancelCallback,hi=t.unstable_shouldYield,te=t.unstable_requestPaint,De=t.unstable_now,Ye=t.unstable_getCurrentPriorityLevel,Le=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,zt=t.unstable_NormalPriority,mi=t.unstable_LowPriority,Va=t.unstable_IdlePriority,Wh=t.log,Xh=t.unstable_setDisableYieldValue,za=null,ir=null;function ma(i){if(typeof Wh=="function"&&Xh(i),ir&&typeof ir.setStrictMode=="function")try{ir.setStrictMode(za,i)}catch{}}var pn=Math.clz32?Math.clz32:Jh,Qh=Math.log,_c=Math.LN2;function Jh(i){return i>>>=0,i===0?32:31-(Qh(i)/_c|0)|0}var pi=256,co=262144,jn=4194304;function gi(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var v=0,b=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var F=m&134217727;return F!==0?(m=F&~b,m!==0?v=gi(m):(I&=F,I!==0?v=gi(I):u||(u=F&~i,u!==0&&(v=gi(u))))):(F=m&~b,F!==0?v=gi(F):I!==0?v=gi(I):u||(u=m&~i,u!==0&&(v=gi(u)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:v}function Ba(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function rv(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(){var i=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),i}function vi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function uo(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function av(i,o,u,m,v,b){var I=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var F=i.entanglements,K=i.expirationTimes,se=i.hiddenUpdates;for(u=I&~u;0<u;){var ge=31-pn(u),we=1<<ge;F[ge]=0,K[ge]=-1;var oe=se[ge];if(oe!==null)for(se[ge]=null,ge=0;ge<oe.length;ge++){var de=oe[ge];de!==null&&(de.lane&=-536870913)}u&=~we}m!==0&&fo(i,m,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(I&~o))}function fo(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-pn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function md(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-pn(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}function pd(i,o){var u=o&-o;return u=(u&42)!==0?1:ho(u),(u&(i.suspendedLanes|o))!==0?0:u}function ho(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function em(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:l2(i.type))}function $a(i,o){var u=re.p;try{return re.p=i,o()}finally{re.p=u}}var Fa=Math.random().toString(36).slice(2),En="__reactFiber$"+Fa,Wn="__reactProps$"+Fa,xi="__reactContainer$"+Fa,jc="__reactEvents$"+Fa,iv="__reactListeners$"+Fa,tm="__reactHandles$"+Fa,nm="__reactResources$"+Fa,bi="__reactMarker$"+Fa;function Ec(i){delete i[En],delete i[Wn],delete i[jc],delete i[iv],delete i[tm]}function wi(i){var o=i[En];if(o)return o;for(var u=i.parentNode;u;){if(o=u[xi]||u[En]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=HT(i);i!==null;){if(u=i[En])return u;i=HT(i)}return o}i=u,u=i.parentNode}return null}function pa(i){if(i=i[En]||i[xi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Xr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Ni(i){var o=i[nm];return o||(o=i[nm]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Sn(i){i[bi]=!0}var gd=new Set,yd={};function _i(i,o){ji(i,o),ji(i+"Capture",o)}function ji(i,o){for(yd[i]=o,i=0;i<o.length;i++)gd.add(o[i])}var vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xd={},bd={};function rm(i){return Qe.call(bd,i)?!0:Qe.call(xd,i)?!1:vd.test(i)?bd[i]=!0:(xd[i]=!0,!1)}function Sc(i,o,u){if(rm(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Qr(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function An(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Js(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function wd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){u=""+I,b.call(this,I)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function At(i){if(!i._valueTracker){var o=Js(i)?"checked":"value";i._valueTracker=wd(i,o,""+i[o])}}function mo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=Js(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var po=/[\n"\\]/g;function Pr(i){return i.replace(po,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ac(i,o,u,m,v,b,I,F){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),o!=null?I==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Xn(o)):i.value!==""+Xn(o)&&(i.value=""+Xn(o)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),o!=null?Nd(i,I,Xn(o)):u!=null?Nd(i,I,Xn(u)):m!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+Xn(F):i.removeAttribute("name")}function am(i,o,u,m,v,b,I,F){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){At(i);return}u=u!=null?""+Xn(u):"",o=o!=null?""+Xn(o):u,F||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=F?i.checked:!!m,i.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),At(i)}function Nd(i,o,u){o==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Zs(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Xn(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function im(i,o,u){if(o!=null&&(o=""+Xn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Xn(u):""}function el(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(ie(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Xn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),At(i)}function kr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var sm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||sm.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function jd(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&_d(i,v,m)}else for(var b in o)o.hasOwnProperty(b)&&_d(i,b,o[b])}function Tc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cc(i){return tl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function qa(){}var Ed=null;function ga(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var nl=null,Si=null;function go(i){var o=pa(i);if(o&&(i=o.stateNode)){var u=i[Wn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ac(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=m[Wn]||null;if(!v)throw Error(r(90));Ac(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&mo(m)}break e;case"textarea":im(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Zs(i,!!u.multiple,o,!1)}}}var Ic=!1;function rl(i,o,u){if(Ic)return i(o,u);Ic=!0;try{var m=i(o);return m}finally{if(Ic=!1,(nl!==null||Si!==null)&&(ep(),nl&&(o=nl,i=Si,Si=nl=null,go(o),i)))for(o=0;o<i.length;o++)go(i[o])}}function Ha(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Wn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=!1;if(ya)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{yo=!1}var Ai=null,Sd=null,vo=null;function Ad(){if(vo)return vo;var i,o=Sd,u=o.length,m,v="value"in Ai?Ai.value:Ai.textContent,b=v.length;for(i=0;i<u&&o[i]===v[i];i++);var I=u-i;for(m=1;m<=I&&o[u-m]===v[b-m];m++);return vo=v.slice(i,1<m?1-m:void 0)}function xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function rs(){return!0}function Ga(){return!1}function sr(i){function o(u,m,v,b,I){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(u=i[F],this[F]=u?u(b):b[F]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?rs:Ga,this.isPropagationStopped=Ga,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),o}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=sr(as),al=g({},as,{view:0,detail:0}),Td=sr(al),il,Oc,Ci,Rc=g({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(il=i.screenX-Ci.screenX,Oc=i.screenY-Ci.screenY):Oc=il=0,Ci=i),il)},movementY:function(i){return"movementY"in i?i.movementY:Oc}}),Cd=sr(Rc),bo=g({},Rc,{dataTransfer:0}),om=sr(bo),cm=g({},al,{relatedTarget:0}),wo=sr(cm),Id=g({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),um=sr(Id),Dc=g({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dm=sr(Dc),fm=g({},as,{data:0}),Ii=sr(fm),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=pm[i])?!!o[i]:!1}function sl(){return gm}var Sr=g({},al,{key:function(i){if(i.key){var o=hm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(i){return i.type==="keypress"?xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ym=sr(Sr),vm=g({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=sr(vm),y=g({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),S=sr(y),P=g({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=sr(P),ne=g({},Rc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=sr(ne),Ae=g({},as,{newState:0,oldState:0}),it=sr(Ae),gn=[9,13,27,32],_t=ya&&"CompositionEvent"in window,Jt=null;ya&&"documentMode"in document&&(Jt=document.documentMode);var va=ya&&"TextEvent"in window&&!Jt,Oi=ya&&(!_t||Jt&&8<Jt&&11>=Jt),Ka=" ",Ya=!1;function No(i,o){switch(i){case"keyup":return gn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kc=!1;function yV(i,o){switch(i){case"compositionend":return Pc(o);case"keypress":return o.which!==32?null:(Ya=!0,Ka);case"textInput":return i=o.data,i===Ka&&Ya?null:i;default:return null}}function vV(i,o){if(kc)return i==="compositionend"||!_t&&No(i,o)?(i=Ad(),vo=Sd=Ai=null,kc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Oi&&o.locale!=="ko"?null:o.data;default:return null}}var xV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YE(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!xV[i.type]:o==="textarea"}function WE(i,o,u,m){nl?Si?Si.push(m):Si=[m]:nl=m,o=lp(o,"onChange"),0<o.length&&(u=new Ti("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Od=null,Rd=null;function bV(i){OT(i,0)}function xm(i){var o=Xr(i);if(mo(o))return i}function XE(i,o){if(i==="change")return o}var QE=!1;if(ya){var sv;if(ya){var lv="oninput"in document;if(!lv){var JE=document.createElement("div");JE.setAttribute("oninput","return;"),lv=typeof JE.oninput=="function"}sv=lv}else sv=!1;QE=sv&&(!document.documentMode||9<document.documentMode)}function ZE(){Od&&(Od.detachEvent("onpropertychange",eS),Rd=Od=null)}function eS(i){if(i.propertyName==="value"&&xm(Rd)){var o=[];WE(o,Rd,i,ga(i)),rl(bV,o)}}function wV(i,o,u){i==="focusin"?(ZE(),Od=o,Rd=u,Od.attachEvent("onpropertychange",eS)):i==="focusout"&&ZE()}function NV(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xm(Rd)}function _V(i,o){if(i==="click")return xm(o)}function jV(i,o){if(i==="input"||i==="change")return xm(o)}function EV(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jr=typeof Object.is=="function"?Object.is:EV;function Dd(i,o){if(Jr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Qe.call(o,v)||!Jr(i[v],o[v]))return!1}return!0}function tS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nS(i,o){var u=tS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=tS(u)}}function rS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?rS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function aS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ei(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ei(i.document)}return o}function ov(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var SV=ya&&"documentMode"in document&&11>=document.documentMode,Mc=null,cv=null,Pd=null,uv=!1;function iS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;uv||Mc==null||Mc!==Ei(m)||(m=Mc,"selectionStart"in m&&ov(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Pd&&Dd(Pd,m)||(Pd=m,m=lp(cv,"onSelect"),0<m.length&&(o=new Ti("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Mc)))}function _o(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Lc={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},dv={},sS={};ya&&(sS=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function jo(i){if(dv[i])return dv[i];if(!Lc[i])return i;var o=Lc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in sS)return dv[i]=o[u];return i}var lS=jo("animationend"),oS=jo("animationiteration"),cS=jo("animationstart"),AV=jo("transitionrun"),TV=jo("transitionstart"),CV=jo("transitioncancel"),uS=jo("transitionend"),dS=new Map,fv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fv.push("scrollEnd");function Wa(i,o){dS.set(i,o),_i(o,[i])}var bm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xa=[],Uc=0,hv=0;function wm(){for(var i=Uc,o=hv=Uc=0;o<i;){var u=xa[o];xa[o++]=null;var m=xa[o];xa[o++]=null;var v=xa[o];xa[o++]=null;var b=xa[o];if(xa[o++]=null,m!==null&&v!==null){var I=m.pending;I===null?v.next=v:(v.next=I.next,I.next=v),m.pending=v}b!==0&&fS(u,v,b)}}function Nm(i,o,u,m){xa[Uc++]=i,xa[Uc++]=o,xa[Uc++]=u,xa[Uc++]=m,hv|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function mv(i,o,u,m){return Nm(i,o,u,m),_m(i)}function Eo(i,o){return Nm(i,null,null,o),_m(i)}function fS(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var v=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&o!==null&&(v=31-pn(u),i=b.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=u|536870912),b):null}function _m(i){if(50<nf)throw nf=0,_x=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Vc={};function IV(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(i,o,u,m){return new IV(i,o,u,m)}function pv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,o){var u=i.alternate;return u===null?(u=Zr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function hS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function jm(i,o,u,m,v,b){var I=0;if(m=i,typeof i=="function")pv(i)&&(I=1);else if(typeof i=="string")I=k8(i,u,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=Zr(31,u,o,v),i.elementType=$,i.lanes=b,i;case _:return So(u.children,v,b,o);case j:I=8,v|=24;break;case C:return i=Zr(12,u,o,v|2),i.elementType=C,i.lanes=b,i;case R:return i=Zr(13,u,o,v),i.elementType=R,i.lanes=b,i;case L:return i=Zr(19,u,o,v),i.elementType=L,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:I=10;break e;case M:I=9;break e;case T:I=11;break e;case D:I=14;break e;case U:I=16,m=null;break e}I=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=Zr(I,u,o,v),o.elementType=i,o.type=m,o.lanes=b,o}function So(i,o,u,m){return i=Zr(7,i,m,o),i.lanes=u,i}function gv(i,o,u){return i=Zr(6,i,null,o),i.lanes=u,i}function mS(i){var o=Zr(18,null,null,0);return o.stateNode=i,o}function yv(i,o,u){return o=Zr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var pS=new WeakMap;function ba(i,o){if(typeof i=="object"&&i!==null){var u=pS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:ye(o)},pS.set(i,o),o)}return{value:i,source:o,stack:ye(o)}}var zc=[],Bc=0,Em=null,kd=0,wa=[],Na=0,ll=null,Ri=1,Di="";function ls(i,o){zc[Bc++]=kd,zc[Bc++]=Em,Em=i,kd=o}function gS(i,o,u){wa[Na++]=Ri,wa[Na++]=Di,wa[Na++]=ll,ll=i;var m=Ri;i=Di;var v=32-pn(m)-1;m&=~(1<<v),u+=1;var b=32-pn(o)+v;if(30<b){var I=v-v%5;b=(m&(1<<I)-1).toString(32),m>>=I,v-=I,Ri=1<<32-pn(o)+v|u<<v|m,Di=b+i}else Ri=1<<b|u<<v|m,Di=i}function vv(i){i.return!==null&&(ls(i,1),gS(i,1,0))}function xv(i){for(;i===Em;)Em=zc[--Bc],zc[Bc]=null,kd=zc[--Bc],zc[Bc]=null;for(;i===ll;)ll=wa[--Na],wa[Na]=null,Di=wa[--Na],wa[Na]=null,Ri=wa[--Na],wa[Na]=null}function yS(i,o){wa[Na++]=Ri,wa[Na++]=Di,wa[Na++]=ll,Ri=o.id,Di=o.overflow,ll=i}var lr=null,Yt=null,gt=!1,ol=null,_a=!1,bv=Error(r(519));function cl(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Md(ba(o,i)),bv}function vS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[En]=i,o[Wn]=m,u){case"dialog":ct("cancel",o),ct("close",o);break;case"iframe":case"object":case"embed":ct("load",o);break;case"video":case"audio":for(u=0;u<af.length;u++)ct(af[u],o);break;case"source":ct("error",o);break;case"img":case"image":case"link":ct("error",o),ct("load",o);break;case"details":ct("toggle",o);break;case"input":ct("invalid",o),am(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ct("invalid",o);break;case"textarea":ct("invalid",o),el(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||kT(o.textContent,u)?(m.popover!=null&&(ct("beforetoggle",o),ct("toggle",o)),m.onScroll!=null&&ct("scroll",o),m.onScrollEnd!=null&&ct("scrollend",o),m.onClick!=null&&(o.onclick=qa),o=!0):o=!1,o||cl(i,!0)}function xS(i){for(lr=i.return;lr;)switch(lr.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:lr=lr.return}}function $c(i){if(i!==lr)return!1;if(!gt)return xS(i),gt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Ux(i.type,i.memoizedProps)),u=!u),u&&Yt&&cl(i),xS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=qT(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=qT(i)}else o===27?(o=Yt,_l(i.type)?(i=Fx,Fx=null,Yt=i):Yt=o):Yt=lr?Ea(i.stateNode.nextSibling):null;return!0}function Ao(){Yt=lr=null,gt=!1}function wv(){var i=ol;return i!==null&&(Vr===null?Vr=i:Vr.push.apply(Vr,i),ol=null),i}function Md(i){ol===null?ol=[i]:ol.push(i)}var Nv=V(null),To=null,os=null;function ul(i,o,u){H(Nv,o._currentValue),o._currentValue=u}function cs(i){i._currentValue=Nv.current,Y(Nv)}function _v(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function jv(i,o,u,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var I=v.child;b=b.firstContext;e:for(;b!==null;){var F=b;b=v;for(var K=0;K<o.length;K++)if(F.context===o[K]){b.lanes|=u,F=b.alternate,F!==null&&(F.lanes|=u),_v(b.return,u,i),m||(I=null);break e}b=F.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=u,b=I.alternate,b!==null&&(b.lanes|=u),_v(I,u,i),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===i){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function Fc(i,o,u,m){i=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var F=v.type;Jr(v.pendingProps.value,I.value)||(i!==null?i.push(F):i=[F])}}else if(v===Te.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(uf):i=[uf])}v=v.return}i!==null&&jv(o,i,u,m),o.flags|=262144}function Sm(i){for(i=i.firstContext;i!==null;){if(!Jr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Co(i){To=i,os=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function or(i){return bS(To,i)}function Am(i,o){return To===null&&Co(i),bS(i,o)}function bS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},os===null){if(i===null)throw Error(r(308));os=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else os=os.next=o;return u}var OV=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},RV=t.unstable_scheduleCallback,DV=t.unstable_NormalPriority,Tn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ev(){return{controller:new OV,data:new Map,refCount:0}}function Ld(i){i.refCount--,i.refCount===0&&RV(DV,function(){i.controller.abort()})}var Ud=null,Sv=0,qc=0,Hc=null;function PV(i,o){if(Ud===null){var u=Ud=[];Sv=0,qc=Cx(),Hc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Sv++,o.then(wS,wS),o}function wS(){if(--Sv===0&&Ud!==null){Hc!==null&&(Hc.status="fulfilled");var i=Ud;Ud=null,qc=0,Hc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function kV(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var NS=G.S;G.S=function(i,o){iT=De(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&PV(i,o),NS!==null&&NS(i,o)};var Io=V(null);function Av(){var i=Io.current;return i!==null?i:Bt.pooledCache}function Tm(i,o){o===null?H(Io,Io.current):H(Io,o.pool)}function _S(){var i=Av();return i===null?null:{parent:Tn._currentValue,pool:i}}var Gc=Error(r(460)),Tv=Error(r(474)),Cm=Error(r(542)),Im={then:function(){}};function jS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ES(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(qa,qa),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,AS(i),i;default:if(typeof o.status=="string")o.then(qa,qa);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,AS(i),i}throw Ro=o,Gc}}function Oo(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ro=u,Gc):u}}var Ro=null;function SS(){if(Ro===null)throw Error(r(459));var i=Ro;return Ro=null,i}function AS(i){if(i===Gc||i===Cm)throw Error(r(483))}var Kc=null,Vd=0;function Om(i){var o=Vd;return Vd+=1,Kc===null&&(Kc=[]),ES(Kc,i,o)}function zd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Rm(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function TS(i){function o(Z,X){if(i){var ae=Z.deletions;ae===null?(Z.deletions=[X],Z.flags|=16):ae.push(X)}}function u(Z,X){if(!i)return null;for(;X!==null;)o(Z,X),X=X.sibling;return null}function m(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function v(Z,X){return Z=ss(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,ae){return Z.index=ae,i?(ae=Z.alternate,ae!==null?(ae=ae.index,ae<X?(Z.flags|=67108866,X):ae):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function I(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function F(Z,X,ae,xe){return X===null||X.tag!==6?(X=gv(ae,Z.mode,xe),X.return=Z,X):(X=v(X,ae),X.return=Z,X)}function K(Z,X,ae,xe){var Be=ae.type;return Be===_?ge(Z,X,ae.props.children,xe,ae.key):X!==null&&(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===U&&Oo(Be)===X.type)?(X=v(X,ae.props),zd(X,ae),X.return=Z,X):(X=jm(ae.type,ae.key,ae.props,null,Z.mode,xe),zd(X,ae),X.return=Z,X)}function se(Z,X,ae,xe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=yv(ae,Z.mode,xe),X.return=Z,X):(X=v(X,ae.children||[]),X.return=Z,X)}function ge(Z,X,ae,xe,Be){return X===null||X.tag!==7?(X=So(ae,Z.mode,xe,Be),X.return=Z,X):(X=v(X,ae),X.return=Z,X)}function we(Z,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=gv(""+X,Z.mode,ae),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return ae=jm(X.type,X.key,X.props,null,Z.mode,ae),zd(ae,X),ae.return=Z,ae;case E:return X=yv(X,Z.mode,ae),X.return=Z,X;case U:return X=Oo(X),we(Z,X,ae)}if(ie(X)||B(X))return X=So(X,Z.mode,ae,null),X.return=Z,X;if(typeof X.then=="function")return we(Z,Om(X),ae);if(X.$$typeof===k)return we(Z,Am(Z,X),ae);Rm(Z,X)}return null}function oe(Z,X,ae,xe){var Be=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Be!==null?null:F(Z,X,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:return ae.key===Be?K(Z,X,ae,xe):null;case E:return ae.key===Be?se(Z,X,ae,xe):null;case U:return ae=Oo(ae),oe(Z,X,ae,xe)}if(ie(ae)||B(ae))return Be!==null?null:ge(Z,X,ae,xe,null);if(typeof ae.then=="function")return oe(Z,X,Om(ae),xe);if(ae.$$typeof===k)return oe(Z,X,Am(Z,ae),xe);Rm(Z,ae)}return null}function de(Z,X,ae,xe,Be){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return Z=Z.get(ae)||null,F(X,Z,""+xe,Be);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case N:return Z=Z.get(xe.key===null?ae:xe.key)||null,K(X,Z,xe,Be);case E:return Z=Z.get(xe.key===null?ae:xe.key)||null,se(X,Z,xe,Be);case U:return xe=Oo(xe),de(Z,X,ae,xe,Be)}if(ie(xe)||B(xe))return Z=Z.get(ae)||null,ge(X,Z,xe,Be,null);if(typeof xe.then=="function")return de(Z,X,ae,Om(xe),Be);if(xe.$$typeof===k)return de(Z,X,ae,Am(X,xe),Be);Rm(X,xe)}return null}function ke(Z,X,ae,xe){for(var Be=null,xt=null,Me=X,lt=X=0,ft=null;Me!==null&&lt<ae.length;lt++){Me.index>lt?(ft=Me,Me=null):ft=Me.sibling;var bt=oe(Z,Me,ae[lt],xe);if(bt===null){Me===null&&(Me=ft);break}i&&Me&&bt.alternate===null&&o(Z,Me),X=b(bt,X,lt),xt===null?Be=bt:xt.sibling=bt,xt=bt,Me=ft}if(lt===ae.length)return u(Z,Me),gt&&ls(Z,lt),Be;if(Me===null){for(;lt<ae.length;lt++)Me=we(Z,ae[lt],xe),Me!==null&&(X=b(Me,X,lt),xt===null?Be=Me:xt.sibling=Me,xt=Me);return gt&&ls(Z,lt),Be}for(Me=m(Me);lt<ae.length;lt++)ft=de(Me,Z,lt,ae[lt],xe),ft!==null&&(i&&ft.alternate!==null&&Me.delete(ft.key===null?lt:ft.key),X=b(ft,X,lt),xt===null?Be=ft:xt.sibling=ft,xt=ft);return i&&Me.forEach(function(Tl){return o(Z,Tl)}),gt&&ls(Z,lt),Be}function He(Z,X,ae,xe){if(ae==null)throw Error(r(151));for(var Be=null,xt=null,Me=X,lt=X=0,ft=null,bt=ae.next();Me!==null&&!bt.done;lt++,bt=ae.next()){Me.index>lt?(ft=Me,Me=null):ft=Me.sibling;var Tl=oe(Z,Me,bt.value,xe);if(Tl===null){Me===null&&(Me=ft);break}i&&Me&&Tl.alternate===null&&o(Z,Me),X=b(Tl,X,lt),xt===null?Be=Tl:xt.sibling=Tl,xt=Tl,Me=ft}if(bt.done)return u(Z,Me),gt&&ls(Z,lt),Be;if(Me===null){for(;!bt.done;lt++,bt=ae.next())bt=we(Z,bt.value,xe),bt!==null&&(X=b(bt,X,lt),xt===null?Be=bt:xt.sibling=bt,xt=bt);return gt&&ls(Z,lt),Be}for(Me=m(Me);!bt.done;lt++,bt=ae.next())bt=de(Me,Z,lt,bt.value,xe),bt!==null&&(i&&bt.alternate!==null&&Me.delete(bt.key===null?lt:bt.key),X=b(bt,X,lt),xt===null?Be=bt:xt.sibling=bt,xt=bt);return i&&Me.forEach(function(G8){return o(Z,G8)}),gt&&ls(Z,lt),Be}function Mt(Z,X,ae,xe){if(typeof ae=="object"&&ae!==null&&ae.type===_&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:e:{for(var Be=ae.key;X!==null;){if(X.key===Be){if(Be=ae.type,Be===_){if(X.tag===7){u(Z,X.sibling),xe=v(X,ae.props.children),xe.return=Z,Z=xe;break e}}else if(X.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===U&&Oo(Be)===X.type){u(Z,X.sibling),xe=v(X,ae.props),zd(xe,ae),xe.return=Z,Z=xe;break e}u(Z,X);break}else o(Z,X);X=X.sibling}ae.type===_?(xe=So(ae.props.children,Z.mode,xe,ae.key),xe.return=Z,Z=xe):(xe=jm(ae.type,ae.key,ae.props,null,Z.mode,xe),zd(xe,ae),xe.return=Z,Z=xe)}return I(Z);case E:e:{for(Be=ae.key;X!==null;){if(X.key===Be)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){u(Z,X.sibling),xe=v(X,ae.children||[]),xe.return=Z,Z=xe;break e}else{u(Z,X);break}else o(Z,X);X=X.sibling}xe=yv(ae,Z.mode,xe),xe.return=Z,Z=xe}return I(Z);case U:return ae=Oo(ae),Mt(Z,X,ae,xe)}if(ie(ae))return ke(Z,X,ae,xe);if(B(ae)){if(Be=B(ae),typeof Be!="function")throw Error(r(150));return ae=Be.call(ae),He(Z,X,ae,xe)}if(typeof ae.then=="function")return Mt(Z,X,Om(ae),xe);if(ae.$$typeof===k)return Mt(Z,X,Am(Z,ae),xe);Rm(Z,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,X!==null&&X.tag===6?(u(Z,X.sibling),xe=v(X,ae),xe.return=Z,Z=xe):(u(Z,X),xe=gv(ae,Z.mode,xe),xe.return=Z,Z=xe),I(Z)):u(Z,X)}return function(Z,X,ae,xe){try{Vd=0;var Be=Mt(Z,X,ae,xe);return Kc=null,Be}catch(Me){if(Me===Gc||Me===Cm)throw Me;var xt=Zr(29,Me,null,Z.mode);return xt.lanes=xe,xt.return=Z,xt}finally{}}}var Do=TS(!0),CS=TS(!1),dl=!1;function Cv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hl(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=_m(i),fS(i,null,u),o}return Nm(i,m,o,u),_m(i)}function Bd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,md(i,u)}}function Ov(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=I:b=b.next=I,u=u.next}while(u!==null);b===null?v=b=o:b=b.next=o}else v=b=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Rv=!1;function $d(){if(Rv){var i=Hc;if(i!==null)throw i}}function Fd(i,o,u,m){Rv=!1;var v=i.updateQueue;dl=!1;var b=v.firstBaseUpdate,I=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var K=F,se=K.next;K.next=null,I===null?b=se:I.next=se,I=K;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,F=ge.lastBaseUpdate,F!==I&&(F===null?ge.firstBaseUpdate=se:F.next=se,ge.lastBaseUpdate=K))}if(b!==null){var we=v.baseState;I=0,ge=se=K=null,F=b;do{var oe=F.lane&-536870913,de=oe!==F.lane;if(de?(dt&oe)===oe:(m&oe)===oe){oe!==0&&oe===qc&&(Rv=!0),ge!==null&&(ge=ge.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var ke=i,He=F;oe=o;var Mt=u;switch(He.tag){case 1:if(ke=He.payload,typeof ke=="function"){we=ke.call(Mt,we,oe);break e}we=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=He.payload,oe=typeof ke=="function"?ke.call(Mt,we,oe):ke,oe==null)break e;we=g({},we,oe);break e;case 2:dl=!0}}oe=F.callback,oe!==null&&(i.flags|=64,de&&(i.flags|=8192),de=v.callbacks,de===null?v.callbacks=[oe]:de.push(oe))}else de={lane:oe,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ge===null?(se=ge=de,K=we):ge=ge.next=de,I|=oe;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;de=F,F=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);ge===null&&(K=we),v.baseState=K,v.firstBaseUpdate=se,v.lastBaseUpdate=ge,b===null&&(v.shared.lanes=0),vl|=I,i.lanes=I,i.memoizedState=we}}function IS(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function OS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)IS(u[i],o)}var Yc=V(null),Dm=V(0);function RS(i,o){i=vs,H(Dm,i),H(Yc,o),vs=i|o.baseLanes}function Dv(){H(Dm,vs),H(Yc,Yc.current)}function Pv(){vs=Dm.current,Y(Yc),Y(Dm)}var ea=V(null),ja=null;function ml(i){var o=i.alternate;H(yn,yn.current&1),H(ea,i),ja===null&&(o===null||Yc.current!==null||o.memoizedState!==null)&&(ja=i)}function kv(i){H(yn,yn.current),H(ea,i),ja===null&&(ja=i)}function DS(i){i.tag===22?(H(yn,yn.current),H(ea,i),ja===null&&(ja=i)):pl()}function pl(){H(yn,yn.current),H(ea,ea.current)}function ta(i){Y(ea),ja===i&&(ja=null),Y(yn)}var yn=V(0);function Pm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Bx(u)||$x(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var us=0,st=null,Pt=null,Cn=null,km=!1,Wc=!1,Po=!1,Mm=0,qd=0,Xc=null,MV=0;function fn(){throw Error(r(321))}function Mv(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jr(i[u],o[u]))return!1;return!0}function Lv(i,o,u,m,v,b){return us=b,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=i===null||i.memoizedState===null?gA:Jv,Po=!1,b=u(m,v),Po=!1,Wc&&(b=kS(o,u,m,v)),PS(i),b}function PS(i){G.H=Kd;var o=Pt!==null&&Pt.next!==null;if(us=0,Cn=Pt=st=null,km=!1,qd=0,Xc=null,o)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Sm(i)&&(In=!0))}function kS(i,o,u,m){st=i;var v=0;do{if(Wc&&(Xc=null),qd=0,Wc=!1,25<=v)throw Error(r(301));if(v+=1,Cn=Pt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=yA,b=o(u,m)}while(Wc);return b}function LV(){var i=G.H,o=i.useState()[0];return o=typeof o.then=="function"?Hd(o):o,i=i.useState()[0],(Pt!==null?Pt.memoizedState:null)!==i&&(st.flags|=1024),o}function Uv(){var i=Mm!==0;return Mm=0,i}function Vv(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function zv(i){if(km){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}km=!1}us=0,Cn=Pt=st=null,Wc=!1,qd=Mm=0,Xc=null}function Ar(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?st.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function vn(){if(Pt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var o=Cn===null?st.memoizedState:Cn.next;if(o!==null)Cn=o,Pt=i;else{if(i===null)throw st.alternate===null?Error(r(467)):Error(r(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Cn===null?st.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function Lm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hd(i){var o=qd;return qd+=1,Xc===null&&(Xc=[]),i=ES(Xc,i,o),o=st,(Cn===null?o.memoizedState:Cn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?gA:Jv),i}function Um(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hd(i);if(i.$$typeof===k)return or(i)}throw Error(r(438,String(i)))}function Bv(i){var o=null,u=st.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=st.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Lm(),st.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=A;return o.index++,u}function ds(i,o){return typeof o=="function"?o(i):o}function Vm(i){var o=vn();return $v(o,Pt,i)}function $v(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=i.baseQueue,b=m.pending;if(b!==null){if(v!==null){var I=v.next;v.next=b.next,b.next=I}o.baseQueue=v=b,m.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{o=v.next;var F=I=null,K=null,se=o,ge=!1;do{var we=se.lane&-536870913;if(we!==se.lane?(dt&we)===we:(us&we)===we){var oe=se.revertLane;if(oe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),we===qc&&(ge=!0);else if((us&oe)===oe){se=se.next,oe===qc&&(ge=!0);continue}else we={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(F=K=we,I=b):K=K.next=we,st.lanes|=oe,vl|=oe;we=se.action,Po&&u(b,we),b=se.hasEagerState?se.eagerState:u(b,we)}else oe={lane:we,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},K===null?(F=K=oe,I=b):K=K.next=oe,st.lanes|=we,vl|=we;se=se.next}while(se!==null&&se!==o);if(K===null?I=b:K.next=F,!Jr(b,i.memoizedState)&&(In=!0,ge&&(u=Hc,u!==null)))throw u;i.memoizedState=b,i.baseState=I,i.baseQueue=K,m.lastRenderedState=b}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Fv(i){var o=vn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,b=o.memoizedState;if(v!==null){u.pending=null;var I=v=v.next;do b=i(b,I.action),I=I.next;while(I!==v);Jr(b,o.memoizedState)||(In=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function MS(i,o,u){var m=st,v=vn(),b=gt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var I=!Jr((Pt||v).memoizedState,u);if(I&&(v.memoizedState=u,In=!0),v=v.queue,Gv(VS.bind(null,m,v,i),[i]),v.getSnapshot!==o||I||Cn!==null&&Cn.memoizedState.tag&1){if(m.flags|=2048,Qc(9,{destroy:void 0},US.bind(null,m,v,u,o),null),Bt===null)throw Error(r(349));b||(us&127)!==0||LS(m,o,u)}return u}function LS(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o=Lm(),st.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function US(i,o,u,m){o.value=u,o.getSnapshot=m,zS(o)&&BS(i)}function VS(i,o,u){return u(function(){zS(o)&&BS(i)})}function zS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jr(i,u)}catch{return!0}}function BS(i){var o=Eo(i,2);o!==null&&zr(o,i,2)}function qv(i){var o=Ar();if(typeof i=="function"){var u=i;if(i=u(),Po){ma(!0);try{u()}finally{ma(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:i},o}function $S(i,o,u,m){return i.baseState=u,$v(i,Pt,typeof m=="function"?m:ds)}function UV(i,o,u,m,v){if($m(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};G.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,FS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function FS(i,o){var u=o.action,m=o.payload,v=i.state;if(o.isTransition){var b=G.T,I={};G.T=I;try{var F=u(v,m),K=G.S;K!==null&&K(I,F),qS(i,o,F)}catch(se){Hv(i,o,se)}finally{b!==null&&I.types!==null&&(b.types=I.types),G.T=b}}else try{b=u(v,m),qS(i,o,b)}catch(se){Hv(i,o,se)}}function qS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){HS(i,o,m)},function(m){return Hv(i,o,m)}):HS(i,o,u)}function HS(i,o,u){o.status="fulfilled",o.value=u,GS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,FS(i,u)))}function Hv(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,GS(o),o=o.next;while(o!==m)}i.action=null}function GS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function KS(i,o){return o}function YS(i,o){if(gt){var u=Bt.formState;if(u!==null){e:{var m=st;if(gt){if(Yt){t:{for(var v=Yt,b=_a;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ea(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Yt=Ea(v.nextSibling),m=v.data==="F!";break e}}cl(m)}m=!1}m&&(o=u[0])}}return u=Ar(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:KS,lastRenderedState:o},u.queue=m,u=hA.bind(null,st,m),m.dispatch=u,m=qv(!1),b=Qv.bind(null,st,!1,m.queue),m=Ar(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,u=UV.bind(null,st,v,b,u),v.dispatch=u,m.memoizedState=i,[o,u,!1]}function WS(i){var o=vn();return XS(o,Pt,i)}function XS(i,o,u){if(o=$v(i,o,KS)[0],i=Vm(ds)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Hd(o)}catch(I){throw I===Gc?Cm:I}else m=o;o=vn();var v=o.queue,b=v.dispatch;return u!==o.memoizedState&&(st.flags|=2048,Qc(9,{destroy:void 0},VV.bind(null,v,u),null)),[m,b,i]}function VV(i,o){i.action=o}function QS(i){var o=vn(),u=Pt;if(u!==null)return XS(o,u,i);vn(),o=o.memoizedState,u=vn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function Qc(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=st.updateQueue,o===null&&(o=Lm(),st.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function JS(){return vn().memoizedState}function zm(i,o,u,m){var v=Ar();st.flags|=i,v.memoizedState=Qc(1|o,{destroy:void 0},u,m===void 0?null:m)}function Bm(i,o,u,m){var v=vn();m=m===void 0?null:m;var b=v.memoizedState.inst;Pt!==null&&m!==null&&Mv(m,Pt.memoizedState.deps)?v.memoizedState=Qc(o,b,u,m):(st.flags|=i,v.memoizedState=Qc(1|o,b,u,m))}function ZS(i,o){zm(8390656,8,i,o)}function Gv(i,o){Bm(2048,8,i,o)}function zV(i){st.flags|=4;var o=st.updateQueue;if(o===null)o=Lm(),st.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function eA(i){var o=vn().memoizedState;return zV({ref:o,nextImpl:i}),function(){if((jt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function tA(i,o){return Bm(4,2,i,o)}function nA(i,o){return Bm(4,4,i,o)}function rA(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function aA(i,o,u){u=u!=null?u.concat([i]):null,Bm(4,4,rA.bind(null,o,i),u)}function Kv(){}function iA(i,o){var u=vn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Mv(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function sA(i,o){var u=vn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Mv(o,m[1]))return m[0];if(m=i(),Po){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m}function Yv(i,o,u){return u===void 0||(us&1073741824)!==0&&(dt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=lT(),st.lanes|=i,vl|=i,u)}function lA(i,o,u,m){return Jr(u,o)?u:Yc.current!==null?(i=Yv(i,u,m),Jr(i,o)||(In=!0),i):(us&42)===0||(us&1073741824)!==0&&(dt&261930)===0?(In=!0,i.memoizedState=u):(i=lT(),st.lanes|=i,vl|=i,o)}function oA(i,o,u,m,v){var b=re.p;re.p=b!==0&&8>b?b:8;var I=G.T,F={};G.T=F,Qv(i,!1,o,u);try{var K=v(),se=G.S;if(se!==null&&se(F,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ge=kV(K,m);Gd(i,o,ge,aa(i))}else Gd(i,o,m,aa(i))}catch(we){Gd(i,o,{then:function(){},status:"rejected",reason:we},aa())}finally{re.p=b,I!==null&&F.types!==null&&(I.types=F.types),G.T=I}}function BV(){}function Wv(i,o,u,m){if(i.tag!==5)throw Error(r(476));var v=cA(i).queue;oA(i,v,o,W,u===null?BV:function(){return uA(i),u(m)})}function cA(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:W},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function uA(i){var o=cA(i);o.next===null&&(o=i.alternate.memoizedState),Gd(i,o.next.queue,{},aa())}function Xv(){return or(uf)}function dA(){return vn().memoizedState}function fA(){return vn().memoizedState}function $V(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=aa();i=fl(u);var m=hl(o,i,u);m!==null&&(zr(m,o,u),Bd(m,o,u)),o={cache:Ev()},i.payload=o;return}o=o.return}}function FV(i,o,u){var m=aa();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},$m(i)?mA(o,u):(u=mv(i,o,u,m),u!==null&&(zr(u,i,m),pA(u,o,m)))}function hA(i,o,u){var m=aa();Gd(i,o,u,m)}function Gd(i,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if($m(i))mA(o,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var I=o.lastRenderedState,F=b(I,u);if(v.hasEagerState=!0,v.eagerState=F,Jr(F,I))return Nm(i,o,v,0),Bt===null&&wm(),!1}catch{}finally{}if(u=mv(i,o,v,m),u!==null)return zr(u,i,m),pA(u,o,m),!0}return!1}function Qv(i,o,u,m){if(m={lane:2,revertLane:Cx(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},$m(i)){if(o)throw Error(r(479))}else o=mv(i,u,m,2),o!==null&&zr(o,i,2)}function $m(i){var o=i.alternate;return i===st||o!==null&&o===st}function mA(i,o){Wc=km=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function pA(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,md(i,u)}}var Kd={readContext:or,use:Um,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Kd.useEffectEvent=fn;var gA={readContext:or,use:Um,useCallback:function(i,o){return Ar().memoizedState=[i,o===void 0?null:o],i},useContext:or,useEffect:ZS,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,zm(4194308,4,rA.bind(null,o,i),u)},useLayoutEffect:function(i,o){return zm(4194308,4,i,o)},useInsertionEffect:function(i,o){zm(4,2,i,o)},useMemo:function(i,o){var u=Ar();o=o===void 0?null:o;var m=i();if(Po){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Ar();if(u!==void 0){var v=u(o);if(Po){ma(!0);try{u(o)}finally{ma(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=FV.bind(null,st,i),[m.memoizedState,i]},useRef:function(i){var o=Ar();return i={current:i},o.memoizedState=i},useState:function(i){i=qv(i);var o=i.queue,u=hA.bind(null,st,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Kv,useDeferredValue:function(i,o){var u=Ar();return Yv(u,i,o)},useTransition:function(){var i=qv(!1);return i=oA.bind(null,st,i.queue,!0,!1),Ar().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=st,v=Ar();if(gt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Bt===null)throw Error(r(349));(dt&127)!==0||LS(m,o,u)}v.memoizedState=u;var b={value:u,getSnapshot:o};return v.queue=b,ZS(VS.bind(null,m,b,i),[i]),m.flags|=2048,Qc(9,{destroy:void 0},US.bind(null,m,b,u,o),null),u},useId:function(){var i=Ar(),o=Bt.identifierPrefix;if(gt){var u=Di,m=Ri;u=(m&~(1<<32-pn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Mm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=MV++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Xv,useFormState:YS,useActionState:YS,useOptimistic:function(i){var o=Ar();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qv.bind(null,st,!0,u),u.dispatch=o,[i,o]},useMemoCache:Bv,useCacheRefresh:function(){return Ar().memoizedState=$V.bind(null,st)},useEffectEvent:function(i){var o=Ar(),u={impl:i};return o.memoizedState=u,function(){if((jt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Jv={readContext:or,use:Um,useCallback:iA,useContext:or,useEffect:Gv,useImperativeHandle:aA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:sA,useReducer:Vm,useRef:JS,useState:function(){return Vm(ds)},useDebugValue:Kv,useDeferredValue:function(i,o){var u=vn();return lA(u,Pt.memoizedState,i,o)},useTransition:function(){var i=Vm(ds)[0],o=vn().memoizedState;return[typeof i=="boolean"?i:Hd(i),o]},useSyncExternalStore:MS,useId:dA,useHostTransitionStatus:Xv,useFormState:WS,useActionState:WS,useOptimistic:function(i,o){var u=vn();return $S(u,Pt,i,o)},useMemoCache:Bv,useCacheRefresh:fA};Jv.useEffectEvent=eA;var yA={readContext:or,use:Um,useCallback:iA,useContext:or,useEffect:Gv,useImperativeHandle:aA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:sA,useReducer:Fv,useRef:JS,useState:function(){return Fv(ds)},useDebugValue:Kv,useDeferredValue:function(i,o){var u=vn();return Pt===null?Yv(u,i,o):lA(u,Pt.memoizedState,i,o)},useTransition:function(){var i=Fv(ds)[0],o=vn().memoizedState;return[typeof i=="boolean"?i:Hd(i),o]},useSyncExternalStore:MS,useId:dA,useHostTransitionStatus:Xv,useFormState:QS,useActionState:QS,useOptimistic:function(i,o){var u=vn();return Pt!==null?$S(u,Pt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Bv,useCacheRefresh:fA};yA.useEffectEvent=eA;function Zv(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ex={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=aa(),v=fl(m);v.payload=o,u!=null&&(v.callback=u),o=hl(i,v,m),o!==null&&(zr(o,i,m),Bd(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=aa(),v=fl(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=hl(i,v,m),o!==null&&(zr(o,i,m),Bd(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=aa(),m=fl(u);m.tag=2,o!=null&&(m.callback=o),o=hl(i,m,u),o!==null&&(zr(o,i,u),Bd(o,i,u))}};function vA(i,o,u,m,v,b,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,I):o.prototype&&o.prototype.isPureReactComponent?!Dd(u,m)||!Dd(v,b):!0}function xA(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&ex.enqueueReplaceState(o,o.state,null)}function ko(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}function bA(i){bm(i)}function wA(i){console.error(i)}function NA(i){bm(i)}function Fm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function _A(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function tx(i,o,u){return u=fl(u),u.tag=3,u.payload={element:null},u.callback=function(){Fm(i,o)},u}function jA(i){return i=fl(i),i.tag=3,i}function EA(i,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;i.payload=function(){return v(b)},i.callback=function(){_A(o,u,m)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){_A(o,u,m),typeof v!="function"&&(xl===null?xl=new Set([this]):xl.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function qV(i,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Fc(o,u,v,!0),u=ea.current,u!==null){switch(u.tag){case 31:case 13:return ja===null?tp():u.alternate===null&&hn===0&&(hn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Im?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Sx(i,m,v)),!1;case 22:return u.flags|=65536,m===Im?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Sx(i,m,v)),!1}throw Error(r(435,u.tag))}return Sx(i,m,v),tp(),!1}if(gt)return o=ea.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==bv&&(i=Error(r(422),{cause:m}),Md(ba(i,u)))):(m!==bv&&(o=Error(r(423),{cause:m}),Md(ba(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=ba(m,u),v=tx(i.stateNode,m,v),Ov(i,v),hn!==4&&(hn=2)),!1;var b=Error(r(520),{cause:m});if(b=ba(b,u),tf===null?tf=[b]:tf.push(b),hn!==4&&(hn=2),o===null)return!0;m=ba(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=tx(u.stateNode,m,i),Ov(u,i),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xl===null||!xl.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=jA(v),EA(v,i,u,m),Ov(u,v),!1}u=u.return}while(u!==null);return!1}var nx=Error(r(461)),In=!1;function cr(i,o,u,m){o.child=i===null?CS(o,null,u,m):Do(o,i.child,u,m)}function SA(i,o,u,m,v){u=u.render;var b=o.ref;if("ref"in m){var I={};for(var F in m)F!=="ref"&&(I[F]=m[F])}else I=m;return Co(o),m=Lv(i,o,u,I,b,v),F=Uv(),i!==null&&!In?(Vv(i,o,v),fs(i,o,v)):(gt&&F&&vv(o),o.flags|=1,cr(i,o,m,v),o.child)}function AA(i,o,u,m,v){if(i===null){var b=u.type;return typeof b=="function"&&!pv(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,TA(i,o,b,m,v)):(i=jm(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!ux(i,v)){var I=b.memoizedProps;if(u=u.compare,u=u!==null?u:Dd,u(I,m)&&i.ref===o.ref)return fs(i,o,v)}return o.flags|=1,i=ss(b,m),i.ref=o.ref,i.return=o,o.child=i}function TA(i,o,u,m,v){if(i!==null){var b=i.memoizedProps;if(Dd(b,m)&&i.ref===o.ref)if(In=!1,o.pendingProps=m=b,ux(i,v))(i.flags&131072)!==0&&(In=!0);else return o.lanes=i.lanes,fs(i,o,v)}return rx(i,o,u,m,v)}function CA(i,o,u,m){var v=m.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,o.child=null;return IA(i,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Tm(o,b!==null?b.cachePool:null),b!==null?RS(o,b):Dv(),DS(o);else return m=o.lanes=536870912,IA(i,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Tm(o,b.cachePool),RS(o,b),pl(),o.memoizedState=null):(i!==null&&Tm(o,null),Dv(),pl());return cr(i,o,v,u),o.child}function Yd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function IA(i,o,u,m,v){var b=Av();return b=b===null?null:{parent:Tn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},i!==null&&Tm(o,null),Dv(),DS(o),i!==null&&Fc(i,o,m,!0),o.childLanes=v,null}function qm(i,o){return o=Gm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function OA(i,o,u){return Do(o,i.child,null,u),i=qm(o,o.pendingProps),i.flags|=2,ta(o),o.memoizedState=null,i}function HV(i,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(gt){if(m.mode==="hidden")return i=qm(o,m),o.lanes=536870912,Yd(null,i);if(kv(o),(i=Yt)?(i=FT(i,_a),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ll!==null?{id:Ri,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},u=mS(i),u.return=o,o.child=u,lr=o,Yt=null)):i=null,i===null)throw cl(o);return o.lanes=536870912,null}return qm(o,m)}var b=i.memoizedState;if(b!==null){var I=b.dehydrated;if(kv(o),v)if(o.flags&256)o.flags&=-257,o=OA(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(In||Fc(i,o,u,!1),v=(u&i.childLanes)!==0,In||v){if(m=Bt,m!==null&&(I=pd(m,u),I!==0&&I!==b.retryLane))throw b.retryLane=I,Eo(i,I),zr(m,i,I),nx;tp(),o=OA(i,o,u)}else i=b.treeContext,Yt=Ea(I.nextSibling),lr=o,gt=!0,ol=null,_a=!1,i!==null&&yS(o,i),o=qm(o,m),o.flags|=4096;return o}return i=ss(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Hm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function rx(i,o,u,m,v){return Co(o),u=Lv(i,o,u,m,void 0,v),m=Uv(),i!==null&&!In?(Vv(i,o,v),fs(i,o,v)):(gt&&m&&vv(o),o.flags|=1,cr(i,o,u,v),o.child)}function RA(i,o,u,m,v,b){return Co(o),o.updateQueue=null,u=kS(o,m,u,v),PS(i),m=Uv(),i!==null&&!In?(Vv(i,o,b),fs(i,o,b)):(gt&&m&&vv(o),o.flags|=1,cr(i,o,u,b),o.child)}function DA(i,o,u,m,v){if(Co(o),o.stateNode===null){var b=Vc,I=u.contextType;typeof I=="object"&&I!==null&&(b=or(I)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ex,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Cv(o),I=u.contextType,b.context=typeof I=="object"&&I!==null?or(I):Vc,b.state=o.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Zv(o,u,I,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&ex.enqueueReplaceState(b,b.state,null),Fd(o,m,b,v),$d(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){b=o.stateNode;var F=o.memoizedProps,K=ko(u,F);b.props=K;var se=b.context,ge=u.contextType;I=Vc,typeof ge=="object"&&ge!==null&&(I=or(ge));var we=u.getDerivedStateFromProps;ge=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,ge||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(F||se!==I)&&xA(o,b,m,I),dl=!1;var oe=o.memoizedState;b.state=oe,Fd(o,m,b,v),$d(),se=o.memoizedState,F||oe!==se||dl?(typeof we=="function"&&(Zv(o,u,we,m),se=o.memoizedState),(K=dl||vA(o,u,K,m,oe,se,I))?(ge||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=se),b.props=m,b.state=se,b.context=I,m=K):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Iv(i,o),I=o.memoizedProps,ge=ko(u,I),b.props=ge,we=o.pendingProps,oe=b.context,se=u.contextType,K=Vc,typeof se=="object"&&se!==null&&(K=or(se)),F=u.getDerivedStateFromProps,(se=typeof F=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==we||oe!==K)&&xA(o,b,m,K),dl=!1,oe=o.memoizedState,b.state=oe,Fd(o,m,b,v),$d();var de=o.memoizedState;I!==we||oe!==de||dl||i!==null&&i.dependencies!==null&&Sm(i.dependencies)?(typeof F=="function"&&(Zv(o,u,F,m),de=o.memoizedState),(ge=dl||vA(o,u,ge,m,oe,de,K)||i!==null&&i.dependencies!==null&&Sm(i.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,de,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,de,K)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=de),b.props=m,b.state=de,b.context=K,m=ge):(typeof b.componentDidUpdate!="function"||I===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),m=!1)}return b=m,Hm(i,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&m?(o.child=Do(o,i.child,null,v),o.child=Do(o,null,u,v)):cr(i,o,u,v),o.memoizedState=b.state,i=o.child):i=fs(i,o,v),i}function PA(i,o,u,m){return Ao(),o.flags|=256,cr(i,o,u,m),o.child}var ax={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ix(i){return{baseLanes:i,cachePool:_S()}}function sx(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=ra),i}function kA(i,o,u){var m=o.pendingProps,v=!1,b=(o.flags&128)!==0,I;if((I=b)||(I=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,i===null){if(gt){if(v?ml(o):pl(),(i=Yt)?(i=FT(i,_a),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ll!==null?{id:Ri,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},u=mS(i),u.return=o,o.child=u,lr=o,Yt=null)):i=null,i===null)throw cl(o);return $x(i)?o.lanes=32:o.lanes=536870912,null}var F=m.children;return m=m.fallback,v?(pl(),v=o.mode,F=Gm({mode:"hidden",children:F},v),m=So(m,v,u,null),F.return=o,m.return=o,F.sibling=m,o.child=F,m=o.child,m.memoizedState=ix(u),m.childLanes=sx(i,I,u),o.memoizedState=ax,Yd(null,m)):(ml(o),lx(o,F))}var K=i.memoizedState;if(K!==null&&(F=K.dehydrated,F!==null)){if(b)o.flags&256?(ml(o),o.flags&=-257,o=ox(i,o,u)):o.memoizedState!==null?(pl(),o.child=i.child,o.flags|=128,o=null):(pl(),F=m.fallback,v=o.mode,m=Gm({mode:"visible",children:m.children},v),F=So(F,v,u,null),F.flags|=2,m.return=o,F.return=o,m.sibling=F,o.child=m,Do(o,i.child,null,u),m=o.child,m.memoizedState=ix(u),m.childLanes=sx(i,I,u),o.memoizedState=ax,o=Yd(null,m));else if(ml(o),$x(F)){if(I=F.nextSibling&&F.nextSibling.dataset,I)var se=I.dgst;I=se,m=Error(r(419)),m.stack="",m.digest=I,Md({value:m,source:null,stack:null}),o=ox(i,o,u)}else if(In||Fc(i,o,u,!1),I=(u&i.childLanes)!==0,In||I){if(I=Bt,I!==null&&(m=pd(I,u),m!==0&&m!==K.retryLane))throw K.retryLane=m,Eo(i,m),zr(I,i,m),nx;Bx(F)||tp(),o=ox(i,o,u)}else Bx(F)?(o.flags|=192,o.child=i.child,o=null):(i=K.treeContext,Yt=Ea(F.nextSibling),lr=o,gt=!0,ol=null,_a=!1,i!==null&&yS(o,i),o=lx(o,m.children),o.flags|=4096);return o}return v?(pl(),F=m.fallback,v=o.mode,K=i.child,se=K.sibling,m=ss(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,se!==null?F=ss(se,F):(F=So(F,v,u,null),F.flags|=2),F.return=o,m.return=o,m.sibling=F,o.child=m,Yd(null,m),m=o.child,F=i.child.memoizedState,F===null?F=ix(u):(v=F.cachePool,v!==null?(K=Tn._currentValue,v=v.parent!==K?{parent:K,pool:K}:v):v=_S(),F={baseLanes:F.baseLanes|u,cachePool:v}),m.memoizedState=F,m.childLanes=sx(i,I,u),o.memoizedState=ax,Yd(i.child,m)):(ml(o),u=i.child,i=u.sibling,u=ss(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(I=o.deletions,I===null?(o.deletions=[i],o.flags|=16):I.push(i)),o.child=u,o.memoizedState=null,u)}function lx(i,o){return o=Gm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Gm(i,o){return i=Zr(22,i,null,o),i.lanes=0,i}function ox(i,o,u){return Do(o,i.child,null,u),i=lx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function MA(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),_v(i.return,o,u)}function cx(i,o,u,m,v,b){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:b}:(I.isBackwards=o,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=u,I.tailMode=v,I.treeForkCount=b)}function LA(i,o,u){var m=o.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var I=yn.current,F=(I&2)!==0;if(F?(I=I&1|2,o.flags|=128):I&=1,H(yn,I),cr(i,o,m,u),m=gt?kd:0,!F&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&MA(i,u,o);else if(i.tag===19)MA(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Pm(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),cx(o,!1,v,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Pm(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}cx(o,!0,u,null,b,m);break;case"together":cx(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function fs(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),vl|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Fc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=ss(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ss(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ux(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Sm(i)))}function GV(i,o,u){switch(o.tag){case 3:qe(o,o.stateNode.containerInfo),ul(o,Tn,i.memoizedState.cache),Ao();break;case 27:case 5:ze(o);break;case 4:qe(o,o.stateNode.containerInfo);break;case 10:ul(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,kv(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ml(o),o.flags|=128,null):(u&o.child.childLanes)!==0?kA(i,o,u):(ml(o),i=fs(i,o,u),i!==null?i.sibling:null);ml(o);break;case 19:var v=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Fc(i,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return LA(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(yn,yn.current),m)break;return null;case 22:return o.lanes=0,CA(i,o,u,o.pendingProps);case 24:ul(o,Tn,i.memoizedState.cache)}return fs(i,o,u)}function UA(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)In=!0;else{if(!ux(i,u)&&(o.flags&128)===0)return In=!1,GV(i,o,u);In=(i.flags&131072)!==0}else In=!1,gt&&(o.flags&1048576)!==0&&gS(o,kd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Oo(o.elementType),o.type=i,typeof i=="function")pv(i)?(m=ko(i,m),o.tag=1,o=DA(null,o,i,m,u)):(o.tag=0,o=rx(null,o,i,m,u));else{if(i!=null){var v=i.$$typeof;if(v===T){o.tag=11,o=SA(null,o,i,m,u);break e}else if(v===D){o.tag=14,o=AA(null,o,i,m,u);break e}}throw o=me(i)||i,Error(r(306,o,""))}}return o;case 0:return rx(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=ko(m,o.pendingProps),DA(i,o,m,v,u);case 3:e:{if(qe(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;v=b.element,Iv(i,o),Fd(o,m,null,u);var I=o.memoizedState;if(m=I.cache,ul(o,Tn,m),m!==b.cache&&jv(o,[Tn],u,!0),$d(),m=I.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=PA(i,o,m,u);break e}else if(m!==v){v=ba(Error(r(424)),o),Md(v),o=PA(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Yt=Ea(i.firstChild),lr=o,gt=!0,ol=null,_a=!0,u=CS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ao(),m===v){o=fs(i,o,u);break e}cr(i,o,m,u)}o=o.child}return o;case 26:return Hm(i,o),i===null?(u=WT(o.type,null,o.pendingProps,null))?o.memoizedState=u:gt||(u=o.type,i=o.pendingProps,m=op(Ee.current).createElement(u),m[En]=o,m[Wn]=i,ur(m,u,i),Sn(m),o.stateNode=m):o.memoizedState=WT(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ze(o),i===null&&gt&&(m=o.stateNode=GT(o.type,o.pendingProps,Ee.current),lr=o,_a=!0,v=Yt,_l(o.type)?(Fx=v,Yt=Ea(m.firstChild)):Yt=v),cr(i,o,o.pendingProps.children,u),Hm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&gt&&((v=m=Yt)&&(m=N8(m,o.type,o.pendingProps,_a),m!==null?(o.stateNode=m,lr=o,Yt=Ea(m.firstChild),_a=!1,v=!0):v=!1),v||cl(o)),ze(o),v=o.type,b=o.pendingProps,I=i!==null?i.memoizedProps:null,m=b.children,Ux(v,b)?m=null:I!==null&&Ux(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=Lv(i,o,LV,null,null,u),uf._currentValue=v),Hm(i,o),cr(i,o,m,u),o.child;case 6:return i===null&&gt&&((i=u=Yt)&&(u=_8(u,o.pendingProps,_a),u!==null?(o.stateNode=u,lr=o,Yt=null,i=!0):i=!1),i||cl(o)),null;case 13:return kA(i,o,u);case 4:return qe(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Do(o,null,m,u):cr(i,o,m,u),o.child;case 11:return SA(i,o,o.type,o.pendingProps,u);case 7:return cr(i,o,o.pendingProps,u),o.child;case 8:return cr(i,o,o.pendingProps.children,u),o.child;case 12:return cr(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,ul(o,o.type,m.value),cr(i,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Co(o),v=or(v),m=m(v),o.flags|=1,cr(i,o,m,u),o.child;case 14:return AA(i,o,o.type,o.pendingProps,u);case 15:return TA(i,o,o.type,o.pendingProps,u);case 19:return LA(i,o,u);case 31:return HV(i,o,u);case 22:return CA(i,o,u,o.pendingProps);case 24:return Co(o),m=or(Tn),i===null?(v=Av(),v===null&&(v=Bt,b=Ev(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),o.memoizedState={parent:m,cache:v},Cv(o),ul(o,Tn,v)):((i.lanes&u)!==0&&(Iv(i,o),Fd(o,null,null,u),$d()),v=i.memoizedState,b=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ul(o,Tn,m)):(m=b.cache,ul(o,Tn,m),m!==v.cache&&jv(o,[Tn],u,!0))),cr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function hs(i){i.flags|=4}function dx(i,o,u,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(dT())i.flags|=8192;else throw Ro=Im,Tv}else i.flags&=-16777217}function VA(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!e2(o))if(dT())i.flags|=8192;else throw Ro=Im,Tv}function Km(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Zh():536870912,i.lanes|=o,tu|=o)}function Wd(i,o){if(!gt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function KV(i,o,u){var m=o.pendingProps;switch(xv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),cs(Tn),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&($c(o)?hs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,wv())),Wt(o),null;case 26:var v=o.type,b=o.memoizedState;return i===null?(hs(o),b!==null?(Wt(o),VA(o,b)):(Wt(o),dx(o,v,null,m,u))):b?b!==i.memoizedState?(hs(o),Wt(o),VA(o,b)):(Wt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&hs(o),Wt(o),dx(o,v,i,m,u)),null;case 27:if(ee(o),u=Ee.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&hs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}i=J.current,$c(o)?vS(o):(i=GT(v,m,u),o.stateNode=i,hs(o))}return Wt(o),null;case 5:if(ee(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&hs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(b=J.current,$c(o))vS(o);else{var I=op(Ee.current);switch(b){case 1:b=I.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=I.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=I.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=I.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?I.createElement(v,{is:m.is}):I.createElement(v)}}b[En]=o,b[Wn]=m;e:for(I=o.child;I!==null;){if(I.tag===5||I.tag===6)b.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break e;for(;I.sibling===null;){if(I.return===null||I.return===o)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}o.stateNode=b;e:switch(ur(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&hs(o)}}return Wt(o),dx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&hs(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ee.current,$c(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,v=lr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[En]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||kT(i.nodeValue,u)),i||cl(o,!0)}else i=op(i).createTextNode(m),i[En]=o,o.stateNode=i}return Wt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=$c(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[En]=o}else Ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),i=!1}else u=wv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(ta(o),o):(ta(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Wt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=$c(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[En]=o}else Ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else v=wv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(ta(o),o):(ta(o),null)}return ta(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Km(o,o.updateQueue),Wt(o),null);case 4:return ce(),i===null&&Dx(o.stateNode.containerInfo),Wt(o),null;case 10:return cs(o.type),Wt(o),null;case 19:if(Y(yn),m=o.memoizedState,m===null)return Wt(o),null;if(v=(o.flags&128)!==0,b=m.rendering,b===null)if(v)Wd(m,!1);else{if(hn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Pm(i),b!==null){for(o.flags|=128,Wd(m,!1),i=b.updateQueue,o.updateQueue=i,Km(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)hS(u,i),u=u.sibling;return H(yn,yn.current&1|2),gt&&ls(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&De()>Jm&&(o.flags|=128,v=!0,Wd(m,!1),o.lanes=4194304)}else{if(!v)if(i=Pm(b),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,Km(o,i),Wd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!gt)return Wt(o),null}else 2*De()-m.renderingStartTime>Jm&&u!==536870912&&(o.flags|=128,v=!0,Wd(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=De(),i.sibling=null,u=yn.current,H(yn,v?u&1|2:u&1),gt&&ls(o,m.treeForkCount),i):(Wt(o),null);case 22:case 23:return ta(o),Pv(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),u=o.updateQueue,u!==null&&Km(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&Y(Io),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),cs(Tn),Wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function YV(i,o){switch(xv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return cs(Tn),ce(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ee(o),null;case 31:if(o.memoizedState!==null){if(ta(o),o.alternate===null)throw Error(r(340));Ao()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(ta(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ao()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Y(yn),null;case 4:return ce(),null;case 10:return cs(o.type),null;case 22:case 23:return ta(o),Pv(),i!==null&&Y(Io),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return cs(Tn),null;case 25:return null;default:return null}}function zA(i,o){switch(xv(o),o.tag){case 3:cs(Tn),ce();break;case 26:case 27:case 5:ee(o);break;case 4:ce();break;case 31:o.memoizedState!==null&&ta(o);break;case 13:ta(o);break;case 19:Y(yn);break;case 10:cs(o.type);break;case 22:case 23:ta(o),Pv(),i!==null&&Y(Io);break;case 24:cs(Tn)}}function Xd(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&i)===i){m=void 0;var b=u.create,I=u.inst;m=b(),I.destroy=m}u=u.next}while(u!==v)}}catch(F){Ct(o,o.return,F)}}function gl(i,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&i)===i){var I=m.inst,F=I.destroy;if(F!==void 0){I.destroy=void 0,v=o;var K=u,se=F;try{se()}catch(ge){Ct(v,K,ge)}}}m=m.next}while(m!==b)}}catch(ge){Ct(o,o.return,ge)}}function BA(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{OS(o,u)}catch(m){Ct(i,i.return,m)}}}function $A(i,o,u){u.props=ko(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Ct(i,o,m)}}function Qd(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(v){Ct(i,o,v)}}function Pi(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){Ct(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ct(i,o,v)}else u.current=null}function FA(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){Ct(i,i.return,v)}}function fx(i,o,u){try{var m=i.stateNode;g8(m,i.type,u,o),m[Wn]=o}catch(v){Ct(i,i.return,v)}}function qA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_l(i.type)||i.tag===4}function hx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_l(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mx(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=qa));else if(m!==4&&(m===27&&_l(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(mx(i,o,u),i=i.sibling;i!==null;)mx(i,o,u),i=i.sibling}function Ym(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&_l(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Ym(i,o,u),i=i.sibling;i!==null;)Ym(i,o,u),i=i.sibling}function HA(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);ur(o,m,u),o[En]=i,o[Wn]=u}catch(b){Ct(i,i.return,b)}}var ms=!1,On=!1,px=!1,GA=typeof WeakSet=="function"?WeakSet:Set,Qn=null;function WV(i,o){if(i=i.containerInfo,Mx=pp,i=aS(i),ov(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var I=0,F=-1,K=-1,se=0,ge=0,we=i,oe=null;t:for(;;){for(var de;we!==u||v!==0&&we.nodeType!==3||(F=I+v),we!==b||m!==0&&we.nodeType!==3||(K=I+m),we.nodeType===3&&(I+=we.nodeValue.length),(de=we.firstChild)!==null;)oe=we,we=de;for(;;){if(we===i)break t;if(oe===u&&++se===v&&(F=I),oe===b&&++ge===m&&(K=I),(de=we.nextSibling)!==null)break;we=oe,oe=we.parentNode}we=de}u=F===-1||K===-1?null:{start:F,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lx={focusedElem:i,selectionRange:u},pp=!1,Qn=o;Qn!==null;)if(o=Qn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Qn=i;else for(;Qn!==null;){switch(o=Qn,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)v=i[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=o,v=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var ke=ko(u.type,v);i=m.getSnapshotBeforeUpdate(ke,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(He){Ct(u,u.return,He)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)zx(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Qn=i;break}Qn=o.return}}function KA(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:gs(i,u),m&4&&Xd(5,u);break;case 1:if(gs(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(I){Ct(u,u.return,I)}else{var v=ko(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Ct(u,u.return,I)}}m&64&&BA(u),m&512&&Qd(u,u.return);break;case 3:if(gs(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{OS(i,o)}catch(I){Ct(u,u.return,I)}}break;case 27:o===null&&m&4&&HA(u);case 26:case 5:gs(i,u),o===null&&m&4&&FA(u),m&512&&Qd(u,u.return);break;case 12:gs(i,u);break;case 31:gs(i,u),m&4&&XA(i,u);break;case 13:gs(i,u),m&4&&QA(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=a8.bind(null,u),j8(i,u))));break;case 22:if(m=u.memoizedState!==null||ms,!m){o=o!==null&&o.memoizedState!==null||On,v=ms;var b=On;ms=m,(On=o)&&!b?ys(i,u,(u.subtreeFlags&8772)!==0):gs(i,u),ms=v,On=b}break;case 30:break;default:gs(i,u)}}function YA(i){var o=i.alternate;o!==null&&(i.alternate=null,YA(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ec(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,Mr=!1;function ps(i,o,u){for(u=u.child;u!==null;)WA(i,o,u),u=u.sibling}function WA(i,o,u){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(za,u)}catch{}switch(u.tag){case 26:On||Pi(u,o),ps(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:On||Pi(u,o);var m=Zt,v=Mr;_l(u.type)&&(Zt=u.stateNode,Mr=!1),ps(i,o,u),lf(u.stateNode),Zt=m,Mr=v;break;case 5:On||Pi(u,o);case 6:if(m=Zt,v=Mr,Zt=null,ps(i,o,u),Zt=m,Mr=v,Zt!==null)if(Mr)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(u.stateNode)}catch(b){Ct(u,o,b)}else try{Zt.removeChild(u.stateNode)}catch(b){Ct(u,o,b)}break;case 18:Zt!==null&&(Mr?(i=Zt,BT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),cu(i)):BT(Zt,u.stateNode));break;case 4:m=Zt,v=Mr,Zt=u.stateNode.containerInfo,Mr=!0,ps(i,o,u),Zt=m,Mr=v;break;case 0:case 11:case 14:case 15:gl(2,u,o),On||gl(4,u,o),ps(i,o,u);break;case 1:On||(Pi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&$A(u,o,m)),ps(i,o,u);break;case 21:ps(i,o,u);break;case 22:On=(m=On)||u.memoizedState!==null,ps(i,o,u),On=m;break;default:ps(i,o,u)}}function XA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{cu(i)}catch(u){Ct(o,o.return,u)}}}function QA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cu(i)}catch(u){Ct(o,o.return,u)}}function XV(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new GA),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new GA),o;default:throw Error(r(435,i.tag))}}function Wm(i,o){var u=XV(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=i8.bind(null,i,m);m.then(v,v)}})}function Lr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],b=i,I=o,F=I;e:for(;F!==null;){switch(F.tag){case 27:if(_l(F.type)){Zt=F.stateNode,Mr=!1;break e}break;case 5:Zt=F.stateNode,Mr=!1;break e;case 3:case 4:Zt=F.stateNode.containerInfo,Mr=!0;break e}F=F.return}if(Zt===null)throw Error(r(160));WA(b,I,v),Zt=null,Mr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)JA(o,i),o=o.sibling}var Xa=null;function JA(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(o,i),Ur(i),m&4&&(gl(3,i,i.return),Xd(3,i),gl(5,i,i.return));break;case 1:Lr(o,i),Ur(i),m&512&&(On||u===null||Pi(u,u.return)),m&64&&ms&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=Xa;if(Lr(o,i),Ur(i),m&512&&(On||u===null||Pi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[bi]||b[En]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),ur(b,m,u),b[En]=i,Sn(b),m=b;break e;case"link":var I=JT("link","href",v).get(m+(u.href||""));if(I){for(var F=0;F<I.length;F++)if(b=I[F],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(F,1);break t}}b=v.createElement(m),ur(b,m,u),v.head.appendChild(b);break;case"meta":if(I=JT("meta","content",v).get(m+(u.content||""))){for(F=0;F<I.length;F++)if(b=I[F],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(F,1);break t}}b=v.createElement(m),ur(b,m,u),v.head.appendChild(b);break;default:throw Error(r(468,m))}b[En]=i,Sn(b),m=b}i.stateNode=m}else ZT(v,i.type,i.stateNode);else i.stateNode=QT(v,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?ZT(v,i.type,i.stateNode):QT(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&fx(i,i.memoizedProps,u.memoizedProps)}break;case 27:Lr(o,i),Ur(i),m&512&&(On||u===null||Pi(u,u.return)),u!==null&&m&4&&fx(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Lr(o,i),Ur(i),m&512&&(On||u===null||Pi(u,u.return)),i.flags&32){v=i.stateNode;try{kr(v,"")}catch(ke){Ct(i,i.return,ke)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,fx(i,v,u!==null?u.memoizedProps:v)),m&1024&&(px=!0);break;case 6:if(Lr(o,i),Ur(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(ke){Ct(i,i.return,ke)}}break;case 3:if(dp=null,v=Xa,Xa=cp(o.containerInfo),Lr(o,i),Xa=v,Ur(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{cu(o.containerInfo)}catch(ke){Ct(i,i.return,ke)}px&&(px=!1,ZA(i));break;case 4:m=Xa,Xa=cp(i.stateNode.containerInfo),Lr(o,i),Ur(i),Xa=m;break;case 12:Lr(o,i),Ur(i);break;case 31:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Wm(i,m)));break;case 13:Lr(o,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Qm=De()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Wm(i,m)));break;case 22:v=i.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,se=ms,ge=On;if(ms=se||v,On=ge||K,Lr(o,i),On=ge,ms=se,Ur(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||K||ms||On||Mo(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(b=K.stateNode,v)I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{F=K.stateNode;var we=K.memoizedProps.style,oe=we!=null&&we.hasOwnProperty("display")?we.display:null;F.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ke){Ct(K,K.return,ke)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=v?"":K.memoizedProps}catch(ke){Ct(K,K.return,ke)}}}else if(o.tag===18){if(u===null){K=o;try{var de=K.stateNode;v?$T(de,!0):$T(K.stateNode,!1)}catch(ke){Ct(K,K.return,ke)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Wm(i,u))));break;case 19:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Wm(i,m)));break;case 30:break;case 21:break;default:Lr(o,i),Ur(i)}}function Ur(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(qA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=hx(i);Ym(i,b,v);break;case 5:var I=u.stateNode;u.flags&32&&(kr(I,""),u.flags&=-33);var F=hx(i);Ym(i,F,I);break;case 3:case 4:var K=u.stateNode.containerInfo,se=hx(i);mx(i,se,K);break;default:throw Error(r(161))}}catch(ge){Ct(i,i.return,ge)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function ZA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;ZA(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function gs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)KA(i,o.alternate,o),o=o.sibling}function Mo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:gl(4,o,o.return),Mo(o);break;case 1:Pi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&$A(o,o.return,u),Mo(o);break;case 27:lf(o.stateNode);case 26:case 5:Pi(o,o.return),Mo(o);break;case 22:o.memoizedState===null&&Mo(o);break;case 30:Mo(o);break;default:Mo(o)}i=i.sibling}}function ys(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,b=o,I=b.flags;switch(b.tag){case 0:case 11:case 15:ys(v,b,u),Xd(4,b);break;case 1:if(ys(v,b,u),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){Ct(m,m.return,se)}if(m=b,v=m.updateQueue,v!==null){var F=m.stateNode;try{var K=v.shared.hiddenCallbacks;if(K!==null)for(v.shared.hiddenCallbacks=null,v=0;v<K.length;v++)IS(K[v],F)}catch(se){Ct(m,m.return,se)}}u&&I&64&&BA(b),Qd(b,b.return);break;case 27:HA(b);case 26:case 5:ys(v,b,u),u&&m===null&&I&4&&FA(b),Qd(b,b.return);break;case 12:ys(v,b,u);break;case 31:ys(v,b,u),u&&I&4&&XA(v,b);break;case 13:ys(v,b,u),u&&I&4&&QA(v,b);break;case 22:b.memoizedState===null&&ys(v,b,u),Qd(b,b.return);break;case 30:break;default:ys(v,b,u)}o=o.sibling}}function gx(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Ld(u))}function yx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ld(i))}function Qa(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)eT(i,o,u,m),o=o.sibling}function eT(i,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Qa(i,o,u,m),v&2048&&Xd(9,o);break;case 1:Qa(i,o,u,m);break;case 3:Qa(i,o,u,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ld(i)));break;case 12:if(v&2048){Qa(i,o,u,m),i=o.stateNode;try{var b=o.memoizedProps,I=b.id,F=b.onPostCommit;typeof F=="function"&&F(I,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){Ct(o,o.return,K)}}else Qa(i,o,u,m);break;case 31:Qa(i,o,u,m);break;case 13:Qa(i,o,u,m);break;case 23:break;case 22:b=o.stateNode,I=o.alternate,o.memoizedState!==null?b._visibility&2?Qa(i,o,u,m):Jd(i,o):b._visibility&2?Qa(i,o,u,m):(b._visibility|=2,Jc(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&gx(I,o);break;case 24:Qa(i,o,u,m),v&2048&&yx(o.alternate,o);break;default:Qa(i,o,u,m)}}function Jc(i,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,I=o,F=u,K=m,se=I.flags;switch(I.tag){case 0:case 11:case 15:Jc(b,I,F,K,v),Xd(8,I);break;case 23:break;case 22:var ge=I.stateNode;I.memoizedState!==null?ge._visibility&2?Jc(b,I,F,K,v):Jd(b,I):(ge._visibility|=2,Jc(b,I,F,K,v)),v&&se&2048&&gx(I.alternate,I);break;case 24:Jc(b,I,F,K,v),v&&se&2048&&yx(I.alternate,I);break;default:Jc(b,I,F,K,v)}o=o.sibling}}function Jd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,v=m.flags;switch(m.tag){case 22:Jd(u,m),v&2048&&gx(m.alternate,m);break;case 24:Jd(u,m),v&2048&&yx(m.alternate,m);break;default:Jd(u,m)}o=o.sibling}}var Zd=8192;function Zc(i,o,u){if(i.subtreeFlags&Zd)for(i=i.child;i!==null;)tT(i,o,u),i=i.sibling}function tT(i,o,u){switch(i.tag){case 26:Zc(i,o,u),i.flags&Zd&&i.memoizedState!==null&&M8(u,Xa,i.memoizedState,i.memoizedProps);break;case 5:Zc(i,o,u);break;case 3:case 4:var m=Xa;Xa=cp(i.stateNode.containerInfo),Zc(i,o,u),Xa=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=Zd,Zd=16777216,Zc(i,o,u),Zd=m):Zc(i,o,u));break;default:Zc(i,o,u)}}function nT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ef(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Qn=m,aT(m,i)}nT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rT(i),i=i.sibling}function rT(i){switch(i.tag){case 0:case 11:case 15:ef(i),i.flags&2048&&gl(9,i,i.return);break;case 3:ef(i);break;case 12:ef(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Xm(i)):ef(i);break;default:ef(i)}}function Xm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Qn=m,aT(m,i)}nT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:gl(8,o,o.return),Xm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Xm(o));break;default:Xm(o)}i=i.sibling}}function aT(i,o){for(;Qn!==null;){var u=Qn;switch(u.tag){case 0:case 11:case 15:gl(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ld(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Qn=m;else e:for(u=i;Qn!==null;){m=Qn;var v=m.sibling,b=m.return;if(YA(m),m===u){Qn=null;break e}if(v!==null){v.return=b,Qn=v;break e}Qn=b}}}var QV={getCacheForType:function(i){var o=or(Tn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return or(Tn).controller.signal}},JV=typeof WeakMap=="function"?WeakMap:Map,jt=0,Bt=null,ot=null,dt=0,Tt=0,na=null,yl=!1,eu=!1,vx=!1,vs=0,hn=0,vl=0,Lo=0,xx=0,ra=0,tu=0,tf=null,Vr=null,bx=!1,Qm=0,iT=0,Jm=1/0,Zm=null,xl=null,zn=0,bl=null,nu=null,xs=0,wx=0,Nx=null,sT=null,nf=0,_x=null;function aa(){return(jt&2)!==0&&dt!==0?dt&-dt:G.T!==null?Cx():em()}function lT(){if(ra===0)if((dt&536870912)===0||gt){var i=co;co<<=1,(co&3932160)===0&&(co=262144),ra=i}else ra=536870912;return i=ea.current,i!==null&&(i.flags|=32),ra}function zr(i,o,u){(i===Bt&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)&&(ru(i,0),wl(i,dt,ra,!1)),uo(i,u),((jt&2)===0||i!==Bt)&&(i===Bt&&((jt&2)===0&&(Lo|=u),hn===4&&wl(i,dt,ra,!1)),ki(i))}function oT(i,o,u){if((jt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Ba(i,o),v=m?t8(i,o):Ex(i,o,!0),b=m;do{if(v===0){eu&&!m&&wl(i,o,0,!1);break}else{if(u=i.current.alternate,b&&!ZV(u)){v=Ex(i,o,!1),b=!1;continue}if(v===2){if(b=o,i.errorRecoveryDisabledLanes&b)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var F=i;v=tf;var K=F.current.memoizedState.isDehydrated;if(K&&(ru(F,I).flags|=256),I=Ex(F,I,!1),I!==2){if(vx&&!K){F.errorRecoveryDisabledLanes|=b,Lo|=b,v=4;break e}b=Vr,Vr=v,b!==null&&(Vr===null?Vr=b:Vr.push.apply(Vr,b))}v=I}if(b=!1,v!==2)continue}}if(v===1){ru(i,0),wl(i,o,0,!0);break}e:{switch(m=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:wl(m,o,ra,!yl);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Qm+300-De(),10<v)){if(wl(m,o,ra,!yl),yi(m,0,!0)!==0)break e;xs=o,m.timeoutHandle=VT(cT.bind(null,m,u,Vr,Zm,bx,o,ra,Lo,tu,yl,b,"Throttled",-0,0),v);break e}cT(m,u,Vr,Zm,bx,o,ra,Lo,tu,yl,b,null,-0,0)}}break}while(!0);ki(i)}function cT(i,o,u,m,v,b,I,F,K,se,ge,we,oe,de){if(i.timeoutHandle=-1,we=o.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},tT(o,b,we);var ke=(b&62914560)===b?Qm-De():(b&4194048)===b?iT-De():0;if(ke=L8(we,ke),ke!==null){xs=b,i.cancelPendingCommit=ke(yT.bind(null,i,o,b,u,m,v,I,F,K,ge,we,null,oe,de)),wl(i,b,I,!se);return}}yT(i,o,b,u,m,v,I,F,K)}function ZV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],b=v.getSnapshot;v=v.value;try{if(!Jr(b(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function wl(i,o,u,m){o&=~xx,o&=~Lo,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var b=31-pn(v),I=1<<b;m[b]=-1,v&=~I}u!==0&&fo(i,u,o)}function ep(){return(jt&6)===0?(rf(0),!1):!0}function jx(){if(ot!==null){if(Tt===0)var i=ot.return;else i=ot,os=To=null,zv(i),Kc=null,Vd=0,i=ot;for(;i!==null;)zA(i.alternate,i),i=i.return;ot=null}}function ru(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,x8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),xs=0,jx(),Bt=i,ot=u=ss(i.current,null),dt=o,Tt=0,na=null,yl=!1,eu=Ba(i,o),vx=!1,tu=ra=xx=Lo=vl=hn=0,Vr=tf=null,bx=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-pn(m),b=1<<v;o|=i[v],m&=~b}return vs=o,wm(),u}function uT(i,o){st=null,G.H=Kd,o===Gc||o===Cm?(o=SS(),Tt=3):o===Tv?(o=SS(),Tt=4):Tt=o===nx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,na=o,ot===null&&(hn=1,Fm(i,ba(o,i.current)))}function dT(){var i=ea.current;return i===null?!0:(dt&4194048)===dt?ja===null:(dt&62914560)===dt||(dt&536870912)!==0?i===ja:!1}function fT(){var i=G.H;return G.H=Kd,i===null?Kd:i}function hT(){var i=G.A;return G.A=QV,i}function tp(){hn=4,yl||(dt&4194048)!==dt&&ea.current!==null||(eu=!0),(vl&134217727)===0&&(Lo&134217727)===0||Bt===null||wl(Bt,dt,ra,!1)}function Ex(i,o,u){var m=jt;jt|=2;var v=fT(),b=hT();(Bt!==i||dt!==o)&&(Zm=null,ru(i,o)),o=!1;var I=hn;e:do try{if(Tt!==0&&ot!==null){var F=ot,K=na;switch(Tt){case 8:jx(),I=6;break e;case 3:case 2:case 9:case 6:ea.current===null&&(o=!0);var se=Tt;if(Tt=0,na=null,au(i,F,K,se),u&&eu){I=0;break e}break;default:se=Tt,Tt=0,na=null,au(i,F,K,se)}}e8(),I=hn;break}catch(ge){uT(i,ge)}while(!0);return o&&i.shellSuspendCounter++,os=To=null,jt=m,G.H=v,G.A=b,ot===null&&(Bt=null,dt=0,wm()),I}function e8(){for(;ot!==null;)mT(ot)}function t8(i,o){var u=jt;jt|=2;var m=fT(),v=hT();Bt!==i||dt!==o?(Zm=null,Jm=De()+500,ru(i,o)):eu=Ba(i,o);e:do try{if(Tt!==0&&ot!==null){o=ot;var b=na;t:switch(Tt){case 1:Tt=0,na=null,au(i,o,b,1);break;case 2:case 9:if(jS(b)){Tt=0,na=null,pT(o);break}o=function(){Tt!==2&&Tt!==9||Bt!==i||(Tt=7),ki(i)},b.then(o,o);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:jS(b)?(Tt=0,na=null,pT(o)):(Tt=0,na=null,au(i,o,b,7));break;case 5:var I=null;switch(ot.tag){case 26:I=ot.memoizedState;case 5:case 27:var F=ot;if(I?e2(I):F.stateNode.complete){Tt=0,na=null;var K=F.sibling;if(K!==null)ot=K;else{var se=F.return;se!==null?(ot=se,np(se)):ot=null}break t}}Tt=0,na=null,au(i,o,b,5);break;case 6:Tt=0,na=null,au(i,o,b,6);break;case 8:jx(),hn=6;break e;default:throw Error(r(462))}}n8();break}catch(ge){uT(i,ge)}while(!0);return os=To=null,G.H=m,G.A=v,jt=u,ot!==null?0:(Bt=null,dt=0,wm(),hn)}function n8(){for(;ot!==null&&!hi();)mT(ot)}function mT(i){var o=UA(i.alternate,i,vs);i.memoizedProps=i.pendingProps,o===null?np(i):ot=o}function pT(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=RA(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=RA(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:zv(o);default:zA(u,o),o=ot=hS(o,vs),o=UA(u,o,vs)}i.memoizedProps=i.pendingProps,o===null?np(i):ot=o}function au(i,o,u,m){os=To=null,zv(o),Kc=null,Vd=0;var v=o.return;try{if(qV(i,v,o,u,dt)){hn=1,Fm(i,ba(u,i.current)),ot=null;return}}catch(b){if(v!==null)throw ot=v,b;hn=1,Fm(i,ba(u,i.current)),ot=null;return}o.flags&32768?(gt||m===1?i=!0:eu||(dt&536870912)!==0?i=!1:(yl=i=!0,(m===2||m===9||m===3||m===6)&&(m=ea.current,m!==null&&m.tag===13&&(m.flags|=16384))),gT(o,i)):np(o)}function np(i){var o=i;do{if((o.flags&32768)!==0){gT(o,yl);return}i=o.return;var u=KV(o.alternate,o,vs);if(u!==null){ot=u;return}if(o=o.sibling,o!==null){ot=o;return}ot=o=i}while(o!==null);hn===0&&(hn=5)}function gT(i,o){do{var u=YV(i.alternate,i);if(u!==null){u.flags&=32767,ot=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){ot=i;return}ot=i=u}while(i!==null);hn=6,ot=null}function yT(i,o,u,m,v,b,I,F,K){i.cancelPendingCommit=null;do rp();while(zn!==0);if((jt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=hv,av(i,u,b,I,F,K),i===Bt&&(ot=Bt=null,dt=0),nu=o,bl=i,xs=u,wx=b,Nx=v,sT=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,s8(zt,function(){return NT(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=re.p,re.p=2,I=jt,jt|=4;try{WV(i,o,u)}finally{jt=I,re.p=v,G.T=m}}zn=1,vT(),xT(),bT()}}function vT(){if(zn===1){zn=0;var i=bl,o=nu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var m=re.p;re.p=2;var v=jt;jt|=4;try{JA(o,i);var b=Lx,I=aS(i.containerInfo),F=b.focusedElem,K=b.selectionRange;if(I!==F&&F&&F.ownerDocument&&rS(F.ownerDocument.documentElement,F)){if(K!==null&&ov(F)){var se=K.start,ge=K.end;if(ge===void 0&&(ge=se),"selectionStart"in F)F.selectionStart=se,F.selectionEnd=Math.min(ge,F.value.length);else{var we=F.ownerDocument||document,oe=we&&we.defaultView||window;if(oe.getSelection){var de=oe.getSelection(),ke=F.textContent.length,He=Math.min(K.start,ke),Mt=K.end===void 0?He:Math.min(K.end,ke);!de.extend&&He>Mt&&(I=Mt,Mt=He,He=I);var Z=nS(F,He),X=nS(F,Mt);if(Z&&X&&(de.rangeCount!==1||de.anchorNode!==Z.node||de.anchorOffset!==Z.offset||de.focusNode!==X.node||de.focusOffset!==X.offset)){var ae=we.createRange();ae.setStart(Z.node,Z.offset),de.removeAllRanges(),He>Mt?(de.addRange(ae),de.extend(X.node,X.offset)):(ae.setEnd(X.node,X.offset),de.addRange(ae))}}}}for(we=[],de=F;de=de.parentNode;)de.nodeType===1&&we.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<we.length;F++){var xe=we[F];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}pp=!!Mx,Lx=Mx=null}finally{jt=v,re.p=m,G.T=u}}i.current=o,zn=2}}function xT(){if(zn===2){zn=0;var i=bl,o=nu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var m=re.p;re.p=2;var v=jt;jt|=4;try{KA(i,o.alternate,o)}finally{jt=v,re.p=m,G.T=u}}zn=3}}function bT(){if(zn===4||zn===3){zn=0,te();var i=bl,o=nu,u=xs,m=sT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zn=5:(zn=0,nu=bl=null,wT(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(xl=null),ns(u),o=o.stateNode,ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(za,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,v=re.p,re.p=2,G.T=null;try{for(var b=i.onRecoverableError,I=0;I<m.length;I++){var F=m[I];b(F.value,{componentStack:F.stack})}}finally{G.T=o,re.p=v}}(xs&3)!==0&&rp(),ki(i),v=i.pendingLanes,(u&261930)!==0&&(v&42)!==0?i===_x?nf++:(nf=0,_x=i):nf=0,rf(0)}}function wT(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Ld(o)))}function rp(){return vT(),xT(),bT(),NT()}function NT(){if(zn!==5)return!1;var i=bl,o=wx;wx=0;var u=ns(xs),m=G.T,v=re.p;try{re.p=32>u?32:u,G.T=null,u=Nx,Nx=null;var b=bl,I=xs;if(zn=0,nu=bl=null,xs=0,(jt&6)!==0)throw Error(r(331));var F=jt;if(jt|=4,rT(b.current),eT(b,b.current,I,u),jt=F,rf(0,!1),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(za,b)}catch{}return!0}finally{re.p=v,G.T=m,wT(i,o)}}function _T(i,o,u){o=ba(u,o),o=tx(i.stateNode,o,2),i=hl(i,o,2),i!==null&&(uo(i,2),ki(i))}function Ct(i,o,u){if(i.tag===3)_T(i,i,u);else for(;o!==null;){if(o.tag===3){_T(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(xl===null||!xl.has(m))){i=ba(u,i),u=jA(2),m=hl(o,u,2),m!==null&&(EA(u,m,o,i),uo(m,2),ki(m));break}}o=o.return}}function Sx(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new JV;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(vx=!0,v.add(u),i=r8.bind(null,i,o,u),o.then(i,i))}function r8(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(dt&u)===u&&(hn===4||hn===3&&(dt&62914560)===dt&&300>De()-Qm?(jt&2)===0&&ru(i,0):xx|=u,tu===dt&&(tu=0)),ki(i)}function jT(i,o){o===0&&(o=Zh()),i=Eo(i,o),i!==null&&(uo(i,o),ki(i))}function a8(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),jT(i,u)}function i8(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),jT(i,u)}function s8(i,o){return We(i,o)}var ap=null,iu=null,Ax=!1,ip=!1,Tx=!1,Nl=0;function ki(i){i!==iu&&i.next===null&&(iu===null?ap=iu=i:iu=iu.next=i),ip=!0,Ax||(Ax=!0,o8())}function rf(i,o){if(!Tx&&ip){Tx=!0;do for(var u=!1,m=ap;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var I=m.suspendedLanes,F=m.pingedLanes;b=(1<<31-pn(42|i)+1)-1,b&=v&~(I&~F),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,TT(m,b))}else b=dt,b=yi(m,m===Bt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Ba(m,b)||(u=!0,TT(m,b));m=m.next}while(u);Tx=!1}}function l8(){ET()}function ET(){ip=Ax=!1;var i=0;Nl!==0&&v8()&&(i=Nl);for(var o=De(),u=null,m=ap;m!==null;){var v=m.next,b=ST(m,o);b===0?(m.next=null,u===null?ap=v:u.next=v,v===null&&(iu=u)):(u=m,(i!==0||(b&3)!==0)&&(ip=!0)),m=v}zn!==0&&zn!==5||rf(i),Nl!==0&&(Nl=0)}function ST(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var I=31-pn(b),F=1<<I,K=v[I];K===-1?((F&u)===0||(F&m)!==0)&&(v[I]=rv(F,o)):K<=o&&(i.expiredLanes|=F),b&=~F}if(o=Bt,u=dt,u=yi(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(Tt===2||Tt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Rt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ba(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Rt(m),ns(u)){case 2:case 8:u=Ht;break;case 32:u=zt;break;case 268435456:u=Va;break;default:u=zt}return m=AT.bind(null,i),u=We(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Rt(m),i.callbackPriority=2,i.callbackNode=null,2}function AT(i,o){if(zn!==0&&zn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(rp()&&i.callbackNode!==u)return null;var m=dt;return m=yi(i,i===Bt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(oT(i,m,o),ST(i,De()),i.callbackNode!=null&&i.callbackNode===u?AT.bind(null,i):null)}function TT(i,o){if(rp())return null;oT(i,o,!0)}function o8(){b8(function(){(jt&6)!==0?We(Le,l8):ET()})}function Cx(){if(Nl===0){var i=qc;i===0&&(i=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Nl=i}return Nl}function CT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Cc(""+i)}function IT(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function c8(i,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var b=CT((v[Wn]||null).action),I=m.submitter;I&&(o=(o=I[Wn]||null)?CT(o.formAction):I.getAttribute("formAction"),o!==null&&(b=o,I=null));var F=new Ti("action","action",null,m,v);i.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Nl!==0){var K=I?IT(v,I):new FormData(v);Wv(u,{pending:!0,data:K,method:v.method,action:b},null,K)}}else typeof b=="function"&&(F.preventDefault(),K=I?IT(v,I):new FormData(v),Wv(u,{pending:!0,data:K,method:v.method,action:b},b,K))},currentTarget:v}]})}}for(var Ix=0;Ix<fv.length;Ix++){var Ox=fv[Ix],u8=Ox.toLowerCase(),d8=Ox[0].toUpperCase()+Ox.slice(1);Wa(u8,"on"+d8)}Wa(lS,"onAnimationEnd"),Wa(oS,"onAnimationIteration"),Wa(cS,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(AV,"onTransitionRun"),Wa(TV,"onTransitionStart"),Wa(CV,"onTransitionCancel"),Wa(uS,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(af));function OT(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var I=m.length-1;0<=I;I--){var F=m[I],K=F.instance,se=F.currentTarget;if(F=F.listener,K!==b&&v.isPropagationStopped())break e;b=F,v.currentTarget=se;try{b(v)}catch(ge){bm(ge)}v.currentTarget=null,b=K}else for(I=0;I<m.length;I++){if(F=m[I],K=F.instance,se=F.currentTarget,F=F.listener,K!==b&&v.isPropagationStopped())break e;b=F,v.currentTarget=se;try{b(v)}catch(ge){bm(ge)}v.currentTarget=null,b=K}}}}function ct(i,o){var u=o[jc];u===void 0&&(u=o[jc]=new Set);var m=i+"__bubble";u.has(m)||(RT(o,i,2,!1),u.add(m))}function Rx(i,o,u){var m=0;o&&(m|=4),RT(u,i,m,o)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Dx(i){if(!i[sp]){i[sp]=!0,gd.forEach(function(u){u!=="selectionchange"&&(f8.has(u)||Rx(u,!1,i),Rx(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[sp]||(o[sp]=!0,Rx("selectionchange",!1,o))}}function RT(i,o,u,m){switch(l2(o)){case 2:var v=z8;break;case 8:v=B8;break;default:v=Yx}u=v.bind(null,o,u,i),v=void 0,!yo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function Px(i,o,u,m,v){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var F=m.stateNode.containerInfo;if(F===v)break;if(I===4)for(I=m.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;F!==null;){if(I=wi(F),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){m=b=I;continue e}F=F.parentNode}}m=m.return}rl(function(){var se=b,ge=ga(u),we=[];e:{var oe=dS.get(i);if(oe!==void 0){var de=Ti,ke=i;switch(i){case"keypress":if(xo(u)===0)break e;case"keydown":case"keyup":de=ym;break;case"focusin":ke="focus",de=wo;break;case"focusout":ke="blur",de=wo;break;case"beforeblur":case"afterblur":de=wo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=S;break;case lS:case oS:case cS:de=um;break;case uS:de=q;break;case"scroll":case"scrollend":de=Td;break;case"wheel":de=ue;break;case"copy":case"cut":case"paste":de=dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=is;break;case"toggle":case"beforetoggle":de=it}var He=(o&4)!==0,Mt=!He&&(i==="scroll"||i==="scrollend"),Z=He?oe!==null?oe+"Capture":null:oe;He=[];for(var X=se,ae;X!==null;){var xe=X;if(ae=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ae===null||Z===null||(xe=Ha(X,Z),xe!=null&&He.push(sf(X,xe,ae))),Mt)break;X=X.return}0<He.length&&(oe=new de(oe,ke,null,u,ge),we.push({event:oe,listeners:He}))}}if((o&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",oe&&u!==Ed&&(ke=u.relatedTarget||u.fromElement)&&(wi(ke)||ke[xi]))break e;if((de||oe)&&(oe=ge.window===ge?ge:(oe=ge.ownerDocument)?oe.defaultView||oe.parentWindow:window,de?(ke=u.relatedTarget||u.toElement,de=se,ke=ke?wi(ke):null,ke!==null&&(Mt=s(ke),He=ke.tag,ke!==Mt||He!==5&&He!==27&&He!==6)&&(ke=null)):(de=null,ke=se),de!==ke)){if(He=Cd,xe="onMouseLeave",Z="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(He=is,xe="onPointerLeave",Z="onPointerEnter",X="pointer"),Mt=de==null?oe:Xr(de),ae=ke==null?oe:Xr(ke),oe=new He(xe,X+"leave",de,u,ge),oe.target=Mt,oe.relatedTarget=ae,xe=null,wi(ge)===se&&(He=new He(Z,X+"enter",ke,u,ge),He.target=ae,He.relatedTarget=Mt,xe=He),Mt=xe,de&&ke)t:{for(He=h8,Z=de,X=ke,ae=0,xe=Z;xe;xe=He(xe))ae++;xe=0;for(var Be=X;Be;Be=He(Be))xe++;for(;0<ae-xe;)Z=He(Z),ae--;for(;0<xe-ae;)X=He(X),xe--;for(;ae--;){if(Z===X||X!==null&&Z===X.alternate){He=Z;break t}Z=He(Z),X=He(X)}He=null}else He=null;de!==null&&DT(we,oe,de,He,!1),ke!==null&&Mt!==null&&DT(we,Mt,ke,He,!0)}}e:{if(oe=se?Xr(se):window,de=oe.nodeName&&oe.nodeName.toLowerCase(),de==="select"||de==="input"&&oe.type==="file")var xt=XE;else if(YE(oe))if(QE)xt=jV;else{xt=NV;var Me=wV}else de=oe.nodeName,!de||de.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&Tc(se.elementType)&&(xt=XE):xt=_V;if(xt&&(xt=xt(i,se))){WE(we,xt,u,ge);break e}Me&&Me(i,oe,se),i==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Nd(oe,"number",oe.value)}switch(Me=se?Xr(se):window,i){case"focusin":(YE(Me)||Me.contentEditable==="true")&&(Mc=Me,cv=se,Pd=null);break;case"focusout":Pd=cv=Mc=null;break;case"mousedown":uv=!0;break;case"contextmenu":case"mouseup":case"dragend":uv=!1,iS(we,u,ge);break;case"selectionchange":if(SV)break;case"keydown":case"keyup":iS(we,u,ge)}var lt;if(_t)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else kc?No(i,u)&&(ft="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ft="onCompositionStart");ft&&(Oi&&u.locale!=="ko"&&(kc||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&kc&&(lt=Ad()):(Ai=ge,Sd="value"in Ai?Ai.value:Ai.textContent,kc=!0)),Me=lp(se,ft),0<Me.length&&(ft=new Ii(ft,i,null,u,ge),we.push({event:ft,listeners:Me}),lt?ft.data=lt:(lt=Pc(u),lt!==null&&(ft.data=lt)))),(lt=va?yV(i,u):vV(i,u))&&(ft=lp(se,"onBeforeInput"),0<ft.length&&(Me=new Ii("onBeforeInput","beforeinput",null,u,ge),we.push({event:Me,listeners:ft}),Me.data=lt)),c8(we,i,se,u,ge)}OT(we,o)})}function sf(i,o,u){return{instance:i,listener:o,currentTarget:u}}function lp(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ha(i,u),v!=null&&m.unshift(sf(i,v,b)),v=Ha(i,o),v!=null&&m.push(sf(i,v,b))),i.tag===3)return m;i=i.return}return[]}function h8(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function DT(i,o,u,m,v){for(var b=o._reactName,I=[];u!==null&&u!==m;){var F=u,K=F.alternate,se=F.stateNode;if(F=F.tag,K!==null&&K===m)break;F!==5&&F!==26&&F!==27||se===null||(K=se,v?(se=Ha(u,b),se!=null&&I.unshift(sf(u,se,K))):v||(se=Ha(u,b),se!=null&&I.push(sf(u,se,K)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var m8=/\r\n?/g,p8=/\u0000|\uFFFD/g;function PT(i){return(typeof i=="string"?i:""+i).replace(m8,`
`).replace(p8,"")}function kT(i,o){return o=PT(o),PT(i)===o}function kt(i,o,u,m,v,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||kr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&kr(i,""+m);break;case"className":Qr(i,"class",m);break;case"tabIndex":Qr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(i,u,m);break;case"style":jd(i,m,b);break;case"data":if(o!=="object"){Qr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Cc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&kt(i,o,"name",v.name,v,null),kt(i,o,"formEncType",v.formEncType,v,null),kt(i,o,"formMethod",v.formMethod,v,null),kt(i,o,"formTarget",v.formTarget,v,null)):(kt(i,o,"encType",v.encType,v,null),kt(i,o,"method",v.method,v,null),kt(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Cc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=qa);break;case"onScroll":m!=null&&ct("scroll",i);break;case"onScrollEnd":m!=null&&ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Cc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":ct("beforetoggle",i),ct("toggle",i),Sc(i,"popover",m);break;case"xlinkActuate":An(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":An(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":An(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":An(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":An(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":An(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":An(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":An(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":An(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Sc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=lm.get(u)||u,Sc(i,u,m))}}function kx(i,o,u,m,v,b){switch(u){case"style":jd(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?kr(i,m):(typeof m=="number"||typeof m=="bigint")&&kr(i,""+m);break;case"onScroll":m!=null&&ct("scroll",i);break;case"onScrollEnd":m!=null&&ct("scrollend",i);break;case"onClick":m!=null&&(i.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),b=i[Wn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(o,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,v);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Sc(i,u,m)}}}function ur(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",i),ct("load",i);var m=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var I=u[b];if(I!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kt(i,o,b,I,u,null)}}v&&kt(i,o,"srcSet",u.srcSet,u,null),m&&kt(i,o,"src",u.src,u,null);return;case"input":ct("invalid",i);var F=b=I=v=null,K=null,se=null;for(m in u)if(u.hasOwnProperty(m)){var ge=u[m];if(ge!=null)switch(m){case"name":v=ge;break;case"type":I=ge;break;case"checked":K=ge;break;case"defaultChecked":se=ge;break;case"value":b=ge;break;case"defaultValue":F=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:kt(i,o,m,ge,u,null)}}am(i,b,F,K,se,I,v,!1);return;case"select":ct("invalid",i),m=I=b=null;for(v in u)if(u.hasOwnProperty(v)&&(F=u[v],F!=null))switch(v){case"value":b=F;break;case"defaultValue":I=F;break;case"multiple":m=F;default:kt(i,o,v,F,u,null)}o=b,u=I,i.multiple=!!m,o!=null?Zs(i,!!m,o,!1):u!=null&&Zs(i,!!m,u,!0);return;case"textarea":ct("invalid",i),b=v=m=null;for(I in u)if(u.hasOwnProperty(I)&&(F=u[I],F!=null))switch(I){case"value":m=F;break;case"defaultValue":v=F;break;case"children":b=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:kt(i,o,I,F,u,null)}el(i,m,v,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(m=u[K],m!=null))switch(K){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:kt(i,o,K,m,u,null)}return;case"dialog":ct("beforetoggle",i),ct("toggle",i),ct("cancel",i),ct("close",i);break;case"iframe":case"object":ct("load",i);break;case"video":case"audio":for(m=0;m<af.length;m++)ct(af[m],i);break;case"image":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"embed":case"source":case"link":ct("error",i),ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in u)if(u.hasOwnProperty(se)&&(m=u[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:kt(i,o,se,m,u,null)}return;default:if(Tc(o)){for(ge in u)u.hasOwnProperty(ge)&&(m=u[ge],m!==void 0&&kx(i,o,ge,m,u,void 0));return}}for(F in u)u.hasOwnProperty(F)&&(m=u[F],m!=null&&kt(i,o,F,m,u,null))}function g8(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,I=null,F=null,K=null,se=null,ge=null;for(de in u){var we=u[de];if(u.hasOwnProperty(de)&&we!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":K=we;default:m.hasOwnProperty(de)||kt(i,o,de,null,m,we)}}for(var oe in m){var de=m[oe];if(we=u[oe],m.hasOwnProperty(oe)&&(de!=null||we!=null))switch(oe){case"type":b=de;break;case"name":v=de;break;case"checked":se=de;break;case"defaultChecked":ge=de;break;case"value":I=de;break;case"defaultValue":F=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:de!==we&&kt(i,o,oe,de,m,we)}}Ac(i,I,F,K,se,ge,b,v);return;case"select":de=I=F=oe=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":de=K;default:m.hasOwnProperty(b)||kt(i,o,b,null,m,K)}for(v in m)if(b=m[v],K=u[v],m.hasOwnProperty(v)&&(b!=null||K!=null))switch(v){case"value":oe=b;break;case"defaultValue":F=b;break;case"multiple":I=b;default:b!==K&&kt(i,o,v,b,m,K)}o=F,u=I,m=de,oe!=null?Zs(i,!!u,oe,!1):!!m!=!!u&&(o!=null?Zs(i,!!u,o,!0):Zs(i,!!u,u?[]:"",!1));return;case"textarea":de=oe=null;for(F in u)if(v=u[F],u.hasOwnProperty(F)&&v!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:kt(i,o,F,null,m,v)}for(I in m)if(v=m[I],b=u[I],m.hasOwnProperty(I)&&(v!=null||b!=null))switch(I){case"value":oe=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&kt(i,o,I,v,m,b)}im(i,oe,de);return;case"option":for(var ke in u)if(oe=u[ke],u.hasOwnProperty(ke)&&oe!=null&&!m.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:kt(i,o,ke,null,m,oe)}for(K in m)if(oe=m[K],de=u[K],m.hasOwnProperty(K)&&oe!==de&&(oe!=null||de!=null))switch(K){case"selected":i.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:kt(i,o,K,oe,m,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)oe=u[He],u.hasOwnProperty(He)&&oe!=null&&!m.hasOwnProperty(He)&&kt(i,o,He,null,m,oe);for(se in m)if(oe=m[se],de=u[se],m.hasOwnProperty(se)&&oe!==de&&(oe!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:kt(i,o,se,oe,m,de)}return;default:if(Tc(o)){for(var Mt in u)oe=u[Mt],u.hasOwnProperty(Mt)&&oe!==void 0&&!m.hasOwnProperty(Mt)&&kx(i,o,Mt,void 0,m,oe);for(ge in m)oe=m[ge],de=u[ge],!m.hasOwnProperty(ge)||oe===de||oe===void 0&&de===void 0||kx(i,o,ge,oe,m,de);return}}for(var Z in u)oe=u[Z],u.hasOwnProperty(Z)&&oe!=null&&!m.hasOwnProperty(Z)&&kt(i,o,Z,null,m,oe);for(we in m)oe=m[we],de=u[we],!m.hasOwnProperty(we)||oe===de||oe==null&&de==null||kt(i,o,we,oe,m,de)}function MT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y8(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],b=v.transferSize,I=v.initiatorType,F=v.duration;if(b&&F&&MT(I)){for(I=0,F=v.responseEnd,m+=1;m<u.length;m++){var K=u[m],se=K.startTime;if(se>F)break;var ge=K.transferSize,we=K.initiatorType;ge&&MT(we)&&(K=K.responseEnd,I+=ge*(K<F?1:(F-se)/(K-se)))}if(--m,o+=8*(b+I)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mx=null,Lx=null;function op(i){return i.nodeType===9?i:i.ownerDocument}function LT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Ux(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vx=null;function v8(){var i=window.event;return i&&i.type==="popstate"?i===Vx?!1:(Vx=i,!0):(Vx=null,!1)}var VT=typeof setTimeout=="function"?setTimeout:void 0,x8=typeof clearTimeout=="function"?clearTimeout:void 0,zT=typeof Promise=="function"?Promise:void 0,b8=typeof queueMicrotask=="function"?queueMicrotask:typeof zT<"u"?function(i){return zT.resolve(null).then(i).catch(w8)}:VT;function w8(i){setTimeout(function(){throw i})}function _l(i){return i==="head"}function BT(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(v),cu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")lf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,lf(u);for(var b=u.firstChild;b;){var I=b.nextSibling,F=b.nodeName;b[bi]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=I}}else u==="body"&&lf(i.ownerDocument.body);u=v}while(u);cu(o)}function $T(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function zx(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":zx(u),Ec(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function N8(i,o,u,m){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[bi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ea(i.nextSibling),i===null)break}return null}function _8(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ea(i.nextSibling),i===null))return null;return i}function FT(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ea(i.nextSibling),i===null))return null;return i}function Bx(i){return i.data==="$?"||i.data==="$~"}function $x(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function j8(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ea(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Fx=null;function qT(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Ea(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function HT(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function GT(i,o,u){switch(o=op(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function lf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ec(i)}var Sa=new Map,KT=new Set;function cp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bs=re.d;re.d={f:E8,r:S8,D:A8,C:T8,L:C8,m:I8,X:R8,S:O8,M:D8};function E8(){var i=bs.f(),o=ep();return i||o}function S8(i){var o=pa(i);o!==null&&o.tag===5&&o.type==="form"?uA(o):bs.r(i)}var su=typeof document>"u"?null:document;function YT(i,o,u){var m=su;if(m&&typeof o=="string"&&o){var v=Pr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),KT.has(v)||(KT.add(v),i={rel:i,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),ur(o,"link",i),Sn(o),m.head.appendChild(o)))}}function A8(i){bs.D(i),YT("dns-prefetch",i,null)}function T8(i,o){bs.C(i,o),YT("preconnect",i,o)}function C8(i,o,u){bs.L(i,o,u);var m=su;if(m&&i&&o){var v='link[rel="preload"][as="'+Pr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Pr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Pr(u.imageSizes)+'"]')):v+='[href="'+Pr(i)+'"]';var b=v;switch(o){case"style":b=lu(i);break;case"script":b=ou(i)}Sa.has(b)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Sa.set(b,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(of(b))||o==="script"&&m.querySelector(cf(b))||(o=m.createElement("link"),ur(o,"link",i),Sn(o),m.head.appendChild(o)))}}function I8(i,o){bs.m(i,o);var u=su;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Pr(m)+'"][href="'+Pr(i)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ou(i)}if(!Sa.has(b)&&(i=g({rel:"modulepreload",href:i},o),Sa.set(b,i),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(cf(b)))return}m=u.createElement("link"),ur(m,"link",i),Sn(m),u.head.appendChild(m)}}}function O8(i,o,u){bs.S(i,o,u);var m=su;if(m&&i){var v=Ni(m).hoistableStyles,b=lu(i);o=o||"default";var I=v.get(b);if(!I){var F={loading:0,preload:null};if(I=m.querySelector(of(b)))F.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Sa.get(b))&&qx(i,u);var K=I=m.createElement("link");Sn(K),ur(K,"link",i),K._p=new Promise(function(se,ge){K.onload=se,K.onerror=ge}),K.addEventListener("load",function(){F.loading|=1}),K.addEventListener("error",function(){F.loading|=2}),F.loading|=4,up(I,o,m)}I={type:"stylesheet",instance:I,count:1,state:F},v.set(b,I)}}}function R8(i,o){bs.X(i,o);var u=su;if(u&&i){var m=Ni(u).hoistableScripts,v=ou(i),b=m.get(v);b||(b=u.querySelector(cf(v)),b||(i=g({src:i,async:!0},o),(o=Sa.get(v))&&Hx(i,o),b=u.createElement("script"),Sn(b),ur(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function D8(i,o){bs.M(i,o);var u=su;if(u&&i){var m=Ni(u).hoistableScripts,v=ou(i),b=m.get(v);b||(b=u.querySelector(cf(v)),b||(i=g({src:i,async:!0,type:"module"},o),(o=Sa.get(v))&&Hx(i,o),b=u.createElement("script"),Sn(b),ur(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function WT(i,o,u,m){var v=(v=Ee.current)?cp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=lu(u.href),u=Ni(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=lu(u.href);var b=Ni(v).hoistableStyles,I=b.get(i);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,I),(b=v.querySelector(of(i)))&&!b._p&&(I.instance=b,I.state.loading=5),Sa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Sa.set(i,u),b||P8(v,i,u,I.state))),o&&m===null)throw Error(r(528,""));return I}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ou(u),u=Ni(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function lu(i){return'href="'+Pr(i)+'"'}function of(i){return'link[rel="stylesheet"]['+i+"]"}function XT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function P8(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),ur(o,"link",u),Sn(o),i.head.appendChild(o))}function ou(i){return'[src="'+Pr(i)+'"]'}function cf(i){return"script[async]"+i}function QT(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Pr(u.href)+'"]');if(m)return o.instance=m,Sn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Sn(m),ur(m,"style",v),up(m,u.precedence,i),o.instance=m;case"stylesheet":v=lu(u.href);var b=i.querySelector(of(v));if(b)return o.state.loading|=4,o.instance=b,Sn(b),b;m=XT(u),(v=Sa.get(v))&&qx(m,v),b=(i.ownerDocument||i).createElement("link"),Sn(b);var I=b;return I._p=new Promise(function(F,K){I.onload=F,I.onerror=K}),ur(b,"link",m),o.state.loading|=4,up(b,u.precedence,i),o.instance=b;case"script":return b=ou(u.src),(v=i.querySelector(cf(b)))?(o.instance=v,Sn(v),v):(m=u,(v=Sa.get(b))&&(m=g({},u),Hx(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),Sn(v),ur(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,up(m,u.precedence,i));return o.instance}function up(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,I=0;I<m.length;I++){var F=m[I];if(F.dataset.precedence===o)b=F;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function qx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Hx(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var dp=null;function JT(i,o,u){if(dp===null){var m=new Map,v=dp=new Map;v.set(u,m)}else v=dp,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var b=u[v];if(!(b[bi]||b[En]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(o)||"";I=i+I;var F=m.get(I);F?F.push(b):m.set(I,[b])}}return m}function ZT(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function k8(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function e2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function M8(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=lu(m.href),b=o.querySelector(of(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=fp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=b,Sn(b);return}b=o.ownerDocument||o,m=XT(m),(v=Sa.get(v))&&qx(m,v),b=b.createElement("link"),Sn(b);var I=b;I._p=new Promise(function(F,K){I.onload=F,I.onerror=K}),ur(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=fp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Gx=0;function L8(i,o){return i.stylesheets&&i.count===0&&mp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&mp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&Gx===0&&(Gx=62500*y8());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&mp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Gx?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function fp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hp=null;function mp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hp=new Map,o.forEach(U8,i),hp=null,fp.call(i))}function U8(i,o){if(!(o.state.loading&4)){var u=hp.get(i);if(u)var m=u.get(null);else{u=new Map,hp.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var I=v[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),m=I)}m&&u.set(null,m)}v=o.instance,I=v.getAttribute("data-precedence"),b=u.get(I)||m,b===m&&u.set(null,v),u.set(I,v),this.count++,m=fp.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var uf={$$typeof:k,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function V8(i,o,u,m,v,b,I,F,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function t2(i,o,u,m,v,b,I,F,K,se,ge,we){return i=new V8(i,o,u,I,K,se,ge,we,F),o=1,b===!0&&(o|=24),b=Zr(3,null,null,o),i.current=b,b.stateNode=i,o=Ev(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Cv(b),i}function n2(i){return i?(i=Vc,i):Vc}function r2(i,o,u,m,v,b){v=n2(v),m.context===null?m.context=v:m.pendingContext=v,m=fl(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=hl(i,m,o),u!==null&&(zr(u,i,o),Bd(u,i,o))}function a2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Kx(i,o){a2(i,o),(i=i.alternate)&&a2(i,o)}function i2(i){if(i.tag===13||i.tag===31){var o=Eo(i,67108864);o!==null&&zr(o,i,67108864),Kx(i,67108864)}}function s2(i){if(i.tag===13||i.tag===31){var o=aa();o=ho(o);var u=Eo(i,o);u!==null&&zr(u,i,o),Kx(i,o)}}var pp=!0;function z8(i,o,u,m){var v=G.T;G.T=null;var b=re.p;try{re.p=2,Yx(i,o,u,m)}finally{re.p=b,G.T=v}}function B8(i,o,u,m){var v=G.T;G.T=null;var b=re.p;try{re.p=8,Yx(i,o,u,m)}finally{re.p=b,G.T=v}}function Yx(i,o,u,m){if(pp){var v=Wx(m);if(v===null)Px(i,o,m,gp,u),o2(i,m);else if(F8(v,i,o,u,m))m.stopPropagation();else if(o2(i,m),o&4&&-1<$8.indexOf(i)){for(;v!==null;){var b=pa(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=gi(b.pendingLanes);if(I!==0){var F=b;for(F.pendingLanes|=2,F.entangledLanes|=2;I;){var K=1<<31-pn(I);F.entanglements[1]|=K,I&=~K}ki(b),(jt&6)===0&&(Jm=De()+500,rf(0))}}break;case 31:case 13:F=Eo(b,2),F!==null&&zr(F,b,2),ep(),Kx(b,2)}if(b=Wx(m),b===null&&Px(i,o,m,gp,u),b===v)break;v=b}v!==null&&m.stopPropagation()}else Px(i,o,m,null,u)}}function Wx(i){return i=ga(i),Xx(i)}var gp=null;function Xx(i){if(gp=null,i=wi(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return gp=i,null}function l2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case Le:return 2;case Ht:return 8;case zt:case mi:return 32;case Va:return 268435456;default:return 32}default:return 32}}var Qx=!1,jl=null,El=null,Sl=null,df=new Map,ff=new Map,Al=[],$8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o2(i,o){switch(i){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":df.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(o.pointerId)}}function hf(i,o,u,m,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},o!==null&&(o=pa(o),o!==null&&i2(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function F8(i,o,u,m,v){switch(o){case"focusin":return jl=hf(jl,i,o,u,m,v),!0;case"dragenter":return El=hf(El,i,o,u,m,v),!0;case"mouseover":return Sl=hf(Sl,i,o,u,m,v),!0;case"pointerover":var b=v.pointerId;return df.set(b,hf(df.get(b)||null,i,o,u,m,v)),!0;case"gotpointercapture":return b=v.pointerId,ff.set(b,hf(ff.get(b)||null,i,o,u,m,v)),!0}return!1}function c2(i){var o=wi(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,$a(i.priority,function(){s2(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,$a(i.priority,function(){s2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Wx(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Ed=m,u.target.dispatchEvent(m),Ed=null}else return o=pa(u),o!==null&&i2(o),i.blockedOn=u,!1;o.shift()}return!0}function u2(i,o,u){yp(i)&&u.delete(o)}function q8(){Qx=!1,jl!==null&&yp(jl)&&(jl=null),El!==null&&yp(El)&&(El=null),Sl!==null&&yp(Sl)&&(Sl=null),df.forEach(u2),ff.forEach(u2)}function vp(i,o){i.blockedOn===o&&(i.blockedOn=null,Qx||(Qx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,q8)))}var xp=null;function d2(i){xp!==i&&(xp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xp===i&&(xp=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(Xx(m||u)===null)continue;break}var b=pa(u);b!==null&&(i.splice(o,3),o-=3,Wv(b,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function cu(i){function o(K){return vp(K,i)}jl!==null&&vp(jl,i),El!==null&&vp(El,i),Sl!==null&&vp(Sl,i),df.forEach(o),ff.forEach(o);for(var u=0;u<Al.length;u++){var m=Al[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Al.length&&(u=Al[0],u.blockedOn===null);)c2(u),u.blockedOn===null&&Al.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],b=u[m+1],I=v[Wn]||null;if(typeof b=="function")I||d2(u);else if(I){var F=null;if(b&&b.hasAttribute("formAction")){if(v=b,I=b[Wn]||null)F=I.formAction;else if(Xx(v)!==null)continue}else F=I.action;typeof F=="function"?u[m+1]=F:(u.splice(m,3),m-=3),d2(u)}}}function f2(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(I){return v=I})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function Jx(i){this._internalRoot=i}bp.prototype.render=Jx.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=aa();r2(u,m,i,o,null,null)},bp.prototype.unmount=Jx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;r2(i.current,2,null,i,null,null),ep(),o[xi]=null}};function bp(i){this._internalRoot=i}bp.prototype.unstable_scheduleHydration=function(i){if(i){var o=em();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Al.length&&o!==0&&o<Al[u].priority;u++);Al.splice(u,0,i),u===0&&c2(i)}};var h2=e.version;if(h2!=="19.2.0")throw Error(r(527,h2,"19.2.0"));re.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var H8={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wp.isDisabled&&wp.supportsFiber)try{za=wp.inject(H8),ir=wp}catch{}}return pf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",v=bA,b=wA,I=NA;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError)),o=t2(i,1,!1,null,null,u,m,null,v,b,I,f2),i[xi]=o.current,Dx(i),new Jx(o)},pf.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,v="",b=bA,I=wA,F=NA,K=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(F=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=t2(i,1,!0,o,u??null,m,v,K,b,I,F,f2),o.context=n2(null),u=o.current,m=aa(),m=ho(m),v=fl(m),v.callback=null,hl(u,v,m),u=m,o.current.lanes=u,uo(o,u),ki(o),i[xi]=o.current,Dx(i),new bp(o)},pf.version="19.2.0",pf}var _2;function a7(){if(_2)return nb.exports;_2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nb.exports=r7(),nb.exports}var i7=a7();const s7=Ji(i7);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var j2="popstate";function l7(t={}){function e(a,s){let{pathname:c="/",search:d="",hash:f=""}=hc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),l1("",{pathname:c,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:Vf(s))}function r(a,s){fa(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return c7(e,n,r,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o7(){return Math.random().toString(36).substring(2,10)}function E2(t,e){return{usr:t.state,key:t.key,idx:e}}function l1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hc(e):e,state:n,key:e&&e.key||r||o7()}}function Vf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function c7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,d="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let j=p(),C=j==null?null:j-h;h=j,f&&f({action:d,location:_.location,delta:C})}function x(j,C){d="PUSH";let M=l1(_.location,j,C);n&&n(M,j),h=p()+1;let k=E2(M,h),T=_.createHref(M);try{c.pushState(k,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(T)}s&&f&&f({action:d,location:_.location,delta:1})}function N(j,C){d="REPLACE";let M=l1(_.location,j,C);n&&n(M,j),h=p();let k=E2(M,h),T=_.createHref(M);c.replaceState(k,"",T),s&&f&&f({action:d,location:_.location,delta:0})}function E(j){return u7(j)}let _={get action(){return d},get location(){return t(a,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(j2,g),f=j,()=>{a.removeEventListener(j2,g),f=null}},createHref(j){return e(a,j)},createURL:E,encodeLocation(j){let C=E(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:N,go(j){return c.go(j)}};return _}function u7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),an(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function BP(t,e,n="/"){return d7(t,e,n,!1)}function d7(t,e,n,r){let a=typeof e=="string"?hc(e):e,s=Rs(a.pathname||"/",n);if(s==null)return null;let c=$P(t);f7(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let h=_7(s);d=w7(c[f],h,r)}return d}function $P(t,e=[],n=[],r="",a=!1){let s=(c,d,f=a,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;an(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Ts([r,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(an(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$P(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:x7(g,c.index),routesMeta:x})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))s(c,d);else for(let h of FP(c.path))s(c,d,!0,h)}),e}function FP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=FP(r.join("/")),d=[];return d.push(...c.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function f7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var h7=/^:[\w-]+$/,m7=3,p7=2,g7=1,y7=10,v7=-2,S2=t=>t==="*";function x7(t,e){let n=t.split("/"),r=n.length;return n.some(S2)&&(r+=v7),e&&(r+=p7),n.filter(a=>!S2(a)).reduce((a,s)=>a+(h7.test(s)?m7:s===""?g7:y7),r)}function b7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function w7(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=pg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=pg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Ts([s,g.pathname]),pathnameBase:T7(Ts([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=Ts([s,g.pathnameBase]))}return c}function pg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=d[x]||"";c=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const N=d[x];return g&&!N?h[p]=void 0:h[p]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:c,pattern:t}}function N7(t,e=!1,n=!0){fa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function _7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var j7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E7=t=>j7.test(t);function S7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?hc(t):t,s;if(n)if(E7(n))s=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),fa(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?s=A2(n.substring(1),"/"):s=A2(n,e)}else s=e;return{pathname:s,search:C7(r),hash:I7(a)}}function A2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BN(t){let e=A7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $N(t,e,n,r=!1){let a;typeof t=="string"?a=hc(t):(a={...t},an(!a.pathname||!a.pathname.includes("?"),sb("?","pathname","search",a)),an(!a.pathname||!a.pathname.includes("#"),sb("#","pathname","hash",a)),an(!a.search||!a.search.includes("#"),sb("#","search","hash",a)));let s=t===""||a.pathname==="",c=s?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}d=g>=0?e[g]:"/"}let f=S7(a,d),h=c&&c!=="/"&&c.endsWith("/"),p=(s||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Ts=t=>t.join("/").replace(/\/\/+/g,"/"),T7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,I7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qP=["POST","PUT","PATCH","DELETE"];new Set(qP);var R7=["GET",...qP];new Set(R7);var Xu=w.createContext(null);Xu.displayName="DataRouter";var Py=w.createContext(null);Py.displayName="DataRouterState";w.createContext(!1);var HP=w.createContext({isTransitioning:!1});HP.displayName="ViewTransition";var D7=w.createContext(new Map);D7.displayName="Fetchers";var P7=w.createContext(null);P7.displayName="Await";var ui=w.createContext(null);ui.displayName="Navigation";var dh=w.createContext(null);dh.displayName="Location";var Zi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var FN=w.createContext(null);FN.displayName="RouteError";function k7(t,{relative:e}={}){an(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(ui),{hash:a,pathname:s,search:c}=fh(t,{relative:e}),d=s;return n!=="/"&&(d=s==="/"?n:Ts([n,s])),r.createHref({pathname:d,search:c,hash:a})}function Qu(){return w.useContext(dh)!=null}function es(){return an(Qu(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(dh).location}var GP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KP(t){w.useContext(ui).static||w.useLayoutEffect(t)}function qN(){let{isDataRoute:t}=w.useContext(Zi);return t?Y7():M7()}function M7(){an(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Xu),{basename:e,navigator:n}=w.useContext(ui),{matches:r}=w.useContext(Zi),{pathname:a}=es(),s=JSON.stringify(BN(r)),c=w.useRef(!1);return KP(()=>{c.current=!0}),w.useCallback((f,h={})=>{if(fa(c.current,GP),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=$N(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ts([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}w.createContext(null);function fh(t,{relative:e}={}){let{matches:n}=w.useContext(Zi),{pathname:r}=es(),a=JSON.stringify(BN(n));return w.useMemo(()=>$N(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function L7(t,e){return YP(t,e)}function YP(t,e,n,r,a){var M;an(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(ui),{matches:c}=w.useContext(Zi),d=c[c.length-1],f=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let k=g&&g.path||"";WP(h,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=es(),N;if(e){let k=typeof e=="string"?hc(e):e;an(p==="/"||((M=k.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),N=k}else N=x;let E=N.pathname||"/",_=E;if(p!=="/"){let k=p.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=BP(t,{pathname:_});fa(g||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),fa(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=$7(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Ts([p,s.encodeLocation?s.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Ts([p,s.encodeLocation?s.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,n,r,a);return e&&C?w.createElement(dh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},C):C}function U7(){let t=K7(),e=O7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:s},"ErrorBoundary")," or"," ",w.createElement("code",{style:s},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var V7=w.createElement(U7,null),z7=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(Zi.Provider,{value:this.props.routeContext},w.createElement(FN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B7({routeContext:t,match:e,children:n}){let r=w.useContext(Xu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Zi.Provider,{value:t},n)}function $7(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,c=n==null?void 0:n.errors;if(c!=null){let p=s.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);an(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let d=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:N}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||E){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{var x,N;r(p,{location:n.location,params:((N=(x=n.matches)==null?void 0:x[0])==null?void 0:N.params)??{},errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let N,E=!1,_=null,j=null;n&&(N=c&&g.route.id?c[g.route.id]:void 0,_=g.route.errorElement||V7,d&&(f<0&&x===0?(WP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,j=null):f===x&&(E=!0,j=g.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,x+1)),M=()=>{let k;return N?k=_:E?k=j:g.route.Component?k=w.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,w.createElement(B7,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(z7,{location:n.location,revalidation:n.revalidation,component:_,error:N,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):M()},null)}function HN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F7(t){let e=w.useContext(Xu);return an(e,HN(t)),e}function q7(t){let e=w.useContext(Py);return an(e,HN(t)),e}function H7(t){let e=w.useContext(Zi);return an(e,HN(t)),e}function GN(t){let e=H7(t),n=e.matches[e.matches.length-1];return an(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function G7(){return GN("useRouteId")}function K7(){var r;let t=w.useContext(FN),e=q7("useRouteError"),n=GN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Y7(){let{router:t}=F7("useNavigate"),e=GN("useNavigate"),n=w.useRef(!1);return KP(()=>{n.current=!0}),w.useCallback(async(a,s={})=>{fa(n.current,GP),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var T2={};function WP(t,e,n){!e&&!T2[t]&&(T2[t]=!0,fa(!1,n))}w.memo(W7);function W7({routes:t,future:e,state:n,unstable_onError:r}){return YP(t,void 0,n,r,e)}function X7({to:t,replace:e,state:n,relative:r}){an(Qu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(ui);fa(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=w.useContext(Zi),{pathname:c}=es(),d=qN(),f=$N(t,BN(s),c,r==="path"),h=JSON.stringify(f);return w.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function en(t){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){an(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof n=="string"&&(n=hc(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,N=w.useMemo(()=>{let E=Rs(f,c);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:x},navigationType:r}},[c,f,h,p,g,x,r]);return fa(N!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(ui.Provider,{value:d},w.createElement(dh.Provider,{children:e,value:N}))}function J7({children:t,location:e}){return L7(o1(t),e)}function o1(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let s=[...e,a];if(r.type===w.Fragment){n.push.apply(n,o1(r.props.children,s));return}an(r.type===en,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=o1(r.props.children,s)),n.push(c)}),n}var Yp="get",Wp="application/x-www-form-urlencoded";function ky(t){return t!=null&&typeof t.tagName=="string"}function Z7(t){return ky(t)&&t.tagName.toLowerCase()==="button"}function ez(t){return ky(t)&&t.tagName.toLowerCase()==="form"}function tz(t){return ky(t)&&t.tagName.toLowerCase()==="input"}function nz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rz(t,e){return t.button===0&&(!e||e==="_self")&&!nz(t)}var Np=null;function az(){if(Np===null)try{new FormData(document.createElement("form"),0),Np=!1}catch{Np=!0}return Np}var iz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lb(t){return t!=null&&!iz.has(t)?(fa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wp}"`),null):t}function sz(t,e){let n,r,a,s,c;if(ez(t)){let d=t.getAttribute("action");r=d?Rs(d,e):null,n=t.getAttribute("method")||Yp,a=lb(t.getAttribute("enctype"))||Wp,s=new FormData(t)}else if(Z7(t)||tz(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?Rs(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Yp,a=lb(t.getAttribute("formenctype"))||lb(d.getAttribute("enctype"))||Wp,s=new FormData(d,t),!az()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(ky(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yp,r=null,a=Wp,c=t}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function KN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lz(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Rs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oz(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cz(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uz(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let c=await oz(s,n);return c.links?c.links():[]}return[]}));return mz(r.flat(1).filter(cz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C2(t,e,n,r,a,s){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,d=(f,h)=>{var p;return n[h].pathname!==f.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return s==="assets"?e.filter((f,h)=>c(f,h)||d(f,h)):s==="data"?e.filter((f,h)=>{var g;let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function dz(t,e,{includeHydrateFallback:n}={}){return fz(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function fz(t){return[...new Set(t)]}function hz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function mz(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(hz(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function XP(){let t=w.useContext(Xu);return KN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pz(){let t=w.useContext(Py);return KN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var YN=w.createContext(void 0);YN.displayName="FrameworkContext";function QP(){let t=w.useContext(YN);return KN(t,"You must render this element inside a <HydratedRouter> element"),t}function gz(t,e){let n=w.useContext(YN),[r,a]=w.useState(!1),[s,c]=w.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=C=>{C.forEach(M=>{c(M.isIntersecting)})},j=new IntersectionObserver(_,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),w.useEffect(()=>{if(r){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[r]);let N=()=>{a(!0)},E=()=>{a(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:gf(d,N),onBlur:gf(f,E),onMouseEnter:gf(h,N),onMouseLeave:gf(p,E),onTouchStart:gf(g,N)}]:[!1,x,{}]}function gf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yz({page:t,...e}){let{router:n}=XP(),r=w.useMemo(()=>BP(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(xz,{page:t,matches:r,...e}):null}function vz(t){let{manifest:e,routeModules:n}=QP(),[r,a]=w.useState([]);return w.useEffect(()=>{let s=!1;return uz(t,e,n).then(c=>{s||a(c)}),()=>{s=!0}},[t,e,n]),r}function xz({page:t,matches:e,...n}){let r=es(),{manifest:a,routeModules:s}=QP(),{basename:c}=XP(),{loaderData:d,matches:f}=pz(),h=w.useMemo(()=>C2(t,e,f,a,r,"data"),[t,e,f,a,r]),p=w.useMemo(()=>C2(t,e,f,a,r,"assets"),[t,e,f,a,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,_=!1;if(e.forEach(C=>{var k;let M=a.routes[C.route.id];!M||!M.hasLoader||(!h.some(T=>T.route.id===C.route.id)&&C.route.id in d&&((k=s[C.route.id])!=null&&k.shouldRevalidate)||M.hasClientLoader?_=!0:E.add(C.route.id))}),E.size===0)return[];let j=lz(t,c,"data");return _&&E.size>0&&j.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[j.pathname+j.search]},[c,d,r,a,h,e,t,s]),x=w.useMemo(()=>dz(p,a),[p,a]),N=vz(p);return w.createElement(w.Fragment,null,g.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),x.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),N.map(({key:E,link:_})=>w.createElement("link",{key:E,nonce:n.nonce,..._})))}function bz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JP&&(window.__reactRouterVersion="7.9.6")}catch{}function wz({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=l7({window:n,v5Compat:!0}));let a=r.current,[s,c]=w.useState({action:a.action,location:a.location}),d=w.useCallback(f=>{w.startTransition(()=>c(f))},[c]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(Q7,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var ZP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:d,target:f,to:h,preventScrollReset:p,viewTransition:g,...x},N){let{basename:E}=w.useContext(ui),_=typeof h=="string"&&ZP.test(h),j,C=!1;if(typeof h=="string"&&_&&(j=h,JP))try{let $=new URL(window.location.href),A=h.startsWith("//")?new URL($.protocol+h):new URL(h),O=Rs(A.pathname,E);A.origin===$.origin&&O!=null?h=O+A.search+A.hash:C=!0}catch{fa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=k7(h,{relative:a}),[k,T,R]=gz(r,x),L=Ez(h,{replace:c,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:g});function D($){e&&e($),$.defaultPrevented||L($)}let U=w.createElement("a",{...x,...R,href:j||M,onClick:C||s?e:D,ref:bz(N,T),target:f,"data-discover":!_&&n==="render"?"true":void 0});return k&&!_?w.createElement(w.Fragment,null,U,w.createElement(yz,{page:M})):U});WN.displayName="Link";var Nz=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:d,children:f,...h},p){let g=fh(c,{relative:h.relative}),x=es(),N=w.useContext(Py),{navigator:E,basename:_}=w.useContext(ui),j=N!=null&&Iz(g)&&d===!0,C=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,M=x.pathname,k=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(M=M.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&_&&(k=Rs(k,_)||k);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=M===C||!a&&M.startsWith(C)&&M.charAt(T)==="/",L=k!=null&&(k===C||!a&&k.startsWith(C)&&k.charAt(C.length)==="/"),D={isActive:R,isPending:L,isTransitioning:j},U=R?e:void 0,$;typeof r=="function"?$=r(D):$=[r,R?"active":null,L?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(D):s;return w.createElement(WN,{...h,"aria-current":U,className:$,ref:p,style:A,to:c,viewTransition:d},typeof f=="function"?f(D):f)});Nz.displayName="NavLink";var _z=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Yp,action:d,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,...x},N)=>{let E=Tz(),_=Cz(d,{relative:h}),j=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&ZP.test(d),M=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let T=k.nativeEvent.submitter,R=(T==null?void 0:T.getAttribute("formmethod"))||c;E(T||k.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return w.createElement("form",{ref:N,method:j,action:_,onSubmit:r?f:M,...x,"data-discover":!C&&t==="render"?"true":void 0})});_z.displayName="Form";function jz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e4(t){let e=w.useContext(Xu);return an(e,jz(t)),e}function Ez(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c}={}){let d=qN(),f=es(),h=fh(t,{relative:s});return w.useCallback(p=>{if(rz(p,e)){p.preventDefault();let g=n!==void 0?n:Vf(f)===Vf(h);d(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:c})}},[f,d,h,n,r,e,t,a,s,c])}var Sz=0,Az=()=>`__${String(++Sz)}__`;function Tz(){let{router:t}=e4("useSubmit"),{basename:e}=w.useContext(ui),n=G7();return w.useCallback(async(r,a={})=>{let{action:s,method:c,encType:d,formData:f,body:h}=sz(r,e);if(a.navigate===!1){let p=a.fetcherKey||Az();await t.fetch(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:f,body:h,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Cz(t,{relative:e}={}){let{basename:n}=w.useContext(ui),r=w.useContext(Zi);an(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...fh(t||".",{relative:e})},c=es();if(t==null){s.search=c.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(p=>p==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ts([n,s.pathname])),Vf(s)}function Iz(t,{relative:e}={}){let n=w.useContext(HP);an(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=e4("useViewTransitionState"),a=fh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return pg(a.pathname,c)!=null||pg(a.pathname,s)!=null}var t4=zP();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),I2=t=>{const e=Rz(t);return e.charAt(0).toUpperCase()+e.slice(1)},n4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Dz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...d},f)=>w.createElement("svg",{ref:f,...Pz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:n4("lucide",a),...!s&&!Dz(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=w.forwardRef(({className:r,...a},s)=>w.createElement(kz,{ref:s,iconNode:e,className:n4(`lucide-${Oz(I2(t))}`,`lucide-${t}`,r),...a}));return n.displayName=I2(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],r4=Ce("activity",Mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],O2=Ce("archive",Lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vz=Ce("arrow-left",Uz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Bz=Ce("arrow-right-left",zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Xp=Ce("award",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],a4=Ce("badge-check",Fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Cs=Ce("book-open",qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ds=Ce("briefcase",Hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Kz=Ce("building",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Wz=Ce("bus",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Qp=Ce("calendar-days",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hh=Ce("calendar",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Zz=Ce("chart-column",Jz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XN=Ce("chevron-down",e9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QN=Ce("chevron-up",t9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JN=Ce("circle-alert",n9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],la=Ce("circle-check",r9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i9=Ce("circle-play",a9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Of=Ce("circle-plus",s9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],i4=Ce("circle-user",l9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ZN=Ce("circle-x",o9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],s4=Ce("clipboard-list",c9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hi=Ce("clock",u9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Ir=Ce("cloud-upload",d9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],h9=Ce("copy",f9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gg=Ce("download",m9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yg=Ce("external-link",p9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],y9=Ce("file-clock",g9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],l4=Ce("file-input",v9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],o4=Ce("file-output",x9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nr=Ce("file-text",b9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],c1=Ce("flask-conical",w9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_9=Ce("funnel",N9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],c4=Ce("globe",j9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Yo=Ce("graduation-cap",E9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],A9=Ce("history",S9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],C9=Ce("import",T9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],u1=Ce("key",I9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],R9=Ce("layout-dashboard",O9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],u4=Ce("leaf",D9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],d4=Ce("library",P9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],R2=Ce("link",k9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ze=Ce("loader-circle",M9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ob=Ce("lock",L9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V9=Ce("log-out",U9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],d1=Ce("mail",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],f4=Ce("map-pin",B9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],f1=Ce("megaphone",$9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],q9=Ce("menu",F9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],D2=Ce("message-circle",H9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],K9=Ce("mic-vocal",G9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],vg=Ce("microscope",Y9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Ef=Ce("network",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jp=Ce("phone",X9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],e_=Ce("plane",Q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$t=Ce("plus",J9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],eB=Ce("presentation",Z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],nB=Ce("qr-code",tB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],h1=Ce("refresh-ccw",rB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wn=Ce("save",aB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ec=Ce("search",iB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],h4=Ce("send",sB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m4=Ce("settings",lB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],p4=Ce("shield-alert",oB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],bu=Ce("sprout",cB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Un=Ce("square-pen",uB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],fB=Ce("stethoscope",dB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],mB=Ce("table",hB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zp=Ce("target",pB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ut=Ce("trash-2",gB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hr=Ce("triangle-alert",yB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],P2=Ce("user-check",vB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bB=Ce("user-cog",xB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],g4=Ce("user-plus",wB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],y4=Ce("user",NB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ai=Ce("users",_B);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Et=Ce("x",jB);var _e=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(_e||{}),nt=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(nt||{});const EB=({children:t,user:e,onLogout:n})=>{const[r,a]=w.useState(!1),s=es(),c=h=>s.pathname===h,f=[{path:"/",label:" ",icon:R9,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY,_e.EMPLOYEE]},{path:"/outgoing",label:"",icon:o4,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY]},{path:"/incoming",label:"",icon:l4,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY]},{path:"/councils",label:" ",icon:ai,roles:[_e.ADMIN,_e.STAFF]},{path:"/committees",label:" ",icon:s4,roles:[_e.ADMIN,_e.STAFF]},{path:"/formation",label:"  ",icon:Ef,roles:[_e.ADMIN,_e.STAFF]},{path:"/research-plan",label:"  ",icon:Zp,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG]},{path:"/events",label:"  ",icon:f1,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG,_e.ALUMNI,_e.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:y9,roles:[_e.ADMIN,_e.STAFF]},{path:"/repository",label:"   ",icon:d4,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG,_e.ALUMNI,_e.EMPLOYEE]},{path:"/inventory",label:" ",icon:vg,roles:[_e.ADMIN,_e.STAFF]},{path:"/labs",label:" ",icon:c1,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:bu,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG]},{path:"/staff",label:" ",icon:i4,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG]},{path:"/annual-report",label:" ",icon:Nr,roles:[_e.ADMIN,_e.STAFF]},{path:"/leaves",label:" ",icon:Qp,roles:[_e.ADMIN,_e.STAFF,_e.EMPLOYEE]},{path:"/career-movements",label:"   ",icon:e_,roles:[_e.ADMIN,_e.STAFF,_e.EMPLOYEE]},{path:"/students",label:" ",icon:Cs,roles:[_e.ADMIN,_e.STAFF,_e.STUDENT_PG,_e.STUDENT_UG]},{path:"/alumni",label:" ",icon:Ds,roles:[_e.ADMIN,_e.STAFF,_e.ALUMNI]},{path:"/users",label:" ",icon:bB,roles:[_e.ADMIN]},{path:"/activity-log",label:" ",icon:r4,roles:[_e.ADMIN]},{path:"/search",label:" ",icon:ec,roles:[_e.ADMIN,_e.STAFF,_e.DATA_ENTRY]}].filter(h=>h.roles.includes(e.role));return l.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),l.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[l.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[l.jsx("div",{className:"bg-white p-2 rounded-full",children:l.jsx(u4,{className:"w-6 h-6 text-green-700"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-bold text-sm",children:"   "}),l.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),l.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:f.map(h=>l.jsxs(WN,{to:h.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(h.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[l.jsx(h.icon,{className:"w-5 h-5"}),l.jsx("span",{children:h.label})]},h.path))}),l.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),l.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===_e.ADMIN?" ":e.role===_e.STAFF?"  ":e.role===_e.STUDENT_PG?" ":e.role===_e.STUDENT_UG?"":e.role===_e.EMPLOYEE?" / ":""})]})]}),l.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[l.jsx(V9,{className:"w-4 h-4"}),l.jsx("span",{children:" "})]})]})]}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[l.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[l.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),l.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:l.jsx(q9,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function v4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=v4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=v4(t))&&(r&&(r+=" "),r+=e);return r}var SB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function t_(t){if(typeof t!="string")return!1;var e=SB;return e.includes(t)}var AB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TB=new Set(AB);function x4(t){return typeof t!="string"?!1:TB.has(t)}function b4(t){return typeof t=="string"&&t.startsWith("data-")}function si(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(x4(n)||b4(n))&&(e[n]=t[n]);return e}function zf(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return si(e)}return typeof t=="object"&&!Array.isArray(t)?si(t):null}function Da(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(x4(n)||b4(n)||t_(n))&&(e[n]=t[n]);return e}var CB=["children","width","height","viewBox","className","style","title","desc"];function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m1.apply(null,arguments)}function IB(t,e){if(t==null)return{};var n,r,a=OB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function OB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var w4=w.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:d,title:f,desc:h}=t,p=IB(t,CB),g=s||{width:r,height:a,x:0,y:0},x=Vt("recharts-surface",c);return w.createElement("svg",m1({},Da(p),{className:x,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,f),w.createElement("desc",null,h),n)}),RB=["children","className"];function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p1.apply(null,arguments)}function DB(t,e){if(t==null)return{};var n,r,a=PB(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function PB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rr=w.forwardRef((t,e)=>{var{children:n,className:r}=t,a=DB(t,RB),s=Vt("recharts-layer",r);return w.createElement("g",p1({className:s},Da(a),{ref:e}),n)}),kB=w.createContext(null);function Gt(t){return function(){return t}}const N4=Math.cos,xg=Math.sin,di=Math.sqrt,bg=Math.PI,My=2*bg,g1=Math.PI,y1=2*g1,Vo=1e-6,MB=y1-Vo;function _4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function LB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _4;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class UB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_4:LB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,d=this._y1,f=r-e,h=a-n,p=c-e,g=d-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>Vo)if(!(Math.abs(g*f-h*p)>Vo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let N=r-c,E=a-d,_=f*f+h*h,j=N*N+E*E,C=Math.sqrt(_),M=Math.sqrt(x),k=s*Math.tan((g1-Math.acos((_+x-j)/(2*C*M)))/2),T=k/M,R=k/C;Math.abs(T-1)>Vo&&this._append`L${e+T*p},${n+T*g}`,this._append`A${s},${s},0,0,${+(g*N>p*E)},${this._x1=e+R*f},${this._y1=n+R*h}`}}arc(e,n,r,a,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),f=r*Math.sin(a),h=e+d,p=n+f,g=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Vo||Math.abs(this._y1-p)>Vo)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%y1+y1),x>MB?this._append`A${r},${r},0,1,${g},${e-d},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>Vo&&this._append`A${r},${r},0,${+(x>=g1)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function n_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new UB(e)}function r_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j4(t){this._context=t}j4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new j4(t)}function E4(t){return t[0]}function S4(t){return t[1]}function A4(t,e){var n=Gt(!0),r=null,a=Ly,s=null,c=n_(d);t=typeof t=="function"?t:t===void 0?E4:Gt(t),e=typeof e=="function"?e:e===void 0?S4:Gt(e);function d(f){var h,p=(f=r_(f)).length,g,x=!1,N;for(r==null&&(s=a(N=c())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(N)return s=null,N+""||null}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),d):t},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),d):e},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Gt(!!f),d):n},d.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),d):a},d.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),d):r},d}function _p(t,e,n){var r=null,a=Gt(!0),s=null,c=Ly,d=null,f=n_(h);t=typeof t=="function"?t:t===void 0?E4:Gt(+t),e=typeof e=="function"?e:Gt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?S4:Gt(+n);function h(g){var x,N,E,_=(g=r_(g)).length,j,C=!1,M,k=new Array(_),T=new Array(_);for(s==null&&(d=c(M=f())),x=0;x<=_;++x){if(!(x<_&&a(j=g[x],x,g))===C)if(C=!C)N=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),E=x-1;E>=N;--E)d.point(k[E],T[E]);d.lineEnd(),d.areaEnd()}C&&(k[x]=+t(j,x,g),T[x]=+e(j,x,g),d.point(r?+r(j,x,g):k[x],n?+n(j,x,g):T[x]))}if(M)return d=null,M+""||null}function p(){return A4().defined(a).curve(c).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Gt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Gt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Gt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Gt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Gt(!!g),h):a},h.curve=function(g){return arguments.length?(c=g,s!=null&&(d=c(s)),h):c},h.context=function(g){return arguments.length?(g==null?s=d=null:d=c(s=g),h):s},h}class T4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function VB(t){return new T4(t,!0)}function zB(t){return new T4(t,!1)}const a_={draw(t,e){const n=di(e/bg);t.moveTo(n,0),t.arc(0,0,n,0,My)}},BB={draw(t,e){const n=di(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},C4=di(1/3),$B=C4*2,FB={draw(t,e){const n=di(e/$B),r=n*C4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qB={draw(t,e){const n=di(e),r=-n/2;t.rect(r,r,n,n)}},HB=.8908130915292852,I4=xg(bg/10)/xg(7*bg/10),GB=xg(My/10)*I4,KB=-N4(My/10)*I4,YB={draw(t,e){const n=di(e*HB),r=GB*n,a=KB*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const c=My*s/5,d=N4(c),f=xg(c);t.lineTo(f*n,-d*n),t.lineTo(d*r-f*a,f*r+d*a)}t.closePath()}},cb=di(3),WB={draw(t,e){const n=-di(e/(cb*3));t.moveTo(0,n*2),t.lineTo(-cb*n,-n),t.lineTo(cb*n,-n),t.closePath()}},Aa=-.5,Ta=di(3)/2,v1=1/di(12),XB=(v1/2+1)*3,QB={draw(t,e){const n=di(e/XB),r=n/2,a=n*v1,s=r,c=n*v1+n,d=-s,f=c;t.moveTo(r,a),t.lineTo(s,c),t.lineTo(d,f),t.lineTo(Aa*r-Ta*a,Ta*r+Aa*a),t.lineTo(Aa*s-Ta*c,Ta*s+Aa*c),t.lineTo(Aa*d-Ta*f,Ta*d+Aa*f),t.lineTo(Aa*r+Ta*a,Aa*a-Ta*r),t.lineTo(Aa*s+Ta*c,Aa*c-Ta*s),t.lineTo(Aa*d+Ta*f,Aa*f-Ta*d),t.closePath()}};function JB(t,e){let n=null,r=n_(a);t=typeof t=="function"?t:Gt(t||a_),e=typeof e=="function"?e:Gt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Gt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Gt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function wg(){}function Ng(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function O4(t){this._context=t}O4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ng(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZB(t){return new O4(t)}function R4(t){this._context=t}R4.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e$(t){return new R4(t)}function D4(t){this._context=t}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ng(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function t$(t){return new D4(t)}function P4(t){this._context=t}P4.prototype={areaStart:wg,areaEnd:wg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function n$(t){return new P4(t)}function k2(t){return t<0?-1:1}function M2(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(s*a+c*r)/(r+a);return(k2(s)+k2(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(d))||0}function L2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ub(t,e,n){var r=t._x0,a=t._y0,s=t._x1,c=t._y1,d=(s-r)/3;t._context.bezierCurveTo(r+d,a+d*e,s-d,c-d*n,s,c)}function _g(t){this._context=t}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ub(this,this._t0,L2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ub(this,L2(this,n=M2(this,t,e)),n);break;default:ub(this,this._t0,n=M2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k4(t){this._context=new M4(t)}(k4.prototype=Object.create(_g.prototype)).point=function(t,e){_g.prototype.point.call(this,e,t)};function M4(t){this._context=t}M4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function r$(t){return new _g(t)}function a$(t){return new k4(t)}function L4(t){this._context=t}L4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=U2(t),a=U2(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function U2(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function i$(t){return new L4(t)}function Uy(t,e){this._context=t,this._t=e}Uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function s$(t){return new Uy(t,.5)}function l$(t){return new Uy(t,0)}function o$(t){return new Uy(t,1)}function Du(t,e){if((c=t.length)>1)for(var n=1,r,a,s=t[e[0]],c,d=s.length;n<c;++n)for(a=s,s=t[e[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function x1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function c$(t,e){return t[e]}function u$(t){const e=[];return e.key=t,e}function d$(){var t=Gt([]),e=x1,n=Du,r=c$;function a(s){var c=Array.from(t.apply(this,arguments),u$),d,f=c.length,h=-1,p;for(const g of s)for(d=0,++h;d<f;++d)(c[d][h]=[0,+r(g,c[d].key,h,s)]).data=g;for(d=0,p=r_(e(c));d<f;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Gt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Gt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?x1:typeof s=="function"?s:Gt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Du,a):n},a}function f$(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Du(t,e)}}function h$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Du(t,e)}}function m$(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var d=0,f=0,h=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,x=p[r-1][1]||0,N=(g-x)/2,E=0;E<d;++E){var _=t[e[E]],j=_[r][1]||0,C=_[r-1][1]||0;N+=j-C}f+=g,h+=N*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Du(t,e)}}var db={},fb={},V2;function p$(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(fb)),fb}var hb={},z2;function U4(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(hb)),hb}var mb={},B2;function i_(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(mb)),mb}var pb={},gb={},$2;function g$(){return $2||($2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(gb)),gb}var F2;function s_(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g$(),n=i_();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let d=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),d++);d<c;){const g=a[d];h?g==="\\"&&d+1<c?(d++,f+=a[d]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,d++}return f&&s.push(f),s}t.toPath=r})(pb)),pb}var q2;function l_(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p$(),n=U4(),r=i_(),a=s_();function s(d,f,h){if(d==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?n.isDeepKey(f)?s(d,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=d[f];return p===void 0?h:p}default:{if(Array.isArray(f))return c(d,f,h);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=d[f];return p===void 0?h:p}}}function c(d,f,h){if(f.length===0)return h;let p=d;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})(db)),db}var yb,H2;function y$(){return H2||(H2=1,yb=l_().get),yb}var v$=y$();const tc=Ji(v$);var nr=t=>t===0?0:t>0?1:-1,li=t=>typeof t=="number"&&t!=+t,Ps=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ue=t=>(typeof t=="number"||t instanceof Number)&&!li(t),Gi=t=>Ue(t)||typeof t=="string",x$=0,Bf=t=>{var e=++x$;return"".concat(t||"").concat(e)},_r=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(e)&&typeof e!="string")return r;var s;if(Ps(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return li(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},V4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Bn(t,e,n){return Ue(t)&&Ue(e)?t+n*(e-t):e}function b$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):tc(r,e))===n)}var rr=t=>t===null||typeof t>"u",mh=t=>rr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function w$(t){return t!=null}function ph(){}var N$=["type","size","sizeType"];function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b1.apply(null,arguments)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){_$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _$(t,e,n){return(e=j$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=E$(t,"string");return typeof e=="symbol"?e:e+""}function E$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S$(t,e){if(t==null)return{};var n,r,a=A$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function A$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var z4={symbolCircle:a_,symbolCross:BB,symbolDiamond:FB,symbolSquare:qB,symbolStar:YB,symbolTriangle:WB,symbolWye:QB},T$=Math.PI/180,C$=t=>{var e="symbol".concat(mh(t));return z4[e]||a_},I$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*T$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},O$=(t,e)=>{z4["symbol".concat(mh(t))]=e},B4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=S$(t,N$),s=K2(K2({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var x=C$(c),N=JB().type(x).size(I$(n,r,c)),E=N();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=Da(s);return Ue(h)&&Ue(p)&&Ue(n)?w.createElement("path",b1({},g,{className:Vt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};B4.registerSymbol=O$;var $4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,R$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{t_(a)&&(r[a]=(s=>n[a](n,s)))}),r},D$=(t,e,n)=>r=>(t(e,n,r),null),Vy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];t_(a)&&typeof s=="function"&&(r||(r={}),r[a]=D$(s,e,n))}),r};function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function P$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){k$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k$(t,e,n){return(e=M$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=L$(t,"string");return typeof e=="symbol"?e:e+""}function L$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Er(t,e){var n=P$({},t),r=e,a=Object.keys(e),s=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return s}var vb={},xb={},W2;function U$(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(xb)),xb}var bb={},X2;function F4(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(bb)),bb}var wb={},Nb={},_b={},Q2;function V$(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(_b)),_b}var J2;function o_(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V$();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Nb)),Nb}var jb={},Z2;function z$(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(jb)),jb}var eC;function B$(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_(),n=z$();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(wb)),wb}var Eb={},Sb={},tC;function $$(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Sb)),Sb}var Ab={},Tb={},Cb={},Ib={},nC;function q4(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ib)),Ib}var Ob={},rC;function H4(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Ob)),Ob}var Rb={},aC;function G4(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Rb)),Rb}var iC;function F$(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q4(),n=H4(),r=G4();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function N(E,_,j,C,M,k){const T=x(E,_,j,C,M,k);return T!==void 0?!!T:s(E,_,N,k)},new Map)}function s(p,g,x,N){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,x,N);case"function":return Object.keys(g).length>0?s(p,{...g},x,N):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,x,N){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,N);if(g instanceof Map)return d(p,g,x,N);if(g instanceof Set)return h(p,g,x,N);const E=Object.keys(g);if(p==null)return E.length===0;if(E.length===0)return!0;if(N!=null&&N.has(g))return N.get(g)===p;N==null||N.set(g,p);try{for(let _=0;_<E.length;_++){const j=E[_];if(!n.isPrimitive(p)&&!(j in p)||g[j]===void 0&&p[j]!==void 0||g[j]===null&&p[j]!==null||!x(p[j],g[j],j,p,g,N))return!1}return!0}finally{N==null||N.delete(g)}}function d(p,g,x,N){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,_]of g.entries()){const j=p.get(E);if(x(j,_,E,p,g,N)===!1)return!1}return!0}function f(p,g,x,N){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let _=0;_<g.length;_++){const j=g[_];let C=!1;for(let M=0;M<p.length;M++){if(E.has(M))continue;const k=p[M];let T=!1;if(x(k,j,_,p,g,N)&&(T=!0),T){E.add(M),C=!0;break}}if(!C)return!1}return!0}function h(p,g,x,N){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,N):!1}t.isMatchWith=a,t.isSetMatch=h})(Cb)),Cb}var sC;function K4(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F$();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Tb)),Tb}var Db={},Pb={},kb={},lC;function q$(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(kb)),kb}var Mb={},oC;function Y4(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Mb)),Mb}var Lb={},cC;function W4(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",N="[object Object]",E="[object Error]",_="[object DataView]",j="[object Uint8Array]",C="[object Uint8ClampedArray]",M="[object Uint16Array]",k="[object Uint32Array]",T="[object BigUint64Array]",R="[object Int8Array]",L="[object Int16Array]",D="[object Int32Array]",U="[object BigInt64Array]",$="[object Float32Array]",A="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=U,t.bigUint64ArrayTag=T,t.booleanTag=a,t.dataViewTag=_,t.dateTag=d,t.errorTag=E,t.float32ArrayTag=$,t.float64ArrayTag=A,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=D,t.int8ArrayTag=R,t.mapTag=f,t.numberTag=r,t.objectTag=N,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=M,t.uint32ArrayTag=k,t.uint8ArrayTag=j,t.uint8ClampedArrayTag=C})(Lb)),Lb}var Ub={},uC;function H$(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Ub)),Ub}var dC;function X4(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q$(),n=Y4(),r=W4(),a=H4(),s=H$();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,x,N=new Map,E=void 0){const _=E==null?void 0:E(p,g,x,N);if(_!==void 0)return _;if(a.isPrimitive(p))return p;if(N.has(p))return N.get(p);if(Array.isArray(p)){const j=new Array(p.length);N.set(p,j);for(let C=0;C<p.length;C++)j[C]=d(p[C],C,x,N,E);return Object.hasOwn(p,"index")&&(j.index=p.index),Object.hasOwn(p,"input")&&(j.input=p.input),j}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const j=new RegExp(p.source,p.flags);return j.lastIndex=p.lastIndex,j}if(p instanceof Map){const j=new Map;N.set(p,j);for(const[C,M]of p)j.set(C,d(M,C,x,N,E));return j}if(p instanceof Set){const j=new Set;N.set(p,j);for(const C of p)j.add(d(C,void 0,x,N,E));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const j=new(Object.getPrototypeOf(p)).constructor(p.length);N.set(p,j);for(let C=0;C<p.length;C++)j[C]=d(p[C],C,x,N,E);return j}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const j=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return N.set(p,j),f(j,p,x,N,E),j}if(typeof File<"u"&&p instanceof File){const j=new File([p],p.name,{type:p.type});return N.set(p,j),f(j,p,x,N,E),j}if(typeof Blob<"u"&&p instanceof Blob){const j=new Blob([p],{type:p.type});return N.set(p,j),f(j,p,x,N,E),j}if(p instanceof Error){const j=new p.constructor;return N.set(p,j),j.message=p.message,j.name=p.name,j.stack=p.stack,j.cause=p.cause,f(j,p,x,N,E),j}if(p instanceof Boolean){const j=new Boolean(p.valueOf());return N.set(p,j),f(j,p,x,N,E),j}if(p instanceof Number){const j=new Number(p.valueOf());return N.set(p,j),f(j,p,x,N,E),j}if(p instanceof String){const j=new String(p.valueOf());return N.set(p,j),f(j,p,x,N,E),j}if(typeof p=="object"&&h(p)){const j=Object.create(Object.getPrototypeOf(p));return N.set(p,j),f(j,p,x,N,E),j}return p}function f(p,g,x=p,N,E){const _=[...Object.keys(g),...e.getSymbols(g)];for(let j=0;j<_.length;j++){const C=_[j],M=Object.getOwnPropertyDescriptor(p,C);(M==null||M.writable)&&(p[C]=d(g[C],C,x,N,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=f})(Pb)),Pb}var fC;function G$(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Db)),Db}var hC;function K$(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K4(),n=G$();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(Ab)),Ab}var Vb={},zb={},Bb={},mC;function Y$(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X4(),n=W4();function r(a,s){return e.cloneDeepWith(a,(c,d,f,h)=>{const p=s==null?void 0:s(c,d,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Bb)),Bb}var pC;function W$(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y$();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(zb)),zb}var $b={},Fb={},gC;function Q4(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Fb)),Fb}var qb={},yC;function X$(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(qb)),qb}var vC;function Q$(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U4(),n=Q4(),r=X$(),a=s_();function s(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=a.toPath(d):f=[d],f.length===0)return!1;let h=c;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})($b)),$b}var xC;function J$(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K4(),n=i_(),r=W$(),a=l_(),s=Q$();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,d);return p===void 0?s.has(h,d):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=c})(Vb)),Vb}var bC;function Z$(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F4(),n=$$(),r=K$(),a=J$();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(Eb)),Eb}var wC;function eF(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U$(),n=F4(),r=B$(),a=Z$();function s(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=s})(vb)),vb}var Hb,NC;function tF(){return NC||(NC=1,Hb=eF().uniqBy),Hb}var nF=tF();const _C=Ji(nF);function rF(t,e,n){return e===!0?_C(t,n):typeof e=="function"?_C(t,e):t}var Gb={exports:{}},Kb={},Yb={exports:{}},Wb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC;function aF(){if(jC)return Wb;jC=1;var t=Wu();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function d(g,x){var N=x(),E=r({inst:{value:N,getSnapshot:x}}),_=E[0].inst,j=E[1];return s(function(){_.value=N,_.getSnapshot=x,f(_)&&j({inst:_})},[g,N,x]),a(function(){return f(_)&&j({inst:_}),g(function(){f(_)&&j({inst:_})})},[g]),c(N),N}function f(g){var x=g.getSnapshot;g=g.value;try{var N=x();return!n(g,N)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Wb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Wb}var EC;function iF(){return EC||(EC=1,Yb.exports=aF()),Yb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function sF(){if(SC)return Kb;SC=1;var t=Wu(),e=iF();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,d=t.useMemo,f=t.useDebugValue;return Kb.useSyncExternalStoreWithSelector=function(h,p,g,x,N){var E=s(null);if(E.current===null){var _={hasValue:!1,value:null};E.current=_}else _=E.current;E=d(function(){function C(L){if(!M){if(M=!0,k=L,L=x(L),N!==void 0&&_.hasValue){var D=_.value;if(N(D,L))return T=D}return T=L}if(D=T,r(k,L))return D;var U=x(L);return N!==void 0&&N(D,U)?(k=L,D):(k=L,T=U)}var M=!1,k,T,R=g===void 0?null:g;return[function(){return C(p())},R===null?void 0:function(){return C(R())}]},[p,g,x,N]);var j=a(h,E[0],E[1]);return c(function(){_.hasValue=!0,_.value=j},[j]),f(j),j},Kb}var AC;function lF(){return AC||(AC=1,Gb.exports=sF()),Gb.exports}var oF=lF(),c_=w.createContext(null),cF=t=>t,sn=()=>{var t=w.useContext(c_);return t?t.store.dispatch:cF},eg=()=>{},uF=()=>eg,dF=(t,e)=>t===e;function Ve(t){var e=w.useContext(c_);return oF.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:uF,e?e.store.getState:eg,e?e.store.getState:eg,e?t:eg,dF)}function fF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function hF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function mF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var TC=t=>Array.isArray(t)?t:[t];function pF(t){const e=Array.isArray(t[0])?t[0]:t;return mF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function gF(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var yF=class{constructor(t){this.value=t}deref(){return this.value}},vF=typeof WeakRef<"u"?WeakRef:yF,xF=0,CC=1;function jp(){return{s:xF,v:void 0,o:null,p:null}}function J4(t,e={}){let n=jp();const{resultEqualityCheck:r}=e;let a,s=0;function c(){var g;let d=n;const{length:f}=arguments;for(let x=0,N=f;x<N;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let _=d.o;_===null&&(d.o=_=new WeakMap);const j=_.get(E);j===void 0?(d=jp(),_.set(E,d)):d=j}else{let _=d.p;_===null&&(d.p=_=new Map);const j=_.get(E);j===void 0?(d=jp(),_.set(E,d)):d=j}}const h=d;let p;if(d.s===CC)p=d.v;else if(p=t.apply(null,arguments),s++,r){const x=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;x!=null&&r(x,p)&&(p=x,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new vF(p):p}return h.s=CC,h.v=p,p}return c.clearCache=()=>{n=jp(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function bF(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,c=0,d,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),fF(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:N=J4,argsMemoizeOptions:E=[]}=p,_=TC(x),j=TC(E),C=pF(a),M=g(function(){return s++,h.apply(null,arguments)},..._),k=N(function(){c++;const R=gF(C,arguments);return d=M.apply(null,R),d},...j);return Object.assign(k,{resultFunc:h,memoizedResultFunc:M,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:N})};return Object.assign(r,{withTypes:()=>r}),r}var le=bF(J4),wF=Object.assign((t,e=le)=>{hF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>wF}),Xb={},Qb={},Jb={},IC;function NF(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?d-c:c-d}return 0};t.compareValues=n})(Jb)),Jb}var Zb={},ew={},OC;function Z4(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(ew)),ew}var RC;function _F(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(Zb)),Zb}var DC;function jF(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NF(),n=_F(),r=s_();function a(s,c,d,f){if(s==null)return[];d=f?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(N=>String(N));const h=(N,E)=>{let _=N;for(let j=0;j<E.length&&_!=null;++j)_=_[E[j]];return _},p=(N,E)=>E==null||N==null?E:typeof N=="object"&&"key"in N?Object.hasOwn(E,N.key)?E[N.key]:h(E,N.path):typeof N=="function"?N(E):Array.isArray(N)?h(E,N):typeof E=="object"?E[N]:E,g=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||n.isKey(N)?N:{key:N,path:r.toPath(N)}));return s.map(N=>({original:N,criteria:g.map(E=>p(E,N))})).slice().sort((N,E)=>{for(let _=0;_<g.length;_++){const j=e.compareValues(N.criteria[_],E.criteria[_],d[_]);if(j!==0)return j}return 0}).map(N=>N.original)}t.orderBy=a})(Qb)),Qb}var tw={},PC;function EF(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),c=(d,f)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&f<s?c(p,f+1):a.push(p)}};return c(n,0),a}t.flatten=e})(tw)),tw}var nw={},kC;function ek(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q4(),n=o_(),r=q4(),a=G4();function s(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&e.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?a.eq(f[d],c):!1}t.isIterateeCall=s})(nw)),nw}var MC;function SF(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jF(),n=EF(),r=ek();function a(s,...c){const d=c.length;return d>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=a})(Xb)),Xb}var rw,LC;function AF(){return LC||(LC=1,rw=SF().sortBy),rw}var TF=AF();const zy=Ji(TF);var tk=t=>t.legend.settings,CF=t=>t.legend.size,IF=t=>t.legend.payload;le([IF,tk],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?zy(r,n):r});var Ep=1;function OF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>Ep||Math.abs(c.left-e.left)>Ep||Math.abs(c.top-e.top)>Ep||Math.abs(c.width-e.width)>Ep)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function dr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RF=typeof Symbol=="function"&&Symbol.observable||"@@observable",UC=RF,aw=()=>Math.random().toString(36).substring(7).split("").join("."),DF={INIT:`@@redux/INIT${aw()}`,REPLACE:`@@redux/REPLACE${aw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${aw()}`},jg=DF;function u_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function nk(t,e,n){if(typeof t!="function")throw new Error(dr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(dr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(dr(1));return n(nk)(t,e)}let r=t,a=e,s=new Map,c=s,d=0,f=!1;function h(){c===s&&(c=new Map,s.forEach((j,C)=>{c.set(C,j)}))}function p(){if(f)throw new Error(dr(3));return a}function g(j){if(typeof j!="function")throw new Error(dr(4));if(f)throw new Error(dr(5));let C=!0;h();const M=d++;return c.set(M,j),function(){if(C){if(f)throw new Error(dr(6));C=!1,h(),c.delete(M),s=null}}}function x(j){if(!u_(j))throw new Error(dr(7));if(typeof j.type>"u")throw new Error(dr(8));if(typeof j.type!="string")throw new Error(dr(17));if(f)throw new Error(dr(9));try{f=!0,a=r(a,j)}finally{f=!1}return(s=c).forEach(M=>{M()}),j}function N(j){if(typeof j!="function")throw new Error(dr(10));r=j,x({type:jg.REPLACE})}function E(){const j=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(dr(11));function M(){const T=C;T.next&&T.next(p())}return M(),{unsubscribe:j(M)}},[UC](){return this}}}return x({type:jg.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:N,[UC]:E}}function PF(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:jg.INIT})>"u")throw new Error(dr(12));if(typeof n(void 0,{type:jg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(dr(13))})}function rk(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{PF(n)}catch(s){a=s}return function(c={},d){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],N=c[g],E=x(N,d);if(typeof E>"u")throw d&&d.type,new Error(dr(14));h[g]=E,f=f||E!==N}return f=f||r.length!==Object.keys(c).length,f?h:c}}function Eg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function kF(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(dr(15))};const c={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},d=t.map(f=>f(c));return s=Eg(...d)(a.dispatch),{...a,dispatch:s}}}function ak(t){return u_(t)&&"type"in t&&typeof t.type=="string"}var ik=Symbol.for("immer-nothing"),VC=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function Ja(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oa=Object,Pu=oa.getPrototypeOf,Sg="constructor",By="prototype",w1="configurable",Ag="enumerable",tg="writable",$f="value",ks=t=>!!t&&!!t[Dr];function Ki(t){var e;return t?sk(t)||$y(t)||!!t[VC]||!!((e=t[Sg])!=null&&e[VC])||Fy(t)||qy(t):!1}var MF=oa[By][Sg].toString(),zC=new WeakMap;function sk(t){if(!t||!d_(t))return!1;const e=Pu(t);if(e===null||e===oa[By])return!0;const n=oa.hasOwnProperty.call(e,Sg)&&e[Sg];if(n===Object)return!0;if(!pu(n))return!1;let r=zC.get(n);return r===void 0&&(r=Function.toString.call(n),zC.set(n,r)),r===MF}function gh(t,e,n=!0){yh(t)===0?(n?Reflect.ownKeys(t):oa.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function yh(t){const e=t[Dr];return e?e.type_:$y(t)?1:Fy(t)?2:qy(t)?3:0}var BC=(t,e,n=yh(t))=>n===2?t.has(e):oa[By].hasOwnProperty.call(t,e),N1=(t,e,n=yh(t))=>n===2?t.get(e):t[e],Tg=(t,e,n,r=yh(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function LF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var $y=Array.isArray,Fy=t=>t instanceof Map,qy=t=>t instanceof Set,d_=t=>typeof t=="object",pu=t=>typeof t=="function",iw=t=>typeof t=="boolean",ws=t=>t.copy_||t.base_,f_=t=>t.modified_?t.copy_:t.base_;function _1(t,e){if(Fy(t))return new Map(t);if(qy(t))return new Set(t);if($y(t))return Array[By].slice.call(t);const n=sk(t);if(e===!0||e==="class_only"&&!n){const r=oa.getOwnPropertyDescriptors(t);delete r[Dr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d[tg]===!1&&(d[tg]=!0,d[w1]=!0),(d.get||d.set)&&(r[c]={[w1]:!0,[tg]:!0,[Ag]:d[Ag],[$f]:t[c]})}return oa.create(Pu(t),r)}else{const r=Pu(t);if(r!==null&&n)return{...t};const a=oa.create(r);return oa.assign(a,t)}}function h_(t,e=!1){return Hy(t)||ks(t)||(yh(t)>1&&oa.defineProperties(t,{set:Sp,add:Sp,clear:Sp,delete:Sp}),oa.freeze(t),e&&gh(t,(n,r)=>{h_(r,!0)},!1)),t}function UF(){Ja(2)}var Sp={[$f]:UF};function Hy(t){return t===null||!d_(t)?!0:oa.isFrozen(t)}var Cg="MapSet",j1="Patches",lk={};function ku(t){const e=lk[t];return e||Ja(0,t),e}var VF=t=>!!lk[t],Ff,ok=()=>Ff,zF=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:VF(Cg)?ku(Cg):void 0});function $C(t,e){e&&(t.patchPlugin_=ku(j1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function E1(t){S1(t),t.drafts_.forEach(BF),t.drafts_=null}function S1(t){t===Ff&&(Ff=t.parent_)}var FC=t=>Ff=zF(Ff,t);function BF(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Dr].modified_&&(E1(e),Ja(4)),Ki(t)&&(t=HC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Dr].base_,t,e)}else t=HC(e,n);return $F(e,t,!0),E1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ik?t:void 0}function HC(t,e){if(Hy(e))return e;const n=e[Dr];if(!n)return m_(e,t.handledSet_,t);if(!Gy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);dk(n,t)}return n.copy_}function $F(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&h_(e,n)}function ck(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Gy=(t,e)=>t.scope_===e,FF=[];function uk(t,e,n,r){const a=ws(t),s=t.type_;if(r!==void 0&&N1(a,r,s)===e){Tg(a,r,n,s);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;gh(a,(f,h)=>{if(ks(h)){const p=d.get(h)||[];p.push(f),d.set(h,p)}})}const c=t.draftLocations_.get(e)??FF;for(const d of c)Tg(a,d,n,s)}function qF(t,e,n){t.callbacks_.push(function(a){var d;const s=e;if(!s||!Gy(s,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(s);const c=f_(s);uk(t,s.draft_??s,c,n),dk(s,a)})}function dk(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const s=a.getPath(t);s&&a.generatePatches_(t,s,e)}ck(t)}}function HF(t,e,n){const{scope_:r}=t;if(ks(n)){const a=n[Dr];Gy(a,r)&&a.callbacks_.push(function(){ng(t);const c=f_(a);uk(t,n,c,e)})}else Ki(n)&&t.callbacks_.push(function(){const s=ws(t);N1(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&m_(N1(t.copy_,e,t.type_),r.handledSet_,r)})}function m_(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ks(t)||e.has(t)||!Ki(t)||Hy(t)||(e.add(t),gh(t,(r,a)=>{if(ks(a)){const s=a[Dr];if(Gy(s,n)){const c=f_(s);Tg(t,r,c,t.type_),ck(s)}}else Ki(a)&&m_(a,e,n)})),t}function GF(t,e){const n=$y(t),r={type_:n?1:0,scope_:e?e.scope_:ok(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=p_;n&&(a=[r],s=qf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,[d,r]}var p_={get(t,e){if(e===Dr)return t;const n=ws(t);if(!BC(n,e,t.type_))return KF(t,n,e);const r=n[e];if(t.finalized_||!Ki(r))return r;if(r===sw(t.base_,e)){ng(t);const a=t.type_===1?+e:e,s=T1(t.scope_,r,t,a);return t.copy_[a]=s}return r},has(t,e){return e in ws(t)},ownKeys(t){return Reflect.ownKeys(ws(t))},set(t,e,n){const r=fk(ws(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=sw(ws(t),e),s=a==null?void 0:a[Dr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(LF(n,a)&&(n!==void 0||BC(t.base_,e,t.type_)))return!0;ng(t),A1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),HF(t,e,n)),!0},deleteProperty(t,e){return ng(t),sw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),A1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ws(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[tg]:!0,[w1]:t.type_!==1||e!=="length",[Ag]:r[Ag],[$f]:n[e]}},defineProperty(){Ja(11)},getPrototypeOf(t){return Pu(t.base_)},setPrototypeOf(){Ja(12)}},qf={};gh(p_,(t,e)=>{qf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});qf.deleteProperty=function(t,e){return qf.set.call(this,t,e,void 0)};qf.set=function(t,e,n){return p_.set.call(this,t[0],e,n,t[0])};function sw(t,e){const n=t[Dr];return(n?ws(n):t)[e]}function KF(t,e,n){var a;const r=fk(e,n);return r?$f in r?r[$f]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function fk(t,e){if(!(e in t))return;let n=Pu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Pu(n)}}function A1(t){t.modified_||(t.modified_=!0,t.parent_&&A1(t.parent_))}function ng(t){t.copy_||(t.assigned_=new Map,t.copy_=_1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var YF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(pu(n)&&!pu(r)){const c=r;r=n;const d=this;return function(h=c,...p){return d.produce(h,g=>r.call(this,g,...p))}}pu(r)||Ja(6),a!==void 0&&!pu(a)&&Ja(7);let s;if(Ki(n)){const c=FC(this),d=T1(c,n,void 0);let f=!0;try{s=r(d),f=!1}finally{f?E1(c):S1(c)}return $C(c,a),qC(s,c)}else if(!n||!d_(n)){if(s=r(n),s===void 0&&(s=n),s===ik&&(s=void 0),this.autoFreeze_&&h_(s,!0),a){const c=[],d=[];ku(j1).generateReplacementPatches_(n,s,{patches_:c,inversePatches_:d}),a(c,d)}return s}else Ja(1,n)},this.produceWithPatches=(n,r)=>{if(pu(n))return(d,...f)=>this.produceWithPatches(d,h=>n(h,...f));let a,s;return[this.produce(n,r,(d,f)=>{a=d,s=f}),a,s]},iw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),iw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),iw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ki(e)||Ja(8),ks(e)&&(e=ii(e));const n=FC(this),r=T1(n,e,void 0);return r[Dr].isManual_=!0,S1(n),r}finishDraft(e,n){const r=e&&e[Dr];(!r||!r.isManual_)&&Ja(9);const{scope_:a}=r;return $C(a,n),qC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=ku(j1).applyPatches_;return ks(e)?a(e,n):this.produce(e,s=>a(s,n))}};function T1(t,e,n,r){const[a,s]=Fy(e)?ku(Cg).proxyMap_(e,n):qy(e)?ku(Cg).proxySet_(e,n):GF(e,n);return((n==null?void 0:n.scope_)??ok()).drafts_.push(a),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?qF(n,s,r):s.callbacks_.push(function(f){var p;(p=f.mapSetPlugin_)==null||p.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function ii(t){return ks(t)||Ja(10,t),hk(t)}function hk(t){if(!Ki(t)||Hy(t))return t;const e=t[Dr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=_1(t,!0);return gh(n,(a,s)=>{Tg(n,a,hk(s))},r),e&&(e.finalized_=!1),n}var WF=new YF,mk=WF.produce;function pk(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var XF=pk(),QF=pk,JF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)};function Pa(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ua(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>ak(r)&&r.type===t,n}var gk=class Sf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sf.prototype)}static get[Symbol.species](){return Sf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sf(...e[0].concat(this)):new Sf(...e.concat(this))}};function GC(t){return Ki(t)?mk(t,()=>{}):t}function Ap(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ZF(t){return typeof t=="boolean"}var eq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new gk;return n&&(ZF(n)?c.push(XF):c.push(QF(n.extraArgument))),c},yk="RTK_autoBatch",tn=()=>t=>({payload:t,meta:{[yk]:!0}}),KC=t=>e=>{setTimeout(e,t)},vk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,c=!1;const d=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KC(10):t.type==="callback"?t.queueNotification:KC(t.timeout),h=()=>{c=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return d.add(p),()=>{x(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[yk]),s=!a,s&&(c||(c=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},tq=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new gk(t);return r&&a.push(vk(typeof r=="object"?r:void 0)),a};function nq(t){const e=eq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(u_(n))d=rk(n);else throw new Error(ua(1));let f;typeof r=="function"?f=r(e):f=e();let h=Eg;a&&(h=JF({trace:!1,...typeof a=="object"&&a}));const p=kF(...f),g=tq(p);let x=typeof c=="function"?c(g):g();const N=h(...x);return nk(d,s,N)}function xk(t){const e={},n=[];let r;const a={addCase(s,c){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(ua(28));if(d in e)throw new Error(ua(29));return e[d]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function rq(t){return typeof t=="function"}function aq(t,e){let[n,r,a]=xk(e),s;if(rq(t))s=()=>GC(t());else{const d=GC(t);s=()=>d}function c(d=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(ks(p)){const N=g(p,f);return N===void 0?p:N}else{if(Ki(p))return mk(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},d)}return c.getInitialState=s,c}var iq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sq=(t=21)=>{let e="",n=t;for(;n--;)e+=iq[Math.random()*64|0];return e},lq=Symbol.for("rtk-slice-createasyncthunk");function oq(t,e){return`${t}/${e}`}function cq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[lq];return function(a){const{name:s,reducerPath:c=s}=a;if(!s)throw new Error(ua(11));const d=(typeof a.reducers=="function"?a.reducers(dq()):a.reducers)||{},f=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(T,R){const L=typeof T=="string"?T:T.type;if(!L)throw new Error(ua(12));if(L in h.sliceCaseReducersByType)throw new Error(ua(13));return h.sliceCaseReducersByType[L]=R,p},addMatcher(T,R){return h.sliceMatchers.push({matcher:T,reducer:R}),p},exposeAction(T,R){return h.actionCreators[T]=R,p},exposeCaseReducer(T,R){return h.sliceCaseReducersByName[T]=R,p}};f.forEach(T=>{const R=d[T],L={reducerName:T,type:oq(s,T),createNotation:typeof a.reducers=="function"};hq(R)?pq(L,R,p,e):fq(L,R,p)});function g(){const[T={},R=[],L=void 0]=typeof a.extraReducers=="function"?xk(a.extraReducers):[a.extraReducers],D={...T,...h.sliceCaseReducersByType};return aq(a.initialState,U=>{for(let $ in D)U.addCase($,D[$]);for(let $ of h.sliceMatchers)U.addMatcher($.matcher,$.reducer);for(let $ of R)U.addMatcher($.matcher,$.reducer);L&&U.addDefaultCase(L)})}const x=T=>T,N=new Map,E=new WeakMap;let _;function j(T,R){return _||(_=g()),_(T,R)}function C(){return _||(_=g()),_.getInitialState()}function M(T,R=!1){function L(U){let $=U[T];return typeof $>"u"&&R&&($=Ap(E,L,C)),$}function D(U=x){const $=Ap(N,R,()=>new WeakMap);return Ap($,U,()=>{const A={};for(const[O,B]of Object.entries(a.selectors??{}))A[O]=uq(B,U,()=>Ap(E,U,C),R);return A})}return{reducerPath:T,getSelectors:D,get selectors(){return D(L)},selectSlice:L}}const k={name:s,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:C,...M(c),injectInto(T,{reducerPath:R,...L}={}){const D=R??c;return T.inject({reducerPath:D,reducer:j},L),{...k,...M(D,!0)}}};return k}}function uq(t,e,n,r){function a(s,...c){let d=e(s);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Yr=cq();function dq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function fq({type:t,reducerName:e,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!mq(r))throw new Error(ua(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?Pa(t,c):Pa(t))}function hq(t){return t._reducerDefinitionType==="asyncThunk"}function mq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ua(18));const{payloadCreator:s,fulfilled:c,pending:d,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:c||Tp,pending:d||Tp,rejected:f||Tp,settled:h||Tp})}function Tp(){}var gq="task",bk="listener",wk="completed",g_="cancelled",yq=`task-${g_}`,vq=`task-${wk}`,C1=`${bk}-${g_}`,xq=`${bk}-${wk}`,Ky=class{constructor(t){Zx(this,"name","TaskAbortError");Zx(this,"message");this.code=t,this.message=`${gq} ${g_} (reason: ${t})`}},y_=(t,e)=>{if(typeof t!="function")throw new TypeError(ua(32))},Ig=()=>{},Nk=(t,e=Ig)=>(t.catch(e),t),_k=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Xo=t=>{if(t.aborted){const{reason:e}=t;throw new Ky(e)}};function jk(t,e){let n=Ig;return new Promise((r,a)=>{const s=()=>a(new Ky(t.reason));if(t.aborted){s();return}n=_k(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Ig})}var bq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Ky?"cancelled":"rejected",error:n}}finally{e==null||e()}},Og=t=>e=>Nk(jk(t,e).then(n=>(Xo(t),n))),Ek=t=>{const e=Og(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ju}=Object,YC={},Yy="listenerMiddleware",wq=(t,e)=>{const n=r=>_k(t,()=>Wo(r,t.reason));return(r,a)=>{y_(r);const s=new AbortController;n(s);const c=bq(async()=>{Xo(t),Xo(s.signal);const d=await r({pause:Og(s.signal),delay:Ek(s.signal),signal:s.signal});return Xo(s.signal),d},()=>Wo(s,vq));return a!=null&&a.autoJoin&&e.push(c.catch(Ig)),{result:Og(t)(c),cancel(){Wo(s,yq)}}}},Nq=(t,e)=>{const n=async(r,a)=>{Xo(e);let s=()=>{};const d=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&d.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await jk(e,Promise.race(d));return Xo(e),f}finally{s()}};return(r,a)=>Nk(n(r,a))},Sk=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Pa(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ua(21));return y_(s),{predicate:a,type:e,effect:s}},Ak=ju(t=>{const{type:e,predicate:n,effect:r}=Sk(t);return{id:sq(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>Ak}),WC=(t,e)=>{const{type:n,effect:r,predicate:a}=Sk(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},I1=t=>{t.pending.forEach(e=>{Wo(e,C1)})},_q=(t,e)=>()=>{for(const n of e.keys())I1(n);t.clear()},XC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Tk=ju(Pa(`${Yy}/add`),{withTypes:()=>Tk}),jq=Pa(`${Yy}/removeAll`),Ck=ju(Pa(`${Yy}/remove`),{withTypes:()=>Ck}),Eq=(...t)=>{console.error(`${Yy}/error`,...t)},vh=(t={})=>{const e=new Map,n=new Map,r=N=>{const E=n.get(N)??0;n.set(N,E+1)},a=N=>{const E=n.get(N)??1;E===1?n.delete(N):n.set(N,E-1)},{extra:s,onError:c=Eq}=t;y_(c);const d=N=>(N.unsubscribe=()=>e.delete(N.id),e.set(N.id,N),E=>{N.unsubscribe(),E!=null&&E.cancelActive&&I1(N)}),f=N=>{const E=WC(e,N)??Ak(N);return d(E)};ju(f,{withTypes:()=>f});const h=N=>{const E=WC(e,N);return E&&(E.unsubscribe(),N.cancelActive&&I1(E)),!!E};ju(h,{withTypes:()=>h});const p=async(N,E,_,j)=>{const C=new AbortController,M=Nq(f,C.signal),k=[];try{N.pending.add(C),r(N),await Promise.resolve(N.effect(E,ju({},_,{getOriginalState:j,condition:(T,R)=>M(T,R).then(Boolean),take:M,delay:Ek(C.signal),pause:Og(C.signal),extra:s,signal:C.signal,fork:wq(C.signal,k),unsubscribe:N.unsubscribe,subscribe:()=>{e.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((T,R,L)=>{T!==C&&(Wo(T,C1),L.delete(T))})},cancel:()=>{Wo(C,C1),N.pending.delete(C)},throwIfCancelled:()=>{Xo(C.signal)}})))}catch(T){T instanceof Ky||XC(c,T,{raisedBy:"effect"})}finally{await Promise.all(k),Wo(C,xq),a(N),N.pending.delete(C)}},g=_q(e,n);return{middleware:N=>E=>_=>{if(!ak(_))return E(_);if(Tk.match(_))return f(_.payload);if(jq.match(_)){g();return}if(Ck.match(_))return h(_.payload);let j=N.getState();const C=()=>{if(j===YC)throw new Error(ua(23));return j};let M;try{if(M=E(_),e.size>0){const k=N.getState(),T=Array.from(e.values());for(const R of T){let L=!1;try{L=R.predicate(_,k,j)}catch(D){L=!1,XC(c,D,{raisedBy:"predicate"})}L&&p(R,_,N,C)}}}finally{j=YC}return M},startListening:f,stopListening:h,clearListeners:g}};function ua(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Sq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Ik=Yr({name:"chartLayout",initialState:Sq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Aq,setLayout:Tq,setChartSize:Cq,setScale:Iq}=Ik.actions,Oq=Ik.reducer;function Ok(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return(e=Dq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dq(t){var e=Pq(t,"string");return typeof e=="symbol"?e:e+""}function Pq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nn(t,e,n){return rr(t)||rr(e)?n:Gi(e)?tc(t,e,n):typeof e=="function"?e(t):n}var kq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&s!=="center"&&Ue(t[s]))return wu(wu({},t),{},{[s]:t[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&c!=="middle"&&Ue(t[c]))return wu(wu({},t),{},{[c]:t[c]+(a||0)})}return t},mc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Rk=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,s,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(s=!0),d.coordinate));return a||c.push(e),s||c.push(n),c},Dk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:h,tickCount:p,ticks:g,niceTicks:x,axisType:N}=t;if(!c)return null;var E=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=a==="category"&&c.bandwidth?c.bandwidth()/E:0;if(_=N==="angleAxis"&&s&&s.length>=2?nr(s[0]-s[1])*2*_:_,g||x){var j=(g||x||[]).map((C,M)=>{var k=r?r.indexOf(C):C;return{coordinate:c(k)+_,value:C,offset:_,index:M}});return j.filter(C=>!li(C.coordinate))}return f&&h?h.map((C,M)=>({coordinate:c(C)+_,value:C,index:M,offset:_})):c.ticks&&p!=null?c.ticks(p).map((C,M)=>({coordinate:c(C)+_,value:C,offset:_,index:M})):c.domain().map((C,M)=>({coordinate:c(C)+_,value:r?r[C]:C,index:M,offset:_}))},JC=1e-4,Mq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-JC,s=Math.max(r[0],r[1])+JC,c=t(e[0]),d=t(e[n-1]);(c<a||c>s||d<a||d>s)&&t.domain([e[0],e[n-1]])}},Lq=(t,e)=>{if(!e||e.length!==2||!Ue(e[0])||!Ue(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Ue(t[0])||t[0]<n)&&(a[0]=n),(!Ue(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Uq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,c=0;c<e;++c){var d=li(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},Vq=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var c=li(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},zq={sign:Uq,expand:f$,none:Du,silhouette:h$,wiggle:m$,positive:Vq},Bq=(t,e,n)=>{var r=zq[n],a=d$().keys(e).value((s,c)=>Number(nn(s,c,0))).order(x1).offset(r);return a(t)};function $q(t){return t==null?void 0:String(t)}var ZC=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=nn(s,e.dataKey,e.scale.domain()[c]);return rr(d)?null:e.scale(d)-a/2+r},Fq=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},qq=t=>{var e=t.flat(2).filter(Ue);return[Math.min(...e),Math.max(...e)]},Hq=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Gq=(t,e,n)=>{if(t!=null)return Hq(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:c}=s,d=c.reduce((f,h)=>{var p=Ok(h,e,n),g=qq(p);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},eI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=zy(e,p=>p.coordinate),s=1/0,c=1,d=a.length;c<d;c++){var f=a[c],h=a[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function nI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return wu(wu({},e),{},{dataKey:n,payload:r,value:a,name:s})}function Wy(t,e){if(t)return String(t);if(typeof e=="string")return e}var Kq=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Yq=(t,e)=>e==="centric"?t.angle:t.radius,Gs=t=>t.layout.width,Ks=t=>t.layout.height,Wq=t=>t.layout.scale,Pk=t=>t.layout.margin,Xy=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Qy=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),kk="data-recharts-item-index",Mk="data-recharts-item-data-key",xh=60;function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){Xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xq(t,e,n){return(e=Qq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qq(t){var e=Jq(t,"string");return typeof e=="symbol"?e:e+""}function Jq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zq=t=>t.brush.height;function eH(t){var e=Qy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:xh;return n+a}return n},0)}function tH(t){var e=Qy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:xh;return n+a}return n},0)}function nH(t){var e=Xy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function rH(t){var e=Xy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Hn=le([Gs,Ks,Pk,Zq,eH,tH,nH,rH,tk,CF],(t,e,n,r,a,s,c,d,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},x=Cp(Cp({},g),p),N=x.bottom;x.bottom+=r,x=kq(x,f,h);var E=t-x.left-x.right,_=e-x.top-x.bottom;return Cp(Cp({brushBottom:N},x),{},{width:Math.max(E,0),height:Math.max(_,0)})}),aH=le(Hn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),v_=le(Gs,Ks,(t,e)=>({x:0,y:0,width:t,height:e})),iH=w.createContext(null),Wr=()=>w.useContext(iH)!=null,Jy=t=>t.brush,Zy=le([Jy,Hn,Pk],(t,e,n)=>({height:t.height,x:Ue(t.x)?t.x:e.left,y:Ue(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ue(t.width)?t.width:e.width})),lw={},ow={},cw={},aI;function sH(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let c,d=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{h&&p(),_()};let x=null;const N=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},_=()=>{E(),c=void 0,d=null},j=()=>{p()},C=function(...M){if(a!=null&&a.aborted)return;c=this,d=M;const k=x==null;N(),f&&k&&p()};return C.schedule=N,C.cancel=_,C.flush=j,a==null||a.addEventListener("abort",_,{once:!0}),C}t.debounce=e})(cw)),cw}var iI;function lH(){return iI||(iI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sH();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:d=!0,maxWait:f}=s,h=Array(2);c&&(h[0]="leading"),d&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(..._){p=r.apply(this,_),g=null},a,{edges:h}),N=function(..._){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,_),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,_),p)},E=()=>(x.flush(),p);return N.cancel=x.cancel,N.flush=E,N}t.debounce=n})(ow)),ow}var sI;function oH(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lH();function n(r,a=0,s={}){const{leading:c=!0,trailing:d=!0}=s;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(lw)),lw}var uw,lI;function cH(){return lI||(lI=1,uw=oH().throttle),uw}var uH=cH();const dH=Ji(uH);var Dg=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Lk=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:c}=n,d=Ps(r)?t:Number(r),f=Ps(a)?e:Number(a);return s&&s>0&&(d?f=d/s:f&&(d=f*s),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:d,calculatedHeight:f}},fH={width:0,height:0,overflow:"visible"},hH={width:0,overflowX:"visible"},mH={height:0,overflowY:"visible"},pH={},gH=t=>{var{width:e,height:n}=t,r=Ps(e),a=Ps(n);return r&&a?fH:r?hH:a?mH:pH};function yH(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function Nn(t){return Number.isFinite(t)}function Yi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(null,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){vH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vH(t,e,n){return(e=xH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xH(t){var e=bH(t,"string");return typeof e=="symbol"?e:e+""}function bH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uk=w.createContext({width:-1,height:-1});function wH(t){return Yi(t.width)&&Yi(t.height)}function Vk(t){var{children:e,width:n,height:r}=t,a=w.useMemo(()=>({width:n,height:r}),[n,r]);return wH(a)?w.createElement(Uk.Provider,{value:a},e):null}var x_=()=>w.useContext(Uk),NH=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:c=0,minHeight:d,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:N,style:E={}}=t,_=w.useRef(null),j=w.useRef();j.current=N,w.useImperativeHandle(e,()=>_.current);var[C,M]=w.useState({containerWidth:r.width,containerHeight:r.height}),k=w.useCallback((U,$)=>{M(A=>{var O=Math.round(U),B=Math.round($);return A.containerWidth===O&&A.containerHeight===B?A:{containerWidth:O,containerHeight:B}})},[]);w.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return ph;var U=B=>{var z,{width:me,height:ie}=B[0].contentRect;k(me,ie),(z=j.current)===null||z===void 0||z.call(j,me,ie)};p>0&&(U=dH(U,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(U),{width:A,height:O}=_.current.getBoundingClientRect();return k(A,O),$.observe(_.current),()=>{$.disconnect()}},[k,p]);var{containerWidth:T,containerHeight:R}=C;Dg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:D}=Lk(T,R,{width:a,height:s,aspect:n,maxHeight:f});return Dg(L!=null&&L>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,D,a,s,c,d,n),w.createElement("div",{id:g?"".concat(g):void 0,className:Vt("recharts-responsive-container",x),style:cI(cI({},E),{},{width:a,height:s,minWidth:c,minHeight:d,maxHeight:f}),ref:_},w.createElement("div",{style:gH({width:a,height:s})},w.createElement(Vk,{width:L,height:D},h)))}),zk=w.forwardRef((t,e)=>{var n=x_();if(Yi(n.width)&&Yi(n.height))return t.children;var{width:r,height:a}=yH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:c}=Lk(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Ue(s)&&Ue(c)?w.createElement(Vk,{width:s,height:c},t.children):w.createElement(NH,O1({},t,{width:r,height:a,ref:e}))});function Bk(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var e0=()=>{var t,e=Wr(),n=Ve(aH),r=Ve(Zy),a=(t=Ve(Jy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},_H={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$k=()=>{var t;return(t=Ve(Hn))!==null&&t!==void 0?t:_H},Fk=()=>Ve(Gs),qk=()=>Ve(Ks),Nt=t=>t.layout.layoutType,t0=()=>Ve(Nt),jH=()=>{var t=t0();return t!==void 0},n0=t=>{var e=sn(),n=Wr(),{width:r,height:a}=t,s=x_(),c=r,d=a;return s&&(c=s.width>0?s.width:r,d=s.height>0?s.height:a),w.useEffect(()=>{!n&&Yi(c)&&Yi(d)&&e(Cq({width:c,height:d}))},[e,n,c,d]),null},Hk=Symbol.for("immer-nothing"),uI=Symbol.for("immer-draftable"),ha=Symbol.for("immer-state");function Za(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Hf=Object.getPrototypeOf;function Mu(t){return!!t&&!!t[ha]}function nc(t){var e;return t?Gk(t)||Array.isArray(t)||!!t[uI]||!!((e=t.constructor)!=null&&e[uI])||bh(t)||a0(t):!1}var EH=Object.prototype.constructor.toString(),dI=new WeakMap;function Gk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=dI.get(n);return r===void 0&&(r=Function.toString.call(n),dI.set(n,r)),r===EH}function Pg(t,e,n=!0){r0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function r0(t){const e=t[ha];return e?e.type_:Array.isArray(t)?1:bh(t)?2:a0(t)?3:0}function R1(t,e){return r0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Kk(t,e,n){const r=r0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function SH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bh(t){return t instanceof Map}function a0(t){return t instanceof Set}function zo(t){return t.copy_||t.base_}function D1(t,e){if(bh(t))return new Map(t);if(a0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Gk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ha];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Hf(t),r)}else{const r=Hf(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function b_(t,e=!1){return i0(t)||Mu(t)||!nc(t)||(r0(t)>1&&Object.defineProperties(t,{set:Ip,add:Ip,clear:Ip,delete:Ip}),Object.freeze(t),e&&Object.values(t).forEach(n=>b_(n,!0))),t}function AH(){Za(2)}var Ip={value:AH};function i0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var TH={};function rc(t){const e=TH[t];return e||Za(0,t),e}var Gf;function Yk(){return Gf}function CH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fI(t,e){e&&(rc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function P1(t){k1(t),t.drafts_.forEach(IH),t.drafts_=null}function k1(t){t===Gf&&(Gf=t.parent_)}function hI(t){return Gf=CH(Gf,t)}function IH(t){const e=t[ha];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function mI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ha].modified_&&(P1(e),Za(4)),nc(t)&&(t=kg(e,t),e.parent_||Mg(e,t)),e.patches_&&rc("Patches").generateReplacementPatches_(n[ha].base_,t,e.patches_,e.inversePatches_)):t=kg(e,n,[]),P1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Hk?t:void 0}function kg(t,e,n){if(i0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[ha];if(!a)return Pg(e,(s,c)=>pI(t,a,e,s,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Mg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let c=s,d=!1;a.type_===3&&(c=new Set(s),s.clear(),d=!0),Pg(c,(f,h)=>pI(t,a,s,f,h,n,d),r),Mg(t,s,!1),n&&t.patches_&&rc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function pI(t,e,n,r,a,s,c){if(a==null||typeof a!="object"&&!c)return;const d=i0(a);if(!(d&&!c)){if(Mu(a)){const f=s&&e&&e.type_!==3&&!R1(e.assigned_,r)?s.concat(r):void 0,h=kg(t,a,f);if(Kk(n,r,h),Mu(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(nc(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;kg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(bh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Mg(t,a)}}}function Mg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&b_(e,n)}function OH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Yk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=w_;n&&(a=[r],s=Kf);const{revoke:c,proxy:d}=Proxy.revocable(a,s);return r.draft_=d,r.revoke_=c,d}var w_={get(t,e){if(e===ha)return t;const n=zo(t);if(!R1(n,e))return RH(t,n,e);const r=n[e];return t.finalized_||!nc(r)?r:r===dw(t.base_,e)?(fw(t),t.copy_[e]=L1(r,t)):r},has(t,e){return e in zo(t)},ownKeys(t){return Reflect.ownKeys(zo(t))},set(t,e,n){const r=Wk(zo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=dw(zo(t),e),s=a==null?void 0:a[ha];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(SH(n,a)&&(n!==void 0||R1(t.base_,e)))return!0;fw(t),M1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return dw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fw(t),M1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Za(11)},getPrototypeOf(t){return Hf(t.base_)},setPrototypeOf(){Za(12)}},Kf={};Pg(w_,(t,e)=>{Kf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kf.deleteProperty=function(t,e){return Kf.set.call(this,t,e,void 0)};Kf.set=function(t,e,n){return w_.set.call(this,t[0],e,n,t[0])};function dw(t,e){const n=t[ha];return(n?zo(n):t)[e]}function RH(t,e,n){var a;const r=Wk(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function Wk(t,e){if(!(e in t))return;let n=Hf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Hf(n)}}function M1(t){t.modified_||(t.modified_=!0,t.parent_&&M1(t.parent_))}function fw(t){t.copy_||(t.copy_=D1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var DH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(f=s,...h){return c.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&Za(6),r!==void 0&&typeof r!="function"&&Za(7);let a;if(nc(e)){const s=hI(this),c=L1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?P1(s):k1(s)}return fI(s,r),mI(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===Hk&&(a=void 0),this.autoFreeze_&&b_(a,!0),r){const s=[],c=[];rc("Patches").generateReplacementPatches_(e,a,s,c),r(s,c)}return a}else Za(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,f=>e(f,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){nc(t)||Za(8),Mu(t)&&(t=PH(t));const e=hI(this),n=L1(t,void 0);return n[ha].isManual_=!0,k1(e),n}finishDraft(t,e){const n=t&&t[ha];(!n||!n.isManual_)&&Za(9);const{scope_:r}=n;return fI(r,e),mI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=rc("Patches").applyPatches_;return Mu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function L1(t,e){const n=bh(t)?rc("MapSet").proxyMap_(t,e):a0(t)?rc("MapSet").proxySet_(t,e):OH(t,e);return(e?e.scope_:Yk()).drafts_.push(n),n}function PH(t){return Mu(t)||Za(10,t),Xk(t)}function Xk(t){if(!nc(t)||i0(t))return t;const e=t[ha];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=D1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=D1(t,!0);return Pg(n,(a,s)=>{Kk(n,a,Xk(s))},r),e&&(e.finalized_=!1),n}var kH=new DH;kH.produce;var MH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Qk=Yr({name:"legend",initialState:MH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:tn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:tn()},removeLegendPayload:{reducer(t,e){var n=ii(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:tn()}}}),{setLegendSize:Ege,setLegendSettings:Sge,addLegendPayload:Jk,replaceLegendPayload:Zk,removeLegendPayload:eM}=Qk.actions,LH=Qk.reducer;function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(null,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){UH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UH(t,e,n){return(e=VH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=zH(t,"string");return typeof e=="symbol"?e:e+""}function zH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BH(t){return Array.isArray(t)&&Gi(t[0])&&Gi(t[1])?t.join(" ~ "):t}var $H=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,N=()=>{if(s&&s.length){var R={padding:0,margin:0},L=(d?zy(s,d):s).map((D,U)=>{if(D.type==="none")return null;var $=D.formatter||c||BH,{value:A,name:O}=D,B=A,z=O;if($){var me=$(A,O,D,U,s);if(Array.isArray(me))[B,z]=me;else if(me!=null)B=me;else return null}var ie=hw({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:ie},Gi(z)?w.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Gi(z)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},B),w.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:R},L)}return null},E=hw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=hw({margin:0},a),j=!rr(p),C=j?p:"",M=Vt("recharts-default-tooltip",f),k=Vt("recharts-tooltip-label",h);j&&g&&s!==void 0&&s!==null&&(C=g(p,s));var T=x?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",U1({className:M,style:E},T),w.createElement("p",{className:k,style:_},w.isValidElement(C)?C:"".concat(C)),N())},yf="recharts-tooltip-wrapper",FH={visibility:"hidden"};function qH(t){var{coordinate:e,translateX:n,translateY:r}=t;return Vt(yf,{["".concat(yf,"-right")]:Ue(n)&&e&&Ue(e.x)&&n>=e.x,["".concat(yf,"-left")]:Ue(n)&&e&&Ue(e.x)&&n<e.x,["".concat(yf,"-bottom")]:Ue(r)&&e&&Ue(e.y)&&r>=e.y,["".concat(yf,"-top")]:Ue(r)&&e&&Ue(e.y)&&r<e.y})}function yI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:h}=t;if(s&&Ue(s[r]))return s[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var x=f[r];if(x==null)return 0;if(c[r]){var N=p,E=x;return N<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var _=g+d,j=x+h;return _>j?Math.max(p,x):Math.max(g,x)}function HH(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function GH(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:d,viewBox:f}=t,h,p,g;return c.height>0&&c.width>0&&n?(p=yI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=yI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),h=HH({translateX:p,translateY:g,useTranslate3d:d})):h=FH,{cssProperties:h,cssClasses:qH({translateX:p,translateY:g,coordinate:n})}}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){V1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1(t,e,n){return(e=KH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KH(t){var e=YH(t,"string");return typeof e=="symbol"?e:e+""}function YH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WH extends w.PureComponent{constructor(){super(...arguments),V1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),V1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:d,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:N,wrapperStyle:E,lastBoundingBox:_,innerRef:j,hasPortalFromProps:C}=this.props,{cssClasses:M,cssProperties:k}=GH({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:x,viewBox:N}),T=C?{}:Op(Op({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),R=Op(Op({},T),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:R,ref:j},s)}}var XH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pc={devToolsEnabled:!1,isSsr:XH()},tM=()=>{var t;return(t=Ve(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){QH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QH(t,e,n){return(e=JH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JH(t){var e=ZH(t,"string");return typeof e=="symbol"?e:e+""}function ZH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wI={curveBasisClosed:e$,curveBasisOpen:t$,curveBasis:ZB,curveBumpX:VB,curveBumpY:zB,curveLinearClosed:n$,curveLinear:Ly,curveMonotoneX:r$,curveMonotoneY:a$,curveNatural:i$,curveStep:s$,curveStepAfter:o$,curveStepBefore:l$},Lg=t=>Nn(t.x)&&Nn(t.y),NI=t=>t.base!=null&&Lg(t.base)&&Lg(t),vf=t=>t.x,xf=t=>t.y,eG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(mh(t));return(n==="curveMonotone"||n==="curveBump")&&e?wI["".concat(n).concat(e==="vertical"?"Y":"X")]:wI[n]||Ly},tG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,c=eG(e,a),d=s?n.filter(Lg):n,f;if(Array.isArray(r)){var h=n.map((N,E)=>bI(bI({},N),{},{base:r[E]}));a==="vertical"?f=_p().y(xf).x1(vf).x0(N=>N.base.x):f=_p().x(vf).y1(xf).y0(N=>N.base.y);var p=f.defined(NI).curve(c),g=s?h.filter(NI):h;return p(g)}a==="vertical"&&Ue(r)?f=_p().y(xf).x1(vf).x0(r):Ue(r)?f=_p().x(vf).y1(xf).y0(r):f=A4().x(vf).y(xf);var x=f.defined(Lg).curve(c);return x(d)},N_=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?tG(t):r;return w.createElement("path",z1({},si(t),R$(t),{className:Vt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},nG=["x","y","top","left","width","height","className"];function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){aG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aG(t,e,n){return(e=iG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iG(t){var e=sG(t,"string");return typeof e=="symbol"?e:e+""}function sG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lG(t,e){if(t==null)return{};var n,r,a=oG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cG=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),uG=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:d}=t,f=lG(t,nG),h=rG({x:e,y:n,top:r,left:a,width:s,height:c},f);return!Ue(e)||!Ue(n)||!Ue(s)||!Ue(c)||!Ue(r)||!Ue(a)?null:w.createElement("path",B1({},Da(h),{className:Vt("recharts-cross",d),d:cG(e,n,s,c,r,a)}))};function dG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){fG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fG(t,e,n){return(e=hG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hG(t){var e=mG(t,"string");return typeof e=="symbol"?e:e+""}function mG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),nM=(t,e,n)=>t.map(r=>"".concat(pG(r)," ").concat(e,"ms ").concat(n)).join(","),gG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Yf=(t,e)=>Object.keys(e).reduce((n,r)=>EI(EI({},n),{},{[r]:t(r,e[r])}),{});function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){yG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yG(t,e,n){return(e=vG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vG(t){var e=xG(t,"string");return typeof e=="symbol"?e:e+""}function xG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ug=(t,e,n)=>t+(e-t)*n,$1=t=>{var{from:e,to:n}=t;return e!==n},rM=(t,e,n)=>{var r=Yf((a,s)=>{if($1(s)){var[c,d]=t(s.from,s.to,s.velocity);return $n($n({},s),{},{from:c,velocity:d})}return s},e);return n<1?Yf((a,s)=>$1(s)?$n($n({},s),{},{velocity:Ug(s.velocity,r[a].velocity,n),from:Ug(s.from,r[a].from,n)}):s,e):rM(t,r,n-1)};function bG(t,e,n,r,a,s){var c,d=r.reduce((x,N)=>$n($n({},x),{},{[N]:{from:t[N],velocity:0,to:e[N]}}),{}),f=()=>Yf((x,N)=>N.from,d),h=()=>!Object.values(d).filter($1).length,p=null,g=x=>{c||(c=x);var N=x-c,E=N/n.dt;d=rM(n,d,E),a($n($n($n({},t),e),f())),c=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function wG(t,e,n,r,a,s,c){var d=null,f=a.reduce((g,x)=>$n($n({},g),{},{[x]:[t[x],e[x]]}),{}),h,p=g=>{h||(h=g);var x=(g-h)/r,N=Yf((_,j)=>Ug(...j,n(x)),f);if(s($n($n($n({},t),e),N)),x<1)d=c.setTimeout(p);else{var E=Yf((_,j)=>Ug(...j,n(1)),f);s($n($n($n({},t),e),E))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const NG=(t,e,n,r,a,s)=>{var c=gG(t,e);return n==null?()=>(a($n($n({},t),e)),()=>{}):n.isStepper===!0?bG(t,e,n,c,a,s):wG(t,e,n,r,c,a,s)};var Vg=1e-4,aM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],iM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),AI=(t,e)=>n=>{var r=aM(t,e);return iM(r,n)},_G=(t,e)=>n=>{var r=aM(t,e),a=[...r.map((s,c)=>s*c).slice(1),0];return iM(a,n)},jG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=s[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},EG=(t,e,n,r)=>{var a=AI(t,n),s=AI(e,r),c=_G(t,n),d=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var N=a(g)-p,E=c(g);if(Math.abs(N-p)<Vg||E<Vg)return s(g);g=d(g-N/E)}return s(g)};return f.isStepper=!1,f},TI=function(){return EG(...jG(...arguments))},SG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(c,d,f)=>{var h=-(c-d)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+c;return Math.abs(x-d)<Vg&&Math.abs(g)<Vg?[d,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},AG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TI(t);case"spring":return SG();default:if(t.split("(")[0]==="cubic-bezier")return TI(t)}return typeof t=="function"?t:null};function TG(t){var e,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...h]=d;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class CG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function IG(){return TG(new CG)}var OG=w.createContext(IG);function RG(t,e){var n=w.useContext(OG);return w.useMemo(()=>e??n(t),[t,e,n])}var DG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},CI={t:0},mw={t:1};function s0(t){var e=Er(t,DG),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:d,onAnimationStart:f,children:h}=e,p=n==="auto"?!pc.isSsr:n,g=RG(e.animationId,e.animationManager),[x,N]=w.useState(p?CI:mw),E=w.useRef(null);return w.useEffect(()=>{p||N(mw)},[p]),w.useEffect(()=>{if(!p||!r)return ph;var _=NG(CI,mw,AG(s),a,N,g.getTimeoutController()),j=()=>{E.current=_()};return g.start([f,c,j,a,d]),()=>{g.stop(),E.current&&E.current(),d()}},[p,r,a,s,c,f,d,g]),h(x.t)}function l0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Bf(e)),r=w.useRef(t);return r.current!==t&&(n.current=Bf(e),r.current=t),n.current}var PG=["radius"],kG=["radius"];function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function OI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){MG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MG(t,e,n){return(e=LG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LG(t){var e=UG(t,"string");return typeof e=="symbol"?e:e+""}function UG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(null,arguments)}function RI(t,e){if(t==null)return{};var n,r,a=VG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function VG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var DI=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>s?s:a[g];h="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(t+d*p[0],",").concat(e)),h+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+c*p[1])),h+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),h+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-c*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var N=Math.min(s,a);h="M ".concat(t,",").concat(e+c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t+d*N,",").concat(e,`
            L `).concat(t+n-d*N,",").concat(e,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t+n,",").concat(e+c*N,`
            L `).concat(t+n,",").concat(e+r-c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t+n-d*N,",").concat(e+r,`
            L `).concat(t+d*N,",").concat(e+r,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(t,",").concat(e+r-c*N," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},PI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sM=t=>{var e=Er(t,PI),n=w.useRef(null),[r,a]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&a(re)}catch{}},[]);var{x:s,y:c,width:d,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:N,isAnimationActive:E,isUpdateAnimationActive:_}=e,j=w.useRef(d),C=w.useRef(f),M=w.useRef(s),k=w.useRef(c),T=w.useMemo(()=>({x:s,y:c,width:d,height:f,radius:h}),[s,c,d,f,h]),R=l0(T,"rectangle-");if(s!==+s||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var L=Vt("recharts-rectangle",p);if(!_){var D=Da(e),{radius:U}=D,$=RI(D,PG);return w.createElement("path",zg({},$,{radius:typeof h=="number"?h:void 0,className:L,d:DI(s,c,d,f,h)}))}var A=j.current,O=C.current,B=M.current,z=k.current,me="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),G=nM(["strokeDasharray"],x,typeof g=="string"?g:PI.animationEasing);return w.createElement(s0,{animationId:R,key:R,canBegin:r>0,duration:x,easing:g,isActive:_,begin:N},re=>{var W=Bn(A,d,re),ve=Bn(O,f,re),Q=Bn(B,s,re),V=Bn(z,c,re);n.current&&(j.current=W,C.current=ve,M.current=Q,k.current=V);var Y;E?re>0?Y={transition:G,strokeDasharray:ie}:Y={strokeDasharray:me}:Y={strokeDasharray:ie};var H=Da(e),{radius:J}=H,fe=RI(H,kG);return w.createElement("path",zg({},fe,{radius:typeof h=="number"?h:void 0,className:L,d:DI(Q,V,W,ve,h),ref:n,style:OI(OI({},Y),e.style)}))})};function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){zG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zG(t,e,n){return(e=BG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BG(t){var e=$G(t,"string");return typeof e=="symbol"?e:e+""}function $G(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bg=Math.PI/180,FG=t=>t*180/Math.PI,Mn=(t,e,n,r)=>({x:t+Math.cos(-Bg*r)*n,y:e+Math.sin(-Bg*r)*n}),lM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},qG=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},HG=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,c=qG({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,f=Math.acos(d);return r>s&&(f=2*Math.PI-f),{radius:c,angle:FG(f),angleInRadian:f}},GG=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},KG=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return t+c*360},YG=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=HG({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:f,endAngle:h}=GG(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?MI(MI({},e),{},{radius:a,angle:KG(p,e)}):null};function oM(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,c=Mn(e,n,r,a),d=Mn(e,n,r,s);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(null,arguments)}var WG=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Rp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:d,cornerIsExternal:f}=t,h=d*(c?1:-1)+r,p=Math.asin(d/h)/Bg,g=f?a:a+s*p,x=Mn(e,n,h,g),N=Mn(e,n,r,g),E=f?a-s*p:a,_=Mn(e,n,h*Math.cos(p*Bg),E);return{center:x,circleTangency:N,lineTangency:_,theta:p}},cM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=t,d=WG(s,c),f=s+d,h=Mn(e,n,a,s),p=Mn(e,n,a,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var x=Mn(e,n,r,s),N=Mn(e,n,r,f);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},XG=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}=t,p=nr(h-f),{circleTangency:g,lineTangency:x,theta:N}=Rp({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:E,lineTangency:_,theta:j}=Rp({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),C=d?Math.abs(f-h):Math.abs(f-h)-N-j;if(C<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):cM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var M="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:k,lineTangency:T,theta:R}=Rp({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:L,lineTangency:D,theta:U}=Rp({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),$=d?Math.abs(f-h):Math.abs(f-h)-R-U;if($<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+($>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},QG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uM=t=>{var e=Er(t,QG),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=Vt("recharts-sector",g),N=s-a,E=_r(c,N,0,!0),_;return E>0&&Math.abs(h-p)<360?_=XG({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,N/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:p}):_=cM({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),w.createElement("path",F1({},Da(e),{className:x,d:_}))};function JG(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if($4(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:c,angle:d}=e,f=Mn(r,a,s,d),h=Mn(r,a,c,d);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return oM(e)}}var pw={},gw={},yw={},LI;function ZG(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(yw)),yw}var UI;function eK(){return UI||(UI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZG();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(gw)),gw}var VI;function tK(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ek(),n=eK();function r(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((s-a)/(c||1)),0),f=new Array(d);for(let h=0;h<d;h++)f[h]=a,a+=c;return f}t.range=r})(pw)),pw}var vw,zI;function nK(){return zI||(zI=1,vw=tK().range),vw}var rK=nK();const dM=Ji(rK);function Ul(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function __(t){let e,n,r;t.length!==2?(e=Ul,n=(d,f)=>Ul(t(d),f),r=(d,f)=>t(d)-f):(e=t===Ul||t===aK?t:iK,n=t,r=t);function a(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(d,f,h=0,p=d.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(d[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function c(d,f,h=0,p=d.length){const g=a(d,f,h,p-1);return g>h&&r(d[g-1],f)>-r(d[g],f)?g-1:g}return{left:a,center:c,right:s}}function iK(){return 0}function fM(t){return t===null?NaN:+t}function*sK(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const lK=__(Ul),wh=lK.right;__(fM).center;class BI extends Map{constructor(e,n=uK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get($I(this,e))}has(e){return super.has($I(this,e))}set(e,n){return super.set(oK(this,e),n)}delete(e){return super.delete(cK(this,e))}}function $I({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function oK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dK(t=Ul){if(t===Ul)return hM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fK=Math.sqrt(50),hK=Math.sqrt(10),mK=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=fK?10:s>=hK?5:s>=mK?2:1;let d,f,h;return a<0?(h=Math.pow(10,-a)/c,d=Math.round(t*h),f=Math.round(e*h),d/h<t&&++d,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*c,d=Math.round(t/h),f=Math.round(e/h),d*h<t&&++d,f*h>e&&--f),f<d&&.5<=n&&n<2?$g(t,e,n*2):[d,f,h]}function q1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,c]=r?$g(e,t,n):$g(t,e,n);if(!(s>=a))return[];const d=s-a+1,f=new Array(d);if(r)if(c<0)for(let h=0;h<d;++h)f[h]=(s-h)/-c;else for(let h=0;h<d;++h)f[h]=(s-h)*c;else if(c<0)for(let h=0;h<d;++h)f[h]=(a+h)/-c;else for(let h=0;h<d;++h)f[h]=(a+h)*c;return f}function H1(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function G1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?H1(e,t,n):H1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function FI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?hM:dK(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),N=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));mM(t,e,N,E,a)}const s=t[e];let c=n,d=r;for(bf(t,n,e),a(t[r],s)>0&&bf(t,n,r);c<d;){for(bf(t,c,d),++c,--d;a(t[c],s)<0;)++c;for(;a(t[d],s)>0;)--d}a(t[n],s)===0?bf(t,n,d):(++d,bf(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function bf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pK(t,e,n){if(t=Float64Array.from(sK(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qI(t);if(e>=1)return FI(t);var r,a=(r-1)*e,s=Math.floor(a),c=FI(mM(t,s).subarray(0,s+1)),d=qI(t.subarray(s+1));return c+(d-c)*(a-s)}}function gK(t,e,n=fM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),c=+n(t[s],s,t),d=+n(t[s+1],s+1,t);return c+(d-c)*(a-s)}}function yK(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function La(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const K1=Symbol("implicit");function j_(){var t=new BI,e=[],n=[],r=K1;function a(s){let c=t.get(s);if(c===void 0){if(r!==K1)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new BI;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return j_(e,n).unknown(r)},La.apply(a,arguments),a}function E_(){var t=j_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,c,d=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,N=a<r,E=N?a:r,_=N?r:a;s=(_-E)/Math.max(1,x-f+h*2),d&&(s=Math.floor(s)),E+=(_-E-s*(x-f))*p,c=s*(1-f),d&&(E=Math.round(E),c=Math.round(c));var j=yK(x).map(function(C){return E+s*C});return n(N?j.reverse():j)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(d=!!x,g()):d},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return E_(e(),[r,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},La.apply(g(),arguments)}function pM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pM(e())},t}function vK(){return pM(E_.apply(null,arguments).paddingInner(1))}function S_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Nh(){}var Wf=.7,Fg=1/Wf,Eu="\\s*([+-]?\\d+)\\s*",Xf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xK=/^#([0-9a-f]{3,8})$/,bK=new RegExp(`^rgb\\(${Eu},${Eu},${Eu}\\)$`),wK=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),NK=new RegExp(`^rgba\\(${Eu},${Eu},${Eu},${Xf}\\)$`),_K=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${Xf}\\)$`),jK=new RegExp(`^hsl\\(${Xf},${Ui},${Ui}\\)$`),EK=new RegExp(`^hsla\\(${Xf},${Ui},${Ui},${Xf}\\)$`),HI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S_(Nh,Qf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GI,formatHex:GI,formatHex8:SK,formatHsl:AK,formatRgb:KI,toString:KI});function GI(){return this.rgb().formatHex()}function SK(){return this.rgb().formatHex8()}function AK(){return yM(this).formatHsl()}function KI(){return this.rgb().formatRgb()}function Qf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?YI(e):n===3?new qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bK.exec(t))?new qr(e[1],e[2],e[3],1):(e=wK.exec(t))?new qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NK.exec(t))?Dp(e[1],e[2],e[3],e[4]):(e=_K.exec(t))?Dp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jK.exec(t))?QI(e[1],e[2]/100,e[3]/100,1):(e=EK.exec(t))?QI(e[1],e[2]/100,e[3]/100,e[4]):HI.hasOwnProperty(t)?YI(HI[t]):t==="transparent"?new qr(NaN,NaN,NaN,0):null}function YI(t){return new qr(t>>16&255,t>>8&255,t&255,1)}function Dp(t,e,n,r){return r<=0&&(t=e=n=NaN),new qr(t,e,n,r)}function TK(t){return t instanceof Nh||(t=Qf(t)),t?(t=t.rgb(),new qr(t.r,t.g,t.b,t.opacity)):new qr}function Y1(t,e,n,r){return arguments.length===1?TK(t):new qr(t,e,n,r??1)}function qr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}S_(qr,Y1,gM(Nh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qr(Qo(this.r),Qo(this.g),Qo(this.b),qg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WI,formatHex:WI,formatHex8:CK,formatRgb:XI,toString:XI}));function WI(){return`#${Fo(this.r)}${Fo(this.g)}${Fo(this.b)}`}function CK(){return`#${Fo(this.r)}${Fo(this.g)}${Fo(this.b)}${Fo((isNaN(this.opacity)?1:this.opacity)*255)}`}function XI(){const t=qg(this.opacity);return`${t===1?"rgb(":"rgba("}${Qo(this.r)}, ${Qo(this.g)}, ${Qo(this.b)}${t===1?")":`, ${t})`}`}function qg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fo(t){return t=Qo(t),(t<16?"0":"")+t.toString(16)}function QI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,n,r)}function yM(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof Nh||(t=Qf(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,d=s-a,f=(s+a)/2;return d?(e===s?c=(n-r)/d+(n<r)*6:n===s?c=(r-e)/d+2:c=(e-n)/d+4,d/=f<.5?s+a:2-s-a,c*=60):d=f>0&&f<1?0:c,new ei(c,d,f,t.opacity)}function IK(t,e,n,r){return arguments.length===1?yM(t):new ei(t,e,n,r??1)}function ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}S_(ei,IK,gM(Nh,{brighter(t){return t=t==null?Fg:Math.pow(Fg,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new qr(xw(t>=240?t-240:t+120,a,r),xw(t,a,r),xw(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ei(JI(this.h),Pp(this.s),Pp(this.l),qg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=qg(this.opacity);return`${t===1?"hsl(":"hsla("}${JI(this.h)}, ${Pp(this.s)*100}%, ${Pp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JI(t){return t=(t||0)%360,t<0?t+360:t}function Pp(t){return Math.max(0,Math.min(1,t||0))}function xw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const A_=t=>()=>t;function OK(t,e){return function(n){return t+n*e}}function RK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function DK(t){return(t=+t)==1?vM:function(e,n){return n-e?RK(e,n,t):A_(isNaN(e)?n:e)}}function vM(t,e){var n=e-t;return n?OK(t,n):A_(isNaN(t)?e:t)}const ZI=(function t(e){var n=DK(e);function r(a,s){var c=n((a=Y1(a)).r,(s=Y1(s)).r),d=n(a.g,s.g),f=n(a.b,s.b),h=vM(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function PK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function kK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function MK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=Ju(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(d){for(c=0;c<r;++c)s[c]=a[c](d);return s}}function LK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function UK(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Ju(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var W1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bw=new RegExp(W1.source,"g");function VK(t){return function(){return t}}function zK(t){return function(e){return t(e)+""}}function BK(t,e){var n=W1.lastIndex=bw.lastIndex=0,r,a,s,c=-1,d=[],f=[];for(t=t+"",e=e+"";(r=W1.exec(t))&&(a=bw.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),d[c]?d[c]+=s:d[++c]=s),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,f.push({i:c,x:Hg(r,a)})),n=bw.lastIndex;return n<e.length&&(s=e.slice(n),d[c]?d[c]+=s:d[++c]=s),d.length<2?f[0]?zK(f[0].x):VK(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)d[(g=f[p]).i]=g.x(h);return d.join("")})}function Ju(t,e){var n=typeof e,r;return e==null||n==="boolean"?A_(e):(n==="number"?Hg:n==="string"?(r=Qf(e))?(e=r,ZI):BK:e instanceof Qf?ZI:e instanceof Date?LK:kK(e)?PK:Array.isArray(e)?MK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?UK:Hg)(t,e)}function T_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $K(t,e){e===void 0&&(e=t,t=Ju);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[d](c-d)}}function FK(t){return function(){return t}}function Gg(t){return+t}var eO=[0,1];function Cr(t){return t}function X1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:FK(isNaN(e)?NaN:.5)}function qK(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function HK(t,e,n){var r=t[0],a=t[1],s=e[0],c=e[1];return a<r?(r=X1(a,r),s=n(c,s)):(r=X1(r,a),s=n(s,c)),function(d){return s(r(d))}}function GK(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=X1(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(d){var f=wh(t,d,1,r)-1;return s[f](a[f](d))}}function _h(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function o0(){var t=eO,e=eO,n=Ju,r,a,s,c=Cr,d,f,h;function p(){var x=Math.min(t.length,e.length);return c!==Cr&&(c=qK(t[0],t[x-1])),d=x>2?GK:HK,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=d(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(a((h||(h=d(e,t.map(r),Hg)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Gg),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=T_,p()},g.clamp=function(x){return arguments.length?(c=x?!0:Cr,p()):c!==Cr},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,N){return r=x,a=N,p()}}function C_(){return o0()(Cr,Cr)}function KK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Lu(t){return t=Kg(Math.abs(t)),t?t[1]:NaN}function YK(t,e){return function(n,r){for(var a=n.length,s=[],c=0,d=t[0],f=0;a>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),s.push(n.substring(a-=d,a+d)),!((f+=d+1)>r));)d=t[c=(c+1)%t.length];return s.reverse().join(e)}}function WK(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var XK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jf(t){if(!(e=XK.exec(t)))throw new Error("invalid format: "+t);var e;return new I_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jf.prototype=I_.prototype;function I_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QK(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var xM;function JK(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(xM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kg(t,Math.max(0,e+s-1))[0]}function tO(t,e){var n=Kg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const nO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:KK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tO(t*100,e),r:tO,s:JK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rO(t){return t}var aO=Array.prototype.map,iO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZK(t){var e=t.grouping===void 0||t.thousands===void 0?rO:YK(aO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?rO:WK(aO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Jf(g);var x=g.fill,N=g.align,E=g.sign,_=g.symbol,j=g.zero,C=g.width,M=g.comma,k=g.precision,T=g.trim,R=g.type;R==="n"?(M=!0,R="g"):nO[R]||(k===void 0&&(k=12),T=!0,R="g"),(j||x==="0"&&N==="=")&&(j=!0,x="0",N="=");var L=_==="$"?n:_==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",D=_==="$"?r:/[%p]/.test(R)?c:"",U=nO[R],$=/[defgprs%]/.test(R);k=k===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function A(O){var B=L,z=D,me,ie,G;if(R==="c")z=U(O)+z,O="";else{O=+O;var re=O<0||1/O<0;if(O=isNaN(O)?f:U(Math.abs(O),k),T&&(O=QK(O)),re&&+O==0&&E!=="+"&&(re=!1),B=(re?E==="("?E:d:E==="-"||E==="("?"":E)+B,z=(R==="s"?iO[8+xM/3]:"")+z+(re&&E==="("?")":""),$){for(me=-1,ie=O.length;++me<ie;)if(G=O.charCodeAt(me),48>G||G>57){z=(G===46?a+O.slice(me+1):O.slice(me))+z,O=O.slice(0,me);break}}}M&&!j&&(O=e(O,1/0));var W=B.length+O.length+z.length,ve=W<C?new Array(C-W+1).join(x):"";switch(M&&j&&(O=e(ve+O,ve.length?C-z.length:1/0),ve=""),N){case"<":O=B+O+z+ve;break;case"=":O=B+ve+O+z;break;case"^":O=ve.slice(0,W=ve.length>>1)+B+O+z+ve.slice(W);break;default:O=ve+B+O+z;break}return s(O)}return A.toString=function(){return g+""},A}function p(g,x){var N=h((g=Jf(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(Lu(x)/3)))*3,_=Math.pow(10,-E),j=iO[8+E/3];return function(C){return N(_*C)+j}}return{format:h,formatPrefix:p}}var kp,O_,bM;eY({thousands:",",grouping:[3],currency:["$",""]});function eY(t){return kp=ZK(t),O_=kp.format,bM=kp.formatPrefix,kp}function tY(t){return Math.max(0,-Lu(Math.abs(t)))}function nY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lu(e)/3)))*3-Lu(Math.abs(t)))}function rY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lu(e)-Lu(t))+1}function wM(t,e,n,r){var a=G1(t,e,n),s;switch(r=Jf(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=nY(a,c))&&(r.precision=s),bM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=rY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=tY(a))&&(r.precision=s-(r.type==="%")*2);break}}return O_(r)}function eo(t){var e=t.domain;return t.ticks=function(n){var r=e();return q1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return wM(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,c=r[a],d=r[s],f,h,p=10;for(d<c&&(h=c,c=d,d=h,h=a,a=s,s=h);p-- >0;){if(h=H1(c,d,n),h===f)return r[a]=c,r[s]=d,e(r);if(h>0)c=Math.floor(c/h)*h,d=Math.ceil(d/h)*h;else if(h<0)c=Math.ceil(c*h)/h,d=Math.floor(d*h)/h;else break;f=h}return t},t}function NM(){var t=C_();return t.copy=function(){return _h(t,NM())},La.apply(t,arguments),eo(t)}function _M(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return _M(t).unknown(e)},t=arguments.length?Array.from(t,Gg):[0,1],eo(n)}function jM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),t[n]=e.floor(a),t[r]=e.ceil(s),t}function sO(t){return Math.log(t)}function lO(t){return Math.exp(t)}function aY(t){return-Math.log(-t)}function iY(t){return-Math.exp(-t)}function sY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function lY(t){return t===10?sY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function oY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oO(t){return(e,n)=>-t(-e,n)}function R_(t){const e=t(sO,lO),n=e.domain;let r=10,a,s;function c(){return a=oY(r),s=lY(r),n()[0]<0?(a=oO(a),s=oO(s),t(aY,iY)):t(sO,lO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),N=a(p),E,_;const j=d==null?10:+d;let C=[];if(!(r%1)&&N-x<j){if(x=Math.floor(x),N=Math.ceil(N),h>0){for(;x<=N;++x)for(E=1;E<r;++E)if(_=x<0?E/s(-x):E*s(x),!(_<h)){if(_>p)break;C.push(_)}}else for(;x<=N;++x)for(E=r-1;E>=1;--E)if(_=x>0?E/s(-x):E*s(x),!(_<h)){if(_>p)break;C.push(_)}C.length*2<j&&(C=q1(h,p,j))}else C=q1(x,N,Math.min(N-x,j)).map(s);return g?C.reverse():C},e.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Jf(f)).precision==null&&(f.trim=!0),f=O_(f)),d===1/0)return f;const h=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(jM(n(),{floor:d=>s(Math.floor(a(d))),ceil:d=>s(Math.ceil(a(d)))})),e}function EM(){const t=R_(o0()).domain([1,10]);return t.copy=()=>_h(t,EM()).base(t.base()),La.apply(t,arguments),t}function cO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function D_(t){var e=1,n=t(cO(e),uO(e));return n.constant=function(r){return arguments.length?t(cO(e=+r),uO(e)):e},eo(n)}function SM(){var t=D_(o0());return t.copy=function(){return _h(t,SM()).constant(t.constant())},La.apply(t,arguments)}function dO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uY(t){return t<0?-t*t:t*t}function P_(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(cY,uY):t(dO(n),dO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},eo(e)}function k_(){var t=P_(o0());return t.copy=function(){return _h(t,k_()).exponent(t.exponent())},La.apply(t,arguments),t}function dY(){return k_.apply(null,arguments).exponent(.5)}function fO(t){return Math.sign(t)*t*t}function fY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function AM(){var t=C_(),e=[0,1],n=!1,r;function a(s){var c=fY(t(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return t.invert(fO(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Gg)).map(fO)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return AM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},La.apply(a,arguments),eo(a)}function TM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=gK(t,c/d);return s}function s(c){return c==null||isNaN(c=+c)?r:e[wh(n,c)]}return s.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Ul),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return TM().domain(t).range(e).unknown(r)},La.apply(s,arguments)}function CM(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function c(f){return f!=null&&f<=f?a[wh(r,f,0,n)]:s}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return c}return c.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,d()):[t,e]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,d()):a.slice()},c.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},c.unknown=function(f){return arguments.length&&(s=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return CM().domain([t,e]).range(a).unknown(s)},La.apply(eo(c),arguments)}function IM(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[wh(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return IM().domain(t).range(e).unknown(n)},La.apply(a,arguments)}const ww=new Date,Nw=new Date;function Gn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),d=a.ceil(s);return s-c<d-s?c:d},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,d)=>{const f=[];if(s=a.ceil(s),d=d==null?1:Math.floor(d),!(s<c)||!(d>0))return f;let h;do f.push(h=new Date(+s)),e(s,d),t(s);while(h<s&&s<c);return f},a.filter=s=>Gn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!s(c););else for(;--d>=0;)for(;e(c,1),!s(c););}),n&&(a.count=(s,c)=>(ww.setTime(+s),Nw.setTime(+c),t(ww),t(Nw),Math.floor(n(ww,Nw))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Yg=Gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Yg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Yg);Yg.range;const js=1e3,Ra=js*60,Es=Ra*60,Ms=Es*24,M_=Ms*7,hO=Ms*30,_w=Ms*365,qo=Gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCSeconds());qo.range;const L_=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getMinutes());L_.range;const U_=Gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ra)},(t,e)=>(e-t)/Ra,t=>t.getUTCMinutes());U_.range;const V_=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js-t.getMinutes()*Ra)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getHours());V_.range;const z_=Gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCHours());z_.range;const jh=Gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ra)/Ms,t=>t.getDate()-1);jh.range;const c0=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>t.getUTCDate()-1);c0.range;const OM=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>Math.floor(t/Ms));OM.range;function gc(t){return Gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ra)/M_)}const u0=gc(0),Wg=gc(1),hY=gc(2),mY=gc(3),Uu=gc(4),pY=gc(5),gY=gc(6);u0.range;Wg.range;hY.range;mY.range;Uu.range;pY.range;gY.range;function yc(t){return Gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/M_)}const d0=yc(0),Xg=yc(1),yY=yc(2),vY=yc(3),Vu=yc(4),xY=yc(5),bY=yc(6);d0.range;Xg.range;yY.range;vY.range;Vu.range;xY.range;bY.range;const B_=Gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());B_.range;const $_=Gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$_.range;const Ls=Gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ls.range;const Us=Gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Us.range;function RM(t,e,n,r,a,s){const c=[[qo,1,js],[qo,5,5*js],[qo,15,15*js],[qo,30,30*js],[s,1,Ra],[s,5,5*Ra],[s,15,15*Ra],[s,30,30*Ra],[a,1,Es],[a,3,3*Es],[a,6,6*Es],[a,12,12*Es],[r,1,Ms],[r,2,2*Ms],[n,1,M_],[e,1,hO],[e,3,3*hO],[t,1,_w]];function d(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const N=g&&typeof g.range=="function"?g:f(h,p,g),E=N?N.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,N=__(([,,j])=>j).right(c,x);if(N===c.length)return t.every(G1(h/_w,p/_w,g));if(N===0)return Yg.every(Math.max(G1(h,p,g),1));const[E,_]=c[x/c[N-1][2]<c[N][2]/x?N-1:N];return E.every(_)}return[d,f]}const[wY,NY]=RM(Us,$_,d0,OM,z_,U_),[_Y,jY]=RM(Ls,B_,u0,jh,V_,L_);function jw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function EY(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,c=t.shortDays,d=t.months,f=t.shortMonths,h=Nf(a),p=_f(a),g=Nf(s),x=_f(s),N=Nf(c),E=_f(c),_=Nf(d),j=_f(d),C=Nf(f),M=_f(f),k={a:re,A:W,b:ve,B:Q,c:null,d:xO,e:xO,f:YY,g:aW,G:sW,H:HY,I:GY,j:KY,L:DM,m:WY,M:XY,p:V,q:Y,Q:NO,s:_O,S:QY,u:JY,U:ZY,V:eW,w:tW,W:nW,x:null,X:null,y:rW,Y:iW,Z:lW,"%":wO},T={a:H,A:J,b:fe,B:Ee,c:null,d:bO,e:bO,f:dW,g:wW,G:_W,H:oW,I:cW,j:uW,L:kM,m:fW,M:hW,p:Te,q:qe,Q:NO,s:_O,S:mW,u:pW,U:gW,V:yW,w:vW,W:xW,x:null,X:null,y:bW,Y:NW,Z:jW,"%":wO},R={a:A,A:O,b:B,B:z,c:me,d:yO,e:yO,f:BY,g:gO,G:pO,H:vO,I:vO,j:LY,L:zY,m:MY,M:UY,p:$,q:kY,Q:FY,s:qY,S:VY,u:IY,U:OY,V:RY,w:CY,W:DY,x:ie,X:G,y:gO,Y:pO,Z:PY,"%":$Y};k.x=L(n,k),k.X=L(r,k),k.c=L(e,k),T.x=L(n,T),T.X=L(r,T),T.c=L(e,T);function L(ce,ze){return function(ee){var he=[],at=-1,Ke=0,Ot=ce.length,je,yt,ye;for(ee instanceof Date||(ee=new Date(+ee));++at<Ot;)ce.charCodeAt(at)===37&&(he.push(ce.slice(Ke,at)),(yt=mO[je=ce.charAt(++at)])!=null?je=ce.charAt(++at):yt=je==="e"?" ":"0",(ye=ze[je])&&(je=ye(ee,yt)),he.push(je),Ke=at+1);return he.push(ce.slice(Ke,at)),he.join("")}}function D(ce,ze){return function(ee){var he=wf(1900,void 0,1),at=U(he,ce,ee+="",0),Ke,Ot;if(at!=ee.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ze&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ke=Ew(wf(he.y,0,1)),Ot=Ke.getUTCDay(),Ke=Ot>4||Ot===0?Xg.ceil(Ke):Xg(Ke),Ke=c0.offset(Ke,(he.V-1)*7),he.y=Ke.getUTCFullYear(),he.m=Ke.getUTCMonth(),he.d=Ke.getUTCDate()+(he.w+6)%7):(Ke=jw(wf(he.y,0,1)),Ot=Ke.getDay(),Ke=Ot>4||Ot===0?Wg.ceil(Ke):Wg(Ke),Ke=jh.offset(Ke,(he.V-1)*7),he.y=Ke.getFullYear(),he.m=Ke.getMonth(),he.d=Ke.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ot="Z"in he?Ew(wf(he.y,0,1)).getUTCDay():jw(wf(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ot+5)%7:he.w+he.U*7-(Ot+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Ew(he)):jw(he)}}function U(ce,ze,ee,he){for(var at=0,Ke=ze.length,Ot=ee.length,je,yt;at<Ke;){if(he>=Ot)return-1;if(je=ze.charCodeAt(at++),je===37){if(je=ze.charAt(at++),yt=R[je in mO?ze.charAt(at++):je],!yt||(he=yt(ce,ee,he))<0)return-1}else if(je!=ee.charCodeAt(he++))return-1}return he}function $(ce,ze,ee){var he=h.exec(ze.slice(ee));return he?(ce.p=p.get(he[0].toLowerCase()),ee+he[0].length):-1}function A(ce,ze,ee){var he=N.exec(ze.slice(ee));return he?(ce.w=E.get(he[0].toLowerCase()),ee+he[0].length):-1}function O(ce,ze,ee){var he=g.exec(ze.slice(ee));return he?(ce.w=x.get(he[0].toLowerCase()),ee+he[0].length):-1}function B(ce,ze,ee){var he=C.exec(ze.slice(ee));return he?(ce.m=M.get(he[0].toLowerCase()),ee+he[0].length):-1}function z(ce,ze,ee){var he=_.exec(ze.slice(ee));return he?(ce.m=j.get(he[0].toLowerCase()),ee+he[0].length):-1}function me(ce,ze,ee){return U(ce,e,ze,ee)}function ie(ce,ze,ee){return U(ce,n,ze,ee)}function G(ce,ze,ee){return U(ce,r,ze,ee)}function re(ce){return c[ce.getDay()]}function W(ce){return s[ce.getDay()]}function ve(ce){return f[ce.getMonth()]}function Q(ce){return d[ce.getMonth()]}function V(ce){return a[+(ce.getHours()>=12)]}function Y(ce){return 1+~~(ce.getMonth()/3)}function H(ce){return c[ce.getUTCDay()]}function J(ce){return s[ce.getUTCDay()]}function fe(ce){return f[ce.getUTCMonth()]}function Ee(ce){return d[ce.getUTCMonth()]}function Te(ce){return a[+(ce.getUTCHours()>=12)]}function qe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var ze=L(ce+="",k);return ze.toString=function(){return ce},ze},parse:function(ce){var ze=D(ce+="",!1);return ze.toString=function(){return ce},ze},utcFormat:function(ce){var ze=L(ce+="",T);return ze.toString=function(){return ce},ze},utcParse:function(ce){var ze=D(ce+="",!0);return ze.toString=function(){return ce},ze}}}var mO={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,SY=/^%/,AY=/[\\^$*+?|[\]().{}]/g;function wt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function TY(t){return t.replace(AY,"\\$&")}function Nf(t){return new RegExp("^(?:"+t.map(TY).join("|")+")","i")}function _f(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function CY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function IY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function OY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function RY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function DY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pO(t,e,n){var r=ar.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kY(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function MY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function LY(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vO(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function UY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function VY(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zY(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function BY(t,e,n){var r=ar.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $Y(t,e,n){var r=SY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function FY(t,e,n){var r=ar.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qY(t,e,n){var r=ar.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function xO(t,e){return wt(t.getDate(),e,2)}function HY(t,e){return wt(t.getHours(),e,2)}function GY(t,e){return wt(t.getHours()%12||12,e,2)}function KY(t,e){return wt(1+jh.count(Ls(t),t),e,3)}function DM(t,e){return wt(t.getMilliseconds(),e,3)}function YY(t,e){return DM(t,e)+"000"}function WY(t,e){return wt(t.getMonth()+1,e,2)}function XY(t,e){return wt(t.getMinutes(),e,2)}function QY(t,e){return wt(t.getSeconds(),e,2)}function JY(t){var e=t.getDay();return e===0?7:e}function ZY(t,e){return wt(u0.count(Ls(t)-1,t),e,2)}function PM(t){var e=t.getDay();return e>=4||e===0?Uu(t):Uu.ceil(t)}function eW(t,e){return t=PM(t),wt(Uu.count(Ls(t),t)+(Ls(t).getDay()===4),e,2)}function tW(t){return t.getDay()}function nW(t,e){return wt(Wg.count(Ls(t)-1,t),e,2)}function rW(t,e){return wt(t.getFullYear()%100,e,2)}function aW(t,e){return t=PM(t),wt(t.getFullYear()%100,e,2)}function iW(t,e){return wt(t.getFullYear()%1e4,e,4)}function sW(t,e){var n=t.getDay();return t=n>=4||n===0?Uu(t):Uu.ceil(t),wt(t.getFullYear()%1e4,e,4)}function lW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wt(e/60|0,"0",2)+wt(e%60,"0",2)}function bO(t,e){return wt(t.getUTCDate(),e,2)}function oW(t,e){return wt(t.getUTCHours(),e,2)}function cW(t,e){return wt(t.getUTCHours()%12||12,e,2)}function uW(t,e){return wt(1+c0.count(Us(t),t),e,3)}function kM(t,e){return wt(t.getUTCMilliseconds(),e,3)}function dW(t,e){return kM(t,e)+"000"}function fW(t,e){return wt(t.getUTCMonth()+1,e,2)}function hW(t,e){return wt(t.getUTCMinutes(),e,2)}function mW(t,e){return wt(t.getUTCSeconds(),e,2)}function pW(t){var e=t.getUTCDay();return e===0?7:e}function gW(t,e){return wt(d0.count(Us(t)-1,t),e,2)}function MM(t){var e=t.getUTCDay();return e>=4||e===0?Vu(t):Vu.ceil(t)}function yW(t,e){return t=MM(t),wt(Vu.count(Us(t),t)+(Us(t).getUTCDay()===4),e,2)}function vW(t){return t.getUTCDay()}function xW(t,e){return wt(Xg.count(Us(t)-1,t),e,2)}function bW(t,e){return wt(t.getUTCFullYear()%100,e,2)}function wW(t,e){return t=MM(t),wt(t.getUTCFullYear()%100,e,2)}function NW(t,e){return wt(t.getUTCFullYear()%1e4,e,4)}function _W(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Vu(t):Vu.ceil(t),wt(t.getUTCFullYear()%1e4,e,4)}function jW(){return"+0000"}function wO(){return"%"}function NO(t){return+t}function _O(t){return Math.floor(+t/1e3)}var uu,LM,UM;EW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EW(t){return uu=EY(t),LM=uu.format,uu.parse,UM=uu.utcFormat,uu.utcParse,uu}function SW(t){return new Date(t)}function AW(t){return t instanceof Date?+t:+new Date(+t)}function F_(t,e,n,r,a,s,c,d,f,h){var p=C_(),g=p.invert,x=p.domain,N=h(".%L"),E=h(":%S"),_=h("%I:%M"),j=h("%I %p"),C=h("%a %d"),M=h("%b %d"),k=h("%B"),T=h("%Y");function R(L){return(f(L)<L?N:d(L)<L?E:c(L)<L?_:s(L)<L?j:r(L)<L?a(L)<L?C:M:n(L)<L?k:T)(L)}return p.invert=function(L){return new Date(g(L))},p.domain=function(L){return arguments.length?x(Array.from(L,AW)):x().map(SW)},p.ticks=function(L){var D=x();return t(D[0],D[D.length-1],L??10)},p.tickFormat=function(L,D){return D==null?R:h(D)},p.nice=function(L){var D=x();return(!L||typeof L.range!="function")&&(L=e(D[0],D[D.length-1],L??10)),L?x(jM(D,L)):p},p.copy=function(){return _h(p,F_(t,e,n,r,a,s,c,d,f,h))},p}function TW(){return La.apply(F_(_Y,jY,Ls,B_,u0,jh,V_,L_,qo,LM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CW(){return La.apply(F_(wY,NY,Us,$_,d0,c0,z_,U_,qo,UM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f0(){var t=0,e=1,n,r,a,s,c=Cr,d=!1,f;function h(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(s(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(x){var N,E;return arguments.length?([N,E]=x,c=g(N,E),h):[c(0),c(1)]}}return h.range=p(Ju),h.rangeRound=p(T_),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function to(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function VM(){var t=eo(f0()(Cr));return t.copy=function(){return to(t,VM())},Ys.apply(t,arguments)}function zM(){var t=R_(f0()).domain([1,10]);return t.copy=function(){return to(t,zM()).base(t.base())},Ys.apply(t,arguments)}function BM(){var t=D_(f0());return t.copy=function(){return to(t,BM()).constant(t.constant())},Ys.apply(t,arguments)}function q_(){var t=P_(f0());return t.copy=function(){return to(t,q_()).exponent(t.exponent())},Ys.apply(t,arguments)}function IW(){return q_.apply(null,arguments).exponent(.5)}function $M(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((wh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ul),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>pK(t,s/r))},n.copy=function(){return $M(e).domain(t)},Ys.apply(n,arguments)}function h0(){var t=0,e=.5,n=1,r=1,a,s,c,d,f,h=Cr,p,g=!1,x;function N(_){return isNaN(_=+_)?x:(_=.5+((_=+p(_))-s)*(r*_<r*s?d:f),h(g?Math.max(0,Math.min(1,_)):_))}N.domain=function(_){return arguments.length?([t,e,n]=_,a=p(t=+t),s=p(e=+e),c=p(n=+n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,N):[t,e,n]},N.clamp=function(_){return arguments.length?(g=!!_,N):g},N.interpolator=function(_){return arguments.length?(h=_,N):h};function E(_){return function(j){var C,M,k;return arguments.length?([C,M,k]=j,h=$K(_,[C,M,k]),N):[h(0),h(.5),h(1)]}}return N.range=E(Ju),N.rangeRound=E(T_),N.unknown=function(_){return arguments.length?(x=_,N):x},function(_){return p=_,a=_(t),s=_(e),c=_(n),d=a===s?0:.5/(s-a),f=s===c?0:.5/(c-s),r=s<a?-1:1,N}}function FM(){var t=eo(h0()(Cr));return t.copy=function(){return to(t,FM())},Ys.apply(t,arguments)}function qM(){var t=R_(h0()).domain([.1,1,10]);return t.copy=function(){return to(t,qM()).base(t.base())},Ys.apply(t,arguments)}function HM(){var t=D_(h0());return t.copy=function(){return to(t,HM()).constant(t.constant())},Ys.apply(t,arguments)}function H_(){var t=P_(h0());return t.copy=function(){return to(t,H_()).exponent(t.exponent())},Ys.apply(t,arguments)}function OW(){return H_.apply(null,arguments).exponent(.5)}const Af=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E_,scaleDiverging:FM,scaleDivergingLog:qM,scaleDivergingPow:H_,scaleDivergingSqrt:OW,scaleDivergingSymlog:HM,scaleIdentity:_M,scaleImplicit:K1,scaleLinear:NM,scaleLog:EM,scaleOrdinal:j_,scalePoint:vK,scalePow:k_,scaleQuantile:TM,scaleQuantize:CM,scaleRadial:AM,scaleSequential:VM,scaleSequentialLog:zM,scaleSequentialPow:q_,scaleSequentialQuantile:$M,scaleSequentialSqrt:IW,scaleSequentialSymlog:BM,scaleSqrt:dY,scaleSymlog:SM,scaleThreshold:IM,scaleTime:TW,scaleUtc:CW,tickFormat:wM},Symbol.toStringTag,{value:"Module"}));var no=t=>t.chartData,G_=le([no],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),K_=(t,e,n,r)=>r?G_(t):no(t);function ql(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Nn(e)&&Nn(n))return!0}return!1}function jO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function GM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(Nn(n))a=n;else if(typeof n=="function")return;if(Nn(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(ql(c))return c}}function RW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ql(r))return jO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if(Ue(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&eI.test(a)){var f=eI.exec(a);if(f==null||e==null)c=void 0;else{var h=+f[1];c=e[0]-h}}else c=e==null?void 0:e[0];if(s==="auto")e!=null&&(d=Math.max(...e));else if(Ue(s))d=s;else if(typeof s=="function")try{e!=null&&(d=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&tI.test(s)){var p=tI.exec(s);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var x=[c,d];if(ql(x))return e==null?x:jO(x,e,n)}}}var Zu=1e9,DW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W_,rn=!0,ka="[DecimalError] ",Jo=ka+"Invalid argument: ",Y_=ka+"Exponent out of range: ",ed=Math.floor,Bo=Math.pow,PW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sa,er=1e7,Xt=7,KM=9007199254740991,Qg=ed(KM/Xt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(t){return Is(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,n=e.constructor;return Ft(Is(e,new n(t),0,1),n.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return Vn(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(sa))throw Error(ka+"NaN");if(n.s<1)throw Error(ka+(n.s?"NaN":"-Infinity"));return n.eq(sa)?new r(0):(rn=!1,e=Is(Zf(n,s),Zf(t,s),s),rn=!0,Ft(e,a))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XM(e,t):YM(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(ka+"NaN");return n.s?(rn=!1,e=Is(n,t,0,1).times(t),rn=!0,n.minus(e)):Ft(new r(n),a)};Pe.naturalExponential=Pe.exp=function(){return WM(this)};Pe.naturalLogarithm=Pe.ln=function(){return Zf(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YM(e,t):XM(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Jo+t);if(e=Vn(a)+1,r=a.d.length-1,n=r*Xt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,a,s,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(ka+"NaN")}for(t=Vn(d),rn=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Li(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ed((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(s=r,r=s.plus(Is(d,s,c+2)).times(.5),Li(s.d).slice(0,c)===(e=Li(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Ft(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(e!="9999")break;c+=4}return rn=!0,Ft(r,n)};Pe.times=Pe.mul=function(t){var e,n,r,a,s,c,d,f,h,p=this,g=p.constructor,x=p.d,N=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=N.length,f<h&&(s=x,x=N,N=s,c=f,f=h,h=c),s=[],c=f+h,r=c;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)d=s[a]+N[r]*x[a-r-1]+e,s[a--]=d%er|0,e=d/er|0;s[a]=(s[a]+e)%er|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,rn?Ft(t,g.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wi(t,0,Zu),e===void 0?e=r.rounding:Wi(e,0,8),Ft(n,t+Vn(n)+1,e))};Pe.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=ac(r,!0):(Wi(t,0,Zu),e===void 0?e=a.rounding:Wi(e,0,8),r=Ft(new a(r),t+1,e),n=ac(r,!0,t+1)),n};Pe.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?ac(a):(Wi(t,0,Zu),e===void 0?e=s.rounding:Wi(e,0,8),r=Ft(new s(a),t+Vn(a)+1,e),n=ac(r.abs(),!1,t+Vn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Ft(new e(t),Vn(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,n,r,a,s,c,d=this,f=d.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(sa);if(d=new f(d),!d.s){if(t.s<1)throw Error(ka+"Infinity");return d}if(d.eq(sa))return d;if(r=f.precision,t.eq(sa))return Ft(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=d.s,c){if((n=p<0?-p:p)<=KM){for(a=new f(sa),e=Math.ceil(r/Xt+4),rn=!1;n%2&&(a=a.times(d),SO(a.d,e)),n=ed(n/2),n!==0;)d=d.times(d),SO(d.d,e);return rn=!0,t.s<0?new f(sa).div(a):Ft(a,r)}}else if(s<0)throw Error(ka+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,rn=!1,a=t.times(Zf(d,r+h)),rn=!0,a=WM(a),a.s=s,a};Pe.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=Vn(a),r=ac(a,n<=s.toExpNeg||n>=s.toExpPos)):(Wi(t,1,Zu),e===void 0?e=s.rounding:Wi(e,0,8),a=Ft(new s(a),t,e),n=Vn(a),r=ac(a,t<=n||n<=s.toExpNeg,t)),r};Pe.toSignificantDigits=Pe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wi(t,1,Zu),e===void 0?e=r.rounding:Wi(e,0,8)),Ft(new r(n),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Vn(t),n=t.constructor;return ac(t,e<=n.toExpNeg||e>=n.toExpPos)};function YM(t,e){var n,r,a,s,c,d,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),rn?Ft(e,g):e;if(f=t.d,h=e.d,c=t.e,a=e.e,f=f.slice(),s=c-a,s){for(s<0?(r=f,s=-s,d=h.length):(r=h,a=c,d=f.length),c=Math.ceil(g/Xt),d=c>d?c+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=f.length,s=h.length,d-s<0&&(s=d,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/er|0,f[s]%=er;for(n&&(f.unshift(n),++a),d=f.length;f[--d]==0;)f.pop();return e.d=f,e.e=a,rn?Ft(e,g):e}function Wi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Jo+t)}function Li(t){var e,n,r,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)r=t[e]+"",n=Xt-r.length,n&&(s+=Il(n)),s+=r;c=t[e],r=c+"",n=Xt-r.length,n&&(s+=Il(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Is=(function(){function t(r,a){var s,c=0,d=r.length;for(r=r.slice();d--;)s=r[d]*a+c,r[d]=s%er|0,c=s/er|0;return c&&r.unshift(c),r}function e(r,a,s,c){var d,f;if(s!=c)f=s>c?1:-1;else for(d=f=0;d<s;d++)if(r[d]!=a[d]){f=r[d]>a[d]?1:-1;break}return f}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*er+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var d,f,h,p,g,x,N,E,_,j,C,M,k,T,R,L,D,U,$=r.constructor,A=r.s==a.s?1:-1,O=r.d,B=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(ka+"Division by zero");for(f=r.e-a.e,D=B.length,R=O.length,N=new $(A),E=N.d=[],h=0;B[h]==(O[h]||0);)++h;if(B[h]>(O[h]||0)&&--f,s==null?M=s=$.precision:c?M=s+(Vn(r)-Vn(a))+1:M=s,M<0)return new $(0);if(M=M/Xt+2|0,h=0,D==1)for(p=0,B=B[0],M++;(h<R||p)&&M--;h++)k=p*er+(O[h]||0),E[h]=k/B|0,p=k%B|0;else{for(p=er/(B[0]+1)|0,p>1&&(B=t(B,p),O=t(O,p),D=B.length,R=O.length),T=D,_=O.slice(0,D),j=_.length;j<D;)_[j++]=0;U=B.slice(),U.unshift(0),L=B[0],B[1]>=er/2&&++L;do p=0,d=e(B,_,D,j),d<0?(C=_[0],D!=j&&(C=C*er+(_[1]||0)),p=C/L|0,p>1?(p>=er&&(p=er-1),g=t(B,p),x=g.length,j=_.length,d=e(g,_,x,j),d==1&&(p--,n(g,D<x?U:B,x))):(p==0&&(d=p=1),g=B.slice()),x=g.length,x<j&&g.unshift(0),n(_,g,j),d==-1&&(j=_.length,d=e(B,_,D,j),d<1&&(p++,n(_,D<j?U:B,j))),j=_.length):d===0&&(p++,_=[0]),E[h++]=p,d&&_[0]?_[j++]=O[T]||0:(_=[O[T]],j=1);while((T++<R||_[0]!==void 0)&&M--)}return E[0]||E.shift(),N.e=f,Ft(N,c?s+Vn(N)+1:s)}})();function WM(t,e){var n,r,a,s,c,d,f=0,h=0,p=t.constructor,g=p.precision;if(Vn(t)>16)throw Error(Y_+Vn(t));if(!t.s)return new p(sa);for(rn=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),h+=5;for(r=Math.log(Bo(2,h))/Math.LN10*2+5|0,d+=r,n=a=s=new p(sa),p.precision=d;;){if(a=Ft(a.times(t),d),n=n.times(++f),c=s.plus(Is(a,n,d)),Li(c.d).slice(0,d)===Li(s.d).slice(0,d)){for(;h--;)s=Ft(s.times(s),d);return p.precision=g,e==null?(rn=!0,Ft(s,g)):s}s=c}}function Vn(t){for(var e=t.e*Xt,n=t.d[0];n>=10;n/=10)e++;return e}function Sw(t,e,n){if(e>t.LN10.sd())throw rn=!0,n&&(t.precision=n),Error(ka+"LN10 precision limit exceeded");return Ft(new t(t.LN10),e)}function Il(t){for(var e="";t--;)e+="0";return e}function Zf(t,e){var n,r,a,s,c,d,f,h,p,g=1,x=10,N=t,E=N.d,_=N.constructor,j=_.precision;if(N.s<1)throw Error(ka+(N.s?"NaN":"-Infinity"));if(N.eq(sa))return new _(0);if(e==null?(rn=!1,h=j):h=e,N.eq(10))return e==null&&(rn=!0),Sw(_,h);if(h+=x,_.precision=h,n=Li(E),r=n.charAt(0),s=Vn(N),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)N=N.times(t),n=Li(N.d),r=n.charAt(0),g++;s=Vn(N),r>1?(N=new _("0."+n),s++):N=new _(r+"."+n.slice(1))}else return f=Sw(_,h+2,j).times(s+""),N=Zf(new _(r+"."+n.slice(1)),h-x).plus(f),_.precision=j,e==null?(rn=!0,Ft(N,j)):N;for(d=c=N=Is(N.minus(sa),N.plus(sa),h),p=Ft(N.times(N),h),a=3;;){if(c=Ft(c.times(p),h),f=d.plus(Is(c,new _(a),h)),Li(f.d).slice(0,h)===Li(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(Sw(_,h+2,j).times(s+""))),d=Is(d,new _(g),h),_.precision=j,e==null?(rn=!0,Ft(d,j)):d;d=f,a+=2}}function EO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=ed(n/Xt),t.d=[],r=(n+1)%Xt,n<0&&(r+=Xt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Xt;r<a;)t.d.push(+e.slice(r,r+=Xt));e=e.slice(r),r=Xt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),rn&&(t.e>Qg||t.e<-Qg))throw Error(Y_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ft(t,e,n){var r,a,s,c,d,f,h,p,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Xt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Xt),s=g.length,p>=s)return t;for(h=s=g[p],c=1;s>=10;s/=10)c++;r%=Xt,a=r-Xt+c}if(n!==void 0&&(s=Bo(10,c-a-1),d=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(d||f)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?a>0?h/Bo(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=Vn(t),g.length=1,e=e-s-1,g[0]=Bo(10,(Xt-e%Xt)%Xt),t.e=ed(-e/Xt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Bo(10,Xt-r),g[p]=a>0?(h/Bo(10,c-a)%Bo(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==er&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=er)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(rn&&(t.e>Qg||t.e<-Qg))throw Error(Y_+Vn(t));return t}function XM(t,e){var n,r,a,s,c,d,f,h,p,g,x=t.constructor,N=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),rn?Ft(e,N):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),c=h-r,c){for(p=c<0,p?(n=f,c=-c,d=g.length):(n=g,r=h,d=f.length),a=Math.max(Math.ceil(N/Xt),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}c=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),d=f.length,a=g.length-d;a>0;--a)f[d++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=er-1;--f[s],f[a]+=er}f[a]-=g[a]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,rn?Ft(e,N):e):new x(0)}function ac(t,e,n){var r,a=Vn(t),s=Li(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Il(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Il(-a-1)+s,n&&(r=n-c)>0&&(s+=Il(r))):a>=c?(s+=Il(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Il(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Il(r))),t.s<0?"-"+s:s}function SO(t,e){if(t.length>e)return t.length=e,!0}function QM(t){var e,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Jo+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return EO(c,s.toString())}else if(typeof s!="string")throw Error(Jo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,PW.test(s))EO(c,s);else throw Error(Jo+s)}if(a.prototype=Pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=QM,a.config=a.set=kW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function kW(t){if(!t||typeof t!="object")throw Error(ka+"Object expected");var e,n,r,a=["precision",1,Zu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(ed(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(Jo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Jo+n+": "+r);return this}var W_=QM(DW);sa=new W_(1);const It=W_;var MW=t=>t,JM={},ZM=t=>t===JM,AO=t=>function e(){return arguments.length===0||arguments.length===1&&ZM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},e5=(t,e)=>t===1?e:AO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(c=>c!==JM).length;return s>=t?e(...r):e5(t-s,AO(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=r.map(p=>ZM(p)?d.shift():p);return e(...h,...d)}))}),LW=t=>e5(t.length,t),Q1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},UW=LW((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),VW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return MW;var a=n.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((d,f)=>f(d),s(...arguments))}},J1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function t5(t){var e;return t===0?e=1:e=Math.floor(new It(t).abs().log(10).toNumber())+1,e}function n5(t,e,n){for(var r=new It(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var r5=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},a5=(t,e,n)=>{if(t.lte(0))return new It(0);var r=t5(t.toNumber()),a=new It(10).pow(r),s=t.div(a),c=r!==1?.05:.1,d=new It(Math.ceil(s.div(c).toNumber())).add(n).mul(c),f=d.mul(a);return e?new It(f.toNumber()):new It(Math.ceil(f.toNumber()))},zW=(t,e,n)=>{var r=new It(1),a=new It(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new It(10).pow(t5(t)-1),a=new It(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new It(Math.floor(t)))}else t===0?a=new It(Math.floor((e-1)/2)):n||(a=new It(Math.floor(t)));var c=Math.floor((e-1)/2),d=VW(UW(f=>a.add(new It(f-c).mul(r)).toNumber()),Q1);return d(0,e)},i5=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var c=a5(new It(n).sub(e).div(r-1),a,s),d;e<=0&&n>=0?d=new It(0):(d=new It(e).add(n).div(2),d=d.sub(new It(d).mod(c)));var f=Math.ceil(d.sub(e).div(c).toNumber()),h=Math.ceil(new It(n).sub(d).div(c).toNumber()),p=f+h+1;return p>r?i5(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:c,tickMin:d.sub(new It(f).mul(c)),tickMax:d.add(new It(h).mul(c))})},BW=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,f]=r5([n,r]);if(d===-1/0||f===1/0){var h=f===1/0?[d,...Q1(0,a-1).map(()=>1/0)]:[...Q1(0,a-1).map(()=>-1/0),f];return n>r?J1(h):h}if(d===f)return zW(d,a,s);var{step:p,tickMin:g,tickMax:x}=i5(d,f,c,s,0),N=n5(g,x.add(new It(.1).mul(p)),p);return n>r?J1(N):N},$W=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=r5([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var f=Math.max(n,2),h=a5(new It(d).sub(c).div(f-1),s,0),p=[...n5(new It(c),new It(d),h),d];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?J1(p):p},s5=t=>t.rootProps.maxBarSize,FW=t=>t.rootProps.barGap,l5=t=>t.rootProps.barCategoryGap,qW=t=>t.rootProps.barSize,Eh=t=>t.rootProps.stackOffset,o5=t=>t.rootProps.reverseStackOrder,X_=t=>t.options.chartName,Q_=t=>t.rootProps.syncId,c5=t=>t.rootProps.syncMethod,J_=t=>t.options.eventEmitter,mr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ns={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ia={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},m0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},HW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:Ns.reversed,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:Ns.type,unit:void 0},GW={allowDataOverflow:ia.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ia.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ia.scale,tick:ia.tick,tickCount:ia.tickCount,ticks:void 0,type:ia.type,unit:void 0},KW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ns.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},YW={allowDataOverflow:ia.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ia.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ia.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ia.scale,tick:ia.tick,tickCount:ia.tickCount,ticks:void 0,type:"category",unit:void 0},Z_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?KW:HW,ej=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?YW:GW,p0=t=>t.polarOptions,tj=le([Gs,Ks,Hn],lM),u5=le([p0,tj],(t,e)=>{if(t!=null)return _r(t.innerRadius,e,0)}),d5=le([p0,tj],(t,e)=>{if(t!=null)return _r(t.outerRadius,e,e*.8)}),WW=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},f5=le([p0],WW);le([Z_,f5],m0);var h5=le([tj,u5,d5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([ej,h5],m0);var m5=le([Nt,p0,u5,d5,Gs,Ks],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:h}=e;return{cx:_r(c,a,a/2),cy:_r(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),ln=(t,e)=>e,Sh=(t,e,n)=>n;function nj(t){return t==null?void 0:t.id}function p5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return t.forEach(d=>{var f,h=(f=d.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=nj(d);h.forEach((g,x)=>{var N=s==null||a?x:String(nn(g,s,null)),E=nn(g,d.dataKey,0),_;c.has(N)?_=c.get(N):_={},Object.assign(_,{[p]:E}),c.set(N,_)})}}),Array.from(c.values())}function g0(t){return t.stackId!=null&&t.dataKey!=null}var y0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function v0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function XW(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Kn=t=>{var e=Nt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},td=t=>t.tooltip.settings.axisId;function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){QW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QW(t,e,n){return(e=JW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Z1=[0,"auto"],Jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},g5=(t,e)=>t.cartesianAxis.xAxis[e],Ws=(t,e)=>{var n=g5(t,e);return n??Jn},Zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Z1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xh},y5=(t,e)=>t.cartesianAxis.yAxis[e],Xs=(t,e)=>{var n=y5(t,e);return n??Zn},eX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??eX},dn=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Xs(t,n);case"zAxis":return rj(t,n);case"angleAxis":return Z_(t,n);case"radiusAxis":return ej(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tX=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Xs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ah=(t,e,n)=>{switch(e){case"xAxis":return Ws(t,n);case"yAxis":return Xs(t,n);case"angleAxis":return Z_(t,n);case"radiusAxis":return ej(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},v5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function aj(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ij=t=>t.graphicalItems.cartesianItems,nX=le([ln,Sh],aj),sj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Th=le([ij,dn,nX],sj,{memoizeOptions:{resultEqualityCheck:v0}}),x5=le([Th],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(g0)),b5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),rX=le([Th],b5),lj=t=>t.map(e=>e.data).filter(Boolean).flat(1),aX=le([Th],lj,{memoizeOptions:{resultEqualityCheck:v0}}),oj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},cj=le([aX,K_],oj),uj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:nn(a,r)}))):t.map(r=>({value:r})),x0=le([cj,dn,Th],uj);function w5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rg(t){if(Gi(t)||t instanceof Date){var e=Number(t);if(Nn(e))return e}}function CO(t){if(Array.isArray(t)){var e=[rg(t[0]),rg(t[1])];return ql(e)?e:void 0}var n=rg(t);if(n!=null)return[n,n]}function Vs(t){return t.map(rg).filter(w$)}function iX(t,e,n){return!n||typeof e!="number"||li(e)?[]:n.length?Vs(n.flatMap(r=>{var a=nn(t,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!Nn(s)||!Nn(c)))return[e-s,e+c]})):[]}var Yn=t=>{var e=Kn(t),n=td(t);return Ah(t,e,n)},Ch=le([Yn],t=>t==null?void 0:t.dataKey),sX=le([x5,K_,Yn],p5),N5=(t,e,n,r)=>{var a={},s=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(s).map(c=>{var[d,f]=c,h=r?[...f].reverse():f,p=h.map(nj);return[d,{stackedData:Bq(t,p,n),graphicalItems:h}]}))},eN=le([sX,x5,Eh,o5],N5),_5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var c=Gq(t,a,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},lX=le([dn],t=>t.allowDataOverflow),dj=t=>{var e;if(t==null||!("domain"in t))return Z1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Vs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Z1},fj=le([dn],dj),hj=le([fj,lX],GM),oX=le([eN,no,ln,hj],_5,{memoizeOptions:{resultEqualityCheck:y0}}),b0=t=>t.errorBars,cX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>w5(n,r)),Zg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),d=Math.max(...s);return[c,d]}},mj=(t,e,n,r,a)=>{var s,c;if(n.length>0&&t.forEach(d=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(C=>w5(a,C)),x=nn(d,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),N=iX(d,x,g);if(N.length>=2){var E=Math.min(...N),_=Math.max(...N);(s==null||E<s)&&(s=E),(c==null||_>c)&&(c=_)}var j=CO(x);j!=null&&(s=s==null?j[0]:Math.min(s,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var f=CO(nn(d,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Nn(s)&&Nn(c))return[s,c]},uX=le([cj,dn,rX,b0,ln],mj,{memoizeOptions:{resultEqualityCheck:y0}});function dX(t){var{value:e}=t;if(Gi(e)||e instanceof Date)return e}var fX=(t,e,n)=>{var r=t.map(dX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&V4(r))?dM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},j5=t=>t.referenceElements.dots,nd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),hX=le([j5,ln,Sh],nd),E5=t=>t.referenceElements.areas,mX=le([E5,ln,Sh],nd),S5=t=>t.referenceElements.lines,pX=le([S5,ln,Sh],nd),A5=(t,e)=>{var n=Vs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gX=le(hX,ln,A5),T5=(t,e)=>{var n=Vs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yX=le([mX,ln],T5);function vX(t){var e;if(t.x!=null)return Vs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Vs(n)}function xX(t){var e;if(t.y!=null)return Vs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Vs(n)}var C5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?vX(r):xX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bX=le([pX,ln],C5),wX=le(gX,bX,yX,(t,e,n)=>Zg(t,n,e)),pj=(t,e,n,r,a,s,c,d)=>{if(n!=null)return n;var f=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",h=f?Zg(r,s,a):Zg(s,a);return RW(e,h,t.allowDataOverflow)},NX=le([dn,fj,hj,oX,uX,wX,Nt,ln],pj,{memoizeOptions:{resultEqualityCheck:y0}}),_X=[0,1],gj=(t,e,n,r,a,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=t,h=mc(e,s);if(h&&d==null){var p;return dM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return f==="category"?fX(r,t,h):a==="expand"?_X:c}},yj=le([dn,Nt,cj,x0,Eh,ln,NX],gj),I5=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(mh(s));return d in Af?d:"point"}}},rd=le([dn,Nt,v5,X_,ln],I5);function jX(t){if(t!=null){if(t in Af)return Af[t]();var e="scale".concat(mh(t));if(e in Af)return Af[e]()}}function vj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=jX(e);if(a!=null){var s=a.domain(n).range(r);return Mq(s),s}}}var xj=(t,e,n)=>{var r=dj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ql(t))return BW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ql(t))return $W(t,e.tickCount,e.allowDecimals)}},bj=le([yj,Ah,rd],xj),wj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ql(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,s),Math.max(c,d)]}return e},EX=le([dn,yj,bj,ln],wj),SX=le(x0,dn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Vs(t.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/a}}),O5=le(SX,Nt,l5,Hn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!Nn(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=_r(n,t*s),d=t*s/2;return d-c-(d-c)/s*c}return 0}),AX=(t,e)=>{var n=Ws(t,e);return n==null||typeof n.padding!="string"?0:O5(t,"xAxis",e,n.padding)},TX=(t,e)=>{var n=Xs(t,e);return n==null||typeof n.padding!="string"?0:O5(t,"yAxis",e,n.padding)},CX=le(Ws,AX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),IX=le(Xs,TX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),OX=le([Hn,CX,Zy,Jy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),RX=le([Hn,Nt,IX,Zy,Jy,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Ih=(t,e,n,r)=>{var a;switch(e){case"xAxis":return OX(t,n,r);case"yAxis":return RX(t,n,r);case"zAxis":return(a=rj(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return f5(t);case"radiusAxis":return h5(t,n);default:return}},R5=le([dn,Ih],m0),ad=le([dn,rd,EX,R5],vj);le([Th,b0,ln],cX);function D5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var w0=(t,e)=>e,N0=(t,e,n)=>n,DX=le(Xy,w0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(D5)),PX=le(Qy,w0,N0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(D5)),P5=(t,e)=>({width:t.width,height:e.height}),kX=(t,e)=>{var n=typeof e.width=="number"?e.width:xh;return{width:n,height:t.height}},k5=le(Hn,Ws,P5),MX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},LX=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},UX=le(Ks,Hn,DX,w0,N0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=P5(e,d);c==null&&(c=MX(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[d.id]=c-Number(h)*f.height,c+=(h?-1:1)*f.height}),s}),VX=le(Gs,Hn,PX,w0,N0,(t,e,n,r,a)=>{var s={},c;return n.forEach(d=>{var f=kX(e,d);c==null&&(c=LX(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[d.id]=c-Number(h)*f.width,c+=(h?-1:1)*f.width}),s}),zX=(t,e)=>{var n=Ws(t,e);if(n!=null)return UX(t,n.orientation,n.mirror)},BX=le([Hn,Ws,zX,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),$X=(t,e)=>{var n=Xs(t,e);if(n!=null)return VX(t,n.orientation,n.mirror)},FX=le([Hn,Xs,$X,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),M5=le(Hn,Xs,(t,e)=>{var n=typeof e.width=="number"?e.width:xh;return{width:n,height:t.height}}),IO=(t,e,n)=>{switch(e){case"xAxis":return k5(t,n).width;case"yAxis":return M5(t,n).height;default:return}},L5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,d=mc(t,r),f=e.map(h=>h.value);if(c&&d&&s==="category"&&a&&V4(f))return f}},Nj=le([Nt,x0,dn,ln],L5),U5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=mc(t,r);if(c&&(a==="number"||s!=="auto"))return e.map(d=>d.value)}},_j=le([Nt,x0,Ah,ln],U5),OO=le([Nt,tX,rd,ad,Nj,_j,Ih,bj,ln],(t,e,n,r,a,s,c,d,f)=>{if(e!=null){var h=mc(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:d,range:c,realScaleType:n,scale:r}}}),qX=(t,e,n,r,a,s,c,d,f)=>{if(!(e==null||r==null)){var h=mc(t,f),{type:p,ticks:g,tickCount:x}=e,N=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/N:0;E=f==="angleAxis"&&s!=null&&s.length>=2?nr(s[0]-s[1])*2*E:E;var _=g||a;if(_){var j=_.map((C,M)=>{var k=c?c.indexOf(C):C;return{index:M,coordinate:r(k)+E,value:C,offset:E}});return j.filter(C=>Nn(C.coordinate))}return h&&d?d.map((C,M)=>({coordinate:r(C)+E,value:C,index:M,offset:E})).filter(C=>Nn(C.coordinate)):r.ticks?r.ticks(x).map(C=>({coordinate:r(C)+E,value:C,offset:E})):r.domain().map((C,M)=>({coordinate:r(C)+E,value:c?c[C]:C,index:M,offset:E}))}},V5=le([Nt,Ah,rd,ad,bj,Ih,Nj,_j,ln],qX),HX=(t,e,n,r,a,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=mc(t,c),{tickCount:f}=e,h=0;return h=c==="angleAxis"&&(r==null?void 0:r.length)>=2?nr(r[0]-r[1])*2*h:h,d&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},zu=le([Nt,Ah,ad,Ih,Nj,_j,ln],HX),Bu=le(dn,ad,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})}),GX=le([dn,rd,yj,R5],vj);le((t,e,n)=>rj(t,n),GX,(t,e)=>{if(!(t==null||e==null))return Jg(Jg({},t),{},{scale:e})});var KX=le([Nt,Xy,Qy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),z5=t=>t.options.defaultTooltipEventType,B5=t=>t.options.validateTooltipEventTypes;function $5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function jj(t,e){var n=z5(t),r=B5(t);return $5(e,n,r)}function YX(t){return Ve(e=>jj(e,t))}var F5=(t,e)=>{var n,r=Number(e);if(!(li(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},WX=t=>t.tooltip.settings,Rl={active:!1,index:null,dataKey:void 0,coordinate:void 0},XX={itemInteraction:{click:Rl,hover:Rl},axisInteraction:{click:Rl,hover:Rl},keyboardInteraction:Rl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},q5=Yr({name:"tooltip",initialState:XX,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:tn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:tn()},removeTooltipEntrySettings:{reducer(t,e){var n=ii(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:tn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:QX,replaceTooltipEntrySettings:JX,removeTooltipEntrySettings:ZX,setTooltipSettingsState:eQ,setActiveMouseOverItemIndex:H5,mouseLeaveItem:tQ,mouseLeaveChart:G5,setActiveClickItemIndex:nQ,setMouseOverAxisIndex:K5,setMouseClickAxisIndex:rQ,setSyncInteraction:tN,setKeyboardInteraction:nN}=q5.actions,aQ=q5.reducer;function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return(e=sQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=lQ(t,"string");return typeof e=="symbol"?e:e+""}function lQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cQ(t){return t.index!=null}var Y5=(t,e,n,r)=>{if(e==null)return Rl;var a=oQ(t,e,n);if(a==null)return Rl;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(cQ(a)){if(s)return Mp(Mp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Mp(Mp({},Rl),{},{coordinate:a.coordinate})};function uQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function dQ(t,e){var n=uQ(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),c=Math.max(r,a);return n>=s&&n<=c}function fQ(t,e,n){if(n==null||e==null)return!0;var r=nn(t,e);return r==null||!ql(n)?!0:dQ(r,n)}var Ej=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var s=Number(a);if(!Nn(s))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var f=Math.max(c,Math.min(s,d)),h=e[f];return h==null||fQ(h,n,r)?String(f):null},W5=(t,e,n,r,a,s,c,d)=>{if(!(s==null||d==null)){var f=c[0],h=f==null?void 0:d(f.positions,s);if(h!=null)return h;var p=a==null?void 0:a[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},X5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},Oh=t=>t.options.tooltipPayloadSearcher,id=t=>t.tooltip;function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){hQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hQ(t,e,n){return(e=mQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gQ(t,e){return t??e}var Q5=(t,e,n,r,a,s,c)=>{if(!(e==null||s==null)){var{chartData:d,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,N)=>{var E,{dataDefinedOnItem:_,settings:j}=N,C=gQ(_,d),M=Array.isArray(C)?Ok(C,h,p):C,k=(E=j==null?void 0:j.dataKey)!==null&&E!==void 0?E:r,T=j==null?void 0:j.nameKey,R;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&c==="axis"?R=b$(M,r,a):R=s(M,e,f,T),Array.isArray(R))R.forEach(D=>{var U=PO(PO({},j),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});x.push(nI({tooltipEntrySettings:U,dataKey:D.dataKey,payload:D.payload,value:nn(D.payload,D.dataKey),name:D.name}))});else{var L;x.push(nI({tooltipEntrySettings:j,dataKey:k,payload:R,value:nn(R,k),name:(L=nn(R,T))!==null&&L!==void 0?L:j==null?void 0:j.name}))}return x},g)}},Sj=le([Yn,Nt,v5,X_,Kn],I5),yQ=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),vQ=le([Kn,td],aj),Rh=le([yQ,Yn,vQ],sj,{memoizeOptions:{resultEqualityCheck:v0}}),xQ=le([Rh],t=>t.filter(g0)),bQ=le([Rh],lj,{memoizeOptions:{resultEqualityCheck:v0}}),sd=le([bQ,no],oj),wQ=le([xQ,no,Yn],p5),Aj=le([sd,Yn,Rh],uj),J5=le([Yn],dj),NQ=le([Yn],t=>t.allowDataOverflow),Z5=le([J5,NQ],GM),_Q=le([Rh],t=>t.filter(g0)),jQ=le([wQ,_Q,Eh,o5],N5),EQ=le([jQ,no,Kn,Z5],_5),SQ=le([Rh],b5),AQ=le([sd,Yn,SQ,b0,Kn],mj,{memoizeOptions:{resultEqualityCheck:y0}}),TQ=le([j5,Kn,td],nd),CQ=le([TQ,Kn],A5),IQ=le([E5,Kn,td],nd),OQ=le([IQ,Kn],T5),RQ=le([S5,Kn,td],nd),DQ=le([RQ,Kn],C5),PQ=le([CQ,DQ,OQ],Zg),kQ=le([Yn,J5,Z5,EQ,AQ,PQ,Nt,Kn],pj),Dh=le([Yn,Nt,sd,Aj,Eh,Kn,kQ],gj),MQ=le([Dh,Yn,Sj],xj),LQ=le([Yn,Dh,MQ,Kn],wj),e6=t=>{var e=Kn(t),n=td(t),r=!1;return Ih(t,e,n,r)},t6=le([Yn,e6],m0),n6=le([Yn,Sj,LQ,t6],vj),UQ=le([Nt,Aj,Yn,Kn],L5),VQ=le([Nt,Aj,Yn,Kn],U5),zQ=(t,e,n,r,a,s,c,d)=>{if(e){var{type:f}=e,h=mc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?nr(a[0]-a[1])*2*g:g,h&&c?c.map((x,N)=>({coordinate:r(x)+g,value:x,index:N,offset:g})):r.domain().map((x,N)=>({coordinate:r(x)+g,value:s?s[x]:x,index:N,offset:g}))}}},Qs=le([Nt,Yn,Sj,n6,e6,UQ,VQ,Kn],zQ),Tj=le([z5,B5,WX],(t,e,n)=>$5(n.shared,t,e)),r6=t=>t.tooltip.settings.trigger,Cj=t=>t.tooltip.settings.defaultIndex,_0=le([id,Tj,r6,Cj],Y5),ic=le([_0,sd,Ch,Dh],Ej),a6=le([Qs,ic],F5),i6=le([_0],t=>{if(t)return t.dataKey}),s6=le([id,Tj,r6,Cj],X5),BQ=le([Gs,Ks,Nt,Hn,Qs,Cj,s6,Oh],W5),$Q=le([_0,BQ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),FQ=le([_0],t=>t.active),qQ=le([s6,ic,no,Ch,a6,Oh,Tj],Q5);le([qQ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YQ=()=>Ve(Yn),WQ=()=>{var t=YQ(),e=Ve(Qs),n=Ve(n6);return Rg(!t||!n?void 0:MO(MO({},t),{},{scale:n}),e)};function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return(e=QQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=JQ(t,"string");return typeof e=="symbol"?e:e+""}function JQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZQ=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},eJ=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:c}=r;return du(du(du({},r),Mn(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var d=a.coordinate,{angle:f}=r;return du(du(du({},r),Mn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function tJ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var l6=(t,e,n,r,a)=>{var s,c=-1,d=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var f=0;f<d;f++){var h=f>0?n[f-1].coordinate:n[d-1].coordinate,p=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(nr(p-h)!==nr(g-p)){var N=[];if(nr(g-p)===nr(a[1]-a[0])){x=g;var E=p+a[1]-a[0];N[0]=Math.min(E,(E+h)/2),N[1]=Math.max(E,(E+h)/2)}else{x=h;var _=g+a[1]-a[0];N[0]=Math.min(p,(_+p)/2),N[1]=Math.max(p,(_+p)/2)}var j=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>j[0]&&t<=j[1]||t>=N[0]&&t<=N[1]){({index:c}=n[f]);break}}else{var C=Math.min(h,g),M=Math.max(h,g);if(t>(C+p)/2&&t<=(M+p)/2){({index:c}=n[f]);break}}}else if(e){for(var k=0;k<d;k++)if(k===0&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k>0&&k<d-1&&t>(e[k].coordinate+e[k-1].coordinate)/2&&t<=(e[k].coordinate+e[k+1].coordinate)/2||k===d-1&&t>(e[k].coordinate+e[k-1].coordinate)/2){({index:c}=e[k]);break}}return c},nJ=()=>Ve(X_),Ij=(t,e)=>e,o6=(t,e,n)=>n,Oj=(t,e,n,r)=>r,rJ=le(Qs,t=>zy(t,e=>e.coordinate)),Rj=le([id,Ij,o6,Oj],Y5),Dj=le([Rj,sd,Ch,Dh],Ej),aJ=(t,e,n)=>{if(e!=null){var r=id(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},c6=le([id,Ij,o6,Oj],X5),ey=le([Gs,Ks,Nt,Hn,Qs,Oj,c6,Oh],W5),iJ=le([Rj,ey],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),u6=le([Qs,Dj],F5),sJ=le([c6,Dj,no,Ch,u6,Oh,Ij],Q5),lJ=le([Rj,Dj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),oJ=(t,e,n,r,a,s,c)=>{if(!(!t||!n||!r||!a)&&tJ(t,c)){var d=Kq(t,e),f=l6(d,s,a,n,r),h=ZQ(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},cJ=(t,e,n,r,a,s,c)=>{if(!(!t||!r||!a||!s||!n)){var d=YG(t,n);if(d){var f=Yq(d,e),h=l6(f,c,s,r,a),p=eJ(e,s,h,d);return{activeIndex:String(h),activeCoordinate:p}}}},uJ=(t,e,n,r,a,s,c,d)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?oJ(t,e,r,a,s,c,d):cJ(t,e,n,r,a,s,c)},dJ=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),fJ=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(mr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:XW}});function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){hJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gJ={},yJ={zIndexMap:Object.values(mr).reduce((t,e)=>VO(VO({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),gJ)},vJ=new Set(Object.values(mr));function xJ(t){return vJ.has(t)}var d6=Yr({name:"zIndex",initialState:yJ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:tn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!xJ(n)&&delete t.zIndexMap[n])},prepare:tn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:tn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:tn()}}}),{registerZIndexPortal:bJ,unregisterZIndexPortal:wJ,registerZIndexPortalId:NJ,unregisterZIndexPortalId:_J}=d6.actions,jJ=d6.reducer;function fi(t){var{zIndex:e,children:n}=t,r=jH(),a=r&&e!==void 0&&e!==0,s=Wr(),c=sn();w.useLayoutEffect(()=>a?(c(bJ({zIndex:e})),()=>{c(wJ({zIndex:e}))}):ph,[c,e,a]);var d=Ve(h=>dJ(h,e,s));if(!a)return n;if(!d)return null;var f=document.getElementById(d);return f?t4.createPortal(n,f):null}function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rN.apply(null,arguments)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){EJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EJ(t,e,n){return(e=SJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=AJ(t,"string");return typeof e=="symbol"?e:e+""}function AJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function CJ(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:c,layout:d,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,N=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,_,j;if(p==="ScatterChart")E=g,_=uG,j=mr.cursorLine;else if(p==="BarChart")E=dG(d,g,s,c),_=sM,j=mr.cursorRectangle;else if(d==="radial"&&$4(g)){var{cx:C,cy:M,radius:k,startAngle:T,endAngle:R}=oM(g);E={cx:C,cy:M,startAngle:T,endAngle:R,innerRadius:k,outerRadius:k},_=uM,j=mr.cursorLine}else E={points:JG(d,g,s)},_=N_,j=mr.cursorLine;var L=typeof f=="object"&&"className"in f?f.className:void 0,D=Lp(Lp(Lp(Lp({stroke:"#ccc",pointerEvents:"none"},s),E),zf(f)),{},{payload:x,payloadIndex:N,className:Vt("recharts-tooltip-cursor",L)});return w.createElement(fi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:j},w.createElement(TJ,{cursor:f,cursorComp:_,cursorProps:D}))}function IJ(t){var e=WQ(),n=$k(),r=t0(),a=nJ();return e==null||n==null||r==null||a==null?null:w.createElement(CJ,rN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var f6=w.createContext(null),OJ=()=>w.useContext(f6),Aw={exports:{}},BO;function RJ(){return BO||(BO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var N=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],N]:f._events[E].push(N):(f._events[E]=N,f._eventsCount++),f}function c(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,N=g.length,E=new Array(N);x<N;x++)E[x]=g[x].fn;return E},d.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(h,p,g,x,N,E){var _=n?n+h:h;if(!this._events[_])return!1;var j=this._events[_],C=arguments.length,M,k;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),C){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,g),!0;case 4:return j.fn.call(j.context,p,g,x),!0;case 5:return j.fn.call(j.context,p,g,x,N),!0;case 6:return j.fn.call(j.context,p,g,x,N,E),!0}for(k=1,M=new Array(C-1);k<C;k++)M[k-1]=arguments[k];j.fn.apply(j.context,M)}else{var T=j.length,R;for(k=0;k<T;k++)switch(j[k].once&&this.removeListener(h,j[k].fn,void 0,!0),C){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,p);break;case 3:j[k].fn.call(j[k].context,p,g);break;case 4:j[k].fn.call(j[k].context,p,g,x);break;default:if(!M)for(R=1,M=new Array(C-1);R<C;R++)M[R-1]=arguments[R];j[k].fn.apply(j[k].context,M)}}return!0},d.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},d.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},d.prototype.removeListener=function(h,p,g,x){var N=n?n+h:h;if(!this._events[N])return this;if(!p)return c(this,N),this;var E=this._events[N];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&c(this,N);else{for(var _=0,j=[],C=E.length;_<C;_++)(E[_].fn!==p||x&&!E[_].once||g&&E[_].context!==g)&&j.push(E[_]);j.length?this._events[N]=j.length===1?j[0]:j:c(this,N)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(Aw)),Aw.exports}var DJ=RJ();const PJ=Ji(DJ);var eh=new PJ,aN="recharts.syncEvent.tooltip",$O="recharts.syncEvent.brush";function h6(t,e){if(e){var n=Number.parseInt(e,10);if(!li(n))return t==null?void 0:t[n]}}var kJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},m6=Yr({name:"options",initialState:kJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),MJ=m6.reducer,{createEventEmitter:LJ}=m6.actions;function UJ(t){return t.tooltip.syncInteraction}var VJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},p6=Yr({name:"chartData",initialState:VJ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:FO,setDataStartEndIndexes:zJ,setComputedData:Age}=p6.actions,BJ=p6.reducer,$J=["x","y"];function qO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=qJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=HJ(t,"string");return typeof e=="symbol"?e:e+""}function HJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GJ(t,e){if(t==null)return{};var n,r,a=KJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function KJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YJ(){var t=Ve(Q_),e=Ve(J_),n=sn(),r=Ve(c5),a=Ve(Qs),s=t0(),c=e0(),d=Ve(f=>f.rootProps.className);w.useEffect(()=>{if(t==null)return ph;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(c&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var N=p.payload.coordinate,{x:E,y:_}=N,j=GJ(N,$J),{x:C,y:M,width:k,height:T}=p.payload.sourceViewBox,R=fu(fu({},j),{},{x:c.x+(k?(E-C)/k:0)*c.width,y:c.y+(T?(_-M)/T:0)*c.height});n(fu(fu({},p),{},{payload:fu(fu({},p.payload),{},{coordinate:R})}))}else n(p);return}if(a!=null){var L;if(typeof r=="function"){var D={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},U=r(a,D);L=a[U]}else r==="value"&&(L=a.find(G=>String(G.value)===p.payload.label));var{coordinate:$}=p.payload;if(L==null||p.payload.active===!1||$==null||c==null){n(tN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:A,y:O}=$,B=Math.min(A,c.x+c.width),z=Math.min(O,c.y+c.height),me={x:s==="horizontal"?L.coordinate:B,y:s==="horizontal"?z:L.coordinate},ie=tN({active:p.payload.active,coordinate:me,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(ie)}}};return eh.on(aN,f),()=>{eh.off(aN,f)}},[d,n,e,t,r,a,s,c])}function WJ(){var t=Ve(Q_),e=Ve(J_),n=sn();w.useEffect(()=>{if(t==null)return ph;var r=(a,s,c)=>{e!==c&&t===a&&n(zJ(s))};return eh.on($O,r),()=>{eh.off($O,r)}},[n,e,t])}function XJ(){var t=sn();w.useEffect(()=>{t(LJ())},[t]),YJ(),WJ()}function QJ(t,e,n,r,a,s){var c=Ve(N=>aJ(N,t,e)),d=Ve(J_),f=Ve(Q_),h=Ve(c5),p=Ve(UJ),g=p==null?void 0:p.active,x=e0();w.useEffect(()=>{if(!g&&f!=null&&d!=null){var N=tN({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x});eh.emit(aN,f,N,d)}},[g,n,c,a,r,d,f,h,s,x])}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function GO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){JJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=eZ(t,"string");return typeof e=="symbol"?e:e+""}function eZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tZ(t){return t.dataKey}function nZ(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement($H,e)}var KO=[],rZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!pc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function g6(t){var e,n,r=Er(t,rZ),{active:a,allowEscapeViewBox:s,animationDuration:c,animationEasing:d,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:N,reverseDirection:E,useTranslate3d:_,wrapperStyle:j,cursor:C,shared:M,trigger:k,defaultIndex:T,portal:R,axisId:L}=r,D=sn(),U=typeof T=="number"?String(T):T;w.useEffect(()=>{D(eQ({shared:M,trigger:k,axisId:L,active:a,defaultIndex:U}))},[D,M,k,L,a,U]);var $=e0(),A=tM(),O=YX(M),{activeIndex:B,isActive:z}=(e=Ve(Te=>lJ(Te,O,k,U)))!==null&&e!==void 0?e:{},me=Ve(Te=>sJ(Te,O,k,U)),ie=Ve(Te=>u6(Te,O,k,U)),G=Ve(Te=>iJ(Te,O,k,U)),re=me,W=OJ(),ve=(n=a??z)!==null&&n!==void 0?n:!1,[Q,V]=OF([re,ve]),Y=O==="axis"?ie:void 0;QJ(O,k,G,Y,B,ve);var H=R??W;if(H==null||$==null||O==null)return null;var J=re??KO;ve||(J=KO),h&&J.length&&(J=rF(J.filter(Te=>Te.value!=null&&(Te.hide!==!0||r.includeHidden)),x,tZ));var fe=J.length>0,Ee=w.createElement(WH,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:p,active:ve,coordinate:G,hasPayload:fe,offset:g,position:N,reverseDirection:E,useTranslate3d:_,viewBox:$,wrapperStyle:j,lastBoundingBox:Q,innerRef:V,hasPortalFromProps:!!R},nZ(f,GO(GO({},r),{},{payload:J,label:Y,active:ve,activeIndex:B,coordinate:G,accessibilityLayer:A})));return w.createElement(w.Fragment,null,t4.createPortal(Ee,H),ve&&w.createElement(IJ,{cursor:C,tooltipEventType:O,coordinate:G,payload:J,index:B}))}var Ph=t=>null;Ph.displayName="Cell";function aZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lZ{constructor(e){aZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){cZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cZ(t,e,n){return(e=uZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uZ(t){var e=dZ(t,"string");return typeof e=="symbol"?e:e+""}function dZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fZ={cacheSize:2e3,enableCache:!0},y6=oZ({},fZ),WO=new lZ(y6.cacheSize),hZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XO="recharts_measurement_span";function mZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(d)}var QO=(t,e)=>{try{var n=document.getElementById(XO);n||(n=document.createElement("span"),n.setAttribute("id",XO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,hZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Rf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pc.isSsr)return{width:0,height:0};if(!y6.enableCache)return QO(e,n);var r=mZ(e,n),a=WO.get(r);if(a)return a;var s=QO(e,n);return WO.set(r,s),s},JO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yZ=Object.keys(v6),Nu="NaN";function vZ(t,e){return t*v6[e]}class Br{static parse(e){var n,[,r,a]=(n=gZ.exec(e))!==null&&n!==void 0?n:[];return new Br(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,li(e)&&(this.unit=""),n!==""&&!pZ.test(n)&&(this.num=NaN,this.unit=""),yZ.includes(n)&&(this.num=vZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Br(NaN,""):new Br(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Br(NaN,""):new Br(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Br(NaN,""):new Br(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Br(NaN,""):new Br(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return li(this.num)}}function x6(t){if(t.includes(Nu))return Nu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=JO.exec(e))!==null&&n!==void 0?n:[],c=Br.parse(r??""),d=Br.parse(s??""),f=a==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return Nu;e=e.replace(JO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=ZO.exec(e))!==null&&h!==void 0?h:[],N=Br.parse(p??""),E=Br.parse(x??""),_=g==="+"?N.add(E):N.subtract(E);if(_.isNaN())return Nu;e=e.replace(ZO,_.toString())}return e}var eR=/\(([^()]*)\)/;function xZ(t){for(var e=t,n;(n=eR.exec(e))!=null;){var[,r]=n;e=e.replace(eR,x6(r))}return e}function bZ(t){var e=t.replace(/\s+/g,"");return e=xZ(e),e=x6(e),e}function wZ(t){try{return bZ(t)}catch{return Nu}}function Tw(t){var e=wZ(t.slice(5,-1));return e===Nu?"":e}var NZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_Z=["dx","dy","angle","className","breakAll"];function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iN.apply(null,arguments)}function tR(t,e){if(t==null)return{};var n,r,a=jZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function jZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b6=/[ \f\n\r\t\v\u2028\u2029]+/,w6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];rr(e)||(n?a=e.toString().split(""):a=e.toString().split(b6));var s=a.map(d=>({word:d,width:Rf(d,r).width})),c=n?0:Rf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function EZ(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var N6=(t,e,n,r)=>t.reduce((a,s)=>{var{word:c,width:d}=s,f=a[a.length-1];if(f&&d!=null&&(e==null||r||f.width+d+n<Number(e)))f.words.push(c),f.width+=d+n;else{var h={words:[c],width:d};a.push(h)}return a},[]),_6=t=>t.reduce((e,n)=>e.width>n.width?e:n),SZ="",nR=(t,e,n,r,a,s,c,d)=>{var f=t.slice(0,e),h=w6({breakAll:n,style:r,children:f+SZ});if(!h)return[!1,[]];var p=N6(h.wordsWithComputedWidth,s,c,d),g=p.length>a||_6(p).width>Number(s);return[g,p]},AZ=(t,e,n,r,a)=>{var{maxLines:s,children:c,style:d,breakAll:f}=t,h=Ue(s),p=String(c),g=N6(e,r,n,a);if(!h||a)return g;var x=g.length>s||_6(g).width>Number(r);if(!x)return g;for(var N=0,E=p.length-1,_=0,j;N<=E&&_<=p.length-1;){var C=Math.floor((N+E)/2),M=C-1,[k,T]=nR(p,M,f,d,s,r,n,a),[R]=nR(p,C,f,d,s,r,n,a);if(!k&&!R&&(N=C+1),k&&R&&(E=C-1),!k&&R){j=T;break}_++}return j||g},rR=t=>{var e=rr(t)?[]:t.toString().split(b6);return[{words:e,width:void 0}]},TZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=t;if((e||n)&&!pc.isSsr){var d,f,h=w6({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;d=p,f=g}else return rR(r);return AZ({breakAll:s,children:r,maxLines:c,style:a},d,f,e,!!n)}return rR(r)},j6="#808080",CZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:j6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},j0=w.forwardRef((t,e)=>{var n=Er(t,CZ),{x:r,y:a,lineHeight:s,capHeight:c,fill:d,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=tR(n,NZ),x=w.useMemo(()=>TZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:N,dy:E,angle:_,className:j,breakAll:C}=g,M=tR(g,_Z);if(!Gi(r)||!Gi(a)||x.length===0)return null;var k=Number(r)+(Ue(N)?N:0),T=Number(a)+(Ue(E)?E:0);if(!Nn(k)||!Nn(T))return null;var R;switch(p){case"start":R=Tw("calc(".concat(c,")"));break;case"middle":R=Tw("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:R=Tw("calc(".concat(x.length-1," * -").concat(s,")"));break}var L=[];if(f){var D=x[0].width,{width:U}=g;L.push("scale(".concat(Ue(U)&&Ue(D)?U/D:1,")"))}return _&&L.push("rotate(".concat(_,", ").concat(k,", ").concat(T,")")),L.length&&(M.transform=L.join(" ")),w.createElement("text",iN({},Da(M),{ref:e,x:k,y:T,className:Vt("recharts-text",j),textAnchor:h,fill:d.includes("url")?j6:d}),x.map(($,A)=>{var O=$.words.join(C?"":" ");return w.createElement("tspan",{x:k,dy:A===0?R:s,key:"".concat(O,"-").concat(A)},O)}))});j0.displayName="Text";var IZ=["labelRef"];function OZ(t,e){if(t==null)return{};var n,r,a=RZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function RZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){DZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZ(t,e,n){return(e=PZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PZ(t){var e=kZ(t,"string");return typeof e=="symbol"?e:e+""}function kZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _s(){return _s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_s.apply(null,arguments)}var E6=w.createContext(null),MZ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c,children:d}=t,f=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:c}),[e,n,r,a,s,c]);return w.createElement(E6.Provider,{value:f},d)},S6=()=>{var t=w.useContext(E6),e=e0();return t||Bk(e)},LZ=w.createContext(null),UZ=()=>{var t=w.useContext(LZ),e=Ve(m5);return t||e},VZ=t=>{var{value:e,formatter:n}=t,r=rr(t.children)?e:t.children;return typeof n=="function"?n(r):r},Pj=t=>t!=null&&typeof t=="function",zZ=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},BZ=(t,e,n,r,a)=>{var{offset:s,className:c}=t,{cx:d,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:N}=a,E=(h+p)/2,_=zZ(g,x),j=_>=0?1:-1,C,M;switch(e){case"insideStart":C=g+j*s,M=N;break;case"insideEnd":C=x-j*s,M=!N;break;case"end":C=x+j*s,M=N;break;default:throw new Error("Unsupported position ".concat(e))}M=_<=0?M:!M;var k=Mn(d,f,E,C),T=Mn(d,f,E,C+(M?1:-1)*359),R="M".concat(k.x,",").concat(k.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(M?0:1,`,
    `).concat(T.x,",").concat(T.y),L=rr(t.id)?Bf("recharts-radial-line-"):t.id;return w.createElement("text",_s({},r,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",c)}),w.createElement("defs",null,w.createElement("path",{id:L,d:R})),w.createElement("textPath",{xlinkHref:"#".concat(L)},n))},$Z=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=Mn(r,a,c+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:N,y:E}=Mn(r,a,x,h);return{x:N,y:E,textAnchor:"middle",verticalAnchor:"middle"}},sN=t=>"cx"in t&&Ue(t.cx),FZ=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!sN(n)&&(s=n);var{x:c,y:d,upperWidth:f,lowerWidth:h,height:p}=e,g=c,x=c+(f-h)/2,N=(g+x)/2,E=(f+h)/2,_=g+f/2,j=p>=0?1:-1,C=j*r,M=j>0?"end":"start",k=j>0?"start":"end",T=f>=0?1:-1,R=T*r,L=T>0?"end":"start",D=T>0?"start":"end";if(a==="top"){var U={x:g+f/2,y:d-C,textAnchor:"middle",verticalAnchor:M};return xn(xn({},U),s?{height:Math.max(d-s.y,0),width:f}:{})}if(a==="bottom"){var $={x:x+h/2,y:d+p+C,textAnchor:"middle",verticalAnchor:k};return xn(xn({},$),s?{height:Math.max(s.y+s.height-(d+p),0),width:h}:{})}if(a==="left"){var A={x:N-R,y:d+p/2,textAnchor:L,verticalAnchor:"middle"};return xn(xn({},A),s?{width:Math.max(A.x-s.x,0),height:p}:{})}if(a==="right"){var O={x:N+E+R,y:d+p/2,textAnchor:D,verticalAnchor:"middle"};return xn(xn({},O),s?{width:Math.max(s.x+s.width-O.x,0),height:p}:{})}var B=s?{width:E,height:p}:{};return a==="insideLeft"?xn({x:N+R,y:d+p/2,textAnchor:D,verticalAnchor:"middle"},B):a==="insideRight"?xn({x:N+E-R,y:d+p/2,textAnchor:L,verticalAnchor:"middle"},B):a==="insideTop"?xn({x:g+f/2,y:d+C,textAnchor:"middle",verticalAnchor:k},B):a==="insideBottom"?xn({x:x+h/2,y:d+p-C,textAnchor:"middle",verticalAnchor:M},B):a==="insideTopLeft"?xn({x:g+R,y:d+C,textAnchor:D,verticalAnchor:k},B):a==="insideTopRight"?xn({x:g+f-R,y:d+C,textAnchor:L,verticalAnchor:k},B):a==="insideBottomLeft"?xn({x:x+R,y:d+p-C,textAnchor:D,verticalAnchor:M},B):a==="insideBottomRight"?xn({x:x+h-R,y:d+p-C,textAnchor:L,verticalAnchor:M},B):a&&typeof a=="object"&&(Ue(a.x)||Ps(a.x))&&(Ue(a.y)||Ps(a.y))?xn({x:c+_r(a.x,E),y:d+_r(a.y,p),textAnchor:"end",verticalAnchor:"end"},B):xn({x:_,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},B)},qZ={angle:0,offset:5,zIndex:mr.label,position:"middle",textBreakAll:!1};function Ol(t){var e=Er(t,qZ),{viewBox:n,position:r,value:a,children:s,content:c,className:d="",textBreakAll:f,labelRef:h}=e,p=UZ(),g=S6(),x=r==="center"?g:p??g,N,E,_;if(n==null?N=x:sN(n)?N=n:N=Bk(n),!N||rr(a)&&rr(s)&&!w.isValidElement(c)&&typeof c!="function")return null;var j=xn(xn({},e),{},{viewBox:N});if(w.isValidElement(c)){var{labelRef:C}=j,M=OZ(j,IZ);return w.cloneElement(c,M)}if(typeof c=="function"){if(E=w.createElement(c,j),w.isValidElement(E))return E}else E=VZ(e);var k=Da(e);if(sN(N)){if(r==="insideStart"||r==="insideEnd"||r==="end")return BZ(e,r,E,k,N);_=$Z(N,e.offset,e.position)}else _=FZ(e,N);return w.createElement(fi,{zIndex:e.zIndex},w.createElement(j0,_s({ref:h,className:Vt("recharts-label",d)},k,_,{textAnchor:EZ(k.textAnchor)?k.textAnchor:_.textAnchor,breakAll:f}),E))}Ol.displayName="Label";var HZ=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Ol,_s({key:"label-implicit"},r)):Gi(t)?w.createElement(Ol,_s({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Ol?w.cloneElement(t,xn({key:"label-implicit"},r)):w.createElement(Ol,_s({key:"label-implicit",content:t},r)):Pj(t)?w.createElement(Ol,_s({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Ol,_s({},t,{key:"label-implicit"},r)):null};function GZ(t){var{label:e,labelRef:n}=t,r=S6();return HZ(e,r,n)||null}var Cw={},Iw={},iR;function KZ(){return iR||(iR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Iw)),Iw}var Ow={},sR;function YZ(){return sR||(sR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Ow)),Ow}var lR;function WZ(){return lR||(lR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KZ(),n=YZ(),r=o_();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(Cw)),Cw}var Rw,oR;function XZ(){return oR||(oR=1,Rw=WZ().last),Rw}var QZ=XZ();const JZ=Ji(QZ);var ZZ=["valueAccessor"],eee=["dataKey","clockWise","id","textBreakAll","zIndex"];function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ty.apply(null,arguments)}function cR(t,e){if(t==null)return{};var n,r,a=tee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nee=t=>Array.isArray(t.value)?JZ(t.value):t.value,A6=w.createContext(void 0),ree=A6.Provider,T6=w.createContext(void 0),aee=T6.Provider;function iee(){return w.useContext(A6)}function see(){return w.useContext(T6)}function ag(t){var{valueAccessor:e=nee}=t,n=cR(t,ZZ),{dataKey:r,clockWise:a,id:s,textBreakAll:c,zIndex:d}=n,f=cR(n,eee),h=iee(),p=see(),g=h||p;return!g||!g.length?null:w.createElement(fi,{zIndex:d??mr.label},w.createElement(Rr,{className:"recharts-label-list"},g.map((x,N)=>{var E,_=rr(r)?e(x,N):nn(x&&x.payload,r),j=rr(s)?{}:{id:"".concat(s,"-").concat(N)};return w.createElement(Ol,ty({key:"label-".concat(N)},Da(x),f,j,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:_,textBreakAll:c,viewBox:x.viewBox,index:N,zIndex:0}))})))}ag.displayName="LabelList";function C6(t){var{label:e}=t;return e?e===!0?w.createElement(ag,{key:"labelList-implicit"}):w.isValidElement(e)||Pj(e)?w.createElement(ag,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(ag,ty({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var I6=t=>t.graphicalItems.polarItems,lee=le([ln,Sh],aj),E0=le([I6,dn,lee],sj),oee=le([E0],lj),S0=le([oee,G_],oj),cee=le([S0,dn,E0],uj);le([S0,dn,E0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,c=nn(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:nn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var uR=()=>{},uee=le([S0,dn,E0,b0,ln],mj),dee=le([dn,fj,hj,uR,uee,uR,Nt,ln],pj),O6=le([dn,Nt,S0,cee,Eh,ln,dee],gj),fee=le([O6,dn,rd],xj);le([dn,O6,fee,ln],wj);var hee={radiusAxis:{},angleAxis:{}},R6=Yr({name:"polarAxis",initialState:hee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Tge,removeRadiusAxis:Cge,addAngleAxis:Ige,removeAngleAxis:Oge}=R6.actions,mee=R6.reducer;function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){pee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pee(t,e,n){return(e=gee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vee=(t,e)=>e,kj=le([I6,vee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),xee=[],Mj=(t,e,n)=>(n==null?void 0:n.length)===0?xee:n,D6=le([G_,kj,Mj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>fR(fR({},e.presentationProps),s.props))),a!=null)return a}}),bee=le([D6,kj,Mj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,c=nn(r,e.nameKey,e.name),d;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Wy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),wee=le([D6,kj,Mj,Hn],(t,e,n,r)=>{if(!(e==null||t==null))return jte({offset:r,pieSettings:e,displayedData:t,cells:n})}),Dw={exports:{}},Lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function Nee(){if(hR)return Lt;hR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function E(_){if(typeof _=="object"&&_!==null){var j=_.$$typeof;switch(j){case t:switch(_=_.type,_){case n:case a:case r:case f:case h:case x:return _;default:switch(_=_&&_.$$typeof,_){case c:case d:case g:case p:return _;case s:return _;default:return j}}case e:return j}}}return Lt.ContextConsumer=s,Lt.ContextProvider=c,Lt.Element=t,Lt.ForwardRef=d,Lt.Fragment=n,Lt.Lazy=g,Lt.Memo=p,Lt.Portal=e,Lt.Profiler=a,Lt.StrictMode=r,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(_){return E(_)===s},Lt.isContextProvider=function(_){return E(_)===c},Lt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},Lt.isForwardRef=function(_){return E(_)===d},Lt.isFragment=function(_){return E(_)===n},Lt.isLazy=function(_){return E(_)===g},Lt.isMemo=function(_){return E(_)===p},Lt.isPortal=function(_){return E(_)===e},Lt.isProfiler=function(_){return E(_)===a},Lt.isStrictMode=function(_){return E(_)===r},Lt.isSuspense=function(_){return E(_)===f},Lt.isSuspenseList=function(_){return E(_)===h},Lt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===a||_===r||_===f||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===c||_.$$typeof===s||_.$$typeof===d||_.$$typeof===N||_.getModuleId!==void 0)},Lt.typeOf=E,Lt}var mR;function _ee(){return mR||(mR=1,Dw.exports=Nee()),Dw.exports}var jee=_ee(),pR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",gR=null,Pw=null,P6=t=>{if(t===gR&&Array.isArray(Pw))return Pw;var e=[];return w.Children.forEach(t,n=>{rr(n)||(jee.isFragment(n)?e=e.concat(P6(n.props.children)):e.push(n))}),Pw=e,gR=t,e};function Lj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>pR(a)):r=[pR(e)],P6(t).forEach(a=>{var s=tc(a,"type.displayName")||tc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var kw={},yR;function Eee(){return yR||(yR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(kw)),kw}var Mw,vR;function See(){return vR||(vR=1,Mw=Eee().isPlainObject),Mw}var Aee=See();const Tee=Ji(Aee);function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cee(t,e,n){return(e=Iee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=Oee(t,"string");return typeof e=="symbol"?e:e+""}function Oee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}var wR=(t,e,n,r,a)=>{var s=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-s/2,",").concat(e+a),c+="L ".concat(t+n-s/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},Ree={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dee=t=>{var e=Er(t,Ree),{x:n,y:r,upperWidth:a,lowerWidth:s,height:c,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=w.useRef(null),[N,E]=w.useState(-1),_=w.useRef(a),j=w.useRef(s),C=w.useRef(c),M=w.useRef(n),k=w.useRef(r),T=l0(t,"trapezoid-");if(w.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var me=x.current.getTotalLength();me&&E(me)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||c!==+c||a===0&&s===0||c===0)return null;var R=Vt("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",ny({},Da(e),{className:R,d:wR(n,r,a,s,c)})));var L=_.current,D=j.current,U=C.current,$=M.current,A=k.current,O="0px ".concat(N===-1?1:N,"px"),B="".concat(N,"px 0px"),z=nM(["strokeDasharray"],h,f);return w.createElement(s0,{animationId:T,key:T,canBegin:N>0,duration:h,easing:f,isActive:g,begin:p},me=>{var ie=Bn(L,a,me),G=Bn(D,s,me),re=Bn(U,c,me),W=Bn($,n,me),ve=Bn(A,r,me);x.current&&(_.current=ie,j.current=G,C.current=re,M.current=W,k.current=ve);var Q=me>0?{transition:z,strokeDasharray:B}:{strokeDasharray:O};return w.createElement("path",ny({},Da(e),{className:R,d:wR(W,ve,ie,G,re),ref:x,style:bR(bR({},Q),e.style)}))})},Pee=["option","shapeType","propTransformer","activeClassName"];function kee(t,e){if(t==null)return{};var n,r,a=Mee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Mee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ry(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Lee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lee(t,e,n){return(e=Uee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=Vee(t,"string");return typeof e=="symbol"?e:e+""}function Vee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zee(t,e){return ry(ry({},e),t)}function Bee(t,e){return t==="symbols"}function _R(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(sM,n);case"trapezoid":return w.createElement(Dee,n);case"sector":return w.createElement(uM,n);case"symbols":if(Bee(e))return w.createElement(B4,n);break;case"curve":return w.createElement(N_,n);default:return null}}function $ee(t){return w.isValidElement(t)?t.props:t}function k6(t){var{option:e,shapeType:n,propTransformer:r=zee,activeClassName:a="recharts-active-shape"}=t,s=kee(t,Pee),c;if(w.isValidElement(e))c=w.cloneElement(e,ry(ry({},s),$ee(e)));else if(typeof e=="function")c=e(s);else if(Tee(e)&&typeof e!="boolean"){var d=r(e,s);c=w.createElement(_R,{shapeType:n,elementProps:d})}else{var f=s;c=w.createElement(_R,{shapeType:n,elementProps:f})}return s.isActive?w.createElement(Rr,{className:a},c):c}var Uj=(t,e)=>{var n=sn();return(r,a)=>s=>{t==null||t(r,a,s),n(H5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},Vj=t=>{var e=sn();return(n,r)=>a=>{t==null||t(n,r,a),e(tQ())}},zj=(t,e)=>{var n=sn();return(r,a)=>s=>{t==null||t(r,a,s),n(nQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function M6(t){var{tooltipEntrySettings:e}=t,n=sn(),r=Wr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(QX(e)):a.current!==e&&n(JX({prev:a.current,next:e})),a.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{a.current&&(n(ZX(a.current)),a.current=null)},[n]),null}function Fee(t){var{legendPayload:e}=t,n=sn(),r=Wr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(Jk(e)):a.current!==e&&n(Zk({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(eM(a.current)),a.current=null)},[n]),null}function qee(t){var{legendPayload:e}=t,n=sn(),r=Ve(Nt),a=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(Jk(e)):a.current!==e&&n(Zk({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(eM(a.current)),a.current=null)},[n]),null}var Lw,Hee=()=>{var[t]=w.useState(()=>Bf("uid-"));return t},Gee=(Lw=Z8.useId)!==null&&Lw!==void 0?Lw:Hee;function L6(t,e){var n=Gee();return e||(t?"".concat(t,"-").concat(n):n)}var Kee=w.createContext(void 0),U6=t=>{var{id:e,type:n,children:r}=t,a=L6("recharts-".concat(n),e);return w.createElement(Kee.Provider,{value:a},r(a))},Yee={cartesianItems:[],polarItems:[]},V6=Yr({name:"graphicalItems",initialState:Yee,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:tn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=ii(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:tn()},removeCartesianGraphicalItem:{reducer(t,e){var n=ii(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:tn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:tn()},removePolarGraphicalItem:{reducer(t,e){var n=ii(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:tn()}}}),{addCartesianGraphicalItem:Wee,replaceCartesianGraphicalItem:Xee,removeCartesianGraphicalItem:Qee,addPolarGraphicalItem:Jee,removePolarGraphicalItem:Zee}=V6.actions,ete=V6.reducer,tte=t=>{var e=sn(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Wee(t)):n.current!==t&&e(Xee({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(Qee(n.current)),n.current=null)},[e]),null},nte=w.memo(tte);function rte(t){var e=sn();return w.useLayoutEffect(()=>(e(Jee(t)),()=>{e(Zee(t))}),[e,t]),null}var ate=["key"],ite=["onMouseEnter","onClick","onMouseLeave"],ste=["id"],lte=["id"];function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){ote(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ote(t,e,n){return(e=cte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cte(t){var e=ute(t,"string");return typeof e=="symbol"?e:e+""}function ute(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(null,arguments)}function A0(t,e){if(t==null)return{};var n,r,a=dte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fte(t){var e=w.useMemo(()=>Lj(t.children,Ph),[t.children]),n=Ve(r=>bee(r,t.id,e));return n==null?null:w.createElement(qee,{legendPayload:n})}var hte=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:c,name:d,hide:f,tooltipType:h}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:c,dataKey:e,nameKey:n,name:Wy(d,e),hide:f,type:h,color:c,unit:""}};return w.createElement(M6,{tooltipEntrySettings:p})}),mte=(t,e)=>t>e?"start":t<e?"end":"middle",pte=(t,e,n)=>_r(typeof e=="function"?e(t):e,n,n*.8),gte=(t,e,n)=>{var{top:r,left:a,width:s,height:c}=e,d=lM(s,c),f=a+_r(t.cx,s,s/2),h=r+_r(t.cy,c,c/2),p=_r(t.innerRadius,d,0),g=pte(n,t.outerRadius,d),x=t.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},yte=(t,e)=>{var n=nr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function vte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var xte=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Vt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=A0(e,ate);return w.createElement(N_,Hl({},a,{type:"linear",className:n}))},bte=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var a=Vt("recharts-pie-label-text",vte(t));return w.createElement(j0,Hl({},e,{alignmentBaseline:"middle",className:a}),r)};function wte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:c}=n;if(!r||!a||!e)return null;var d=si(n),f=zf(a),h=zf(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,N)=>{var E=(x.startAngle+x.endAngle)/2,_=Mn(x.cx,x.cy,x.outerRadius+p,E),j=mn(mn(mn(mn({},d),x),{},{stroke:"none"},f),{},{index:N,textAnchor:mte(_.x,x.cx)},_),C=mn(mn(mn(mn({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:N,points:[Mn(x.cx,x.cy,x.outerRadius,E),_],key:"line"});return w.createElement(fi,{zIndex:mr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(N)},w.createElement(Rr,null,s&&xte(s,C),bte(a,j,nn(x,c))))});return w.createElement(Rr,{className:"recharts-pie-labels"},g)}function Nte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(C6,{label:a}):w.createElement(wte,{sectors:e,props:n,showLabels:r})}function _te(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s}=t,c=Ve(ic),{onMouseEnter:d,onClick:f,onMouseLeave:h}=a,p=A0(a,ite),g=Uj(d,a.dataKey),x=Vj(h),N=zj(f,a.dataKey);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((E,_)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var j=String(_)===c,C=c?r:null,M=n&&j?n:C,k=mn(mn({},E),{},{stroke:E.stroke,tabIndex:-1,[kk]:_,[Mk]:a.dataKey});return w.createElement(Rr,Hl({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},Vy(p,E,_),{onMouseEnter:g(E,_),onMouseLeave:x(E,_),onClick:N(E,_)}),w.createElement(k6,Hl({option:s??M,shapeType:"sector",isActive:j},k)))}))}function jte(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),N=yte(d,f),E=Math.abs(N),_=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,j=r.filter(L=>nn(L,h,0)!==0).length,C=(E>=360?j:j-1)*_,M=E-j*x-C,k=r.reduce((L,D)=>{var U=nn(D,h,0);return L+(Ue(U)?U:0)},0),T;if(k>0){var R;T=r.map((L,D)=>{var U=nn(L,h,0),$=nn(L,p,D),A=gte(n,s,L),O=(Ue(U)?U:0)/k,B,z=mn(mn({},L),a&&a[D]&&a[D].props);D?B=R.endAngle+nr(N)*_*(U!==0?1:0):B=d;var me=B+nr(N)*((U!==0?x:0)+O*M),ie=(B+me)/2,G=(A.innerRadius+A.outerRadius)/2,re=[{name:$,value:U,payload:z,dataKey:h,type:g}],W=Mn(A.cx,A.cy,G,ie);return R=mn(mn(mn(mn({},n.presentationProps),{},{percent:O,cornerRadius:typeof c=="string"?parseFloat(c):c,name:$,tooltipPayload:re,midAngle:ie,middleRadius:G,tooltipPosition:W},z),A),{},{value:U,startAngle:B,endAngle:me,payload:z,paddingAngle:nr(N)*_}),R})}return T}function Ete(t){var{showLabels:e,sectors:n,children:r}=t,a=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(aee,{value:e?a:void 0},r)}function Ste(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:s,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:g}=e,x=l0(e,"recharts-pie-"),N=n.current,[E,_]=w.useState(!1),j=w.useCallback(()=>{typeof g=="function"&&g(),_(!1)},[g]),C=w.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return w.createElement(Ete,{showLabels:!E,sectors:r},w.createElement(s0,{animationId:x,begin:s,duration:c,isActive:a,easing:d,onAnimationStart:C,onAnimationEnd:j,key:x},M=>{var k=[],T=r&&r[0],R=T==null?void 0:T.startAngle;return r==null||r.forEach((L,D)=>{var U=N&&N[D],$=D>0?tc(L,"paddingAngle",0):0;if(U){var A=Bn(U.endAngle-U.startAngle,L.endAngle-L.startAngle,M),O=mn(mn({},L),{},{startAngle:R+$,endAngle:R+A+$});k.push(O),R=O.endAngle}else{var{endAngle:B,startAngle:z}=L,me=Bn(0,B-z,M),ie=mn(mn({},L),{},{startAngle:R+$,endAngle:R+me+$});k.push(ie),R=ie.endAngle}}),n.current=k,w.createElement(Rr,null,w.createElement(_te,{sectors:k,activeShape:f,inactiveShape:h,allOtherPieProps:e,shape:e.shape}))}),w.createElement(Nte,{showLabels:!E,sectors:r,props:e}),e.children)}var Ate={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!pc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:mr.area};function Tte(t){var{id:e}=t,n=A0(t,ste),{hide:r,className:a,rootTabIndex:s}=t,c=w.useMemo(()=>Lj(t.children,Ph),[t.children]),d=Ve(p=>wee(p,e,c)),f=w.useRef(null),h=Vt("recharts-pie",a);return r||d==null?(f.current=null,w.createElement(Rr,{tabIndex:s,className:h})):w.createElement(fi,{zIndex:t.zIndex},w.createElement(hte,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),w.createElement(Rr,{tabIndex:s,className:h},w.createElement(Ste,{props:mn(mn({},n),{},{sectors:d}),previousSectorsRef:f})))}function z6(t){var e=Er(t,Ate),{id:n}=e,r=A0(e,lte),a=si(r);return w.createElement(U6,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(rte,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),w.createElement(fte,Hl({},r,{id:s})),w.createElement(Tte,Hl({},r,{id:s}))))}z6.displayName="Pie";function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return(e=Ite(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=Ote(t,"string");return typeof e=="symbol"?e:e+""}function Ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rte={xAxis:{},yAxis:{},zAxis:{}},B6=Yr({name:"cartesianAxis",initialState:Rte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:tn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:tn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:tn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:tn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:tn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:tn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:tn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:tn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:tn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var c=[...s,r].slice(-3);t.yAxis[n]=SR(SR({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Dte,replaceXAxis:Pte,removeXAxis:kte,addYAxis:Mte,replaceYAxis:Lte,removeYAxis:Ute,addZAxis:Rge,replaceZAxis:Dge,removeZAxis:Pge,updateYAxisWidth:Vte}=B6.actions,zte=B6.reducer,Bte=le([Hn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),$te=le([Bte,Gs,Ks],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),$6=()=>Ve($te),Fte="Invariant failed";function qte(t,e){throw new Error(Fte)}var Hte=["x","y"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lN.apply(null,arguments)}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wte(t,e){if(t==null)return{};var n,r,a=Xte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qte(t,e){var{x:n,y:r}=t,a=Wte(t,Hte),s="".concat(n),c=parseInt(s,10),d="".concat(r),f=parseInt(d,10),h="".concat(e.height||a.height),p=parseInt(h,10),g="".concat(e.width||a.width),x=parseInt(g,10);return jf(jf(jf(jf(jf({},e),a),c?{x:c}:{}),f?{y:f}:{}),{},{height:p,width:x,name:e.name,radius:e.radius})}function ay(t){return w.createElement(k6,lN({shapeType:"rectangle",propTransformer:Qte,activeClassName:"recharts-active-bar"},t))}var Jte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ue(e))return e;var s=Ue(r)||rr(r);return s?e(r,a):(s||qte(),n)}},Zte={},F6=Yr({name:"errorBars",initialState:Zte,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:kge,replaceErrorBar:Mge,removeErrorBar:Lge}=F6.actions,ene=F6.reducer,tne=["children"];function nne(t,e){if(t==null)return{};var n,r,a=rne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function rne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ane={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ine=w.createContext(ane);function sne(t){var{children:e}=t,n=nne(t,tne);return w.createElement(ine.Provider,{value:n},e)}function q6(t,e){var n,r,a=Ve(h=>Ws(h,t)),s=Ve(h=>Xs(h,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Jn.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Zn.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function lne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=$6(),{needClipX:s,needClipY:c,needClip:d}=q6(e,n);if(!d||!a)return null;var{x:f,y:h,width:p,height:g}=a;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?f:f-p/2,y:c?h:h-g/2,width:s?p:p*2,height:c?g:g*2}))}function one(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Nn(t.zIndex)?t.zIndex:e}var Uw={exports:{}},Vw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function cne(){if(TR)return Vw;TR=1;var t=Wu();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Vw.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var N=a(null);if(N.current===null){var E={hasValue:!1,value:null};N.current=E}else E=N.current;N=c(function(){function j(R){if(!C){if(C=!0,M=R,R=g(R),x!==void 0&&E.hasValue){var L=E.value;if(x(L,R))return k=L}return k=R}if(L=k,n(M,R))return L;var D=g(R);return x!==void 0&&x(L,D)?(M=R,L):(M=R,k=D)}var C=!1,M,k,T=p===void 0?null:p;return[function(){return j(h())},T===null?void 0:function(){return j(T())}]},[h,p,g,x]);var _=r(f,N[0],N[1]);return s(function(){E.hasValue=!0,E.value=_},[_]),d(_),_},Vw}var CR;function une(){return CR||(CR=1,Uw.exports=cne()),Uw.exports}une();function dne(t){t()}function fne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){dne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var IR={notify(){},get:()=>[]};function hne(t,e){let n,r=IR,a=0,s=!1;function c(_){p();const j=r.subscribe(_);let C=!1;return()=>{C||(C=!0,j(),g())}}function d(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=fne())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=IR)}function x(){s||(s=!0,p())}function N(){s&&(s=!1,g())}const E={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:N,getListeners:()=>r};return E}var mne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pne=mne(),gne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yne=gne(),vne=()=>pne||yne?w.useLayoutEffect:w.useEffect,xne=vne();function OR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function bne(t,e){if(OR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!OR(t[n[a]],e[n[a]]))return!1;return!0}var zw=Symbol.for("react-redux-context"),Bw=typeof globalThis<"u"?globalThis:{};function wne(){if(!w.createContext)return{};const t=Bw[zw]??(Bw[zw]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Nne=wne();function _ne(t){const{children:e,context:n,serverState:r,store:a}=t,s=w.useMemo(()=>{const f=hne(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=w.useMemo(()=>a.getState(),[a]);xne(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,c]);const d=n||Nne;return w.createElement(d.Provider,{value:s},e)}var jne=_ne,Ene=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Sne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Bj(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Ene.has(r)){if(t[r]==null&&e[r]==null)continue;if(!bne(t[r],e[r]))return!1}else if(!Sne(t[r],e[r]))return!1;return!0}var Ane=["onMouseEnter","onMouseLeave","onClick"],Tne=["value","background","tooltipPosition"],Cne=["id"],Ine=["onMouseEnter","onClick","onMouseLeave"];function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(null,arguments)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return(e=Rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Dne(t,"string");return typeof e=="symbol"?e:e+""}function Dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iy(t,e){if(t==null)return{};var n,r,a=Pne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:Wy(n,e),payload:t}]},Mne=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:c,unit:d,tooltipType:f}=t,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Wy(s,e),hide:c,type:f,color:a,unit:d}};return w.createElement(M6,{tooltipEntrySettings:h})});function Lne(t){var e=Ve(ic),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:c,onMouseLeave:d,onClick:f}=s,h=iy(s,Ane),p=Uj(c,r),g=Vj(d),x=zj(f,r);if(!a||n==null)return null;var N=zf(a);return w.createElement(fi,{zIndex:one(a,mr.barBackground)},n.map((E,_)=>{var{value:j,background:C,tooltipPosition:M}=E,k=iy(E,Tne);if(!C)return null;var T=p(E,_),R=g(E,_),L=x(E,_),D=Tr(Tr(Tr(Tr(Tr({option:a,isActive:String(_)===e},k),{},{fill:"#eee"},C),N),Vy(h,E,_)),{},{onMouseEnter:T,onMouseLeave:R,onClick:L,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return w.createElement(ay,zs({key:"background-bar-".concat(_)},D))}))}function Une(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Tr(Tr({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return w.createElement(ree,{value:e?a:void 0},n)}function Vne(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:c}=t,d=Ve(ic),f=Ve(i6),h=n&&String(s)===d&&(f==null||c===f),p=h?n:e;return h?w.createElement(fi,{zIndex:mr.activeBar},w.createElement(ay,zs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))):w.createElement(ay,zs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:c}))}function zne(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return w.createElement(ay,zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function Bne(t){var e,{data:n,props:r}=t,a=(e=si(r))!==null&&e!==void 0?e:{},{id:s}=a,c=iy(a,Cne),{shape:d,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,N=iy(r,Ine),E=Uj(p,f),_=Vj(x),j=zj(g,f);return n?w.createElement(w.Fragment,null,n.map((C,M)=>w.createElement(Rr,zs({key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(M),className:"recharts-bar-rectangle"},Vy(N,C,M),{onMouseEnter:E(C,M),onMouseLeave:_(C,M),onClick:j(C,M)}),h?w.createElement(Vne,{shape:d,activeBar:h,baseProps:c,entry:C,index:M,dataKey:f}):w.createElement(zne,{shape:d,baseProps:c,entry:C,index:M,dataKey:f})))):null}function $ne(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=l0(e,"recharts-bar-"),[N,E]=w.useState(!1),_=!N,j=w.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),C=w.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return w.createElement(Une,{showLabels:_,rects:r},w.createElement(s0,{animationId:x,begin:c,duration:d,isActive:s,easing:f,onAnimationEnd:j,onAnimationStart:C,key:x},M=>{var k=M===1?r:r==null?void 0:r.map((T,R)=>{var L=g&&g[R];if(L)return Tr(Tr({},T),{},{x:Bn(L.x,T.x,M),y:Bn(L.y,T.y,M),width:Bn(L.width,T.width,M),height:Bn(L.height,T.height,M)});if(a==="horizontal"){var D=Bn(0,T.height,M),U=Bn(T.stackedBarStart,T.y,M);return Tr(Tr({},T),{},{y:U,height:D})}var $=Bn(0,T.width,M),A=Bn(T.stackedBarStart,T.x,M);return Tr(Tr({},T),{},{width:$,x:A})});return M>0&&(n.current=k??null),k==null?null:w.createElement(Rr,null,w.createElement(Bne,{props:e,data:k}))}),w.createElement(C6,{label:e.label}),e.children)}function Fne(t){var e=w.useRef(null);return w.createElement($ne,{previousRectanglesRef:e,props:t})}var H6=0,qne=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:nn(t,e)}};class Hne extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:c,needClip:d,background:f,id:h}=this.props;if(e||n==null)return null;var p=Vt("recharts-bar",a),g=h;return w.createElement(Rr,{className:p,id:h},d&&w.createElement("defs",null,w.createElement(lne,{clipPathId:g,xAxisId:s,yAxisId:c})),w.createElement(Rr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(Lne,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),w.createElement(Fne,this.props)))}}var Gne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:H6,xAxisId:0,yAxisId:0,zIndex:mr.bar};function Kne(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=q6(e,n),x=t0(),N=Wr(),E=Lj(t.children,Ph),_=Ve(M=>wre(M,e,n,N,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var j,C=_==null?void 0:_[0];return C==null||C.height==null||C.width==null?j=0:j=x==="vertical"?C.height/2:C.width/2,w.createElement(sne,{xAxisId:e,yAxisId:n,data:_,dataPointFormatter:qne,errorBarOffset:j},w.createElement(Hne,zs({},t,{layout:x,needClip:g,data:_,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function Yne(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:N,parentViewBox:E,dataStartIndex:_}=t,j=e==="horizontal"?d:c,C=p?j.scale.domain():null,M=Fq({numericAxis:j}),k=j.scale(M);return g.map((T,R)=>{var L,D,U,$,A,O;p?L=Lq(p[R+_],C):(L=nn(T,n),Array.isArray(L)||(L=[M,L]));var B=Jte(r,H6)(L[1],R);if(e==="horizontal"){var z,[me,ie]=[d.scale(L[0]),d.scale(L[1])];D=ZC({axis:c,ticks:f,bandSize:s,offset:a.offset,entry:T,index:R}),U=(z=ie??me)!==null&&z!==void 0?z:void 0,$=a.size;var G=me-ie;if(A=li(G)?0:G,O={x:D,y:x.top,width:$,height:x.height},Math.abs(B)>0&&Math.abs(A)<Math.abs(B)){var re=nr(A||B)*(Math.abs(B)-Math.abs(A));U-=re,A+=re}}else{var[W,ve]=[c.scale(L[0]),c.scale(L[1])];if(D=W,U=ZC({axis:d,ticks:h,bandSize:s,offset:a.offset,entry:T,index:R}),$=ve-W,A=a.size,O={x:x.left,y:U,width:x.width,height:A},Math.abs(B)>0&&Math.abs($)<Math.abs(B)){var Q=nr($||B)*(Math.abs(B)-Math.abs($));$+=Q}}if(D==null||U==null||$==null||A==null)return null;var V=Tr(Tr({},T),{},{stackedBarStart:k,x:D,y:U,width:$,height:A,value:p?L:L[1],payload:T,background:O,tooltipPosition:{x:D+$/2,y:U+A/2},parentViewBox:E},N&&N[R]&&N[R].props);return V}).filter(Boolean)}function Wne(t){var e=Er(t,Gne),n=Wr();return w.createElement(U6,{id:e.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(Fee,{legendPayload:kne(e)}),w.createElement(Mne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),w.createElement(nte,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:$q(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),w.createElement(fi,{zIndex:e.zIndex},w.createElement(Kne,zs({},e,{id:r})))))}var G6=w.memo(Wne,Bj);G6.displayName="Bar";function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Jne(t,"string");return typeof e=="symbol"?e:e+""}function Jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zne=(t,e)=>e,ere=(t,e,n)=>n,tre=(t,e,n,r)=>r,nre=(t,e,n,r,a)=>a,kh=le([ij,nre],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),rre=le([kh],t=>t==null?void 0:t.maxBarSize),are=(t,e,n,r,a,s)=>s,PR=(t,e,n)=>{var r=n??t;if(!rr(r))return _r(r,e,0)},ire=le([Nt,ij,Zne,ere,tre],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),sre=(t,e,n,r)=>{var a=Nt(t);return a==="horizontal"?eN(t,"yAxis",n,r):eN(t,"xAxis",e,r)},lre=(t,e,n)=>{var r=Nt(t);return r==="horizontal"?IO(t,"xAxis",e):IO(t,"yAxis",n)},ore=(t,e,n)=>{var r={},a=t.filter(g0),s=t.filter(h=>h.stackId==null),c=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(c).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),N=PR(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:N}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=PR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...f]},cre=le([ire,qW,lre],ore),ure=(t,e,n,r,a)=>{var s,c,d=kh(t,e,n,r,a);if(d!=null){var f=Nt(t),h=s5(t),{maxBarSize:p}=d,g=rr(p)?h:p,x,N;return f==="horizontal"?(x=Bu(t,"xAxis",e,r),N=zu(t,"xAxis",e,r)):(x=Bu(t,"yAxis",n,r),N=zu(t,"yAxis",n,r)),(s=(c=Rg(x,N,!0))!==null&&c!==void 0?c:g)!==null&&s!==void 0?s:0}},K6=(t,e,n,r)=>{var a=Nt(t),s,c;return a==="horizontal"?(s=Bu(t,"xAxis",e,r),c=zu(t,"xAxis",e,r)):(s=Bu(t,"yAxis",n,r),c=zu(t,"yAxis",n,r)),Rg(s,c)};function dre(t,e,n,r,a){var s=r.length;if(!(s<1)){var c=_r(t,n,0,!0),d,f=[];if(Nn(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((C,M)=>C+(M.barSize||0),0);g+=(s-1)*c,g>=n&&(g-=(s-1)*c,c=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,N={offset:x-c,size:0};d=r.reduce((C,M)=>{var k,T={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:N.offset+N.size+c,size:h?p:(k=M.barSize)!==null&&k!==void 0?k:0}},R=[...C,T];return N=R[R.length-1].position,R},f)}else{var E=_r(e,n,0,!0);n-2*E-(s-1)*c<=0&&(c=0);var _=(n-2*E-(s-1)*c)/s;_>1&&(_>>=0);var j=Nn(a)?Math.min(_,a):_;d=r.reduce((C,M,k)=>[...C,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:E+(_+c)*k+(_-j)/2,size:j}}],f)}return d}}var fre=(t,e,n,r,a,s,c)=>{var d=rr(c)?e:c,f=dre(n,r,a!==s?a:s,t,d);return a!==s&&f!=null&&(f=f.map(h=>Up(Up({},h),{},{position:Up(Up({},h.position),{},{offset:h.position.offset-a/2})}))),f},hre=le([cre,s5,FW,l5,ure,K6,rre],fre),mre=(t,e,n,r)=>Bu(t,"xAxis",e,r),pre=(t,e,n,r)=>Bu(t,"yAxis",n,r),gre=(t,e,n,r)=>zu(t,"xAxis",e,r),yre=(t,e,n,r)=>zu(t,"yAxis",n,r),vre=le([hre,kh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),xre=(t,e)=>{var n=nj(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(c=>c.key===n)}}}},bre=le([sre,kh],xre),wre=le([Hn,v_,mre,pre,gre,yre,vre,Nt,K_,K6,bre,kh,are],(t,e,n,r,a,s,c,d,f,h,p,g,x)=>{var{chartData:N,dataStartIndex:E,dataEndIndex:_}=f;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:j}=g,C;if(j!=null&&j.length>0?C=j:C=N==null?void 0:N.slice(E,_+1),C!=null)return Yne({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:C,offset:t,cells:x,dataStartIndex:E})}}),Y6=t=>{var{chartData:e}=t,n=sn(),r=Wr();return w.useEffect(()=>r?()=>{}:(n(FO(e)),()=>{n(FO(void 0))}),[e,n,r]),null},kR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},W6=Yr({name:"brush",initialState:kR,reducers:{setBrushSettings(t,e){return e.payload==null?kR:e.payload}}}),{setBrushSettings:Uge}=W6.actions,Nre=W6.reducer;function _re(t,e,n){return(e=jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jre(t){var e=Ere(t,"string");return typeof e=="symbol"?e:e+""}function Ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $j{static create(e){return new $j(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}_re($j,"EPS",1e-4);function Sre(t){return(t%180+180)%180}var Are=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Sre(a),c=s*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Tre={dots:[],areas:[],lines:[]},X6=Yr({name:"referenceElements",initialState:Tre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ii(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ii(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ii(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Vge,removeDot:zge,addArea:Bge,removeArea:$ge,addLine:Fge,removeLine:qge}=X6.actions,Cre=X6.reducer,Ire=w.createContext(void 0),Ore=t=>{var{children:e}=t,[n]=w.useState("".concat(Bf("recharts"),"-clip")),r=$6();if(r==null)return null;var{x:a,y:s,width:c,height:d}=r;return w.createElement(Ire.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:a,y:s,height:d,width:c}))),e)};function Q6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Rre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Are(r,n)}function Dre(t,e,n){var r=n==="width",{x:a,y:s,width:c,height:d}=t;return e===1?{start:r?a:s,end:r?a+c:s+d}:{start:r?a+c:s+d,end:r?a:s}}function sy(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function Pre(t,e){return Q6(t,e+1)}function kre(t,e,n,r,a){for(var s=(r||[]).slice(),{start:c,end:d}=e,f=0,h=1,p=c,g=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:Q6(r,h)};var _=f,j,C=()=>(j===void 0&&(j=n(E,_)),j),M=E.coordinate,k=f===0||sy(t,M,C,p,d);k||(f=0,p=c,h+=1),k&&(p=M+t*(C()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e,n){return(e=Lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lre(t){var e=Ure(t,"string");return typeof e=="symbol"?e:e+""}function Ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vre(t,e,n,r,a){for(var s=(r||[]).slice(),c=s.length,{start:d}=e,{end:f}=e,h=function(x){var N=s[x],E,_=()=>(E===void 0&&(E=n(N,x)),E);if(x===c-1){var j=t*(N.coordinate+t*_()/2-f);s[x]=N=vr(vr({},N),{},{tickCoord:j>0?N.coordinate-j*t:N.coordinate})}else s[x]=N=vr(vr({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var C=sy(t,N.tickCoord,_,d,f);C&&(f=N.tickCoord-t*(_()/2+a),s[x]=vr(vr({},N),{},{isShow:!0}))}},p=c-1;p>=0;p--)h(p);return s}function zre(t,e,n,r,a,s){var c=(r||[]).slice(),d=c.length,{start:f,end:h}=e;if(s){var p=r[d-1],g=n(p,d-1),x=t*(p.coordinate+t*g/2-h);if(c[d-1]=p=vr(vr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var N=sy(t,p.tickCoord,()=>g,f,h);N&&(h=p.tickCoord-t*(g/2+a),c[d-1]=vr(vr({},p),{},{isShow:!0}))}}for(var E=s?d-1:d,_=function(M){var k=c[M],T,R=()=>(T===void 0&&(T=n(k,M)),T);if(M===0){var L=t*(k.coordinate-t*R()/2-f);c[M]=k=vr(vr({},k),{},{tickCoord:L<0?k.coordinate-L*t:k.coordinate})}else c[M]=k=vr(vr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var D=sy(t,k.tickCoord,R,f,h);D&&(f=k.tickCoord+t*(R()/2+a),c[M]=vr(vr({},k),{},{isShow:!0}))}},j=0;j<E;j++)_(j);return c}function Fj(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:c,orientation:d,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Ue(f)||pc.isSsr){var x;return(x=Pre(a,Ue(f)?f:0))!==null&&x!==void 0?x:[]}var N=[],E=d==="top"||d==="bottom"?"width":"height",_=p&&E==="width"?Rf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},j=(k,T)=>{var R=typeof h=="function"?h(k.value,T):k.value;return E==="width"?Rre(Rf(R,{fontSize:e,letterSpacing:n}),_,g):Rf(R,{fontSize:e,letterSpacing:n})[E]},C=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,M=Dre(s,C,E);return f==="equidistantPreserveStart"?kre(C,M,j,a,c):(f==="preserveStart"||f==="preserveStartEnd"?N=zre(C,M,j,a,c,f==="preserveStartEnd"):N=Vre(C,M,j,a,c),N.filter(k=>k.isShow))}var Bre=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=a+s,h=c+f+d+(n?r:0);return Math.round(h)}return 0},$re=["axisLine","width","height","className","hide","ticks","axisType"];function Fre(t,e){if(t==null)return{};var n,r,a=qre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(null,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hre(t,e,n){return(e=Gre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Kre(t,"string");return typeof e=="symbol"?e:e+""}function Kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:mr.axis};function Yre(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:c,axisLine:d,otherSvgProps:f}=t;if(!d)return null;var h=Dn(Dn(Dn({},f),si(d)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!c||s==="bottom"&&c);h=Dn(Dn({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);h=Dn(Dn({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return w.createElement("line",sc({},h,{className:Vt("recharts-cartesian-axis-line",tc(d,"className"))}))}function Wre(t,e,n,r,a,s,c,d,f){var h,p,g,x,N,E,_=d?-1:1,j=t.tickSize||c,C=Ue(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!d*a,g=x-_*j,E=g-_*f,N=C;break;case"left":g=x=t.coordinate,p=e+ +!d*r,h=p-_*j,N=h-_*f,E=C;break;case"right":g=x=t.coordinate,p=e+ +d*r,h=p+_*j,N=h+_*f,E=C;break;default:h=p=t.coordinate,x=n+ +d*a,g=x+_*j,E=g+_*f,N=C;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:N,y:E}}}function Xre(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Qre(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Jre(t){var{option:e,tickProps:n,value:r}=t,a,s=Vt(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))a=w.cloneElement(e,Dn(Dn({},n),{},{className:s}));else if(typeof e=="function")a=e(Dn(Dn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Vt(c,e==null?void 0:e.className)),a=w.createElement(j0,sc({},n,{className:c}),r)}return a}var Zre=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:c,unit:d,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:N,width:E,height:_,tickSize:j,tickMargin:C,fontSize:M,letterSpacing:k,getTicksConfig:T,events:R,axisType:L}=t,D=Fj(Dn(Dn({},T),{},{ticks:n}),M,k),U=Xre(p,g),$=Qre(p,g),A=si(T),O=zf(r),B={};typeof a=="object"&&(B=a);var z=Dn(Dn({},A),{},{fill:"none"},B),me=D.map(re=>Dn({entry:re},Wre(re,x,N,E,_,p,j,g,C))),ie=me.map(re=>{var{entry:W,line:ve}=re;return w.createElement(Rr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},a&&w.createElement("line",sc({},z,ve,{className:Vt("recharts-cartesian-axis-tick-line",tc(a,"className"))})))}),G=me.map((re,W)=>{var{entry:ve,tick:Q}=re,V=Dn(Dn(Dn(Dn({textAnchor:U,verticalAnchor:$},A),{},{stroke:"none",fill:s},O),Q),{},{index:W,payload:ve,visibleTicksCount:D.length,tickFormatter:c,padding:f},h);return w.createElement(Rr,sc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},Vy(R,ve,W)),r&&w.createElement(Jre,{option:r,tickProps:V,value:"".concat(typeof c=="function"?c(ve.value,W):ve.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},G.length>0&&w.createElement(fi,{zIndex:mr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},G)),ie.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},ie))}),eae=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:c,ticks:d,axisType:f}=t,h=Fre(t,$re),[p,g]=w.useState(""),[x,N]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var j;return Bre({ticks:E.current,label:(j=t.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=w.useCallback(j=>{if(j){var C=j.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=C;var M=C[0];if(M){var k=window.getComputedStyle(M),T=k.fontSize,R=k.letterSpacing;(T!==p||R!==x)&&(g(T),N(R))}}},[p,x]);return c||r!=null&&r<=0||a!=null&&a<=0?null:w.createElement(fi,{zIndex:t.zIndex},w.createElement(Rr,{className:Vt("recharts-cartesian-axis",s)},w.createElement(Yre,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:si(t)}),w.createElement(Zre,{ref:_,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(MZ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(GZ,{label:t.label,labelRef:t.labelRef}),t.children)))}),qj=w.forwardRef((t,e)=>{var n=Er(t,Os);return w.createElement(eae,sc({},n,{ref:e}))});qj.displayName="CartesianAxis";var tae=["x1","y1","x2","y2","key"],nae=["offset"],rae=["xAxisId","yAxisId"],aae=["xAxisId","yAxisId"];function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e,n){return(e=sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ho.apply(null,arguments)}function ly(t,e){if(t==null)return{};var n,r,a=oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function oae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:c,ry:d}=t;return w.createElement("rect",{x:r,y:a,ry:d,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function J6(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:s,y1:c,x2:d,y2:f,key:h}=n,p=ly(n,tae),g=(a=si(p))!==null&&a!==void 0?a:{},{offset:x}=g,N=ly(g,nae);r=w.createElement("line",Ho({},N,{x1:s,y1:c,x2:d,y2:f,fill:"none",key:h}))}return r}function uae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=ly(t,rae),f=a.map((h,p)=>{var g=br(br({},d),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return w.createElement(J6,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function dae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,d=ly(t,aae),f=a.map((h,p)=>{var g=br(br({},d),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(J6,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function fae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:c,horizontalPoints:d,horizontal:f=!0}=t;if(!f||!e||!e.length||d==null)return null;var h=d.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var N=!h[x+1],E=N?a+c-g:h[x+1]-g;if(E<=0)return null;var _=x%e.length;return w.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:E,width:s,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function hae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:c,height:d,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==h[0]&&h.unshift(0);var p=h.map((g,x)=>{var N=!h[x+1],E=N?a+c-g:h[x+1]-g;if(E<=0)return null;var _=x%n.length;return w.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:E,height:d,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var mae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return Rk(Fj(br(br(br({},Os),n),{},{ticks:Dk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},pae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return Rk(Fj(br(br(br({},Os),n),{},{ticks:Dk(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},gae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:mr.grid};function Z6(t){var e=Fk(),n=qk(),r=$k(),a=br(br({},Er(t,gae)),{},{x:Ue(t.x)?t.x:r.left,y:Ue(t.y)?t.y:r.top,width:Ue(t.width)?t.width:r.width,height:Ue(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:d,y:f,width:h,height:p,syncWithTicks:g,horizontalValues:x,verticalValues:N}=a,E=Wr(),_=Ve($=>OO($,"xAxis",s,E)),j=Ve($=>OO($,"yAxis",c,E));if(!Yi(h)||!Yi(p)||!Ue(d)||!Ue(f))return null;var C=a.verticalCoordinatesGenerator||mae,M=a.horizontalCoordinatesGenerator||pae,{horizontalPoints:k,verticalPoints:T}=a;if((!k||!k.length)&&typeof M=="function"){var R=x&&x.length,L=M({yAxis:j?br(br({},j),{},{ticks:R?x:j.ticks}):void 0,width:e??h,height:n??p,offset:r},R?!0:g);Dg(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(k=L)}if((!T||!T.length)&&typeof C=="function"){var D=N&&N.length,U=C({xAxis:_?br(br({},_),{},{ticks:D?N:_.ticks}):void 0,width:e??h,height:n??p,offset:r},D?!0:g);Dg(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(T=U)}return w.createElement(fi,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(cae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(fae,Ho({},a,{horizontalPoints:k})),w.createElement(hae,Ho({},a,{verticalPoints:T})),w.createElement(uae,Ho({},a,{offset:r,horizontalPoints:k,xAxis:_,yAxis:j})),w.createElement(dae,Ho({},a,{offset:r,verticalPoints:T,xAxis:_,yAxis:j}))))}Z6.displayName="CartesianGrid";var yae=["domain","range"],vae=["domain","range"];function VR(t,e){if(t==null)return{};var n,r,a=xae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zR(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function e3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=VR(t,yae),{domain:s,range:c}=e,d=VR(e,vae);return!zR(n,s)||!zR(r,c)?!1:Bj(a,d)}var bae=["dangerouslySetInnerHTML","ticks"],wae=["id"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oN.apply(null,arguments)}function BR(t,e){if(t==null)return{};var n,r,a=Nae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _ae(t){var e=sn(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Dte(t)):n.current!==t&&e(Pte({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(kte(n.current)),n.current=null)},[e]),null}var jae=t=>{var{xAxisId:e,className:n}=t,r=Ve(v_),a=Wr(),s="xAxis",c=Ve(j=>ad(j,s,e,a)),d=Ve(j=>V5(j,s,e,a)),f=Ve(j=>k5(j,e)),h=Ve(j=>BX(j,e)),p=Ve(j=>g5(j,e));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,N=BR(t,bae),{id:E}=p,_=BR(p,wae);return w.createElement(qj,oN({},N,_,{scale:c,x:h.x,y:h.y,width:f.width,height:f.height,className:Vt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d,axisType:s}))},Eae={allowDataOverflow:Jn.allowDataOverflow,allowDecimals:Jn.allowDecimals,allowDuplicatedCategory:Jn.allowDuplicatedCategory,angle:Jn.angle,axisLine:Os.axisLine,height:Jn.height,hide:!1,includeHidden:Jn.includeHidden,interval:Jn.interval,minTickGap:Jn.minTickGap,mirror:Jn.mirror,orientation:Jn.orientation,padding:Jn.padding,reversed:Jn.reversed,scale:Jn.scale,tick:Jn.tick,tickCount:Jn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Jn.type,xAxisId:0},Sae=t=>{var e=Er(t,Eae);return w.createElement(w.Fragment,null,w.createElement(_ae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(jae,e))},t3=w.memo(Sae,e3);t3.displayName="XAxis";var Aae=["dangerouslySetInnerHTML","ticks"],Tae=["id"];function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(null,arguments)}function $R(t,e){if(t==null)return{};var n,r,a=Cae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Cae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Iae(t){var e=sn(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Mte(t)):n.current!==t&&e(Lte({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Ute(n.current)),n.current=null)},[e]),null}var Oae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=w.useRef(null),c=w.useRef(null),d=Ve(v_),f=Wr(),h=sn(),p="yAxis",g=Ve(R=>ad(R,p,e,f)),x=Ve(R=>M5(R,e)),N=Ve(R=>FX(R,e)),E=Ve(R=>V5(R,p,e,f)),_=Ve(R=>y5(R,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!x||Pj(a)||w.isValidElement(a)||_==null)){var R=s.current;if(R){var L=R.getCalculatedWidth();Math.round(x.width)!==Math.round(L)&&h(Vte({id:e,width:L}))}}},[E,x,h,a,e,r,_]),x==null||N==null||_==null)return null;var{dangerouslySetInnerHTML:j,ticks:C}=t,M=$R(t,Aae),{id:k}=_,T=$R(_,Tae);return w.createElement(qj,cN({},M,T,{ref:s,labelRef:c,scale:g,x:N.x,y:N.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Vt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:E,axisType:p}))},Rae={allowDataOverflow:Zn.allowDataOverflow,allowDecimals:Zn.allowDecimals,allowDuplicatedCategory:Zn.allowDuplicatedCategory,angle:Zn.angle,axisLine:Os.axisLine,hide:!1,includeHidden:Zn.includeHidden,interval:Zn.interval,minTickGap:Zn.minTickGap,mirror:Zn.mirror,orientation:Zn.orientation,padding:Zn.padding,reversed:Zn.reversed,scale:Zn.scale,tick:Zn.tick,tickCount:Zn.tickCount,tickLine:Os.tickLine,tickSize:Os.tickSize,type:Zn.type,width:Zn.width,yAxisId:0},Dae=t=>{var e=Er(t,Rae);return w.createElement(w.Fragment,null,w.createElement(Iae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Oae,e))},n3=w.memo(Dae,e3);n3.displayName="YAxis";var Pae=(t,e)=>e,Hj=le([Pae,Nt,m5,Kn,t6,Qs,rJ,Hn],uJ),Gj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},r3=Pa("mouseClick"),a3=vh();a3.startListening({actionCreator:r3,effect:(t,e)=>{var n=t.payload,r=Hj(e.getState(),Gj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(rQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var uN=Pa("mouseMove"),i3=vh(),Vp=null;i3.startListening({actionCreator:uN,effect:(t,e)=>{var n=t.payload;Vp!==null&&cancelAnimationFrame(Vp);var r=Gj(n);Vp=requestAnimationFrame(()=>{var a=e.getState(),s=jj(a,a.tooltip.settings.shared);if(s==="axis"){var c=Hj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch(K5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(G5())}Vp=null})}});var FR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},s3=Yr({name:"rootProps",initialState:FR,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:FR.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),kae=s3.reducer,{updateOptions:Mae}=s3.actions,l3=Yr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Lae}=l3.actions,Uae=l3.reducer,o3=Pa("keyDown"),c3=Pa("focus"),Kj=vh();Kj.startListening({actionCreator:o3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Ej(a,sd(n),Ch(n),Dh(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var f=Qs(n);if(s==="Enter"){var h=ey(n,"axis","hover",String(a.index));e.dispatch(nN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var p=KX(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,N=d+x*g;if(!(f==null||N>=f.length||N<0)){var E=ey(n,"axis","hover",String(N));e.dispatch(nN({active:!0,activeIndex:N.toString(),activeDataKey:void 0,activeCoordinate:E}))}}}}}});Kj.startListening({actionCreator:c3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=ey(n,"axis","hover",String(s));e.dispatch(nN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Ca=Pa("externalEvent"),u3=vh(),$w=new Map;u3.startListening({actionCreator:Ca,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=$w.get(a);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var d=e.getState(),f={activeCoordinate:$Q(d),activeDataKey:i6(d),activeIndex:ic(d),activeLabel:a6(d),activeTooltipIndex:ic(d),isTooltipActive:FQ(d)};n(f,r)}finally{$w.delete(a)}});$w.set(a,c)}}});var Vae=le([id],t=>t.tooltipItemPayloads),zae=le([Vae,Oh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var c=e(s,n);return c}}}),d3=Pa("touchMove"),f3=vh();f3.startListening({actionCreator:d3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=jj(r,r.tooltip.settings.shared);if(a==="axis"){var s=Hj(r,Gj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(K5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(kk),p=(c=f.getAttribute(Mk))!==null&&c!==void 0?c:void 0,g=zae(e.getState(),h,p);e.dispatch(H5({activeDataKey:p,activeIndex:h,activeCoordinate:g}))}}}});var Bae=rk({brush:Nre,cartesianAxis:zte,chartData:BJ,errorBars:ene,graphicalItems:ete,layout:Oq,legend:LH,options:MJ,polarAxis:mee,polarOptions:Uae,referenceElements:Cre,rootProps:kae,tooltip:aQ,zIndex:jJ}),$ae=function(e){return nq({reducer:Bae,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([a3.middleware,i3.middleware,Kj.middleware,u3.middleware,f3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(vk({type:"raf"}))},devTools:pc.devToolsEnabled})};function h3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Wr(),s=w.useRef(null);if(a)return n;s.current==null&&(s.current=$ae(e));var c=c_;return w.createElement(jne,{context:c,store:s.current},n)}function Fae(t){var{layout:e,margin:n}=t,r=sn(),a=Wr();return w.useEffect(()=>{a||(r(Tq(e)),r(Aq(n)))},[r,a,e,n]),null}var m3=w.memo(Fae,Bj);function p3(t){var e=sn();return w.useEffect(()=>{e(Mae(t))},[e,t]),null}function qR(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=L6("".concat(r).concat(e)),s=sn();return w.useLayoutEffect(()=>(s(NJ({zIndex:e,elementId:a,isPanorama:n})),()=>{s(_J({zIndex:e,isPanorama:n}))}),[s,e,a,n]),w.createElement("g",{id:a})}function HR(t){var{children:e,isPanorama:n}=t,r=Ve(fJ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),s=r.filter(c=>c>0);return w.createElement(w.Fragment,null,a.map(c=>w.createElement(qR,{key:c,zIndex:c,isPanorama:n})),e,s.map(c=>w.createElement(qR,{key:c,zIndex:c,isPanorama:n})))}var qae=["children"];function Hae(t,e){if(t==null)return{};var n,r,a=Gae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oy.apply(null,arguments)}var Kae={width:"100%",height:"100%",display:"block"},Yae=w.forwardRef((t,e)=>{var n=Fk(),r=qk(),a=tM();if(!Yi(n)||!Yi(r))return null;var{children:s,otherAttributes:c,title:d,desc:f}=t,h,p;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),w.createElement(w4,oy({},c,{title:d,desc:f,role:p,tabIndex:h,width:n,height:r,style:Kae,ref:e}),s)}),Wae=t=>{var{children:e}=t,n=Ve(Zy);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return w.createElement(w4,{width:r,height:a,x:c,y:s},e)},GR=w.forwardRef((t,e)=>{var{children:n}=t,r=Hae(t,qae),a=Wr();return a?w.createElement(Wae,null,w.createElement(HR,{isPanorama:!0},n)):w.createElement(Yae,oy({ref:e},r),w.createElement(HR,{isPanorama:!1},n))});function Xae(){var t=sn(),[e,n]=w.useState(null),r=Ve(Wq);return w.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;Nn(s)&&s!==r&&t(Iq(s))}},[e,t,r]),n}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jae(t,e,n){return(e=Zae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zae(t){var e=eie(t,"string");return typeof e=="symbol"?e:e+""}function eie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}var tie=()=>(XJ(),null);function cy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var nie=w.forwardRef((t,e)=>{var n,r,a=w.useRef(null),[s,c]=w.useState({containerWidth:cy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:cy((r=t.style)===null||r===void 0?void 0:r.height)}),d=w.useCallback((h,p)=>{c(g=>{var x=Math.round(h),N=Math.round(p);return g.containerWidth===x&&g.containerHeight===N?g:{containerWidth:x,containerHeight:N}})},[]),f=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();d(p,g);var x=E=>{var{width:_,height:j}=E[0].contentRect;d(_,j)},N=new ResizeObserver(x);N.observe(h),a.current=N}},[e,d]);return w.useEffect(()=>()=>{var h=a.current;h!=null&&h.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(n0,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",lc({ref:f},t)))}),rie=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=w.useState({containerWidth:cy(n),containerHeight:cy(r)}),c=w.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),d=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();c(h,p)}},[e,c]);return w.createElement(w.Fragment,null,w.createElement(n0,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",lc({ref:d},t)))}),aie=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(n0,{width:n,height:r}),w.createElement("div",lc({ref:e},t)))}),iie=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ps(n)||Ps(r)?w.createElement(rie,lc({},t,{ref:e})):w.createElement(aie,lc({},t,{ref:e}))});function sie(t){return t===!0?nie:iie}var lie=w.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:N,onTouchMove:E,onTouchStart:_,style:j,width:C,responsive:M,dispatchTouchEvents:k=!0}=t,T=w.useRef(null),R=sn(),[L,D]=w.useState(null),[U,$]=w.useState(null),A=Xae(),O=x_(),B=(O==null?void 0:O.width)>0?O.width:C,z=(O==null?void 0:O.height)>0?O.height:a,me=w.useCallback(ce=>{A(ce),typeof e=="function"&&e(ce),D(ce),$(ce),ce!=null&&(T.current=ce)},[A,e,D,$]),ie=w.useCallback(ce=>{R(r3(ce)),R(Ca({handler:s,reactEvent:ce}))},[R,s]),G=w.useCallback(ce=>{R(uN(ce)),R(Ca({handler:h,reactEvent:ce}))},[R,h]),re=w.useCallback(ce=>{R(G5()),R(Ca({handler:p,reactEvent:ce}))},[R,p]),W=w.useCallback(ce=>{R(uN(ce)),R(Ca({handler:g,reactEvent:ce}))},[R,g]),ve=w.useCallback(()=>{R(c3())},[R]),Q=w.useCallback(ce=>{R(o3(ce.key))},[R]),V=w.useCallback(ce=>{R(Ca({handler:c,reactEvent:ce}))},[R,c]),Y=w.useCallback(ce=>{R(Ca({handler:d,reactEvent:ce}))},[R,d]),H=w.useCallback(ce=>{R(Ca({handler:f,reactEvent:ce}))},[R,f]),J=w.useCallback(ce=>{R(Ca({handler:x,reactEvent:ce}))},[R,x]),fe=w.useCallback(ce=>{R(Ca({handler:_,reactEvent:ce}))},[R,_]),Ee=w.useCallback(ce=>{k&&R(d3(ce)),R(Ca({handler:E,reactEvent:ce}))},[R,k,E]),Te=w.useCallback(ce=>{R(Ca({handler:N,reactEvent:ce}))},[R,N]),qe=sie(M);return w.createElement(f6.Provider,{value:L},w.createElement(kB.Provider,{value:U},w.createElement(qe,{width:B??(j==null?void 0:j.width),height:z??(j==null?void 0:j.height),className:Vt("recharts-wrapper",r),style:Qae({position:"relative",cursor:"default",width:B,height:z},j),onClick:ie,onContextMenu:V,onDoubleClick:Y,onFocus:ve,onKeyDown:Q,onMouseDown:H,onMouseEnter:G,onMouseLeave:re,onMouseMove:W,onMouseUp:J,onTouchEnd:Te,onTouchMove:Ee,onTouchStart:fe,ref:me},w.createElement(tie,null),n)))}),oie=["width","height","responsive","children","className","style","compact","title","desc"];function cie(t,e){if(t==null)return{};var n,r,a=uie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var g3=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:c,style:d,compact:f,title:h,desc:p}=t,g=cie(t,oie),x=si(g);return f?w.createElement(w.Fragment,null,w.createElement(n0,{width:n,height:r}),w.createElement(GR,{otherAttributes:x,title:h,desc:p},s)):w.createElement(lie,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(GR,{otherAttributes:x,title:h,desc:p,ref:e},w.createElement(Ore,null,s)))});function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(null,arguments)}var die={top:5,right:5,bottom:5,left:5},fie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:die,reverseStackOrder:!1,syncMethod:"index",responsive:!1},hie=w.forwardRef(function(e,n){var r,a=Er(e.categoricalChartProps,fie),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return w.createElement(h3,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(Y6,{chartData:h.data}),w.createElement(m3,{layout:a.layout,margin:a.margin}),w.createElement(p3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(g3,dN({},a,{ref:n})))}),mie=["axis","item"],pie=w.forwardRef((t,e)=>w.createElement(hie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mie,tooltipPayloadSearcher:h6,categoricalChartProps:t,ref:e}));function gie(t){var e=sn();return w.useEffect(()=>{e(Lae(t))},[e,t]),null}var yie=["layout"];function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fN.apply(null,arguments)}function vie(t,e){if(t==null)return{};var n,r,a=xie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bie={top:5,right:5,bottom:5,left:5},wie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Nie=w.forwardRef(function(e,n){var r,a=Er(e.categoricalChartProps,wie),{layout:s}=a,c=vie(a,yie),{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(h3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},w.createElement(Y6,{chartData:a.data}),w.createElement(m3,{layout:s,margin:a.margin}),w.createElement(p3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(gie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(g3,fN({},c,{ref:n})))}),_ie=["item"],jie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Eie=w.forwardRef((t,e)=>{var n=Er(t,jie);return w.createElement(Nie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_ie,tooltipPayloadSearcher:h6,categoricalChartProps:n,ref:e})});const Ia=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),l.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:l.jsx(n,{className:"w-6 h-6"})})]})},Sie=()=>{};var YR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Aie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],c=t[n++],d=t[n++],f=((a&7)<<18|(s&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},v3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,d=c?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|d>>4;let x=(d&15)<<2|h>>6,N=h&63;f||(N=64,c||(x=64)),r.push(n[p],n[g],n[x],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(y3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Aie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||d==null||h==null||g==null)throw new Tie;const x=s<<2|d>>4;if(r.push(x),h!==64){const N=d<<4&240|h>>2;if(r.push(N),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cie=function(t){const e=y3(t);return v3.encodeByteArray(e,!0)},uy=function(t){return Cie(t).replace(/\./g,"")},x3=function(t){try{return v3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=()=>Iie().__FIREBASE_DEFAULTS__,Rie=()=>{if(typeof process>"u"||typeof YR>"u")return;const t=YR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Die=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&x3(t[1]);return e&&JSON.parse(e)},T0=()=>{try{return Sie()||Oie()||Rie()||Die()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},b3=t=>{var e,n;return(n=(e=T0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},w3=t=>{const e=b3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N3=()=>{var t;return(t=T0())==null?void 0:t.config},_3=t=>{var e;return(e=T0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uy(JSON.stringify(n)),uy(JSON.stringify(c)),""].join(".")}const Df={};function kie(){const t={prod:[],emulator:[]};for(const e of Object.keys(Df))Df[e]?t.emulator.push(e):t.prod.push(e);return t}function Mie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WR=!1;function Wj(t,e){if(typeof window>"u"||typeof document>"u"||!vc(window.location.host)||Df[t]===e||Df[t]||WR)return;Df[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=kie().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{WR=!0,c()},x}function p(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=Mie(r),N=n("text"),E=document.getElementById(N)||document.createElement("span"),_=n("learnmore"),j=document.getElementById(_)||document.createElement("a"),C=n("preprendIcon"),M=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const k=x.element;d(k),p(j,_);const T=h();f(M,C),k.append(M,E,j,T),document.body.appendChild(k)}s?(E.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function Uie(){var e;const t=(e=T0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vie(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bie(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $ie(){return!Uie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S3(){try{return typeof indexedDB=="object"}catch{return!1}}function A3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;e(((s=a.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function Fie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie="FirebaseError";class Ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qie,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?Hie(s,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ua(a,d,r)}}function Hie(t,e){return t.replace(Gie,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Gie=/\{\$([^}]+)}/g;function Kie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],c=e[a];if(XR(s)&&XR(c)){if(!Gl(s,c))return!1}else if(s!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function XR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yie(t,e){const n=new Wie(t,e);return n.subscribe.bind(n)}class Wie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xie(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Fw),a.error===void 0&&(a.error=Fw),a.complete===void 0&&(a.complete=Fw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie=1e3,Jie=2,Zie=14400*1e3,ese=.5;function QR(t,e=Qie,n=Jie){const r=e*Math.pow(n,t),a=Math.round(ese*r*(Math.random()-.5)*2);return Math.min(Zie,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Ma{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Pie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rse(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(s);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nse(t){return t===$o?void 0:t}function rse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const ise={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},sse=ht.INFO,lse={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},ose=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=lse[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C0{constructor(e){this.name=e,this._logLevel=sse,this._logHandler=ose,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ise[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const cse=(t,e)=>e.some(n=>t instanceof n);let JR,ZR;function use(){return JR||(JR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dse(){return ZR||(ZR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T3=new WeakMap,hN=new WeakMap,C3=new WeakMap,qw=new WeakMap,Xj=new WeakMap;function fse(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(Vl(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&T3.set(n,t)}).catch(()=>{}),Xj.set(e,t),e}function hse(t){if(hN.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});hN.set(t,e)}let mN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||C3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mse(t){mN=t(mN)}function pse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hw(this),e,...n);return C3.set(r,e.sort?e.sort():[e]),Vl(r)}:dse().includes(t)?function(...e){return t.apply(Hw(this),e),Vl(T3.get(this))}:function(...e){return Vl(t.apply(Hw(this),e))}}function gse(t){return typeof t=="function"?pse(t):(t instanceof IDBTransaction&&hse(t),cse(t,use())?new Proxy(t,mN):t)}function Vl(t){if(t instanceof IDBRequest)return fse(t);if(qw.has(t))return qw.get(t);const e=gse(t);return e!==t&&(qw.set(t,e),Xj.set(e,t)),e}const Hw=t=>Xj.get(t);function I3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),d=Vl(c);return r&&c.addEventListener("upgradeneeded",f=>{r(Vl(c.result),f.oldVersion,f.newVersion,Vl(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const yse=["get","getKey","getAll","getAllKeys","count"],vse=["put","add","delete","clear"],Gw=new Map;function eD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gw.get(e))return Gw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=vse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||yse.includes(n)))return;const s=async function(c,...d){const f=this.transaction(c,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),a&&f.done]))[0]};return Gw.set(e,s),s}mse(t=>({...t,get:(e,n,r)=>eD(e,n)||t.get(e,n,r),has:(e,n)=>!!eD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pN="@firebase/app",tD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new C0("@firebase/app"),wse="@firebase/app-compat",Nse="@firebase/analytics-compat",_se="@firebase/analytics",jse="@firebase/app-check-compat",Ese="@firebase/app-check",Sse="@firebase/auth",Ase="@firebase/auth-compat",Tse="@firebase/database",Cse="@firebase/data-connect",Ise="@firebase/database-compat",Ose="@firebase/functions",Rse="@firebase/functions-compat",Dse="@firebase/installations",Pse="@firebase/installations-compat",kse="@firebase/messaging",Mse="@firebase/messaging-compat",Lse="@firebase/performance",Use="@firebase/performance-compat",Vse="@firebase/remote-config",zse="@firebase/remote-config-compat",Bse="@firebase/storage",$se="@firebase/storage-compat",Fse="@firebase/firestore",qse="@firebase/ai",Hse="@firebase/firestore-compat",Gse="firebase",Kse="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="[DEFAULT]",Yse={[pN]:"fire-core",[wse]:"fire-core-compat",[_se]:"fire-analytics",[Nse]:"fire-analytics-compat",[Ese]:"fire-app-check",[jse]:"fire-app-check-compat",[Sse]:"fire-auth",[Ase]:"fire-auth-compat",[Tse]:"fire-rtdb",[Cse]:"fire-data-connect",[Ise]:"fire-rtdb-compat",[Ose]:"fire-fn",[Rse]:"fire-fn-compat",[Dse]:"fire-iid",[Pse]:"fire-iid-compat",[kse]:"fire-fcm",[Mse]:"fire-fcm-compat",[Lse]:"fire-perf",[Use]:"fire-perf-compat",[Vse]:"fire-rc",[zse]:"fire-rc-compat",[Bse]:"fire-gcs",[$se]:"fire-gcs-compat",[Fse]:"fire-fst",[Hse]:"fire-fst-compat",[qse]:"fire-vertex","fire-js":"fire-js",[Gse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map,Wse=new Map,yN=new Map;function nD(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oi(t){const e=t.name;if(yN.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;yN.set(e,t);for(const n of dy.values())nD(n,t);for(const n of Wse.values())nD(n,t);return!0}function ro(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zl=new xc("app","Firebase",Xse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=Kse;function O3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gN,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw zl.create("bad-app-name",{appName:String(a)});if(n||(n=N3()),!n)throw zl.create("no-options");const s=dy.get(a);if(s){if(Gl(n,s.options)&&Gl(r,s.config))return s;throw zl.create("duplicate-app",{appName:a})}const c=new ase(a);for(const f of yN.values())c.addComponent(f);const d=new Qse(n,r,c);return dy.set(a,d),d}function I0(t=gN){const e=dy.get(t);if(!e&&t===gN&&N3())return O3();if(!e)throw zl.create("no-app",{appName:t});return e}function Gr(t,e,n){let r=Yse[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(c.join(" "));return}oi(new Ma(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jse="firebase-heartbeat-database",Zse=1,th="firebase-heartbeat-store";let Kw=null;function R3(){return Kw||(Kw=I3(Jse,Zse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(th)}catch(n){console.warn(n)}}}}).catch(t=>{throw zl.create("idb-open",{originalErrorMessage:t.message})})),Kw}async function ele(t){try{const n=(await R3()).transaction(th),r=await n.objectStore(th).get(D3(t));return await n.done,r}catch(e){if(e instanceof Ua)Bs.warn(e.message);else{const n=zl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bs.warn(n.message)}}}async function rD(t,e){try{const r=(await R3()).transaction(th,"readwrite");await r.objectStore(th).put(e,D3(t)),await r.done}catch(n){if(n instanceof Ua)Bs.warn(n.message);else{const r=zl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bs.warn(r.message)}}}function D3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tle=1024,nle=30;class rle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ile(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(c=>c.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>nle){const c=sle(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aD(),{heartbeatsToSend:r,unsentEntries:a}=ale(this._heartbeatsCache.heartbeats),s=uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bs.warn(n),""}}}function aD(){return new Date().toISOString().substring(0,10)}function ale(t,e=tle){const n=[];let r=t.slice();for(const a of t){const s=n.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),iD(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),iD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ile{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S3()?A3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ele(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iD(t){return uy(JSON.stringify({version:2,heartbeats:t})).length}function sle(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lle(t){oi(new Ma("platform-logger",e=>new xse(e),"PRIVATE")),oi(new Ma("heartbeat",e=>new rle(e),"PRIVATE")),Gr(pN,tD,t),Gr(pN,tD,"esm2020"),Gr("fire-js","")}lle("");var ole="firebase",cle="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(ole,cle,"app");const P3="@firebase/installations",Qj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=1e4,M3=`w:${Qj}`,L3="FIS_v2",ule="https://firebaseinstallations.googleapis.com/v1",dle=3600*1e3,fle="installations",hle="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mle={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oc=new xc(fle,hle,mle);function U3(t){return t instanceof Ua&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3({projectId:t}){return`${ule}/projects/${t}/installations`}function z3(t){return{token:t.token,requestStatus:2,expiresIn:gle(t.expiresIn),creationTime:Date.now()}}async function B3(t,e){const r=(await e.json()).error;return oc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ple(t,{refreshToken:e}){const n=$3(t);return n.append("Authorization",yle(e)),n}async function F3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function gle(t){return Number(t.replace("s","000"))}function yle(t){return`${L3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vle({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=V3(t),a=$3(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={fid:n,authVersion:L3,appId:t.appId,sdkVersion:M3},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await F3(()=>fetch(r,d));if(f.ok){const h=await f.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:z3(h.authToken)}}else throw await B3("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xle(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble=/^[cdef][\w-]{21}$/,vN="";function wle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Nle(t);return ble.test(n)?n:vN}catch{return vN}}function Nle(t){return xle(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Map;function G3(t,e){const n=O0(t);K3(n,e),_le(n,e)}function K3(t,e){const n=H3.get(t);if(n)for(const r of n)r(e)}function _le(t,e){const n=jle();n&&n.postMessage({key:t,fid:e}),Ele()}let Go=null;function jle(){return!Go&&"BroadcastChannel"in self&&(Go=new BroadcastChannel("[Firebase] FID Change"),Go.onmessage=t=>{K3(t.data.key,t.data.fid)}),Go}function Ele(){H3.size===0&&Go&&(Go.close(),Go=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle="firebase-installations-database",Ale=1,cc="firebase-installations-store";let Yw=null;function Jj(){return Yw||(Yw=I3(Sle,Ale,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(cc)}}})),Yw}async function fy(t,e){const n=O0(t),a=(await Jj()).transaction(cc,"readwrite"),s=a.objectStore(cc),c=await s.get(n);return await s.put(e,n),await a.done,(!c||c.fid!==e.fid)&&G3(t,e.fid),e}async function Y3(t){const e=O0(t),r=(await Jj()).transaction(cc,"readwrite");await r.objectStore(cc).delete(e),await r.done}async function R0(t,e){const n=O0(t),a=(await Jj()).transaction(cc,"readwrite"),s=a.objectStore(cc),c=await s.get(n),d=e(c);return d===void 0?await s.delete(n):await s.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&G3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t){let e;const n=await R0(t.appConfig,r=>{const a=Tle(r),s=Cle(t,a);return e=s.registrationPromise,s.installationEntry});return n.fid===vN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Tle(t){const e=t||{fid:wle(),registrationStatus:0};return W3(e)}function Cle(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(oc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ile(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ole(t)}:{installationEntry:e}}async function Ile(t,e){try{const n=await vle(t,e);return fy(t.appConfig,n)}catch(n){throw U3(n)&&n.customData.serverCode===409?await Y3(t.appConfig):await fy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ole(t){let e=await sD(t.appConfig);for(;e.registrationStatus===1;)await q3(100),e=await sD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Zj(t);return r||n}return e}function sD(t){return R0(t,e=>{if(!e)throw oc.create("installation-not-found");return W3(e)})}function W3(t){return Rle(t)?{fid:t.fid,registrationStatus:0}:t}function Rle(t){return t.registrationStatus===1&&t.registrationTime+k3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dle({appConfig:t,heartbeatServiceProvider:e},n){const r=Ple(t,n),a=ple(t,n),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const c={installation:{sdkVersion:M3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},f=await F3(()=>fetch(r,d));if(f.ok){const h=await f.json();return z3(h)}else throw await B3("Generate Auth Token",f)}function Ple(t,{fid:e}){return`${V3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(t,e=!1){let n;const r=await R0(t.appConfig,s=>{if(!X3(s))throw oc.create("not-registered");const c=s.authToken;if(!e&&Lle(c))return s;if(c.requestStatus===1)return n=kle(t,e),s;{if(!navigator.onLine)throw oc.create("app-offline");const d=Vle(s);return n=Mle(t,d),d}});return n?await n:r.authToken}async function kle(t,e){let n=await lD(t.appConfig);for(;n.authToken.requestStatus===1;)await q3(100),n=await lD(t.appConfig);const r=n.authToken;return r.requestStatus===0?eE(t,e):r}function lD(t){return R0(t,e=>{if(!X3(e))throw oc.create("not-registered");const n=e.authToken;return zle(n)?{...e,authToken:{requestStatus:0}}:e})}async function Mle(t,e){try{const n=await Dle(t,e),r={...e,authToken:n};return await fy(t.appConfig,r),n}catch(n){if(U3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Y3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await fy(t.appConfig,r)}throw n}}function X3(t){return t!==void 0&&t.registrationStatus===2}function Lle(t){return t.requestStatus===2&&!Ule(t)}function Ule(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dle}function Vle(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function zle(t){return t.requestStatus===1&&t.requestTime+k3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ble(t){const e=t,{installationEntry:n,registrationPromise:r}=await Zj(e);return r?r.catch(console.error):eE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $le(t,e=!1){const n=t;return await Fle(n),(await eE(n,e)).token}async function Fle(t){const{registrationPromise:e}=await Zj(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qle(t){if(!t||!t.options)throw Ww("App Configuration");if(!t.name)throw Ww("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ww(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ww(t){return oc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="installations",Hle="installations-internal",Gle=t=>{const e=t.getProvider("app").getImmediate(),n=qle(e),r=ro(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Kle=t=>{const e=t.getProvider("app").getImmediate(),n=ro(e,Q3).getImmediate();return{getId:()=>Ble(n),getToken:a=>$le(n,a)}};function Yle(){oi(new Ma(Q3,Gle,"PUBLIC")),oi(new Ma(Hle,Kle,"PRIVATE"))}Yle();Gr(P3,Qj);Gr(P3,Qj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="analytics",Wle="firebase_id",Xle="origin",Qle=60*1e3,Jle="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new C0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zle={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},da=new xc("analytics","Analytics",Zle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eoe(t){if(!t.startsWith(tE)){const e=da.create("invalid-gtag-resource",{gtagURL:t});return Or.warn(e.message),""}return t}function J3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function toe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function noe(t,e){const n=toe("firebase-js-sdk-policy",{createScriptURL:eoe}),r=document.createElement("script"),a=`${tE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function roe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function aoe(t,e,n,r,a,s){const c=r[a];try{if(c)await e[c];else{const f=(await J3(n)).find(h=>h.measurementId===a);f&&await e[f.appId]}}catch(d){Or.error(d)}t("config",a,s)}async function ioe(t,e,n,r,a){try{let s=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await J3(n);for(const f of c){const h=d.find(g=>g.measurementId===f),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,a||{})}catch(s){Or.error(s)}}function soe(t,e,n,r){async function a(s,...c){try{if(s==="event"){const[d,f]=c;await ioe(t,e,n,d,f)}else if(s==="config"){const[d,f]=c;await aoe(t,e,n,r,d,f)}else if(s==="consent"){const[d,f]=c;t("consent",d,f)}else if(s==="get"){const[d,f,h]=c;t("get",d,f,h)}else if(s==="set"){const[d]=c;t("set",d)}else t(s,...c)}catch(d){Or.error(d)}}return a}function loe(t,e,n,r,a){let s=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=soe(s,t,e,n),{gtagCore:s,wrappedGtag:window[a]}}function ooe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(tE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const coe=30,uoe=1e3;class doe{constructor(e={},n=uoe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Z3=new doe;function foe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hoe(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:foe(n)},a=Jle.replace("{app-id}",e),s=await fetch(a,r);if(s.status!==200&&s.status!==304){let d="";try{const f=await s.json();(c=f.error)!=null&&c.message&&(d=f.error.message)}catch{}throw da.create("config-fetch-failed",{httpStatus:s.status,responseMessage:d})}return s.json()}async function moe(t,e=Z3,n){const{appId:r,apiKey:a,measurementId:s}=t.options;if(!r)throw da.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:r};throw da.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new yoe;return setTimeout(async()=>{d.abort()},Qle),eL({appId:r,apiKey:a,measurementId:s},c,d,e)}async function eL(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=Z3){var d;const{appId:s,measurementId:c}=t;try{await poe(r,e)}catch(f){if(c)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:c};throw f}try{const f=await hoe(t);return a.deleteThrottleMetadata(s),f}catch(f){const h=f;if(!goe(h)){if(a.deleteThrottleMetadata(s),c)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:c};throw f}const p=Number((d=h==null?void 0:h.customData)==null?void 0:d.httpStatus)===503?QR(n,a.intervalMillis,coe):QR(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(s,g),Or.debug(`Calling attemptFetch again in ${p} millis`),eL(t,g,r,a)}}function poe(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),s=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(s),r(da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function goe(t){if(!(t instanceof Ua)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yoe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function voe(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const s=await e,c={...r,send_to:s};t("event",n,c)}}async function xoe(t,e,n,r){if(r&&r.global){const a={};for(const s of Object.keys(n))a[`user_properties.${s}`]=n[s];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function boe(){if(S3())try{await A3()}catch(t){return Or.warn(da.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Or.warn(da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function woe(t,e,n,r,a,s,c){const d=moe(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Or.error(x)),e.push(d);const f=boe().then(x=>{if(x)return r.getId()}),[h,p]=await Promise.all([d,f]);ooe(s)||noe(s,h.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[Xle]="firebase",g.update=!0,p!=null&&(g[Wle]=p),a("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(e){this.app=e}_delete(){return delete Su[this.app.options.appId],Promise.resolve()}}let Su={},oD=[];const cD={};let Xw="dataLayer",_oe="gtag",uD,nE,dD=!1;function joe(){const t=[];if(E3()&&t.push("This is a browser extension environment."),Fie()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=da.create("invalid-analytics-context",{errorInfo:e});Or.warn(n.message)}}function Eoe(t,e,n){joe();const r=t.options.appId;if(!r)throw da.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw da.create("no-api-key");if(Su[r]!=null)throw da.create("already-exists",{id:r});if(!dD){roe(Xw);const{wrappedGtag:s,gtagCore:c}=loe(Su,oD,cD,Xw,_oe);nE=s,uD=c,dD=!0}return Su[r]=woe(t,oD,cD,e,uD,Xw,n),new Noe(t)}function Soe(t=I0()){t=_n(t);const e=ro(t,hy);return e.isInitialized()?e.getImmediate():Aoe(t)}function Aoe(t,e={}){const n=ro(t,hy);if(n.isInitialized()){const a=n.getImmediate();if(Gl(e,n.getOptions()))return a;throw da.create("already-initialized")}return n.initialize({options:e})}function Toe(t,e,n){t=_n(t),xoe(nE,Su[t.app.options.appId],e,n).catch(r=>Or.error(r))}function Coe(t,e,n,r){t=_n(t),voe(nE,Su[t.app.options.appId],e,n,r).catch(a=>Or.error(a))}const fD="@firebase/analytics",hD="0.10.19";function Ioe(){oi(new Ma(hy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Eoe(r,a,n)},"PUBLIC")),oi(new Ma("analytics-internal",t,"PRIVATE")),Gr(fD,hD),Gr(fD,hD,"esm2020");function t(e){try{const n=e.getProvider(hy).getImmediate();return{logEvent:(r,a,s)=>Coe(n,r,a,s),setUserProperties:(r,a)=>Toe(n,r,a)}}catch(n){throw da.create("interop-component-reg-failed",{reason:n})}}}Ioe();var mD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bl,tL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,U){function $(){}$.prototype=U.prototype,D.F=U.prototype,D.prototype=new $,D.prototype.constructor=D,D.D=function(A,O,B){for(var z=Array(arguments.length-2),me=2;me<arguments.length;me++)z[me-2]=arguments[me];return U.prototype[O].apply(A,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,U,$){$||($=0);const A=Array(16);if(typeof U=="string")for(var O=0;O<16;++O)A[O]=U.charCodeAt($++)|U.charCodeAt($++)<<8|U.charCodeAt($++)<<16|U.charCodeAt($++)<<24;else for(O=0;O<16;++O)A[O]=U[$++]|U[$++]<<8|U[$++]<<16|U[$++]<<24;U=D.g[0],$=D.g[1],O=D.g[2];let B=D.g[3],z;z=U+(B^$&(O^B))+A[0]+3614090360&4294967295,U=$+(z<<7&4294967295|z>>>25),z=B+(O^U&($^O))+A[1]+3905402710&4294967295,B=U+(z<<12&4294967295|z>>>20),z=O+($^B&(U^$))+A[2]+606105819&4294967295,O=B+(z<<17&4294967295|z>>>15),z=$+(U^O&(B^U))+A[3]+3250441966&4294967295,$=O+(z<<22&4294967295|z>>>10),z=U+(B^$&(O^B))+A[4]+4118548399&4294967295,U=$+(z<<7&4294967295|z>>>25),z=B+(O^U&($^O))+A[5]+1200080426&4294967295,B=U+(z<<12&4294967295|z>>>20),z=O+($^B&(U^$))+A[6]+2821735955&4294967295,O=B+(z<<17&4294967295|z>>>15),z=$+(U^O&(B^U))+A[7]+4249261313&4294967295,$=O+(z<<22&4294967295|z>>>10),z=U+(B^$&(O^B))+A[8]+1770035416&4294967295,U=$+(z<<7&4294967295|z>>>25),z=B+(O^U&($^O))+A[9]+2336552879&4294967295,B=U+(z<<12&4294967295|z>>>20),z=O+($^B&(U^$))+A[10]+4294925233&4294967295,O=B+(z<<17&4294967295|z>>>15),z=$+(U^O&(B^U))+A[11]+2304563134&4294967295,$=O+(z<<22&4294967295|z>>>10),z=U+(B^$&(O^B))+A[12]+1804603682&4294967295,U=$+(z<<7&4294967295|z>>>25),z=B+(O^U&($^O))+A[13]+4254626195&4294967295,B=U+(z<<12&4294967295|z>>>20),z=O+($^B&(U^$))+A[14]+2792965006&4294967295,O=B+(z<<17&4294967295|z>>>15),z=$+(U^O&(B^U))+A[15]+1236535329&4294967295,$=O+(z<<22&4294967295|z>>>10),z=U+(O^B&($^O))+A[1]+4129170786&4294967295,U=$+(z<<5&4294967295|z>>>27),z=B+($^O&(U^$))+A[6]+3225465664&4294967295,B=U+(z<<9&4294967295|z>>>23),z=O+(U^$&(B^U))+A[11]+643717713&4294967295,O=B+(z<<14&4294967295|z>>>18),z=$+(B^U&(O^B))+A[0]+3921069994&4294967295,$=O+(z<<20&4294967295|z>>>12),z=U+(O^B&($^O))+A[5]+3593408605&4294967295,U=$+(z<<5&4294967295|z>>>27),z=B+($^O&(U^$))+A[10]+38016083&4294967295,B=U+(z<<9&4294967295|z>>>23),z=O+(U^$&(B^U))+A[15]+3634488961&4294967295,O=B+(z<<14&4294967295|z>>>18),z=$+(B^U&(O^B))+A[4]+3889429448&4294967295,$=O+(z<<20&4294967295|z>>>12),z=U+(O^B&($^O))+A[9]+568446438&4294967295,U=$+(z<<5&4294967295|z>>>27),z=B+($^O&(U^$))+A[14]+3275163606&4294967295,B=U+(z<<9&4294967295|z>>>23),z=O+(U^$&(B^U))+A[3]+4107603335&4294967295,O=B+(z<<14&4294967295|z>>>18),z=$+(B^U&(O^B))+A[8]+1163531501&4294967295,$=O+(z<<20&4294967295|z>>>12),z=U+(O^B&($^O))+A[13]+2850285829&4294967295,U=$+(z<<5&4294967295|z>>>27),z=B+($^O&(U^$))+A[2]+4243563512&4294967295,B=U+(z<<9&4294967295|z>>>23),z=O+(U^$&(B^U))+A[7]+1735328473&4294967295,O=B+(z<<14&4294967295|z>>>18),z=$+(B^U&(O^B))+A[12]+2368359562&4294967295,$=O+(z<<20&4294967295|z>>>12),z=U+($^O^B)+A[5]+4294588738&4294967295,U=$+(z<<4&4294967295|z>>>28),z=B+(U^$^O)+A[8]+2272392833&4294967295,B=U+(z<<11&4294967295|z>>>21),z=O+(B^U^$)+A[11]+1839030562&4294967295,O=B+(z<<16&4294967295|z>>>16),z=$+(O^B^U)+A[14]+4259657740&4294967295,$=O+(z<<23&4294967295|z>>>9),z=U+($^O^B)+A[1]+2763975236&4294967295,U=$+(z<<4&4294967295|z>>>28),z=B+(U^$^O)+A[4]+1272893353&4294967295,B=U+(z<<11&4294967295|z>>>21),z=O+(B^U^$)+A[7]+4139469664&4294967295,O=B+(z<<16&4294967295|z>>>16),z=$+(O^B^U)+A[10]+3200236656&4294967295,$=O+(z<<23&4294967295|z>>>9),z=U+($^O^B)+A[13]+681279174&4294967295,U=$+(z<<4&4294967295|z>>>28),z=B+(U^$^O)+A[0]+3936430074&4294967295,B=U+(z<<11&4294967295|z>>>21),z=O+(B^U^$)+A[3]+3572445317&4294967295,O=B+(z<<16&4294967295|z>>>16),z=$+(O^B^U)+A[6]+76029189&4294967295,$=O+(z<<23&4294967295|z>>>9),z=U+($^O^B)+A[9]+3654602809&4294967295,U=$+(z<<4&4294967295|z>>>28),z=B+(U^$^O)+A[12]+3873151461&4294967295,B=U+(z<<11&4294967295|z>>>21),z=O+(B^U^$)+A[15]+530742520&4294967295,O=B+(z<<16&4294967295|z>>>16),z=$+(O^B^U)+A[2]+3299628645&4294967295,$=O+(z<<23&4294967295|z>>>9),z=U+(O^($|~B))+A[0]+4096336452&4294967295,U=$+(z<<6&4294967295|z>>>26),z=B+($^(U|~O))+A[7]+1126891415&4294967295,B=U+(z<<10&4294967295|z>>>22),z=O+(U^(B|~$))+A[14]+2878612391&4294967295,O=B+(z<<15&4294967295|z>>>17),z=$+(B^(O|~U))+A[5]+4237533241&4294967295,$=O+(z<<21&4294967295|z>>>11),z=U+(O^($|~B))+A[12]+1700485571&4294967295,U=$+(z<<6&4294967295|z>>>26),z=B+($^(U|~O))+A[3]+2399980690&4294967295,B=U+(z<<10&4294967295|z>>>22),z=O+(U^(B|~$))+A[10]+4293915773&4294967295,O=B+(z<<15&4294967295|z>>>17),z=$+(B^(O|~U))+A[1]+2240044497&4294967295,$=O+(z<<21&4294967295|z>>>11),z=U+(O^($|~B))+A[8]+1873313359&4294967295,U=$+(z<<6&4294967295|z>>>26),z=B+($^(U|~O))+A[15]+4264355552&4294967295,B=U+(z<<10&4294967295|z>>>22),z=O+(U^(B|~$))+A[6]+2734768916&4294967295,O=B+(z<<15&4294967295|z>>>17),z=$+(B^(O|~U))+A[13]+1309151649&4294967295,$=O+(z<<21&4294967295|z>>>11),z=U+(O^($|~B))+A[4]+4149444226&4294967295,U=$+(z<<6&4294967295|z>>>26),z=B+($^(U|~O))+A[11]+3174756917&4294967295,B=U+(z<<10&4294967295|z>>>22),z=O+(U^(B|~$))+A[2]+718787259&4294967295,O=B+(z<<15&4294967295|z>>>17),z=$+(B^(O|~U))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+U&4294967295,D.g[1]=D.g[1]+(O+(z<<21&4294967295|z>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.v=function(D,U){U===void 0&&(U=D.length);const $=U-this.blockSize,A=this.C;let O=this.h,B=0;for(;B<U;){if(O==0)for(;B<=$;)a(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<U;)if(A[O++]=D.charCodeAt(B++),O==this.blockSize){a(this,A),O=0;break}}else for(;B<U;)if(A[O++]=D[B++],O==this.blockSize){a(this,A),O=0;break}}this.h=O,this.o+=U},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var U=1;U<D.length-8;++U)D[U]=0;U=this.o*8;for(var $=D.length-8;$<D.length;++$)D[$]=U&255,U/=256;for(this.v(D),D=Array(16),U=0,$=0;$<4;++$)for(let A=0;A<32;A+=8)D[U++]=this.g[$]>>>A&255;return D};function s(D,U){var $=d;return Object.prototype.hasOwnProperty.call($,D)?$[D]:$[D]=U(D)}function c(D,U){this.h=U;const $=[];let A=!0;for(let O=D.length-1;O>=0;O--){const B=D[O]|0;A&&B==U||($[O]=B,A=!1)}this.g=$}var d={};function f(D){return-128<=D&&D<128?s(D,function(U){return new c([U|0],U<0?-1:0)}):new c([D|0],D<0?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(D<0)return j(h(-D));const U=[];let $=1;for(let A=0;D>=$;A++)U[A]=D/$|0,$*=4294967296;return new c(U,0)}function p(D,U){if(D.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(D.charAt(0)=="-")return j(p(D.substring(1),U));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const $=h(Math.pow(U,8));let A=g;for(let B=0;B<D.length;B+=8){var O=Math.min(8,D.length-B);const z=parseInt(D.substring(B,B+O),U);O<8?(O=h(Math.pow(U,O)),A=A.j(O).add(h(z))):(A=A.j($),A=A.add(h(z)))}return A}var g=f(0),x=f(1),N=f(16777216);t=c.prototype,t.m=function(){if(_(this))return-j(this).m();let D=0,U=1;for(let $=0;$<this.g.length;$++){const A=this.i($);D+=(A>=0?A:4294967296+A)*U,U*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(_(this))return"-"+j(this).toString(D);const U=h(Math.pow(D,6));var $=this;let A="";for(;;){const O=T($,U).g;$=C($,O.j(U));let B=(($.g.length>0?$.g[0]:$.h)>>>0).toString(D);if($=O,E($))return B+A;for(;B.length<6;)B="0"+B;A=B+A}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(let U=0;U<D.g.length;U++)if(D.g[U]!=0)return!1;return!0}function _(D){return D.h==-1}t.l=function(D){return D=C(this,D),_(D)?-1:E(D)?0:1};function j(D){const U=D.g.length,$=[];for(let A=0;A<U;A++)$[A]=~D.g[A];return new c($,~D.h).add(x)}t.abs=function(){return _(this)?j(this):this},t.add=function(D){const U=Math.max(this.g.length,D.g.length),$=[];let A=0;for(let O=0;O<=U;O++){let B=A+(this.i(O)&65535)+(D.i(O)&65535),z=(B>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);A=z>>>16,B&=65535,z&=65535,$[O]=z<<16|B}return new c($,$[$.length-1]&-2147483648?-1:0)};function C(D,U){return D.add(j(U))}t.j=function(D){if(E(this)||E(D))return g;if(_(this))return _(D)?j(this).j(j(D)):j(j(this).j(D));if(_(D))return j(this.j(j(D)));if(this.l(N)<0&&D.l(N)<0)return h(this.m()*D.m());const U=this.g.length+D.g.length,$=[];for(var A=0;A<2*U;A++)$[A]=0;for(A=0;A<this.g.length;A++)for(let O=0;O<D.g.length;O++){const B=this.i(A)>>>16,z=this.i(A)&65535,me=D.i(O)>>>16,ie=D.i(O)&65535;$[2*A+2*O]+=z*ie,M($,2*A+2*O),$[2*A+2*O+1]+=B*ie,M($,2*A+2*O+1),$[2*A+2*O+1]+=z*me,M($,2*A+2*O+1),$[2*A+2*O+2]+=B*me,M($,2*A+2*O+2)}for(D=0;D<U;D++)$[D]=$[2*D+1]<<16|$[2*D];for(D=U;D<2*U;D++)$[D]=0;return new c($,0)};function M(D,U){for(;(D[U]&65535)!=D[U];)D[U+1]+=D[U]>>>16,D[U]&=65535,U++}function k(D,U){this.g=D,this.h=U}function T(D,U){if(E(U))throw Error("division by zero");if(E(D))return new k(g,g);if(_(D))return U=T(j(D),U),new k(j(U.g),j(U.h));if(_(U))return U=T(D,j(U)),new k(j(U.g),U.h);if(D.g.length>30){if(_(D)||_(U))throw Error("slowDivide_ only works with positive integers.");for(var $=x,A=U;A.l(D)<=0;)$=R($),A=R(A);var O=L($,1),B=L(A,1);for(A=L(A,2),$=L($,2);!E(A);){var z=B.add(A);z.l(D)<=0&&(O=O.add($),B=z),A=L(A,1),$=L($,1)}return U=C(D,O.j(U)),new k(O,U)}for(O=g;D.l(U)>=0;){for($=Math.max(1,Math.floor(D.m()/U.m())),A=Math.ceil(Math.log($)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),B=h($),z=B.j(U);_(z)||z.l(D)>0;)$-=A,B=h($),z=B.j(U);E(B)&&(B=x),O=O.add(B),D=C(D,z)}return new k(O,D)}t.B=function(D){return T(this,D).h},t.and=function(D){const U=Math.max(this.g.length,D.g.length),$=[];for(let A=0;A<U;A++)$[A]=this.i(A)&D.i(A);return new c($,this.h&D.h)},t.or=function(D){const U=Math.max(this.g.length,D.g.length),$=[];for(let A=0;A<U;A++)$[A]=this.i(A)|D.i(A);return new c($,this.h|D.h)},t.xor=function(D){const U=Math.max(this.g.length,D.g.length),$=[];for(let A=0;A<U;A++)$[A]=this.i(A)^D.i(A);return new c($,this.h^D.h)};function R(D){const U=D.g.length+1,$=[];for(let A=0;A<U;A++)$[A]=D.i(A)<<1|D.i(A-1)>>>31;return new c($,D.h)}function L(D,U){const $=U>>5;U%=32;const A=D.g.length-$,O=[];for(let B=0;B<A;B++)O[B]=U>0?D.i(B+$)>>>U|D.i(B+$+1)<<32-U:D.i(B+$);return new c(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tL=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,Bl=c}).apply(typeof mD<"u"?mD:typeof self<"u"?self:typeof window<"u"?window:{});var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nL,Tf,rL,ig,xN,aL,iL,sL;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var S=0;S<y.length;++S){var P=y[S];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var P=r;y=y.split(".");for(var q=0;q<y.length-1;q++){var ne=y[q];if(!(ne in P))break e;P=P[ne]}y=y[y.length-1],q=P[y],S=S(q),S!=q&&S!=null&&e(P,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var P=[],q;for(q in S)Object.prototype.hasOwnProperty.call(S,q)&&P.push([q,S[q]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function f(y,S,P){return y.call.apply(y.bind,arguments)}function h(y,S,P){return h=f,h.apply(null,arguments)}function p(y,S){var P=Array.prototype.slice.call(arguments,1);return function(){var q=P.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,S){function P(){}P.prototype=S.prototype,y.Z=S.prototype,y.prototype=new P,y.prototype.constructor=y,y.Ob=function(q,ne,ue){for(var Ae=Array(arguments.length-2),it=2;it<arguments.length;it++)Ae[it-2]=arguments[it];return S.prototype[ne].apply(q,Ae)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function N(y){const S=y.length;if(S>0){const P=Array(S);for(let q=0;q<S;q++)P[q]=y[q];return P}return[]}function E(y,S){for(let q=1;q<arguments.length;q++){const ne=arguments[q];var P=typeof ne;if(P=P!="object"?P:ne?Array.isArray(ne)?"array":P:"null",P=="array"||P=="object"&&typeof ne.length=="number"){P=y.length||0;const ue=ne.length||0;y.length=P+ue;for(let Ae=0;Ae<ue;Ae++)y[P+Ae]=ne[Ae]}else y.push(ne)}}class _{constructor(S,P){this.i=S,this.j=P,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function j(y){c.setTimeout(()=>{throw y},0)}function C(){var y=D;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class M{constructor(){this.h=this.g=null}add(S,P){const q=k.get();q.set(S,P),this.h?this.h.next=q:this.g=q,this.h=q}}var k=new _(()=>new T,y=>y.reset());class T{constructor(){this.next=this.g=this.h=null}set(S,P){this.h=S,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let R,L=!1,D=new M,U=()=>{const y=Promise.resolve(void 0);R=()=>{y.then($)}};function $(){for(var y;y=C();){try{y.h.call(y.g)}catch(P){j(P)}var S=k;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}L=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const P=()=>{};c.addEventListener("test",P,S),c.removeEventListener("test",P,S)}catch{}return y})();function z(y){return/^[\s\xa0]*$/.test(y)}function me(y,S){O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(me,O),me.prototype.init=function(y,S){const P=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(P=="mouseover"?S=y.fromElement:P=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function re(y,S,P,q,ne){this.listener=y,this.proxy=null,this.src=S,this.type=P,this.capture=!!q,this.ha=ne,this.key=++G,this.da=this.fa=!1}function W(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ve(y,S,P){for(const q in y)S.call(P,y[q],q,y)}function Q(y,S){for(const P in y)S.call(void 0,y[P],P,y)}function V(y){const S={};for(const P in y)S[P]=y[P];return S}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(y,S){let P,q;for(let ne=1;ne<arguments.length;ne++){q=arguments[ne];for(P in q)y[P]=q[P];for(let ue=0;ue<Y.length;ue++)P=Y[ue],Object.prototype.hasOwnProperty.call(q,P)&&(y[P]=q[P])}}function J(y){this.src=y,this.g={},this.h=0}J.prototype.add=function(y,S,P,q,ne){const ue=y.toString();y=this.g[ue],y||(y=this.g[ue]=[],this.h++);const Ae=Ee(y,S,q,ne);return Ae>-1?(S=y[Ae],P||(S.fa=!1)):(S=new re(S,this.src,ue,!!q,ne),S.fa=P,y.push(S)),S};function fe(y,S){const P=S.type;if(P in y.g){var q=y.g[P],ne=Array.prototype.indexOf.call(q,S,void 0),ue;(ue=ne>=0)&&Array.prototype.splice.call(q,ne,1),ue&&(W(S),y.g[P].length==0&&(delete y.g[P],y.h--))}}function Ee(y,S,P,q){for(let ne=0;ne<y.length;++ne){const ue=y[ne];if(!ue.da&&ue.listener==S&&ue.capture==!!P&&ue.ha==q)return ne}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),qe={};function ce(y,S,P,q,ne){if(Array.isArray(S)){for(let ue=0;ue<S.length;ue++)ce(y,S[ue],P,q,ne);return null}return P=ye(P),y&&y[ie]?y.J(S,P,d(q)?!!q.capture:!1,ne):ze(y,S,P,!1,q,ne)}function ze(y,S,P,q,ne,ue){if(!S)throw Error("Invalid event type");const Ae=d(ne)?!!ne.capture:!!ne;let it=je(y);if(it||(y[Te]=it=new J(y)),P=it.add(S,P,q,Ae,ue),P.proxy)return P;if(q=ee(),P.proxy=q,q.src=y,q.listener=P,y.addEventListener)B||(ne=Ae),ne===void 0&&(ne=!1),y.addEventListener(S.toString(),q,ne);else if(y.attachEvent)y.attachEvent(Ke(S.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return P}function ee(){function y(P){return S.call(y.src,y.listener,P)}const S=Ot;return y}function he(y,S,P,q,ne){if(Array.isArray(S))for(var ue=0;ue<S.length;ue++)he(y,S[ue],P,q,ne);else q=d(q)?!!q.capture:!!q,P=ye(P),y&&y[ie]?(y=y.i,ue=String(S).toString(),ue in y.g&&(S=y.g[ue],P=Ee(S,P,q,ne),P>-1&&(W(S[P]),Array.prototype.splice.call(S,P,1),S.length==0&&(delete y.g[ue],y.h--)))):y&&(y=je(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Ee(S,P,q,ne)),(P=y>-1?S[y]:null)&&at(P))}function at(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[ie])fe(S.i,y);else{var P=y.type,q=y.proxy;S.removeEventListener?S.removeEventListener(P,q,y.capture):S.detachEvent?S.detachEvent(Ke(P),q):S.addListener&&S.removeListener&&S.removeListener(q),(P=je(S))?(fe(P,y),P.h==0&&(P.src=null,S[Te]=null)):W(y)}}}function Ke(y){return y in qe?qe[y]:qe[y]="on"+y}function Ot(y,S){if(y.da)y=!0;else{S=new me(S,this);const P=y.listener,q=y.ha||y.src;y.fa&&at(y),y=P.call(q,S)}return y}function je(y){return y=y[Te],y instanceof J?y:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ye(y){return typeof y=="function"?y:(y[yt]||(y[yt]=function(S){return y.handleEvent(S)}),y[yt])}function Qe(){A.call(this),this.i=new J(this),this.M=this,this.G=null}g(Qe,A),Qe.prototype[ie]=!0,Qe.prototype.removeEventListener=function(y,S,P,q){he(this,y,S,P,q)};function We(y,S){var P,q=y.G;if(q)for(P=[];q;q=q.G)P.push(q);if(y=y.M,q=S.type||S,typeof S=="string")S=new O(S,y);else if(S instanceof O)S.target=S.target||y;else{var ne=S;S=new O(q,y),H(S,ne)}ne=!0;let ue,Ae;if(P)for(Ae=P.length-1;Ae>=0;Ae--)ue=S.g=P[Ae],ne=Rt(ue,q,!0,S)&&ne;if(ue=S.g=y,ne=Rt(ue,q,!0,S)&&ne,ne=Rt(ue,q,!1,S)&&ne,P)for(Ae=0;Ae<P.length;Ae++)ue=S.g=P[Ae],ne=Rt(ue,q,!1,S)&&ne}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const P=y.g[S];for(let q=0;q<P.length;q++)W(P[q]);delete y.g[S],y.h--}}this.G=null},Qe.prototype.J=function(y,S,P,q){return this.i.add(String(y),S,!1,P,q)},Qe.prototype.K=function(y,S,P,q){return this.i.add(String(y),S,!0,P,q)};function Rt(y,S,P,q){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let ne=!0;for(let ue=0;ue<S.length;++ue){const Ae=S[ue];if(Ae&&!Ae.da&&Ae.capture==P){const it=Ae.listener,gn=Ae.ha||Ae.src;Ae.fa&&fe(y.i,Ae),ne=it.call(gn,q)!==!1&&ne}}return ne&&!q.defaultPrevented}function hi(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function te(y){y.g=hi(()=>{y.g=null,y.i&&(y.i=!1,te(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class De extends A{constructor(S,P){super(),this.m=S,this.l=P,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:te(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(y){A.call(this),this.h=y,this.g={}}g(Ye,A);var Le=[];function Ht(y){ve(y.g,function(S,P){this.g.hasOwnProperty(P)&&at(S)},y),y.g={}}Ye.prototype.N=function(){Ye.Z.N.call(this),Ht(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=c.JSON.stringify,mi=c.JSON.parse,Va=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Wh(){}function Xh(){}var za={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ir(){O.call(this,"d")}g(ir,O);function ma(){O.call(this,"c")}g(ma,O);var pn={},Qh=null;function _c(){return Qh=Qh||new Qe}pn.Ia="serverreachability";function Jh(y){O.call(this,pn.Ia,y)}g(Jh,O);function pi(y){const S=_c();We(S,new Jh(S))}pn.STAT_EVENT="statevent";function co(y,S){O.call(this,pn.STAT_EVENT,y),this.stat=S}g(co,O);function jn(y){const S=_c();We(S,new co(S,y))}pn.Ja="timingevent";function gi(y,S){O.call(this,pn.Ja,y),this.size=S}g(gi,O);function yi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function Ba(){this.g=!0}Ba.prototype.ua=function(){this.g=!1};function rv(y,S,P,q,ne,ue){y.info(function(){if(y.g)if(ue){var Ae="",it=ue.split("&");for(let _t=0;_t<it.length;_t++){var gn=it[_t].split("=");if(gn.length>1){const Jt=gn[0];gn=gn[1];const va=Jt.split("_");Ae=va.length>=2&&va[1]=="type"?Ae+(Jt+"="+gn+"&"):Ae+(Jt+"=redacted&")}}}else Ae=null;else Ae=ue;return"XMLHTTP REQ ("+q+") [attempt "+ne+"]: "+S+`
`+P+`
`+Ae})}function Zh(y,S,P,q,ne,ue,Ae){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ne+"]: "+S+`
`+P+`
`+ue+" "+Ae})}function vi(y,S,P,q){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+av(y,P)+(q?" "+q:"")})}function uo(y,S){y.info(function(){return"TIMEOUT: "+S})}Ba.prototype.info=function(){};function av(y,S){if(!y.g)return S;if(!S)return null;try{const ue=JSON.parse(S);if(ue){for(y=0;y<ue.length;y++)if(Array.isArray(ue[y])){var P=ue[y];if(!(P.length<2)){var q=P[1];if(Array.isArray(q)&&!(q.length<1)){var ne=q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Ae=1;Ae<q.length;Ae++)q[Ae]=""}}}}return zt(ue)}catch{return S}}var fo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},md={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pd;function ho(){}g(ho,Wh),ho.prototype.g=function(){return new XMLHttpRequest},pd=new ho;function ns(y){return encodeURIComponent(String(y))}function em(y){var S=1;y=y.split(":");const P=[];for(;S>0&&y.length;)P.push(y.shift()),S--;return y.length&&P.push(y.join(":")),P}function $a(y,S,P,q){this.j=y,this.i=S,this.l=P,this.S=q||1,this.V=new Ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}var En={},Wn={};function xi(y,S,P){y.M=1,y.A=mo(An(S)),y.u=P,y.R=!0,jc(y,null)}function jc(y,S){y.F=Date.now(),bi(y),y.B=An(y.A);var P=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Tc(P.i,"t",q),y.C=0,P=y.j.L,y.h=new Fa,y.g=pm(y.j,P?S:null,!y.u),y.P>0&&(y.O=new De(h(y.Y,y,y.g),y.P)),S=y.V,P=y.g,q=y.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(Le[0]=ne.toString()),ne=Le);for(let ue=0;ue<ne.length;ue++){const Ae=ce(P,ne[ue],q||S.handleEvent,!1,S.h||S);if(!Ae)break;S.g[Ae.key]=Ae}S=y.J?V(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),pi(),rv(y.i,y.v,y.B,y.l,y.S,y.u)}$a.prototype.ba=function(y){y=y.target;const S=this.O;S&&Ga(y)==3?S.j():this.Y(y)},$a.prototype.Y=function(y){try{if(y==this.g)e:{const it=Ga(this.g),gn=this.g.ya(),_t=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||sr(this.g)))){this.K||it!=4||gn==7||(gn==8||_t<=0?pi(3):pi(2)),wi(this);var S=this.g.ca();this.X=S;var P=iv(this);if(this.o=S==200,Zh(this.i,this.v,this.B,this.l,this.S,it,S),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ne=this.g;if((q=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(q)){var ue=q;break t}}ue=null}if(y=ue)vi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,y);else{this.o=!1,this.m=3,jn(12),Xr(this),pa(this);break e}}if(this.R){y=!0;let Jt;for(;!this.K&&this.C<P.length;)if(Jt=nm(this,P),Jt==Wn){it==4&&(this.m=4,jn(14),y=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==En){this.m=4,jn(15),vi(this.i,this.l,P,"[Invalid Chunk]"),y=!1;break}else vi(this.i,this.l,Jt,null),Ni(this,Jt);if(tm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||P.length!=0||this.h.h||(this.m=1,jn(16),y=!1),this.o=this.o&&y,!y)vi(this.i,this.l,P,"[Invalid Chunked Response]"),Xr(this),pa(this);else if(P.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Id(Ae),Ae.P=!0,jn(11))}}else vi(this.i,this.l,P,null),Ni(this,P);it==4&&Xr(this),this.o&&!this.K&&(it==4?dm(this.j,this):(this.o=!1,bi(this)))}else as(this.g),S==400&&P.indexOf("Unknown SID")>0?(this.m=3,jn(12)):(this.m=0,jn(13)),Xr(this),pa(this)}}}catch{}finally{}};function iv(y){if(!tm(y))return y.g.la();const S=sr(y.g);if(S==="")return"";let P="";const q=S.length,ne=Ga(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Xr(y),pa(y),"";y.h.i=new c.TextDecoder}for(let ue=0;ue<q;ue++)y.h.h=!0,P+=y.h.i.decode(S[ue],{stream:!(ne&&ue==q-1)});return S.length=0,y.h.g+=P,y.C=0,y.h.g}function tm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function nm(y,S){var P=y.C,q=S.indexOf(`
`,P);return q==-1?Wn:(P=Number(S.substring(P,q)),isNaN(P)?En:(q+=1,q+P>S.length?Wn:(S=S.slice(q,q+P),y.C=q+P,S)))}$a.prototype.cancel=function(){this.K=!0,Xr(this)};function bi(y){y.T=Date.now()+y.H,Ec(y,y.H)}function Ec(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=yi(h(y.aa,y),S)}function wi(y){y.D&&(c.clearTimeout(y.D),y.D=null)}$a.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(uo(this.i,this.B),this.M!=2&&(pi(),jn(17)),Xr(this),this.m=2,pa(this)):Ec(this,this.T-y)};function pa(y){y.j.I==0||y.K||dm(y.j,y)}function Xr(y){wi(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,Ht(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function Ni(y,S){try{var P=y.j;if(P.I!=0&&(P.g==y||ji(P.h,y))){if(!y.L&&ji(P.h,y)&&P.I==3){try{var q=P.Ba.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ne=q;if(ne[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<y.F)Dc(P),il(P);else break e;wo(P),jn(18)}}else P.xa=ne[1],0<P.xa-P.K&&ne[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=yi(h(P.Va,P),6e3));_i(P.h)<=1&&P.ta&&(P.ta=void 0)}else Ii(P,11)}else if((y.L||P.g==y)&&Dc(P),!z(S))for(ne=P.Ba.g.parse(S),S=0;S<ne.length;S++){let _t=ne[S];const Jt=_t[0];if(!(Jt<=P.K))if(P.K=Jt,_t=_t[1],P.I==2)if(_t[0]=="c"){P.M=_t[1],P.ba=_t[2];const va=_t[3];va!=null&&(P.ka=va,P.j.info("VER="+P.ka));const Oi=_t[4];Oi!=null&&(P.za=Oi,P.j.info("SVER="+P.za));const Ka=_t[5];Ka!=null&&typeof Ka=="number"&&Ka>0&&(q=1.5*Ka,P.O=q,P.j.info("backChannelRequestTimeoutMs_="+q)),q=P;const Ya=y.g;if(Ya){const No=Ya.g?Ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var ue=q.h;ue.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(vd(ue,ue.h),ue.h=null))}if(q.G){const Pc=Ya.g?Ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Pc&&(q.wa=Pc,At(q.J,q.G,Pc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-y.F,P.j.info("Handshake RTT: "+P.T+"ms")),q=P;var Ae=y;if(q.na=mm(q,q.L?q.ba:null,q.W),Ae.L){xd(q.h,Ae);var it=Ae,gn=q.O;gn&&(it.H=gn),it.D&&(wi(it),bi(it)),q.g=Ae}else cm(q);P.i.length>0&&Ci(P)}else _t[0]!="stop"&&_t[0]!="close"||Ii(P,7);else P.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Ii(P,7):Td(P):_t[0]!="noop"&&P.l&&P.l.qa(_t),P.A=0)}}pi(4)}catch{}}var Sn=class{constructor(y,S){this.g=y,this.map=S}};function gd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function _i(y){return y.h?1:y.g?y.g.size:0}function ji(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function vd(y,S){y.g?y.g.add(S):y.h=S}function xd(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}gd.prototype.cancel=function(){if(this.i=bd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function bd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const P of y.g.values())S=S.concat(P.G);return S}return N(y.i)}var rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(y,S){if(y){y=y.split("&");for(let P=0;P<y.length;P++){const q=y[P].indexOf("=");let ne,ue=null;q>=0?(ne=y[P].substring(0,q),ue=y[P].substring(q+1)):ne=y[P],S(ne,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Qr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof Qr?(this.l=y.l,Xn(this,y.j),this.o=y.o,this.g=y.g,Js(this,y.u),this.h=y.h,wd(this,lm(y.i)),this.m=y.m):y&&(S=String(y).match(rm))?(this.l=!1,Xn(this,S[1]||"",!0),this.o=Ei(S[2]||""),this.g=Ei(S[3]||"",!0),Js(this,S[4]),this.h=Ei(S[5]||"",!0),wd(this,S[6]||"",!0),this.m=Ei(S[7]||"")):(this.l=!1,this.i=new el(null,this.l))}Qr.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(po(S,Ac,!0),":");var P=this.g;return(P||S=="file")&&(y.push("//"),(S=this.o)&&y.push(po(S,Ac,!0),"@"),y.push(ns(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&y.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&y.push("/"),y.push(po(P,P.charAt(0)=="/"?Nd:am,!0))),(P=this.i.toString())&&y.push("?",P),(P=this.m)&&y.push("#",po(P,im)),y.join("")},Qr.prototype.resolve=function(y){const S=An(this);let P=!!y.j;P?Xn(S,y.j):P=!!y.o,P?S.o=y.o:P=!!y.g,P?S.g=y.g:P=y.u!=null;var q=y.h;if(P)Js(S,y.u);else if(P=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ne=S.h.lastIndexOf("/");ne!=-1&&(q=S.h.slice(0,ne+1)+q)}if(ne=q,ne==".."||ne==".")q="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){q=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const ue=[];for(let Ae=0;Ae<ne.length;){const it=ne[Ae++];it=="."?q&&Ae==ne.length&&ue.push(""):it==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),q&&Ae==ne.length&&ue.push("")):(ue.push(it),q=!0)}q=ue.join("/")}else q=ne}return P?S.h=q:P=y.i.toString()!=="",P?wd(S,lm(y.i)):P=!!y.m,P&&(S.m=y.m),S};function An(y){return new Qr(y)}function Xn(y,S,P){y.j=P?Ei(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function Js(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function wd(y,S,P){S instanceof el?(y.i=S,Cc(y.i,y.l)):(P||(S=po(S,Zs)),y.i=new el(S,y.l))}function At(y,S,P){y.i.set(S,P)}function mo(y){return At(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ei(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function po(y,S,P){return typeof y=="string"?(y=encodeURI(y).replace(S,Pr),P&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Pr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ac=/[#\/\?@]/g,am=/[#\?:]/g,Nd=/[#\?]/g,Zs=/[#\?@]/g,im=/#/g;function el(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function kr(y){y.g||(y.g=new Map,y.h=0,y.i&&Sc(y.i,function(S,P){y.add(decodeURIComponent(S.replace(/\+/g," ")),P)}))}t=el.prototype,t.add=function(y,S){kr(this),this.i=null,y=tl(this,y);let P=this.g.get(y);return P||this.g.set(y,P=[]),P.push(S),this.h+=1,this};function sm(y,S){kr(y),S=tl(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function _d(y,S){return kr(y),S=tl(y,S),y.g.has(S)}t.forEach=function(y,S){kr(this),this.g.forEach(function(P,q){P.forEach(function(ne){y.call(S,ne,q,this)},this)},this)};function jd(y,S){kr(y);let P=[];if(typeof S=="string")_d(y,S)&&(P=P.concat(y.g.get(tl(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)P=P.concat(y[S]);return P}t.set=function(y,S){return kr(this),this.i=null,y=tl(this,y),_d(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=jd(this,y),y.length>0?String(y[0]):S):S};function Tc(y,S,P){sm(y,S),P.length>0&&(y.i=null,y.g.set(tl(y,S),N(P)),y.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let q=0;q<S.length;q++){var P=S[q];const ne=ns(P);P=jd(this,P);for(let ue=0;ue<P.length;ue++){let Ae=ne;P[ue]!==""&&(Ae+="="+ns(P[ue])),y.push(Ae)}}return this.i=y.join("&")};function lm(y){const S=new el;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function tl(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Cc(y,S){S&&!y.j&&(kr(y),y.i=null,y.g.forEach(function(P,q){const ne=q.toLowerCase();q!=ne&&(sm(this,q),Tc(this,ne,P))},y)),y.j=S}function qa(y,S){const P=new Ba;if(c.Image){const q=new Image;q.onload=p(ga,P,"TestLoadImage: loaded",!0,S,q),q.onerror=p(ga,P,"TestLoadImage: error",!1,S,q),q.onabort=p(ga,P,"TestLoadImage: abort",!1,S,q),q.ontimeout=p(ga,P,"TestLoadImage: timeout",!1,S,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else S(!1)}function Ed(y,S){const P=new Ba,q=new AbortController,ne=setTimeout(()=>{q.abort(),ga(P,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:q.signal}).then(ue=>{clearTimeout(ne),ue.ok?ga(P,"TestPingServer: ok",!0,S):ga(P,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ne),ga(P,"TestPingServer: error",!1,S)})}function ga(y,S,P,q,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),q(P)}catch{}}function nl(){this.g=new Va}function Si(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Si,Wh),Si.prototype.g=function(){return new go(this.i,this.h)};function go(y,S){Qe.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(go,Qe),t=go.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ha(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ic(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ic(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?rl(this):Ha(this),this.readyState==3&&Ic(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,rl(this))},t.Na=function(y){this.g&&(this.response=y,rl(this))},t.ga=function(){this.g&&rl(this)};function rl(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ha(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var P=S.next();!P.done;)P=P.value,y.push(P[0]+": "+P[1]),P=S.next();return y.join(`\r
`)};function Ha(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(go.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ya(y){let S="";return ve(y,function(P,q){S+=q,S+=":",S+=P,S+=`\r
`}),S}function yo(y,S,P){e:{for(q in P){var q=!1;break e}q=!0}q||(P=ya(P),typeof y=="string"?P!=null&&ns(P):At(y,S,P))}function Dt(y){Qe.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Dt,Qe);var Ai=/^https?$/i,Sd=["POST","PUT"];t=Dt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,P,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pd.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(ue){vo(this,ue);return}if(y=P||"",P=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ne in q)P.set(ne,q[ne]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const ue of q.keys())P.set(ue,q.get(ue));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(P.keys()).find(ue=>ue.toLowerCase()=="content-type"),ne=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Sd,S,void 0)>=0)||q||ne||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ae]of P)this.g.setRequestHeader(ue,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(ue){vo(this,ue)}};function vo(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Ad(y),rs(y)}function Ad(y){y.A||(y.A=!0,We(y,"complete"),We(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,We(this,"complete"),We(this,"abort"),rs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xo(this):this.Xa())},t.Xa=function(){xo(this)};function xo(y){if(y.h&&typeof s<"u"){if(y.v&&Ga(y)==4)setTimeout(y.Ca.bind(y),0);else if(We(y,"readystatechange"),Ga(y)==4){y.h=!1;try{const ue=y.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var P;if(!(P=S)){var q;if(q=ue===0){let Ae=String(y.D).match(rm)[1]||null;!Ae&&c.self&&c.self.location&&(Ae=c.self.location.protocol.slice(0,-1)),q=!Ai.test(Ae?Ae.toLowerCase():"")}P=q}if(P)We(y,"complete"),We(y,"success");else{y.o=6;try{var ne=Ga(y)>2?y.g.statusText:""}catch{ne=""}y.l=ne+" ["+y.ca()+"]",Ad(y)}}finally{rs(y)}}}}function rs(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const P=y.g;y.g=null,S||We(y,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ga(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ga(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),mi(S)}};function sr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function as(y){const S={};y=(y.g&&Ga(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(z(y[q]))continue;var P=em(y[q]);const ne=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ue=S[ne]||[];S[ne]=ue,ue.push(P)}Q(S,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(y,S,P){return P&&P.internalChannelParams&&P.internalChannelParams[y]||S}function al(y){this.za=0,this.i=[],this.j=new Ba,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,y),this.Za=Ti("retryDelaySeedMs",1e4,y),this.Ta=Ti("forwardChannelMaxRetries",2,y),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new gd(y&&y.concurrentRequestLimit),this.Ba=new nl,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=al.prototype,t.ka=8,t.I=1,t.connect=function(y,S,P,q){jn(0),this.W=y,this.H=S||{},P&&q!==void 0&&(this.H.OSID=P,this.H.OAID=q),this.F=this.X,this.J=mm(this,null,this.W),Ci(this)};function Td(y){if(Oc(y),y.I==3){var S=y.V++,P=An(y.J);if(At(P,"SID",y.M),At(P,"RID",S),At(P,"TYPE","terminate"),bo(y,P),S=new $a(y,y.j,S),S.M=2,S.A=mo(An(P)),P=!1,c.navigator&&c.navigator.sendBeacon)try{P=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!P&&c.Image&&(new Image().src=S.A,P=!0),P||(S.g=pm(S.j,null),S.g.ea(S.A)),S.F=Date.now(),bi(S)}hm(y)}function il(y){y.g&&(Id(y),y.g.cancel(),y.g=null)}function Oc(y){il(y),y.v&&(c.clearTimeout(y.v),y.v=null),Dc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ci(y){if(!yd(y.h)&&!y.m){y.m=!0;var S=y.Ea;R||U(),L||(R(),L=!0),D.add(S,y),y.D=0}}function Rc(y,S){return _i(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=yi(h(y.Ea,y,S),fm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ne=new $a(this,this.j,y);let ue=this.o;if(this.U&&(ue?(ue=V(ue),H(ue,this.U)):ue=this.U),this.u!==null||this.R||(ne.J=ue,ue=null),this.S)e:{for(var S=0,P=0;P<this.i.length;P++){t:{var q=this.i[P];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(S+=q,S>4096){S=P;break e}if(S===4096||P===this.i.length-1){S=P+1;break e}}S=1e3}else S=1e3;S=om(this,ne,S),P=An(this.J),At(P,"RID",y),At(P,"CVER",22),this.G&&At(P,"X-HTTP-Session-Id",this.G),bo(this,P),ue&&(this.R?S="headers="+ns(ya(ue))+"&"+S:this.u&&yo(P,this.u,ue)),vd(this.h,ne),this.Ra&&At(P,"TYPE","init"),this.S?(At(P,"$req",S),At(P,"SID","null"),ne.U=!0,xi(ne,P,null)):xi(ne,P,S),this.I=2}}else this.I==3&&(y?Cd(this,y):this.i.length==0||yd(this.h)||Cd(this))};function Cd(y,S){var P;S?P=S.l:P=y.V++;const q=An(y.J);At(q,"SID",y.M),At(q,"RID",P),At(q,"AID",y.K),bo(y,q),y.u&&y.o&&yo(q,y.u,y.o),P=new $a(y,y.j,P,y.D+1),y.u===null&&(P.J=y.o),S&&(y.i=S.G.concat(y.i)),S=om(y,P,1e3),P.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),vd(y.h,P),xi(P,q,S)}function bo(y,S){y.H&&ve(y.H,function(P,q){At(S,q,P)}),y.l&&ve({},function(P,q){At(S,q,P)})}function om(y,S,P){P=Math.min(y.i.length,P);const q=y.l?h(y.l.Ka,y.l,y):null;e:{var ne=y.i;let it=-1;for(;;){const gn=["count="+P];it==-1?P>0?(it=ne[0].g,gn.push("ofs="+it)):it=0:gn.push("ofs="+it);let _t=!0;for(let Jt=0;Jt<P;Jt++){var ue=ne[Jt].g;const va=ne[Jt].map;if(ue-=it,ue<0)it=Math.max(0,ne[Jt].g-100),_t=!1;else try{ue="req"+ue+"_"||"";try{var Ae=va instanceof Map?va:Object.entries(va);for(const[Oi,Ka]of Ae){let Ya=Ka;d(Ka)&&(Ya=zt(Ka)),gn.push(ue+Oi+"="+encodeURIComponent(Ya))}}catch(Oi){throw gn.push(ue+"type="+encodeURIComponent("_badmap")),Oi}}catch{q&&q(va)}}if(_t){Ae=gn.join("&");break e}}Ae=void 0}return y=y.i.splice(0,P),S.G=y,Ae}function cm(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;R||U(),L||(R(),L=!0),D.add(S,y),y.A=0}}function wo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=yi(h(y.Da,y),fm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,um(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=yi(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jn(10),il(this),um(this))};function Id(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function um(y){y.g=new $a(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=An(y.na);At(S,"RID","rpc"),At(S,"SID",y.M),At(S,"AID",y.K),At(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&At(S,"TO",y.ia),At(S,"TYPE","xmlhttp"),bo(y,S),y.u&&y.o&&yo(S,y.u,y.o),y.O&&(y.g.H=y.O);var P=y.g;y=y.ba,P.M=1,P.A=mo(An(S)),P.u=null,P.R=!0,jc(P,y)}t.Va=function(){this.C!=null&&(this.C=null,il(this),wo(this),jn(19))};function Dc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function dm(y,S){var P=null;if(y.g==S){Dc(y),Id(y),y.g=null;var q=2}else if(ji(y.h,S))P=S.G,xd(y.h,S),q=1;else return;if(y.I!=0){if(S.o)if(q==1){P=S.u?S.u.length:0,S=Date.now()-S.F;var ne=y.D;q=_c(),We(q,new gi(q,P)),Ci(y)}else cm(y);else if(ne=S.m,ne==3||ne==0&&S.X>0||!(q==1&&Rc(y,S)||q==2&&wo(y)))switch(P&&P.length>0&&(S=y.h,S.i=S.i.concat(P)),ne){case 1:Ii(y,5);break;case 4:Ii(y,10);break;case 3:Ii(y,6);break;default:Ii(y,2)}}}function fm(y,S){let P=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(P*=2),P*S}function Ii(y,S){if(y.j.info("Error code "+S),S==2){var P=h(y.bb,y),q=y.Ua;const ne=!q;q=new Qr(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xn(q,"https"),mo(q),ne?qa(q.toString(),P):Ed(q.toString(),P)}else jn(2);y.I=0,y.l&&y.l.pa(S),hm(y),Oc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),jn(2)):(this.j.info("Failed to ping google.com"),jn(1))};function hm(y){if(y.I=0,y.ja=[],y.l){const S=bd(y.h);(S.length!=0||y.i.length!=0)&&(E(y.ja,S),E(y.ja,y.i),y.h.i.length=0,N(y.i),y.i.length=0),y.l.oa()}}function mm(y,S,P){var q=P instanceof Qr?An(P):new Qr(P);if(q.g!="")S&&(q.g=S+"."+q.g),Js(q,q.u);else{var ne=c.location;q=ne.protocol,S=S?S+"."+ne.hostname:ne.hostname,ne=+ne.port;const ue=new Qr(null);q&&Xn(ue,q),S&&(ue.g=S),ne&&Js(ue,ne),P&&(ue.h=P),q=ue}return P=y.G,S=y.wa,P&&S&&At(q,P,S),At(q,"VER",y.ka),bo(y,q),q}function pm(y,S,P){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new Dt(new Si({ab:P})):new Dt(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gm(){}t=gm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sl(){}sl.prototype.g=function(y,S){return new Sr(y,S)};function Sr(y,S){Qe.call(this),this.g=new al(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!z(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!z(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new is(this)}g(Sr,Qe),Sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){Td(this.g)},Sr.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var P={};P.__data__=y,y=P}else this.v&&(P={},P.__data__=zt(y),y=P);S.i.push(new Sn(S.Ya++,y)),S.I==3&&Ci(S)},Sr.prototype.N=function(){this.g.l=null,delete this.j,Td(this.g),delete this.g,Sr.Z.N.call(this)};function ym(y){ir.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const P in S){y=P;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(ym,ir);function vm(){ma.call(this),this.status=1}g(vm,ma);function is(y){this.g=y}g(is,gm),is.prototype.ra=function(){We(this.g,"a")},is.prototype.qa=function(y){We(this.g,new ym(y))},is.prototype.pa=function(y){We(this.g,new vm)},is.prototype.oa=function(){We(this.g,"b")},sl.prototype.createWebChannel=sl.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,sL=function(){return new sl},iL=function(){return _c()},aL=pn,xN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,ig=fo,md.COMPLETE="complete",rL=md,Xh.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Tf=Xh,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,nL=Dt}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});const pD="@firebase/firestore",gD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new C0("@firebase/firestore");function gu(){return uc.logLevel}function Re(t,...e){if(uc.logLevel<=ht.DEBUG){const n=e.map(rE);uc.debug(`Firestore (${ld}): ${t}`,...n)}}function $s(t,...e){if(uc.logLevel<=ht.ERROR){const n=e.map(rE);uc.error(`Firestore (${ld}): ${t}`,...n)}}function $u(t,...e){if(uc.logLevel<=ht.WARN){const n=e.map(rE);uc.warn(`Firestore (${ld}): ${t}`,...n)}}function rE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lL(t,r,n)}function lL(t,e,n){let r=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $s(r),new Error(r)}function St(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||lL(e,a,r)}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ooe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xr.UNAUTHENTICATED)))}shutdown(){}}class Roe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Doe{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){St(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new $l;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $l,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},d=f=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $l)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St(typeof r.accessToken=="string",31837,{l:r}),new oL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string",2055,{h:e}),new xr(e)}}class Poe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class koe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Poe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Moe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){St(this.o===void 0,3512);const r=s=>{s.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(St(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Loe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Loe(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function mt(t,e){return t<e?-1:t>e?1:0}function bN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return Qw(a)===Qw(s)?mt(a,s):Qw(a)?1:-1}return mt(t.length,e.length)}const Uoe=55296,Voe=57343;function Qw(t){const e=t.charCodeAt(0);return e>=Uoe&&e<=Voe}function Fu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ge(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Mi.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return mt(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),a=Mi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):bN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bl.fromString(e.substring(4,e.length-2))}}class Kt extends Mi{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const zoe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends Mi{construct(e,n,r){return new hr(e,n,r)}static isValidIdentifier(e){return zoe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vD}static keyField(){return new hr([vD])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Oe(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new Oe(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Oe(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(s(),a++)}if(s(),c)throw new Oe(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(n)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Kt.fromString(e))}static fromName(e){return new $e(Kt.fromString(e).popFirst(5))}static empty(){return new $e(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t,e,n){if(!n)throw new Oe(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Boe(t,e,n,r){if(e===!0&&r===!0)throw new Oe(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xD(t){if(!$e.isDocumentKey(t))throw new Oe(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bD(t){if($e.isDocumentKey(t))throw new Oe(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function D0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Kl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=D0(t);throw new Oe(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lh(t,e){if(!uL(t))throw new Oe(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Oe(be.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=-62135596800,ND=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ND);return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wD)throw new Oe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ND}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lh(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:Ln("string",Qt._jsonSchemaVersion),seconds:Ln("number"),nanoseconds:Ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Qt(0,0))}static max(){return new Je(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=-1;function $oe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Je.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new Yl(a,$e.empty(),e)}function Foe(t){return new Yl(t.readTime,t.key,nh)}class Yl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yl(Je.min(),$e.empty(),nh)}static max(){return new Yl(Je.max(),$e.empty(),nh)}}function qoe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hoe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Goe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==Hoe)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ne.reject(n)}static resolve(e){return new Ne(((n,r)=>{n(e)}))}static reject(e){return new Ne(((n,r)=>{r(e)}))}static waitFor(e){return new Ne(((n,r)=>{let a=0,s=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++s,c&&s===a&&n()}),(f=>r(f)))})),c=!0,s===a&&n()}))}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next((a=>a?Ne.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new Ne(((r,a)=>{const s=e.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{c[h]=p,++d,d===s&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new Ne(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function Koe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}P0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=-1;function k0(t){return t==null}function my(t){return t===0&&1/t==-1/0}function Yoe(t){return typeof t=="number"&&Number.isInteger(t)&&!my(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="";function Woe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_D(e)),e=Xoe(t.get(n),e);return _D(e)}function Xoe(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case dL:n+="";break;default:n+=s}}return n}function _D(t){return t+dL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bp(this.root,e,this.comparator,!0)}}class Bp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??fr.RED,this.left=a??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new fr(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return fr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ED(this.data.getIterator())}getIteratorFrom(e){return new ED(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class ED{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new ca([])}unionWith(e){let n=new qn(hr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ca(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hL("Invalid base64 string: "+s):s}})(e);return new pr(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const Qoe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(t){if(St(!!t,39018),typeof t=="string"){let e=0;const n=Qoe.exec(t);if(St(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xl(t){return typeof t=="string"?pr.fromBase64String(t):pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="server_timestamp",pL="__type__",gL="__previous_value__",yL="__local_write_time__";function sE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pL])==null?void 0:r.stringValue)===mL}function M0(t){const e=t.mapValue.fields[gL];return sE(e)?M0(e):e}function rh(t){const e=Wl(t.mapValue.fields[yL].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e,n,r,a,s,c,d,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const py="(default)";class ah{constructor(e,n){this.projectId=e,this.database=n||py}static empty(){return new ah("","")}get isDefaultDatabase(){return this.database===py}isEqual(e){return e instanceof ah&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="__type__",Zoe="__max__",$p={mapValue:{}},xL="__vector__",gy="value";function Ql(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:tce(t)?9007199254740991:ece(t)?10:11:Ge(28295,{value:t})}function Xi(t,e){if(t===e)return!0;const n=Ql(t);if(n!==Ql(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rh(t).isEqual(rh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Wl(a.timestampValue),d=Wl(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Xl(a.bytesValue).isEqual(Xl(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return bn(a.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(a.geoPointValue.longitude)===bn(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return bn(a.integerValue)===bn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=bn(a.doubleValue),d=bn(s.doubleValue);return c===d?my(c)===my(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},d=s.mapValue.fields||{};if(jD(c)!==jD(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Xi(c[f],d[f])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function ih(t,e){return(t.values||[]).find((n=>Xi(n,e)))!==void 0}function qu(t,e){if(t===e)return 0;const n=Ql(t),r=Ql(e);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const d=bn(s.integerValue||s.doubleValue),f=bn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return SD(t.timestampValue,e.timestampValue);case 4:return SD(rh(t),rh(e));case 5:return bN(t.stringValue,e.stringValue);case 6:return(function(s,c){const d=Xl(s),f=Xl(c);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const d=s.split("/"),f=c.split("/");for(let h=0;h<d.length&&h<f.length;h++){const p=mt(d[h],f[h]);if(p!==0)return p}return mt(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const d=mt(bn(s.latitude),bn(c.latitude));return d!==0?d:mt(bn(s.longitude),bn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AD(t.arrayValue,e.arrayValue);case 10:return(function(s,c){var x,N,E,_;const d=s.fields||{},f=c.fields||{},h=(x=d[gy])==null?void 0:x.arrayValue,p=(N=f[gy])==null?void 0:N.arrayValue,g=mt(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((_=p==null?void 0:p.values)==null?void 0:_.length)||0);return g!==0?g:AD(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===$p.mapValue&&c===$p.mapValue)return 0;if(s===$p.mapValue)return 1;if(c===$p.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),h=c.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=bN(f[g],p[g]);if(x!==0)return x;const N=qu(d[f[g]],h[p[g]]);if(N!==0)return N}return mt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function SD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=Wl(t),r=Wl(e),a=mt(n.seconds,r.seconds);return a!==0?a:mt(n.nanos,r.nanos)}function AD(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=qu(n[a],r[a]);if(s)return s}return mt(n.length,r.length)}function Hu(t){return wN(t)}function wN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Wl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return $e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=wN(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const c of r)s?s=!1:a+=",",a+=`${c}:${wN(n.fields[c])}`;return a+"}"})(t.mapValue):Ge(61005,{value:t})}function sg(t){switch(Ql(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=M0(t);return e?16+sg(e):16;case 5:return 2*t.stringValue.length;case 6:return Xl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+sg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ao(r.fields,((s,c)=>{a+=s.length+sg(c)})),a})(t.mapValue);default:throw Ge(13486,{value:t})}}function TD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function NN(t){return!!t&&"integerValue"in t}function lE(t){return!!t&&"arrayValue"in t}function CD(t){return!!t&&"nullValue"in t}function ID(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lg(t){return!!t&&"mapValue"in t}function ece(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vL])==null?void 0:r.stringValue)===xL}function Pf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pf(t.arrayValue.values[n]);return e}return{...t}}function tce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Zoe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pf(n)}setAll(e){let n=hr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Pf(c):a.push(d.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];lg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ao(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Fr(Pf(this.value))}}function bL(t){const e=[];return ao(t.fields,((n,r)=>{const a=new hr([n]);if(lg(r)){const s=bL(r.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new ca(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,r,a,s,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(e){return new wr(e,0,Je.min(),Je.min(),Je.min(),Fr.empty(),0)}static newFoundDocument(e,n,r,a){return new wr(e,1,n,Je.min(),r,a,0)}static newNoDocument(e,n){return new wr(e,2,n,Je.min(),Je.min(),Fr.empty(),0)}static newUnknownDocument(e,n){return new wr(e,3,n,Je.min(),Je.min(),Fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.position=e,this.inclusive=n}}function OD(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?r=$e.comparator($e.fromName(c.referenceValue),n.key):r=qu(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{}class Pn extends wL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ace(e,n,r):n==="array-contains"?new lce(e,r):n==="in"?new oce(e,r):n==="not-in"?new cce(e,r):n==="array-contains-any"?new uce(e,r):new Pn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ice(e,r):new sce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qu(n,this.value)):n!==null&&Ql(this.value)===Ql(n)&&this.matchesComparison(qu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends wL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return NL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NL(t){return t.op==="and"}function _L(t){return rce(t)&&NL(t)}function rce(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function _N(t){if(t instanceof Pn)return t.field.canonicalString()+t.op.toString()+Hu(t.value);if(_L(t))return t.filters.map((e=>_N(e))).join(",");{const e=t.filters.map((n=>_N(n))).join(",");return`${t.op}(${e})`}}function jL(t,e){return t instanceof Pn?(function(r,a){return a instanceof Pn&&r.op===a.op&&r.field.isEqual(a.field)&&Xi(r.value,a.value)})(t,e):t instanceof ci?(function(r,a){return a instanceof ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,c,d)=>s&&jL(c,a.filters[d])),!0):!1})(t,e):void Ge(19439)}function EL(t){return t instanceof Pn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Hu(n.value)}`})(t):t instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(EL).join(" ,")+"}"})(t):"Filter"}class ace extends Pn{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class ice extends Pn{constructor(e,n){super(e,"in",n),this.keys=SL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sce extends Pn{constructor(e,n){super(e,"not-in",n),this.keys=SL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>$e.fromName(r.referenceValue)))}class lce extends Pn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lE(n)&&ih(n.arrayValue,this.value)}}class oce extends Pn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ih(this.value.arrayValue,n)}}class cce extends Pn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ih(this.value.arrayValue,n)}}class uce extends Pn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ih(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dce{constructor(e,n=null,r=[],a=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=c,this.endAt=d,this.Te=null}}function DD(t,e=null,n=[],r=[],a=null,s=null,c=null){return new dce(t,e,n,r,a,s,c)}function oE(t){const e=rt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_N(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),k0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Hu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Hu(r))).join(",")),e.Te=n}return e.Te}function cE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RD(t.startAt,e.startAt)&&RD(t.endAt,e.endAt)}function jN(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n=null,r=[],a=[],s=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fce(t,e,n,r,a,s,c,d){return new ud(t,e,n,r,a,s,c,d)}function AL(t){return new ud(t)}function PD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TL(t){return t.collectionGroup!==null}function kf(t){const e=rt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new qn(hr.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new sh(s,r))})),n.has(hr.keyField().canonicalString())||e.Ie.push(new sh(hr.keyField(),r))}return e.Ie}function Vi(t){const e=rt(t);return e.Ee||(e.Ee=hce(e,kf(t))),e.Ee}function hce(t,e){if(t.limitType==="F")return DD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new sh(a.field,s)}));const n=t.endAt?new yy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yy(t.startAt.position,t.startAt.inclusive):null;return DD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function EN(t,e){const n=t.filters.concat([e]);return new ud(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,n){return new ud(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function L0(t,e){return cE(Vi(t),Vi(e))&&t.limitType===e.limitType}function CL(t){return`${oE(Vi(t))}|lt:${t.limitType}`}function yu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>EL(a))).join(", ")}]`),k0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Hu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Hu(a))).join(",")),`Target(${r})`})(Vi(t))}; limitType=${t.limitType})`}function U0(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of kf(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,f){const h=OD(c,d,f);return c.inclusive?h<=0:h<0})(r.startAt,kf(r),a)||r.endAt&&!(function(c,d,f){const h=OD(c,d,f);return c.inclusive?h>=0:h>0})(r.endAt,kf(r),a))})(t,e)}function mce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IL(t){return(e,n)=>{let r=!1;for(const a of kf(t)){const s=pce(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function pce(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):(function(s,c,d){const f=c.data.field(s),h=d.data.field(s);return f!==null&&h!==null?qu(f,h):Ge(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return fL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce=new un($e.comparator);function Fs(){return gce}const OL=new un($e.comparator);function Cf(...t){let e=OL;for(const n of t)e=e.insert(n.key,n);return e}function RL(t){let e=OL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ko(){return Mf()}function DL(){return Mf()}function Mf(){return new wc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const yce=new un($e.comparator),vce=new qn($e.comparator);function pt(...t){let e=vce;for(const n of t)e=e.add(n);return e}const xce=new qn(mt);function bce(){return xce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(e)?"-0":e}}function PL(t){return{integerValue:""+t}}function wce(t,e){return Yoe(e)?PL(e):uE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this._=void 0}}function Nce(t,e,n){return t instanceof xy?(function(a,s){const c={fields:{[pL]:{stringValue:mL},[yL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&sE(s)&&(s=M0(s)),s&&(c.fields[gL]=s),{mapValue:c}})(n,e):t instanceof lh?ML(t,e):t instanceof oh?LL(t,e):(function(a,s){const c=kL(a,s),d=kD(c)+kD(a.Ae);return NN(c)&&NN(a.Ae)?PL(d):uE(a.serializer,d)})(t,e)}function _ce(t,e,n){return t instanceof lh?ML(t,e):t instanceof oh?LL(t,e):n}function kL(t,e){return t instanceof by?(function(r){return NN(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class xy extends V0{}class lh extends V0{constructor(e){super(),this.elements=e}}function ML(t,e){const n=UL(e);for(const r of t.elements)n.some((a=>Xi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class oh extends V0{constructor(e){super(),this.elements=e}}function LL(t,e){let n=UL(e);for(const r of t.elements)n=n.filter((a=>!Xi(a,r)));return{arrayValue:{values:n}}}class by extends V0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kD(t){return bn(t.integerValue||t.doubleValue)}function UL(t){return lE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jce(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof lh&&a instanceof lh||r instanceof oh&&a instanceof oh?Fu(r.elements,a.elements,Xi):r instanceof by&&a instanceof by?Xi(r.Ae,a.Ae):r instanceof xy&&a instanceof xy})(t.transform,e.transform)}class Ece{constructor(e,n){this.version=e,this.transformResults=n}}class Kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class z0{}function VL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new B0(t.key,Kr.none()):new Uh(t.key,t.data,Kr.none());{const n=t.data,r=Fr.empty();let a=new qn(hr.comparator);for(let s of e.fields)if(!a.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),a=a.add(s)}return new io(t.key,r,new ca(a.toArray()),Kr.none())}}function Sce(t,e,n){t instanceof Uh?(function(a,s,c){const d=a.value.clone(),f=LD(a.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof io?(function(a,s,c){if(!og(a.precondition,s))return void s.convertToUnknownDocument(c.version);const d=LD(a.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(zL(a)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Lf(t,e,n,r){return t instanceof Uh?(function(s,c,d,f){if(!og(s.precondition,c))return d;const h=s.value.clone(),p=UD(s.fieldTransforms,f,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof io?(function(s,c,d,f){if(!og(s.precondition,c))return d;const h=UD(s.fieldTransforms,f,c),p=c.data;return p.setAll(zL(s)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,d){return og(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function Ace(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=kL(r.transform,a||null);s!=null&&(n===null&&(n=Fr.empty()),n.set(r.field,s))}return n||null}function MD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Fu(r,a,((s,c)=>jce(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uh extends z0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class io extends z0{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function LD(t,e,n){const r=new Map;St(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],c=s.transform,d=e.data.field(s.field);r.set(s.field,_ce(c,d,n[a]))}return r}function UD(t,e,n){const r=new Map;for(const a of t){const s=a.transform,c=n.data.field(a.field);r.set(a.field,Nce(s,c,e))}return r}class B0 extends z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tce extends z0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cce{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&Sce(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DL();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=n.has(a.key)?null:d;const f=VL(c,d);f!==null&&r.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,((n,r)=>MD(n,r)))&&Fu(this.baseMutations,e.baseMutations,((n,r)=>MD(n,r)))}}class dE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){St(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return yce})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,r[c].version);return new dE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ice{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,vt;function Rce(t){switch(t){case be.OK:return Ge(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function BL(t){if(t===void 0)return $s("GRPC error has no .code"),be.UNKNOWN;switch(t){case Rn.OK:return be.OK;case Rn.CANCELLED:return be.CANCELLED;case Rn.UNKNOWN:return be.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return be.INTERNAL;case Rn.UNAVAILABLE:return be.UNAVAILABLE;case Rn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Rn.NOT_FOUND:return be.NOT_FOUND;case Rn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Rn.ABORTED:return be.ABORTED;case Rn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Rn.DATA_LOSS:return be.DATA_LOSS;default:return Ge(39323,{code:t})}}(vt=Rn||(Rn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pce=new Bl([4294967295,4294967295],0);function VD(t){const e=Dce().encode(t),n=new tL;return n.update(e),new Uint8Array(n.digest())}function zD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Bl([n,r],0),new Bl([a,s],0)]}class fE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new If(`Invalid padding: ${n}`);if(r<0)throw new If(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new If(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new If(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bl.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Bl.fromNumber(r)));return a.compare(Pce)===1&&(a=new Bl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VD(e),[r,a]=zD(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new fE(s,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=VD(e),[r,a]=zD(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Vh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $0(Je.min(),a,new un(mt),Fs(),pt())}}class Vh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vh(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class $L{constructor(e,n){this.targetId=e,this.Ce=n}}class FL{constructor(e,n,r=pr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class BD{constructor(){this.ve=0,this.Fe=$D(),this.Me=pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:s})}})),new Vh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$D()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,St(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kce{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fs(),this.Je=Fp(),this.He=Fp(),this.Ye=new un(mt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(jN(s))if(r===0){const c=new $e(s.path);this.et(n,c,wr.newNoDocument(c,Je.min()))}else St(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let c,d;try{c=Xl(r).toUint8Array()}catch(f){if(f instanceof hL)return $u("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new fE(c,a,s)}catch(f){return $u(f instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const d=this.ot(c);if(d){if(s.current&&jN(d.target)){const f=new $e(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,wr.newNoDocument(f,e))}s.Be&&(n.set(c,s.ke()),s.qe())}}));let r=pt();this.He.forEach(((s,c)=>{let d=!0;c.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new $0(e,n,this.Ye,this.je,r);return this.je=Fs(),this.Je=Fp(),this.He=Fp(),this.Ye=new un(mt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qn(mt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qn(mt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fp(){return new un($e.comparator)}function $D(){return new un($e.comparator)}const Mce={asc:"ASCENDING",desc:"DESCENDING"},Lce={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uce={and:"AND",or:"OR"};class Vce{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function SN(t,e){return t.useProto3Json||k0(e)?e:{value:e}}function wy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zce(t,e){return wy(t,e.toTimestamp())}function zi(t){return St(!!t,49232),Je.fromTimestamp((function(n){const r=Wl(n);return new Qt(r.seconds,r.nanos)})(t))}function hE(t,e){return AN(t,e).canonicalString()}function AN(t,e){const n=(function(a){return new Kt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HL(t){const e=Kt.fromString(t);return St(XL(e),10190,{key:e.toString()}),e}function TN(t,e){return hE(t.databaseId,e.path)}function Jw(t,e){const n=HL(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(KL(n))}function GL(t,e){return hE(t.databaseId,e)}function Bce(t){const e=HL(t);return e.length===4?Kt.emptyPath():KL(e)}function CN(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KL(t){return St(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function FD(t,e,n){return{name:TN(t,e),fields:n.value.mapValue.fields}}function $ce(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ge(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(St(p===void 0||typeof p=="string",58123),pr.fromBase64String(p||"")):(St(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),pr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?be.UNKNOWN:BL(h.code);return new Oe(p,h.message||"")})(c);n=new FL(r,a,s,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Jw(t,r.document.name),s=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):Je.min(),d=new Fr({mapValue:{fields:r.document.fields}}),f=wr.newFoundDocument(a,s,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new cg(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Jw(t,r.document),s=r.readTime?zi(r.readTime):Je.min(),c=wr.newNoDocument(a,s),d=r.removedTargetIds||[];n=new cg([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Jw(t,r.document),s=r.removedTargetIds||[];n=new cg([],s,a,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,c=new Oce(a,s),d=r.targetId;n=new $L(d,c)}}return n}function Fce(t,e){let n;if(e instanceof Uh)n={update:FD(t,e.key,e.value)};else if(e instanceof B0)n={delete:TN(t,e.key)};else if(e instanceof io)n={update:FD(t,e.key,e.data),updateMask:Jce(e.fieldMask)};else{if(!(e instanceof Tce))return Ge(16599,{Vt:e.type});n={verify:TN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const d=c.transform;if(d instanceof xy)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof oh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof by)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ge(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:zce(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ge(27497)})(t,e.precondition)),n}function qce(t,e){return t&&t.length>0?(St(e!==void 0,14353),t.map((n=>(function(a,s){let c=a.updateTime?zi(a.updateTime):zi(s);return c.isEqual(Je.min())&&(c=zi(s)),new Ece(c,a.transformResults||[])})(n,e)))):[]}function Hce(t,e){return{documents:[GL(t,e.path)]}}function Gce(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GL(t,a);const s=(function(h){if(h.length!==0)return WL(ci.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:vu(x.field),direction:Wce(x.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=SN(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function Kce(t){let e=Bce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){St(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=YL(g);return x instanceof ci&&_L(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(E){return new sh(xu(E.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let x;return x=typeof g=="object"?g.value:g,k0(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,N=g.values||[];return new yy(N,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,N=g.values||[];return new yy(N,x)})(n.endAt)),fce(e,a,c,s,d,"F",f,h)}function Yce(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xu(n.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=xu(n.unaryFilter.field);return Pn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xu(n.unaryFilter.field);return Pn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xu(n.unaryFilter.field);return Pn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Pn.create(xu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>YL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(t):Ge(30097,{filter:t})}function Wce(t){return Mce[t]}function Xce(t){return Lce[t]}function Qce(t){return Uce[t]}function vu(t){return{fieldPath:t.canonicalString()}}function xu(t){return hr.fromServerFormat(t.fieldPath)}function WL(t){return t instanceof Pn?(function(n){if(n.op==="=="){if(ID(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NAN"}};if(CD(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ID(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NAN"}};if(CD(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(n.field),op:Xce(n.op),value:n.value}}})(t):t instanceof ci?(function(n){const r=n.getFilters().map((a=>WL(a)));return r.length===1?r[0]:{compositeFilter:{op:Qce(n.op),filters:r}}})(t):Ge(54877,{filter:t})}function Jce(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function XL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,a,s=Je.min(),c=Je.min(),d=pr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ll(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(e){this.yt=e}}function eue(t){const e=Kce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(){this.Cn=new nue}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(Yl.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(Yl.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class nue{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new qn(Kt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new qn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QL=41943040;class $r{static withCacheSize(e){return new $r(e,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(QL,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gu(0)}static cr(){return new Gu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="LruGarbageCollector",rue=1048576;function GD([t,e],[n,r]){const a=mt(t,n);return a===0?mt(e,r):a}class aue{constructor(e){this.Ir=e,this.buffer=new qn(GD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(HD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cd(n)?Re(HD,"Ignoring IndexedDB error during garbage collection: ",n):await od(n)}await this.Vr(3e5)}))}}class sue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(P0.ce);const r=new aue(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(qD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,c,d,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),gu()<=ht.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${s} targets in `+(f-d)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function lue(t,e){return new sue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(){this.changes=new wc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uue{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Lf(r.mutation,a,ca.empty(),Qt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=pt()){const a=Ko();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let c=Cf();return s.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Ko();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,pt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let s=Fs();const c=Mf(),d=(function(){return Mf()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof io)?s=s.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),Lf(p.mutation,h,p.mutation.getFieldMask(),Qt.now())):c.set(h.key,ca.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>d.set(h,new cue(p,c.get(h)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Mf();let a=new un(((c,d)=>c-d)),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||ca.empty();p=d.applyToLocalView(h,p),r.set(f,p);const g=(a.get(d.batchId)||pt()).add(f);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,p=f.value,g=DL();p.forEach((x=>{if(!s.has(x)){const N=VL(n.get(x),r.get(x));N!==null&&g.set(x,N),s=s.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Ne.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return $e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):Ne.resolve(Ko());let d=nh,f=s;return c.next((h=>Ne.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),s.get(p)?Ne.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,pt()))).next((p=>({batchId:d,changes:RL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next((r=>{let a=Cf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let c=Cf();return this.indexManager.getCollectionParents(e,s).next((d=>Ne.forEach(d,(f=>{const h=(function(g,x){return new ud(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((c=>{s.forEach(((f,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,wr.newInvalidDocument(p)))}));let d=Cf();return c.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Lf(p.mutation,h,ca.empty(),Qt.now()),U0(n,h)&&(d=d.insert(f,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class due{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}})(n)),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:eue(a.bundledQuery),readTime:zi(a.readTime)}})(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fue{constructor(){this.overlays=new un($e.comparator),this.qr=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ko();return Ne.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const a=Ko(),s=n.length+1,c=new $e(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return Ne.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new un(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Ko(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Ko(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=a)););return Ne.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ice(n,r));let s=this.qr.get(n);s===void 0&&(s=pt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hue{constructor(){this.sessionToken=pr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.Qr=new qn(tr.$r),this.Ur=new qn(tr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new tr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new $e(new Kt([])),r=new tr(n,e),a=new tr(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),s.push(c.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new $e(new Kt([])),r=new tr(n,e),a=new tr(n,e+1);let s=pt();return this.Ur.forEachInRange([r,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new tr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return $e.comparator(e.key,n.key)||mt(e.Yr,n.Yr)}static Kr(e,n){return mt(e.Yr,n.Yr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qn(tr.$r)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Cce(s,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new tr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Ne.resolve(c)}lookupMutationBatch(e,n){return Ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?iE:this.tr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tr(n,0),a=new tr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);s.push(d)})),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qn(mt);return n.forEach((a=>{const s=new tr(a,0),c=new tr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,c],(d=>{r=r.add(d.Yr)}))})),Ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;$e.isDocumentKey(s)||(s=s.child(""));const c=new tr(new $e(s),0);let d=new qn(mt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(d=d.add(f.Yr)),!0)}),c),Ne.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){St(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ne.forEach(n.mutations,(a=>{const s=new tr(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new tr(n,0),a=this.Zr.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pue{constructor(e){this.ri=e,this.docs=(function(){return new un($e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(n))}getEntries(e,n){let r=Fs();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():wr.newInvalidDocument(a))})),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Fs();const c=n.path,d=new $e(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||qoe(Foe(p),r)<=0||(a.has(p.key)||U0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Ge(9500)}ii(e,n){return Ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new gue(this)}getSize(e){return Ne.resolve(this.size)}}class gue extends oue{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),Ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(e){this.persistence=e,this.si=new wc((n=>oE(n)),cE),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new mE,this.targetCount=0,this.ai=Gu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Pr(n),Ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),Ne.waitFor(s).next((()=>a))}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.ui={},this.overlays={},this.ci=new P0(0),this.li=!1,this.li=!0,this.hi=new hue,this.referenceDelegate=e(this),this.Pi=new yue(this),this.indexManager=new tue,this.remoteDocumentCache=(function(a){return new pue(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Zce(n),this.Ii=new due(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const a=new vue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class vue extends Goe{constructor(e){super(),this.currentSequenceNumber=e}}class pE{constructor(e){this.persistence=e,this.Ri=new mE,this.Vi=null}static mi(e){return new pE(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.fi,(r=>{const a=$e.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ne.or([()=>Ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ny{constructor(e,n){this.persistence=e,this.pi=new wc((r=>Woe(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=lue(this,n)}static mi(e,n){return new Ny(e,n)}Ei(){}di(e){return Ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ne.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?Ne.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,s.removeEntry(c,Je.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sg(e.data.value)),n}br(e,n,r){return Ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return Ne.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=pt(),a=pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new gE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $ie()?8:Koe(jr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new xue;return this.Ss(e,n,c).next((d=>{if(s.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(gu()<=ht.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",yu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ne.resolve()):(gu()<=ht.DEBUG&&Re("QueryEngine","Query:",yu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(gu()<=ht.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",yu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):Ne.resolve())}ys(e,n){if(PD(n))return Ne.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vy(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=pt(...s);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,d);return this.Cs(n,h,c,f.readTime)?this.ys(e,vy(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return PD(n)||a.isEqual(Je.min())?Ne.resolve(null):this.ps.getDocuments(e,r).next((s=>{const c=this.Ds(n,s);return this.Cs(n,c,r,a)?Ne.resolve(null):(gu()<=ht.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yu(n)),this.vs(e,c,n,$oe(a,nh)).next((d=>d)))}))}Ds(e,n){let r=new qn(IL(e));return n.forEach(((a,s)=>{U0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return gu()<=ht.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",yu(n)),this.ps.getDocumentsMatchingQuery(e,n,Yl.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LocalStore",wue=3e8;class Nue{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new un(mt),this.xs=new wc((s=>oE(s)),cE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uue(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _ue(t,e,n,r){return new Nue(t,e,n,r)}async function ZL(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],d=[];let f=pt();for(const h of a){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){d.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function jue(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,h,p){const g=h.batch,x=g.keys();let N=Ne.resolve();return x.forEach((E=>{N=N.next((()=>p.getEntry(f,E))).next((_=>{const j=h.docVersions.get(E);St(j!==null,48541),_.version.compareTo(j)<0&&(g.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),p.addEntry(_)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=pt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function eU(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Eue(t,e){const n=rt(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;d.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let N=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?N=N.withResumeToken(pr.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):p.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(p.resumeToken,r)),a=a.insert(g,N),(function(_,j,C){return _.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=wue?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(x,N,p)&&d.push(n.Pi.updateTargetData(s,N))}));let f=Fs(),h=pt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),d.push(Sue(s,c,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Je.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));d.push(p)}return Ne.waitFor(d).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function Sue(t,e,n){let r=pt(),a=pt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=Fs();return n.forEach(((d,f)=>{const h=s.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(d)),f.isNoDocument()&&f.version.isEqual(Je.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Re(yE,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function Aue(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=iE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Tue(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,Ne.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new Ll(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function IN(t,e,n){const r=rt(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!cd(c))throw c;Re(yE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function KD(t,e,n){const r=rt(t);let a=Je.min(),s=pt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,h,p){const g=rt(f),x=g.xs.get(p);return x!==void 0?Ne.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,c,Vi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:Je.min(),n?s:pt()))).next((d=>(Cue(r,mce(e),d),{documents:d,Qs:s})))))}function Cue(t,e,n){let r=t.Os.get(e)||Je.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class YD{constructor(){this.activeTargetIds=bce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iue{constructor(){this.Mo=new YD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="ConnectivityMonitor";class XD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(WD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(WD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp=null;function ON(){return qp===null?qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():qp++,"0x"+qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="RestConnection",Rue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Due{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===py?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const c=ON(),d=this.zo(e,n.toUriEncodedString());Re(Zw,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(d),p=vc(h);return this.Jo(e,d,f,r,p).then((g=>(Re(Zw,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw $u(Zw,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,s,c){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ld})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=Rue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="WebChannelConnection";class kue extends Due{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const c=ON();return new Promise(((d,f)=>{const h=new nL;h.setWithCredentials(!0),h.listenOnce(rL.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case ig.NO_ERROR:const g=h.getResponseJson();Re(yr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case ig.TIMEOUT:Re(yr,`RPC '${e}' ${c} timed out`),f(new Oe(be.DEADLINE_EXCEEDED,"Request time out"));break;case ig.HTTP_ERROR:const x=h.getStatus();if(Re(yr,`RPC '${e}' ${c} failed with status:`,x,"response text:",h.getResponseText()),x>0){let N=h.getResponseJson();Array.isArray(N)&&(N=N[0]);const E=N==null?void 0:N.error;if(E&&E.status&&E.message){const _=(function(C){const M=C.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(M)>=0?M:be.UNKNOWN})(E.status);f(new Oe(_,E.message))}else f(new Oe(be.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Oe(be.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:c,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Re(yr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);Re(yr,`RPC '${e}' ${c} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=ON(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sL(),d=iL(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");Re(yr,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=c.createWebChannel(p,f);this.I_(g);let x=!1,N=!1;const E=new Pue({Yo:j=>{N?Re(yr,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(x||(Re(yr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),Re(yr,`RPC '${e}' stream ${a} sending:`,j),g.send(j))},Zo:()=>g.close()}),_=(j,C,M)=>{j.listen(C,(k=>{try{M(k)}catch(T){setTimeout((()=>{throw T}),0)}}))};return _(g,Tf.EventType.OPEN,(()=>{N||(Re(yr,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),_(g,Tf.EventType.CLOSE,(()=>{N||(N=!0,Re(yr,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),_(g,Tf.EventType.ERROR,(j=>{N||(N=!0,$u(yr,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),E.a_(new Oe(be.UNAVAILABLE,"The operation could not be completed")))})),_(g,Tf.EventType.MESSAGE,(j=>{var C;if(!N){const M=j.data[0];St(!!M,16349);const k=M,T=(k==null?void 0:k.error)||((C=k[0])==null?void 0:C.error);if(T){Re(yr,`RPC '${e}' stream ${a} received error:`,T);const R=T.status;let L=(function($){const A=Rn[$];if(A!==void 0)return BL(A)})(R),D=T.message;L===void 0&&(L=be.INTERNAL,D="Unknown error status: "+R+" with message "+T.message),N=!0,E.a_(new Oe(L,D)),g.close()}else Re(yr,`RPC '${e}' stream ${a} received:`,M),E.u_(M)}})),_(d,aL.STAT_EVENT,(j=>{j.stat===xN.PROXY?Re(yr,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===xN.NOPROXY&&Re(yr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function e1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){return new Vce(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="PersistentStream";class nU{constructor(e,n,r,a,s,c,d,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Oe(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(QD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Re(QD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mue extends nU{constructor(e,n,r,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$ce(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Je.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Je.min():c.readTime?zi(c.readTime):Je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=CN(this.serializer),n.addTarget=(function(s,c){let d;const f=c.target;if(d=jN(f)?{documents:Hce(s,f)}:{query:Gce(s,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=qL(s,c.resumeToken);const h=SN(s,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(Je.min())>0){d.readTime=wy(s,c.snapshotVersion.toTimestamp());const h=SN(s,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=Yce(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=CN(this.serializer),n.removeTarget=e,this.q_(n)}}class Lue extends nU{constructor(e,n,r,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return St(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,St(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){St(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qce(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=CN(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Fce(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uue{}class Vue extends Uue{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Oe(be.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Go(e,AN(n,r),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(be.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,AN(n,r),a,c,d,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Oe(be.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zue{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($s(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="RemoteStore";class Bue{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Nc(this)&&(Re(dc,"Restarting streams for network reachability change."),await(async function(f){const h=rt(f);h.Ea.add(4),await zh(h),h.Ra.set("Unknown"),h.Ea.delete(4),await q0(h)})(this))}))})),this.Ra=new zue(r,a)}}async function q0(t){if(Nc(t))for(const e of t.da)await e(!0)}async function zh(t){for(const e of t.da)await e(!1)}function rU(t,e){const n=rt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wE(n)?bE(n):dd(n).O_()&&xE(n,e))}function vE(t,e){const n=rt(t),r=dd(n);n.Ia.delete(e),r.O_()&&aU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Nc(n)&&n.Ra.set("Unknown"))}function xE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dd(t).Y_(e)}function aU(t,e){t.Va.Ue(e),dd(t).Z_(e)}function bE(t){t.Va=new kce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dd(t).start(),t.Ra.ua()}function wE(t){return Nc(t)&&!dd(t).x_()&&t.Ia.size>0}function Nc(t){return rt(t).Ea.size===0}function iU(t){t.Va=void 0}async function $ue(t){t.Ra.set("Online")}async function Fue(t){t.Ia.forEach(((e,n)=>{xE(t,e)}))}async function que(t,e){iU(t),wE(t)?(t.Ra.ha(e),bE(t)):t.Ra.set("Unknown")}async function Hue(t,e,n){if(t.Ra.set("Online"),e instanceof FL&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const d of s.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Re(dc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _y(t,r)}else if(e instanceof cg?t.Va.Ze(e):e instanceof $L?t.Va.st(e):t.Va.tt(e),!n.isEqual(Je.min()))try{const r=await eU(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const d=s.Va.Tt(c);return d.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(pr.EMPTY_BYTE_STRING,p.snapshotVersion)),aU(s,f);const g=new Ll(p.target,f,h,p.sequenceNumber);xE(s,g)})),s.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Re(dc,"Failed to raise snapshot:",r),await _y(t,r)}}async function _y(t,e,n){if(!cd(e))throw e;t.Ea.add(1),await zh(t),t.Ra.set("Offline"),n||(n=()=>eU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(dc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await q0(t)}))}function sU(t,e){return e().catch((n=>_y(t,n,e)))}async function H0(t){const e=rt(t),n=Jl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iE;for(;Gue(e);)try{const a=await Aue(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Kue(e,a)}catch(a){await _y(e,a)}lU(e)&&oU(e)}function Gue(t){return Nc(t)&&t.Ta.length<10}function Kue(t,e){t.Ta.push(e);const n=Jl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lU(t){return Nc(t)&&!Jl(t).x_()&&t.Ta.length>0}function oU(t){Jl(t).start()}async function Yue(t){Jl(t).ra()}async function Wue(t){const e=Jl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Xue(t,e,n){const r=t.Ta.shift(),a=dE.from(r,e,n);await sU(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await H0(t)}async function Que(t,e){e&&Jl(t).X_&&await(async function(r,a){if((function(c){return Rce(c)&&c!==be.ABORTED})(a.code)){const s=r.Ta.shift();Jl(r).B_(),await sU(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await H0(r)}})(t,e),lU(t)&&oU(t)}async function JD(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),Re(dc,"RemoteStore received new credentials");const r=Nc(n);n.Ea.add(3),await zh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await q0(n)}async function Jue(t,e){const n=rt(t);e?(n.Ea.delete(2),await q0(n)):e||(n.Ea.add(2),await zh(n),n.Ra.set("Unknown"))}function dd(t){return t.ma||(t.ma=(function(n,r,a){const s=rt(n);return s.sa(),new Mue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:$ue.bind(null,t),t_:Fue.bind(null,t),r_:que.bind(null,t),H_:Hue.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),wE(t)?bE(t):t.Ra.set("Unknown")):(await t.ma.stop(),iU(t))}))),t.ma}function Jl(t){return t.fa||(t.fa=(function(n,r,a){const s=rt(n);return s.sa(),new Lue(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Yue.bind(null,t),r_:Que.bind(null,t),ta:Wue.bind(null,t),na:Xue.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await H0(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(dc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new $l,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const c=Date.now()+r,d=new NE(e,n,c,a,s);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _E(t,e){if($s("AsyncQueue",`${e}: ${t}`),cd(t))return new Oe(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{static emptySet(e){return new Au(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=Cf(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.ga=new un($e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ku{constructor(e,n,r,a,s,c,d,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Ku(e,n,Au.emptySet(n),c,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zue{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ede{constructor(){this.queries=eP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=rt(n),s=a.queries;a.queries=eP(),s.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new Oe(be.ABORTED,"Firestore shutting down"))}}function eP(){return new wc((t=>CL(t)),L0)}async function tde(t,e){const n=rt(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new Zue,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=_E(c,`Initialization of query '${yu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&jE(n)}async function nde(t,e){const n=rt(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const c=s.Sa.indexOf(e);c>=0&&(s.Sa.splice(c,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rde(t,e){const n=rt(t);let r=!1;for(const a of e){const s=a.query,c=n.queries.get(s);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&jE(n)}function ade(t,e,n){const r=rt(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function jE(t){t.Ca.forEach((e=>{e.next()}))}var RN,tP;(tP=RN||(RN={})).Ma="default",tP.Cache="cache";class ide{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==RN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.key=e}}class uU{constructor(e){this.key=e}}class sde{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=IL(e),this.tu=new Au(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ZD,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),N=U0(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),_=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;x&&N?x.data.isEqual(N.data)?E!==_&&(r.track({type:3,doc:N}),j=!0):this.su(x,N)||(r.track({type:2,doc:N}),j=!0,(f&&this.eu(N,f)>0||h&&this.eu(N,h)<0)&&(d=!0)):!x&&N?(r.track({type:0,doc:N}),j=!0):x&&!N&&(r.track({type:1,doc:x}),j=!0,(f||h)&&(d=!0)),j&&(N?(c=c.add(N),s=_?s.add(p):s.delete(p)):(c=c.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(N,E){const _=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:j})}};return _(N)-_(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,c.length!==0||h?{snapshot:new Ku(this.query,e.tu,s,c,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZD,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new uU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new cU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ku.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const EE="SyncEngine";class lde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ode{constructor(e){this.key=e,this.hu=!1}}class cde{constructor(e,n,r,a,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new wc((d=>CL(d)),L0),this.Iu=new Map,this.Eu=new Set,this.du=new un($e.comparator),this.Au=new Map,this.Ru=new mE,this.Vu={},this.mu=new Map,this.fu=Gu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ude(t,e,n=!0){const r=gU(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await dU(r,e,n,!0),a}async function dde(t,e){const n=gU(t);await dU(n,e,!0,!1)}async function dU(t,e,n,r){const a=await Tue(t.localStore,Vi(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let d;return r&&(d=await fde(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&rU(t.remoteStore,a),d}async function fde(t,e,n,r,a){t.pu=(g,x,N)=>(async function(_,j,C,M){let k=j.view.ru(C);k.Cs&&(k=await KD(_.localStore,j.query,!1).then((({documents:D})=>j.view.ru(D,k))));const T=M&&M.targetChanges.get(j.targetId),R=M&&M.targetMismatches.get(j.targetId)!=null,L=j.view.applyChanges(k,_.isPrimaryClient,T,R);return rP(_,j.targetId,L.au),L.snapshot})(t,g,x,N);const s=await KD(t.localStore,e,!0),c=new sde(e,s.Qs),d=c.ru(s.documents),f=Vh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=c.applyChanges(d,t.isPrimaryClient,f);rP(t,n,h.au);const p=new lde(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function hde(t,e,n){const r=rt(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((c=>!L0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await IN(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&vE(r.remoteStore,a.targetId),DN(r,a.targetId)})).catch(od)):(DN(r,a.targetId),await IN(r.localStore,a.targetId,!0))}async function mde(t,e){const n=rt(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vE(n.remoteStore,r.targetId))}async function pde(t,e,n){const r=Nde(t);try{const a=await(function(c,d){const f=rt(c),h=Qt.now(),p=d.reduce(((N,E)=>N.add(E.key)),pt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let E=Fs(),_=pt();return f.Ns.getEntries(N,p).next((j=>{E=j,E.forEach(((C,M)=>{M.isValidDocument()||(_=_.add(C))}))})).next((()=>f.localDocuments.getOverlayedDocuments(N,E))).next((j=>{g=j;const C=[];for(const M of d){const k=Ace(M,g.get(M.key).overlayedDocument);k!=null&&C.push(new io(M.key,k,bL(k.value.mapValue),Kr.exists(!0)))}return f.mutationQueue.addMutationBatch(N,h,C,d)})).next((j=>{x=j;const C=j.applyToLocalDocumentSet(g,_);return f.documentOverlayCache.saveOverlays(N,j.batchId,C)}))})).then((()=>({batchId:x.batchId,changes:RL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,f){let h=c.Vu[c.currentUser.toKey()];h||(h=new un(mt)),h=h.insert(d,f),c.Vu[c.currentUser.toKey()]=h})(r,a.batchId,n),await Bh(r,a.changes),await H0(r.remoteStore)}catch(a){const s=_E(a,"Failed to persist write");n.reject(s)}}async function fU(t,e){const n=rt(t);try{const r=await Eue(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=n.Au.get(s);c&&(St(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?St(c.hu,14607):a.removedDocuments.size>0&&(St(c.hu,42227),c.hu=!1))})),await Bh(n,r,e)}catch(r){await od(r)}}function nP(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const f=rt(c);f.onlineState=d;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(d)&&(h=!0)})),h&&jE(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gde(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let c=new un($e.comparator);c=c.insert(s,wr.newNoDocument(s,Je.min()));const d=pt().add(s),f=new $0(Je.min(),new Map,new un(mt),c,d);await fU(r,f),r.du=r.du.remove(s),r.Au.delete(e),SE(r)}else await IN(r.localStore,e,!1).then((()=>DN(r,e,n))).catch(od)}async function yde(t,e){const n=rt(t),r=e.batch.batchId;try{const a=await jue(n.localStore,e);mU(n,r,null),hU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bh(n,a)}catch(a){await od(a)}}async function vde(t,e,n){const r=rt(t);try{const a=await(function(c,d){const f=rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,d).next((g=>(St(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);mU(r,e,n),hU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bh(r,a)}catch(a){await od(a)}}function hU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function mU(t,e,n){const r=rt(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function DN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||pU(t,r)}))}function pU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),SE(t))}function rP(t,e,n){for(const r of n)r instanceof cU?(t.Ru.addReference(r.key,e),xde(t,r)):r instanceof uU?(Re(EE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||pU(t,r.key)):Ge(19791,{wu:r})}function xde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(EE,"New document in limbo: "+n),t.Eu.add(r),SE(t))}function SE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new $e(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new ode(n)),t.du=t.du.insert(n,r),rU(t.remoteStore,new Ll(Vi(AL(n.path)),r,"TargetPurposeLimboResolution",P0.ce))}}async function Bh(t,e,n){const r=rt(t),a=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){a.push(h);const g=gE.As(f.targetId,h);s.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(f,h){const p=rt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ne.forEach(h,(x=>Ne.forEach(x.Es,(N=>p.persistence.referenceDelegate.addReference(g,x.targetId,N))).next((()=>Ne.forEach(x.ds,(N=>p.persistence.referenceDelegate.removeReference(g,x.targetId,N)))))))))}catch(g){if(!cd(g))throw g;Re(yE,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const N=p.Ms.get(x),E=N.snapshotVersion,_=N.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,_)}}})(r.localStore,s))}async function bde(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){Re(EE,"User change. New user:",e.toKey());const r=await ZL(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((d=>{d.forEach((f=>{f.reject(new Oe(be.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bh(n,r.Ls)}}function wde(t,e){const n=rt(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let a=pt();const s=n.Iu.get(e);if(!s)return a;for(const c of s){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function gU(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wde.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gde.bind(null,e),e.Pu.H_=rde.bind(null,e.eventManager),e.Pu.yu=ade.bind(null,e.eventManager),e}function Nde(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vde.bind(null,e),e}class jy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=F0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _ue(this.persistence,new bue,e.initialUser,this.serializer)}Cu(e){return new JL(pE.mi,this.serializer)}Du(e){return new Iue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jy.provider={build:()=>new jy};class _de extends jy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){St(this.persistence.referenceDelegate instanceof Ny,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iue(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new JL((r=>Ny.mi(r,n)),this.serializer)}}class PN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bde.bind(null,this.syncEngine),await Jue(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ede})()}createDatastore(e){const n=F0(e.databaseInfo.databaseId),r=(function(s){return new kue(s)})(e.databaseInfo);return(function(s,c,d,f){return new Vue(s,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,c,d){return new Bue(r,a,s,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>nP(this.syncEngine,n,0)),(function(){return XD.v()?new XD:new Oue})())}createSyncEngine(e,n){return(function(a,s,c,d,f,h,p){const g=new cde(a,s,c,d,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const s=rt(a);Re(dc,"RemoteStore shutting down."),s.Ea.add(5),await zh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}PN.provider={build:()=>new PN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jde{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="FirestoreClient";class Ede{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=xr.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{Re(Zl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Re(Zl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $l;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_E(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function t1(t,e){t.asyncQueue.verifyOperationInProgress(),Re(Zl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await ZL(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function aP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Sde(t);Re(Zl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JD(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>JD(e.remoteStore,a))),t._onlineComponents=e}async function Sde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(Zl,"Using user provided OfflineComponentProvider");try{await t1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;$u("Error using user provided cache. Falling back to memory cache: "+n),await t1(t,new jy)}}else Re(Zl,"Using default OfflineComponentProvider"),await t1(t,new _de(void 0));return t._offlineComponents}async function yU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(Zl,"Using user provided OnlineComponentProvider"),await aP(t,t._uninitializedComponentsProvider._online)):(Re(Zl,"Using default OnlineComponentProvider"),await aP(t,new PN))),t._onlineComponents}function Ade(t){return yU(t).then((e=>e.syncEngine))}async function Tde(t){const e=await yU(t),n=e.eventManager;return n.onListen=ude.bind(null,e.syncEngine),n.onUnlisten=hde.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mde.bind(null,e.syncEngine),n}function Cde(t,e,n={}){const r=new $l;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,d,f,h){const p=new jde({next:x=>{p.Nu(),c.enqueueAndForget((()=>nde(s,g))),x.fromCache&&f.source==="server"?h.reject(new Oe(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new ide(d,p,{includeMetadataChanges:!0,qa:!0});return tde(s,g)})(await Tde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="firestore.googleapis.com",sP=!0;class lP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xU,this.ssl=sP}else this.host=e.host,this.ssl=e.ssl??sP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rue)throw new Oe(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Boe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Oe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ooe;switch(r.type){case"firstParty":return new koe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=iP.get(n);r&&(Re("ComponentProvider","Removing Datastore"),iP.delete(n),r.terminate())})(this),Promise.resolve()}}function Ide(t,e,n,r={}){var h;t=Kl(t,G0);const a=vc(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Yj(`https://${d}`),Wj("Firestore",!0)),s.host!==xU&&s.host!==d&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:d,ssl:a,emulatorOptions:r};if(!Gl(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=xr.MOCK_USER;else{p=j3(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Oe(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new xr(x)}t._authCredentials=new Roe(new oL(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}toJSON(){return{type:Fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lh(n,Fn._jsonSchema))return new Fn(e,r||null,new $e(Kt.fromString(n.referencePath)))}}Fn._jsonSchemaVersion="firestore/documentReference/1.0",Fn._jsonSchema={type:Ln("string",Fn._jsonSchemaVersion),referencePath:Ln("string")};class Fl extends so{constructor(e,n,r){super(e,n,AL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new $e(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function Ie(t,e,...n){if(t=_n(t),cL("collection","path",e),t instanceof G0){const r=Kt.fromString(e,...n);return bD(r),new Fl(t,null,r)}{if(!(t instanceof Fn||t instanceof Fl))throw new Oe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return bD(r),new Fl(t.firestore,null,r)}}function Fe(t,e,...n){if(t=_n(t),arguments.length===1&&(e=aE.newId()),cL("doc","path",e),t instanceof G0){const r=Kt.fromString(e,...n);return xD(r),new Fn(t,null,new $e(r))}{if(!(t instanceof Fn||t instanceof Fl))throw new Oe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return xD(r),new Fn(t.firestore,t instanceof Fl?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="AsyncQueue";class cP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tU(this,"async_queue_retry"),this._c=()=>{const r=e1();r&&Re(oP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=e1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=e1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $l;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cd(e))throw e;Re(oP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$s("INTERNAL UNHANDLED ERROR: ",uP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=NE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:uP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fd extends G0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new cP,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cP(e),this._firestoreClient=void 0,await e}}}function Ode(t,e){const n=typeof t=="object"?t:I0(),r=typeof t=="string"?t:py,a=ro(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=w3("firestore");s&&Ide(a,...s)}return a}function AE(t){if(t._terminated)throw new Oe(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Rde(t),t._firestoreClient}function Rde(t){var r,a,s;const e=t._freezeSettings(),n=(function(d,f,h,p){return new Joe(d,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,vU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Ede(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(pr.fromBase64String(e))}catch(n){throw new Oe(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lh(e,Oa._jsonSchema))return Oa.fromBase64String(e.bytes)}}Oa._jsonSchemaVersion="firestore/bytes/1.0",Oa._jsonSchema={type:Ln("string",Oa._jsonSchemaVersion),bytes:Ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Oe(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Lh(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Ln("string",Bi._jsonSchemaVersion),latitude:Ln("number"),longitude:Ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lh(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new $i(e.vectorValues);throw new Oe(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ln("string",$i._jsonSchemaVersion),vectorValues:Ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde=/^__.*__$/;class Pde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uh(e,this.data,n,this.fieldTransforms)}}class bU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:t})}}class CE{constructor(e,n,r,a,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new CE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wU(this.Ac)&&Dde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||F0(e)}Cc(e,n,r,a=!1){return new CE({Ac:e,methodName:n,Dc:r,path:hr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K0(t){const e=t._freezeSettings(),n=F0(t._databaseId);return new kde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NU(t,e,n,r,a,s={}){const c=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);IE("Data must be an object, but it was:",c,r);const d=EU(r,c);let f,h;if(s.merge)f=new ca(c.fieldMask),h=c.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=kN(e,g,n);if(!c.contains(x))throw new Oe(be.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);AU(p,x)||p.push(x)}f=new ca(p),h=c.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=c.fieldTransforms;return new Pde(new Fr(d),f,h)}class Y0 extends TE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Y0}}function _U(t,e,n,r){const a=t.Cc(1,e,n);IE("Data must be an object, but it was:",a,r);const s=[],c=Fr.empty();ao(r,((f,h)=>{const p=OE(e,f,n);h=_n(h);const g=a.yc(p);if(h instanceof Y0)s.push(p);else{const x=Fh(h,g);x!=null&&(s.push(p),c.set(p,x))}}));const d=new ca(s);return new bU(c,d,a.fieldTransforms)}function jU(t,e,n,r,a,s){const c=t.Cc(1,e,n),d=[kN(e,r,n)],f=[a];if(s.length%2!=0)throw new Oe(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(kN(e,s[x])),f.push(s[x+1]);const h=[],p=Fr.empty();for(let x=d.length-1;x>=0;--x)if(!AU(h,d[x])){const N=d[x];let E=f[x];E=_n(E);const _=c.yc(N);if(E instanceof Y0)h.push(N);else{const j=Fh(E,_);j!=null&&(h.push(N),p.set(N,j))}}const g=new ca(h);return new bU(p,g,c.fieldTransforms)}function Mde(t,e,n,r=!1){return Fh(n,t.Cc(r?4:3,e))}function Fh(t,e){if(SU(t=_n(t)))return IE("Unsupported field value:",e,t),EU(t,e);if(t instanceof TE)return(function(r,a){if(!wU(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let c=0;for(const d of r){let f=Fh(d,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wce(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qt.fromDate(r);return{timestampValue:wy(a.serializer,s)}}if(r instanceof Qt){const s=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wy(a.serializer,s)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:qL(a.serializer,r._byteString)};if(r instanceof Fn){const s=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof $i)return(function(c,d){return{mapValue:{fields:{[vL]:{stringValue:xL},[gy]:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Sc("VectorValues must only contain numeric values.");return uE(d.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${D0(r)}`)})(t,e)}function EU(t,e){const n={};return fL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,((r,a)=>{const s=Fh(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function SU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof Bi||t instanceof Oa||t instanceof Fn||t instanceof TE||t instanceof $i)}function IE(t,e,n){if(!SU(n)||!uL(n)){const r=D0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function kN(t,e,n){if((e=_n(e))instanceof $h)return e._internalPath;if(typeof e=="string")return OE(t,e);throw Ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const Lde=new RegExp("[~\\*/\\[\\]]");function OE(t,e,n){if(e.search(Lde)>=0)throw Ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ey(t,e,n,r,a){const s=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${a}`),f+=")"),new Oe(be.INVALID_ARGUMENT,d+t+f)}function AU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ude(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ude extends TU{data(){return super.data()}}function W0(t,e){return typeof e=="string"?OE(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vde(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Oe(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RE{}class DE extends RE{}function kn(t,e,...n){let r=[];e instanceof RE&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((f=>f instanceof PE)).length,d=s.filter((f=>f instanceof X0)).length;if(c>1||c>0&&d>0)throw new Oe(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class X0 extends DE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new X0(e,n,r)}_apply(e){const n=this._parse(e);return CU(e._query,n),new so(e.firestore,e.converter,EN(e._query,n))}_parse(e){const n=K0(e.firestore);return(function(s,c,d,f,h,p,g){let x;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Oe(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){fP(g,p);const E=[];for(const _ of g)E.push(dP(f,s,_));x={arrayValue:{values:E}}}else x=dP(f,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||fP(g,p),x=Mde(d,c,g,p==="in"||p==="not-in");return Pn.create(h,p,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cn(t,e,n){const r=e,a=W0("where",t);return X0._create(a,r,n)}class PE extends RE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new PE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let c=a;const d=s.getFlattenedFilters();for(const f of d)CU(c,f),c=EN(c,f)})(e._query,n),new so(e.firestore,e.converter,EN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kE extends DE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kE(e,n)}_apply(e){const n=(function(a,s,c){if(a.startAt!==null)throw new Oe(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Oe(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sh(s,c)})(e._query,this._field,this._direction);return new so(e.firestore,e.converter,(function(a,s){const c=a.explicitOrderBy.concat([s]);return new ud(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function qh(t,e="asc"){const n=e,r=W0("orderBy",t);return kE._create(r,n)}class ME extends DE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ME(e,n,r)}_apply(e){return new so(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}function zde(t){return ME._create("limit",t,"F")}function dP(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new Oe(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TL(e)&&n.indexOf("/")!==-1)throw new Oe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!$e.isDocumentKey(r))throw new Oe(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TD(t,new $e(r))}if(n instanceof Fn)return TD(t,n._key);throw new Oe(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${D0(n)}.`)}function fP(t,e){if(!Array.isArray(t)||t.length===0)throw new Oe(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CU(t,e){const n=(function(a,s){for(const c of a)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Oe(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Bde{convertValue(e,n="none"){switch(Ql(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,a,s;const n=(s=(a=(r=e.fields)==null?void 0:r[gy].arrayValue)==null?void 0:a.values)==null?void 0:s.map((c=>bn(c.doubleValue)));return new $i(n)}convertGeoPoint(e){return new Bi(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rh(e));default:return null}}convertTimestamp(e){const n=Wl(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);St(XL(r),9688,{name:e});const a=new ah(r.get(1),r.get(3)),s=new $e(r.popFirst(5));return a.isEqual(n)||$s(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Hp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tu extends TU{constructor(e,n,r,a,s,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(W0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Tu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Tu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Tu._jsonSchema={type:Ln("string",Tu._jsonSchemaVersion),bundleSource:Ln("string","DocumentSnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class ug extends Tu{data(e={}){return super.data(e)}}class Cu{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ug(this._firestore,this._userDataWriter,r.key,r,new Hp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const f=new ug(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>s||d.type!==3)).map((d=>{const f=new ug(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Hp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:$de(d.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Oe(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=aE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $de(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}Cu._jsonSchemaVersion="firestore/querySnapshot/1.0",Cu._jsonSchema={type:Ln("string",Cu._jsonSchemaVersion),bundleSource:Ln("string","QuerySnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class Fde extends Bde{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function et(t){t=Kl(t,so);const e=Kl(t.firestore,fd),n=AE(e),r=new Fde(e);return Vde(t._query),Cde(n,t._query).then((a=>new Cu(e,r,t,a)))}function Ut(t,e,n,...r){t=Kl(t,Fn);const a=Kl(t.firestore,fd),s=K0(a);let c;return c=typeof(e=_n(e))=="string"||e instanceof $h?jU(s,"updateDoc",t._key,e,n,r):_U(s,"updateDoc",t._key,e),Q0(a,[c.toMutation(t._key,Kr.exists(!0))])}function on(t){return Q0(Kl(t.firestore,fd),[new B0(t._key,Kr.none())])}function qt(t,e){const n=Kl(t.firestore,fd),r=Fe(t),a=IU(t.converter,e);return Q0(n,[NU(K0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Kr.exists(!1))]).then((()=>r))}function Q0(t,e){return(function(r,a){const s=new $l;return r.asyncQueue.enqueueAndForget((async()=>pde(await Ade(r),a,s))),s.promise})(AE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qde{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=K0(e)}set(e,n,r){this._verifyNotCommitted();const a=n1(e,this._firestore),s=IU(a.converter,n,r),c=NU(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Kr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const s=n1(e,this._firestore);let c;return c=typeof(n=_n(n))=="string"||n instanceof $h?jU(this._dataReader,"WriteBatch.update",s._key,n,r,a):_U(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(c.toMutation(s._key,Kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=n1(e,this._firestore);return this._mutations=this._mutations.concat(new B0(n._key,Kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function n1(t,e){if((t=_n(t)).firestore!==e)throw new Oe(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){return AE(t=Kl(t,fd)),new qde(t,(e=>Q0(t,e)))}(function(e,n=!0){(function(a){ld=a})(bc),oi(new Ma("firestore",((r,{instanceIdentifier:a,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new fd(new Doe(r.getProvider("auth-internal")),new Moe(c,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(h.options.projectId,p)})(c,a),c);return s={useFetchStreams:n,...s},d._setSettings(s),d}),"PUBLIC").setMultipleInstances(!0)),Gr(pD,gD,e),Gr(pD,gD,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="firebasestorage.googleapis.com",Hde="storageBucket",Gde=120*1e3,Kde=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Ua{constructor(e,n,r=0){super(r1(e),`Firebase Storage: ${n} (${r1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ts.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return r1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qi||(Qi={}));function r1(t){return"storage/"+t}function Yde(){const t="An unknown error occurred, please check the error payload for server response.";return new ts(Qi.UNKNOWN,t)}function Wde(){return new ts(Qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xde(){return new ts(Qi.CANCELED,"User canceled the upload/download.")}function Qde(t){return new ts(Qi.INVALID_URL,"Invalid URL '"+t+"'.")}function Jde(t){return new ts(Qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hP(t){return new ts(Qi.INVALID_ARGUMENT,t)}function DU(){return new ts(Qi.APP_DELETED,"The Firebase app was deleted.")}function Zde(t){return new ts(Qi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(r.path==="")return r;throw Jde(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),f={bucket:1,path:3};function h(T){T.path_=decodeURIComponent(T.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",N=new RegExp(`^https?://${g}/${p}/b/${a}/o${x}`,"i"),E={bucket:1,path:3},_=n===RU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",C=new RegExp(`^https?://${_}/${a}/${j}`,"i"),k=[{regex:d,indices:f,postModify:s},{regex:N,indices:E,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let T=0;T<k.length;T++){const R=k[T],L=R.regex.exec(e);if(L){const D=L[R.indices.bucket];let U=L[R.indices.path];U||(U=""),r=new ni(D,U),R.postModify(r);break}}if(r==null)throw Qde(e);return r}}class efe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tfe(t,e,n){let r=1,a=null,s=null,c=!1,d=0;function f(){return d===2}let h=!1;function p(...j){h||(h=!0,e.apply(null,j))}function g(j){a=setTimeout(()=>{a=null,t(N,f())},j)}function x(){s&&clearTimeout(s)}function N(j,...C){if(h){x();return}if(j){x(),p.call(null,j,...C);return}if(f()||c){x(),p.call(null,j,...C);return}r<64&&(r*=2);let k;d===1?(d=2,k=0):k=(r+Math.random())*1e3,g(k)}let E=!1;function _(j){E||(E=!0,x(),!h&&(a!==null?(j||(d=2),clearTimeout(a),g(0)):j||(d=1)))}return g(0),s=setTimeout(()=>{c=!0,_(!0)},n),_}function nfe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rfe(t){return t!==void 0}function mP(t,e,n,r){if(r<e)throw hP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hP(`Invalid value for '${t}'. Expected ${n} or less.`)}function afe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Sy;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Sy||(Sy={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ife(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sfe{constructor(e,n,r,a,s,c,d,f,h,p,g,x=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,_)=>{this.resolve_=E,this.reject_=_,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Gp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Sy.NO_ERROR,f=s.getStatus();if(!d||ife(f,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Sy.ABORT;r(!1,new Gp(!1,null,p));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new Gp(h,s))})},n=(r,a)=>{const s=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());rfe(f)?s(f):s()}catch(f){c(f)}else if(d!==null){const f=Yde();f.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,f)):c(f)}else if(a.canceled){const f=this.appDelete_?DU():Xde();c(f)}else{const f=Wde();c(f)}};this.canceled_?n(!1,new Gp(!1,null,!0)):this.backoffId_=tfe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nfe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lfe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ofe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cfe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ufe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dfe(t,e,n,r,a,s,c=!0,d=!1){const f=afe(t.urlParams),h=t.url+f,p=Object.assign({},t.headers);return cfe(p,e),lfe(p,n),ofe(p,s),ufe(p,r),new sfe(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ffe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hfe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ay(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hfe(this._location.path)}get storage(){return this._service}get parent(){const e=ffe(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new Ay(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zde(e)}}function pP(t,e){const n=e==null?void 0:e[Hde];return n==null?null:ni.makeFromBucketSpec(n,t)}function mfe(t,e,n,r={}){t.host=`${e}:${n}`;const a=vc(e);a&&(Yj(`https://${t.host}/b`),Wj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:j3(s,t.app.options.projectId))}class pfe{constructor(e,n,r,a,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=RU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Gde,this._maxUploadRetryTime=Kde,this._requests=new Set,a!=null?this._bucket=ni.makeFromBucketSpec(a,this._host):this._bucket=pP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=pP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new efe(DU());{const c=dfe(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const gP="@firebase/storage",yP="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="storage";function gfe(t=I0(),e){t=_n(t);const r=ro(t,PU).getImmediate({identifier:e}),a=w3("storage");return a&&yfe(r,...a),r}function yfe(t,e,n,r={}){mfe(t,e,n,r)}function vfe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new pfe(n,r,a,e,bc)}function xfe(){oi(new Ma(PU,vfe,"PUBLIC").setMultipleInstances(!0)),Gr(gP,yP,""),Gr(gP,yP,"esm2020")}xfe();function kU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bfe=kU,MU=new xc("auth","Firebase",kU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new C0("@firebase/auth");function wfe(t,...e){Ty.logLevel<=ht.WARN&&Ty.warn(`Auth (${bc}): ${t}`,...e)}function dg(t,...e){Ty.logLevel<=ht.ERROR&&Ty.error(`Auth (${bc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,...e){throw LE(t,...e)}function Fi(t,...e){return LE(t,...e)}function LU(t,e,n){const r={...bfe(),[e]:n};return new xc("auth","Firebase",r).create(e,{appName:t.name})}function Zo(t){return LU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MU.create(t,...e)}function Xe(t,e,...n){if(!t)throw LE(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dg(e),new Error(e)}function Hs(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Nfe(){return vP()==="http:"||vP()==="https:"}function vP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nfe()||E3()||"connection"in navigator)?navigator.onLine:!0}function jfe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=Lie()||zie()}get(){return _fe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Efe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sfe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Afe=new Hh(3e4,6e4);function VE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hd(t,e,n,r,a={}){return VU(t,a,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const d=Mh({key:t.config.apiKey,...c}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return Vie()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&vc(t.emulatorConfig.host)&&(h.credentials="include"),UU.fetch()(await zU(t,t.config.apiHost,n,d),h)})}async function VU(t,e,n){t._canInitEmulator=!1;const r={...Efe,...e};try{const a=new Cfe(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Kp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kp(t,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Kp(t,"email-already-in-use",c);if(f==="USER_DISABLED")throw Kp(t,"user-disabled",c);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw LU(t,p,h);qs(t,p)}}catch(a){if(a instanceof Ua)throw a;qs(t,"network-request-failed",{message:String(a)})}}async function Tfe(t,e,n,r,a={}){const s=await hd(t,e,n,r,a);return"mfaPendingCredential"in s&&qs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function zU(t,e,n,r){const a=`${e}${n}?${r}`,s=t,c=s.config.emulator?UE(t.config,a):`${t.config.apiScheme}://${a}`;return Sfe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}class Cfe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fi(this.auth,"network-request-failed")),Afe.get())})}}function Kp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Fi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ife(t,e){return hd(t,"POST","/v1/accounts:delete",e)}async function Cy(t,e){return hd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ofe(t,e=!1){const n=_n(t),r=await n.getIdToken(e),a=zE(r);Xe(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s==null?void 0:s.sign_in_provider;return{claims:a,token:r,authTime:Uf(a1(a.auth_time)),issuedAtTime:Uf(a1(a.iat)),expirationTime:Uf(a1(a.exp)),signInProvider:c||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function a1(t){return Number(t)*1e3}function zE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dg("JWT malformed, contained fewer than 3 sections"),null;try{const a=x3(n);return a?JSON.parse(a):(dg("Failed to decode base64 JWT payload"),null)}catch(a){return dg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function xP(t){const e=zE(t);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ua&&Rfe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Rfe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dfe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uf(this.lastLoginAt),this.creationTime=Uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await ch(t,Cy(e,{idToken:n}));Xe(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=(g=a.providerUserInfo)!=null&&g.length?BU(a.providerUserInfo):[],c=kfe(t.providerData,s),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),h=d?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new LN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Pfe(t){const e=_n(t);await Iy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kfe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function BU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mfe(t,e){const n=await VU(t,{},async()=>{const r=Mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await zU(t,a,"/v1/token",`key=${s}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return t.emulatorConfig&&vc(t.emulatorConfig.host)&&(f.credentials="include"),UU.fetch()(c,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lfe(t,e){return hd(t,"POST","/v2/accounts:revokeToken",VE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const n=xP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await Mfe(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,c=new Iu;return r&&(Xe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Xe(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&(Xe(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Iu,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t,e){Xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Dfe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new LN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ch(this,this.stsTokenManager.getToken(this.auth,e));return Xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ofe(this,e)}reload(){return Pfe(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Iy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Zo(this.auth));const e=await this.getIdToken();return await ch(this,Ife(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:N,providerData:E,stsTokenManager:_}=n;Xe(g&&_,e,"internal-error");const j=Iu.fromJSON(this.name,_);Xe(typeof g=="string",e,"internal-error"),Cl(r,e.name),Cl(a,e.name),Xe(typeof x=="boolean",e,"internal-error"),Xe(typeof N=="boolean",e,"internal-error"),Cl(s,e.name),Cl(c,e.name),Cl(d,e.name),Cl(f,e.name),Cl(h,e.name),Cl(p,e.name);const C=new ri({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:N,photoURL:c,phoneNumber:s,tenantId:d,stsTokenManager:j,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(M=>({...M}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Iu;a.updateFromServerResponse(n);const s=new ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Iy(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Xe(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?BU(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(s!=null&&s.length),d=new Iu;d.updateFromIdToken(r);const f=new ri({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new LN(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;function As(t){Hs(t instanceof Function,"Expected a class definition");let e=bP.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$U.type="NONE";const wP=$U;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ou{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=fg(this.userKey,a.apiKey,s),this.fullPersistenceKey=fg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cy(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ou(As(wP),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||As(wP);const c=fg(r,e.config.apiKey,e.name);let d=null;for(const h of n)try{const p=await h._get(c);if(p){let g;if(typeof p=="string"){const x=await Cy(e,{idToken:p}).catch(()=>{});if(!x)break;g=await ri._fromGetAccountInfoResponse(e,x,p)}else g=ri._fromJSON(e,p);h!==s&&(d=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Ou(s,e,r):(s=f[0],d&&await s._set(c,d.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(c)}catch{}})),new Ou(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YU(e))return"Blackberry";if(WU(e))return"Webos";if(qU(e))return"Safari";if((e.includes("chrome/")||HU(e))&&!e.includes("edge/"))return"Chrome";if(KU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FU(t=jr()){return/firefox\//i.test(t)}function qU(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HU(t=jr()){return/crios\//i.test(t)}function GU(t=jr()){return/iemobile/i.test(t)}function KU(t=jr()){return/android/i.test(t)}function YU(t=jr()){return/blackberry/i.test(t)}function WU(t=jr()){return/webos/i.test(t)}function BE(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ufe(t=jr()){var e;return BE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Vfe(){return Bie()&&document.documentMode===10}function XU(t=jr()){return BE(t)||KU(t)||WU(t)||YU(t)||/windows phone/i.test(t)||GU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t,e=[]){let n;switch(t){case"Browser":n=NP(jr());break;case"Worker":n=`${NP(jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,d)=>{try{const f=e(s);c(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bfe(t,e={}){return hd(t,"GET","/v2/passwordPolicy",VE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe=6;class Ffe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$fe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qfe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _P(this),this.idTokenSubscription=new _P(this),this.beforeStateQueue=new zfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{var r,a,s;if(!this._deleted&&(this.persistenceManager=await Ou.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cy(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)==null?void 0:s._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Iy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jfe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Zo(this));const n=e?_n(e):null;return n&&Xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Zo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Zo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bfe(this),n=new Ffe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lfe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;Xe(n,this,"argument-error"),this.redirectPersistenceManager=await Ou.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{c=!0,f()}}else{const f=e.addObserver(n);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&wfe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $E(t){return _n(t)}class _P{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yie(n=>this.observer=n)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hfe(t){FE=t}function Gfe(t){return FE.loadJS(t)}function Kfe(){return FE.gapiScript}function Yfe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wfe(t,e){const n=ro(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Gl(s,e??{}))return a;qs(a,"already-initialized")}return n.initialize({options:e})}function Xfe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(As);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Qfe(t,e,n){const r=$E(t);Xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=JU(e),{host:c,port:d}=Jfe(e),f=d===null?"":`:${d}`,h={url:`${s}//${c}${f}/`},p=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Xe(Gl(h,r.config.emulator)&&Gl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,vc(c)?(Yj(`${s}//${c}${f}`),Wj("Auth",!0)):Zfe()}function JU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Jfe(t){const e=JU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:jP(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:jP(c)}}}function jP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t,e){return Tfe(t,"POST","/v1/accounts:signInWithIdp",VE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ehe="http://localhost";class fc extends ZU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const c=new fc(r,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ru(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ru(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ru(e,n)}buildRequest(){const e={requestUri:ehe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends eV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Gh{constructor(){super("facebook.com")}static credential(e){return fc._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dl.credential(e.oauthAccessToken)}catch{return null}}}Dl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fc._fromParams({providerId:Pl.PROVIDER_ID,signInMethod:Pl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pl.credentialFromTaggedObject(e)}static credentialFromError(e){return Pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pl.credential(n,r)}catch{return null}}}Pl.GOOGLE_SIGN_IN_METHOD="google.com";Pl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Gh{constructor(){super("github.com")}static credential(e){return fc._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kl.credential(e.oauthAccessToken)}catch{return null}}}kl.GITHUB_SIGN_IN_METHOD="github.com";kl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Gh{constructor(){super("twitter.com")}static credential(e,n){return fc._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ml.credential(n,r)}catch{return null}}}Ml.TWITTER_SIGN_IN_METHOD="twitter.com";Ml.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await ri._fromIdTokenResponse(e,r,a),c=EP(r);return new Yu({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=EP(r);return new Yu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function EP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Ua{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Oy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Oy(e,n,r,a)}}function tV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oy._fromErrorAndOperation(t,s,e,r):s})}async function the(t,e,n=!1){const r=await ch(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nhe(t,e,n=!1){const{auth:r}=t;if(ti(r.app))return Promise.reject(Zo(r));const a="reauthenticate";try{const s=await ch(t,tV(r,a,e,t),n);Xe(s.idToken,r,"internal-error");const c=zE(s.idToken);Xe(c,r,"internal-error");const{sub:d}=c;return Xe(t.uid===d,r,"user-mismatch"),Yu._forOperation(t,a,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rhe(t,e,n=!1){if(ti(t.app))return Promise.reject(Zo(t));const r="signIn",a=await tV(t,r,e),s=await Yu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}function ahe(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function ihe(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}const Ry="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ry,"1"),this.storage.removeItem(Ry),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const she=1e3,lhe=10;class rV extends nV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);Vfe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lhe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},she)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rV.type="LOCAL";const ohe=rV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV extends nV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aV.type="SESSION";const iV=aV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function che(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new J0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async h=>h(n.origin,s)),f=await che(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}J0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((d,f)=>{const h=qE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function dhe(t){qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function fhe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hhe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mhe(){return sV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="firebaseLocalStorageDb",phe=1,Dy="firebaseLocalStorage",oV="fbase_key";class Kh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Z0(t,e){return t.transaction([Dy],e?"readwrite":"readonly").objectStore(Dy)}function ghe(){const t=indexedDB.deleteDatabase(lV);return new Kh(t).toPromise()}function UN(){const t=indexedDB.open(lV,phe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dy,{keyPath:oV})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dy)?e(r):(r.close(),await ghe(),e(await UN()))})})}async function SP(t,e,n){const r=Z0(t,!0).put({[oV]:e,value:n});return new Kh(r).toPromise()}async function yhe(t,e){const n=Z0(t,!1).get(e),r=await new Kh(n).toPromise();return r===void 0?null:r.value}function AP(t,e){const n=Z0(t,!0).delete(e);return new Kh(n).toPromise()}const vhe=800,xhe=3;class cV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await UN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xhe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=J0._getInstance(mhe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fhe(),!this.activeServiceWorker)return;this.sender=new uhe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hhe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await UN();return await SP(e,Ry,"1"),await AP(e,Ry),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>SP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yhe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=Z0(a,!1).getAll();return new Kh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vhe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cV.type="LOCAL";const bhe=cV;new Hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function whe(t,e){return e?As(e):(Xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends ZU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ru(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ru(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nhe(t){return rhe(t.auth,new HE(t),t.bypassAuthState)}function _he(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),nhe(n,new HE(t),t.bypassAuthState)}async function jhe(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),the(n,new HE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nhe;case"linkViaPopup":case"linkViaRedirect":return jhe;case"reauthViaPopup":case"reauthViaRedirect":return _he;default:qs(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ehe=new Hh(2e3,1e4);class _u extends uV{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,_u.currentPopupAction&&_u.currentPopupAction.cancel(),_u.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=qE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_u.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ehe.get())};e()}}_u.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const She="pendingRedirect",hg=new Map;class Ahe extends uV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hg.get(this.auth._key());if(!e){try{const r=await The(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hg.set(this.auth._key(),e)}return this.bypassAuthState||hg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function The(t,e){const n=Ohe(e),r=Ihe(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Che(t,e){hg.set(t._key(),e)}function Ihe(t){return As(t._redirectPersistence)}function Ohe(t){return fg(She,t.config.apiKey,t.name)}async function Rhe(t,e,n=!1){if(ti(t.app))return Promise.reject(Zo(t));const r=$E(t),a=whe(r,e),c=await new Ahe(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dhe=600*1e3;class Phe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!khe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dV(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dhe&&this.cachedEventUids.clear(),this.cachedEventUids.has(TP(e))}saveEventToCache(e){this.cachedEventUids.add(TP(e)),this.lastProcessedEventTime=Date.now()}}function TP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function khe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mhe(t,e={}){return hd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uhe=/^https?/;async function Vhe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mhe(t);for(const n of e)try{if(zhe(n))return}catch{}qs(t,"unauthorized-domain")}function zhe(t){const e=MN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Uhe.test(n))return!1;if(Lhe.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bhe=new Hh(3e4,6e4);function CP(){const t=qi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $he(t){return new Promise((e,n)=>{var a,s,c;function r(){CP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CP(),n(Fi(t,"network-request-failed"))},timeout:Bhe.get()})}if((s=(a=qi().gapi)==null?void 0:a.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((c=qi().gapi)!=null&&c.load)r();else{const d=Yfe("iframefcb");return qi()[d]=()=>{gapi.load?r():n(Fi(t,"network-request-failed"))},Gfe(`${Kfe()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw mg=null,e})}let mg=null;function Fhe(t){return mg=mg||$he(t),mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe=new Hh(5e3,15e3),Hhe="__/auth/iframe",Ghe="emulator/auth/iframe",Khe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Whe(t){const e=t.config;Xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UE(e,Ghe):`https://${t.config.authDomain}/${Hhe}`,r={apiKey:e.apiKey,appName:t.name,v:bc},a=Yhe.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mh(r).slice(1)}`}async function Xhe(t){const e=await Fhe(t),n=qi().gapi;return Xe(n,t,"internal-error"),e.open({where:document.body,url:Whe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Khe,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const c=Fi(t,"network-request-failed"),d=qi().setTimeout(()=>{s(c)},qhe.get());function f(){qi().clearTimeout(d),a(r)}r.ping(f).then(f,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jhe=500,Zhe=600,eme="_blank",tme="http://localhost";class IP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nme(t,e,n,r=Jhe,a=Zhe){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Qhe,width:r.toString(),height:a.toString(),top:s,left:c},h=jr().toLowerCase();n&&(d=HU(h)?eme:n),FU(h)&&(e=e||tme,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[N,E])=>`${x}${N}=${E},`,"");if(Ufe(h)&&d!=="_self")return rme(e||"",d),new IP(null);const g=window.open(e||"",d,p);Xe(g,t,"popup-blocked");try{g.focus()}catch{}return new IP(g)}function rme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame="__/auth/handler",ime="emulator/auth/handler",sme=encodeURIComponent("fac");async function OP(t,e,n,r,a,s){Xe(t.config.authDomain,t,"auth-domain-config-required"),Xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bc,eventId:a};if(e instanceof eV){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",Kie(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Gh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const f=await t._getAppCheckToken(),h=f?`#${sme}=${encodeURIComponent(f)}`:"";return`${lme(t)}?${Mh(d).slice(1)}${h}`}function lme({config:t}){return t.emulator?UE(t,ime):`https://${t.authDomain}/${ame}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="webStorageSupport";class ome{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iV,this._completeRedirectFn=Rhe,this._overrideRedirectResult=Che}async _openPopup(e,n,r,a){var c;Hs((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const s=await OP(e,n,r,MN(),a);return nme(e,s,qE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await OP(e,n,r,MN(),a);return dhe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Hs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xhe(e),r=new Phe(e);return n.register("authEvent",a=>(Xe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(i1,{type:i1},a=>{var c;const s=(c=a==null?void 0:a[0])==null?void 0:c[i1];s!==void 0&&n(!!s),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vhe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XU()||qU()||BE()}}const cme=ome;var RP="@firebase/auth",DP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ume{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fme(t){oi(new Ma("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Xe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QU(t)},h=new qfe(r,a,s,f);return Xfe(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oi(new Ma("auth-internal",e=>{const n=$E(e.getProvider("auth").getImmediate());return(r=>new ume(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(RP,DP,dme(t)),Gr(RP,DP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hme=300,mme=_3("authIdTokenMaxAge")||hme;let PP=null;const pme=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mme)return;const a=n==null?void 0:n.token;PP!==a&&(PP=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gme(t=I0()){const e=ro(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wfe(t,{popupRedirectResolver:cme,persistence:[bhe,ohe,iV]}),r=_3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=pme(s.toString());ihe(n,c,()=>c(n.currentUser)),ahe(n,d=>c(d))}}const a=b3("auth");return a&&Qfe(n,`http://${a}`),n}function yme(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Hfe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=Fi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",yme().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fme("Browser");const vme={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},ev=O3(vme);Soe(ev);const pe=Ode(ev);gfe(ev);gme(ev);const xme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",lo=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const s=r.result.split(",")[1];if(!s){n(new Error("   ."));return}const c={base64:s,type:t.type,name:t.name},d=await fetch(xme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const f=await d.json();f.status==="success"&&f.url?e(f.url):n(new Error(f.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Se=async(t,e,n="")=>{try{await qt(Ie(pe,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},bme=async()=>{try{const t=kn(Ie(pe,"activity_logs"),zde(100));let n=(await et(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},wme=async t=>{await on(Fe(pe,"activity_logs",t))},Nme=async(t,e)=>{try{const n=kn(Ie(pe,"staff"),cn("username","==",t),cn("password","==",e)),r=await et(n);if(!r.empty){const x=r.docs[0].data();let N=_e.STAFF;return t.toLowerCase()==="admin"&&(N=_e.ADMIN),await Se(" ",x.name,`  ${N}`),{id:r.docs[0].id,name:x.name,role:N,details:x.rank}}const a=kn(Ie(pe,"employees"),cn("username","==",t),cn("password","==",e)),s=await et(a);if(!s.empty){const x=s.docs[0].data();return await Se(" ",x.name,`: ${x.jobTitle}`),{id:s.docs[0].id,name:x.name,role:_e.EMPLOYEE,details:x.jobTitle}}const c=kn(Ie(pe,"pg_students"),cn("username","==",t),cn("password","==",e)),d=await et(c);if(!d.empty){const x=d.docs[0].data();return await Se(" ",x.name,"  "),{id:d.docs[0].id,name:x.name,role:_e.STUDENT_PG,details:" "}}const f=kn(Ie(pe,"ug_students"),cn("username","==",t),cn("password","==",e)),h=await et(f);if(!h.empty){const x=h.docs[0].data();return await Se(" ",x.name," "),{id:h.docs[0].id,name:x.name,role:_e.STUDENT_UG,details:" "}}const p=kn(Ie(pe,"alumni"),cn("username","==",t),cn("password","==",e)),g=await et(p);if(!g.empty){const x=g.docs[0].data();return await Se(" ",x.name,""),{id:g.docs[0].id,name:x.name,role:_e.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},oo=async t=>{try{const e=Ie(pe,"archive");let n;return t?n=kn(e,cn("type","==",t)):n=kn(e),(await et(n)).docs.map(s=>({id:s.id,...s.data()})).sort((s,c)=>c.createdAt-s.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},tv=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await qt(Ie(pe,"archive"),e);return{...e,id:n.id}},uh=async(t,e)=>{await Ut(Fe(pe,"archive",t),e)},Yh=async t=>{await on(Fe(pe,"archive",t))},GE=async t=>{const e=await oo(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},_me=async()=>{const t=await et(Ie(pe,"archive")),e=await et(Ie(pe,"staff")),n=await et(Ie(pe,"pg_students")),r=await et(Ie(pe,"alumni")),a=await et(Ie(pe,"employees")),s=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:s.filter(d=>d.type===nt.INCOMING).length,totalOutgoing:s.filter(d=>d.type===nt.OUTGOING).length,totalCouncils:s.filter(d=>d.type===nt.DEPARTMENT_COUNCIL).length,totalCommittees:s.filter(d=>d.type===nt.COMMITTEE_MEETING).length,todayCount:s.filter(d=>d.date===c).length,unansweredCount:s.filter(d=>d.type===nt.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},nv=async()=>(await et(Ie(pe,"staff"))).docs.map(e=>({id:e.id,...e.data()})),fV=async t=>{await qt(Ie(pe,"staff"),t)},VN=async(t,e)=>{await Ut(Fe(pe,"staff",t),e)},hV=async t=>{await on(Fe(pe,"staff",t))},jme=async()=>(await et(Ie(pe,"employees"))).docs.map(e=>({id:e.id,...e.data()})),Eme=async t=>{await qt(Ie(pe,"employees"),t)},Sme=async(t,e)=>{await Ut(Fe(pe,"employees",t),e)},Ame=async t=>{await on(Fe(pe,"employees",t))},Tme=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},mV=async()=>(await et(Ie(pe,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:Tme(n.dates)}}),Cme=async t=>{await qt(Ie(pe,"pg_students"),t)},zN=async(t,e)=>{await Ut(Fe(pe,"pg_students",t),e)},Ime=async t=>{await on(Fe(pe,"pg_students",t))},Ome=async()=>(await et(Ie(pe,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),Rme=async t=>{await qt(Ie(pe,"ug_students"),t)},Dme=async(t,e)=>{await Ut(Fe(pe,"ug_students",t),e)},Pme=async t=>{await on(Fe(pe,"ug_students",t))},kme=async()=>(await et(Ie(pe,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),pV=async t=>{await qt(Ie(pe,"alumni"),t)},Mme=async(t,e)=>{await Ut(Fe(pe,"alumni",t),e)},Lme=async t=>{await on(Fe(pe,"alumni",t))},Ume=async()=>(await et(Ie(pe,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),Vme=async t=>{await qt(Ie(pe,"jobs"),{...t,status:t.status||"OPEN"})},zme=async(t,e)=>{await Ut(Fe(pe,"jobs",t),e)},Bme=async t=>{await on(Fe(pe,"jobs",t))},$me=async()=>(await et(Ie(pe,"assets"))).docs.map(e=>({id:e.id,...e.data()})),Fme=async t=>{await qt(Ie(pe,"assets"),{...t,createdAt:Date.now()})},qme=async(t,e)=>{await Ut(Fe(pe,"assets",t),e)},Hme=async t=>{await on(Fe(pe,"assets",t))},Gme=async()=>(await et(Ie(pe,"labs"))).docs.map(e=>({id:e.id,...e.data()})),Kme=async t=>{await qt(Ie(pe,"labs"),t)},Yme=async(t,e)=>{await Ut(Fe(pe,"labs",t),e)},Wme=async t=>{await on(Fe(pe,"labs",t))},Xme=async()=>(await et(Ie(pe,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),Qme=async t=>{await qt(Ie(pe,"lab_classes"),t)},Jme=async(t,e)=>{await Ut(Fe(pe,"lab_classes",t),e)},Zme=async t=>{await on(Fe(pe,"lab_classes",t))},epe=async()=>(await et(Ie(pe,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),tpe=async t=>{await qt(Ie(pe,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},npe=async(t,e)=>{await Ut(Fe(pe,"lab_bookings",t),e)},rpe=async t=>{await on(Fe(pe,"lab_bookings",t))},ape=async()=>{const e=(await et(Ie(pe,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=OU(pe),r=[];for(let a=1;a<=12;a++){const s=Fe(Ie(pe,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(s,c),r.push({id:s.id,...c})}return await n.commit(),r}return e},kP=async(t,e)=>{await Ut(Fe(pe,"greenhouse_plots",t),e)},ipe=async()=>(await et(Ie(pe,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),spe=async t=>{await qt(Ie(pe,"greenhouse_history"),t)},lpe=async t=>{await on(Fe(pe,"greenhouse_history",t))},ope=async()=>(await et(Ie(pe,"materials"))).docs.map(e=>({id:e.id,...e.data()})),cpe=async t=>{await qt(Ie(pe,"materials"),t)},upe=async t=>{await on(Fe(pe,"materials",t))},dpe=async()=>(await et(Ie(pe,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),fpe=async t=>{await qt(Ie(pe,"announcements"),t)},hpe=async t=>{await on(Fe(pe,"announcements",t))},mpe=async()=>(await et(Ie(pe,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),ppe=async t=>{await qt(Ie(pe,"schedules"),t)},gpe=async t=>{await on(Fe(pe,"schedules",t))},ype=async()=>(await et(Ie(pe,"events"))).docs.map(e=>({id:e.id,...e.data()})),vpe=async t=>{await qt(Ie(pe,"events"),{...t,createdAt:Date.now()})},xpe=async(t,e)=>{await Ut(Fe(pe,"events",t),e)},bpe=async t=>{await on(Fe(pe,"events",t))},wpe=async()=>(await et(Ie(pe,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),Npe=async t=>{await qt(Ie(pe,"dept_councils"),t)},_pe=async(t,e)=>{await Ut(Fe(pe,"dept_councils",t),e)},jpe=async t=>{await on(Fe(pe,"dept_councils",t))},Epe=async()=>(await et(Ie(pe,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),Spe=async t=>{await qt(Ie(pe,"dept_committees"),t)},Ape=async(t,e)=>{await Ut(Fe(pe,"dept_committees",t),e)},Tpe=async t=>{await on(Fe(pe,"dept_committees",t))},Cpe=async(t,e)=>{const n=kn(Ie(pe,"annual_reports"),cn("userId","==",t),cn("academicYear","==",e)),r=await et(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},Ipe=async(t,e)=>{e?await Ut(Fe(pe,"annual_reports",e),{...t}):await qt(Ie(pe,"annual_reports"),t)},Ope=async t=>{const e=kn(Ie(pe,"annual_reports"),cn("academicYear","==",t));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},KE=async()=>{const t=kn(Ie(pe,"research_plans"),cn("status","==","ACTIVE")),e=await et(t);return e.empty?(await Zpe(),KE()):{id:e.docs[0].id,...e.docs[0].data()}},Rpe=async()=>{const t=kn(Ie(pe,"research_plans"),qh("startDate","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},Dpe=async t=>{if(t.status==="ACTIVE"){const e=await KE();e&&await kpe(e.id)}await qt(Ie(pe,"research_plans"),t)},Uo=async(t,e)=>{await Ut(Fe(pe,"research_plans",t),e)},Ppe=async t=>{await on(Fe(pe,"research_plans",t))},kpe=async t=>{await Ut(Fe(pe,"research_plans",t),{status:"ARCHIVED"})},Mpe=async()=>{const t=kn(Ie(pe,"research_proposals"),qh("createdAt","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},Lpe=async t=>{const e=JSON.parse(JSON.stringify(t));await qt(Ie(pe,"research_proposals"),{...e,createdAt:Date.now()})},Upe=async(t,e,n)=>{await Ut(Fe(pe,"research_proposals",t),{status:e,adminNotes:n})},Vpe=async t=>{await qt(Ie(pe,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},zpe=async t=>{const e=kn(Ie(pe,"leave_requests"),cn("userId","==",t),qh("createdAt","desc"));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},Bpe=async t=>{const e=kn(Ie(pe,"leave_requests"),cn("substituteId","==",t),cn("status","==","PENDING_SUBSTITUTE"));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},$pe=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await Ut(Fe(pe,"leave_requests",t),r)},s1=async t=>{await qt(Ie(pe,"career_requests"),{...t,createdAt:Date.now(),status:"PENDING_DEPT"})},Fpe=async t=>{const e=kn(Ie(pe,"career_requests"));return(await et(e)).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.userId===t).sort((a,s)=>s.createdAt-a.createdAt)},qpe=async()=>{const t=kn(Ie(pe,"career_requests"),qh("createdAt","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},Hpe=async(t,e)=>{await Ut(Fe(pe,"career_requests",t),{status:e})},Gpe=async t=>{const e=kn(Ie(pe,"career_requests"),cn("userId","==",t),cn("type","==","LOAN"),cn("status","==","APPROVED")),n=await et(e);let r=0;return n.forEach(a=>{const s=a.data(),c=new Date(s.startDate).getFullYear(),d=new Date(s.endDate).getFullYear();r+=d-c+1}),r},Kpe=async()=>{const t=kn(Ie(pe,"repository_items"),qh("createdAt","desc"));return(await et(t)).docs.map(n=>({id:n.id,...n.data()}))},Ype=async t=>{await qt(Ie(pe,"repository_items"),{...t,createdAt:Date.now()})},Wpe=async t=>{await qt(Ie(pe,"repository_requests"),{...t,status:"PENDING",createdAt:Date.now()})},Xpe=async t=>{const e=kn(Ie(pe,"repository_requests"),cn("itemAuthorId","==",t),cn("status","==","PENDING"));return(await et(e)).docs.map(r=>({id:r.id,...r.data()}))},Qpe=async(t,e)=>{await Ut(Fe(pe,"repository_requests",t),{status:e,responseDate:new Date().toISOString()})},Jpe=async()=>{const e=(await et(Ie(pe,"repository_items"))).docs.map(n=>n.data());return{totalItems:e.length,theses:e.filter(n=>n.type.includes("THESIS")).length,papers:e.filter(n=>n.type.includes("PAPER")).length,books:e.filter(n=>n.type==="BOOK").length}},Zpe=async()=>{if(!(await et(Ie(pe,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await qt(Ie(pe,"research_plans"),e)},ege=async()=>{if(!(await et(Ie(pe,"staff"))).empty)return;console.log("Seeding initial data...");const e=OU(pe),n=Fe(Ie(pe,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},tge=()=>{const[t,e]=w.useState(null),[n,r]=w.useState([]),[a,s]=w.useState(!0),c=async()=>{s(!0);const f=await _me(),h=await oo();e(f),r(h.slice(0,5)),s(!1)};if(w.useEffect(()=>{c()},[]),a||!t)return l.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:l.jsx(h1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),l.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[l.jsx(h1,{className:"w-4 h-4"})," "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Ia,{title:" ",value:t.totalIncoming,icon:l4,color:"blue"}),l.jsx(Ia,{title:" ",value:t.totalOutgoing,icon:o4,color:"green"}),l.jsx(Ia,{title:" ",value:t.totalCouncils,icon:ai,color:"purple"}),l.jsx(Ia,{title:" ",value:t.totalCommittees,icon:s4,color:"amber"})]}),l.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Ia,{title:"  ",value:t.totalStaff,icon:ai,color:"green"}),l.jsx(Ia,{title:" ",value:t.totalEmployees,icon:a4,color:"amber"}),l.jsx(Ia,{title:"  ",value:t.totalStudentsPG,icon:Yo,color:"blue"}),l.jsx(Ia,{title:" ",value:t.totalAlumni,icon:Ds,color:"purple"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b text-gray-500",children:[l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[n.map(f=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs ${f.type===nt.INCOMING?"bg-blue-100 text-blue-700":f.type===nt.OUTGOING?"bg-green-100 text-green-700":f.type===nt.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:f.type===nt.INCOMING?"":f.type===nt.OUTGOING?"":f.type===nt.DEPARTMENT_COUNCIL?"":""}),f.type===nt.INCOMING&&f.actionRequired&&(f.isFollowedUp?l.jsx(la,{className:"w-4 h-4 text-green-500",title:" "}):l.jsx(Hi,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),l.jsx("td",{className:"py-3 font-medium text-gray-700",children:f.serialNumber}),l.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:f.subject}),l.jsx("td",{className:"py-3 text-gray-500",children:f.date})]},f.id)),n.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[l.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),l.jsx(zk,{width:"100%",height:250,children:l.jsxs(pie,{data:d,children:[l.jsx(Z6,{strokeDasharray:"3 3",vertical:!1}),l.jsx(t3,{dataKey:"name",tick:{fontFamily:"Cairo"}}),l.jsx(n3,{allowDecimals:!1}),l.jsx(g6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),l.jsx(G6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},nge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[N,E]=w.useState(null);w.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const T=await oo(nt.OUTGOING);c(T),n(!1)},j=async()=>{const T=await GE(nt.OUTGOING);x({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),E(null),p(null),f(!0)},C=T=>{x({serialNumber:T.serialNumber,date:T.date,recipient:T.recipient||"",subject:T.subject,notes:T.notes||""}),p(T.id),E(null),f(!0)},M=async T=>{if(window.confirm("      "))try{await Yh(T.id),await Se(" ",t.name,`   : ${T.serialNumber}`),_()}catch(R){console.error(R),alert(" ")}},k=async T=>{T.preventDefault(),a(!0);try{let R="";if(N)try{R=await lo(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(h){const L={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};R&&(L.fileUrl=R),await uh(h,L),await Se(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await tv({type:nt.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:R||""}),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),_()}catch(R){console.error(R),alert(" : "+R.message)}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&l.jsxs("button",{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-green-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:T=>x({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>x({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:T=>x({...g,recipient:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:T=>x({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("textarea",{rows:2,value:g.notes,onChange:T=>x({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>E(T.target.files?T.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(Ze,{className:"w-8 h-8 text-green-600 animate-spin"}):l.jsx(Ir,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(Ze,{className:"w-5 h-5 animate-spin"}):l.jsx(wn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),l.jsx("td",{className:"p-4",children:T.date}),l.jsx("td",{className:"p-4",children:T.recipient}),l.jsx("td",{className:"p-4 max-w-xs truncate",title:T.subject,children:T.subject}),l.jsx("td",{className:"p-4",children:T.fileUrl?l.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[l.jsx(Nr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),l.jsxs("td",{className:"p-4 flex items-center gap-2",children:[l.jsx("button",{onClick:()=>C(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>M(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},T.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},rge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[N,E]=w.useState(null),_=["./  ",".  ",".  "," "," "];w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const L=await oo(nt.INCOMING);c(L),n(!1)},C=async()=>{const L=await GE(nt.INCOMING);x({...g,serialNumber:L,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),E(null),p(null),f(!0)},M=L=>{x({serialNumber:L.serialNumber,date:L.date,sender:L.sender||"",senderRefNumber:L.senderRefNumber||"",subject:L.subject,actionRequired:L.actionRequired||"",assignedTo:L.assignedTo||"",notes:L.notes||""}),p(L.id),E(null),f(!0)},k=async L=>{if(window.confirm("       "))try{await Yh(L.id),await Se(" ",t.name,`    : ${L.serialNumber}`),j()}catch(D){console.error(D),alert(" ")}},T=async L=>{L.preventDefault(),a(!0);try{let D="";if(N)try{D=await lo(N)}catch(U){throw console.error("Upload failed:",U),new Error("  .    Google Drive Script.")}if(h){const U={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};D&&(U.fileUrl=D),await uh(h,U),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await tv({type:nt.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:D||"",isFollowedUp:!1}),await Se(" ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),j()}catch(D){console.error(D),alert("   : "+D.message)}finally{a(!1)}},R=async L=>{if(!L.actionRequired)return;const D=!L.isFollowedUp;c(U=>U.map($=>$.id===L.id?{...$,isFollowedUp:D}:$));try{await uh(L.id,{isFollowedUp:D}),await Se(" ",t.name,`     ${L.serialNumber}  ${D?"":" "}`)}catch{c($=>$.map(A=>A.id===L.id?{...A,isFollowedUp:!D}:A)),alert("  ")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&l.jsxs("button",{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-blue-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),l.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:L=>x({...g,serialNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:L=>x({...g,date:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsx("div",{}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:L=>x({...g,sender:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:L=>x({...g,senderRefNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,value:g.subject,onChange:L=>x({...g,subject:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:L=>x({...g,actionRequired:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),l.jsxs("select",{value:g.assignedTo,onChange:L=>x({...g,assignedTo:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[l.jsx("option",{value:"",children:"--     --"}),_.map((L,D)=>l.jsx("option",{value:L,children:L},D))]})]})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:L=>E(L.target.files?L.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(Ze,{className:"w-8 h-8 text-blue-600 animate-spin"}):l.jsx(Ir,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(Ze,{className:"w-5 h-5 animate-spin"}):l.jsx(wn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(L=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4",children:L.actionRequired?l.jsx("button",{onClick:()=>R(L),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${L.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:L.isFollowedUp?"  ":"  ",children:L.isFollowedUp?l.jsxs(l.Fragment,{children:[l.jsx(la,{className:"w-3 h-3"}),l.jsx("span",{children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx(Hi,{className:"w-3 h-3"}),l.jsx("span",{children:""})]})}):l.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),l.jsx("td",{className:"p-4 font-bold text-gray-700",children:L.serialNumber}),l.jsx("td",{className:"p-4",children:L.date}),l.jsx("td",{className:"p-4",children:L.sender}),l.jsx("td",{className:"p-4 max-w-xs truncate",title:L.subject,children:L.subject}),l.jsx("td",{className:"p-4",children:L.assignedTo?l.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:L.assignedTo}):"-"}),l.jsx("td",{className:"p-4",children:L.fileUrl?l.jsxs("a",{href:L.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[l.jsx(Nr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>M(L),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>k(L),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},L.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},age=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[N,E]=w.useState(null);w.useEffect(()=>{_()},[]);const _=async()=>{n(!0);const T=await oo(nt.DEPARTMENT_COUNCIL);c(T),n(!1)},j=async()=>{const T=await GE(nt.DEPARTMENT_COUNCIL);x({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),E(null),p(null),f(!0)},C=T=>{x({serialNumber:T.serialNumber,date:T.date,subject:T.subject,notes:T.notes||""}),p(T.id),E(null),f(!0)},M=async T=>{if(window.confirm("      "))try{await Yh(T.id),await Se("  ",t.name,`    : ${T.serialNumber}`),_()}catch(R){console.error(R),alert(" ")}},k=async T=>{T.preventDefault(),a(!0);try{let R="";if(N)try{R=await lo(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(h){const L={date:g.date,subject:g.subject,notes:g.notes};R&&(L.fileUrl=R),await uh(h,L),await Se("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await tv({type:nt.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:R||""}),await Se("  ",t.name,`    : ${g.serialNumber}`),alert("   ");f(!1),_()}catch(R){console.error(R),alert("   : "+R.message)}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&l.jsxs("button",{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-purple-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:T=>x({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>x({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),l.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:T=>x({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),l.jsx("textarea",{rows:4,value:g.notes,onChange:T=>x({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>E(T.target.files?T.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(Ze,{className:"w-8 h-8 text-purple-600 animate-spin"}):l.jsx(Ir,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(Ze,{className:"w-5 h-5 animate-spin"}):l.jsx(wn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),l.jsx("td",{className:"p-4",children:T.date}),l.jsx("td",{className:"p-4 max-w-lg truncate",title:T.subject,children:T.subject}),l.jsx("td",{className:"p-4",children:T.fileUrl?l.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[l.jsx(Nr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>C(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>M(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},T.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},ige=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[s,c]=w.useState([]),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[N,E]=w.useState(null),_=["   ","  ","  ","  ","  "," "];w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const R=await oo(nt.COMMITTEE_MEETING);c(R),n(!1)},C=async()=>{x({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),E(null),p(null),f(!0)},M=R=>{x({serialNumber:R.serialNumber,date:R.date,committeeName:R.sender||"",subject:R.subject,notes:R.notes||""}),p(R.id),E(null),f(!0)},k=async R=>{if(window.confirm("      "))try{await Yh(R.id),await Se("  ",t.name,`   : ${R.sender}  ${R.date}`),j()}catch(L){console.error(L),alert(" ")}},T=async R=>{R.preventDefault(),a(!0);try{let L="";if(N)try{L=await lo(N)}catch(D){throw console.error("Upload failed:",D),new Error("  .    Google Drive Script.")}if(h){const D={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};L&&(D.fileUrl=L),await uh(h,D),await Se("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await tv({type:nt.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:L||""}),await Se("  ",t.name,`    : ${g.committeeName}`),alert("   ");f(!1),j()}catch(L){console.error(L),alert("   : "+L.message)}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&l.jsxs("button",{onClick:C,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),d&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg text-amber-800",children:h?" ":" "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-red-500",children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{required:!0,value:g.committeeName,onChange:R=>x({...g,committeeName:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[l.jsx("option",{value:"",children:"--   --"}),_.map(R=>l.jsx("option",{value:R,children:R},R)),l.jsx("option",{value:"other",children:"  (   )"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:R=>x({...g,serialNumber:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:g.date,onChange:R=>x({...g,date:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:R=>x({...g,subject:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("textarea",{rows:4,value:g.notes,onChange:R=>x({...g,notes:R.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h?"  ()":"  (PDF/Image)"}),l.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:R=>E(R.target.files?R.target.files[0]:null)}),l.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?l.jsx(Ze,{className:"w-8 h-8 text-amber-600 animate-spin"}):l.jsx(Ir,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),l.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),l.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?l.jsx(Ze,{className:"w-5 h-5 animate-spin"}):l.jsx(wn,{className:"w-5 h-5"}),l.jsx("span",{children:r?" ...":h?" ":" "})]})]})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?l.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[s.map(R=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-amber-800",children:R.sender}),l.jsx("td",{className:"p-4 text-gray-700",children:R.serialNumber}),l.jsx("td",{className:"p-4",children:R.date}),l.jsx("td",{className:"p-4 max-w-lg truncate",title:R.subject,children:R.subject}),l.jsx("td",{className:"p-4",children:R.fileUrl?l.jsxs("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[l.jsx(Nr,{className:"w-4 h-4"})," "]}):l.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>M(R),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>k(R),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},R.id)),s.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},sge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[s,c]=w.useState(!1),[d,f]=w.useState(""),[h,p]=w.useState("ALL"),[g,x]=w.useState(""),[N,E]=w.useState("");w.useEffect(()=>{_()},[]);const _=async()=>{c(!0);const R=await oo();n(R),a(R),c(!1)},j=()=>{let R=e;if(h!=="ALL"&&(R=R.filter(L=>L.type===h)),d.trim()){const L=d.toLowerCase();R=R.filter(D=>D.subject.toLowerCase().includes(L)||D.serialNumber.toLowerCase().includes(L)||D.notes&&D.notes.toLowerCase().includes(L)||D.recipient&&D.recipient.toLowerCase().includes(L)||D.sender&&D.sender.toLowerCase().includes(L))}g&&(R=R.filter(L=>L.date>=g)),N&&(R=R.filter(L=>L.date<=N)),a(R)},C=()=>{f(""),p("ALL"),x(""),E(""),a(e)},M=async R=>{if(window.confirm("      ")){const L=e.find(D=>D.id===R);await Yh(R),await Se("  ",t.name,`  : ${(L==null?void 0:L.serialNumber)||R} - : ${L==null?void 0:L.type}`),_()}},k=R=>{switch(R){case nt.INCOMING:return"";case nt.OUTGOING:return"";case nt.DEPARTMENT_COUNCIL:return" ";case nt.COMMITTEE_MEETING:return" ";default:return R}},T=R=>{switch(R){case nt.INCOMING:return"bg-blue-100 text-blue-700";case nt.OUTGOING:return"bg-green-100 text-green-700";case nt.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case nt.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(ec,{className:"w-5 h-5 text-green-600"})," "]}),l.jsxs("button",{onClick:C,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[l.jsx(Et,{className:"w-4 h-4"}),"  "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:R=>f(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[l.jsx("option",{value:"ALL",children:""}),l.jsx("option",{value:nt.INCOMING,children:""}),l.jsx("option",{value:nt.OUTGOING,children:""}),l.jsx("option",{value:nt.DEPARTMENT_COUNCIL,children:" "}),l.jsx("option",{value:nt.COMMITTEE_MEETING,children:" "})]})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"date",value:g,onChange:R=>x(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),l.jsxs("div",{className:"md:col-span-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"date",value:N,onChange:R=>E(R.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),l.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:l.jsxs("button",{onClick:j,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[l.jsx(_9,{className:"w-4 h-4"})," "]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:l.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:" / "}),l.jsx("th",{className:"p-3",children:""})]})}),l.jsx("tbody",{className:"divide-y",children:s?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(R=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-3",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs ${T(R.type)}`,children:k(R.type)})}),l.jsx("td",{className:"p-3 font-semibold",children:R.serialNumber}),l.jsx("td",{className:"p-3",children:R.date}),l.jsx("td",{className:"p-3 max-w-xs truncate",title:R.subject,children:R.subject}),l.jsxs("td",{className:"p-3",children:[R.type===nt.OUTGOING&&R.recipient,R.type===nt.INCOMING&&R.sender,R.type===nt.DEPARTMENT_COUNCIL&&" ",R.type===nt.COMMITTEE_MEETING&&R.sender]}),l.jsxs("td",{className:"p-3 flex items-center gap-2",children:[R.fileUrl&&l.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:l.jsx(Nr,{className:"w-4 h-4"})}),t.role==="ADMIN"&&l.jsx("button",{onClick:()=>M(R.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:l.jsx(Et,{className:"w-4 h-4"})})]})]},R.id))})]})})]})]})},lge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[s,c]=w.useState(""),[d,f]=w.useState(!1),[h,p]=w.useState("FACULTY"),[g,x]=w.useState(!1),[N,E]=w.useState(!1),[_,j]=w.useState(null),[C,M]=w.useState({}),[k,T]=w.useState({}),[R,L]=w.useState(!1),[D,U]=w.useState(!1),$=t.role===_e.ADMIN;w.useEffect(()=>{A()},[]);const A=async()=>{a(!0);const V=await nv();n(V),a(!1)},O=V=>!!($||t.role===_e.STAFF&&t.id===V),B=V=>{V?(j(V),M(V)):(j(null),M({name:"",rank:"",specialization:"",email:"",phone:"",subRole:"FACULTY"})),x(!0)},z=async(V,Y)=>{if(window.confirm("      "))try{await hV(V),await Se("   ",t.name,`  : ${Y}`),A()}catch{alert(" ")}},me=async V=>{V.preventDefault(),f(!0);try{_?(await VN(_.id,C),await Se("  ",t.name,`  : ${C.name}`),alert("  ")):(await fV(C),await Se("   ",t.name,`  : ${C.name}`),alert("  ")),x(!1),A()}catch{alert("   ")}finally{f(!1)}},ie=V=>{var Y,H,J,fe,Ee,Te,qe,ce,ze,ee;j(V),T({...V.documents,promotionDecisions:((Y=V.documents)==null?void 0:Y.promotionDecisions)||[],adminPositions:((H=V.documents)==null?void 0:H.adminPositions)||[],extensionDecisions:((J=V.documents)==null?void 0:J.extensionDecisions)||[],progressReports:((fe=V.documents)==null?void 0:fe.progressReports)||[],efficiencyReports:((Ee=V.documents)==null?void 0:Ee.efficiencyReports)||[],coursePortfolios:((Te=V.documents)==null?void 0:Te.coursePortfolios)||[],publications:((qe=V.documents)==null?void 0:qe.publications)||[],conferenceCerts:((ce=V.documents)==null?void 0:ce.conferenceCerts)||[],arbitrationCerts:((ze=V.documents)==null?void 0:ze.arbitrationCerts)||[],communityServiceDocs:((ee=V.documents)==null?void 0:ee.communityServiceDocs)||[]}),U(!1),E(!0)},G=V=>{const Y=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;T(H=>({...H,[V]:Y})),alert("   ()")},re=(V,Y)=>{if(!Y)return;const H=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,J={id:Math.random().toString(36).substr(2,9),title:Y,url:H,date:new Date().toISOString().split("T")[0]};T(fe=>({...fe,[V]:[...fe[V]||[],J]}))},W=(V,Y)=>{T(H=>({...H,[V]:(H[V]||[]).filter(J=>J.id!==Y)}))},ve=async()=>{if(_){L(!0);try{await VN(_.id,{documents:k}),await Se("  ",t.name,`   : ${_.name}`),n(V=>V.map(Y=>Y.id===_.id?{...Y,documents:k}:Y)),alert("    "),U(!1)}catch{alert("   ")}finally{L(!1)}}},Q=e.filter(V=>(V.subRole||"FACULTY")===h&&(V.name.toLowerCase().includes(s.toLowerCase())||V.specialization.toLowerCase().includes(s.toLowerCase())));return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Yo,{className:"w-8 h-8 text-green-600"})," "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),$&&l.jsxs("button",{onClick:()=>B(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow-sm",children:[l.jsx($t,{className:"w-5 h-5"}),"   "]})]}),l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>p("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${h==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Ds,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>p("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${h==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Yo,{className:"w-4 h-4"}),"  "]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative",children:[l.jsx(ec,{className:"w-5 h-5 text-gray-400 absolute right-6 top-6"}),l.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-3 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:s,onChange:V=>c(V.target.value)})]}),r?l.jsx("div",{className:"text-center py-12",children:l.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Q.map(V=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group",children:l.jsxs("div",{className:"p-6 flex flex-col items-center text-center relative",children:[l.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[O(V.id)&&l.jsx("button",{onClick:()=>B(V),className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",title:"  ",children:l.jsx(Un,{className:"w-4 h-4"})}),$&&l.jsx("button",{onClick:()=>z(V.id,V.name),className:"p-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",title:" ",children:l.jsx(ut,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 border-4 border-white shadow-sm",children:V.imageUrl?l.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-full h-full rounded-full object-cover"}):l.jsx(i4,{className:"w-16 h-16 text-gray-400"})}),l.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:V.name}),l.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-bold mb-2",children:V.rank}),l.jsxs("p",{className:"text-sm text-gray-500 mb-4 flex items-center gap-1",children:[l.jsx(Cs,{className:"w-4 h-4"})," ",V.specialization]}),l.jsxs("div",{className:"w-full border-t pt-4 flex flex-col gap-2 text-sm text-gray-600",children:[V.email&&l.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[l.jsx(d1,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{children:V.email})]}),V.phone&&l.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[l.jsx(Jp,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{dir:"ltr",children:V.phone})]}),l.jsxs("button",{onClick:()=>ie(V),className:"mt-2 w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[l.jsx(FileText,{className:"w-4 h-4"}),"   "]})]})]})},V.id)),Q.length===0&&l.jsx("div",{className:"col-span-full text-center py-12 text-gray-400",children:"    ."})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:_?"  ":"  "}),l.jsx("button",{onClick:()=>x(!1),children:l.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("form",{onSubmit:me,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:C.name||"",onChange:V=>M({...C,name:V.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:C.rank||"",onChange:V=>M({...C,rank:V.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:C.specialization||"",onChange:V=>M({...C,specialization:V.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),l.jsx("input",{type:"email",className:"w-full border p-2 rounded-lg",value:C.email||"",onChange:V=>M({...C,email:V.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),l.jsx("input",{type:"tel",className:"w-full border p-2 rounded-lg",value:C.phone||"",onChange:V=>M({...C,phone:V.target.value})})]}),$&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg bg-white",value:C.subRole||"FACULTY",onChange:V=>M({...C,subRole:V.target.value}),children:[l.jsx("option",{value:"FACULTY",children:"  "}),l.jsx("option",{value:"ASSISTANT",children:" "})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),l.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-8 py-2 rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[d&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})]})}),N&&_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:_.name}),l.jsx("p",{className:"text-green-100 text-sm",children:"  "})]}),l.jsxs("div",{className:"flex gap-2",children:[O(_.id)&&(D?l.jsxs("button",{onClick:ve,disabled:R,className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm font-bold",children:[R?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"}),"  "]}):l.jsxs("button",{onClick:()=>U(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[l.jsx(Un,{className:"w-4 h-4"}),"  "]})),l.jsx("button",{onClick:()=>E(!1),className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:l.jsx(Et,{className:"w-6 h-6"})})]})]}),l.jsxs("div",{className:"p-6 space-y-8",children:[D&&l.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[l.jsx(Ir,{className:"w-4 h-4"}),l.jsx("span",{children:"      .         ."})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(Ds,{className:"w-5 h-5 text-gray-500"}),"   "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(hu,{title:"1.   ",url:k.appointmentDecision,isEditing:D,onUpload:()=>G("appointmentDecision")}),l.jsx(hu,{title:"2.   ",url:k.joiningReport,isEditing:D,onUpload:()=>G("joiningReport")}),l.jsx(MP,{title:"3.  ",description:"   .",items:k.promotionDecisions,isEditing:D,onAdd:V=>re("promotionDecisions",V),onRemove:V=>W("promotionDecisions",V)})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(Yo,{className:"w-5 h-5 text-purple-600"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(hu,{title:" ",url:k.bachelorCert,isEditing:D,onUpload:()=>G("bachelorCert")}),l.jsx(hu,{title:" ",url:k.masterCert,isEditing:D,onUpload:()=>G("masterCert")}),l.jsx(hu,{title:" ",url:k.phdCert,isEditing:D,onUpload:()=>G("phdCert")})]})]}),l.jsxs("section",{children:[l.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[l.jsx(Xp,{className:"w-5 h-5 text-blue-600"}),"  "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(MP,{title:"  ",description:"  .",items:k.conferenceCerts,isEditing:D,onAdd:V=>re("conferenceCerts",V),onRemove:V=>W("conferenceCerts",V)}),l.jsx(hu,{title:"  ",url:k.publicationsListFile,isEditing:D,onUpload:()=>G("publicationsListFile")})]})]})]})]})})]})},hu=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>l.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-green-50 border-green-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),l.jsxs("div",{className:"flex items-center gap-2",children:[n&&l.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"text-xs bg-white border border-green-200 text-green-700 px-2 py-1 rounded hover:bg-green-50 transition-colors",children:""}),r&&l.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[l.jsx(Ir,{className:"w-3 h-3"})," ",n?l.jsx("span",{children:""}):l.jsx("span",{children:""})]}),!n&&!r&&l.jsx("span",{className:"text-xs text-red-400 font-medium",children:""})]})]}),e&&l.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),MP=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:s})=>{const[c,d]=w.useState("");return l.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white shadow-sm",children:[l.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),l.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?l.jsx("ul",{className:"space-y-2 mb-3",children:n.map(f=>l.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm border border-gray-100",children:[l.jsx("span",{className:"truncate flex-1 ml-2 font-medium text-gray-700",children:f.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("a",{href:f.url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline font-bold",children:""}),r&&l.jsx("button",{onClick:()=>s(f.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(ut,{className:"w-3 h-3"})})]})]},f.id))}):!r&&l.jsx("p",{className:"text-xs text-gray-400 italic mb-3 bg-gray-50 p-2 rounded text-center",children:"   ."}),r&&l.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-3 border-dashed",children:[l.jsx("input",{type:"text",placeholder:"  ...",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500 bg-gray-50 focus:bg-white",value:c,onChange:f=>d(f.target.value)}),l.jsxs("button",{onClick:()=>{c&&(a(c),d(""))},className:"bg-blue-600 text-white text-xs px-3 py-2 rounded hover:bg-blue-700 flex items-center gap-1 shadow-sm disabled:opacity-50",disabled:!c,children:[l.jsx($t,{className:"w-3 h-3"})," "]})]})]})},LP=({user:t})=>{const[e,n]=w.useState(t.role===_e.STUDENT_PG?"PG":"UG"),[r,a]=w.useState("MATERIALS"),[s,c]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState([]),[g,x]=w.useState([]),[N,E]=w.useState([]),[_,j]=w.useState(!0),[C,M]=w.useState(!1),[k,T]=w.useState(!1),[R,L]=w.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[D,U]=w.useState(!1),[$,A]=w.useState(null),[O,B]=w.useState(!1),[z,me]=w.useState(!1),[ie,G]=w.useState(null),[re,W]=w.useState({content:"",isImportant:!1}),[ve,Q]=w.useState(!1),[V,Y]=w.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[H,J]=w.useState(!1),[fe,Ee]=w.useState(null),Te=t.role===_e.ADMIN||t.role===_e.STAFF;w.useEffect(()=>{qe()},[]),w.useEffect(()=>{const je=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];x(s.filter(ye=>je.includes(ye.year))),E(h.filter(ye=>je.includes(ye.year)));const yt=e==="UG"?"Third":"Pre-Master";L(ye=>({...ye,year:yt})),Y(ye=>({...ye,year:yt}))},[e,s,h]);const qe=async()=>{j(!0);const[je,yt,ye]=await Promise.all([ope(),dpe(),mpe()]);c(je),f(yt),p(ye),j(!1)},ce=async je=>{je.preventDefault(),M(!0);try{await cpe({title:R.title,year:R.year,fileUrl:R.fileUrl||"#",description:R.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Se("  ",t.name,`: ${R.title} - : ${R.year}`),await qe(),T(!1),L({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(yt){console.error(yt),alert("   ")}finally{M(!1)}},ze=async()=>{if($){M(!0);try{const je=s.find(yt=>yt.id===$);await upe($),Se("  ",t.name,`  : ${je==null?void 0:je.title}`),await qe(),U(!1),A(null)}catch(je){console.error(je),alert("  ")}finally{M(!1)}}},ee=async je=>{je.preventDefault(),M(!0);try{await fpe({content:re.content,isImportant:re.isImportant,date:new Date().toISOString().split("T")[0]}),Se(" ",t.name,re.content.substring(0,50)+"..."),await qe(),B(!1),W({content:"",isImportant:!1})}catch(yt){console.error(yt),alert("    ")}finally{M(!1)}},he=async()=>{if(ie){M(!0);try{await hpe(ie),Se(" ",t.name,"    "),await qe(),me(!1),G(null)}catch(je){console.error(je),alert("   ")}finally{M(!1)}}},at=async je=>{je.preventDefault(),M(!0);try{await ppe({title:V.title,type:V.type,year:V.year,fileUrl:V.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Se(" ",t.name,`: ${V.title}`),await qe(),Q(!1),Y({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(yt){console.error(yt),alert("    ")}finally{M(!1)}},Ke=async()=>{if(fe){M(!0);try{const je=h.find(yt=>yt.id===fe);await gpe(fe),Se(" ",t.name,`  : ${je==null?void 0:je.title}`),await qe(),J(!1),Ee(null)}catch(je){console.error(je),alert("   ")}finally{M(!1)}}},Ot=je=>{const yt=`https://picsum.photos/seed/${Math.random()}/800/600`;je(ye=>({...ye,fileUrl:yt}))};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),l.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Cs,{className:"w-4 h-4"}),"  ( 3  4)"]}),l.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Yo,{className:"w-4 h-4"}),"  ()"]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.jsx(Nr,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.jsx(hh,{className:"w-4 h-4"}),"  "]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[l.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),Te&&l.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[l.jsx(Of,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(je=>l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:l.jsx(Nr,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800",children:je.title}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[je.year==="Third"&&" ",je.year==="Fourth"&&" ",je.year==="Pre-Master"&&" ",je.year==="Pre-PhD"&&" "," | ",": ",je.uploadedBy]}),je.description&&l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:je.description}),l.jsx("p",{className:"text-xs text-gray-300 mt-1",children:je.date})]})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("a",{href:je.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[l.jsx(gg,{className:"w-4 h-4"})," "]}),Te&&l.jsx("button",{onClick:()=>{A(je.id),U(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},je.id)):l.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),Te&&l.jsxs("button",{onClick:()=>Q(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[l.jsx(Of,{className:"w-3 h-3"}),"  "]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.length>0?N.map(je=>l.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[l.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[l.jsx("img",{src:je.fileUrl,alt:je.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${je.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:je.type==="EXAM"?" ":" "})})]}),l.jsxs("div",{className:"p-4",children:[l.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:je.title}),l.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[je.year==="Third"&&" ",je.year==="Fourth"&&" ",je.year==="Pre-Master"&&" ",je.year==="Pre-PhD"&&" "," | ",je.date]}),l.jsxs("a",{href:je.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[l.jsx(gg,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),Te&&l.jsx("button",{onClick:()=>{Ee(je.id),J(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},je.id)):l.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),l.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[l.jsx("h3",{className:"font-bold text-lg",children:" "}),Te&&l.jsxs("button",{onClick:()=>B(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[l.jsx(Of,{className:"w-3 h-3"})," "]})]}),d.length>0?l.jsx("ul",{className:"space-y-4 text-sm",children:d.map(je=>l.jsxs("li",{className:"flex gap-2 relative group",children:[l.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${je.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{children:je.content}),l.jsx("p",{className:"text-green-300 text-xs mt-1",children:je.date})]}),Te&&l.jsx("button",{onClick:()=>{G(je.id),me(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:l.jsx(ut,{className:"w-4 h-4"})})]},je.id))}):l.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),k&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:R.title,onChange:je=>L({...R,title:je.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:R.year,onChange:je=>L({...R,year:je.target.value}),children:e==="UG"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Third",children:" "}),l.jsx("option",{value:"Fourth",children:" "})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Pre-Master",children:" "}),l.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),l.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:R.description,onChange:je=>L({...R,description:je.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:R.fileUrl}),l.jsxs("button",{type:"button",onClick:()=>Ot(L),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[l.jsx(Ir,{className:"w-4 h-4"})," "]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[C?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"}),""]})]})]})]})}),ve&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:at,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:V.title,onChange:je=>Y({...V,title:je.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:V.type,onChange:je=>Y({...V,type:je.target.value}),children:[l.jsx("option",{value:"LECTURE",children:" "}),l.jsx("option",{value:"EXAM",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:V.year,onChange:je=>Y({...V,year:je.target.value}),children:e==="UG"?l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Third",children:" "}),l.jsx("option",{value:"Fourth",children:" "})]}):l.jsxs(l.Fragment,{children:[l.jsx("option",{value:"Pre-Master",children:" "}),l.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:V.fileUrl}),l.jsxs("button",{type:"button",onClick:()=>Ot(Y),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[l.jsx(Ir,{className:"w-4 h-4"})," "]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>Q(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:C,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[C?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"}),""]})]})]})]})}),O&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:ee,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:re.content,onChange:je=>W({...re,content:je.target.value})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"isImportant",checked:re.isImportant,onChange:je=>W({...re,isImportant:je.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),l.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:C,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[C?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"}),""]})]})]})]})}),D&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>U(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:ze,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),H&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:Ke,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),z&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:he,disabled:C,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[C&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},UP=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!1),s=qN(),[c,d]=w.useState(!1),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[x,N]=w.useState(null),[E,_]=w.useState(!1),[j,C]=w.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[M,k]=w.useState(null),[T,R]=w.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),L=async()=>{a(!0);const ie=await Ume();n(ie),a(!1)};w.useEffect(()=>{L()},[]);const D=()=>{s("/users",{state:{initialTab:"ALUMNI"}})},U=async ie=>{ie.preventDefault(),_(!0);try{await pV({...j,username:j.email.split("@")[0],password:"123"});const G=(t==null?void 0:t.name)||j.name;Se("  ",G,` : ${j.name} -  ${j.graduationYear}`),alert("   !    ."),d(!1),C({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(G){console.error(G),alert("   ")}finally{_(!1)}},$=ie=>{ie?(k(ie.id),R({title:ie.title,company:ie.company,description:ie.description,contactInfo:ie.contactInfo,datePosted:ie.datePosted,status:ie.status||"OPEN"})):(k(null),R({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),h(!0)},A=async ie=>{ie.preventDefault(),_(!0);const G=(t==null?void 0:t.name)||"Unknown";try{M?(await zme(M,T),Se("  ",G,`: ${T.title}`)):(await Vme(T),Se("  ",G,`: ${T.title} - : ${T.company}`)),h(!1),L()}catch(re){console.error(re),alert("    ")}finally{_(!1)}},O=ie=>{N(ie),g(!0)},B=async()=>{if(x){_(!0);try{const ie=e.find(G=>G.id===x);await Bme(x),Se("  ",(t==null?void 0:t.name)||"Unknown",`  : ${ie==null?void 0:ie.title}`),n(G=>G.filter(re=>re.id!==x)),g(!1),N(null)}catch(ie){console.error("Delete failed",ie),alert("  "),L()}finally{_(!1)}}},z=(t==null?void 0:t.role)===_e.ADMIN||(t==null?void 0:t.role)===_e.STAFF,me=z||(t==null?void 0:t.role)===_e.ALUMNI;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),l.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),l.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[l.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[l.jsx(g4,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===_e.ADMIN&&l.jsxs("button",{onClick:D,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[l.jsx(m4,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),l.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:l.jsx(Ds,{className:"w-64 h-64"})})]}),l.jsxs("div",{className:"flex items-center justify-between mt-8",children:[l.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[l.jsx(Ds,{className:"w-6 h-6 text-amber-600"}),l.jsx("h2",{children:"  "})]}),me&&l.jsxs("button",{onClick:()=>$(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[l.jsx(Of,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(ie=>l.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${ie.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-gray-800",children:ie.title}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[l.jsx(Kz,{className:"w-4 h-4"}),l.jsx("span",{children:ie.company})]})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${ie.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:ie.status==="CLOSED"?"":" "}),z&&l.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[l.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),$(ie)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),O(ie.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]})]}),l.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:ie.description}),l.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[l.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),l.jsx("p",{className:"text-amber-600",children:ie.contactInfo})]}),l.jsx("div",{className:"mt-4 flex items-center justify-between",children:l.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",ie.datePosted]})})]},ie.id)),l.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[l.jsx("p",{className:"font-medium",children:"   "}),l.jsx("p",{className:"text-sm mt-1",children:"   "}),me&&l.jsx("button",{onClick:()=>$(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:j.name,onChange:ie=>C({...j,name:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:j.graduationYear,onChange:ie=>C({...j,graduationYear:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",value:j.currentJob,onChange:ie=>C({...j,currentJob:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"email",required:!0,value:j.email,onChange:ie=>C({...j,email:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"tel",required:!0,value:j.phone,onChange:ie=>C({...j,phone:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:E,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[E?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"})," "]})]})]})]})}),p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:B,disabled:E,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[E&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:M?"  ":"   "}),l.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:":  ",value:T.title,onChange:ie=>R({...T,title:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),l.jsx("input",{type:"text",required:!0,value:T.company,onChange:ie=>R({...T,company:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:T.status,onChange:ie=>R({...T,status:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[l.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),l.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:T.description,onChange:ie=>R({...T,description:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:"    ",value:T.contactInfo,onChange:ie=>R({...T,contactInfo:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,value:T.datePosted,onChange:ie=>R({...T,datePosted:ie.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:E,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[E?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"})," "]})]})]})]})})]})},oge=({user:t})=>{if(t.role!==_e.ADMIN)return l.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] animate-in fade-in",children:[l.jsx("div",{className:"bg-red-50 p-6 rounded-full mb-4",children:l.jsx(p4,{className:"w-12 h-12 text-red-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"   "}),l.jsx("p",{className:"text-gray-500 text-center max-w-md",children:"      .         ."})]});const e=es(),[n,r]=w.useState("STAFF"),[a,s]=w.useState(!1),[c,d]=w.useState([]),[f,h]=w.useState([]),[p,g]=w.useState([]),[x,N]=w.useState([]),[E,_]=w.useState([]),[j,C]=w.useState(!1),[M,k]=w.useState(null),[T,R]=w.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});w.useEffect(()=>{e.state&&e.state.initialTab&&r(e.state.initialTab)},[e.state]),w.useEffect(()=>{L()},[n]);const L=async()=>{s(!0),n==="STAFF"?d(await nv()):n==="PG"?h(await mV()):n==="UG"?g(await Ome()):n==="ALUMNI"?N(await kme()):n==="EMPLOYEE"&&_(await jme()),s(!1)},D=A=>{if(A)k(A.id),R({name:A.name||"",email:A.email||"",phone:A.phone||"",whatsapp:A.whatsapp||"",address:A.address||"",subRole:A.subRole||"FACULTY",rank:A.rank||"",specialization:A.specialization||"",degree:A.degree||"MSc",researchTopic:A.researchTopic||"",supervisor:A.supervisor||"",status:A.status||"Researching",year:A.year||"Third",section:A.section||"",graduationYear:A.graduationYear||"",currentJob:A.currentJob||"",jobTitle:A.jobTitle||"",department:A.department||"",username:A.username||"",password:A.password||""});else{k(null);const O="user"+Math.floor(Math.random()*1e3);R({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:O,password:"123"})}C(!0)},U=async(A,O)=>{if(window.confirm("      "))try{n==="STAFF"?await hV(A):n==="PG"?await Ime(A):n==="UG"?await Pme(A):n==="ALUMNI"?await Lme(A):n==="EMPLOYEE"&&await Ame(A),await Se(" ","Admin",`  : ${O}   ${n}`),L()}catch(B){console.error("Error deleting user:",B),alert("   ")}},$=async A=>{A.preventDefault();const O={email:T.email,phone:T.phone,whatsapp:T.whatsapp,address:T.address};try{if(n==="STAFF"){const B={name:T.name,...O,subRole:T.subRole,rank:T.rank,specialization:T.specialization,username:T.username,password:T.password};M?await VN(M,B):await fV(B)}else if(n==="PG")if(M){const B={name:T.name,...O,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password};await zN(M,B)}else{const B={name:T.name,...O,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await Cme(B)}else if(n==="UG"){const B={name:T.name,...O,year:T.year,section:T.section,username:T.username,password:T.password};M?await Dme(M,B):await Rme(B)}else if(n==="ALUMNI"){const B={name:T.name,...O,graduationYear:T.graduationYear,currentJob:T.currentJob,username:T.username,password:T.password};M?await Mme(M,B):await pV(B)}else if(n==="EMPLOYEE"){const B={name:T.name,...O,jobTitle:T.jobTitle,department:T.department,username:T.username,password:T.password};M?await Sme(M,B):await Eme(B)}await Se(M?"  ":"  ","Admin",` ${M?"":""} : ${T.name}   ${n}`),C(!1),L(),alert("   ")}catch(B){console.error("Error saving user:",B),alert("   ")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(u1,{className:"w-6 h-6 text-green-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),l.jsxs("button",{onClick:()=>D(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx(g4,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:ai,label:" "},{id:"EMPLOYEE",icon:a4,label:" "},{id:"PG",icon:Yo,label:" "},{id:"UG",icon:Cs,label:" (3  4)"},{id:"ALUMNI",icon:Ds,label:""}].map(A=>l.jsx("button",{onClick:()=>r(A.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${n===A.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(A.icon,{className:"w-4 h-4"})," ",A.label]})},A.id))}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:n==="STAFF"?" ":n==="EMPLOYEE"?" ":n==="PG"?"":n==="UG"?"":" "}),l.jsx("th",{className:"p-4",children:n==="STAFF"?"":n==="EMPLOYEE"?" / ":n==="PG"?"":n==="UG"?"":" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y",children:a?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let A=[];return n==="STAFF"?A=c:n==="EMPLOYEE"?A=E:n==="PG"?A=f:n==="UG"?A=p:A=x,A.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):A.map(O=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:O.name}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:n==="STAFF"?O.rank:n==="EMPLOYEE"?O.jobTitle:n==="PG"?O.degree:n==="UG"?O.year==="Third"?"":"":O.graduationYear})}),l.jsx("td",{className:"p-4",children:n==="STAFF"?O.specialization:n==="EMPLOYEE"?O.department:n==="PG"?O.supervisor:n==="UG"?O.section||"-":O.currentJob||"-"}),l.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[O.phone&&l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Jp,{className:"w-3 h-3 text-gray-400"})," ",O.phone]}),O.whatsapp&&l.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[l.jsx(D2,{className:"w-3 h-3"})," ",O.whatsapp]}),O.email&&l.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[l.jsx(d1,{className:"w-3 h-3"})," ",O.email]})]}),l.jsx("td",{className:"p-4 font-mono text-gray-600",children:O.username||"-"}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>D(O),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>U(O.id,O.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},O.id))})()})]})})]}),j&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[M?" ":"  ",l.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",n==="STAFF"?" ":n==="EMPLOYEE"?"/":n==="PG"?" ":n==="UG"?" ":"",")"]})]}),l.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:$,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.name,onChange:A=>R({...T,name:A.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[l.jsx(Jp,{className:"w-4 h-4"}),"   ()"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Jp,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),l.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.phone,onChange:A=>R({...T,phone:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(D2,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),l.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.whatsapp,onChange:A=>R({...T,whatsapp:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(d1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),l.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:T.email,onChange:A=>R({...T,email:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(f4,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),l.jsx("input",{type:"text",placeholder:" - ",value:T.address,onChange:A=>R({...T,address:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),n==="EMPLOYEE"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":   ",required:!0,value:T.jobTitle,onChange:A=>R({...T,jobTitle:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.department,onChange:A=>R({...T,department:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="STAFF"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:T.subRole,onChange:A=>R({...T,subRole:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[l.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),l.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.rank,onChange:A=>R({...T,rank:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.specialization,onChange:A=>R({...T,specialization:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="PG"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{value:T.degree,onChange:A=>R({...T,degree:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[l.jsx("option",{value:"MSc",children:""}),l.jsx("option",{value:"PhD",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:T.status,onChange:A=>R({...T,status:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[l.jsx("option",{value:"Researching",children:" "}),l.jsx("option",{value:"Writing",children:" "}),l.jsx("option",{value:"Defense",children:""})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.researchTopic,onChange:A=>R({...T,researchTopic:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:T.supervisor,onChange:A=>R({...T,supervisor:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="UG"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsxs("select",{value:T.year,onChange:A=>R({...T,year:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[l.jsx("option",{value:"Third",children:" "}),l.jsx("option",{value:"Fourth",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",placeholder:":  ",value:T.section,onChange:A=>R({...T,section:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="ALUMNI"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"number",placeholder:"2023",required:!0,value:T.graduationYear,onChange:A=>R({...T,graduationYear:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"",value:T.currentJob,onChange:A=>R({...T,currentJob:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),l.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[l.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[l.jsx(u1,{className:"w-4 h-4"}),"   "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.username,onChange:A=>R({...T,username:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,value:T.password,onChange:A=>R({...T,password:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),l.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[l.jsx(wn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},cge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[a,s]=w.useState(null),[c,d]=w.useState(0),[f,h]=w.useState(0),[p,g]=w.useState(!1),[x,N]=w.useState(null),[E,_]=w.useState([]),[j,C]=w.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[M,k]=w.useState({title:"",url:"",date:""}),[T,R]=w.useState("UPLOAD"),[L,D]=w.useState({title:"",url:"",archiveId:""}),[U,$]=w.useState(!1);w.useEffect(()=>{A()},[]);const A=async()=>{r(!0);const Q=await mV();e(Q),d(Q.filter(V=>V.alerts.reportOverdue).length),h(Q.filter(V=>V.alerts.extensionNeeded).length),r(!1)},O=Q=>{s(a===Q?null:Q)},B=async(Q,V,Y)=>{const H=t.find(fe=>fe.id===Q);if(!H)return;const J={...H.dates,[V]:Y};if(V==="lastReport"){const fe=new Date(Y);fe.setMonth(fe.getMonth()+6),J.nextReportDue=fe.toISOString().split("T")[0]}try{await zN(Q,{dates:J}),A()}catch(fe){console.error(fe),alert("   ")}},z=async Q=>{N(Q.id),C({protocolUrl:Q.documents.protocolUrl||"",toeflUrl:Q.documents.toeflUrl||"",publishedPapers:Q.documents.publishedPapers?[...Q.documents.publishedPapers]:[],otherDocuments:Q.documents.otherDocuments?[...Q.documents.otherDocuments]:[]}),k({title:"",url:"",date:""}),D({title:"",url:"",archiveId:""}),R("UPLOAD");const Y=(await oo()).filter(H=>H.type===nt.INCOMING||H.type===nt.OUTGOING||H.type===nt.DEPARTMENT_COUNCIL);_(Y),g(!0)},me=Q=>{const V=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;Q==="protocol"?C(Y=>({...Y,protocolUrl:V})):Q==="toefl"?C(Y=>({...Y,toeflUrl:V})):Q==="other"&&D(Y=>({...Y,url:V}))},ie=()=>{!M.title||!M.date||(C(Q=>({...Q,publishedPapers:[...Q.publishedPapers,{...M}]})),k({title:"",url:"",date:""}))},G=Q=>{C(V=>({...V,publishedPapers:V.publishedPapers.filter((Y,H)=>H!==Q)}))},re=()=>{if(!L.title)return;const Q={id:Math.random().toString(36).substr(2,9),title:L.title,date:new Date().toISOString().split("T")[0],type:T};if(T==="UPLOAD"){if(!L.url)return;Q.url=L.url}else{if(!L.archiveId)return;const V=E.find(Y=>Y.id===L.archiveId);Q.archiveId=L.archiveId,Q.archiveSerial=(V==null?void 0:V.serialNumber)||"???"}C(V=>({...V,otherDocuments:[...V.otherDocuments,Q]})),D({title:"",url:"",archiveId:""})},W=Q=>{C(V=>({...V,otherDocuments:V.otherDocuments.filter((Y,H)=>H!==Q)}))},ve=async Q=>{if(Q.preventDefault(),!!x){$(!0);try{const V=t.find(Y=>Y.id===x);if(V){const Y={...V.documents,protocolUrl:j.protocolUrl,toeflUrl:j.toeflUrl,publishedPapers:j.publishedPapers,otherDocuments:j.otherDocuments};await zN(x,{documents:Y}),await A()}g(!1)}catch(V){console.error(V),alert("    ")}finally{$(!1)}}};return n?l.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500 text-sm",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),l.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:l.jsx(Yo,{})})]}),l.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),l.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),l.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:l.jsx(Hi,{})})]}),l.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${f>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:`${f>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),l.jsx("h3",{className:`text-2xl font-bold ${f>0?"text-amber-800":"text-gray-800"}`,children:f}),f>0&&l.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),l.jsx("div",{className:`${f>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:l.jsx(Hr,{})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:l.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),l.jsx("div",{className:"divide-y",children:t.map(Q=>l.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[l.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>O(Q.id),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${Q.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:Q.degree==="PhD"?"D":"M"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800",children:Q.name}),l.jsx("p",{className:"text-sm text-gray-500",children:Q.researchTopic})]})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[l.jsxs("div",{className:"text-left md:text-right",children:[l.jsx("p",{className:"text-gray-500 text-xs",children:" "}),l.jsx("p",{className:"font-medium",children:Q.supervisor})]}),l.jsxs("div",{className:"flex gap-2",children:[Q.alerts.reportOverdue&&l.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[l.jsx(Hi,{className:"w-3 h-3"}),"  "]}),Q.alerts.extensionNeeded&&l.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[l.jsx(Hr,{className:"w-3 h-3"}),"  "]})]}),l.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===Q.id?l.jsx(QN,{}):l.jsx(XN,{})})]})]}),a===Q.id&&l.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[l.jsx(hh,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:Q.dates.enrollment||"",onChange:V=>B(Q.id,"enrollment",V.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:Q.dates.registration||"",onChange:V=>B(Q.id,"registration",V.target.value)})]})]}),l.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),Q.alerts.reportOverdue&&l.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:Q.dates.lastReport||"",onChange:V=>B(Q.id,"lastReport",V.target.value)}),l.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",l.jsx("span",{className:"font-mono text-gray-600",children:Q.dates.nextReportDue||"-"})]})]}),l.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),l.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:Q.dates.expectedDefense||"",onChange:V=>B(Q.id,"expectedDefense",V.target.value)})]})]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[l.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[l.jsx(Nr,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),Q.documents.protocolUrl?l.jsxs("a",{href:Q.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[l.jsx(yg,{className:"w-3 h-3"})," "]}):l.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),Q.documents.toeflUrl?l.jsxs("a",{href:Q.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[l.jsx(yg,{className:"w-3 h-3"})," "]}):l.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),Q.documents.otherDocuments&&Q.documents.otherDocuments.length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[l.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),l.jsx("ul",{className:"space-y-1",children:Q.documents.otherDocuments.map((V,Y)=>l.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[V.type==="ARCHIVE_LINK"?l.jsx(R2,{className:"w-3 h-3 text-amber-500"}):l.jsx(Nr,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"truncate",children:V.title})]},Y))})]}),l.jsx("div",{className:"mt-4 pt-4 border-t",children:l.jsxs("button",{onClick:()=>z(Q),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[l.jsx($t,{className:"w-3 h-3"}),"   "]})})]})]}),l.jsx("div",{className:"mt-4 flex justify-end",children:l.jsxs("button",{onClick:()=>O(Q.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[l.jsx(wn,{className:"w-4 h-4"}),"  "]})})]})]},Q.id))})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[l.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[l.jsx(Cs,{className:"w-5 h-5 text-gray-600"}),l.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[t.map(Q=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:Q.name}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Q.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:Q.degree==="PhD"?"":""})}),l.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:Q.researchTopic,children:Q.researchTopic}),l.jsxs("td",{className:"p-4 text-gray-600",children:[Q.supervisor,Q.coSupervisors&&l.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",Q.coSupervisors]})]}),l.jsx("td",{className:"p-4 font-mono text-gray-500",children:Q.dates.registration||"-"}),l.jsx("td",{className:"p-4",children:l.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[Q.status==="Researching"&&" ",Q.status==="Writing"&&" ",Q.status==="Defense"&&" ",Q.status==="Granted"&&" ",Q.status==="Recording"&&" "]})})]},Q.id)),t.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:ve,className:"p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),l.jsx("input",{type:"text",readOnly:!0,value:j.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),l.jsx("button",{type:"button",onClick:()=>me("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:l.jsx(Ir,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),l.jsx("input",{type:"text",readOnly:!0,value:j.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),l.jsx("button",{type:"button",onClick:()=>me("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:l.jsx(Ir,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),j.otherDocuments&&j.otherDocuments.length>0?l.jsx("ul",{className:"space-y-2",children:j.otherDocuments.map((Q,V)=>l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[Q.type==="ARCHIVE_LINK"?l.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:l.jsx(R2,{className:"w-4 h-4"})}):l.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:l.jsx(Nr,{className:"w-4 h-4"})}),l.jsxs("div",{className:"text-xs",children:[l.jsx("p",{className:"font-bold text-gray-800",children:Q.title}),Q.type==="ARCHIVE_LINK"?l.jsxs("p",{className:"text-amber-600",children:["  : ",Q.archiveSerial]}):l.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),l.jsx("button",{type:"button",onClick:()=>W(V),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(ut,{className:"w-4 h-4"})})]},V))}):l.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[l.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[l.jsx("button",{type:"button",onClick:()=>R("UPLOAD"),className:`text-xs font-bold pb-1 ${T==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),l.jsx("button",{type:"button",onClick:()=>R("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${T==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:L.title,onChange:Q=>D({...L,title:Q.target.value})}),T==="UPLOAD"?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:L.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),l.jsxs("button",{type:"button",onClick:()=>me("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[l.jsx(Ir,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):l.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:L.archiveId,onChange:Q=>D({...L,archiveId:Q.target.value}),children:[l.jsx("option",{value:"",children:"--     --"}),E.map(Q=>l.jsxs("option",{value:Q.id,children:["[",Q.type===nt.INCOMING?"":"","] ",Q.serialNumber," - ",Q.subject]},Q.id))]}),l.jsxs("button",{type:"button",onClick:re,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[l.jsx($t,{className:"w-3 h-3"})," "]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),j.publishedPapers.length>0?l.jsx("ul",{className:"space-y-2",children:j.publishedPapers.map((Q,V)=>l.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[l.jsxs("div",{className:"text-xs",children:[l.jsx("p",{className:"font-bold text-gray-800",children:Q.title}),l.jsx("p",{className:"text-gray-500",children:Q.date})]}),l.jsx("button",{type:"button",onClick:()=>G(V),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:l.jsx(ut,{className:"w-4 h-4"})})]},V))}):l.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),l.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[l.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),l.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:M.title,onChange:Q=>k({...M,title:Q.target.value})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:M.date,onChange:Q=>k({...M,date:Q.target.value})}),l.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:M.url,onChange:Q=>k({...M,url:Q.target.value})})]}),l.jsxs("button",{type:"button",onClick:ie,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[l.jsx($t,{className:"w-3 h-3"}),"  "]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:U,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[U?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"})," "]})]})]})]})})]})},uge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[s,c]=w.useState(!1),[d,f]=w.useState(!1),[h,p]=w.useState(null),[g,x]=w.useState(null),[N,E]=w.useState(!1),[_,j]=w.useState(null),[C,M]=w.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});w.useEffect(()=>{k()},[]);const k=async()=>{a(!0);const A=await $me();n(A),a(!1)},T=A=>{A?(p(A.id),M({name:A.name,model:A.model,serialNumber:A.serialNumber,status:A.status,location:A.location,assignedTo:A.assignedTo,dateAcquired:A.dateAcquired})):(p(null),M({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),f(!0)},R=async A=>{A.preventDefault(),c(!0);const O=(t==null?void 0:t.name)||"Unknown";try{h?(await qme(h,C),Se(" ",O,`  : ${C.name}`),alert("    ")):(await Fme(C),Se(" ",O,`: ${C.name} - ${C.serialNumber}`),alert("   ")),await k(),f(!1)}catch(B){console.error(B),alert("   ")}finally{c(!1)}},L=A=>{j(A),E(!0)},D=async()=>{if(_){c(!0);try{const A=e.find(O=>O.id===_);await Hme(_),Se(" ",(t==null?void 0:t.name)||"Unknown",` : ${A==null?void 0:A.name}`),n(O=>O.filter(B=>B.id!==_)),E(!1),j(null)}catch(A){console.error(A),alert("   "),k()}finally{c(!1)}}},U=A=>{switch(A){case"WORKING":return l.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(la,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return l.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(Hr,{className:"w-3 h-3"})," "]});case"BROKEN":return l.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(ZN,{className:"w-3 h-3"})," "]})}},$={total:e.length,working:e.filter(A=>A.status==="WORKING").length,maintenance:e.filter(A=>A.status==="MAINTENANCE").length,broken:e.filter(A=>A.status==="BROKEN").length};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(vg,{className:"w-6 h-6 text-blue-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),l.jsxs("button",{onClick:()=>T(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[l.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:$.total})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[l.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-green-800",children:$.working})]}),l.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[l.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),l.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:$.maintenance})]}),l.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[l.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),l.jsx("h3",{className:"text-2xl font-bold text-red-800",children:$.broken})]})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:"  (SN)"}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})," ",l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[r?l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:A.name}),l.jsx("td",{className:"p-4 text-gray-600",children:A.model}),l.jsx("td",{className:"p-4 font-mono text-gray-500",children:A.serialNumber||"-"}),l.jsx("td",{className:"p-4",children:A.location}),l.jsx("td",{className:"p-4",children:A.assignedTo}),l.jsx("td",{className:"p-4",children:U(A.status)}),l.jsx("td",{className:"p-4",children:l.jsxs("button",{onClick:()=>x(A),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[l.jsx(nB,{className:"w-4 h-4"}),"QR"]})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[l.jsx("button",{onClick:()=>T(A),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation(),L(A.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},A.id)),!r&&e.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:h?"  ":"  "}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:C.name,onChange:A=>M({...C,name:A.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:C.model,onChange:A=>M({...C,model:A.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:C.serialNumber,onChange:A=>M({...C,serialNumber:A.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:C.status,onChange:A=>M({...C,status:A.target.value}),children:[l.jsx("option",{value:"WORKING",children:"  "}),l.jsx("option",{value:"MAINTENANCE",children:" "}),l.jsx("option",{value:"BROKEN",children:" / "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:C.dateAcquired,onChange:A=>M({...C,dateAcquired:A.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:C.location,onChange:A=>M({...C,location:A.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:C.assignedTo,onChange:A=>M({...C,assignedTo:A.target.value})})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"}),""]})]})]})]})}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),l.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:l.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),l.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),l.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),l.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:D,disabled:s,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[s&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},dge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[s,c]=w.useState([]),[d,f]=w.useState(!0),[h,p]=w.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,x]=w.useState(!1),[N,E]=w.useState(null),[_,j]=w.useState({name:"",supervisor:"",location:""}),[C,M]=w.useState(!1),[k,T]=w.useState(null),[R,L]=w.useState(null),[D,U]=w.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[$,A]=w.useState(!1),[O,B]=w.useState(null),[z,me]=w.useState(!1),[ie,G]=w.useState(null),[re,W]=w.useState(!1),[ve,Q]=w.useState(null),[V,Y]=w.useState(!1),H=(t==null?void 0:t.role)===_e.ADMIN||(t==null?void 0:t.role)===_e.STAFF;w.useEffect(()=>{J()},[]);const J=async()=>{f(!0);const[ye,Qe,We]=await Promise.all([epe(),Gme(),Xme()]),Rt=ye.sort((hi,te)=>hi.date!==te.date?hi.date.localeCompare(te.date):hi.startTime.localeCompare(te.startTime));a(Rt),n(Qe),c(We),f(!1)},fe=ye=>{ye?(E(ye.id),j({name:ye.name,supervisor:ye.supervisor,location:ye.location})):(E(null),j({name:"",supervisor:"",location:""})),x(!0)},Ee=async ye=>{ye.preventDefault(),Y(!0);const Qe=(t==null?void 0:t.name)||"Unknown";try{N?(await Yme(N,_),Se(" ",Qe,`   : ${_.name}`)):(await Kme(_),Se(" ",Qe,`  : ${_.name}`)),await J(),x(!1)}catch(We){console.error(We),alert("    ")}finally{Y(!1)}},Te=async()=>{if(ie){Y(!0);try{const ye=e.find(Qe=>Qe.id===ie);await Wme(ie),Se(" ",(t==null?void 0:t.name)||"Unknown",`  : ${ye==null?void 0:ye.name}`),await J(),me(!1),G(null)}catch(ye){console.error(ye),alert("   ")}finally{Y(!1)}}},qe=ye=>{T(ye),L(null),U({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),M(!0)},ce=ye=>{L(ye.id),U({courseName:ye.courseName,instructor:ye.instructor,day:ye.day,startTime:ye.startTime,endTime:ye.endTime})},ze=async ye=>{if(ye.preventDefault(),!k)return;Y(!0);const Qe=(t==null?void 0:t.name)||"Unknown";try{R?(await Jme(R,D),Se("  ",Qe,`: ${D.courseName}`),L(null)):(await Qme({...D,labId:k.id}),Se("  ",Qe,`: ${D.courseName} - : ${k.name}`)),await J(),U(We=>({...We,courseName:"",instructor:""}))}catch(We){console.error(We),alert("    ")}finally{Y(!1)}},ee=ye=>{Q(ye),W(!0)},he=async()=>{if(ve){Y(!0);try{const ye=s.find(Qe=>Qe.id===ve);await Zme(ve),Se("  ",(t==null?void 0:t.name)||"Unknown",` : ${ye==null?void 0:ye.courseName}`),await J(),W(!1),Q(null)}catch{alert(" ")}finally{Y(!1)}}},at=ye=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[ye]||ye,Ke=async ye=>{if(ye.preventDefault(),h.endTime<=h.startTime){alert("       ");return}const Qe=h.experimentType.trim().toLowerCase();if(r.some(Rt=>Rt.status==="CANCELLED"||Rt.date!==h.date||Rt.experimentType.trim().toLowerCase()!==Qe?!1:h.startTime<Rt.endTime&&h.endTime>Rt.startTime)){alert(`     / (${h.experimentType})   .    .`);return}Y(!0);try{await tpe({...h,labName:"   ",status:"CONFIRMED"}),Se(" ",(t==null?void 0:t.name)||h.researcherName,` : ${h.date} - ${h.experimentType}`),await J(),p(Rt=>({...Rt,experimentType:""})),alert("    ")}catch(Rt){console.error(Rt),alert("   ")}finally{Y(!1)}},Ot=async(ye,Qe)=>{try{await npe(ye,{status:Qe}),a(We=>We.map(Rt=>Rt.id===ye?{...Rt,status:Qe}:Rt)),Se("  ",(t==null?void 0:t.name)||"Unknown",`  : ${Qe}`)}catch(We){console.error(We),alert("  ")}},je=async()=>{if(O){Y(!0);try{await rpe(O),Se("/ ",(t==null?void 0:t.name)||"Unknown","   "),await J(),A(!1),B(null)}catch(ye){console.error(ye),alert("   ")}finally{Y(!1)}}},yt=ye=>{switch(ye){case"CONFIRMED":return l.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(la,{className:"w-3 h-3"})," "]});case"COMPLETED":return l.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(i9,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return l.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[l.jsx(ZN,{className:"w-3 h-3"})," "]});default:return null}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(c1,{className:"w-6 h-6 text-purple-600"})," "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),H&&l.jsxs("button",{onClick:()=>fe(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[l.jsx($t,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(ye=>l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[l.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:l.jsx(c1,{className:"w-5 h-5"})}),l.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:ye.name}),l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:ye.location}),l.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[l.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",ye.supervisor]}),l.jsxs("button",{onClick:()=>qe(ye),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[l.jsx(mB,{className:"w-3 h-3"}),"  "]}),H&&l.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{onClick:()=>fe(ye),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{G(ye.id),me(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]},ye.id)),e.length===0&&l.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(hh,{className:"w-5 h-5"}),"  -   "]}),l.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),l.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(Hi,{className:"w-4 h-4"}),"   "]}),l.jsxs("form",{onSubmit:Ke,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.researcherName,onChange:ye=>p({...h,researcherName:ye.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),l.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.date,onChange:ye=>p({...h,date:ye.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.startTime,onChange:ye=>p({...h,startTime:ye.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),l.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:h.endTime,onChange:ye=>p({...h,endTime:ye.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),l.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:h.experimentType,onChange:ye=>p({...h,experimentType:ye.target.value})}),l.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),l.jsxs("button",{type:"submit",disabled:V,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[l.jsx($t,{className:"w-4 h-4"}),"  "]})]})]}),l.jsxs("div",{className:"lg:col-span-2",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(la,{className:"w-4 h-4 text-green-600"}),"  "]}),l.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""})]})}),l.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(ye=>l.jsxs("tr",{className:`hover:bg-gray-50 ${ye.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[l.jsx("td",{className:"p-3 font-mono text-gray-600",children:ye.date}),l.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[ye.startTime," - ",ye.endTime]}),l.jsx("td",{className:"p-3 font-bold text-gray-800",children:ye.researcherName}),l.jsx("td",{className:"p-3 text-gray-600",children:ye.experimentType}),l.jsx("td",{className:"p-3",children:H?l.jsxs("select",{value:ye.status,onChange:Qe=>Ot(ye.id,Qe.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${ye.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":ye.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[l.jsx("option",{value:"CONFIRMED",children:""}),l.jsx("option",{value:"COMPLETED",children:" "}),l.jsx("option",{value:"CANCELLED",children:""})]}):yt(ye.status)}),l.jsx("td",{className:"p-3",children:(H||(t==null?void 0:t.name)===ye.researcherName)&&l.jsx("button",{onClick:()=>{B(ye.id),A(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:l.jsx(ut,{className:"w-4 h-4"})})})]},ye.id)),!d&&r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"font-bold text-gray-800",children:N?"  ":"  "}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.name,onChange:ye=>j({..._,name:ye.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.supervisor,onChange:ye=>j({..._,supervisor:ye.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:_.location,onChange:ye=>j({..._,location:ye.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:V,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[V?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"}),""]})]})]})]})}),C&&k&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),l.jsx("p",{className:"text-sm text-purple-700",children:k.name})]}),l.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6",children:[H&&l.jsxs("form",{onSubmit:ze,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[l.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx($t,{className:"w-4 h-4"})," ",R?"  ":"  "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:D.courseName,onChange:ye=>U({...D,courseName:ye.target.value})}),l.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:D.instructor,onChange:ye=>U({...D,instructor:ye.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:D.day,onChange:ye=>U({...D,day:ye.target.value}),children:[l.jsx("option",{value:"Saturday",children:""}),l.jsx("option",{value:"Sunday",children:""}),l.jsx("option",{value:"Monday",children:""}),l.jsx("option",{value:"Tuesday",children:""}),l.jsx("option",{value:"Wednesday",children:""}),l.jsx("option",{value:"Thursday",children:""})]}),l.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:D.startTime,onChange:ye=>U({...D,startTime:ye.target.value})}),l.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:D.endTime,onChange:ye=>U({...D,endTime:ye.target.value})})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[R&&l.jsx("button",{type:"button",onClick:()=>{L(null),U(ye=>({...ye,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),l.jsx("button",{type:"submit",disabled:V,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:R?" ":" "})]})]}),l.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(ye=>{const Qe=s.filter(We=>We.labId===k.id&&We.day===ye).sort((We,Rt)=>We.startTime.localeCompare(Rt.startTime));return Qe.length===0?null:l.jsxs("div",{children:[l.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:at(ye)}),l.jsx("ul",{className:"space-y-2",children:Qe.map(We=>l.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[We.startTime," - ",We.endTime]}),l.jsx("span",{className:"font-semibold text-gray-800",children:We.courseName}),l.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",We.instructor,")"]})]}),H&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>ce(We),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:l.jsx(Un,{className:"w-3 h-3"})}),l.jsx("button",{onClick:()=>ee(We.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:l.jsx(ut,{className:"w-3 h-3"})})]})]},We.id))})]},ye)}),s.filter(ye=>ye.labId===k.id).length===0&&l.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),z&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:Te,disabled:V,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[V&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),re&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>W(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsxs("button",{onClick:he,disabled:V,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[V&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),$&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:l.jsx(Hr,{className:"w-8 h-8"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),l.jsxs("div",{className:"flex gap-3 w-full",children:[l.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),l.jsx("button",{onClick:je,disabled:V,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},fge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[s,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,x]=w.useState(null),[N,E]=w.useState(!1),[_,j]=w.useState(!1),[C,M]=w.useState(null),[k,T]=w.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});w.useEffect(()=>{R()},[]);const R=async()=>{c(!0);const[A,O]=await Promise.all([ape(),ipe()]);n(A.sort((B,z)=>B.number-z.number)),a(O.sort((B,z)=>z.endDate.localeCompare(B.endDate))),c(!1)},L=A=>{x(A),A.status==="OCCUPIED"?T({researcher:A.researcher||"",plantType:A.plantType||"",notes:A.notes||"",startDate:A.startDate||""}):T({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},D=async A=>{if(A.preventDefault(),!!g){f(!0);try{await kP(g.id,{status:"OCCUPIED",...k}),Se("  ",(t==null?void 0:t.name)||k.researcher,`    ${g.number}`),await R(),p(!1),alert("    ")}catch(O){console.error(O),alert("   ")}finally{f(!1)}}},U=async()=>{if(g){f(!0);try{g.researcher&&g.plantType&&await spe({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await kP(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Se("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await R(),E(!1),p(!1),alert("      ")}catch(A){console.error(A),alert("   ")}finally{f(!1)}}},$=async()=>{if(C){f(!0);try{await lpe(C),Se("   ",(t==null?void 0:t.name)||"Unknown","   "),await R(),j(!1),M(null)}catch{alert("  ")}finally{f(!1)}}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(u4,{className:"w-6 h-6 text-green-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),l.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),l.jsx("span",{className:"text-green-700",children:" "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),l.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),s?l.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[l.jsx(Ze,{className:"w-8 h-8 animate-spin text-green-600"}),l.jsx("span",{children:"   ..."})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>{const O=A.status==="OCCUPIED";return l.jsxs("div",{onClick:()=>L(A),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${O?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[l.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",A.number]}),O?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:l.jsx(bu,{className:"w-8 h-8 text-red-500"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-gray-800 truncate",children:A.plantType}),l.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:A.researcher})]}),l.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",A.startDate]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[l.jsx(bu,{className:"w-8 h-8 text-green-400"}),l.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),l.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},A.id)})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[l.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(A9,{className:"w-5 h-5 text-gray-600"}),l.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[r.map(A=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",A.plotNumber]}),l.jsx("td",{className:"p-4",children:A.researcher}),l.jsx("td",{className:"p-4",children:A.plantType}),l.jsx("td",{className:"p-4 text-gray-500",children:A.startDate}),l.jsx("td",{className:"p-4 text-gray-500",children:A.endDate}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>{M(A.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:l.jsx(ut,{className:"w-4 h-4"})})})]},A.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),h&&g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(bu,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),l.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(y4,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),l.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:k.researcher,onChange:A=>T({...k,researcher:A.target.value}),placeholder:"  "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),l.jsxs("div",{className:"relative",children:[l.jsx(bu,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),l.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:k.plantType,onChange:A=>T({...k,plantType:A.target.value}),placeholder:":  ( 95)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(hh,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),l.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:k.startDate,onChange:A=>T({...k,startDate:A.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),l.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:k.notes,onChange:A=>T({...k,notes:A.target.value}),placeholder:"     ..."})]}),l.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),l.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(la,{className:"w-4 h-4"})," "]})]}):l.jsxs("button",{type:"button",onClick:()=>E(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[l.jsx(ut,{className:"w-4 h-4"}),"   "]})})]})]})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(Hr,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:U,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(ut,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:$,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},hge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[s,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState("ALL"),[g,x]=w.useState(!1),[N,E]=w.useState(null),[_,j]=w.useState(!1),[C,M]=w.useState(null),[k,T]=w.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});w.useEffect(()=>{R()},[]),w.useEffect(()=>{a(h==="ALL"?e:e.filter(O=>O.type===h))},[e,h]);const R=async()=>{c(!0);const B=(await ype()).sort((z,me)=>me.date.localeCompare(z.date));n(B),c(!1)},L=O=>{O?(E(O.id),T({title:O.title,type:O.type,date:O.date,location:O.location,description:O.description,regLink:O.regLink||"",status:O.status||"UPCOMING"})):(E(null),T({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),x(!0)},D=async O=>{O.preventDefault(),f(!0);const B=(t==null?void 0:t.name)||"Unknown";try{N?(await xpe(N,k),Se(" ",B,` : ${k.title}`)):(await vpe(k),Se("  ",B,`: ${k.title}`)),await R(),x(!1),alert(N?"   ":"   ")}catch(z){console.error(z),alert("   ")}finally{f(!1)}},U=async()=>{if(C){f(!0);try{const O=e.find(B=>B.id===C);await bpe(C),Se(" ",(t==null?void 0:t.name)||"Unknown",` : ${O==null?void 0:O.title}`),await R(),j(!1),M(null)}catch{alert("  ")}finally{f(!1)}}},$=O=>{switch(O){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:eB};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:K9};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:Wz};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:ai};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:Cs};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:f1}}},A=O=>{switch(O){case"UPCOMING":return l.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[l.jsx(Hi,{className:"w-3 h-3"})," "]});case"COMPLETED":return l.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[l.jsx(la,{className:"w-3 h-3"})," "]});case"CANCELLED":return l.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[l.jsx(ZN,{className:"w-3 h-3"})," "]});default:return null}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(f1,{className:"w-6 h-6 text-purple-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),l.jsxs("button",{onClick:()=>L(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),l.jsx("span",{children:"  "})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[l.jsx(mu,{active:h==="ALL",onClick:()=>p("ALL"),label:""}),l.jsx(mu,{active:h==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),l.jsx(mu,{active:h==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),l.jsx(mu,{active:h==="TRIP",onClick:()=>p("TRIP"),label:" "}),l.jsx(mu,{active:h==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),l.jsx(mu,{active:h==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),s?l.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[l.jsx(Ze,{className:"w-8 h-8 animate-spin text-purple-600"}),l.jsx("span",{children:"  ..."})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(O=>{const B=$(O.type),z=B.icon;return l.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${B.border}`,children:[l.jsxs("div",{className:"p-5 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${B.bg} ${B.color}`,children:[l.jsx(z,{className:"w-3 h-3"})," ",B.label]}),l.jsxs("div",{className:"flex items-center gap-2",children:[A(O.status),l.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[l.jsx(hh,{className:"w-3 h-3"})," ",O.date]})]})]}),l.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:O.title}),l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[l.jsx(f4,{className:"w-4 h-4"}),l.jsx("span",{children:O.location})]}),l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:O.description})]}),l.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[O.regLink&&O.status==="UPCOMING"?l.jsxs("a",{href:O.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",l.jsx(yg,{className:"w-3 h-3"})]}):l.jsx("span",{className:"text-xs text-gray-400 italic",children:O.status==="UPCOMING"?"   ":" "}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>L(O),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{M(O.id),j(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]})]},O.id)}),r.length===0&&l.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N?" ":"  "}),l.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Et,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:k.title,onChange:O=>T({...k,title:O.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:k.type,onChange:O=>T({...k,type:O.target.value}),children:[l.jsx("option",{value:"WORKSHOP",children:" "}),l.jsx("option",{value:"SEMINAR",children:""}),l.jsx("option",{value:"TRIP",children:" / "}),l.jsx("option",{value:"CONFERENCE",children:""}),l.jsx("option",{value:"COURSE",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:k.status,onChange:O=>T({...k,status:O.target.value}),children:[l.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),l.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),l.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:k.date,onChange:O=>T({...k,date:O.target.value})})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:k.location,onChange:O=>T({...k,location:O.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),l.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:k.description,onChange:O=>T({...k,description:O.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),l.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:k.regLink,onChange:O=>T({...k,regLink:O.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):N?l.jsx(wn,{className:"w-4 h-4"}):l.jsx($t,{className:"w-4 h-4"}),N?" ":" "]})]})]})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(ut,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>j(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:U,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},mu=({active:t,onClick:e,label:n})=>l.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),mge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,s]=w.useState(!0),[c,d]=w.useState(""),[f,h]=w.useState(!1),[p,g]=w.useState(null),[x,N]=w.useState(!1);w.useEffect(()=>{E()},[]),w.useEffect(()=>{if(!c)r(t);else{const M=c.toLowerCase();r(t.filter(k=>k.action.toLowerCase().includes(M)||k.performedBy.toLowerCase().includes(M)||k.details.toLowerCase().includes(M)))}},[c,t]);const E=async()=>{s(!0);const M=await bme();e(M),r(M),s(!1)},_=M=>{g(M),h(!0)},j=async()=>{if(p){N(!0);try{await wme(p),await E(),h(!1),g(null)}catch(M){console.error(M),alert("  ")}finally{N(!1)}}},C=async()=>{s(!0),await Se(" ","Admin","     "),await E(),s(!1)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(r4,{className:"w-6 h-6 text-red-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:C,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[l.jsx(Of,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:E,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[l.jsx(h1,{className:"w-4 h-4"})," "]})]})]}),l.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:l.jsxs("div",{className:"relative",children:[l.jsx(ec,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:M=>d(M.target.value)})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y",children:a?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(M=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:M.action}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:M.performedBy})}),l.jsx("td",{className:"p-4 text-gray-600",children:M.details}),l.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(M.timestamp).toLocaleString("ar-EG")}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>_(M.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:l.jsx(ut,{className:"w-4 h-4"})})})]},M.id)):l.jsx("tr",{children:l.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[l.jsx(p4,{className:"w-10 h-10 mb-2 opacity-20"}),l.jsx("p",{children:"     "}),l.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:C,children:"    "})]})})})]})})}),f&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[l.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:l.jsx(Hr,{className:"w-8 h-8 text-red-600"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>h(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),l.jsxs("button",{onClick:j,disabled:x,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[x&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},pge=({user:t})=>{const[e,n]=w.useState("COUNCIL"),[r,a]=w.useState(!0),[s,c]=w.useState([]),[d,f]=w.useState([]),h=new Date().getFullYear(),[p,g]=w.useState(`${h}-${h+1}`),[x,N]=w.useState(!1),[E,_]=w.useState(!1),[j,C]=w.useState(null),[M,k]=w.useState(null),[T,R]=w.useState({academicYear:"",members:[]}),[L,D]=w.useState({name:"",academicYear:"",members:[]}),[U,$]=w.useState(null),A=t.role===_e.ADMIN;w.useEffect(()=>{O()},[]);const O=async()=>{a(!0);const[J,fe]=await Promise.all([wpe(),Epe()]);c(J),f(fe),a(!1)},B=()=>{const J=new Set([...s.map(fe=>fe.academicYear),...d.map(fe=>fe.academicYear)]);return J.add(`${h}-${h+1}`),Array.from(J).sort().reverse()},z=J=>{J?(C(J.id),R({academicYear:J.academicYear,members:[...J.members]})):(C(null),R({academicYear:p,members:[]})),N(!0)},me=async()=>{if(!T.academicYear){alert("   ");return}try{j?(await _pe(j,T),await Se("   ",t.name,`     : ${T.academicYear}`)):(await Npe(T),await Se("   ",t.name,`      : ${T.academicYear}`)),N(!1),O(),alert("   ")}catch(J){console.error(J),alert("   ")}},ie=async J=>{if(window.confirm("       "))try{await jpe(J),await Se("   ",t.name,"      "),O()}catch(fe){console.error(fe),alert(" ")}},G=J=>{J?(k(J.id),D({name:J.name,academicYear:J.academicYear,members:[...J.members]})):(k(null),D({name:"",academicYear:p,members:[]})),_(!0)},re=async()=>{if(!L.name||!L.academicYear){alert(" ");return}try{M?(await Ape(M,L),await Se(" ",t.name,`  ${L.name}  ${L.academicYear}`)):(await Spe(L),await Se(" ",t.name,`   : ${L.name}  ${L.academicYear}`)),_(!1),O(),alert("   ")}catch(J){console.error(J),alert("   ")}},W=async(J,fe)=>{if(window.confirm(`      ${fe}`))try{await Tpe(J),await Se(" ",t.name,`  : ${fe}`),O()}catch(Ee){console.error(Ee),alert(" ")}},ve=J=>{J(fe=>({...fe,members:[...fe.members,{name:"",role:"",title:""}]}))},Q=(J,fe,Ee,Te)=>{J(qe=>{const ce=[...qe.members];return ce[fe]={...ce[fe],[Ee]:Te},{...qe,members:ce}})},V=(J,fe)=>{J(Ee=>({...Ee,members:Ee.members.filter((Te,qe)=>qe!==fe)}))},Y=s.find(J=>J.academicYear===p),H=d.filter(J=>J.academicYear===p);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Ef,{className:"w-6 h-6 text-indigo-600"}),"  "]}),l.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[l.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),l.jsx("select",{value:p,onChange:J=>g(J.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:B().map(J=>l.jsx("option",{value:J,children:J},J))})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(ai,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[l.jsx(Ef,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),A&&l.jsxs("button",{onClick:()=>z(Y),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[Y?l.jsx(Un,{className:"w-4 h-4"}):l.jsx($t,{className:"w-4 h-4"}),Y?" ":"  "]})]}),Y?l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:" (Role)"})]})}),l.jsx("tbody",{className:"divide-y",children:Y.members.map((J,fe)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 text-gray-500",children:J.title}),l.jsx("td",{className:"p-4 font-bold text-gray-800",children:J.name}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${J.role.includes("")?"bg-indigo-100 text-indigo-700":J.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:J.role})})]},fe))})]})}),A&&l.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:l.jsxs("button",{onClick:()=>ie(Y.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[l.jsx(ut,{className:"w-3 h-3"}),"   "]})})]}):l.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[l.jsx(ai,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),l.jsx("p",{children:"       ."}),A&&l.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),A&&l.jsxs("button",{onClick:()=>G(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[l.jsx($t,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[H.map(J=>l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>$(U===J.id?null:J.id),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:l.jsx(Ef,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:J.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[J.members.length," "]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[A&&l.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[l.jsx("button",{onClick:fe=>{fe.stopPropagation(),G(J)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:fe=>{fe.stopPropagation(),W(J.id,J.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]}),U===J.id?l.jsx(QN,{className:"w-5 h-5 text-gray-400"}):l.jsx(XN,{className:"w-5 h-5 text-gray-400"})]})]}),U===J.id&&l.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""})]})}),l.jsx("tbody",{children:J.members.map((fe,Ee)=>l.jsxs("tr",{children:[l.jsx("td",{className:"py-2 text-gray-500 w-20",children:fe.title}),l.jsx("td",{className:"py-2 font-medium",children:fe.name}),l.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:fe.role})]},Ee))})]})})]},J.id)),H.length===0&&l.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[l.jsx(Ef,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),l.jsx("p",{children:"     ."})]})]})]}),x&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"   ":"  "}),l.jsx("button",{onClick:()=>N(!1),children:l.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",value:T.academicYear,onChange:J=>R({...T,academicYear:J.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),l.jsxs("button",{onClick:()=>ve(R),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[l.jsx($t,{className:"w-3 h-3"}),"  "]})]}),l.jsx("div",{className:"space-y-2",children:T.members.map((J,fe)=>l.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[l.jsx("input",{type:"text",placeholder:" (.)",value:J.title,onChange:Ee=>Q(R,fe,"title",Ee.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("input",{type:"text",placeholder:" ",value:J.name,onChange:Ee=>Q(R,fe,"name",Ee.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),l.jsx("input",{type:"text",placeholder:" (/)",value:J.role,onChange:Ee=>Q(R,fe,"role",Ee.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("button",{onClick:()=>V(R,fe),className:"text-red-400 hover:text-red-600 p-1",children:l.jsx(ut,{className:"w-4 h-4"})})]},fe))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{onClick:me,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[l.jsx(wn,{className:"w-4 h-4"}),"  "]})]})]})]})}),E&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:M?" ":"  "}),l.jsx("button",{onClick:()=>_(!1),children:l.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",value:L.name,onChange:J=>D({...L,name:J.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",value:L.academicYear,onChange:J=>D({...L,academicYear:J.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),l.jsxs("button",{onClick:()=>ve(D),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[l.jsx($t,{className:"w-3 h-3"}),"  "]})]}),l.jsx("div",{className:"space-y-2",children:L.members.map((J,fe)=>l.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[l.jsx("input",{type:"text",placeholder:"",value:J.title,onChange:Ee=>Q(D,fe,"title",Ee.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("input",{type:"text",placeholder:" ",value:J.name,onChange:Ee=>Q(D,fe,"name",Ee.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),l.jsx("input",{type:"text",placeholder:"",value:J.role,onChange:Ee=>Q(D,fe,"role",Ee.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),l.jsx("button",{onClick:()=>V(D,fe),className:"text-red-400 hover:text-red-600 p-1",children:l.jsx(ut,{className:"w-4 h-4"})})]},fe))})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[l.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),l.jsxs("button",{onClick:re,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[l.jsx(wn,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},gge=({user:t})=>{const e="2024-2025",[n,r]=w.useState(t.role===_e.ADMIN),[a,s]=w.useState(!0),[c,d]=w.useState(!1),[f,h]=w.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=w.useState(1),[x,N]=w.useState([]),[E,_]=w.useState([]);w.useEffect(()=>{n&&t.role===_e.ADMIN?C():j()},[n,t.id,t.role]);const j=async()=>{s(!0);try{const A=await Cpe(t.id,e);h(A||(O=>({...O,userId:t.id,userName:t.name})))}catch(A){console.error("Error fetching report:",A)}s(!1)},C=async()=>{s(!0);try{const A=await Ope(e),O=await nv();N(A),_(O.map(B=>B.name))}catch(A){console.error("Error fetching dept data:",A)}s(!1)},M=async(A=!1)=>{d(!0);try{const O={...f,status:A?"SUBMITTED":"DRAFT",submissionDate:A?new Date().toISOString():f.submissionDate};await Ipe(O,f.id||void 0),A?(await Se("  ",t.name,`     ${e}`),alert("    ")):(await Se("  ",t.name,`     ${e}`),alert("   ")),j()}catch(O){console.error(O),alert("   ")}finally{d(!1)}},k=async()=>{if(!window.confirm("     .   "))return;const A={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};h(O=>({...O,publishedResearch:[...O.publishedResearch,A]})),await Se(" ",t.name,"        "),alert("   ()")},T=async(A,O)=>{try{const B=await lo(A),z=[...f.publishedResearch];z[O].fileUrl=B,h({...f,publishedResearch:z}),alert("   ")}catch(B){alert("  : "+B.message)}},R=()=>{window.print()},L=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[l.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),l.jsxs("button",{onClick:k,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[l.jsx(C9,{className:"w-4 h-4"}),"    "]})]}),f.publishedResearch.map((A,O)=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[l.jsx("button",{onClick:()=>{const B=f.publishedResearch.filter((z,me)=>me!==O);h({...f,publishedResearch:B})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:l.jsx(ut,{className:"w-4 h-4"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.title,onChange:B=>{const z=[...f.publishedResearch];z[O].title=B.target.value,h({...f,publishedResearch:z})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.journal,onChange:B=>{const z=[...f.publishedResearch];z[O].journal=B.target.value,h({...f,publishedResearch:z})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.type,onChange:B=>{const z=[...f.publishedResearch];z[O].type=B.target.value,h({...f,publishedResearch:z})},children:[l.jsx("option",{value:"International",children:" (International)"}),l.jsx("option",{value:"Regional",children:" (Regional)"}),l.jsx("option",{value:"Local",children:" (Local)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:A.date,onChange:B=>{const z=[...f.publishedResearch];z[O].date=B.target.value,h({...f,publishedResearch:z})}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),l.jsx("div",{className:"flex items-center gap-2",children:A.fileUrl?l.jsxs("a",{href:A.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[l.jsx(Nr,{className:"w-4 h-4"}),"  "]}):l.jsxs("div",{className:"relative w-full",children:[l.jsx("input",{type:"file",id:`file-${O}`,className:"hidden",onChange:B=>B.target.files&&T(B.target.files[0],O)}),l.jsxs("label",{htmlFor:`file-${O}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[l.jsx(Ir,{className:"w-4 h-4"}),"  "]})]})})]})]})]},O)),l.jsxs("button",{onClick:()=>h({...f,publishedResearch:[...f.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),"   "]})]}),D=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(vg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),f.ongoingResearch.map((A,O)=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[l.jsx("button",{onClick:()=>{const B=f.ongoingResearch.filter((z,me)=>me!==O);h({...f,ongoingResearch:B})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:l.jsx(ut,{className:"w-4 h-4"})}),l.jsxs("div",{className:"space-y-3 pl-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.topic,onChange:B=>{const z=[...f.ongoingResearch];z[O].topic=B.target.value,h({...f,ongoingResearch:z})}})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.stage,onChange:B=>{const z=[...f.ongoingResearch];z[O].stage=B.target.value,h({...f,ongoingResearch:z})},children:[l.jsx("option",{value:"Data Collection",children:"  "}),l.jsx("option",{value:"Lab Experiments",children:" "}),l.jsx("option",{value:"Writing",children:" "}),l.jsx("option",{value:"Under Review",children:" "})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",A.progress,"%)"]}),l.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:A.progress,onChange:B=>{const z=[...f.ongoingResearch];z[O].progress=parseInt(B.target.value),h({...f,ongoingResearch:z})}})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),l.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.participants||"",onChange:B=>{const z=[...f.ongoingResearch];z[O].participants=B.target.value,h({...f,ongoingResearch:z})}})]})]})]},O)),l.jsxs("button",{onClick:()=>h({...f,ongoingResearch:[...f.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[l.jsx($t,{className:"w-5 h-5"}),"   "]})]}),U=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(Xp,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),l.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.thesesJudged,onChange:A=>h({...f,scientificActivity:{...f.scientificActivity,thesesJudged:parseInt(A.target.value)}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),l.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:f.scientificActivity.supervisionCount,onChange:A=>h({...f,scientificActivity:{...f.scientificActivity,supervisionCount:parseInt(A.target.value)}})})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:f.scientificActivity.trainingCourses,onChange:A=>h({...f,scientificActivity:{...f.scientificActivity,trainingCourses:A.target.value}})})]})]}),l.jsxs("div",{className:"mt-4 border-t pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),l.jsx("button",{onClick:()=>h({...f,scientificActivity:{...f.scientificActivity,conferences:[...f.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),f.scientificActivity.conferences.map((A,O)=>l.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[l.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:A.name,onChange:B=>{const z=[...f.scientificActivity.conferences];z[O].name=B.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})}}),l.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:A.role,onChange:B=>{const z=[...f.scientificActivity.conferences];z[O].role=B.target.value,h({...f,scientificActivity:{...f.scientificActivity,conferences:z}})},children:[l.jsx("option",{value:"Attendance",children:""}),l.jsx("option",{value:"Speaker",children:""}),l.jsx("option",{value:"Organizer",children:""})]}),l.jsx("button",{onClick:()=>{const B=f.scientificActivity.conferences.filter((z,me)=>me!==O);h({...f,scientificActivity:{...f.scientificActivity,conferences:B}})},className:"text-red-500",title:"",children:l.jsx(Et,{className:"w-4 h-4"})})]},O))]})]}),$=()=>l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(ai,{className:"w-5 h-5 text-amber-600"}),"   "]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.books,onChange:A=>h({...f,communityActivity:{...f.communityActivity,books:A.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.convoys,onChange:A=>h({...f,communityActivity:{...f.communityActivity,convoys:A.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.media,onChange:A=>h({...f,communityActivity:{...f.communityActivity,media:A.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),l.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:f.communityActivity.memberships,onChange:A=>h({...f,communityActivity:{...f.communityActivity,memberships:A.target.value}})})]})]});if(n&&t.role===_e.ADMIN){if(a)return l.jsx("div",{className:"p-10 text-center",children:l.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const A=x.reduce((me,ie)=>{var G;return me+(((G=ie.publishedResearch)==null?void 0:G.length)||0)},0),O=x.reduce((me,ie)=>{var G;return me+(((G=ie.publishedResearch)==null?void 0:G.filter(re=>re.type==="International").length)||0)},0),B=x.filter(me=>me.status==="SUBMITTED").length,z=[...x].sort((me,ie)=>{var G,re;return(((G=ie.publishedResearch)==null?void 0:G.length)||0)-(((re=me.publishedResearch)==null?void 0:re.length)||0)})[0];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(la,{className:"w-6 h-6 text-green-600"}),"  "]}),l.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),l.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[l.jsx(Ia,{title:" ",value:`${B} / ${E.length}`,icon:la,color:"green"}),l.jsx(Ia,{title:" ",value:A,icon:Cs,color:"blue"}),l.jsx(Ia,{title:" ",value:O,icon:c4,color:"purple"}),l.jsx(Ia,{title:" ",value:z?z.userName.split(" ")[0]:"-",icon:Xp,color:"amber"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:" "})]})}),l.jsxs("tbody",{className:"divide-y",children:[E.map((me,ie)=>{var re,W;const G=x.find(ve=>ve.userName===me);return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:me}),l.jsx("td",{className:"p-4",children:(G==null?void 0:G.status)==="SUBMITTED"?l.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[l.jsx(la,{className:"w-3 h-3"}),"  "]}):G?l.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[l.jsx(Hi,{className:"w-3 h-3"}),"  "]}):l.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[l.jsx(JN,{className:"w-3 h-3"}),"  "]})}),l.jsx("td",{className:"p-4 font-mono",children:((re=G==null?void 0:G.publishedResearch)==null?void 0:re.length)||0}),l.jsx("td",{className:"p-4 font-mono",children:((W=G==null?void 0:G.ongoingResearch)==null?void 0:W.length)||0}),l.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:G!=null&&G.submissionDate?new Date(G.submissionDate).toLocaleDateString("ar-EG"):"-"})]},ie)}),E.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?l.jsx("div",{className:"p-10 text-center",children:l.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Nr,{className:"w-6 h-6 text-blue-600"}),"   "]}),l.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===_e.ADMIN&&l.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[l.jsx(ai,{className:"w-4 h-4"}),"   "]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-full ${f.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:f.status==="SUBMITTED"?l.jsx(la,{className:"w-5 h-5"}):l.jsx(Hi,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),l.jsx("p",{className:`font-bold ${f.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:f.status==="SUBMITTED"?"   ":"   "})]})]}),l.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:l.jsxs("button",{onClick:R,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[l.jsx(gg,{className:"w-4 h-4"}),"  PDF"]})})]}),l.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:Cs},{id:2,label:" ",icon:vg},{id:3,label:" ",icon:Xp},{id:4,label:" ",icon:ai}].map(A=>l.jsxs("button",{onClick:()=>g(A.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===A.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[l.jsx(A.icon,{className:`w-4 h-4 ${p===A.id?"text-blue-600":"text-gray-400"}`})," ",A.label]},A.id))}),l.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&L(),p===2&&D(),p===3&&U(),p===4&&$(),l.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[l.jsxs("button",{onClick:()=>M(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[l.jsx(wn,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>M(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(h4,{className:"w-4 h-4"}),"   "]})]})]}),l.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[l.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[l.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),l.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),l.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),l.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",t.name]}),l.jsxs("p",{children:[l.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),l.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.publishedResearch.length>0?f.publishedResearch.map((A,O)=>l.jsxs("li",{className:"pl-2",children:[l.jsx("span",{className:"font-bold",children:A.title}),l.jsx("br",{}),l.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",A.journal," (",A.date,") - [",A.type,"]"]})]},O)):l.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),l.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:f.ongoingResearch.length>0?f.ongoingResearch.map((A,O)=>l.jsxs("li",{className:"pl-2",children:[l.jsx("span",{className:"font-bold",children:A.topic}),l.jsx("br",{}),l.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",A.stage," ( : ",A.progress,"%)"]})]},O)):l.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),l.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[l.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),l.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[l.jsxs("div",{className:"border p-4",children:[l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:" :"})," ",f.scientificActivity.thesesJudged]}),l.jsxs("p",{className:"mb-2",children:[l.jsx("strong",{children:" :"})," ",f.scientificActivity.supervisionCount]}),l.jsx("p",{children:l.jsx("strong",{children:" :"})}),l.jsx("p",{className:"text-sm mt-1",children:f.scientificActivity.trainingCourses||" "})]}),l.jsxs("div",{className:"border p-4",children:[l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",f.scientificActivity.conferences.length>0?f.scientificActivity.conferences.map(A=>A.name).join(" "):" "]}),l.jsxs("p",{className:"mt-2",children:[l.jsx("strong",{children:" :"})," ",f.communityActivity.books||" "]})]})]})]}),l.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{children:" "}),l.jsx("p",{className:"mt-8",children:"...................."})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{children:"  "}),l.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},yge=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState(null),[s,c]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState(null),[g,x]=w.useState(""),[N,E]=w.useState("ALL"),[_,j]=w.useState(!1),[C,M]=w.useState(!1),[k,T]=w.useState(!1),[R,L]=w.useState(null),[D,U]=w.useState(null),[$,A]=w.useState(null),[O,B]=w.useState(null),[z,me]=w.useState({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[ie,G]=w.useState({title:"",vision:"",startDate:"",endDate:"",strategicGoals:""}),[re,W]=w.useState({title:"",description:"",coordinator:""}),[ve,Q]=w.useState(null),V=t.role===_e.ADMIN;w.useEffect(()=>{Y()},[]);const Y=async()=>{const te=await KE();a(te);const De=await Rpe();c(De.filter(Le=>Le.status==="ARCHIVED"));const Ye=await Mpe();f(V?Ye:Ye.filter(Le=>Le.proposedById===t.id))},H=te=>{te?(A(te.id),W({title:te.title,description:te.description,coordinator:te.coordinator})):(A(null),W({title:"",description:"",coordinator:""})),T(!0)},J=async te=>{if(te.preventDefault(),!!r)try{let De=[...r.axes];if($)De=De.map(Ye=>Ye.id===$?{...Ye,...re}:Ye),await Se("  ",t.name,` : ${re.title}`);else{const Ye={id:`axis-${Date.now()}`,title:re.title,description:re.description,coordinator:re.coordinator,topics:[]};De.push(Ye),await Se("  ",t.name,` : ${re.title}`)}await Uo(r.id,{axes:De}),T(!1),Y(),alert("     ")}catch(De){console.error(De),alert("  ")}},fe=async(te,De)=>{if(!(!r||!V)&&window.confirm(`      "${De}"    `))try{const Ye=r.axes.filter(Le=>Le.id!==te);await Uo(r.id,{axes:Ye}),await Se("  ",t.name,` : ${De}`),Y(),alert("   ")}catch{alert(" ")}},Ee=async te=>{if(te.preventDefault(),!r||!O)return;const De=r.axes.map(Ye=>Ye.id===O.axisId?{...Ye,topics:Ye.topics.map(Le=>Le.id===O.topic.id?O.topic:Le)}:Ye);try{await Uo(r.id,{axes:De}),await Se("  ",t.name,` : ${O.topic.title}`),B(null),Y(),alert("  ")}catch{alert(" ")}},Te=async(te,De,Ye)=>{if(!(!r||!V)&&window.confirm("         "))try{const Le=r.axes.map(Ht=>Ht.id===te?{...Ht,topics:Ht.topics.filter(zt=>zt.id!==De)}:Ht);await Uo(r.id,{axes:Le}),await Se("   ",t.name,`  : ${Ye}`),Y()}catch{alert("  ")}},qe=async(te,De,Ye)=>{if(r){if(t.role!==_e.STUDENT_PG&&t.role!==_e.STAFF&&!V){alert("      .");return}if(window.confirm(`      : "${Ye}"`))try{const Le=r.axes.map(Ht=>Ht.id===te?{...Ht,topics:Ht.topics.map(zt=>zt.id===De?{...zt,status:"IN_PROGRESS",studentName:`${t.name} ( )`}:zt)}:Ht);await Uo(r.id,{axes:Le}),await Se("   ",t.name,`  : ${Ye}`),Y(),alert("         .")}catch{alert("  ")}}},ce=async(te,De,Ye,Le)=>{const Ht=prompt("  ():");if(Ht!==null)try{if(await Upe(te,Ye,Ht||""),Ye==="APPROVED"&&Le&&r){const zt={id:`topic-${Date.now()}`,title:Le.title,goal:Le.appliedGoal,status:"AVAILABLE",studentName:Le.studentName||""};Le.studentName&&(zt.status="IN_PROGRESS");let mi=[...r.axes];if(Le.axisId==="NEW"){const Va={id:`axis-${Date.now()}`,title:Le.newAxisName||" ",description:Le.justification,coordinator:Le.proposedBy,topics:[zt]};mi.push(Va)}else mi=mi.map(Va=>Va.id===Le.axisId?{...Va,topics:[...Va.topics,zt]}:Va);await Uo(r.id,{axes:mi}),await Se("  ",t.name,`    : ${De}`)}await Se("  ",t.name,` ${Ye} : ${De}`),Y(),alert("   .")}catch(zt){console.error(zt),alert("     (  )")}},ze=()=>{L(null),me({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),j(!0)},ee=te=>{L(te.id),me({title:te.title,axisId:te.axisId,newAxisName:te.newAxisName||"",type:te.type,justification:te.justification,appliedGoal:te.appliedGoal,studentName:te.studentName||"",hasStudent:!!te.studentName}),j(!0)},he=async(te,De)=>{if(window.confirm("      "))try{await on(Fe(pe,"research_proposals",te)),await Se("  ",t.name,`  : ${De}`),Y(),alert("  ")}catch(Ye){console.error(Ye),alert(" ")}},at=async te=>{te.preventDefault();try{const De={title:z.title,axisId:z.axisId,newAxisName:z.axisId==="NEW"&&z.newAxisName||"",type:z.type,justification:z.justification,appliedGoal:z.appliedGoal,studentName:z.hasStudent&&z.studentName||"",proposedBy:t.name,proposedById:t.id,status:"PENDING"};R?(await Ut(Fe(pe,"research_proposals",R),De),await Se("  ",t.name,`  : ${z.title}`)):(await Lpe(De),await Se("  ",t.name,`   : ${z.title}`)),j(!1),Y(),alert(R?"   ":"     ")}catch(De){console.error(De),alert("   .         .")}},Ke=te=>{if(!r||te.length<5){Q(null);return}let De=!1;r.axes.forEach(Ye=>{Ye.topics.forEach(Le=>{(Le.title.includes(te)||te.includes(Le.title))&&(Q(` :     "${Le.title}"`),De=!0)})}),De||Q(null)},Ot=te=>{if(te)U(te.id),G({title:te.title,vision:te.vision,startDate:te.startDate,endDate:te.endDate,strategicGoals:te.strategicGoals.join(", ")});else{U(null);const De=new Date().getFullYear();G({title:`   ${De}-${De+5}`,vision:"",startDate:`${De}-01-01`,endDate:`${De+5}-12-31`,strategicGoals:"  2030,  "})}M(!0)},je=async te=>{te.preventDefault();const De={title:ie.title,vision:ie.vision,startDate:ie.startDate,endDate:ie.endDate,strategicGoals:ie.strategicGoals.split(",").map(Ye=>Ye.trim()),status:"ACTIVE",axes:D&&r?r.axes:[]};try{D?await Uo(D,De):await Dpe(De),M(!1),Y()}catch{alert("")}},yt=async()=>{r&&window.confirm(":   ")&&(await Ppe(r.id),Y())},ye=()=>l.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[l.jsx("div",{className:"relative z-10",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),l.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),l.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[l.jsxs("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30",children:["   (",r.startDate.split("-")[0]," - ",r.endDate.split("-")[0],")"]}),V&&l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsxs("button",{onClick:()=>Ot(r),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[l.jsx(m4,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>Ot(),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[l.jsx($t,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:yt,className:"bg-red-500/30 hover:bg-red-500/50 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[l.jsx(ut,{className:"w-4 h-4"})," "]})]})]})]}),l.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((te,De)=>l.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[l.jsx(Zp,{className:"w-3 h-3 text-green-300"})," ",te]},De))})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),V&&l.jsxs("button",{onClick:()=>Ot(),className:"bg-white text-green-800 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition shadow-lg flex items-center gap-2 mx-auto",children:[l.jsx($t,{className:"w-5 h-5"}),"    "]})]})}),l.jsx(Zp,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),Qe=()=>l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[V&&r&&l.jsx("div",{className:"flex justify-end mb-4",children:l.jsxs("button",{onClick:()=>H(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold hover:bg-green-700",children:[l.jsx($t,{className:"w-4 h-4"}),"   "]})}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ec,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:g,onChange:te=>x(te.target.value)})]}),l.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:N,onChange:te=>E(te.target.value),children:[l.jsx("option",{value:"ALL",children:" "}),l.jsx("option",{value:"AVAILABLE",children:" "}),l.jsx("option",{value:"IN_PROGRESS",children:"  "}),l.jsx("option",{value:"COMPLETED",children:" "})]})]}),l.jsx("div",{className:"space-y-4",children:r==null?void 0:r.axes.map(te=>{const De=te.topics.filter(Le=>(N==="ALL"||Le.status===N)&&Le.title.toLowerCase().includes(g.toLowerCase()));if(De.length===0&&g)return null;const Ye=Math.round(te.topics.filter(Le=>Le.status==="COMPLETED").length/te.topics.length*100)||0;return l.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[l.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>p(h===te.id?null:te.id),children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[h===te.id?l.jsx(QN,{className:"w-5 h-5"}):l.jsx(XN,{className:"w-5 h-5"}),te.title]}),l.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",te.coordinator]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center hidden md:block",children:[l.jsx("div",{className:"text-xs text-gray-500",children:" "}),l.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:l.jsx("div",{className:"h-full bg-green-500",style:{width:`${Ye}%`}})})]}),l.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[De.length," "]})]})]}),h===te.id&&l.jsxs("div",{className:"p-4 border-t border-gray-100",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("p",{className:"text-gray-600 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm flex-1",children:[" ",te.description]}),V&&l.jsxs("div",{className:"flex gap-2 mr-2",children:[l.jsx("button",{onClick:()=>H(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:" ",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>fe(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:" ",children:l.jsx(ut,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"grid gap-3",children:[De.map(Le=>l.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-bold text-gray-800",children:Le.title}),l.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Le.status==="AVAILABLE"?"bg-green-100 text-green-700":Le.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:Le.status==="AVAILABLE"?" ":Le.status==="IN_PROGRESS"?" ":" "})]}),l.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[l.jsx(Zp,{className:"w-3 h-3"})," : ",Le.goal]}),Le.studentName&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[l.jsx(y4,{className:"w-3 h-3"}),"  : ",Le.studentName]})]}),l.jsx("div",{className:"flex items-center gap-2",children:V?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>B({axisId:te.id,topic:Le}),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>Te(te.id,Le.id,Le.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]}):Le.status==="AVAILABLE"&&l.jsx("button",{onClick:()=>qe(te.id,Le.id,Le.title),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},Le.id)),De.length===0&&l.jsx("p",{className:"text-center text-gray-400 py-4",children:"        ."})]})]})]},te.id)})}),k&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg",children:$?" ":"  "}),l.jsx("button",{onClick:()=>T(!1),children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:J,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:re.title,onChange:te=>W({...re,title:te.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:re.description,onChange:te=>W({...re,description:te.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded",value:re.coordinator,onChange:te=>W({...re,coordinator:te.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded text-sm",children:""})]})]})]})}),O&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[l.jsx("h3",{className:"font-bold text-lg",children:"  "}),l.jsx("button",{onClick:()=>B(null),children:l.jsx(Et,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:Ee,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:O.topic.title,onChange:te=>B({...O,topic:{...O.topic,title:te.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:O.topic.goal,onChange:te=>B({...O,topic:{...O.topic,goal:te.target.value}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"    ",value:O.topic.studentName||"",onChange:te=>B({...O,topic:{...O.topic,studentName:te.target.value||void 0}})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),l.jsxs("select",{className:"w-full border p-2 rounded",value:O.topic.status,onChange:te=>B({...O,topic:{...O.topic,status:te.target.value}}),children:[l.jsx("option",{value:"AVAILABLE",children:""}),l.jsx("option",{value:"IN_PROGRESS",children:" "}),l.jsx("option",{value:"COMPLETED",children:""})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{type:"button",onClick:()=>B(null),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded text-sm",children:" "})]})]})]})})]}),We=()=>l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[r&&l.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),l.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),l.jsxs("button",{onClick:ze,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[l.jsx($t,{className:"w-5 h-5"}),"    "]})]}),l.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",V&&l.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.filter(te=>te.status==="PENDING").length,"  "]})]}),l.jsxs("div",{className:"space-y-3",children:[d.length===0&&l.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),d.map(te=>{var De;return l.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h4",{className:"font-bold text-lg",children:te.title}),l.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${te.status==="PENDING"?"bg-amber-100 text-amber-800":te.status==="APPROVED"?"bg-green-100 text-green-800":te.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:te.status==="PENDING"?" ":te.status==="APPROVED"?" ":te.status==="REJECTED"?"":" "})]}),l.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[l.jsx("strong",{children:" :"})," ",te.proposedBy," |",l.jsx("strong",{children:" :"})," ",te.axisId==="NEW"?`  (${te.newAxisName})`:((De=r==null?void 0:r.axes.find(Ye=>Ye.id===te.axisId))==null?void 0:De.title)||" "]}),l.jsxs("p",{className:"text-sm text-gray-500",children:[l.jsx("strong",{children:":"})," ",te.justification]}),te.adminNotes&&l.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",te.adminNotes]})]}),l.jsxs("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:[V&&te.status==="PENDING"?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>ce(te.id,te.title,"APPROVED",te),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),l.jsx("button",{onClick:()=>ce(te.id,te.title,"MODIFICATION_REQUESTED",te),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),l.jsx("button",{onClick:()=>ce(te.id,te.title,"REJECTED",te),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):te.proposedById===t.id&&(te.status==="PENDING"||te.status==="MODIFICATION_REQUESTED")&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>ee(te),className:"text-blue-500 hover:bg-blue-50 p-2 rounded flex items-center gap-1 text-sm font-bold border border-blue-200",children:[l.jsx(Un,{className:"w-4 h-4"}),"   "]}),l.jsx("button",{onClick:()=>he(te.id,te.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:l.jsx(ut,{className:"w-4 h-4"})})]}),V&&te.status!=="PENDING"&&l.jsxs("button",{onClick:()=>he(te.id,te.title),className:"text-gray-400 hover:text-red-500 p-1 text-xs flex items-center justify-end gap-1 mt-2",children:[l.jsx(ut,{className:"w-3 h-3"}),"   "]})]})]},te.id)})]})]}),Rt=()=>l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[l.jsx(O2,{className:"w-5 h-5"}),"    "]}),s.length===0?l.jsx("p",{className:"text-center text-gray-400 py-12 border-2 border-dashed rounded-xl",children:"   "}):s.map(te=>l.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 rounded-xl",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-xl font-bold text-gray-800",children:te.title}),l.jsxs("p",{className:"text-gray-500 text-sm",children:[te.startDate," - ",te.endDate]})]}),l.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-bold",children:""})]}),l.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",te.vision]}),l.jsxs("p",{className:"mt-2",children:[l.jsx("strong",{children:" :"})," ",te.axes.length]})]})]},te.id))]}),hi=()=>{if(!r)return l.jsx("p",{className:"text-center p-8",children:"     ."});const te=r.axes.reduce((Ht,zt)=>Ht+zt.topics.length,0),De=r.axes.reduce((Ht,zt)=>Ht+zt.topics.filter(mi=>mi.status==="COMPLETED").length,0),Ye=r.axes.map(Ht=>({name:Ht.title.split(" ").slice(0,3).join(" ")+"...",value:Ht.topics.length})),Le=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[l.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:te}),l.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[l.jsx("h3",{className:"text-2xl font-bold text-green-700",children:De}),l.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[l.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[te>0?Math.round(De/te*100):0,"%"]}),l.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[l.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),l.jsx(zk,{width:"100%",height:"90%",children:l.jsxs(Eie,{children:[l.jsx(z6,{data:Ye,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:Ye.map((Ht,zt)=>l.jsx(Ph,{fill:Le[zt%Le.length]},`cell-${zt}`))}),l.jsx(g6,{})]})})]})})]})};return l.jsxs("div",{className:"space-y-6",children:[ye(),l.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[l.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(ec,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Nr,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(Zz,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>n("ARCHIVE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ARCHIVE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[l.jsx(O2,{className:"w-4 h-4"})," "]})]}),l.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&Qe(),e==="PROPOSALS"&&We(),e==="ANALYTICS"&&hi(),e==="ARCHIVE"&&Rt()]}),C&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:D?"  ":"   "}),l.jsx("button",{onClick:()=>M(!1),children:l.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("form",{onSubmit:je,className:"space-y-4",children:[D===null&&l.jsx("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 text-sm text-yellow-800 mb-4",children:" :         ."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:ie.title,onChange:te=>G({...ie,title:te.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:ie.vision,onChange:te=>G({...ie,vision:te.target.value})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ie.startDate,onChange:te=>G({...ie,startDate:te.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ie.endDate,onChange:te=>G({...ie,endDate:te.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:"  (  )"}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:ie.strategicGoals,onChange:te=>G({...ie,strategicGoals:te.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>M(!1),className:"px-4 py-2 text-gray-600",children:""}),l.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded font-bold hover:bg-green-700",children:" "})]})]})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?"  ":"   "}),l.jsx("button",{onClick:()=>j(!1),children:l.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("form",{onSubmit:at,className:"p-6 space-y-5",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:z.title,onChange:te=>{me({...z,title:te.target.value}),Ke(te.target.value)}}),ve&&l.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[l.jsx(JN,{className:"w-5 h-5 shrink-0"}),l.jsx("span",{children:ve})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:z.axisId,onChange:te=>me({...z,axisId:te.target.value}),children:[l.jsx("option",{value:"",children:"--   --"}),r&&r.axes.map(te=>l.jsx("option",{value:te.id,children:te.title},te.id)),l.jsx("option",{value:"NEW",children:"   / "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:z.type,onChange:te=>me({...z,type:te.target.value}),children:[l.jsx("option",{value:"MSc",children:""}),l.jsx("option",{value:"PhD",children:""})]})]}),z.axisId==="NEW"&&l.jsxs("div",{className:"col-span-2 animate-in fade-in",children:[l.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-1",children:"   "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg border-purple-300 focus:ring-2 focus:ring-purple-500 outline-none bg-purple-50",placeholder:"   ...",value:z.newAxisName,onChange:te=>me({...z,newAxisName:te.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"     ",value:z.justification,onChange:te=>me({...z,justification:te.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:z.appliedGoal,onChange:te=>me({...z,appliedGoal:te.target.value})})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:z.hasStudent,onChange:te=>me({...z,hasStudent:te.target.checked})}),l.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),z.hasStudent&&l.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:z.studentName,onChange:te=>me({...z,studentName:te.target.value})})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),l.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[l.jsx(h4,{className:"w-4 h-4"})," ",R?" ":" "]})]})]})]})})]})},vge=({user:t})=>{const[e,n]=w.useState("DASHBOARD"),[r,a]=w.useState([]),[s,c]=w.useState([]),[d,f]=w.useState([]),[h,p]=w.useState(!0),[g,x]=w.useState(!1),[N,E]=w.useState(null),[_,j]=w.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[C,M]=w.useState([]),[k,T]=w.useState(!1),[R,L]=w.useState(null),[D,U]=w.useState(null),[$,A]=w.useState("");w.useEffect(()=>{O()},[]);const O=async()=>{p(!0);try{const[H,J,fe]=await Promise.all([zpe(t.id),Bpe(t.id),nv()]);a(H),c(J);const Ee=fe.filter(Te=>Te.id!==t.id);f(Ee)}catch(H){console.error("Error fetching data:",H)}p(!1)},B=()=>{if(!_.startDate||!_.endDate)return 0;const H=new Date(_.startDate),fe=new Date(_.endDate).getTime()-H.getTime();return Math.ceil(fe/(1e3*3600*24))+1},z=H=>{switch(H){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return H}},me=()=>{x(!1),E(null),j({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),M([]),n("NEW")},ie=H=>{if(H.status==="APPROVED"||H.status==="REJECTED"){alert("    ");return}x(!0),E(H.id),j({type:H.type,startDate:H.startDate,endDate:H.endDate,substituteId:H.substituteId||"",address:H.address||"",phone:H.phone||"",hospital:H.hospital||"",conferenceName:H.conferenceName||"",conferenceLocation:H.conferenceLocation||"",spouseName:H.spouseName||"",spouseJob:H.spouseJob||"",country:H.country||""}),M([]),n("NEW")},G=async(H,J)=>{if(window.confirm("      "))try{await on(Fe(pe,"leave_requests",H)),await Se("  ",t.name,`   ${z(J)}`),O()}catch{alert(" ")}},re=async H=>{var fe;H.preventDefault();const J=B();if(J<=0){alert("      ");return}if(_.type==="CASUAL"&&!g){const Ee=r.filter(Te=>Te.type==="CASUAL"&&Te.status==="APPROVED").reduce((Te,qe)=>Te+qe.daysCount,0);if(Ee+J>7){alert(`     (${7-Ee} )  .`);return}}T(!0);try{const Ee=[];for(const ce of C){const ze=await lo(ce);Ee.push(ze)}const Te=(fe=d.find(ce=>ce.id===_.substituteId))==null?void 0:fe.name,qe={userId:t.id,userName:t.name,type:_.type,startDate:_.startDate,endDate:_.endDate,daysCount:J,substituteId:_.substituteId,substituteName:Te,address:_.address,phone:_.phone,hospital:_.hospital,conferenceName:_.conferenceName,conferenceLocation:_.conferenceLocation,spouseName:_.spouseName,spouseJob:_.spouseJob,country:_.country,...Ee.length>0&&{documentsUrls:Ee,medicalReportUrl:Ee[0]}};g&&N?(await Ut(Fe(pe,"leave_requests",N),qe),await Se("  ",t.name,`   ${z(_.type)}`),alert("   ")):(await Vpe(qe),await Se(" ",t.name,`  ${z(_.type)}  ${J} `),alert("   ")),n("HISTORY"),O()}catch(Ee){console.error(Ee),alert("   ")}finally{T(!1)}},W=async H=>{if(R)try{await $pe(R.id,H,$),await Se("  ",t.name,`${H?"":""}   ${R.userName}`),alert("  "),L(null),U(null),O()}catch{alert(" ")}},ve=()=>{const H=r.filter(fe=>fe.type==="CASUAL"&&fe.status==="APPROVED").reduce((fe,Ee)=>fe+Ee.daysCount,0),J=r.filter(fe=>fe.status.includes("PENDING")).length;return l.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),l.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-H," ",l.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),l.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:l.jsx(Hi,{className:"w-6 h-6 text-orange-600"})})]}),l.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:l.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${H/7*100}%`}})})]}),l.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),l.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:J})]}),l.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:l.jsx(Nr,{className:"w-6 h-6 text-blue-600"})})]}),l.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),l.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),l.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:s.length})]}),l.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[l.jsx(P2,{className:"w-6 h-6 text-purple-600"}),s.length>0&&l.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),l.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]})]}),l.jsxs("button",{onClick:me,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[l.jsx($t,{className:"w-6 h-6"}),"    "]})]})},Q=()=>l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[l.jsx(Qp,{className:"w-6 h-6 text-green-600"})," ",g?"  ":"  "]}),g&&l.jsx("button",{onClick:me,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),l.jsxs("form",{onSubmit:re,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),l.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:_.type,onChange:H=>j({..._,type:H.target.value}),disabled:g,children:[l.jsx("option",{value:"CASUAL",children:" "}),l.jsx("option",{value:"ANNUAL",children:" "}),l.jsx("option",{value:"SICK",children:" "}),l.jsx("option",{value:"SCIENTIFIC",children:"  / "}),l.jsx("option",{value:"SPOUSE",children:" /"}),l.jsx("option",{value:"CHILD_CARE",children:" "}),l.jsx("option",{value:"HAJJ",children:" / "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:_.startDate,onChange:H=>j({..._,startDate:H.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:_.endDate,onChange:H=>j({..._,endDate:H.target.value})}),B()>0&&l.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",B()," "]})]})]}),l.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[l.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[l.jsx(P2,{className:"w-4 h-4"}),"   ( )"]}),l.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:_.substituteId,onChange:H=>j({..._,substituteId:H.target.value}),required:_.type!=="CHILD_CARE"&&_.type!=="SPOUSE",children:[l.jsx("option",{value:"",children:"--   --"}),d.length===0?l.jsx("option",{disabled:!0,children:"    "}):d.map(H=>l.jsxs("option",{value:H.id,children:[H.name," (",H.rank,")"]},H.id))]}),l.jsxs("p",{className:"text-xs text-purple-600 mt-2 flex justify-between",children:[l.jsx("span",{children:"*        ."}),d.length===0&&l.jsx("span",{className:"text-red-500 font-bold",children:":          ."})]})]}),(_.type==="CASUAL"||_.type==="ANNUAL"||_.type==="HAJJ")&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.address,onChange:H=>j({..._,address:H.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:_.phone,onChange:H=>j({..._,phone:H.target.value})})]})]}),_.type==="SICK"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:_.hospital,onChange:H=>j({..._,hospital:H.target.value})})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[l.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:H=>M(Array.from(H.target.files||[]))}),l.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[l.jsx(fB,{className:"w-8 h-8 text-red-500"}),l.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),C.length>0&&l.jsx("span",{className:"text-xs text-green-600",children:C[0].name})]})]})]}),_.type==="SCIENTIFIC"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),l.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.conferenceName,onChange:H=>j({..._,conferenceName:H.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),l.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:_.conferenceLocation,onChange:H=>j({..._,conferenceLocation:H.target.value})})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[l.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:H=>M(Array.from(H.target.files||[]))}),l.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:C.length>0?C[0].name:"  "})]})]}),_.type==="SPOUSE"&&l.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[l.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(e_,{className:"w-4 h-4"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:_.spouseName,onChange:H=>j({..._,spouseName:H.target.value})}),l.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:_.foreignEntity,onChange:H=>j({..._,foreignEntity:H.target.value})}),l.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:_.country,onChange:H=>j({..._,country:H.target.value})})]}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[l.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:H=>M(Array.from(H.target.files||[]))}),l.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[l.jsx(Ir,{className:"w-6 h-6 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),C.length>0&&l.jsxs("span",{className:"text-xs text-green-600",children:[C.length,"   "]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),l.jsxs("button",{type:"submit",disabled:k,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[k?l.jsx(Ze,{className:"w-5 h-5 animate-spin"}):g?l.jsx(wn,{className:"w-5 h-5"}):l.jsx(la,{className:"w-5 h-5"}),g?" ":" "]})]})]})]}),V=()=>l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),s.length===0&&l.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),l.jsx("div",{className:"grid gap-4",children:s.map(H=>l.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),l.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:H.userName})]}),l.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",l.jsx("span",{className:"font-bold",children:z(H.type)})]}),l.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[l.jsxs("span",{children:[": ",H.startDate]}),l.jsxs("span",{children:[": ",H.endDate]}),l.jsxs("span",{children:["(",H.daysCount," )"]})]})]}),l.jsx("button",{onClick:()=>{L(H),U(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},H.id))}),R&&l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[l.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[l.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),l.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",R.userName]})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[l.jsx(Qp,{className:"w-4 h-4"}),"    "]}),l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"text-gray-500 border-b",children:l.jsxs("tr",{children:[l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""}),l.jsx("th",{className:"pb-2",children:""})]})}),l.jsxs("tbody",{className:"font-medium text-gray-800",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"py-2",children:""}),l.jsx("td",{children:"10:00 - 12:00"}),l.jsx("td",{children:" ()"}),l.jsx("td",{children:" "})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-2",children:""}),l.jsx("td",{children:"02:00 - 04:00"}),l.jsx("td",{children:" ()"}),l.jsx("td",{children:" 3"})]})]})]}),l.jsx("div",{className:"mt-3 bg-yellow-50 text-yellow-800 text-xs p-2 rounded border border-yellow-100",children:"          ."})]}),l.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',l.jsx("strong",{children:t.name}),"                 / ",l.jsx("strong",{children:R.userName}),'      ."']}),D?D==="ACCEPT"?l.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[l.jsx(la,{className:"w-16 h-16 text-green-500 mx-auto"}),l.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),l.jsx("button",{onClick:()=>W(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),l.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:$,onChange:H=>A(H.target.value)}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>U(null),className:"px-4 text-gray-500",children:""}),l.jsx("button",{onClick:()=>W(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{onClick:()=>U("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),l.jsx("button",{onClick:()=>U("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("button",{onClick:()=>L(null),children:l.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),Y=()=>l.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[l.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsxs("tbody",{className:"divide-y",children:[r.map(H=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-4 font-bold text-gray-800",children:z(H.type)}),l.jsx("td",{className:"p-4",children:H.startDate}),l.jsx("td",{className:"p-4",children:H.endDate}),l.jsx("td",{className:"p-4 text-gray-600",children:H.substituteName||"-"}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${H.status==="APPROVED"?"bg-green-100 text-green-700":H.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:H.status==="APPROVED"?"":H.status==="PENDING_SUBSTITUTE"?" ":H.status==="PENDING_HEAD"?" ":""})}),l.jsxs("td",{className:"p-4 flex gap-2",children:[(H.status==="PENDING_SUBSTITUTE"||H.status==="PENDING_HEAD")&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>ie(H),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:" ",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>G(H.id,H.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:" ",children:l.jsx(ut,{className:"w-4 h-4"})})]}),H.status==="APPROVED"&&l.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[l.jsx(Nr,{className:"w-3 h-3"})," "]})]})]},H.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]});return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(Qp,{className:"w-8 h-8 text-green-600"}),"  "]})}),l.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[l.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),l.jsx("button",{onClick:me,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "}),l.jsxs("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors flex items-center gap-2 ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700 bg-purple-50":"text-gray-500 hover:text-purple-600"}`,children:["  ",s.length>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full",children:s.length})]}),l.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:" "})]}),l.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&ve(),e==="NEW"&&Q(),e==="SUBSTITUTE"&&V(),e==="HISTORY"&&Y()]})]})},xge=({user:t})=>{const[e,n]=w.useState("LOAN"),[r,a]=w.useState([]),[s,c]=w.useState(!0),[d,f]=w.useState(!1),[h,p]=w.useState(0),g=t.role===_e.ADMIN,[x,N]=w.useState("MY_REQUESTS"),[E,_]=w.useState(!1),[j,C]=w.useState(null),[M,k]=w.useState({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),[T,R]=w.useState({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),[L,D]=w.useState({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"}),[U,$]=w.useState([]);w.useEffect(()=>{A()},[x]);const A=async()=>{c(!0);try{g&&x==="ALL_REQUESTS"?a(await qpe()):(a(await Fpe(t.id)),(!g||x==="MY_REQUESTS")&&p(await Gpe(t.id)))}catch(W){console.error("Error fetching data:",W)}c(!1)},O=W=>{$([]),W?(C(W.id),W.type==="LOAN"?(k({...W}),n("LOAN")):W.type==="SECONDMENT"?(R({...W}),n("SECONDMENT")):(D({...W}),n("TRANSFER"))):(C(null),k({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),R({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),D({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"})),_(!0)},B=async(W,ve)=>{if(window.confirm("      "))try{await on(Fe(pe,"career_requests",W)),await Se("  /",t.name,`   ${ve}`),A()}catch{alert(" ")}},z=async(W,ve,Q)=>{try{await Hpe(W,ve),await Se("  ",t.name,`    ${Q}  ${ve}`),A()}catch{alert("  ")}},me=async W=>{try{return await lo(W)}catch(ve){return alert("  : "+ve.message),null}},ie=async W=>{W.preventDefault(),f(!0);try{if(e==="LOAN"){if(h>=10&&!j){alert("      (10 )."),f(!1);return}let ve;if(U.length>0){const V=await me(U[0]);V&&(ve=V)}const Q={userId:t.id,userName:t.name,type:"LOAN",...M,...ve&&{nominationLetterUrl:ve},status:j?void 0:"PENDING_DEPT"};if(j){const V={...Q};delete V.status,ve||delete V.nominationLetterUrl,await Ut(Fe(pe,"career_requests",j),V),await Se("  ",t.name,`    ${M.country}`)}else await s1(Q),await Se(" ",t.name,`    ${M.country}`)}else if(e==="SECONDMENT"){const ve={userId:t.id,userName:t.name,type:"SECONDMENT",...T,status:j?void 0:"PENDING_DEPT"};if(j){const Q={...ve};delete Q.status,await Ut(Fe(pe,"career_requests",j),Q),await Se("  ",t.name,`    ${T.targetInstitution}`)}else await s1(ve),await Se(" ",t.name,`   ${T.targetInstitution}`)}else if(e==="TRANSFER"){const ve={userId:t.id,userName:t.name,type:"TRANSFER",...L,status:j?void 0:"PENDING_DEPT"};if(j){const Q={...ve};delete Q.status,await Ut(Fe(pe,"career_requests",j),Q),await Se("  ",t.name,`    ${L.targetUniversity}`)}else await s1(ve),await Se(" ",t.name,`   ${L.targetUniversity}`)}_(!1),alert(j?"   ":"    "),A()}catch(ve){console.error(ve),alert("   ")}finally{f(!1)}},G=({status:W})=>{const Q={PENDING_DEPT:{label:" ",color:"bg-yellow-100 text-yellow-800"},PENDING_COLLEGE:{label:" ",color:"bg-orange-100 text-orange-800"},PENDING_UNIV:{label:" ",color:"bg-blue-100 text-blue-800"},APPROVED:{label:" ",color:"bg-green-100 text-green-800"},REJECTED:{label:"",color:"bg-red-100 text-red-800"}}[W]||{label:W,color:"bg-gray-100"};return l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Q.color}`,children:Q.label})},re=({status:W})=>{const ve=["PENDING_DEPT","PENDING_COLLEGE","PENDING_UNIV","APPROVED"],Q=ve.indexOf(W),V=W==="REJECTED";return l.jsx("div",{className:"flex items-center gap-1 mt-2 text-[10px]",children:ve.map((Y,H)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border 
                            ${H<=Q?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-300"}
                            ${V&&H===Q+1?"bg-red-500 border-red-500":""}
                        `,children:H+1}),H<ve.length-1&&l.jsx("div",{className:`w-4 h-0.5 ${H<Q?"bg-green-600":"bg-gray-200"}`})]},Y))})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[l.jsx(e_,{className:"w-8 h-8 text-blue-600"}),"  "]}),l.jsxs("div",{className:"flex gap-2",children:[g&&l.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>N("MY_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="MY_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""}),l.jsx("button",{onClick:()=>N("ALL_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${x==="ALL_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""})]}),(!g||x==="MY_REQUESTS")&&l.jsxs("button",{onClick:()=>O(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold",children:[l.jsx($t,{className:"w-4 h-4"}),"  "]})]})]}),!g&&l.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${h>=10?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Hi,{className:`w-6 h-6 ${h>=10?"text-red-600":"text-blue-600"}`}),l.jsxs("div",{children:[l.jsx("h4",{className:`font-bold ${h>=10?"text-red-800":"text-blue-800"}`,children:"  "}),l.jsx("p",{className:"text-xs text-gray-600",children:"      10    ."})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("span",{className:`text-2xl font-bold ${h>=10?"text-red-600":"text-blue-600"}`,children:h}),l.jsx("span",{className:"text-gray-500 text-xs",children:" / 10 "})]})]}),l.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[l.jsxs("button",{onClick:()=>n("LOAN"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="LOAN"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[l.jsx(c4,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>n("SECONDMENT"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="SECONDMENT"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[l.jsx(Ds,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>n("TRANSFER"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="TRANSFER"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[l.jsx(Bz,{className:"w-4 h-4"})," "]})]}),l.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:s?l.jsx("div",{className:"text-center py-10",children:l.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):l.jsx("div",{children:r.filter(W=>W.type===e).length===0?l.jsxs("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed rounded-xl",children:[l.jsx(Ds,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),l.jsx("p",{children:"      "})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{className:"bg-gray-50 text-gray-600",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:" "}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:" / "}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3",children:""})]})}),l.jsx("tbody",{className:"divide-y",children:r.filter(W=>W.type===e).map(W=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"p-3 font-bold text-gray-800",children:W.userName}),l.jsx("td",{className:"p-3 text-xs",children:W.type==="LOAN"?W.loanType==="EXTERNAL"?"":"":W.type==="SECONDMENT"?W.secondmentType:W.transferType}),l.jsx("td",{className:"p-3 text-gray-600",children:W.type==="LOAN"?W.institution:W.type==="SECONDMENT"?W.targetInstitution:W.targetUniversity}),l.jsx("td",{className:"p-3 font-mono text-xs",children:W.type!=="TRANSFER"?l.jsxs(l.Fragment,{children:[W.startDate," ",l.jsx("br",{}),l.jsx("span",{className:"text-gray-400",children:""})," ",W.endDate]}):"-"}),l.jsx("td",{className:"p-3",children:l.jsx(G,{status:W.status})}),l.jsx("td",{className:"p-3",children:l.jsx(re,{status:W.status})}),l.jsxs("td",{className:"p-3 flex items-center gap-2",children:[g&&x==="ALL_REQUESTS"&&l.jsxs("select",{className:"text-xs border rounded p-1",value:W.status,onChange:ve=>z(W.id,ve.target.value,W.type),children:[l.jsx("option",{value:"PENDING_DEPT",children:" "}),l.jsx("option",{value:"PENDING_COLLEGE",children:" "}),l.jsx("option",{value:"PENDING_UNIV",children:" "}),l.jsx("option",{value:"APPROVED",children:""}),l.jsx("option",{value:"REJECTED",children:""})]}),(g||W.userId===t.id)&&W.status.startsWith("PENDING")&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>O(W),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>B(W.id,W.type),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:l.jsx(ut,{className:"w-4 h-4"})})]})]})]},W.id))})]})})})}),E&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[l.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?" ":`  ${e==="LOAN"?"":e==="SECONDMENT"?"":""} `}),l.jsx("button",{onClick:()=>_(!1),children:l.jsx(Et,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),l.jsxs("div",{className:"p-6",children:[e==="LOAN"&&l.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded",value:M.loanType,onChange:W=>k({...M,loanType:W.target.value}),children:[l.jsx("option",{value:"EXTERNAL",children:" "}),l.jsx("option",{value:"INTERNAL",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded",value:M.requestType,onChange:W=>k({...M,requestType:W.target.value}),children:[l.jsx("option",{value:"NEW",children:" "}),l.jsx("option",{value:"RENEWAL",children:" "})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:M.country,onChange:W=>k({...M,country:W.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:M.institution,onChange:W=>k({...M,institution:W.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:M.college,onChange:W=>k({...M,college:W.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:M.startDate,onChange:W=>k({...M,startDate:W.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:M.endDate,onChange:W=>k({...M,endDate:W.target.value})})]}),l.jsxs("div",{className:"col-span-2 border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[l.jsx("input",{type:"file",className:"hidden",id:"loan-file",onChange:W=>$(Array.from(W.target.files||[]))}),l.jsxs("label",{htmlFor:"loan-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[l.jsx(Ir,{className:"w-8 h-8 text-blue-500"}),l.jsx("span",{className:"text-sm font-bold text-gray-600",children:M.requestType==="NEW"?"  ":"   "}),U.length>0&&l.jsx("span",{className:"text-xs text-green-600",children:U[0].name})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),l.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="SECONDMENT"&&l.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded",value:T.secondmentType,onChange:W=>R({...T,secondmentType:W.target.value}),children:[l.jsx("option",{value:"FULL_TIME",children:"  ( )"}),l.jsx("option",{value:"PART_TIME",children:"  ( )"}),l.jsx("option",{value:"OFF_HOURS",children:"  "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:T.targetInstitution,onChange:W=>R({...T,targetInstitution:W.target.value})})]}),T.secondmentType==="PART_TIME"&&l.jsxs("div",{className:"col-span-2 bg-blue-50 p-3 rounded border border-blue-100",children:[l.jsx("label",{className:"block text-sm font-bold mb-2 text-blue-800",children:"  "}),l.jsx("div",{className:"flex gap-4 flex-wrap",children:["","","","","",""].map(W=>{var ve;return l.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-2 py-1 rounded border",children:[l.jsx("input",{type:"checkbox",checked:(ve=T.secondmentDays)==null?void 0:ve.includes(W),onChange:Q=>{const V=T.secondmentDays||[];R({...T,secondmentDays:Q.target.checked?[...V,W]:V.filter(Y=>Y!==W)})}})," ",W]},W)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.startDate,onChange:W=>R({...T,startDate:W.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.endDate,onChange:W=>R({...T,endDate:W.target.value})})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),l.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="TRANSFER"&&l.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[l.jsxs("div",{className:"bg-red-50 p-4 rounded text-red-700 text-sm border border-red-200 flex items-center gap-2 mb-4",children:[l.jsx(Hr,{className:"w-5 h-5 shrink-0"}),l.jsx("span",{children:":            ."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetUniversity,onChange:W=>D({...L,targetUniversity:W.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetCollege,onChange:W=>D({...L,targetCollege:W.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),l.jsxs("select",{className:"w-full border p-2 rounded",value:L.transferType,onChange:W=>D({...L,transferType:W.target.value}),children:[l.jsx("option",{value:"VACANT_DEGREE",children:"    "}),l.jsx("option",{value:"WITH_DEGREE",children:"   ( )"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600",children:""}),l.jsxs("button",{disabled:d,type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 flex items-center gap-2",children:[d&&l.jsx(Ze,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})]})})]})},bge=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState([]),[s,c]=w.useState({totalItems:0,theses:0,papers:0,books:0}),[d,f]=w.useState(!0),[h,p]=w.useState(""),[g,x]=w.useState("ALL"),[N,E]=w.useState(!1),[_,j]=w.useState(null),[C,M]=w.useState("JOURNAL_PAPER"),k={titleAr:"",titleEn:"",abstract:"",authorNames:"",journalName:"",conferenceName:"",doi:"",publicationYear:new Date().getFullYear().toString(),supervisors:"",shelfLocation:""},[T,R]=w.useState(k),[L,D]=w.useState(null),[U,$]=w.useState(null),[A,O]=w.useState(!1),[B,z]=w.useState(null),[me,ie]=w.useState("RESEARCH"),[G,re]=w.useState(""),[W,ve]=w.useState([]),Q=t.role===_e.ADMIN||t.role===_e.STAFF||t.role===_e.DATA_ENTRY;w.useEffect(()=>{V()},[]);const V=async()=>{f(!0);try{const[ee,he]=await Promise.all([Kpe(),Jpe()]);if(a(ee),c(he),t.role===_e.STAFF||t.role===_e.ADMIN){const at=await Xpe(t.id);ve(at)}}catch(ee){console.error("Error fetching repository data:",ee)}f(!1)},Y=ee=>{let he="";ee.type.includes("PAPER")?he=`${ee.authorNames||""} (${ee.publicationYear}). "${ee.titleAr}". ${ee.journalName||ee.conferenceName||""}, ${ee.volume||""}(${ee.issue||""}), ${ee.pages||""}. ${ee.doi?`DOI: ${ee.doi}`:""}`:ee.type.includes("THESIS")?he=`${ee.authorNames||""} (${ee.publicationYear}). ${ee.titleAr}. [${ee.type==="THESIS_MASTER"?"Master Thesis":"PhD Thesis"}]. Al-Azhar University.`:he=`${ee.authorNames||ee.publisher||""} (${ee.publicationYear}). ${ee.titleAr}. ${ee.publisher||""}.`,navigator.clipboard.writeText(he),alert("   ")},H=async ee=>{try{return await lo(ee)}catch(he){return alert("  : "+he.message),null}},J=ee=>{E(!0),j(ee.id),M(ee.type),R({titleAr:ee.titleAr||"",titleEn:ee.titleEn||"",abstract:ee.abstract||"",authorNames:ee.authorNames||"",journalName:ee.journalName||"",conferenceName:ee.conferenceName||"",doi:ee.doi||"",publicationYear:ee.publicationYear||"",supervisors:ee.supervisors||"",shelfLocation:ee.shelfLocation||""}),n("ADD")},fe=async(ee,he)=>{if(window.confirm("        "))try{await on(Fe(pe,"repository_items",ee)),await Se("  ",t.name,`  : ${he}`),V()}catch{alert(" ")}},Ee=async ee=>{ee.preventDefault(),O(!0);try{let he,at;L&&(he=await H(L)),U&&(at=await H(U));const Ke={...T,type:C,...he&&{fileUrl:he},...at&&{privateFileUrl:at},addedBy:t.id,authorIds:N?void 0:[t.id],publicationYear:T.publicationYear||new Date().getFullYear().toString()};N&&_?(await Ut(Fe(pe,"repository_items",_),Ke),await Se("  ",t.name,`  ${C}: ${T.titleAr}`),alert("  ")):(await Ype(Ke),await Se(" ",t.name,`  ${C}: ${T.titleAr}`),alert("  ")),E(!1),j(null),R(k),D(null),$(null),n("BROWSE"),V()}catch(he){console.error(he),alert("   ")}finally{O(!1)}},Te=async()=>{if(B)try{await Wpe({itemId:B.id,itemTitle:B.titleAr,itemAuthorId:B.addedBy,requesterName:t.name,requesterEmail:"user@example.com",reason:me,message:G}),await Se("  ",t.name,`   : ${B.titleAr}`),alert("   "),z(null)}catch{alert("  ")}},qe=async(ee,he,at)=>{await Qpe(ee,at),await Se("   ",t.name,` ${at==="APPROVED"?" ":""}   : ${he}`),alert(` ${at==="APPROVED"?"  ":" "}`),V()},ce=()=>{n("ADD"),R(k),j(null),E(!1)},ze=ee=>{const he=ee.type.includes("PAPER"),at=ee.type.includes("THESIS"),Ke=ee.addedBy===t.id||t.role===_e.ADMIN;return l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow flex flex-col gap-3 animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${he?"bg-blue-100 text-blue-700":at?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:he?ee.type==="JOURNAL_PAPER"?" ":"":at?ee.type==="THESIS_MASTER"?"":"":""}),l.jsx("span",{className:"text-gray-500 text-xs",children:ee.publicationYear})]}),l.jsxs("div",{className:"flex gap-2",children:[ee.doi&&l.jsx("a",{href:ee.doi,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",title:"DOI",children:l.jsx(yg,{className:"w-4 h-4"})}),Ke&&l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>J(ee),className:"text-blue-400 hover:text-blue-600 p-1",title:"",children:l.jsx(Un,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>fe(ee.id,ee.titleAr),className:"text-red-400 hover:text-red-600 p-1",title:"",children:l.jsx(ut,{className:"w-4 h-4"})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-snug mb-1",children:ee.titleAr}),ee.titleEn&&l.jsx("h4",{className:"text-sm text-gray-500 font-medium ltr text-right",dir:"ltr",children:ee.titleEn})]}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[he&&l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",ee.authorNames]}),he&&l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",ee.journalName||ee.conferenceName,", ",ee.volume,"(",ee.issue,")"]}),at&&l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",ee.authorNames]}),at&&l.jsxs("p",{children:[l.jsx("strong",{children:":"})," ",ee.supervisors]})]}),ee.abstract&&l.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 bg-gray-50 p-2 rounded",children:ee.abstract}),l.jsxs("div",{className:"mt-auto pt-4 border-t flex items-center justify-between gap-2",children:[l.jsx("div",{className:"flex gap-2",children:ee.fileUrl?l.jsxs("a",{href:ee.fileUrl,target:"_blank",rel:"noreferrer",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700",children:[l.jsx(gg,{className:"w-4 h-4"}),"  PDF"]}):l.jsxs("button",{onClick:()=>z(ee),className:"bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-amber-100",children:[l.jsx(ob,{className:"w-4 h-4"}),"   "]})}),l.jsx("button",{onClick:()=>Y(ee),className:"text-gray-400 hover:text-gray-600",title:" ",children:l.jsx(h9,{className:"w-5 h-5"})})]})]},ee.id)};return l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-screen",children:[l.jsxs("aside",{className:"w-full lg:w-64 shrink-0 space-y-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(d4,{className:"w-5 h-5 text-green-600"})," "]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:" "}),l.jsx("span",{className:"font-bold",children:s.totalItems})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:" "}),l.jsx("span",{className:"font-bold text-purple-600",children:s.theses})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:" "}),l.jsx("span",{className:"font-bold text-blue-600",children:s.papers})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:" "}),l.jsx("span",{className:"font-bold text-amber-600",children:s.books})]})]})]}),W.length>0&&l.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 animate-pulse",children:[l.jsxs("h4",{className:"font-bold text-amber-800 text-sm mb-2 flex items-center gap-2",children:[l.jsx(JN,{className:"w-4 h-4"}),"   (",W.length,")"]}),l.jsx("div",{className:"space-y-2",children:W.map(ee=>l.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[l.jsx("p",{className:"font-bold mb-1",children:ee.requesterName}),l.jsxs("p",{className:"text-gray-500 mb-2 truncate",children:[": ",ee.itemTitle]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>qe(ee.id,ee.itemTitle,"APPROVED"),className:"flex-1 bg-green-600 text-white py-1 rounded",children:""}),l.jsx("button",{onClick:()=>qe(ee.id,ee.itemTitle,"REJECTED"),className:"flex-1 bg-gray-200 text-gray-700 py-1 rounded",children:""})]})]},ee.id))})]})]}),l.jsxs("main",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),Q&&l.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[l.jsx("button",{onClick:()=>{n("BROWSE"),E(!1)},className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="BROWSE"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "}),l.jsx("button",{onClick:ce,className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="ADD"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "})]})]}),e==="BROWSE"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(ec,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:h,onChange:ee=>p(ee.target.value)})]}),l.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50 min-w-[150px]",value:g,onChange:ee=>x(ee.target.value),children:[l.jsx("option",{value:"ALL",children:" "}),l.jsx("option",{value:"PAPER",children:" "}),l.jsx("option",{value:"THESIS",children:" "}),l.jsx("option",{value:"BOOK",children:""})]})]}),d?l.jsx("div",{className:"text-center py-12",children:l.jsx(Ze,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(ee=>g==="ALL"||ee.type.includes(g)).filter(ee=>{var he;return ee.titleAr.includes(h)||ee.titleEn&&ee.titleEn.toLowerCase().includes(h.toLowerCase())||((he=ee.authorNames)==null?void 0:he.includes(h))}).map(ze),r.length===0&&l.jsx("p",{className:"text-center text-gray-400 col-span-2 py-12",children:"  "})]})]}),e==="ADD"&&l.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[l.jsx("h3",{className:"font-bold text-lg text-gray-800",children:N?" ":"   "}),N&&l.jsx("button",{onClick:()=>{E(!1),n("BROWSE")},className:"text-sm text-gray-500 hover:text-red-500",children:""})]}),l.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:[l.jsx("button",{onClick:()=>M("JOURNAL_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="JOURNAL_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),l.jsx("button",{onClick:()=>M("CONF_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="CONF_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),l.jsx("button",{onClick:()=>M("THESIS_MASTER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C.includes("THESIS")?"bg-purple-50 border-purple-500 text-purple-700":"hover:bg-gray-50"}`,children:" "}),l.jsx("button",{onClick:()=>M("BOOK"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${C==="BOOK"?"bg-amber-50 border-amber-500 text-amber-700":"hover:bg-gray-50"}`,children:""})]}),l.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" () *"}),l.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:T.titleAr||"",onChange:ee=>R({...T,titleAr:ee.target.value})})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg text-left",dir:"ltr",value:T.titleEn||"",onChange:ee=>R({...T,titleEn:ee.target.value})})]}),C.includes("PAPER")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Authors)"}),l.jsx("input",{type:"text",placeholder:"Ahmed M., Sara H., ...",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:ee=>R({...T,authorNames:ee.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:C==="JOURNAL_PAPER"?" ":" "}),C==="JOURNAL_PAPER"?l.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.journalName||"",onChange:ee=>R({...T,journalName:ee.target.value})}):l.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.conferenceName||"",onChange:ee=>R({...T,conferenceName:ee.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" DOI"}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.doi||"",onChange:ee=>R({...T,doi:ee.target.value})})]})]}),C.includes("THESIS")&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:ee=>R({...T,authorNames:ee.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.supervisors||"",onChange:ee=>R({...T,supervisors:ee.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),l.jsx("input",{type:"number",className:"w-full border p-2 rounded-lg",value:T.publicationYear||"",onChange:ee=>R({...T,publicationYear:ee.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),l.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded-lg",value:T.shelfLocation||"",onChange:ee=>R({...T,shelfLocation:ee.target.value})})]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Abstract)"}),l.jsx("textarea",{rows:4,className:"w-full border p-2 rounded-lg",value:T.abstract||"",onChange:ee=>R({...T,abstract:ee.target.value})})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 col-span-2",children:[l.jsx("h4",{className:"font-bold text-sm mb-2",children:""}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"   (Public PDF)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ir,{className:"w-4 h-4 text-gray-400"}),l.jsx("input",{type:"file",className:"text-sm",onChange:ee=>D(ee.target.files?ee.target.files[0]:null)})]}),l.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"   (:  )"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ( )"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ob,{className:"w-4 h-4 text-amber-400"}),l.jsx("input",{type:"file",className:"text-sm",onChange:ee=>$(ee.target.files?ee.target.files[0]:null)})]}),l.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"      "})]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[l.jsx("button",{type:"button",onClick:()=>n("BROWSE"),className:"px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:""}),l.jsxs("button",{type:"submit",disabled:A,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[A?l.jsx(Ze,{className:"w-4 h-4 animate-spin"}):l.jsx(wn,{className:"w-4 h-4"})," ",N?" ":" "]})]})]})]})]}),B&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95",children:[l.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[l.jsx(ob,{className:"w-5 h-5 text-amber-600"}),"   "]}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"    .      ."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),l.jsxs("select",{className:"w-full border p-2 rounded",value:me,onChange:ee=>ie(ee.target.value),children:[l.jsx("option",{value:"RESEARCH",children:" "}),l.jsx("option",{value:"CITATION",children:"   "}),l.jsx("option",{value:"OTHER",children:" "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),l.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,value:G,onChange:ee=>re(ee.target.value),placeholder:" ..."})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx("button",{onClick:()=>z(null),className:"px-4 py-2 text-gray-500",children:""}),l.jsx("button",{onClick:Te,className:"bg-amber-600 text-white px-4 py-2 rounded font-bold hover:bg-amber-700",children:" "})]})]})]})})]})},wge=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(""),[a,s]=w.useState(""),[c,d]=w.useState(!1),[f,h]=w.useState("");w.useEffect(()=>{(async()=>{try{await ege()}catch(x){console.error("Failed to seed initial data:",x)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),h("");try{const x=await Nme(n,a);x?e(x):h("      ")}catch(x){console.error(x),h("     (  )")}finally{d(!1)}};return t?l.jsx(wz,{children:l.jsx(EB,{user:t,onLogout:()=>{e(null),r(""),s("")},children:l.jsxs(J7,{children:[l.jsx(en,{path:"/",element:t.role===_e.STUDENT_UG||t.role===_e.STUDENT_PG?l.jsx(LP,{user:t}):t.role===_e.ALUMNI?l.jsx(UP,{user:t}):l.jsx(tge,{})}),l.jsx(en,{path:"/staff",element:l.jsx(lge,{user:t})}),l.jsx(en,{path:"/outgoing",element:l.jsx(nge,{user:t})}),l.jsx(en,{path:"/incoming",element:l.jsx(rge,{user:t})}),l.jsx(en,{path:"/councils",element:l.jsx(age,{user:t})}),l.jsx(en,{path:"/committees",element:l.jsx(ige,{user:t})}),l.jsx(en,{path:"/search",element:l.jsx(sge,{user:t})}),l.jsx(en,{path:"/students",element:l.jsx(LP,{user:t})}),l.jsx(en,{path:"/alumni",element:l.jsx(UP,{user:t})}),l.jsx(en,{path:"/users",element:l.jsx(oge,{user:t})}),l.jsx(en,{path:"/pg-manager",element:l.jsx(cge,{})}),l.jsx(en,{path:"/inventory",element:l.jsx(uge,{user:t})}),l.jsx(en,{path:"/labs",element:l.jsx(dge,{user:t})}),l.jsx(en,{path:"/greenhouse",element:l.jsx(fge,{user:t})}),l.jsx(en,{path:"/events",element:l.jsx(hge,{user:t})}),l.jsx(en,{path:"/formation",element:l.jsx(pge,{user:t})}),l.jsx(en,{path:"/annual-report",element:l.jsx(gge,{user:t})}),l.jsx(en,{path:"/research-plan",element:l.jsx(yge,{user:t})}),l.jsx(en,{path:"/leaves",element:l.jsx(vge,{user:t})}),l.jsx(en,{path:"/career-movements",element:l.jsx(xge,{user:t})}),l.jsx(en,{path:"/repository",element:l.jsx(bge,{user:t})}),l.jsx(en,{path:"/activity-log",element:l.jsx(mge,{})}),l.jsx(en,{path:"*",element:l.jsx(X7,{to:"/"})})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:l.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[l.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[l.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:l.jsx(bu,{className:"w-16 h-16 text-green-700"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),l.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),l.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),l.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(ai,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(u1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),l.jsx("input",{type:"password",required:!0,value:a,onChange:g=>s(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),f&&l.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:f}),l.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?l.jsx(Ze,{className:"w-5 h-5 animate-spin"}):l.jsx(Vz,{className:"w-5 h-5"}),l.jsx("span",{children:""})]})]}),l.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},gV=document.getElementById("root");if(!gV)throw new Error("Could not find root element to mount to");const Nge=s7.createRoot(gV);Nge.render(l.jsx(VP.StrictMode,{children:l.jsx(wge,{})}));
