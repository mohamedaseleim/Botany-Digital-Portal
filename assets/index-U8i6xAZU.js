var XV=Object.defineProperty;var QV=(t,e,n)=>e in t?XV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var eb=(t,e,n)=>QV(t,typeof e!="symbol"?e+"":e,n);function JV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tb={exports:{}},gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function ZV(){if(gT)return gh;gT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return gh.Fragment=e,gh.jsx=n,gh.jsxs=n,gh}var yT;function e7(){return yT||(yT=1,tb.exports=ZV()),tb.exports}var s=e7(),nb={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function t7(){if(xT)return nt;xT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function N(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function I(B,J,xe){this.props=B,this.context=J,this.refs=E,this.updater=xe||_}I.prototype.isReactComponent={},I.prototype.setState=function(B,J){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,J,"setState")},I.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function R(){}R.prototype=I.prototype;function M(B,J,xe){this.props=B,this.context=J,this.refs=E,this.updater=xe||_}var T=M.prototype=new R;T.constructor=M,j(T,I.prototype),T.isPureReactComponent=!0;var C=Array.isArray;function L(){}var P={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function F(B,J,xe){var te=xe.ref;return{$$typeof:t,type:B,key:J,ref:te!==void 0?te:null,props:xe}}function A(B,J){return F(B.type,J,B.props)}function D(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function z(B){var J={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(xe){return J[xe]})}var U=/\/+/g;function de(B,J){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):J.toString(36)}function ae(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(L,L):(B.status="pending",B.then(function(J){B.status==="pending"&&(B.status="fulfilled",B.value=J)},function(J){B.status==="pending"&&(B.status="rejected",B.reason=J)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function G(B,J,xe,te,X){var Ee=typeof B;(Ee==="undefined"||Ee==="boolean")&&(B=null);var Te=!1;if(B===null)Te=!0;else switch(Ee){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(B.$$typeof){case t:case e:Te=!0;break;case p:return Te=B._init,G(Te(B._payload),J,xe,te,X)}}if(Te)return X=X(B),Te=te===""?"."+de(B,0):te,C(X)?(xe="",Te!=null&&(xe=Te.replace(U,"$&/")+"/"),G(X,J,xe,"",function(ke){return ke})):X!=null&&(D(X)&&(X=A(X,xe+(X.key==null||B&&B.key===X.key?"":(""+X.key).replace(U,"$&/")+"/")+Te)),J.push(X)),1;Te=0;var re=te===""?".":te+":";if(C(B))for(var ie=0;ie<B.length;ie++)te=B[ie],Ee=re+de(te,ie),Te+=G(te,J,xe,Ee,X);else if(ie=N(B),typeof ie=="function")for(B=ie.call(B),ie=0;!(te=B.next()).done;)te=te.value,Ee=re+de(te,ie++),Te+=G(te,J,xe,Ee,X);else if(Ee==="object"){if(typeof B.then=="function")return G(ae(B),J,xe,te,X);throw J=String(B),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Y(B,J,xe){if(B==null)return B;var te=[],X=0;return G(B,te,"","",function(Ee){return J.call(xe,Ee,X++)}),te}function H(B){if(B._status===-1){var J=B._result;J=J(),J.then(function(xe){(B._status===0||B._status===-1)&&(B._status=1,B._result=xe)},function(xe){(B._status===0||B._status===-1)&&(B._status=2,B._result=xe)}),B._status===-1&&(B._status=0,B._result=J)}if(B._status===1)return B._result.default;throw B._result}var ge=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},W={map:Y,forEach:function(B,J,xe){Y(B,function(){J.apply(this,arguments)},xe)},count:function(B){var J=0;return Y(B,function(){J++}),J},toArray:function(B){return Y(B,function(J){return J})||[]},only:function(B){if(!D(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return nt.Activity=g,nt.Children=W,nt.Component=I,nt.Fragment=n,nt.Profiler=a,nt.PureComponent=M,nt.StrictMode=r,nt.Suspense=h,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return P.H.useMemoCache(B)}},nt.cache=function(B){return function(){return B.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(B,J,xe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var te=j({},B.props),X=B.key;if(J!=null)for(Ee in J.key!==void 0&&(X=""+J.key),J)!V.call(J,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&J.ref===void 0||(te[Ee]=J[Ee]);var Ee=arguments.length-2;if(Ee===1)te.children=xe;else if(1<Ee){for(var Te=Array(Ee),re=0;re<Ee;re++)Te[re]=arguments[re+2];te.children=Te}return F(B.type,X,te)},nt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},nt.createElement=function(B,J,xe){var te,X={},Ee=null;if(J!=null)for(te in J.key!==void 0&&(Ee=""+J.key),J)V.call(J,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(X[te]=J[te]);var Te=arguments.length-2;if(Te===1)X.children=xe;else if(1<Te){for(var re=Array(Te),ie=0;ie<Te;ie++)re[ie]=arguments[ie+2];X.children=re}if(B&&B.defaultProps)for(te in Te=B.defaultProps,Te)X[te]===void 0&&(X[te]=Te[te]);return F(B,Ee,X)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(B){return{$$typeof:d,render:B}},nt.isValidElement=D,nt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:H}},nt.memo=function(B,J){return{$$typeof:f,type:B,compare:J===void 0?null:J}},nt.startTransition=function(B){var J=P.T,xe={};P.T=xe;try{var te=B(),X=P.S;X!==null&&X(xe,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(L,ge)}catch(Ee){ge(Ee)}finally{J!==null&&xe.types!==null&&(J.types=xe.types),P.T=J}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(B){return P.H.use(B)},nt.useActionState=function(B,J,xe){return P.H.useActionState(B,J,xe)},nt.useCallback=function(B,J){return P.H.useCallback(B,J)},nt.useContext=function(B){return P.H.useContext(B)},nt.useDebugValue=function(){},nt.useDeferredValue=function(B,J){return P.H.useDeferredValue(B,J)},nt.useEffect=function(B,J){return P.H.useEffect(B,J)},nt.useEffectEvent=function(B){return P.H.useEffectEvent(B)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(B,J,xe){return P.H.useImperativeHandle(B,J,xe)},nt.useInsertionEffect=function(B,J){return P.H.useInsertionEffect(B,J)},nt.useLayoutEffect=function(B,J){return P.H.useLayoutEffect(B,J)},nt.useMemo=function(B,J){return P.H.useMemo(B,J)},nt.useOptimistic=function(B,J){return P.H.useOptimistic(B,J)},nt.useReducer=function(B,J,xe){return P.H.useReducer(B,J,xe)},nt.useRef=function(B){return P.H.useRef(B)},nt.useState=function(B){return P.H.useState(B)},nt.useSyncExternalStore=function(B,J,xe){return P.H.useSyncExternalStore(B,J,xe)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.0",nt}var vT;function Ju(){return vT||(vT=1,nb.exports=t7()),nb.exports}var w=Ju();const $R=ts(w),n7=JV({__proto__:null,default:$R},[w]);var rb={exports:{}},yh={},ab={exports:{}},ib={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function r7(){return bT||(bT=1,(function(t){function e(G,Y){var H=G.length;G.push(Y);e:for(;0<H;){var ge=H-1>>>1,W=G[ge];if(0<a(W,Y))G[ge]=Y,G[H]=W,H=ge;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],H=G.pop();if(H!==Y){G[0]=H;e:for(var ge=0,W=G.length,B=W>>>1;ge<B;){var J=2*(ge+1)-1,xe=G[J],te=J+1,X=G[te];if(0>a(xe,H))te<W&&0>a(X,xe)?(G[ge]=X,G[te]=H,ge=te):(G[ge]=xe,G[J]=H,ge=J);else if(te<W&&0>a(X,H))G[ge]=X,G[te]=H,ge=te;else break e}}return Y}function a(G,Y){var H=G.sortIndex-Y.sortIndex;return H!==0?H:G.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,g=null,v=3,N=!1,_=!1,j=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function T(G){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=G)r(f),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(f)}}function C(G){if(j=!1,T(G),!_)if(n(h)!==null)_=!0,L||(L=!0,z());else{var Y=n(f);Y!==null&&ae(C,Y.startTime-G)}}var L=!1,P=-1,V=5,F=-1;function A(){return E?!0:!(t.unstable_now()-F<V)}function D(){if(E=!1,L){var G=t.unstable_now();F=G;var Y=!0;try{e:{_=!1,j&&(j=!1,R(P),P=-1),N=!0;var H=v;try{t:{for(T(G),g=n(h);g!==null&&!(g.expirationTime>G&&A());){var ge=g.callback;if(typeof ge=="function"){g.callback=null,v=g.priorityLevel;var W=ge(g.expirationTime<=G);if(G=t.unstable_now(),typeof W=="function"){g.callback=W,T(G),Y=!0;break t}g===n(h)&&r(h),T(G)}else r(h);g=n(h)}if(g!==null)Y=!0;else{var B=n(f);B!==null&&ae(C,B.startTime-G),Y=!1}}break e}finally{g=null,v=H,N=!1}Y=void 0}}finally{Y?z():L=!1}}}var z;if(typeof M=="function")z=function(){M(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,de=U.port2;U.port1.onmessage=D,z=function(){de.postMessage(null)}}else z=function(){I(D,0)};function ae(G,Y){P=I(function(){G(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var H=v;v=Y;try{return G()}finally{v=H}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var H=v;v=G;try{return Y()}finally{v=H}},t.unstable_scheduleCallback=function(G,Y,H){var ge=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ge+H:ge):H=ge,G){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,G={id:p++,callback:Y,priorityLevel:G,startTime:H,expirationTime:W,sortIndex:-1},H>ge?(G.sortIndex=H,e(f,G),n(h)===null&&G===n(f)&&(j?(R(P),P=-1):j=!0,ae(C,H-ge))):(G.sortIndex=W,e(h,G),_||N||(_=!0,L||(L=!0,z()))),G},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(G){var Y=v;return function(){var H=v;v=Y;try{return G.apply(this,arguments)}finally{v=H}}}})(ib)),ib}var wT;function a7(){return wT||(wT=1,ab.exports=r7()),ab.exports}var sb={exports:{}},xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function i7(){if(NT)return xr;NT=1;var t=Ju();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xr.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,p)},xr.flushSync=function(h){var f=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=f,r.p=p,r.d.f()}},xr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},xr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},xr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,N=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:N}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:N,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},xr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=d(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xr.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},xr.requestFormReset=function(h){r.d.r(h)},xr.unstable_batchedUpdates=function(h,f){return h(f)},xr.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},xr.useFormStatus=function(){return c.H.useHostTransitionStatus()},xr.version="19.2.0",xr}var _T;function BR(){if(_T)return sb.exports;_T=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sb.exports=i7(),sb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function s7(){if(jT)return yh;jT=1;var t=a7(),e=Ju(),n=BR();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var x=u.return;if(x===null)break;var b=x.alternate;if(b===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===u)return h(x),i;if(b===m)return h(x),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=x,m=b;else{for(var O=!1,$=x.child;$;){if($===u){O=!0,u=x,m=b;break}if($===m){O=!0,m=x,u=b;break}$=$.sibling}if(!O){for($=b.child;$;){if($===u){O=!0,u=b,m=x;break}if($===m){O=!0,m=b,u=x;break}$=$.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case I:return"Profiler";case E:return"StrictMode";case C:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case M:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:de(i.type)||"Memo";case V:o=i._payload,i=i._init;try{return de(i(o))}catch{}}return null}var ae=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ge=[],W=-1;function B(i){return{current:i}}function J(i){0>W||(i.current=ge[W],ge[W]=null,W--)}function xe(i,o){W++,ge[W]=i.current,i.current=o}var te=B(null),X=B(null),Ee=B(null),Te=B(null);function re(i,o){switch(xe(Ee,o),xe(X,i),xe(te,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?V2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=V2(o),i=z2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(te),xe(te,i)}function ie(){J(te),J(X),J(Ee)}function ke(i){i.memoizedState!==null&&xe(Te,i);var o=te.current,u=z2(o,i.type);o!==u&&(xe(X,i),xe(te,u))}function Z(i){X.current===i&&(J(te),J(X)),Te.current===i&&(J(Te),hh._currentValue=H)}var he,Ue;function qe(i){if(he===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);he=o&&o[1]||"",Ue=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+i+Ue}var vt=!1;function Se(i,o){if(!i||vt)return"";vt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(me){var ue=me}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(me){ue=me}i.call(_e.prototype)}}else{try{throw Error()}catch(me){ue=me}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(me){if(me&&ue&&typeof me.stack=="string")return[me.stack,ue.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),O=b[0],$=b[1];if(O&&$){var K=O.split(`
`),oe=$.split(`
`);for(x=m=0;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;for(;x<oe.length&&!oe[x].includes("DetermineComponentFrameRoot");)x++;if(m===K.length||x===oe.length)for(m=K.length-1,x=oe.length-1;1<=m&&0<=x&&K[m]!==oe[x];)x--;for(;1<=m&&0<=x;m--,x--)if(K[m]!==oe[x]){if(m!==1||x!==1)do if(m--,x--,0>x||K[m]!==oe[x]){var ye=`
`+K[m].replace(" at new "," at ");return i.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",i.displayName)),ye}while(1<=m&&0<=x);break}}}finally{vt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?qe(u):""}function yt(i,o){switch(i.tag){case 26:case 27:case 5:return qe(i.type);case 16:return qe("Lazy");case 13:return i.child!==o&&o!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return Se(i.type,!1);case 11:return Se(i.type.render,!1);case 1:return Se(i.type,!0);case 31:return qe("Activity");default:return""}}function ve(i){try{var o="",u=null;do o+=yt(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var et=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,kt=t.unstable_cancelCallback,pi=t.unstable_shouldYield,ne=t.unstable_requestPaint,Pe=t.unstable_now,Xe=t.unstable_getCurrentPriorityLevel,Fe=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,$t=t.unstable_NormalPriority,gi=t.unstable_LowPriority,Va=t.unstable_IdlePriority,Jf=t.log,Zf=t.unstable_setDisableYieldValue,za=null,lr=null;function ma(i){if(typeof Jf=="function"&&Zf(i),lr&&typeof lr.setStrictMode=="function")try{lr.setStrictMode(za,i)}catch{}}var yn=Math.clz32?Math.clz32:tm,em=Math.log,Sc=Math.LN2;function tm(i){return i>>>=0,i===0?32:31-(em(i)/Sc|0)|0}var yi=256,mo=262144,Sn=4194304;function xi(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vi(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var x=0,b=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var $=m&134217727;return $!==0?(m=$&~b,m!==0?x=xi(m):(O&=$,O!==0?x=xi(O):u||(u=$&~i,u!==0&&(x=xi(u))))):($=m&~b,$!==0?x=xi($):O!==0?x=xi(O):u||(u=m&~i,u!==0&&(x=xi(u)))),x===0?0:o!==0&&o!==x&&(o&b)===0&&(b=x&-x,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:x}function Fa(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ax(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(){var i=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),i}function bi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function po(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ix(i,o,u,m,x,b){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,K=i.expirationTimes,oe=i.hiddenUpdates;for(u=O&~u;0<u;){var ye=31-yn(u),_e=1<<ye;$[ye]=0,K[ye]=-1;var ue=oe[ye];if(ue!==null)for(oe[ye]=null,ye=0;ye<ue.length;ye++){var me=ue[ye];me!==null&&(me.lane&=-536870913)}u&=~_e}m!==0&&go(i,m,0),b!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=b&~(O&~o))}function go(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-yn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function yd(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-yn(u),x=1<<m;x&o|i[m]&o&&(i[m]|=o),u&=~x}}function xd(i,o){var u=o&-o;return u=(u&42)!==0?1:yo(u),(u&(i.suspendedLanes|o))!==0?0:u}function yo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function is(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function rm(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:cT(i.type))}function $a(i,o){var u=Y.p;try{return Y.p=i,o()}finally{Y.p=u}}var Ba=Math.random().toString(36).slice(2),An="__reactFiber$"+Ba,Qn="__reactProps$"+Ba,wi="__reactContainer$"+Ba,Ac="__reactEvents$"+Ba,sx="__reactListeners$"+Ba,am="__reactHandles$"+Ba,im="__reactResources$"+Ba,Ni="__reactMarker$"+Ba;function Tc(i){delete i[An],delete i[Qn],delete i[Ac],delete i[sx],delete i[am]}function _i(i){var o=i[An];if(o)return o;for(var u=i.parentNode;u;){if(o=u[wi]||u[An]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=K2(i);i!==null;){if(u=i[An])return u;i=K2(i)}return o}i=u,u=i.parentNode}return null}function pa(i){if(i=i[An]||i[wi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Qr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ji(i){var o=i[im];return o||(o=i[im]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tn(i){i[Ni]=!0}var vd=new Set,bd={};function Ei(i,o){Si(i,o),Si(i+"Capture",o)}function Si(i,o){for(bd[i]=o,i=0;i<o.length;i++)vd.add(o[i])}var wd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nd={},_d={};function sm(i){return et.call(_d,i)?!0:et.call(Nd,i)?!1:wd.test(i)?_d[i]=!0:(Nd[i]=!0,!1)}function Cc(i,o,u){if(sm(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Jr(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Cn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function Jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function tl(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function jd(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,b=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(O){u=""+O,b.call(this,O)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function It(i){if(!i._valueTracker){var o=tl(i)?"checked":"value";i._valueTracker=jd(i,o,""+i[o])}}function xo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=tl(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Ai(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vo=/[\n"\\]/g;function Pr(i){return i.replace(vo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ic(i,o,u,m,x,b,O,$){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Jn(o)):i.value!==""+Jn(o)&&(i.value=""+Jn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Ed(i,O,Jn(o)):u!=null?Ed(i,O,Jn(u)):m!=null&&i.removeAttribute("value"),x==null&&b!=null&&(i.defaultChecked=!!b),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Jn($):i.removeAttribute("name")}function lm(i,o,u,m,x,b,O,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){It(i);return}u=u!=null?""+Jn(u):"",o=o!=null?""+Jn(o):u,$||o===i.value||(i.value=o),i.defaultValue=o}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=$?i.checked:!!m,i.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),It(i)}function Ed(i,o,u){o==="number"&&Ai(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function nl(i,o,u,m){if(i=i.options,o){o={};for(var x=0;x<u.length;x++)o["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=o.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Jn(u),o=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function om(i,o,u){if(o!=null&&(o=""+Jn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Jn(u):""}function rl(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(ae(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Jn(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),It(i)}function kr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var cm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||cm.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Ad(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var x in o)m=o[x],o.hasOwnProperty(x)&&u[x]!==m&&Sd(i,x,m)}else for(var b in o)o.hasOwnProperty(b)&&Sd(i,b,o[b])}function Oc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var um=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dc(i){return al.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function qa(){}var Td=null;function ga(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var il=null,Ti=null;function bo(i){var o=pa(i);if(o&&(i=o.stateNode)){var u=i[Qn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ic(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Pr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var x=m[Qn]||null;if(!x)throw Error(r(90));Ic(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&xo(m)}break e;case"textarea":om(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&nl(i,!!u.multiple,o,!1)}}}var Rc=!1;function sl(i,o,u){if(Rc)return i(o,u);Rc=!0;try{var m=i(o);return m}finally{if(Rc=!1,(il!==null||Ti!==null)&&(rp(),il&&(o=il,i=Ti,Ti=il=null,bo(o),i)))for(o=0;o<i.length;o++)bo(i[o])}}function Ha(i,o){var u=i.stateNode;if(u===null)return null;var m=u[Qn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wo=!1;if(ya)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{wo=!1}var Ci=null,Cd=null,No=null;function Id(){if(No)return No;var i,o=Cd,u=o.length,m,x="value"in Ci?Ci.value:Ci.textContent,b=x.length;for(i=0;i<u&&o[i]===x[i];i++);var O=u-i;for(m=1;m<=O&&o[u-m]===x[b-m];m++);return No=x.slice(i,1<m?1-m:void 0)}function _o(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ss(){return!0}function Ga(){return!1}function or(i){function o(u,m,x,b,O){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ss:Ga,this.isPropagationStopped=Ga,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),o}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=or(ls),ll=g({},ls,{view:0,detail:0}),Od=or(ll),ol,Pc,Oi,kc=g({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Oi&&(Oi&&i.type==="mousemove"?(ol=i.screenX-Oi.screenX,Pc=i.screenY-Oi.screenY):Pc=ol=0,Oi=i),ol)},movementY:function(i){return"movementY"in i?i.movementY:Pc}}),Dd=or(kc),jo=g({},kc,{dataTransfer:0}),dm=or(jo),hm=g({},ll,{relatedTarget:0}),Eo=or(hm),Rd=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=or(Rd),Mc=g({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),mm=or(Mc),pm=g({},ls,{data:0}),Di=or(pm),gm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=xm[i])?!!o[i]:!1}function cl(){return vm}var Ar=g({},ll,{key:function(i){if(i.key){var o=gm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_o(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ym[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(i){return i.type==="keypress"?_o(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_o(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bm=or(Ar),wm=g({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=or(wm),y=g({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),S=or(y),k=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=or(k),se=g({},kc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=or(se),Ie=g({},ls,{newState:0,oldState:0}),it=or(Ie),xn=[9,13,27,32],Et=ya&&"CompositionEvent"in window,en=null;ya&&"documentMode"in document&&(en=document.documentMode);var xa=ya&&"TextEvent"in window&&!en,Ri=ya&&(!Et||en&&8<en&&11>=en),Ka=" ",Ya=!1;function So(i,o){switch(i){case"keyup":return xn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Uc=!1;function b8(i,o){switch(i){case"compositionend":return Lc(o);case"keypress":return o.which!==32?null:(Ya=!0,Ka);case"textInput":return i=o.data,i===Ka&&Ya?null:i;default:return null}}function w8(i,o){if(Uc)return i==="compositionend"||!Et&&So(i,o)?(i=Id(),No=Cd=Ci=null,Uc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ri&&o.locale!=="ko"?null:o.data;default:return null}}var N8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XE(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!N8[i.type]:o==="textarea"}function QE(i,o,u,m){il?Ti?Ti.push(m):Ti=[m]:il=m,o=up(o,"onChange"),0<o.length&&(u=new Ii("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var Pd=null,kd=null;function _8(i){R2(i,0)}function Nm(i){var o=Qr(i);if(xo(o))return i}function JE(i,o){if(i==="change")return o}var ZE=!1;if(ya){var lx;if(ya){var ox="oninput"in document;if(!ox){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),ox=typeof eS.oninput=="function"}lx=ox}else lx=!1;ZE=lx&&(!document.documentMode||9<document.documentMode)}function tS(){Pd&&(Pd.detachEvent("onpropertychange",nS),kd=Pd=null)}function nS(i){if(i.propertyName==="value"&&Nm(kd)){var o=[];QE(o,kd,i,ga(i)),sl(_8,o)}}function j8(i,o,u){i==="focusin"?(tS(),Pd=o,kd=u,Pd.attachEvent("onpropertychange",nS)):i==="focusout"&&tS()}function E8(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nm(kd)}function S8(i,o){if(i==="click")return Nm(o)}function A8(i,o){if(i==="input"||i==="change")return Nm(o)}function T8(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Zr=typeof Object.is=="function"?Object.is:T8;function Md(i,o){if(Zr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!et.call(o,x)||!Zr(i[x],o[x]))return!1}return!0}function rS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function aS(i,o){var u=rS(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rS(u)}}function iS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?iS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function sS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ai(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ai(i.document)}return o}function cx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var C8=ya&&"documentMode"in document&&11>=document.documentMode,Vc=null,ux=null,Ld=null,dx=!1;function lS(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dx||Vc==null||Vc!==Ai(m)||(m=Vc,"selectionStart"in m&&cx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ld&&Md(Ld,m)||(Ld=m,m=up(ux,"onSelect"),0<m.length&&(o=new Ii("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Vc)))}function Ao(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var zc={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},hx={},oS={};ya&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function To(i){if(hx[i])return hx[i];if(!zc[i])return i;var o=zc[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in oS)return hx[i]=o[u];return i}var cS=To("animationend"),uS=To("animationiteration"),dS=To("animationstart"),I8=To("transitionrun"),O8=To("transitionstart"),D8=To("transitioncancel"),hS=To("transitionend"),fS=new Map,fx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fx.push("scrollEnd");function Wa(i,o){fS.set(i,o),Ei(o,[i])}var _m=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},va=[],Fc=0,mx=0;function jm(){for(var i=Fc,o=mx=Fc=0;o<i;){var u=va[o];va[o++]=null;var m=va[o];va[o++]=null;var x=va[o];va[o++]=null;var b=va[o];if(va[o++]=null,m!==null&&x!==null){var O=m.pending;O===null?x.next=x:(x.next=O.next,O.next=x),m.pending=x}b!==0&&mS(u,x,b)}}function Em(i,o,u,m){va[Fc++]=i,va[Fc++]=o,va[Fc++]=u,va[Fc++]=m,mx|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function px(i,o,u,m){return Em(i,o,u,m),Sm(i)}function Co(i,o){return Em(i,null,null,o),Sm(i)}function mS(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var x=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(x=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,x&&o!==null&&(x=31-yn(u),i=b.hiddenUpdates,m=i[x],m===null?i[x]=[o]:m.push(o),o.lane=u|536870912),b):null}function Sm(i){if(50<ih)throw ih=0,jv=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var $c={};function R8(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(i,o,u,m){return new R8(i,o,u,m)}function gx(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cs(i,o){var u=i.alternate;return u===null?(u=ea(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function pS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Am(i,o,u,m,x,b){var O=0;if(m=i,typeof i=="function")gx(i)&&(O=1);else if(typeof i=="string")O=UV(i,u,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=ea(31,u,o,x),i.elementType=F,i.lanes=b,i;case j:return Io(u.children,x,b,o);case E:O=8,x|=24;break;case I:return i=ea(12,u,o,x|2),i.elementType=I,i.lanes=b,i;case C:return i=ea(13,u,o,x),i.elementType=C,i.lanes=b,i;case L:return i=ea(19,u,o,x),i.elementType=L,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:O=10;break e;case R:O=9;break e;case T:O=11;break e;case P:O=14;break e;case V:O=16,m=null;break e}O=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=ea(O,u,o,x),o.elementType=i,o.type=m,o.lanes=b,o}function Io(i,o,u,m){return i=ea(7,i,m,o),i.lanes=u,i}function yx(i,o,u){return i=ea(6,i,null,o),i.lanes=u,i}function gS(i){var o=ea(18,null,null,0);return o.stateNode=i,o}function xx(i,o,u){return o=ea(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var yS=new WeakMap;function ba(i,o){if(typeof i=="object"&&i!==null){var u=yS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:ve(o)},yS.set(i,o),o)}return{value:i,source:o,stack:ve(o)}}var Bc=[],qc=0,Tm=null,Ud=0,wa=[],Na=0,ul=null,Pi=1,ki="";function us(i,o){Bc[qc++]=Ud,Bc[qc++]=Tm,Tm=i,Ud=o}function xS(i,o,u){wa[Na++]=Pi,wa[Na++]=ki,wa[Na++]=ul,ul=i;var m=Pi;i=ki;var x=32-yn(m)-1;m&=~(1<<x),u+=1;var b=32-yn(o)+x;if(30<b){var O=x-x%5;b=(m&(1<<O)-1).toString(32),m>>=O,x-=O,Pi=1<<32-yn(o)+x|u<<x|m,ki=b+i}else Pi=1<<b|u<<x|m,ki=i}function vx(i){i.return!==null&&(us(i,1),xS(i,1,0))}function bx(i){for(;i===Tm;)Tm=Bc[--qc],Bc[qc]=null,Ud=Bc[--qc],Bc[qc]=null;for(;i===ul;)ul=wa[--Na],wa[Na]=null,ki=wa[--Na],wa[Na]=null,Pi=wa[--Na],wa[Na]=null}function vS(i,o){wa[Na++]=Pi,wa[Na++]=ki,wa[Na++]=ul,Pi=o.id,ki=o.overflow,ul=i}var cr=null,Xt=null,gt=!1,dl=null,_a=!1,wx=Error(r(519));function hl(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vd(ba(o,i)),wx}function bS(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[An]=i,o[Qn]=m,u){case"dialog":ut("cancel",o),ut("close",o);break;case"iframe":case"object":case"embed":ut("load",o);break;case"video":case"audio":for(u=0;u<lh.length;u++)ut(lh[u],o);break;case"source":ut("error",o);break;case"img":case"image":case"link":ut("error",o),ut("load",o);break;case"details":ut("toggle",o);break;case"input":ut("invalid",o),lm(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ut("invalid",o);break;case"textarea":ut("invalid",o),rl(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||L2(o.textContent,u)?(m.popover!=null&&(ut("beforetoggle",o),ut("toggle",o)),m.onScroll!=null&&ut("scroll",o),m.onScrollEnd!=null&&ut("scrollend",o),m.onClick!=null&&(o.onclick=qa),o=!0):o=!1,o||hl(i,!0)}function wS(i){for(cr=i.return;cr;)switch(cr.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:cr=cr.return}}function Hc(i){if(i!==cr)return!1;if(!gt)return wS(i),gt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Vv(i.type,i.memoizedProps)),u=!u),u&&Xt&&hl(i),wS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Xt=G2(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Xt=G2(i)}else o===27?(o=Xt,Sl(i.type)?(i=qv,qv=null,Xt=i):Xt=o):Xt=cr?Ea(i.stateNode.nextSibling):null;return!0}function Oo(){Xt=cr=null,gt=!1}function Nx(){var i=dl;return i!==null&&(Vr===null?Vr=i:Vr.push.apply(Vr,i),dl=null),i}function Vd(i){dl===null?dl=[i]:dl.push(i)}var _x=B(null),Do=null,ds=null;function fl(i,o,u){xe(_x,o._currentValue),o._currentValue=u}function hs(i){i._currentValue=_x.current,J(_x)}function jx(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function Ex(i,o,u,m){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var b=x.dependencies;if(b!==null){var O=x.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=x;for(var K=0;K<o.length;K++)if($.context===o[K]){b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),jx(b.return,u,i),m||(O=null);break e}b=$.next}}else if(x.tag===18){if(O=x.return,O===null)throw Error(r(341));O.lanes|=u,b=O.alternate,b!==null&&(b.lanes|=u),jx(O,u,i),O=null}else O=x.child;if(O!==null)O.return=x;else for(O=x;O!==null;){if(O===i){O=null;break}if(x=O.sibling,x!==null){x.return=O.return,O=x;break}O=O.return}x=O}}function Gc(i,o,u,m){i=null;for(var x=o,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var O=x.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var $=x.type;Zr(x.pendingProps.value,O.value)||(i!==null?i.push($):i=[$])}}else if(x===Te.current){if(O=x.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(hh):i=[hh])}x=x.return}i!==null&&Ex(o,i,u,m),o.flags|=262144}function Cm(i){for(i=i.firstContext;i!==null;){if(!Zr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ro(i){Do=i,ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ur(i){return NS(Do,i)}function Im(i,o){return Do===null&&Ro(i),NS(i,o)}function NS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ds===null){if(i===null)throw Error(r(308));ds=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ds=ds.next=o;return u}var P8=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},k8=t.unstable_scheduleCallback,M8=t.unstable_NormalPriority,In={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sx(){return{controller:new P8,data:new Map,refCount:0}}function zd(i){i.refCount--,i.refCount===0&&k8(M8,function(){i.controller.abort()})}var Fd=null,Ax=0,Kc=0,Yc=null;function L8(i,o){if(Fd===null){var u=Fd=[];Ax=0,Kc=Iv(),Yc={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Ax++,o.then(_S,_S),o}function _S(){if(--Ax===0&&Fd!==null){Yc!==null&&(Yc.status="fulfilled");var i=Fd;Fd=null,Kc=0,Yc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function U8(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(x){u.push(x)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var x=0;x<u.length;x++)(0,u[x])(o)},function(x){for(m.status="rejected",m.reason=x,x=0;x<u.length;x++)(0,u[x])(void 0)}),m}var jS=G.S;G.S=function(i,o){l2=Pe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&L8(i,o),jS!==null&&jS(i,o)};var Po=B(null);function Tx(){var i=Po.current;return i!==null?i:Bt.pooledCache}function Om(i,o){o===null?xe(Po,Po.current):xe(Po,o.pool)}function ES(){var i=Tx();return i===null?null:{parent:In._currentValue,pool:i}}var Wc=Error(r(460)),Cx=Error(r(474)),Dm=Error(r(542)),Rm={then:function(){}};function SS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function AS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(qa,qa),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,CS(i),i;default:if(typeof o.status=="string")o.then(qa,qa);else{if(i=Bt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var x=o;x.status="fulfilled",x.value=m}},function(m){if(o.status==="pending"){var x=o;x.status="rejected",x.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,CS(i),i}throw Mo=o,Wc}}function ko(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Mo=u,Wc):u}}var Mo=null;function TS(){if(Mo===null)throw Error(r(459));var i=Mo;return Mo=null,i}function CS(i){if(i===Wc||i===Dm)throw Error(r(483))}var Xc=null,$d=0;function Pm(i){var o=$d;return $d+=1,Xc===null&&(Xc=[]),AS(Xc,i,o)}function Bd(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function km(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function IS(i){function o(ee,Q){if(i){var le=ee.deletions;le===null?(ee.deletions=[Q],ee.flags|=16):le.push(Q)}}function u(ee,Q){if(!i)return null;for(;Q!==null;)o(ee,Q),Q=Q.sibling;return null}function m(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function x(ee,Q){return ee=cs(ee,Q),ee.index=0,ee.sibling=null,ee}function b(ee,Q,le){return ee.index=le,i?(le=ee.alternate,le!==null?(le=le.index,le<Q?(ee.flags|=67108866,Q):le):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function O(ee){return i&&ee.alternate===null&&(ee.flags|=67108866),ee}function $(ee,Q,le,be){return Q===null||Q.tag!==6?(Q=yx(le,ee.mode,be),Q.return=ee,Q):(Q=x(Q,le),Q.return=ee,Q)}function K(ee,Q,le,be){var He=le.type;return He===j?ye(ee,Q,le.props.children,be,le.key):Q!==null&&(Q.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===V&&ko(He)===Q.type)?(Q=x(Q,le.props),Bd(Q,le),Q.return=ee,Q):(Q=Am(le.type,le.key,le.props,null,ee.mode,be),Bd(Q,le),Q.return=ee,Q)}function oe(ee,Q,le,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==le.containerInfo||Q.stateNode.implementation!==le.implementation?(Q=xx(le,ee.mode,be),Q.return=ee,Q):(Q=x(Q,le.children||[]),Q.return=ee,Q)}function ye(ee,Q,le,be,He){return Q===null||Q.tag!==7?(Q=Io(le,ee.mode,be,He),Q.return=ee,Q):(Q=x(Q,le),Q.return=ee,Q)}function _e(ee,Q,le){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=yx(""+Q,ee.mode,le),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return le=Am(Q.type,Q.key,Q.props,null,ee.mode,le),Bd(le,Q),le.return=ee,le;case _:return Q=xx(Q,ee.mode,le),Q.return=ee,Q;case V:return Q=ko(Q),_e(ee,Q,le)}if(ae(Q)||z(Q))return Q=Io(Q,ee.mode,le,null),Q.return=ee,Q;if(typeof Q.then=="function")return _e(ee,Pm(Q),le);if(Q.$$typeof===M)return _e(ee,Im(ee,Q),le);km(ee,Q)}return null}function ue(ee,Q,le,be){var He=Q!==null?Q.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return He!==null?null:$(ee,Q,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case N:return le.key===He?K(ee,Q,le,be):null;case _:return le.key===He?oe(ee,Q,le,be):null;case V:return le=ko(le),ue(ee,Q,le,be)}if(ae(le)||z(le))return He!==null?null:ye(ee,Q,le,be,null);if(typeof le.then=="function")return ue(ee,Q,Pm(le),be);if(le.$$typeof===M)return ue(ee,Q,Im(ee,le),be);km(ee,le)}return null}function me(ee,Q,le,be,He){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ee=ee.get(le)||null,$(Q,ee,""+be,He);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case N:return ee=ee.get(be.key===null?le:be.key)||null,K(Q,ee,be,He);case _:return ee=ee.get(be.key===null?le:be.key)||null,oe(Q,ee,be,He);case V:return be=ko(be),me(ee,Q,le,be,He)}if(ae(be)||z(be))return ee=ee.get(le)||null,ye(Q,ee,be,He,null);if(typeof be.then=="function")return me(ee,Q,le,Pm(be),He);if(be.$$typeof===M)return me(ee,Q,le,Im(Q,be),He);km(Q,be)}return null}function Le(ee,Q,le,be){for(var He=null,wt=null,Ve=Q,lt=Q=0,ht=null;Ve!==null&&lt<le.length;lt++){Ve.index>lt?(ht=Ve,Ve=null):ht=Ve.sibling;var Nt=ue(ee,Ve,le[lt],be);if(Nt===null){Ve===null&&(Ve=ht);break}i&&Ve&&Nt.alternate===null&&o(ee,Ve),Q=b(Nt,Q,lt),wt===null?He=Nt:wt.sibling=Nt,wt=Nt,Ve=ht}if(lt===le.length)return u(ee,Ve),gt&&us(ee,lt),He;if(Ve===null){for(;lt<le.length;lt++)Ve=_e(ee,le[lt],be),Ve!==null&&(Q=b(Ve,Q,lt),wt===null?He=Ve:wt.sibling=Ve,wt=Ve);return gt&&us(ee,lt),He}for(Ve=m(Ve);lt<le.length;lt++)ht=me(Ve,ee,lt,le[lt],be),ht!==null&&(i&&ht.alternate!==null&&Ve.delete(ht.key===null?lt:ht.key),Q=b(ht,Q,lt),wt===null?He=ht:wt.sibling=ht,wt=ht);return i&&Ve.forEach(function(Ol){return o(ee,Ol)}),gt&&us(ee,lt),He}function Ke(ee,Q,le,be){if(le==null)throw Error(r(151));for(var He=null,wt=null,Ve=Q,lt=Q=0,ht=null,Nt=le.next();Ve!==null&&!Nt.done;lt++,Nt=le.next()){Ve.index>lt?(ht=Ve,Ve=null):ht=Ve.sibling;var Ol=ue(ee,Ve,Nt.value,be);if(Ol===null){Ve===null&&(Ve=ht);break}i&&Ve&&Ol.alternate===null&&o(ee,Ve),Q=b(Ol,Q,lt),wt===null?He=Ol:wt.sibling=Ol,wt=Ol,Ve=ht}if(Nt.done)return u(ee,Ve),gt&&us(ee,lt),He;if(Ve===null){for(;!Nt.done;lt++,Nt=le.next())Nt=_e(ee,Nt.value,be),Nt!==null&&(Q=b(Nt,Q,lt),wt===null?He=Nt:wt.sibling=Nt,wt=Nt);return gt&&us(ee,lt),He}for(Ve=m(Ve);!Nt.done;lt++,Nt=le.next())Nt=me(Ve,ee,lt,Nt.value,be),Nt!==null&&(i&&Nt.alternate!==null&&Ve.delete(Nt.key===null?lt:Nt.key),Q=b(Nt,Q,lt),wt===null?He=Nt:wt.sibling=Nt,wt=Nt);return i&&Ve.forEach(function(WV){return o(ee,WV)}),gt&&us(ee,lt),He}function Vt(ee,Q,le,be){if(typeof le=="object"&&le!==null&&le.type===j&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case N:e:{for(var He=le.key;Q!==null;){if(Q.key===He){if(He=le.type,He===j){if(Q.tag===7){u(ee,Q.sibling),be=x(Q,le.props.children),be.return=ee,ee=be;break e}}else if(Q.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===V&&ko(He)===Q.type){u(ee,Q.sibling),be=x(Q,le.props),Bd(be,le),be.return=ee,ee=be;break e}u(ee,Q);break}else o(ee,Q);Q=Q.sibling}le.type===j?(be=Io(le.props.children,ee.mode,be,le.key),be.return=ee,ee=be):(be=Am(le.type,le.key,le.props,null,ee.mode,be),Bd(be,le),be.return=ee,ee=be)}return O(ee);case _:e:{for(He=le.key;Q!==null;){if(Q.key===He)if(Q.tag===4&&Q.stateNode.containerInfo===le.containerInfo&&Q.stateNode.implementation===le.implementation){u(ee,Q.sibling),be=x(Q,le.children||[]),be.return=ee,ee=be;break e}else{u(ee,Q);break}else o(ee,Q);Q=Q.sibling}be=xx(le,ee.mode,be),be.return=ee,ee=be}return O(ee);case V:return le=ko(le),Vt(ee,Q,le,be)}if(ae(le))return Le(ee,Q,le,be);if(z(le)){if(He=z(le),typeof He!="function")throw Error(r(150));return le=He.call(le),Ke(ee,Q,le,be)}if(typeof le.then=="function")return Vt(ee,Q,Pm(le),be);if(le.$$typeof===M)return Vt(ee,Q,Im(ee,le),be);km(ee,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,Q!==null&&Q.tag===6?(u(ee,Q.sibling),be=x(Q,le),be.return=ee,ee=be):(u(ee,Q),be=yx(le,ee.mode,be),be.return=ee,ee=be),O(ee)):u(ee,Q)}return function(ee,Q,le,be){try{$d=0;var He=Vt(ee,Q,le,be);return Xc=null,He}catch(Ve){if(Ve===Wc||Ve===Dm)throw Ve;var wt=ea(29,Ve,null,ee.mode);return wt.lanes=be,wt.return=ee,wt}finally{}}}var Lo=IS(!0),OS=IS(!1),ml=!1;function Ix(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ox(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function pl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gl(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(St&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,o=Sm(i),mS(i,null,u),o}return Em(i,m,o,u),Sm(i)}function qd(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,yd(i,u)}}function Dx(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?x=b=O:b=b.next=O,u=u.next}while(u!==null);b===null?x=b=o:b=b.next=o}else x=b=o;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Rx=!1;function Hd(){if(Rx){var i=Yc;if(i!==null)throw i}}function Gd(i,o,u,m){Rx=!1;var x=i.updateQueue;ml=!1;var b=x.firstBaseUpdate,O=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var K=$,oe=K.next;K.next=null,O===null?b=oe:O.next=oe,O=K;var ye=i.alternate;ye!==null&&(ye=ye.updateQueue,$=ye.lastBaseUpdate,$!==O&&($===null?ye.firstBaseUpdate=oe:$.next=oe,ye.lastBaseUpdate=K))}if(b!==null){var _e=x.baseState;O=0,ye=oe=K=null,$=b;do{var ue=$.lane&-536870913,me=ue!==$.lane;if(me?(dt&ue)===ue:(m&ue)===ue){ue!==0&&ue===Kc&&(Rx=!0),ye!==null&&(ye=ye.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Le=i,Ke=$;ue=o;var Vt=u;switch(Ke.tag){case 1:if(Le=Ke.payload,typeof Le=="function"){_e=Le.call(Vt,_e,ue);break e}_e=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ke.payload,ue=typeof Le=="function"?Le.call(Vt,_e,ue):Le,ue==null)break e;_e=g({},_e,ue);break e;case 2:ml=!0}}ue=$.callback,ue!==null&&(i.flags|=64,me&&(i.flags|=8192),me=x.callbacks,me===null?x.callbacks=[ue]:me.push(ue))}else me={lane:ue,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ye===null?(oe=ye=me,K=_e):ye=ye.next=me,O|=ue;if($=$.next,$===null){if($=x.shared.pending,$===null)break;me=$,$=me.next,me.next=null,x.lastBaseUpdate=me,x.shared.pending=null}}while(!0);ye===null&&(K=_e),x.baseState=K,x.firstBaseUpdate=oe,x.lastBaseUpdate=ye,b===null&&(x.shared.lanes=0),wl|=O,i.lanes=O,i.memoizedState=_e}}function DS(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function RS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)DS(u[i],o)}var Qc=B(null),Mm=B(0);function PS(i,o){i=ws,xe(Mm,i),xe(Qc,o),ws=i|o.baseLanes}function Px(){xe(Mm,ws),xe(Qc,Qc.current)}function kx(){ws=Mm.current,J(Qc),J(Mm)}var ta=B(null),ja=null;function yl(i){var o=i.alternate;xe(vn,vn.current&1),xe(ta,i),ja===null&&(o===null||Qc.current!==null||o.memoizedState!==null)&&(ja=i)}function Mx(i){xe(vn,vn.current),xe(ta,i),ja===null&&(ja=i)}function kS(i){i.tag===22?(xe(vn,vn.current),xe(ta,i),ja===null&&(ja=i)):xl()}function xl(){xe(vn,vn.current),xe(ta,ta.current)}function na(i){J(ta),ja===i&&(ja=null),J(vn)}var vn=B(0);function Lm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$v(u)||Bv(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fs=0,st=null,Lt=null,On=null,Um=!1,Jc=!1,Uo=!1,Vm=0,Kd=0,Zc=null,V8=0;function fn(){throw Error(r(321))}function Lx(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Zr(i[u],o[u]))return!1;return!0}function Ux(i,o,u,m,x,b){return fs=b,st=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=i===null||i.memoizedState===null?xA:Zx,Uo=!1,b=u(m,x),Uo=!1,Jc&&(b=LS(o,u,m,x)),MS(i),b}function MS(i){G.H=Xd;var o=Lt!==null&&Lt.next!==null;if(fs=0,On=Lt=st=null,Um=!1,Kd=0,Zc=null,o)throw Error(r(300));i===null||Dn||(i=i.dependencies,i!==null&&Cm(i)&&(Dn=!0))}function LS(i,o,u,m){st=i;var x=0;do{if(Jc&&(Zc=null),Kd=0,Jc=!1,25<=x)throw Error(r(301));if(x+=1,On=Lt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=vA,b=o(u,m)}while(Jc);return b}function z8(){var i=G.H,o=i.useState()[0];return o=typeof o.then=="function"?Yd(o):o,i=i.useState()[0],(Lt!==null?Lt.memoizedState:null)!==i&&(st.flags|=1024),o}function Vx(){var i=Vm!==0;return Vm=0,i}function zx(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Fx(i){if(Um){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Um=!1}fs=0,On=Lt=st=null,Jc=!1,Kd=Vm=0,Zc=null}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?st.memoizedState=On=i:On=On.next=i,On}function bn(){if(Lt===null){var i=st.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var o=On===null?st.memoizedState:On.next;if(o!==null)On=o,Lt=i;else{if(i===null)throw st.alternate===null?Error(r(467)):Error(r(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},On===null?st.memoizedState=On=i:On=On.next=i}return On}function zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yd(i){var o=Kd;return Kd+=1,Zc===null&&(Zc=[]),i=AS(Zc,i,o),o=st,(On===null?o.memoizedState:On.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?xA:Zx),i}function Fm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yd(i);if(i.$$typeof===M)return ur(i)}throw Error(r(438,String(i)))}function $x(i){var o=null,u=st.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=st.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(x){return x.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=zm(),st.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=A;return o.index++,u}function ms(i,o){return typeof o=="function"?o(i):o}function $m(i){var o=bn();return Bx(o,Lt,i)}function Bx(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var x=i.baseQueue,b=m.pending;if(b!==null){if(x!==null){var O=x.next;x.next=b.next,b.next=O}o.baseQueue=x=b,m.pending=null}if(b=i.baseState,x===null)i.memoizedState=b;else{o=x.next;var $=O=null,K=null,oe=o,ye=!1;do{var _e=oe.lane&-536870913;if(_e!==oe.lane?(dt&_e)===_e:(fs&_e)===_e){var ue=oe.revertLane;if(ue===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),_e===Kc&&(ye=!0);else if((fs&ue)===ue){oe=oe.next,ue===Kc&&(ye=!0);continue}else _e={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?($=K=_e,O=b):K=K.next=_e,st.lanes|=ue,wl|=ue;_e=oe.action,Uo&&u(b,_e),b=oe.hasEagerState?oe.eagerState:u(b,_e)}else ue={lane:_e,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?($=K=ue,O=b):K=K.next=ue,st.lanes|=_e,wl|=_e;oe=oe.next}while(oe!==null&&oe!==o);if(K===null?O=b:K.next=$,!Zr(b,i.memoizedState)&&(Dn=!0,ye&&(u=Yc,u!==null)))throw u;i.memoizedState=b,i.baseState=O,i.baseQueue=K,m.lastRenderedState=b}return x===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function qx(i){var o=bn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,x=u.pending,b=o.memoizedState;if(x!==null){u.pending=null;var O=x=x.next;do b=i(b,O.action),O=O.next;while(O!==x);Zr(b,o.memoizedState)||(Dn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function US(i,o,u){var m=st,x=bn(),b=gt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var O=!Zr((Lt||x).memoizedState,u);if(O&&(x.memoizedState=u,Dn=!0),x=x.queue,Kx(FS.bind(null,m,x,i),[i]),x.getSnapshot!==o||O||On!==null&&On.memoizedState.tag&1){if(m.flags|=2048,eu(9,{destroy:void 0},zS.bind(null,m,x,u,o),null),Bt===null)throw Error(r(349));b||(fs&127)!==0||VS(m,o,u)}return u}function VS(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=st.updateQueue,o===null?(o=zm(),st.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function zS(i,o,u,m){o.value=u,o.getSnapshot=m,$S(o)&&BS(i)}function FS(i,o,u){return u(function(){$S(o)&&BS(i)})}function $S(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Zr(i,u)}catch{return!0}}function BS(i){var o=Co(i,2);o!==null&&zr(o,i,2)}function Hx(i){var o=Tr();if(typeof i=="function"){var u=i;if(i=u(),Uo){ma(!0);try{u()}finally{ma(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:i},o}function qS(i,o,u,m){return i.baseState=u,Bx(i,Lt,typeof m=="function"?m:ms)}function F8(i,o,u,m,x){if(Hm(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};G.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,HS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function HS(i,o){var u=o.action,m=o.payload,x=i.state;if(o.isTransition){var b=G.T,O={};G.T=O;try{var $=u(x,m),K=G.S;K!==null&&K(O,$),GS(i,o,$)}catch(oe){Gx(i,o,oe)}finally{b!==null&&O.types!==null&&(b.types=O.types),G.T=b}}else try{b=u(x,m),GS(i,o,b)}catch(oe){Gx(i,o,oe)}}function GS(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){KS(i,o,m)},function(m){return Gx(i,o,m)}):KS(i,o,u)}function KS(i,o,u){o.status="fulfilled",o.value=u,YS(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,HS(i,u)))}function Gx(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,YS(o),o=o.next;while(o!==m)}i.action=null}function YS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function WS(i,o){return o}function XS(i,o){if(gt){var u=Bt.formState;if(u!==null){e:{var m=st;if(gt){if(Xt){t:{for(var x=Xt,b=_a;x.nodeType!==8;){if(!b){x=null;break t}if(x=Ea(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){Xt=Ea(x.nextSibling),m=x.data==="F!";break e}}hl(m)}m=!1}m&&(o=u[0])}}return u=Tr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WS,lastRenderedState:o},u.queue=m,u=pA.bind(null,st,m),m.dispatch=u,m=Hx(!1),b=Jx.bind(null,st,!1,m.queue),m=Tr(),x={state:o,dispatch:null,action:i,pending:null},m.queue=x,u=F8.bind(null,st,x,b,u),x.dispatch=u,m.memoizedState=i,[o,u,!1]}function QS(i){var o=bn();return JS(o,Lt,i)}function JS(i,o,u){if(o=Bx(i,o,WS)[0],i=$m(ms)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Yd(o)}catch(O){throw O===Wc?Dm:O}else m=o;o=bn();var x=o.queue,b=x.dispatch;return u!==o.memoizedState&&(st.flags|=2048,eu(9,{destroy:void 0},$8.bind(null,x,u),null)),[m,b,i]}function $8(i,o){i.action=o}function ZS(i){var o=bn(),u=Lt;if(u!==null)return JS(o,u,i);bn(),o=o.memoizedState,u=bn();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function eu(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=st.updateQueue,o===null&&(o=zm(),st.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function eA(){return bn().memoizedState}function Bm(i,o,u,m){var x=Tr();st.flags|=i,x.memoizedState=eu(1|o,{destroy:void 0},u,m===void 0?null:m)}function qm(i,o,u,m){var x=bn();m=m===void 0?null:m;var b=x.memoizedState.inst;Lt!==null&&m!==null&&Lx(m,Lt.memoizedState.deps)?x.memoizedState=eu(o,b,u,m):(st.flags|=i,x.memoizedState=eu(1|o,b,u,m))}function tA(i,o){Bm(8390656,8,i,o)}function Kx(i,o){qm(2048,8,i,o)}function B8(i){st.flags|=4;var o=st.updateQueue;if(o===null)o=zm(),st.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function nA(i){var o=bn().memoizedState;return B8({ref:o,nextImpl:i}),function(){if((St&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function rA(i,o){return qm(4,2,i,o)}function aA(i,o){return qm(4,4,i,o)}function iA(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function sA(i,o,u){u=u!=null?u.concat([i]):null,qm(4,4,iA.bind(null,o,i),u)}function Yx(){}function lA(i,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Lx(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function oA(i,o){var u=bn();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Lx(o,m[1]))return m[0];if(m=i(),Uo){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m}function Wx(i,o,u){return u===void 0||(fs&1073741824)!==0&&(dt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=c2(),st.lanes|=i,wl|=i,u)}function cA(i,o,u,m){return Zr(u,o)?u:Qc.current!==null?(i=Wx(i,u,m),Zr(i,o)||(Dn=!0),i):(fs&42)===0||(fs&1073741824)!==0&&(dt&261930)===0?(Dn=!0,i.memoizedState=u):(i=c2(),st.lanes|=i,wl|=i,o)}function uA(i,o,u,m,x){var b=Y.p;Y.p=b!==0&&8>b?b:8;var O=G.T,$={};G.T=$,Jx(i,!1,o,u);try{var K=x(),oe=G.S;if(oe!==null&&oe($,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ye=U8(K,m);Wd(i,o,ye,ia(i))}else Wd(i,o,m,ia(i))}catch(_e){Wd(i,o,{then:function(){},status:"rejected",reason:_e},ia())}finally{Y.p=b,O!==null&&$.types!==null&&(O.types=$.types),G.T=O}}function q8(){}function Xx(i,o,u,m){if(i.tag!==5)throw Error(r(476));var x=dA(i).queue;uA(i,x,o,H,u===null?q8:function(){return hA(i),u(m)})}function dA(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function hA(i){var o=dA(i);o.next===null&&(o=i.alternate.memoizedState),Wd(i,o.next.queue,{},ia())}function Qx(){return ur(hh)}function fA(){return bn().memoizedState}function mA(){return bn().memoizedState}function H8(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=ia();i=pl(u);var m=gl(o,i,u);m!==null&&(zr(m,o,u),qd(m,o,u)),o={cache:Sx()},i.payload=o;return}o=o.return}}function G8(i,o,u){var m=ia();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Hm(i)?gA(o,u):(u=px(i,o,u,m),u!==null&&(zr(u,i,m),yA(u,o,m)))}function pA(i,o,u){var m=ia();Wd(i,o,u,m)}function Wd(i,o,u,m){var x={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hm(i))gA(o,x);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var O=o.lastRenderedState,$=b(O,u);if(x.hasEagerState=!0,x.eagerState=$,Zr($,O))return Em(i,o,x,0),Bt===null&&jm(),!1}catch{}finally{}if(u=px(i,o,x,m),u!==null)return zr(u,i,m),yA(u,o,m),!0}return!1}function Jx(i,o,u,m){if(m={lane:2,revertLane:Iv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Hm(i)){if(o)throw Error(r(479))}else o=px(i,u,m,2),o!==null&&zr(o,i,2)}function Hm(i){var o=i.alternate;return i===st||o!==null&&o===st}function gA(i,o){Jc=Um=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function yA(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,yd(i,u)}}var Xd={readContext:ur,use:Fm,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};Xd.useEffectEvent=fn;var xA={readContext:ur,use:Fm,useCallback:function(i,o){return Tr().memoizedState=[i,o===void 0?null:o],i},useContext:ur,useEffect:tA,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Bm(4194308,4,iA.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Bm(4194308,4,i,o)},useInsertionEffect:function(i,o){Bm(4,2,i,o)},useMemo:function(i,o){var u=Tr();o=o===void 0?null:o;var m=i();if(Uo){ma(!0);try{i()}finally{ma(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Tr();if(u!==void 0){var x=u(o);if(Uo){ma(!0);try{u(o)}finally{ma(!1)}}}else x=o;return m.memoizedState=m.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},m.queue=i,i=i.dispatch=G8.bind(null,st,i),[m.memoizedState,i]},useRef:function(i){var o=Tr();return i={current:i},o.memoizedState=i},useState:function(i){i=Hx(i);var o=i.queue,u=pA.bind(null,st,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Yx,useDeferredValue:function(i,o){var u=Tr();return Wx(u,i,o)},useTransition:function(){var i=Hx(!1);return i=uA.bind(null,st,i.queue,!0,!1),Tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=st,x=Tr();if(gt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Bt===null)throw Error(r(349));(dt&127)!==0||VS(m,o,u)}x.memoizedState=u;var b={value:u,getSnapshot:o};return x.queue=b,tA(FS.bind(null,m,b,i),[i]),m.flags|=2048,eu(9,{destroy:void 0},zS.bind(null,m,b,u,o),null),u},useId:function(){var i=Tr(),o=Bt.identifierPrefix;if(gt){var u=ki,m=Pi;u=(m&~(1<<32-yn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Vm++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=V8++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Qx,useFormState:XS,useActionState:XS,useOptimistic:function(i){var o=Tr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Jx.bind(null,st,!0,u),u.dispatch=o,[i,o]},useMemoCache:$x,useCacheRefresh:function(){return Tr().memoizedState=H8.bind(null,st)},useEffectEvent:function(i){var o=Tr(),u={impl:i};return o.memoizedState=u,function(){if((St&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Zx={readContext:ur,use:Fm,useCallback:lA,useContext:ur,useEffect:Kx,useImperativeHandle:sA,useInsertionEffect:rA,useLayoutEffect:aA,useMemo:oA,useReducer:$m,useRef:eA,useState:function(){return $m(ms)},useDebugValue:Yx,useDeferredValue:function(i,o){var u=bn();return cA(u,Lt.memoizedState,i,o)},useTransition:function(){var i=$m(ms)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:Yd(i),o]},useSyncExternalStore:US,useId:fA,useHostTransitionStatus:Qx,useFormState:QS,useActionState:QS,useOptimistic:function(i,o){var u=bn();return qS(u,Lt,i,o)},useMemoCache:$x,useCacheRefresh:mA};Zx.useEffectEvent=nA;var vA={readContext:ur,use:Fm,useCallback:lA,useContext:ur,useEffect:Kx,useImperativeHandle:sA,useInsertionEffect:rA,useLayoutEffect:aA,useMemo:oA,useReducer:qx,useRef:eA,useState:function(){return qx(ms)},useDebugValue:Yx,useDeferredValue:function(i,o){var u=bn();return Lt===null?Wx(u,i,o):cA(u,Lt.memoizedState,i,o)},useTransition:function(){var i=qx(ms)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:Yd(i),o]},useSyncExternalStore:US,useId:fA,useHostTransitionStatus:Qx,useFormState:ZS,useActionState:ZS,useOptimistic:function(i,o){var u=bn();return Lt!==null?qS(u,Lt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:$x,useCacheRefresh:mA};vA.useEffectEvent=nA;function ev(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var tv={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=ia(),x=pl(m);x.payload=o,u!=null&&(x.callback=u),o=gl(i,x,m),o!==null&&(zr(o,i,m),qd(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=ia(),x=pl(m);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=gl(i,x,m),o!==null&&(zr(o,i,m),qd(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=ia(),m=pl(u);m.tag=2,o!=null&&(m.callback=o),o=gl(i,m,u),o!==null&&(zr(o,i,u),qd(o,i,u))}};function bA(i,o,u,m,x,b,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,O):o.prototype&&o.prototype.isPureReactComponent?!Md(u,m)||!Md(x,b):!0}function wA(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&tv.enqueueReplaceState(o,o.state,null)}function Vo(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var x in i)u[x]===void 0&&(u[x]=i[x])}return u}function NA(i){_m(i)}function _A(i){console.error(i)}function jA(i){_m(i)}function Gm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function EA(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function nv(i,o,u){return u=pl(u),u.tag=3,u.payload={element:null},u.callback=function(){Gm(i,o)},u}function SA(i){return i=pl(i),i.tag=3,i}function AA(i,o,u,m){var x=u.type.getDerivedStateFromError;if(typeof x=="function"){var b=m.value;i.payload=function(){return x(b)},i.callback=function(){EA(o,u,m)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){EA(o,u,m),typeof x!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function K8(i,o,u,m,x){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&Gc(o,u,x,!0),u=ta.current,u!==null){switch(u.tag){case 31:case 13:return ja===null?ap():u.alternate===null&&mn===0&&(mn=3),u.flags&=-257,u.flags|=65536,u.lanes=x,m===Rm?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Av(i,m,x)),!1;case 22:return u.flags|=65536,m===Rm?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Av(i,m,x)),!1}throw Error(r(435,u.tag))}return Av(i,m,x),ap(),!1}if(gt)return o=ta.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=x,m!==wx&&(i=Error(r(422),{cause:m}),Vd(ba(i,u)))):(m!==wx&&(o=Error(r(423),{cause:m}),Vd(ba(o,u))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,m=ba(m,u),x=nv(i.stateNode,m,x),Dx(i,x),mn!==4&&(mn=2)),!1;var b=Error(r(520),{cause:m});if(b=ba(b,u),ah===null?ah=[b]:ah.push(b),mn!==4&&(mn=2),o===null)return!0;m=ba(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=x&-x,u.lanes|=i,i=nv(u.stateNode,m,i),Dx(u,i),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Nl===null||!Nl.has(b))))return u.flags|=65536,x&=-x,u.lanes|=x,x=SA(x),AA(x,i,u,m),Dx(u,x),!1}u=u.return}while(u!==null);return!1}var rv=Error(r(461)),Dn=!1;function dr(i,o,u,m){o.child=i===null?OS(o,null,u,m):Lo(o,i.child,u,m)}function TA(i,o,u,m,x){u=u.render;var b=o.ref;if("ref"in m){var O={};for(var $ in m)$!=="ref"&&(O[$]=m[$])}else O=m;return Ro(o),m=Ux(i,o,u,O,b,x),$=Vx(),i!==null&&!Dn?(zx(i,o,x),ps(i,o,x)):(gt&&$&&vx(o),o.flags|=1,dr(i,o,m,x),o.child)}function CA(i,o,u,m,x){if(i===null){var b=u.type;return typeof b=="function"&&!gx(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,IA(i,o,b,m,x)):(i=Am(u.type,null,m,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!dv(i,x)){var O=b.memoizedProps;if(u=u.compare,u=u!==null?u:Md,u(O,m)&&i.ref===o.ref)return ps(i,o,x)}return o.flags|=1,i=cs(b,m),i.ref=o.ref,i.return=o,o.child=i}function IA(i,o,u,m,x){if(i!==null){var b=i.memoizedProps;if(Md(b,m)&&i.ref===o.ref)if(Dn=!1,o.pendingProps=m=b,dv(i,x))(i.flags&131072)!==0&&(Dn=!0);else return o.lanes=i.lanes,ps(i,o,x)}return av(i,o,u,m,x)}function OA(i,o,u,m){var x=m.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=o.child=i.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~b}else m=0,o.child=null;return DA(i,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Om(o,b!==null?b.cachePool:null),b!==null?PS(o,b):Px(),kS(o);else return m=o.lanes=536870912,DA(i,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(Om(o,b.cachePool),PS(o,b),xl(),o.memoizedState=null):(i!==null&&Om(o,null),Px(),xl());return dr(i,o,x,u),o.child}function Qd(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function DA(i,o,u,m,x){var b=Tx();return b=b===null?null:{parent:In._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},i!==null&&Om(o,null),Px(),kS(o),i!==null&&Gc(i,o,m,!0),o.childLanes=x,null}function Km(i,o){return o=Wm({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function RA(i,o,u){return Lo(o,i.child,null,u),i=Km(o,o.pendingProps),i.flags|=2,na(o),o.memoizedState=null,i}function Y8(i,o,u){var m=o.pendingProps,x=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(gt){if(m.mode==="hidden")return i=Km(o,m),o.lanes=536870912,Qd(null,i);if(Mx(o),(i=Xt)?(i=H2(i,_a),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ul!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},u=gS(i),u.return=o,o.child=u,cr=o,Xt=null)):i=null,i===null)throw hl(o);return o.lanes=536870912,null}return Km(o,m)}var b=i.memoizedState;if(b!==null){var O=b.dehydrated;if(Mx(o),x)if(o.flags&256)o.flags&=-257,o=RA(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Dn||Gc(i,o,u,!1),x=(u&i.childLanes)!==0,Dn||x){if(m=Bt,m!==null&&(O=xd(m,u),O!==0&&O!==b.retryLane))throw b.retryLane=O,Co(i,O),zr(m,i,O),rv;ap(),o=RA(i,o,u)}else i=b.treeContext,Xt=Ea(O.nextSibling),cr=o,gt=!0,dl=null,_a=!1,i!==null&&vS(o,i),o=Km(o,m),o.flags|=4096;return o}return i=cs(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Ym(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function av(i,o,u,m,x){return Ro(o),u=Ux(i,o,u,m,void 0,x),m=Vx(),i!==null&&!Dn?(zx(i,o,x),ps(i,o,x)):(gt&&m&&vx(o),o.flags|=1,dr(i,o,u,x),o.child)}function PA(i,o,u,m,x,b){return Ro(o),o.updateQueue=null,u=LS(o,m,u,x),MS(i),m=Vx(),i!==null&&!Dn?(zx(i,o,b),ps(i,o,b)):(gt&&m&&vx(o),o.flags|=1,dr(i,o,u,b),o.child)}function kA(i,o,u,m,x){if(Ro(o),o.stateNode===null){var b=$c,O=u.contextType;typeof O=="object"&&O!==null&&(b=ur(O)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tv,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Ix(o),O=u.contextType,b.context=typeof O=="object"&&O!==null?ur(O):$c,b.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(ev(o,u,O,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&tv.enqueueReplaceState(b,b.state,null),Gd(o,m,b,x),Hd(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){b=o.stateNode;var $=o.memoizedProps,K=Vo(u,$);b.props=K;var oe=b.context,ye=u.contextType;O=$c,typeof ye=="object"&&ye!==null&&(O=ur(ye));var _e=u.getDerivedStateFromProps;ye=typeof _e=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||oe!==O)&&wA(o,b,m,O),ml=!1;var ue=o.memoizedState;b.state=ue,Gd(o,m,b,x),Hd(),oe=o.memoizedState,$||ue!==oe||ml?(typeof _e=="function"&&(ev(o,u,_e,m),oe=o.memoizedState),(K=ml||bA(o,u,K,m,ue,oe,O))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=oe),b.props=m,b.state=oe,b.context=O,m=K):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,Ox(i,o),O=o.memoizedProps,ye=Vo(u,O),b.props=ye,_e=o.pendingProps,ue=b.context,oe=u.contextType,K=$c,typeof oe=="object"&&oe!==null&&(K=ur(oe)),$=u.getDerivedStateFromProps,(oe=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==_e||ue!==K)&&wA(o,b,m,K),ml=!1,ue=o.memoizedState,b.state=ue,Gd(o,m,b,x),Hd();var me=o.memoizedState;O!==_e||ue!==me||ml||i!==null&&i.dependencies!==null&&Cm(i.dependencies)?(typeof $=="function"&&(ev(o,u,$,m),me=o.memoizedState),(ye=ml||bA(o,u,ye,m,ue,me,K)||i!==null&&i.dependencies!==null&&Cm(i.dependencies))?(oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,me,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,me,K)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===i.memoizedProps&&ue===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ue===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=me),b.props=m,b.state=me,b.context=K,m=ye):(typeof b.componentDidUpdate!="function"||O===i.memoizedProps&&ue===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ue===i.memoizedState||(o.flags|=1024),m=!1)}return b=m,Ym(i,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&m?(o.child=Lo(o,i.child,null,x),o.child=Lo(o,null,u,x)):dr(i,o,u,x),o.memoizedState=b.state,i=o.child):i=ps(i,o,x),i}function MA(i,o,u,m){return Oo(),o.flags|=256,dr(i,o,u,m),o.child}var iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sv(i){return{baseLanes:i,cachePool:ES()}}function lv(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=aa),i}function LA(i,o,u){var m=o.pendingProps,x=!1,b=(o.flags&128)!==0,O;if((O=b)||(O=i!==null&&i.memoizedState===null?!1:(vn.current&2)!==0),O&&(x=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(gt){if(x?yl(o):xl(),(i=Xt)?(i=H2(i,_a),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ul!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},u=gS(i),u.return=o,o.child=u,cr=o,Xt=null)):i=null,i===null)throw hl(o);return Bv(i)?o.lanes=32:o.lanes=536870912,null}var $=m.children;return m=m.fallback,x?(xl(),x=o.mode,$=Wm({mode:"hidden",children:$},x),m=Io(m,x,u,null),$.return=o,m.return=o,$.sibling=m,o.child=$,m=o.child,m.memoizedState=sv(u),m.childLanes=lv(i,O,u),o.memoizedState=iv,Qd(null,m)):(yl(o),ov(o,$))}var K=i.memoizedState;if(K!==null&&($=K.dehydrated,$!==null)){if(b)o.flags&256?(yl(o),o.flags&=-257,o=cv(i,o,u)):o.memoizedState!==null?(xl(),o.child=i.child,o.flags|=128,o=null):(xl(),$=m.fallback,x=o.mode,m=Wm({mode:"visible",children:m.children},x),$=Io($,x,u,null),$.flags|=2,m.return=o,$.return=o,m.sibling=$,o.child=m,Lo(o,i.child,null,u),m=o.child,m.memoizedState=sv(u),m.childLanes=lv(i,O,u),o.memoizedState=iv,o=Qd(null,m));else if(yl(o),Bv($)){if(O=$.nextSibling&&$.nextSibling.dataset,O)var oe=O.dgst;O=oe,m=Error(r(419)),m.stack="",m.digest=O,Vd({value:m,source:null,stack:null}),o=cv(i,o,u)}else if(Dn||Gc(i,o,u,!1),O=(u&i.childLanes)!==0,Dn||O){if(O=Bt,O!==null&&(m=xd(O,u),m!==0&&m!==K.retryLane))throw K.retryLane=m,Co(i,m),zr(O,i,m),rv;$v($)||ap(),o=cv(i,o,u)}else $v($)?(o.flags|=192,o.child=i.child,o=null):(i=K.treeContext,Xt=Ea($.nextSibling),cr=o,gt=!0,dl=null,_a=!1,i!==null&&vS(o,i),o=ov(o,m.children),o.flags|=4096);return o}return x?(xl(),$=m.fallback,x=o.mode,K=i.child,oe=K.sibling,m=cs(K,{mode:"hidden",children:m.children}),m.subtreeFlags=K.subtreeFlags&65011712,oe!==null?$=cs(oe,$):($=Io($,x,u,null),$.flags|=2),$.return=o,m.return=o,m.sibling=$,o.child=m,Qd(null,m),m=o.child,$=i.child.memoizedState,$===null?$=sv(u):(x=$.cachePool,x!==null?(K=In._currentValue,x=x.parent!==K?{parent:K,pool:K}:x):x=ES(),$={baseLanes:$.baseLanes|u,cachePool:x}),m.memoizedState=$,m.childLanes=lv(i,O,u),o.memoizedState=iv,Qd(i.child,m)):(yl(o),u=i.child,i=u.sibling,u=cs(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function ov(i,o){return o=Wm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Wm(i,o){return i=ea(22,i,null,o),i.lanes=0,i}function cv(i,o,u){return Lo(o,i.child,null,u),i=ov(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function UA(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),jx(i.return,o,u)}function uv(i,o,u,m,x,b){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x,treeForkCount:b}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=u,O.tailMode=x,O.treeForkCount=b)}function VA(i,o,u){var m=o.pendingProps,x=m.revealOrder,b=m.tail;m=m.children;var O=vn.current,$=(O&2)!==0;if($?(O=O&1|2,o.flags|=128):O&=1,xe(vn,O),dr(i,o,m,u),m=gt?Ud:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&UA(i,u,o);else if(i.tag===19)UA(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(u=o.child,x=null;u!==null;)i=u.alternate,i!==null&&Lm(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=o.child,o.child=null):(x=u.sibling,u.sibling=null),uv(o,!1,x,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&Lm(i)===null){o.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}uv(o,!0,u,null,b,m);break;case"together":uv(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ps(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),wl|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Gc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=cs(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=cs(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function dv(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Cm(i)))}function W8(i,o,u){switch(o.tag){case 3:re(o,o.stateNode.containerInfo),fl(o,In,i.memoizedState.cache),Oo();break;case 27:case 5:ke(o);break;case 4:re(o,o.stateNode.containerInfo);break;case 10:fl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Mx(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(yl(o),o.flags|=128,null):(u&o.child.childLanes)!==0?LA(i,o,u):(yl(o),i=ps(i,o,u),i!==null?i.sibling:null);yl(o);break;case 19:var x=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(Gc(i,o,u,!1),m=(u&o.childLanes)!==0),x){if(m)return VA(i,o,u);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),xe(vn,vn.current),m)break;return null;case 22:return o.lanes=0,OA(i,o,u,o.pendingProps);case 24:fl(o,In,i.memoizedState.cache)}return ps(i,o,u)}function zA(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Dn=!0;else{if(!dv(i,u)&&(o.flags&128)===0)return Dn=!1,W8(i,o,u);Dn=(i.flags&131072)!==0}else Dn=!1,gt&&(o.flags&1048576)!==0&&xS(o,Ud,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=ko(o.elementType),o.type=i,typeof i=="function")gx(i)?(m=Vo(i,m),o.tag=1,o=kA(null,o,i,m,u)):(o.tag=0,o=av(null,o,i,m,u));else{if(i!=null){var x=i.$$typeof;if(x===T){o.tag=11,o=TA(null,o,i,m,u);break e}else if(x===P){o.tag=14,o=CA(null,o,i,m,u);break e}}throw o=de(i)||i,Error(r(306,o,""))}}return o;case 0:return av(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,x=Vo(m,o.pendingProps),kA(i,o,m,x,u);case 3:e:{if(re(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;x=b.element,Ox(i,o),Gd(o,m,null,u);var O=o.memoizedState;if(m=O.cache,fl(o,In,m),m!==b.cache&&Ex(o,[In],u,!0),Hd(),m=O.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=MA(i,o,m,u);break e}else if(m!==x){x=ba(Error(r(424)),o),Vd(x),o=MA(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xt=Ea(i.firstChild),cr=o,gt=!0,dl=null,_a=!0,u=OS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Oo(),m===x){o=ps(i,o,u);break e}dr(i,o,m,u)}o=o.child}return o;case 26:return Ym(i,o),i===null?(u=Q2(o.type,null,o.pendingProps,null))?o.memoizedState=u:gt||(u=o.type,i=o.pendingProps,m=dp(Ee.current).createElement(u),m[An]=o,m[Qn]=i,hr(m,u,i),Tn(m),o.stateNode=m):o.memoizedState=Q2(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ke(o),i===null&&gt&&(m=o.stateNode=Y2(o.type,o.pendingProps,Ee.current),cr=o,_a=!0,x=Xt,Sl(o.type)?(qv=x,Xt=Ea(m.firstChild)):Xt=x),dr(i,o,o.pendingProps.children,u),Ym(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&gt&&((x=m=Xt)&&(m=EV(m,o.type,o.pendingProps,_a),m!==null?(o.stateNode=m,cr=o,Xt=Ea(m.firstChild),_a=!1,x=!0):x=!1),x||hl(o)),ke(o),x=o.type,b=o.pendingProps,O=i!==null?i.memoizedProps:null,m=b.children,Vv(x,b)?m=null:O!==null&&Vv(x,O)&&(o.flags|=32),o.memoizedState!==null&&(x=Ux(i,o,z8,null,null,u),hh._currentValue=x),Ym(i,o),dr(i,o,m,u),o.child;case 6:return i===null&&gt&&((i=u=Xt)&&(u=SV(u,o.pendingProps,_a),u!==null?(o.stateNode=u,cr=o,Xt=null,i=!0):i=!1),i||hl(o)),null;case 13:return LA(i,o,u);case 4:return re(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Lo(o,null,m,u):dr(i,o,m,u),o.child;case 11:return TA(i,o,o.type,o.pendingProps,u);case 7:return dr(i,o,o.pendingProps,u),o.child;case 8:return dr(i,o,o.pendingProps.children,u),o.child;case 12:return dr(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,fl(o,o.type,m.value),dr(i,o,m.children,u),o.child;case 9:return x=o.type._context,m=o.pendingProps.children,Ro(o),x=ur(x),m=m(x),o.flags|=1,dr(i,o,m,u),o.child;case 14:return CA(i,o,o.type,o.pendingProps,u);case 15:return IA(i,o,o.type,o.pendingProps,u);case 19:return VA(i,o,u);case 31:return Y8(i,o,u);case 22:return OA(i,o,u,o.pendingProps);case 24:return Ro(o),m=ur(In),i===null?(x=Tx(),x===null&&(x=Bt,b=Sx(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=u),x=b),o.memoizedState={parent:m,cache:x},Ix(o),fl(o,In,x)):((i.lanes&u)!==0&&(Ox(i,o),Gd(o,null,null,u),Hd()),x=i.memoizedState,b=o.memoizedState,x.parent!==m?(x={parent:m,cache:m},o.memoizedState=x,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=x),fl(o,In,m)):(m=b.cache,fl(o,In,m),m!==x.cache&&Ex(o,[In],u,!0))),dr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function gs(i){i.flags|=4}function hv(i,o,u,m,x){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(f2())i.flags|=8192;else throw Mo=Rm,Cx}else i.flags&=-16777217}function FA(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nT(o))if(f2())i.flags|=8192;else throw Mo=Rm,Cx}function Xm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?nm():536870912,i.lanes|=o,au|=o)}function Jd(i,o){if(!gt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function X8(i,o,u){var m=o.pendingProps;switch(bx(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),hs(In),ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Hc(o)?gs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Nx())),Qt(o),null;case 26:var x=o.type,b=o.memoizedState;return i===null?(gs(o),b!==null?(Qt(o),FA(o,b)):(Qt(o),hv(o,x,null,m,u))):b?b!==i.memoizedState?(gs(o),Qt(o),FA(o,b)):(Qt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&gs(o),Qt(o),hv(o,x,i,m,u)),null;case 27:if(Z(o),u=Ee.current,x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&gs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}i=te.current,Hc(o)?bS(o):(i=Y2(x,m,u),o.stateNode=i,gs(o))}return Qt(o),null;case 5:if(Z(o),x=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&gs(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(b=te.current,Hc(o))bS(o);else{var O=dp(Ee.current);switch(b){case 1:b=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=O.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?O.createElement(x,{is:m.is}):O.createElement(x)}}b[An]=o,b[Qn]=m;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)b.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=b;e:switch(hr(b,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&gs(o)}}return Qt(o),hv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&gs(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ee.current,Hc(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,x=cr,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}i[An]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||L2(i.nodeValue,u)),i||hl(o,!0)}else i=dp(i).createTextNode(m),i[An]=o,o.stateNode=i}return Qt(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=Hc(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[An]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),i=!1}else u=Nx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(na(o),o):(na(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Qt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=Hc(o),m!==null&&m.dehydrated!==null){if(i===null){if(!x)throw Error(r(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[An]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Qt(o),x=!1}else x=Nx(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return o.flags&256?(na(o),o):(na(o),null)}return na(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==x&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Xm(o,o.updateQueue),Qt(o),null);case 4:return ie(),i===null&&Pv(o.stateNode.containerInfo),Qt(o),null;case 10:return hs(o.type),Qt(o),null;case 19:if(J(vn),m=o.memoizedState,m===null)return Qt(o),null;if(x=(o.flags&128)!==0,b=m.rendering,b===null)if(x)Jd(m,!1);else{if(mn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Lm(i),b!==null){for(o.flags|=128,Jd(m,!1),i=b.updateQueue,o.updateQueue=i,Xm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)pS(u,i),u=u.sibling;return xe(vn,vn.current&1|2),gt&&us(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&Pe()>tp&&(o.flags|=128,x=!0,Jd(m,!1),o.lanes=4194304)}else{if(!x)if(i=Lm(b),i!==null){if(o.flags|=128,x=!0,i=i.updateQueue,o.updateQueue=i,Xm(o,i),Jd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!gt)return Qt(o),null}else 2*Pe()-m.renderingStartTime>tp&&u!==536870912&&(o.flags|=128,x=!0,Jd(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Pe(),i.sibling=null,u=vn.current,xe(vn,x?u&1|2:u&1),gt&&us(o,m.treeForkCount),i):(Qt(o),null);case 22:case 23:return na(o),kx(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),u=o.updateQueue,u!==null&&Xm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&J(Po),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),hs(In),Qt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Q8(i,o){switch(bx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return hs(In),ie(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Z(o),null;case 31:if(o.memoizedState!==null){if(na(o),o.alternate===null)throw Error(r(340));Oo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(na(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Oo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return J(vn),null;case 4:return ie(),null;case 10:return hs(o.type),null;case 22:case 23:return na(o),kx(),i!==null&&J(Po),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return hs(In),null;case 25:return null;default:return null}}function $A(i,o){switch(bx(o),o.tag){case 3:hs(In),ie();break;case 26:case 27:case 5:Z(o);break;case 4:ie();break;case 31:o.memoizedState!==null&&na(o);break;case 13:na(o);break;case 19:J(vn);break;case 10:hs(o.type);break;case 22:case 23:na(o),kx(),i!==null&&J(Po);break;case 24:hs(In)}}function Zd(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&i)===i){m=void 0;var b=u.create,O=u.inst;m=b(),O.destroy=m}u=u.next}while(u!==x)}}catch($){Dt(o,o.return,$)}}function vl(i,o,u){try{var m=o.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var b=x.next;m=b;do{if((m.tag&i)===i){var O=m.inst,$=O.destroy;if($!==void 0){O.destroy=void 0,x=o;var K=u,oe=$;try{oe()}catch(ye){Dt(x,K,ye)}}}m=m.next}while(m!==b)}}catch(ye){Dt(o,o.return,ye)}}function BA(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{RS(o,u)}catch(m){Dt(i,i.return,m)}}}function qA(i,o,u){u.props=Vo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Dt(i,o,m)}}function eh(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(x){Dt(i,o,x)}}function Mi(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(x){Dt(i,o,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(x){Dt(i,o,x)}else u.current=null}function HA(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(x){Dt(i,i.return,x)}}function fv(i,o,u){try{var m=i.stateNode;vV(m,i.type,u,o),m[Qn]=o}catch(x){Dt(i,i.return,x)}}function GA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sl(i.type)||i.tag===4}function mv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||GA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pv(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=qa));else if(m!==4&&(m===27&&Sl(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(pv(i,o,u),i=i.sibling;i!==null;)pv(i,o,u),i=i.sibling}function Qm(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Sl(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Qm(i,o,u),i=i.sibling;i!==null;)Qm(i,o,u),i=i.sibling}function KA(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,x=o.attributes;x.length;)o.removeAttributeNode(x[0]);hr(o,m,u),o[An]=i,o[Qn]=u}catch(b){Dt(i,i.return,b)}}var ys=!1,Rn=!1,gv=!1,YA=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function J8(i,o){if(i=i.containerInfo,Lv=xp,i=sS(i),cx(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var O=0,$=-1,K=-1,oe=0,ye=0,_e=i,ue=null;t:for(;;){for(var me;_e!==u||x!==0&&_e.nodeType!==3||($=O+x),_e!==b||m!==0&&_e.nodeType!==3||(K=O+m),_e.nodeType===3&&(O+=_e.nodeValue.length),(me=_e.firstChild)!==null;)ue=_e,_e=me;for(;;){if(_e===i)break t;if(ue===u&&++oe===x&&($=O),ue===b&&++ye===m&&(K=O),(me=_e.nextSibling)!==null)break;_e=ue,ue=_e.parentNode}_e=me}u=$===-1||K===-1?null:{start:$,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(Uv={focusedElem:i,selectionRange:u},xp=!1,Zn=o;Zn!==null;)if(o=Zn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Zn=i;else for(;Zn!==null;){switch(o=Zn,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)x=i[u],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=o,x=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Le=Vo(u.type,x);i=m.getSnapshotBeforeUpdate(Le,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(Ke){Dt(u,u.return,Ke)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Fv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Zn=i;break}Zn=o.return}}function WA(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:vs(i,u),m&4&&Zd(5,u);break;case 1:if(vs(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Dt(u,u.return,O)}else{var x=Vo(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(x,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Dt(u,u.return,O)}}m&64&&BA(u),m&512&&eh(u,u.return);break;case 3:if(vs(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{RS(i,o)}catch(O){Dt(u,u.return,O)}}break;case 27:o===null&&m&4&&KA(u);case 26:case 5:vs(i,u),o===null&&m&4&&HA(u),m&512&&eh(u,u.return);break;case 12:vs(i,u);break;case 31:vs(i,u),m&4&&JA(i,u);break;case 13:vs(i,u),m&4&&ZA(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=lV.bind(null,u),AV(i,u))));break;case 22:if(m=u.memoizedState!==null||ys,!m){o=o!==null&&o.memoizedState!==null||Rn,x=ys;var b=Rn;ys=m,(Rn=o)&&!b?bs(i,u,(u.subtreeFlags&8772)!==0):vs(i,u),ys=x,Rn=b}break;case 30:break;default:vs(i,u)}}function XA(i){var o=i.alternate;o!==null&&(i.alternate=null,XA(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Tc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var tn=null,Mr=!1;function xs(i,o,u){for(u=u.child;u!==null;)QA(i,o,u),u=u.sibling}function QA(i,o,u){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(za,u)}catch{}switch(u.tag){case 26:Rn||Mi(u,o),xs(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Rn||Mi(u,o);var m=tn,x=Mr;Sl(u.type)&&(tn=u.stateNode,Mr=!1),xs(i,o,u),ch(u.stateNode),tn=m,Mr=x;break;case 5:Rn||Mi(u,o);case 6:if(m=tn,x=Mr,tn=null,xs(i,o,u),tn=m,Mr=x,tn!==null)if(Mr)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(u.stateNode)}catch(b){Dt(u,o,b)}else try{tn.removeChild(u.stateNode)}catch(b){Dt(u,o,b)}break;case 18:tn!==null&&(Mr?(i=tn,B2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),hu(i)):B2(tn,u.stateNode));break;case 4:m=tn,x=Mr,tn=u.stateNode.containerInfo,Mr=!0,xs(i,o,u),tn=m,Mr=x;break;case 0:case 11:case 14:case 15:vl(2,u,o),Rn||vl(4,u,o),xs(i,o,u);break;case 1:Rn||(Mi(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&qA(u,o,m)),xs(i,o,u);break;case 21:xs(i,o,u);break;case 22:Rn=(m=Rn)||u.memoizedState!==null,xs(i,o,u),Rn=m;break;default:xs(i,o,u)}}function JA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{hu(i)}catch(u){Dt(o,o.return,u)}}}function ZA(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hu(i)}catch(u){Dt(o,o.return,u)}}function Z8(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new YA),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new YA),o;default:throw Error(r(435,i.tag))}}function Jm(i,o){var u=Z8(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var x=oV.bind(null,i,m);m.then(x,x)}})}function Lr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m],b=i,O=o,$=O;e:for(;$!==null;){switch($.tag){case 27:if(Sl($.type)){tn=$.stateNode,Mr=!1;break e}break;case 5:tn=$.stateNode,Mr=!1;break e;case 3:case 4:tn=$.stateNode.containerInfo,Mr=!0;break e}$=$.return}if(tn===null)throw Error(r(160));QA(b,O,x),tn=null,Mr=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)e2(o,i),o=o.sibling}var Xa=null;function e2(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(o,i),Ur(i),m&4&&(vl(3,i,i.return),Zd(3,i),vl(5,i,i.return));break;case 1:Lr(o,i),Ur(i),m&512&&(Rn||u===null||Mi(u,u.return)),m&64&&ys&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var x=Xa;if(Lr(o,i),Ur(i),m&512&&(Rn||u===null||Mi(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":b=x.getElementsByTagName("title")[0],(!b||b[Ni]||b[An]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(m),x.head.insertBefore(b,x.querySelector("head > title"))),hr(b,m,u),b[An]=i,Tn(b),m=b;break e;case"link":var O=eT("link","href",x).get(m+(u.href||""));if(O){for(var $=0;$<O.length;$++)if(b=O[$],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice($,1);break t}}b=x.createElement(m),hr(b,m,u),x.head.appendChild(b);break;case"meta":if(O=eT("meta","content",x).get(m+(u.content||""))){for($=0;$<O.length;$++)if(b=O[$],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice($,1);break t}}b=x.createElement(m),hr(b,m,u),x.head.appendChild(b);break;default:throw Error(r(468,m))}b[An]=i,Tn(b),m=b}i.stateNode=m}else tT(x,i.type,i.stateNode);else i.stateNode=Z2(x,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?tT(x,i.type,i.stateNode):Z2(x,m,i.memoizedProps)):m===null&&i.stateNode!==null&&fv(i,i.memoizedProps,u.memoizedProps)}break;case 27:Lr(o,i),Ur(i),m&512&&(Rn||u===null||Mi(u,u.return)),u!==null&&m&4&&fv(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Lr(o,i),Ur(i),m&512&&(Rn||u===null||Mi(u,u.return)),i.flags&32){x=i.stateNode;try{kr(x,"")}catch(Le){Dt(i,i.return,Le)}}m&4&&i.stateNode!=null&&(x=i.memoizedProps,fv(i,x,u!==null?u.memoizedProps:x)),m&1024&&(gv=!0);break;case 6:if(Lr(o,i),Ur(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Le){Dt(i,i.return,Le)}}break;case 3:if(mp=null,x=Xa,Xa=hp(o.containerInfo),Lr(o,i),Xa=x,Ur(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{hu(o.containerInfo)}catch(Le){Dt(i,i.return,Le)}gv&&(gv=!1,t2(i));break;case 4:m=Xa,Xa=hp(i.stateNode.containerInfo),Lr(o,i),Ur(i),Xa=m;break;case 12:Lr(o,i),Ur(i);break;case 31:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Jm(i,m)));break;case 13:Lr(o,i),Ur(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ep=Pe()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Jm(i,m)));break;case 22:x=i.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,oe=ys,ye=Rn;if(ys=oe||x,Rn=ye||K,Lr(o,i),Rn=ye,ys=oe,Ur(i),m&8192)e:for(o=i.stateNode,o._visibility=x?o._visibility&-2:o._visibility|1,x&&(u===null||K||ys||Rn||zo(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(b=K.stateNode,x)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{$=K.stateNode;var _e=K.memoizedProps.style,ue=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;$.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Le){Dt(K,K.return,Le)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=x?"":K.memoizedProps}catch(Le){Dt(K,K.return,Le)}}}else if(o.tag===18){if(u===null){K=o;try{var me=K.stateNode;x?q2(me,!0):q2(K.stateNode,!1)}catch(Le){Dt(K,K.return,Le)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Jm(i,u))));break;case 19:Lr(o,i),Ur(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Jm(i,m)));break;case 30:break;case 21:break;default:Lr(o,i),Ur(i)}}function Ur(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(GA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var x=u.stateNode,b=mv(i);Qm(i,b,x);break;case 5:var O=u.stateNode;u.flags&32&&(kr(O,""),u.flags&=-33);var $=mv(i);Qm(i,$,O);break;case 3:case 4:var K=u.stateNode.containerInfo,oe=mv(i);pv(i,oe,K);break;default:throw Error(r(161))}}catch(ye){Dt(i,i.return,ye)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function t2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;t2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function vs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)WA(i,o.alternate,o),o=o.sibling}function zo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:vl(4,o,o.return),zo(o);break;case 1:Mi(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&qA(o,o.return,u),zo(o);break;case 27:ch(o.stateNode);case 26:case 5:Mi(o,o.return),zo(o);break;case 22:o.memoizedState===null&&zo(o);break;case 30:zo(o);break;default:zo(o)}i=i.sibling}}function bs(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,x=i,b=o,O=b.flags;switch(b.tag){case 0:case 11:case 15:bs(x,b,u),Zd(4,b);break;case 1:if(bs(x,b,u),m=b,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(oe){Dt(m,m.return,oe)}if(m=b,x=m.updateQueue,x!==null){var $=m.stateNode;try{var K=x.shared.hiddenCallbacks;if(K!==null)for(x.shared.hiddenCallbacks=null,x=0;x<K.length;x++)DS(K[x],$)}catch(oe){Dt(m,m.return,oe)}}u&&O&64&&BA(b),eh(b,b.return);break;case 27:KA(b);case 26:case 5:bs(x,b,u),u&&m===null&&O&4&&HA(b),eh(b,b.return);break;case 12:bs(x,b,u);break;case 31:bs(x,b,u),u&&O&4&&JA(x,b);break;case 13:bs(x,b,u),u&&O&4&&ZA(x,b);break;case 22:b.memoizedState===null&&bs(x,b,u),eh(b,b.return);break;case 30:break;default:bs(x,b,u)}o=o.sibling}}function yv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&zd(u))}function xv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&zd(i))}function Qa(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)n2(i,o,u,m),o=o.sibling}function n2(i,o,u,m){var x=o.flags;switch(o.tag){case 0:case 11:case 15:Qa(i,o,u,m),x&2048&&Zd(9,o);break;case 1:Qa(i,o,u,m);break;case 3:Qa(i,o,u,m),x&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&zd(i)));break;case 12:if(x&2048){Qa(i,o,u,m),i=o.stateNode;try{var b=o.memoizedProps,O=b.id,$=b.onPostCommit;typeof $=="function"&&$(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(K){Dt(o,o.return,K)}}else Qa(i,o,u,m);break;case 31:Qa(i,o,u,m);break;case 13:Qa(i,o,u,m);break;case 23:break;case 22:b=o.stateNode,O=o.alternate,o.memoizedState!==null?b._visibility&2?Qa(i,o,u,m):th(i,o):b._visibility&2?Qa(i,o,u,m):(b._visibility|=2,tu(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),x&2048&&yv(O,o);break;case 24:Qa(i,o,u,m),x&2048&&xv(o.alternate,o);break;default:Qa(i,o,u,m)}}function tu(i,o,u,m,x){for(x=x&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,O=o,$=u,K=m,oe=O.flags;switch(O.tag){case 0:case 11:case 15:tu(b,O,$,K,x),Zd(8,O);break;case 23:break;case 22:var ye=O.stateNode;O.memoizedState!==null?ye._visibility&2?tu(b,O,$,K,x):th(b,O):(ye._visibility|=2,tu(b,O,$,K,x)),x&&oe&2048&&yv(O.alternate,O);break;case 24:tu(b,O,$,K,x),x&&oe&2048&&xv(O.alternate,O);break;default:tu(b,O,$,K,x)}o=o.sibling}}function th(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,x=m.flags;switch(m.tag){case 22:th(u,m),x&2048&&yv(m.alternate,m);break;case 24:th(u,m),x&2048&&xv(m.alternate,m);break;default:th(u,m)}o=o.sibling}}var nh=8192;function nu(i,o,u){if(i.subtreeFlags&nh)for(i=i.child;i!==null;)r2(i,o,u),i=i.sibling}function r2(i,o,u){switch(i.tag){case 26:nu(i,o,u),i.flags&nh&&i.memoizedState!==null&&VV(u,Xa,i.memoizedState,i.memoizedProps);break;case 5:nu(i,o,u);break;case 3:case 4:var m=Xa;Xa=hp(i.stateNode.containerInfo),nu(i,o,u),Xa=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=nh,nh=16777216,nu(i,o,u),nh=m):nu(i,o,u));break;default:nu(i,o,u)}}function a2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function rh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Zn=m,s2(m,i)}a2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i2(i),i=i.sibling}function i2(i){switch(i.tag){case 0:case 11:case 15:rh(i),i.flags&2048&&vl(9,i,i.return);break;case 3:rh(i);break;case 12:rh(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Zm(i)):rh(i);break;default:rh(i)}}function Zm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Zn=m,s2(m,i)}a2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:vl(8,o,o.return),Zm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Zm(o));break;default:Zm(o)}i=i.sibling}}function s2(i,o){for(;Zn!==null;){var u=Zn;switch(u.tag){case 0:case 11:case 15:vl(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:zd(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Zn=m;else e:for(u=i;Zn!==null;){m=Zn;var x=m.sibling,b=m.return;if(XA(m),m===u){Zn=null;break e}if(x!==null){x.return=b,Zn=x;break e}Zn=b}}}var eV={getCacheForType:function(i){var o=ur(In),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return ur(In).controller.signal}},tV=typeof WeakMap=="function"?WeakMap:Map,St=0,Bt=null,ct=null,dt=0,Ot=0,ra=null,bl=!1,ru=!1,vv=!1,ws=0,mn=0,wl=0,Fo=0,bv=0,aa=0,au=0,ah=null,Vr=null,wv=!1,ep=0,l2=0,tp=1/0,np=null,Nl=null,Fn=0,_l=null,iu=null,Ns=0,Nv=0,_v=null,o2=null,ih=0,jv=null;function ia(){return(St&2)!==0&&dt!==0?dt&-dt:G.T!==null?Iv():rm()}function c2(){if(aa===0)if((dt&536870912)===0||gt){var i=mo;mo<<=1,(mo&3932160)===0&&(mo=262144),aa=i}else aa=536870912;return i=ta.current,i!==null&&(i.flags|=32),aa}function zr(i,o,u){(i===Bt&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)&&(su(i,0),jl(i,dt,aa,!1)),po(i,u),((St&2)===0||i!==Bt)&&(i===Bt&&((St&2)===0&&(Fo|=u),mn===4&&jl(i,dt,aa,!1)),Li(i))}function u2(i,o,u){if((St&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Fa(i,o),x=m?aV(i,o):Sv(i,o,!0),b=m;do{if(x===0){ru&&!m&&jl(i,o,0,!1);break}else{if(u=i.current.alternate,b&&!nV(u)){x=Sv(i,o,!1),b=!1;continue}if(x===2){if(b=o,i.errorRecoveryDisabledLanes&b)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var $=i;x=ah;var K=$.current.memoizedState.isDehydrated;if(K&&(su($,O).flags|=256),O=Sv($,O,!1),O!==2){if(vv&&!K){$.errorRecoveryDisabledLanes|=b,Fo|=b,x=4;break e}b=Vr,Vr=x,b!==null&&(Vr===null?Vr=b:Vr.push.apply(Vr,b))}x=O}if(b=!1,x!==2)continue}}if(x===1){su(i,0),jl(i,o,0,!0);break}e:{switch(m=i,b=x,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:jl(m,o,aa,!bl);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(x=ep+300-Pe(),10<x)){if(jl(m,o,aa,!bl),vi(m,0,!0)!==0)break e;Ns=o,m.timeoutHandle=F2(d2.bind(null,m,u,Vr,np,wv,o,aa,Fo,au,bl,b,"Throttled",-0,0),x);break e}d2(m,u,Vr,np,wv,o,aa,Fo,au,bl,b,null,-0,0)}}break}while(!0);Li(i)}function d2(i,o,u,m,x,b,O,$,K,oe,ye,_e,ue,me){if(i.timeoutHandle=-1,_e=o.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},r2(o,b,_e);var Le=(b&62914560)===b?ep-Pe():(b&4194048)===b?l2-Pe():0;if(Le=zV(_e,Le),Le!==null){Ns=b,i.cancelPendingCommit=Le(v2.bind(null,i,o,b,u,m,x,O,$,K,ye,_e,null,ue,me)),jl(i,b,O,!oe);return}}v2(i,o,b,u,m,x,O,$,K)}function nV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var x=u[m],b=x.getSnapshot;x=x.value;try{if(!Zr(b(),x))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function jl(i,o,u,m){o&=~bv,o&=~Fo,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var x=o;0<x;){var b=31-yn(x),O=1<<b;m[b]=-1,x&=~O}u!==0&&go(i,u,o)}function rp(){return(St&6)===0?(sh(0),!1):!0}function Ev(){if(ct!==null){if(Ot===0)var i=ct.return;else i=ct,ds=Do=null,Fx(i),Xc=null,$d=0,i=ct;for(;i!==null;)$A(i.alternate,i),i=i.return;ct=null}}function su(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,NV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ns=0,Ev(),Bt=i,ct=u=cs(i.current,null),dt=o,Ot=0,ra=null,bl=!1,ru=Fa(i,o),vv=!1,au=aa=bv=Fo=wl=mn=0,Vr=ah=null,wv=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var x=31-yn(m),b=1<<x;o|=i[x],m&=~b}return ws=o,jm(),u}function h2(i,o){st=null,G.H=Xd,o===Wc||o===Dm?(o=TS(),Ot=3):o===Cx?(o=TS(),Ot=4):Ot=o===rv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ra=o,ct===null&&(mn=1,Gm(i,ba(o,i.current)))}function f2(){var i=ta.current;return i===null?!0:(dt&4194048)===dt?ja===null:(dt&62914560)===dt||(dt&536870912)!==0?i===ja:!1}function m2(){var i=G.H;return G.H=Xd,i===null?Xd:i}function p2(){var i=G.A;return G.A=eV,i}function ap(){mn=4,bl||(dt&4194048)!==dt&&ta.current!==null||(ru=!0),(wl&134217727)===0&&(Fo&134217727)===0||Bt===null||jl(Bt,dt,aa,!1)}function Sv(i,o,u){var m=St;St|=2;var x=m2(),b=p2();(Bt!==i||dt!==o)&&(np=null,su(i,o)),o=!1;var O=mn;e:do try{if(Ot!==0&&ct!==null){var $=ct,K=ra;switch(Ot){case 8:Ev(),O=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(o=!0);var oe=Ot;if(Ot=0,ra=null,lu(i,$,K,oe),u&&ru){O=0;break e}break;default:oe=Ot,Ot=0,ra=null,lu(i,$,K,oe)}}rV(),O=mn;break}catch(ye){h2(i,ye)}while(!0);return o&&i.shellSuspendCounter++,ds=Do=null,St=m,G.H=x,G.A=b,ct===null&&(Bt=null,dt=0,jm()),O}function rV(){for(;ct!==null;)g2(ct)}function aV(i,o){var u=St;St|=2;var m=m2(),x=p2();Bt!==i||dt!==o?(np=null,tp=Pe()+500,su(i,o)):ru=Fa(i,o);e:do try{if(Ot!==0&&ct!==null){o=ct;var b=ra;t:switch(Ot){case 1:Ot=0,ra=null,lu(i,o,b,1);break;case 2:case 9:if(SS(b)){Ot=0,ra=null,y2(o);break}o=function(){Ot!==2&&Ot!==9||Bt!==i||(Ot=7),Li(i)},b.then(o,o);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:SS(b)?(Ot=0,ra=null,y2(o)):(Ot=0,ra=null,lu(i,o,b,7));break;case 5:var O=null;switch(ct.tag){case 26:O=ct.memoizedState;case 5:case 27:var $=ct;if(O?nT(O):$.stateNode.complete){Ot=0,ra=null;var K=$.sibling;if(K!==null)ct=K;else{var oe=$.return;oe!==null?(ct=oe,ip(oe)):ct=null}break t}}Ot=0,ra=null,lu(i,o,b,5);break;case 6:Ot=0,ra=null,lu(i,o,b,6);break;case 8:Ev(),mn=6;break e;default:throw Error(r(462))}}iV();break}catch(ye){h2(i,ye)}while(!0);return ds=Do=null,G.H=m,G.A=x,St=u,ct!==null?0:(Bt=null,dt=0,jm(),mn)}function iV(){for(;ct!==null&&!pi();)g2(ct)}function g2(i){var o=zA(i.alternate,i,ws);i.memoizedProps=i.pendingProps,o===null?ip(i):ct=o}function y2(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=PA(u,o,o.pendingProps,o.type,void 0,dt);break;case 11:o=PA(u,o,o.pendingProps,o.type.render,o.ref,dt);break;case 5:Fx(o);default:$A(u,o),o=ct=pS(o,ws),o=zA(u,o,ws)}i.memoizedProps=i.pendingProps,o===null?ip(i):ct=o}function lu(i,o,u,m){ds=Do=null,Fx(o),Xc=null,$d=0;var x=o.return;try{if(K8(i,x,o,u,dt)){mn=1,Gm(i,ba(u,i.current)),ct=null;return}}catch(b){if(x!==null)throw ct=x,b;mn=1,Gm(i,ba(u,i.current)),ct=null;return}o.flags&32768?(gt||m===1?i=!0:ru||(dt&536870912)!==0?i=!1:(bl=i=!0,(m===2||m===9||m===3||m===6)&&(m=ta.current,m!==null&&m.tag===13&&(m.flags|=16384))),x2(o,i)):ip(o)}function ip(i){var o=i;do{if((o.flags&32768)!==0){x2(o,bl);return}i=o.return;var u=X8(o.alternate,o,ws);if(u!==null){ct=u;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=i}while(o!==null);mn===0&&(mn=5)}function x2(i,o){do{var u=Q8(i.alternate,i);if(u!==null){u.flags&=32767,ct=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){ct=i;return}ct=i=u}while(i!==null);mn=6,ct=null}function v2(i,o,u,m,x,b,O,$,K){i.cancelPendingCommit=null;do sp();while(Fn!==0);if((St&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=mx,ix(i,u,b,O,$,K),i===Bt&&(ct=Bt=null,dt=0),iu=o,_l=i,Ns=u,Nv=b,_v=x,o2=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,cV($t,function(){return j2(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,x=Y.p,Y.p=2,O=St,St|=4;try{J8(i,o,u)}finally{St=O,Y.p=x,G.T=m}}Fn=1,b2(),w2(),N2()}}function b2(){if(Fn===1){Fn=0;var i=_l,o=iu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var m=Y.p;Y.p=2;var x=St;St|=4;try{e2(o,i);var b=Uv,O=sS(i.containerInfo),$=b.focusedElem,K=b.selectionRange;if(O!==$&&$&&$.ownerDocument&&iS($.ownerDocument.documentElement,$)){if(K!==null&&cx($)){var oe=K.start,ye=K.end;if(ye===void 0&&(ye=oe),"selectionStart"in $)$.selectionStart=oe,$.selectionEnd=Math.min(ye,$.value.length);else{var _e=$.ownerDocument||document,ue=_e&&_e.defaultView||window;if(ue.getSelection){var me=ue.getSelection(),Le=$.textContent.length,Ke=Math.min(K.start,Le),Vt=K.end===void 0?Ke:Math.min(K.end,Le);!me.extend&&Ke>Vt&&(O=Vt,Vt=Ke,Ke=O);var ee=aS($,Ke),Q=aS($,Vt);if(ee&&Q&&(me.rangeCount!==1||me.anchorNode!==ee.node||me.anchorOffset!==ee.offset||me.focusNode!==Q.node||me.focusOffset!==Q.offset)){var le=_e.createRange();le.setStart(ee.node,ee.offset),me.removeAllRanges(),Ke>Vt?(me.addRange(le),me.extend(Q.node,Q.offset)):(le.setEnd(Q.node,Q.offset),me.addRange(le))}}}}for(_e=[],me=$;me=me.parentNode;)me.nodeType===1&&_e.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<_e.length;$++){var be=_e[$];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}xp=!!Lv,Uv=Lv=null}finally{St=x,Y.p=m,G.T=u}}i.current=o,Fn=2}}function w2(){if(Fn===2){Fn=0;var i=_l,o=iu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var m=Y.p;Y.p=2;var x=St;St|=4;try{WA(i,o.alternate,o)}finally{St=x,Y.p=m,G.T=u}}Fn=3}}function N2(){if(Fn===4||Fn===3){Fn=0,ne();var i=_l,o=iu,u=Ns,m=o2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fn=5:(Fn=0,iu=_l=null,_2(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&(Nl=null),is(u),o=o.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(za,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,x=Y.p,Y.p=2,G.T=null;try{for(var b=i.onRecoverableError,O=0;O<m.length;O++){var $=m[O];b($.value,{componentStack:$.stack})}}finally{G.T=o,Y.p=x}}(Ns&3)!==0&&sp(),Li(i),x=i.pendingLanes,(u&261930)!==0&&(x&42)!==0?i===jv?ih++:(ih=0,jv=i):ih=0,sh(0)}}function _2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,zd(o)))}function sp(){return b2(),w2(),N2(),j2()}function j2(){if(Fn!==5)return!1;var i=_l,o=Nv;Nv=0;var u=is(Ns),m=G.T,x=Y.p;try{Y.p=32>u?32:u,G.T=null,u=_v,_v=null;var b=_l,O=Ns;if(Fn=0,iu=_l=null,Ns=0,(St&6)!==0)throw Error(r(331));var $=St;if(St|=4,i2(b.current),n2(b,b.current,O,u),St=$,sh(0,!1),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(za,b)}catch{}return!0}finally{Y.p=x,G.T=m,_2(i,o)}}function E2(i,o,u){o=ba(u,o),o=nv(i.stateNode,o,2),i=gl(i,o,2),i!==null&&(po(i,2),Li(i))}function Dt(i,o,u){if(i.tag===3)E2(i,i,u);else for(;o!==null;){if(o.tag===3){E2(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Nl===null||!Nl.has(m))){i=ba(u,i),u=SA(2),m=gl(o,u,2),m!==null&&(AA(u,m,o,i),po(m,2),Li(m));break}}o=o.return}}function Av(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new tV;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(u)||(vv=!0,x.add(u),i=sV.bind(null,i,o,u),o.then(i,i))}function sV(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Bt===i&&(dt&u)===u&&(mn===4||mn===3&&(dt&62914560)===dt&&300>Pe()-ep?(St&2)===0&&su(i,0):bv|=u,au===dt&&(au=0)),Li(i)}function S2(i,o){o===0&&(o=nm()),i=Co(i,o),i!==null&&(po(i,o),Li(i))}function lV(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),S2(i,u)}function oV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),S2(i,u)}function cV(i,o){return Je(i,o)}var lp=null,ou=null,Tv=!1,op=!1,Cv=!1,El=0;function Li(i){i!==ou&&i.next===null&&(ou===null?lp=ou=i:ou=ou.next=i),op=!0,Tv||(Tv=!0,dV())}function sh(i,o){if(!Cv&&op){Cv=!0;do for(var u=!1,m=lp;m!==null;){if(i!==0){var x=m.pendingLanes;if(x===0)var b=0;else{var O=m.suspendedLanes,$=m.pingedLanes;b=(1<<31-yn(42|i)+1)-1,b&=x&~(O&~$),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,I2(m,b))}else b=dt,b=vi(m,m===Bt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Fa(m,b)||(u=!0,I2(m,b));m=m.next}while(u);Cv=!1}}function uV(){A2()}function A2(){op=Tv=!1;var i=0;El!==0&&wV()&&(i=El);for(var o=Pe(),u=null,m=lp;m!==null;){var x=m.next,b=T2(m,o);b===0?(m.next=null,u===null?lp=x:u.next=x,x===null&&(ou=u)):(u=m,(i!==0||(b&3)!==0)&&(op=!0)),m=x}Fn!==0&&Fn!==5||sh(i),El!==0&&(El=0)}function T2(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var O=31-yn(b),$=1<<O,K=x[O];K===-1?(($&u)===0||($&m)!==0)&&(x[O]=ax($,o)):K<=o&&(i.expiredLanes|=$),b&=~$}if(o=Bt,u=dt,u=vi(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&kt(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Fa(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&kt(m),is(u)){case 2:case 8:u=Ht;break;case 32:u=$t;break;case 268435456:u=Va;break;default:u=$t}return m=C2.bind(null,i),u=Je(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&kt(m),i.callbackPriority=2,i.callbackNode=null,2}function C2(i,o){if(Fn!==0&&Fn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(sp()&&i.callbackNode!==u)return null;var m=dt;return m=vi(i,i===Bt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(u2(i,m,o),T2(i,Pe()),i.callbackNode!=null&&i.callbackNode===u?C2.bind(null,i):null)}function I2(i,o){if(sp())return null;u2(i,o,!0)}function dV(){_V(function(){(St&6)!==0?Je(Fe,uV):A2()})}function Iv(){if(El===0){var i=Kc;i===0&&(i=yi,yi<<=1,(yi&261888)===0&&(yi=256)),El=i}return El}function O2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Dc(""+i)}function D2(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function hV(i,o,u,m,x){if(o==="submit"&&u&&u.stateNode===x){var b=O2((x[Qn]||null).action),O=m.submitter;O&&(o=(o=O[Qn]||null)?O2(o.formAction):O.getAttribute("formAction"),o!==null&&(b=o,O=null));var $=new Ii("action","action",null,m,x);i.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(El!==0){var K=O?D2(x,O):new FormData(x);Xx(u,{pending:!0,data:K,method:x.method,action:b},null,K)}}else typeof b=="function"&&($.preventDefault(),K=O?D2(x,O):new FormData(x),Xx(u,{pending:!0,data:K,method:x.method,action:b},b,K))},currentTarget:x}]})}}for(var Ov=0;Ov<fx.length;Ov++){var Dv=fx[Ov],fV=Dv.toLowerCase(),mV=Dv[0].toUpperCase()+Dv.slice(1);Wa(fV,"on"+mV)}Wa(cS,"onAnimationEnd"),Wa(uS,"onAnimationIteration"),Wa(dS,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(I8,"onTransitionRun"),Wa(O8,"onTransitionStart"),Wa(D8,"onTransitionCancel"),Wa(hS,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lh));function R2(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],x=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var O=m.length-1;0<=O;O--){var $=m[O],K=$.instance,oe=$.currentTarget;if($=$.listener,K!==b&&x.isPropagationStopped())break e;b=$,x.currentTarget=oe;try{b(x)}catch(ye){_m(ye)}x.currentTarget=null,b=K}else for(O=0;O<m.length;O++){if($=m[O],K=$.instance,oe=$.currentTarget,$=$.listener,K!==b&&x.isPropagationStopped())break e;b=$,x.currentTarget=oe;try{b(x)}catch(ye){_m(ye)}x.currentTarget=null,b=K}}}}function ut(i,o){var u=o[Ac];u===void 0&&(u=o[Ac]=new Set);var m=i+"__bubble";u.has(m)||(P2(o,i,2,!1),u.add(m))}function Rv(i,o,u){var m=0;o&&(m|=4),P2(u,i,m,o)}var cp="_reactListening"+Math.random().toString(36).slice(2);function Pv(i){if(!i[cp]){i[cp]=!0,vd.forEach(function(u){u!=="selectionchange"&&(pV.has(u)||Rv(u,!1,i),Rv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[cp]||(o[cp]=!0,Rv("selectionchange",!1,o))}}function P2(i,o,u,m){switch(cT(o)){case 2:var x=BV;break;case 8:x=qV;break;default:x=Wv}u=x.bind(null,o,u,i),x=void 0,!wo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(o,u,{capture:!0,passive:x}):i.addEventListener(o,u,!0):x!==void 0?i.addEventListener(o,u,{passive:x}):i.addEventListener(o,u,!1)}function kv(i,o,u,m,x){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var $=m.stateNode.containerInfo;if($===x)break;if(O===4)for(O=m.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===x)return;O=O.return}for(;$!==null;){if(O=_i($),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){m=b=O;continue e}$=$.parentNode}}m=m.return}sl(function(){var oe=b,ye=ga(u),_e=[];e:{var ue=fS.get(i);if(ue!==void 0){var me=Ii,Le=i;switch(i){case"keypress":if(_o(u)===0)break e;case"keydown":case"keyup":me=bm;break;case"focusin":Le="focus",me=Eo;break;case"focusout":Le="blur",me=Eo;break;case"beforeblur":case"afterblur":me=Eo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=S;break;case cS:case uS:case dS:me=fm;break;case hS:me=q;break;case"scroll":case"scrollend":me=Od;break;case"wheel":me=fe;break;case"copy":case"cut":case"paste":me=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=os;break;case"toggle":case"beforetoggle":me=it}var Ke=(o&4)!==0,Vt=!Ke&&(i==="scroll"||i==="scrollend"),ee=Ke?ue!==null?ue+"Capture":null:ue;Ke=[];for(var Q=oe,le;Q!==null;){var be=Q;if(le=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||le===null||ee===null||(be=Ha(Q,ee),be!=null&&Ke.push(oh(Q,be,le))),Vt)break;Q=Q.return}0<Ke.length&&(ue=new me(ue,Le,null,u,ye),_e.push({event:ue,listeners:Ke}))}}if((o&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",ue&&u!==Td&&(Le=u.relatedTarget||u.fromElement)&&(_i(Le)||Le[wi]))break e;if((me||ue)&&(ue=ye.window===ye?ye:(ue=ye.ownerDocument)?ue.defaultView||ue.parentWindow:window,me?(Le=u.relatedTarget||u.toElement,me=oe,Le=Le?_i(Le):null,Le!==null&&(Vt=l(Le),Ke=Le.tag,Le!==Vt||Ke!==5&&Ke!==27&&Ke!==6)&&(Le=null)):(me=null,Le=oe),me!==Le)){if(Ke=Dd,be="onMouseLeave",ee="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ke=os,be="onPointerLeave",ee="onPointerEnter",Q="pointer"),Vt=me==null?ue:Qr(me),le=Le==null?ue:Qr(Le),ue=new Ke(be,Q+"leave",me,u,ye),ue.target=Vt,ue.relatedTarget=le,be=null,_i(ye)===oe&&(Ke=new Ke(ee,Q+"enter",Le,u,ye),Ke.target=le,Ke.relatedTarget=Vt,be=Ke),Vt=be,me&&Le)t:{for(Ke=gV,ee=me,Q=Le,le=0,be=ee;be;be=Ke(be))le++;be=0;for(var He=Q;He;He=Ke(He))be++;for(;0<le-be;)ee=Ke(ee),le--;for(;0<be-le;)Q=Ke(Q),be--;for(;le--;){if(ee===Q||Q!==null&&ee===Q.alternate){Ke=ee;break t}ee=Ke(ee),Q=Ke(Q)}Ke=null}else Ke=null;me!==null&&k2(_e,ue,me,Ke,!1),Le!==null&&Vt!==null&&k2(_e,Vt,Le,Ke,!0)}}e:{if(ue=oe?Qr(oe):window,me=ue.nodeName&&ue.nodeName.toLowerCase(),me==="select"||me==="input"&&ue.type==="file")var wt=JE;else if(XE(ue))if(ZE)wt=A8;else{wt=E8;var Ve=j8}else me=ue.nodeName,!me||me.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?oe&&Oc(oe.elementType)&&(wt=JE):wt=S8;if(wt&&(wt=wt(i,oe))){QE(_e,wt,u,ye);break e}Ve&&Ve(i,ue,oe),i==="focusout"&&oe&&ue.type==="number"&&oe.memoizedProps.value!=null&&Ed(ue,"number",ue.value)}switch(Ve=oe?Qr(oe):window,i){case"focusin":(XE(Ve)||Ve.contentEditable==="true")&&(Vc=Ve,ux=oe,Ld=null);break;case"focusout":Ld=ux=Vc=null;break;case"mousedown":dx=!0;break;case"contextmenu":case"mouseup":case"dragend":dx=!1,lS(_e,u,ye);break;case"selectionchange":if(C8)break;case"keydown":case"keyup":lS(_e,u,ye)}var lt;if(Et)e:{switch(i){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Uc?So(i,u)&&(ht="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ht="onCompositionStart");ht&&(Ri&&u.locale!=="ko"&&(Uc||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Uc&&(lt=Id()):(Ci=ye,Cd="value"in Ci?Ci.value:Ci.textContent,Uc=!0)),Ve=up(oe,ht),0<Ve.length&&(ht=new Di(ht,i,null,u,ye),_e.push({event:ht,listeners:Ve}),lt?ht.data=lt:(lt=Lc(u),lt!==null&&(ht.data=lt)))),(lt=xa?b8(i,u):w8(i,u))&&(ht=up(oe,"onBeforeInput"),0<ht.length&&(Ve=new Di("onBeforeInput","beforeinput",null,u,ye),_e.push({event:Ve,listeners:ht}),Ve.data=lt)),hV(_e,i,oe,u,ye)}R2(_e,o)})}function oh(i,o,u){return{instance:i,listener:o,currentTarget:u}}function up(i,o){for(var u=o+"Capture",m=[];i!==null;){var x=i,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=Ha(i,u),x!=null&&m.unshift(oh(i,x,b)),x=Ha(i,o),x!=null&&m.push(oh(i,x,b))),i.tag===3)return m;i=i.return}return[]}function gV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function k2(i,o,u,m,x){for(var b=o._reactName,O=[];u!==null&&u!==m;){var $=u,K=$.alternate,oe=$.stateNode;if($=$.tag,K!==null&&K===m)break;$!==5&&$!==26&&$!==27||oe===null||(K=oe,x?(oe=Ha(u,b),oe!=null&&O.unshift(oh(u,oe,K))):x||(oe=Ha(u,b),oe!=null&&O.push(oh(u,oe,K)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var yV=/\r\n?/g,xV=/\u0000|\uFFFD/g;function M2(i){return(typeof i=="string"?i:""+i).replace(yV,`
`).replace(xV,"")}function L2(i,o){return o=M2(o),M2(i)===o}function Ut(i,o,u,m,x,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||kr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&kr(i,""+m);break;case"className":Jr(i,"class",m);break;case"tabIndex":Jr(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(i,u,m);break;case"style":Ad(i,m,b);break;case"data":if(o!=="object"){Jr(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Dc(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&Ut(i,o,"name",x.name,x,null),Ut(i,o,"formEncType",x.formEncType,x,null),Ut(i,o,"formMethod",x.formMethod,x,null),Ut(i,o,"formTarget",x.formTarget,x,null)):(Ut(i,o,"encType",x.encType,x,null),Ut(i,o,"method",x.method,x,null),Ut(i,o,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Dc(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=qa);break;case"onScroll":m!=null&&ut("scroll",i);break;case"onScrollEnd":m!=null&&ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Dc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":ut("beforetoggle",i),ut("toggle",i),Cc(i,"popover",m);break;case"xlinkActuate":Cn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Cn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Cn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Cn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Cn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Cn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Cn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Cc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=um.get(u)||u,Cc(i,u,m))}}function Mv(i,o,u,m,x,b){switch(u){case"style":Ad(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(x.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?kr(i,m):(typeof m=="number"||typeof m=="bigint")&&kr(i,""+m);break;case"onScroll":m!=null&&ut("scroll",i);break;case"onScrollEnd":m!=null&&ut("scrollend",i);break;case"onClick":m!=null&&(i.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(x=u.endsWith("Capture"),o=u.slice(2,x?u.length-7:void 0),b=i[Qn]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(o,b,x),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,x);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Cc(i,u,m)}}}function hr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",i),ut("load",i);var m=!1,x=!1,b;for(b in u)if(u.hasOwnProperty(b)){var O=u[b];if(O!=null)switch(b){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ut(i,o,b,O,u,null)}}x&&Ut(i,o,"srcSet",u.srcSet,u,null),m&&Ut(i,o,"src",u.src,u,null);return;case"input":ut("invalid",i);var $=b=O=x=null,K=null,oe=null;for(m in u)if(u.hasOwnProperty(m)){var ye=u[m];if(ye!=null)switch(m){case"name":x=ye;break;case"type":O=ye;break;case"checked":K=ye;break;case"defaultChecked":oe=ye;break;case"value":b=ye;break;case"defaultValue":$=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:Ut(i,o,m,ye,u,null)}}lm(i,b,$,K,oe,O,x,!1);return;case"select":ut("invalid",i),m=O=b=null;for(x in u)if(u.hasOwnProperty(x)&&($=u[x],$!=null))switch(x){case"value":b=$;break;case"defaultValue":O=$;break;case"multiple":m=$;default:Ut(i,o,x,$,u,null)}o=b,u=O,i.multiple=!!m,o!=null?nl(i,!!m,o,!1):u!=null&&nl(i,!!m,u,!0);return;case"textarea":ut("invalid",i),b=x=m=null;for(O in u)if(u.hasOwnProperty(O)&&($=u[O],$!=null))switch(O){case"value":m=$;break;case"defaultValue":x=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Ut(i,o,O,$,u,null)}rl(i,m,x,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(m=u[K],m!=null))switch(K){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ut(i,o,K,m,u,null)}return;case"dialog":ut("beforetoggle",i),ut("toggle",i),ut("cancel",i),ut("close",i);break;case"iframe":case"object":ut("load",i);break;case"video":case"audio":for(m=0;m<lh.length;m++)ut(lh[m],i);break;case"image":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"embed":case"source":case"link":ut("error",i),ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in u)if(u.hasOwnProperty(oe)&&(m=u[oe],m!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ut(i,o,oe,m,u,null)}return;default:if(Oc(o)){for(ye in u)u.hasOwnProperty(ye)&&(m=u[ye],m!==void 0&&Mv(i,o,ye,m,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(m=u[$],m!=null&&Ut(i,o,$,m,u,null))}function vV(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,O=null,$=null,K=null,oe=null,ye=null;for(me in u){var _e=u[me];if(u.hasOwnProperty(me)&&_e!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":K=_e;default:m.hasOwnProperty(me)||Ut(i,o,me,null,m,_e)}}for(var ue in m){var me=m[ue];if(_e=u[ue],m.hasOwnProperty(ue)&&(me!=null||_e!=null))switch(ue){case"type":b=me;break;case"name":x=me;break;case"checked":oe=me;break;case"defaultChecked":ye=me;break;case"value":O=me;break;case"defaultValue":$=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:me!==_e&&Ut(i,o,ue,me,m,_e)}}Ic(i,O,$,K,oe,ye,b,x);return;case"select":me=O=$=ue=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":me=K;default:m.hasOwnProperty(b)||Ut(i,o,b,null,m,K)}for(x in m)if(b=m[x],K=u[x],m.hasOwnProperty(x)&&(b!=null||K!=null))switch(x){case"value":ue=b;break;case"defaultValue":$=b;break;case"multiple":O=b;default:b!==K&&Ut(i,o,x,b,m,K)}o=$,u=O,m=me,ue!=null?nl(i,!!u,ue,!1):!!m!=!!u&&(o!=null?nl(i,!!u,o,!0):nl(i,!!u,u?[]:"",!1));return;case"textarea":me=ue=null;for($ in u)if(x=u[$],u.hasOwnProperty($)&&x!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Ut(i,o,$,null,m,x)}for(O in m)if(x=m[O],b=u[O],m.hasOwnProperty(O)&&(x!=null||b!=null))switch(O){case"value":ue=x;break;case"defaultValue":me=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==b&&Ut(i,o,O,x,m,b)}om(i,ue,me);return;case"option":for(var Le in u)if(ue=u[Le],u.hasOwnProperty(Le)&&ue!=null&&!m.hasOwnProperty(Le))switch(Le){case"selected":i.selected=!1;break;default:Ut(i,o,Le,null,m,ue)}for(K in m)if(ue=m[K],me=u[K],m.hasOwnProperty(K)&&ue!==me&&(ue!=null||me!=null))switch(K){case"selected":i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Ut(i,o,K,ue,m,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in u)ue=u[Ke],u.hasOwnProperty(Ke)&&ue!=null&&!m.hasOwnProperty(Ke)&&Ut(i,o,Ke,null,m,ue);for(oe in m)if(ue=m[oe],me=u[oe],m.hasOwnProperty(oe)&&ue!==me&&(ue!=null||me!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:Ut(i,o,oe,ue,m,me)}return;default:if(Oc(o)){for(var Vt in u)ue=u[Vt],u.hasOwnProperty(Vt)&&ue!==void 0&&!m.hasOwnProperty(Vt)&&Mv(i,o,Vt,void 0,m,ue);for(ye in m)ue=m[ye],me=u[ye],!m.hasOwnProperty(ye)||ue===me||ue===void 0&&me===void 0||Mv(i,o,ye,ue,m,me);return}}for(var ee in u)ue=u[ee],u.hasOwnProperty(ee)&&ue!=null&&!m.hasOwnProperty(ee)&&Ut(i,o,ee,null,m,ue);for(_e in m)ue=m[_e],me=u[_e],!m.hasOwnProperty(_e)||ue===me||ue==null&&me==null||Ut(i,o,_e,ue,m,me)}function U2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var x=u[m],b=x.transferSize,O=x.initiatorType,$=x.duration;if(b&&$&&U2(O)){for(O=0,$=x.responseEnd,m+=1;m<u.length;m++){var K=u[m],oe=K.startTime;if(oe>$)break;var ye=K.transferSize,_e=K.initiatorType;ye&&U2(_e)&&(K=K.responseEnd,O+=ye*(K<$?1:($-oe)/(K-oe)))}if(--m,o+=8*(b+O)/(x.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lv=null,Uv=null;function dp(i){return i.nodeType===9?i:i.ownerDocument}function V2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Vv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var zv=null;function wV(){var i=window.event;return i&&i.type==="popstate"?i===zv?!1:(zv=i,!0):(zv=null,!1)}var F2=typeof setTimeout=="function"?setTimeout:void 0,NV=typeof clearTimeout=="function"?clearTimeout:void 0,$2=typeof Promise=="function"?Promise:void 0,_V=typeof queueMicrotask=="function"?queueMicrotask:typeof $2<"u"?function(i){return $2.resolve(null).then(i).catch(jV)}:F2;function jV(i){setTimeout(function(){throw i})}function Sl(i){return i==="head"}function B2(i,o){var u=o,m=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(x),hu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")ch(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,ch(u);for(var b=u.firstChild;b;){var O=b.nextSibling,$=b.nodeName;b[Ni]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=O}}else u==="body"&&ch(i.ownerDocument.body);u=x}while(u);hu(o)}function q2(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Fv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Fv(u),Tc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function EV(i,o,u,m){for(;i.nodeType===1;){var x=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Ni])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ea(i.nextSibling),i===null)break}return null}function SV(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ea(i.nextSibling),i===null))return null;return i}function H2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ea(i.nextSibling),i===null))return null;return i}function $v(i){return i.data==="$?"||i.data==="$~"}function Bv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function AV(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ea(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var qv=null;function G2(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return Ea(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function K2(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function Y2(i,o,u){switch(o=dp(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ch(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Tc(i)}var Sa=new Map,W2=new Set;function hp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _s=Y.d;Y.d={f:TV,r:CV,D:IV,C:OV,L:DV,m:RV,X:kV,S:PV,M:MV};function TV(){var i=_s.f(),o=rp();return i||o}function CV(i){var o=pa(i);o!==null&&o.tag===5&&o.type==="form"?hA(o):_s.r(i)}var cu=typeof document>"u"?null:document;function X2(i,o,u){var m=cu;if(m&&typeof o=="string"&&o){var x=Pr(o);x='link[rel="'+i+'"][href="'+x+'"]',typeof u=="string"&&(x+='[crossorigin="'+u+'"]'),W2.has(x)||(W2.add(x),i={rel:i,crossOrigin:u,href:o},m.querySelector(x)===null&&(o=m.createElement("link"),hr(o,"link",i),Tn(o),m.head.appendChild(o)))}}function IV(i){_s.D(i),X2("dns-prefetch",i,null)}function OV(i,o){_s.C(i,o),X2("preconnect",i,o)}function DV(i,o,u){_s.L(i,o,u);var m=cu;if(m&&i&&o){var x='link[rel="preload"][as="'+Pr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(x+='[imagesrcset="'+Pr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(x+='[imagesizes="'+Pr(u.imageSizes)+'"]')):x+='[href="'+Pr(i)+'"]';var b=x;switch(o){case"style":b=uu(i);break;case"script":b=du(i)}Sa.has(b)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Sa.set(b,i),m.querySelector(x)!==null||o==="style"&&m.querySelector(uh(b))||o==="script"&&m.querySelector(dh(b))||(o=m.createElement("link"),hr(o,"link",i),Tn(o),m.head.appendChild(o)))}}function RV(i,o){_s.m(i,o);var u=cu;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",x='link[rel="modulepreload"][as="'+Pr(m)+'"][href="'+Pr(i)+'"]',b=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=du(i)}if(!Sa.has(b)&&(i=g({rel:"modulepreload",href:i},o),Sa.set(b,i),u.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(dh(b)))return}m=u.createElement("link"),hr(m,"link",i),Tn(m),u.head.appendChild(m)}}}function PV(i,o,u){_s.S(i,o,u);var m=cu;if(m&&i){var x=ji(m).hoistableStyles,b=uu(i);o=o||"default";var O=x.get(b);if(!O){var $={loading:0,preload:null};if(O=m.querySelector(uh(b)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Sa.get(b))&&Hv(i,u);var K=O=m.createElement("link");Tn(K),hr(K,"link",i),K._p=new Promise(function(oe,ye){K.onload=oe,K.onerror=ye}),K.addEventListener("load",function(){$.loading|=1}),K.addEventListener("error",function(){$.loading|=2}),$.loading|=4,fp(O,o,m)}O={type:"stylesheet",instance:O,count:1,state:$},x.set(b,O)}}}function kV(i,o){_s.X(i,o);var u=cu;if(u&&i){var m=ji(u).hoistableScripts,x=du(i),b=m.get(x);b||(b=u.querySelector(dh(x)),b||(i=g({src:i,async:!0},o),(o=Sa.get(x))&&Gv(i,o),b=u.createElement("script"),Tn(b),hr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(x,b))}}function MV(i,o){_s.M(i,o);var u=cu;if(u&&i){var m=ji(u).hoistableScripts,x=du(i),b=m.get(x);b||(b=u.querySelector(dh(x)),b||(i=g({src:i,async:!0,type:"module"},o),(o=Sa.get(x))&&Gv(i,o),b=u.createElement("script"),Tn(b),hr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(x,b))}}function Q2(i,o,u,m){var x=(x=Ee.current)?hp(x):null;if(!x)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=uu(u.href),u=ji(x).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=uu(u.href);var b=ji(x).hoistableStyles,O=b.get(i);if(O||(x=x.ownerDocument||x,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,O),(b=x.querySelector(uh(i)))&&!b._p&&(O.instance=b,O.state.loading=5),Sa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Sa.set(i,u),b||LV(x,i,u,O.state))),o&&m===null)throw Error(r(528,""));return O}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=du(u),u=ji(x).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function uu(i){return'href="'+Pr(i)+'"'}function uh(i){return'link[rel="stylesheet"]['+i+"]"}function J2(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function LV(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),hr(o,"link",u),Tn(o),i.head.appendChild(o))}function du(i){return'[src="'+Pr(i)+'"]'}function dh(i){return"script[async]"+i}function Z2(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Pr(u.href)+'"]');if(m)return o.instance=m,Tn(m),m;var x=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Tn(m),hr(m,"style",x),fp(m,u.precedence,i),o.instance=m;case"stylesheet":x=uu(u.href);var b=i.querySelector(uh(x));if(b)return o.state.loading|=4,o.instance=b,Tn(b),b;m=J2(u),(x=Sa.get(x))&&Hv(m,x),b=(i.ownerDocument||i).createElement("link"),Tn(b);var O=b;return O._p=new Promise(function($,K){O.onload=$,O.onerror=K}),hr(b,"link",m),o.state.loading|=4,fp(b,u.precedence,i),o.instance=b;case"script":return b=du(u.src),(x=i.querySelector(dh(b)))?(o.instance=x,Tn(x),x):(m=u,(x=Sa.get(b))&&(m=g({},u),Gv(m,x)),i=i.ownerDocument||i,x=i.createElement("script"),Tn(x),hr(x,"link",m),i.head.appendChild(x),o.instance=x);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,fp(m,u.precedence,i));return o.instance}function fp(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,b=x,O=0;O<m.length;O++){var $=m[O];if($.dataset.precedence===o)b=$;else if(b!==x)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Hv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Gv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var mp=null;function eT(i,o,u){if(mp===null){var m=new Map,x=mp=new Map;x.set(u,m)}else x=mp,m=x.get(u),m||(m=new Map,x.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),x=0;x<u.length;x++){var b=u[x];if(!(b[Ni]||b[An]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(o)||"";O=i+O;var $=m.get(O);$?$.push(b):m.set(O,[b])}}return m}function tT(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function UV(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function nT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function VV(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var x=uu(m.href),b=o.querySelector(uh(x));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=pp.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=b,Tn(b);return}b=o.ownerDocument||o,m=J2(m),(x=Sa.get(x))&&Hv(m,x),b=b.createElement("link"),Tn(b);var O=b;O._p=new Promise(function($,K){O.onload=$,O.onerror=K}),hr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=pp.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Kv=0;function zV(i,o){return i.stylesheets&&i.count===0&&yp(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&yp(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&Kv===0&&(Kv=62500*bV());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&yp(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Kv?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function pp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gp=null;function yp(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gp=new Map,o.forEach(FV,i),gp=null,pp.call(i))}function FV(i,o){if(!(o.state.loading&4)){var u=gp.get(i);if(u)var m=u.get(null);else{u=new Map,gp.set(i,u);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var O=x[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),m=O)}m&&u.set(null,m)}x=o.instance,O=x.getAttribute("data-precedence"),b=u.get(O)||m,b===m&&u.set(null,x),u.set(O,x),this.count++,m=pp.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),b?b.parentNode.insertBefore(x,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),o.state.loading|=4}}var hh={$$typeof:M,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function $V(i,o,u,m,x,b,O,$,K){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function rT(i,o,u,m,x,b,O,$,K,oe,ye,_e){return i=new $V(i,o,u,O,K,oe,ye,_e,$),o=1,b===!0&&(o|=24),b=ea(3,null,null,o),i.current=b,b.stateNode=i,o=Sx(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Ix(b),i}function aT(i){return i?(i=$c,i):$c}function iT(i,o,u,m,x,b){x=aT(x),m.context===null?m.context=x:m.pendingContext=x,m=pl(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=gl(i,m,o),u!==null&&(zr(u,i,o),qd(u,i,o))}function sT(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Yv(i,o){sT(i,o),(i=i.alternate)&&sT(i,o)}function lT(i){if(i.tag===13||i.tag===31){var o=Co(i,67108864);o!==null&&zr(o,i,67108864),Yv(i,67108864)}}function oT(i){if(i.tag===13||i.tag===31){var o=ia();o=yo(o);var u=Co(i,o);u!==null&&zr(u,i,o),Yv(i,o)}}var xp=!0;function BV(i,o,u,m){var x=G.T;G.T=null;var b=Y.p;try{Y.p=2,Wv(i,o,u,m)}finally{Y.p=b,G.T=x}}function qV(i,o,u,m){var x=G.T;G.T=null;var b=Y.p;try{Y.p=8,Wv(i,o,u,m)}finally{Y.p=b,G.T=x}}function Wv(i,o,u,m){if(xp){var x=Xv(m);if(x===null)kv(i,o,m,vp,u),uT(i,m);else if(GV(x,i,o,u,m))m.stopPropagation();else if(uT(i,m),o&4&&-1<HV.indexOf(i)){for(;x!==null;){var b=pa(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=xi(b.pendingLanes);if(O!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;O;){var K=1<<31-yn(O);$.entanglements[1]|=K,O&=~K}Li(b),(St&6)===0&&(tp=Pe()+500,sh(0))}}break;case 31:case 13:$=Co(b,2),$!==null&&zr($,b,2),rp(),Yv(b,2)}if(b=Xv(m),b===null&&kv(i,o,m,vp,u),b===x)break;x=b}x!==null&&m.stopPropagation()}else kv(i,o,m,null,u)}}function Xv(i){return i=ga(i),Qv(i)}var vp=null;function Qv(i){if(vp=null,i=_i(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===31){if(i=d(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return vp=i,null}function cT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case Fe:return 2;case Ht:return 8;case $t:case gi:return 32;case Va:return 268435456;default:return 32}default:return 32}}var Jv=!1,Al=null,Tl=null,Cl=null,fh=new Map,mh=new Map,Il=[],HV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uT(i,o){switch(i){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":fh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(o.pointerId)}}function ph(i,o,u,m,x,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[x]},o!==null&&(o=pa(o),o!==null&&lT(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function GV(i,o,u,m,x){switch(o){case"focusin":return Al=ph(Al,i,o,u,m,x),!0;case"dragenter":return Tl=ph(Tl,i,o,u,m,x),!0;case"mouseover":return Cl=ph(Cl,i,o,u,m,x),!0;case"pointerover":var b=x.pointerId;return fh.set(b,ph(fh.get(b)||null,i,o,u,m,x)),!0;case"gotpointercapture":return b=x.pointerId,mh.set(b,ph(mh.get(b)||null,i,o,u,m,x)),!0}return!1}function dT(i){var o=_i(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,$a(i.priority,function(){oT(u)});return}}else if(o===31){if(o=d(u),o!==null){i.blockedOn=o,$a(i.priority,function(){oT(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Xv(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Td=m,u.target.dispatchEvent(m),Td=null}else return o=pa(u),o!==null&&lT(o),i.blockedOn=u,!1;o.shift()}return!0}function hT(i,o,u){bp(i)&&u.delete(o)}function KV(){Jv=!1,Al!==null&&bp(Al)&&(Al=null),Tl!==null&&bp(Tl)&&(Tl=null),Cl!==null&&bp(Cl)&&(Cl=null),fh.forEach(hT),mh.forEach(hT)}function wp(i,o){i.blockedOn===o&&(i.blockedOn=null,Jv||(Jv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KV)))}var Np=null;function fT(i){Np!==i&&(Np=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Np===i&&(Np=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],x=i[o+2];if(typeof m!="function"){if(Qv(m||u)===null)continue;break}var b=pa(u);b!==null&&(i.splice(o,3),o-=3,Xx(b,{pending:!0,data:x,method:u.method,action:m},m,x))}}))}function hu(i){function o(K){return wp(K,i)}Al!==null&&wp(Al,i),Tl!==null&&wp(Tl,i),Cl!==null&&wp(Cl,i),fh.forEach(o),mh.forEach(o);for(var u=0;u<Il.length;u++){var m=Il[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Il.length&&(u=Il[0],u.blockedOn===null);)dT(u),u.blockedOn===null&&Il.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var x=u[m],b=u[m+1],O=x[Qn]||null;if(typeof b=="function")O||fT(u);else if(O){var $=null;if(b&&b.hasAttribute("formAction")){if(x=b,O=b[Qn]||null)$=O.formAction;else if(Qv(x)!==null)continue}else $=O.action;typeof $=="function"?u[m+1]=$:(u.splice(m,3),m-=3),fT(u)}}}function mT(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(O){return x=O})},focusReset:"manual",scroll:"manual"})}function o(){x!==null&&(x(),x=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),x!==null&&(x(),x=null)}}}function Zv(i){this._internalRoot=i}_p.prototype.render=Zv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=ia();iT(u,m,i,o,null,null)},_p.prototype.unmount=Zv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;iT(i.current,2,null,i,null,null),rp(),o[wi]=null}};function _p(i){this._internalRoot=i}_p.prototype.unstable_scheduleHydration=function(i){if(i){var o=rm();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Il.length&&o!==0&&o<Il[u].priority;u++);Il.splice(u,0,i),u===0&&dT(i)}};var pT=e.version;if(pT!=="19.2.0")throw Error(r(527,pT,"19.2.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var YV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{za=jp.inject(YV),lr=jp}catch{}}return yh.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,m="",x=NA,b=_A,O=jA;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=rT(i,1,!1,null,null,u,m,null,x,b,O,mT),i[wi]=o.current,Pv(i),new Zv(o)},yh.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var m=!1,x="",b=NA,O=_A,$=jA,K=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=rT(i,1,!0,o,u??null,m,x,K,b,O,$,mT),o.context=aT(null),u=o.current,m=ia(),m=yo(m),x=pl(m),x.callback=null,gl(u,x,m),u=m,o.current.lanes=u,po(o,u),Li(o),i[wi]=o.current,Pv(i),new _p(o)},yh.version="19.2.0",yh}var ET;function l7(){if(ET)return rb.exports;ET=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rb.exports=s7(),rb.exports}var o7=l7();const c7=ts(o7);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ST="popstate";function u7(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:h=""}=gc(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),o1("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=a.location.href,f=h.indexOf("#");d=f===-1?h:h.slice(0,f)}return d+"#"+(typeof l=="string"?l:zh(l))}function r(a,l){ha(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return h7(e,n,r,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ha(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d7(){return Math.random().toString(36).substring(2,10)}function AT(t,e){return{usr:t.state,key:t.key,idx:e}}function o1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gc(e):e,state:n,key:e&&e.key||r||d7()}}function zh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function h7(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let E=p(),I=E==null?null:E-f;f=E,h&&h({action:d,location:j.location,delta:I})}function v(E,I){d="PUSH";let R=o1(j.location,E,I);n&&n(R,E),f=p()+1;let M=AT(R,f),T=j.createHref(R);try{c.pushState(M,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(T)}l&&h&&h({action:d,location:j.location,delta:1})}function N(E,I){d="REPLACE";let R=o1(j.location,E,I);n&&n(R,E),f=p();let M=AT(R,f),T=j.createHref(R);c.replaceState(M,"",T),l&&h&&h({action:d,location:j.location,delta:0})}function _(E){return f7(E)}let j={get action(){return d},get location(){return t(a,c)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(ST,g),h=E,()=>{a.removeEventListener(ST,g),h=null}},createHref(E){return e(a,E)},createURL:_,encodeLocation(E){let I=_(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:N,go(E){return c.go(E)}};return j}function f7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:zh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qR(t,e,n="/"){return m7(t,e,n,!1)}function m7(t,e,n,r){let a=typeof e=="string"?gc(e):e,l=ks(a.pathname||"/",n);if(l==null)return null;let c=HR(t);p7(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=S7(l);d=j7(c[h],f,r)}return d}function HR(t,e=[],n=[],r="",a=!1){let l=(c,d,h=a,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;sn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Os([r,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(sn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),HR(c.children,e,v,g,h)),!(c.path==null&&!c.index)&&e.push({path:g,score:N7(g,c.index),routesMeta:v})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let f of GR(c.path))l(c,d,!0,f)}),e}function GR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=GR(r.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function p7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var g7=/^:[\w-]+$/,y7=3,x7=2,v7=1,b7=10,w7=-2,TT=t=>t==="*";function N7(t,e){let n=t.split("/"),r=n.length;return n.some(TT)&&(r+=w7),e&&(r+=x7),n.filter(a=>!TT(a)).reduce((a,l)=>a+(g7.test(l)?y7:l===""?v7:b7),r)}function _7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function j7(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",g=xg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=xg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Os([l,g.pathname]),pathnameBase:O7(Os([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=Os([l,g.pathnameBase]))}return c}function xg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E7(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let _=d[v]||"";c=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const N=d[v];return g&&!N?f[p]=void 0:f[p]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function E7(t,e=!1,n=!0){ha(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function S7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ha(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var A7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T7=t=>A7.test(t);function C7(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?gc(t):t,l;if(n)if(T7(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ha(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=CT(n.substring(1),"/"):l=CT(n,e)}else l=e;return{pathname:l,search:D7(r),hash:R7(a)}}function CT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BN(t){let e=I7(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qN(t,e,n,r=!1){let a;typeof t=="string"?a=gc(t):(a={...t},sn(!a.pathname||!a.pathname.includes("?"),lb("?","pathname","search",a)),sn(!a.pathname||!a.pathname.includes("#"),lb("#","pathname","hash",a)),sn(!a.search||!a.search.includes("#"),lb("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}d=g>=0?e[g]:"/"}let h=C7(a,d),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Os=t=>t.join("/").replace(/\/\/+/g,"/"),O7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KR=["POST","PUT","PATCH","DELETE"];new Set(KR);var k7=["GET",...KR];new Set(k7);var Zu=w.createContext(null);Zu.displayName="DataRouter";var ky=w.createContext(null);ky.displayName="DataRouterState";w.createContext(!1);var YR=w.createContext({isTransitioning:!1});YR.displayName="ViewTransition";var M7=w.createContext(new Map);M7.displayName="Fetchers";var L7=w.createContext(null);L7.displayName="Await";var hi=w.createContext(null);hi.displayName="Navigation";var mf=w.createContext(null);mf.displayName="Location";var ns=w.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var HN=w.createContext(null);HN.displayName="RouteError";function U7(t,{relative:e}={}){sn(ed(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(hi),{hash:a,pathname:l,search:c}=pf(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Os([n,l])),r.createHref({pathname:d,search:c,hash:a})}function ed(){return w.useContext(mf)!=null}function rs(){return sn(ed(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(mf).location}var WR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XR(t){w.useContext(hi).static||w.useLayoutEffect(t)}function My(){let{isDataRoute:t}=w.useContext(ns);return t?Q7():V7()}function V7(){sn(ed(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(Zu),{basename:e,navigator:n}=w.useContext(hi),{matches:r}=w.useContext(ns),{pathname:a}=rs(),l=JSON.stringify(BN(r)),c=w.useRef(!1);return XR(()=>{c.current=!0}),w.useCallback((h,f={})=>{if(ha(c.current,WR),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=qN(h,JSON.parse(l),a,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Os([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,l,a,t])}w.createContext(null);function pf(t,{relative:e}={}){let{matches:n}=w.useContext(ns),{pathname:r}=rs(),a=JSON.stringify(BN(n));return w.useMemo(()=>qN(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function z7(t,e){return QR(t,e)}function QR(t,e,n,r,a){var R;sn(ed(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(hi),{matches:c}=w.useContext(ns),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let M=g&&g.path||"";JR(f,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let v=rs(),N;if(e){let M=typeof e=="string"?gc(e):e;sn(p==="/"||((R=M.pathname)==null?void 0:R.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),N=M}else N=v;let _=N.pathname||"/",j=_;if(p!=="/"){let M=p.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=qR(t,{pathname:j});ha(g||E!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ha(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=H7(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Os([p,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Os([p,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,r,a);return e&&I?w.createElement(mf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},I):I}function F7(){let t=X7(),e=P7(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var $7=w.createElement(F7,null),B7=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(ns.Provider,{value:this.props.routeContext},w.createElement(HN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q7({routeContext:t,match:e,children:n}){let r=w.useContext(Zu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ns.Provider,{value:t},n)}function H7(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);sn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:N}=n,_=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||_){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let f=n&&r?(p,g)=>{var v,N;r(p,{location:n.location,params:((N=(v=n.matches)==null?void 0:v[0])==null?void 0:N.params)??{},errorInfo:g})}:void 0;return l.reduceRight((p,g,v)=>{let N,_=!1,j=null,E=null;n&&(N=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||$7,d&&(h<0&&v===0?(JR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):h===v&&(_=!0,E=g.route.hydrateFallbackElement||null)));let I=e.concat(l.slice(0,v+1)),R=()=>{let M;return N?M=j:_?M=E:g.route.Component?M=w.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,w.createElement(q7,{match:g,routeContext:{outlet:p,matches:I,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(B7,{location:n.location,revalidation:n.revalidation,component:j,error:N,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:f}):R()},null)}function GN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G7(t){let e=w.useContext(Zu);return sn(e,GN(t)),e}function K7(t){let e=w.useContext(ky);return sn(e,GN(t)),e}function Y7(t){let e=w.useContext(ns);return sn(e,GN(t)),e}function KN(t){let e=Y7(t),n=e.matches[e.matches.length-1];return sn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function W7(){return KN("useRouteId")}function X7(){var r;let t=w.useContext(HN),e=K7("useRouteError"),n=KN("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Q7(){let{router:t}=G7("useNavigate"),e=KN("useNavigate"),n=w.useRef(!1);return XR(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{ha(n.current,WR),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var IT={};function JR(t,e,n){!e&&!IT[t]&&(IT[t]=!0,ha(!1,n))}w.memo(J7);function J7({routes:t,future:e,state:n,unstable_onError:r}){return QR(t,void 0,n,r,e)}function Z7({to:t,replace:e,state:n,relative:r}){sn(ed(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(hi);ha(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(ns),{pathname:c}=rs(),d=My(),h=qN(t,BN(l),c,r==="path"),f=JSON.stringify(h);return w.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function Gt(t){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e9({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){sn(!ed(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=gc(n));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:v="default"}=n,N=w.useMemo(()=>{let _=ks(h,c);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:v},navigationType:r}},[c,h,f,p,g,v,r]);return ha(N!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(hi.Provider,{value:d},w.createElement(mf.Provider,{children:e,value:N}))}function t9({children:t,location:e}){return z7(c1(t),e)}function c1(t,e=[]){let n=[];return w.Children.forEach(t,(r,a)=>{if(!w.isValidElement(r))return;let l=[...e,a];if(r.type===w.Fragment){n.push.apply(n,c1(r.props.children,l));return}sn(r.type===Gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=c1(r.props.children,l)),n.push(c)}),n}var Jp="get",Zp="application/x-www-form-urlencoded";function Ly(t){return t!=null&&typeof t.tagName=="string"}function n9(t){return Ly(t)&&t.tagName.toLowerCase()==="button"}function r9(t){return Ly(t)&&t.tagName.toLowerCase()==="form"}function a9(t){return Ly(t)&&t.tagName.toLowerCase()==="input"}function i9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function s9(t,e){return t.button===0&&(!e||e==="_self")&&!i9(t)}var Ep=null;function l9(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var o9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ob(t){return t!=null&&!o9.has(t)?(ha(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zp}"`),null):t}function c9(t,e){let n,r,a,l,c;if(r9(t)){let d=t.getAttribute("action");r=d?ks(d,e):null,n=t.getAttribute("method")||Jp,a=ob(t.getAttribute("enctype"))||Zp,l=new FormData(t)}else if(n9(t)||a9(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?ks(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Jp,a=ob(t.getAttribute("formenctype"))||ob(d.getAttribute("enctype"))||Zp,l=new FormData(d,t),!l9()){let{name:f,type:p,value:g}=t;if(p==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,g)}}else{if(Ly(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jp,r=null,a=Zp,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function YN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u9(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ks(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function d9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function f9(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await d9(l,n);return c.links?c.links():[]}return[]}));return y9(r.flat(1).filter(h9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function OT(t,e,n,r,a,l){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>{var p;return n[f].pathname!==h.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{var g;let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function m9(t,e,{includeHydrateFallback:n}={}){return p9(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function p9(t){return[...new Set(t)]}function g9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function y9(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(g9(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function ZR(){let t=w.useContext(Zu);return YN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function x9(){let t=w.useContext(ky);return YN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var WN=w.createContext(void 0);WN.displayName="FrameworkContext";function eP(){let t=w.useContext(WN);return YN(t,"You must render this element inside a <HydratedRouter> element"),t}function v9(t,e){let n=w.useContext(WN),[r,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=I=>{I.forEach(R=>{c(R.isIntersecting)})},E=new IntersectionObserver(j,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[t]),w.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let N=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:xh(d,N),onBlur:xh(h,_),onMouseEnter:xh(f,N),onMouseLeave:xh(p,_),onTouchStart:xh(g,N)}]:[!1,v,{}]}function xh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function b9({page:t,...e}){let{router:n}=ZR(),r=w.useMemo(()=>qR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(N9,{page:t,matches:r,...e}):null}function w9(t){let{manifest:e,routeModules:n}=eP(),[r,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return f9(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function N9({page:t,matches:e,...n}){let r=rs(),{manifest:a,routeModules:l}=eP(),{basename:c}=ZR(),{loaderData:d,matches:h}=x9(),f=w.useMemo(()=>OT(t,e,h,a,r,"data"),[t,e,h,a,r]),p=w.useMemo(()=>OT(t,e,h,a,r,"assets"),[t,e,h,a,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,j=!1;if(e.forEach(I=>{var M;let R=a.routes[I.route.id];!R||!R.hasLoader||(!f.some(T=>T.route.id===I.route.id)&&I.route.id in d&&((M=l[I.route.id])!=null&&M.shouldRevalidate)||R.hasClientLoader?j=!0:_.add(I.route.id))}),_.size===0)return[];let E=u9(t,c,"data");return j&&_.size>0&&E.searchParams.set("_routes",e.filter(I=>_.has(I.route.id)).map(I=>I.route.id).join(",")),[E.pathname+E.search]},[c,d,r,a,f,e,t,l]),v=w.useMemo(()=>m9(p,a),[p,a]),N=w9(p);return w.createElement(w.Fragment,null,g.map(_=>w.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>w.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),N.map(({key:_,link:j})=>w.createElement("link",{key:_,nonce:n.nonce,...j})))}function _9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tP&&(window.__reactRouterVersion="7.9.6")}catch{}function j9({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=u7({window:n,v5Compat:!0}));let a=r.current,[l,c]=w.useState({action:a.action,location:a.location}),d=w.useCallback(h=>{w.startTransition(()=>c(h))},[c]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.createElement(e9,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var nP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XN=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:g,...v},N){let{basename:_}=w.useContext(hi),j=typeof f=="string"&&nP.test(f),E,I=!1;if(typeof f=="string"&&j&&(E=f,tP))try{let F=new URL(window.location.href),A=f.startsWith("//")?new URL(F.protocol+f):new URL(f),D=ks(A.pathname,_);A.origin===F.origin&&D!=null?f=D+A.search+A.hash:I=!0}catch{ha(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=U7(f,{relative:a}),[M,T,C]=v9(r,v),L=T9(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:a,viewTransition:g});function P(F){e&&e(F),F.defaultPrevented||L(F)}let V=w.createElement("a",{...v,...C,href:E||R,onClick:I||l?e:P,ref:_9(N,T),target:h,"data-discover":!j&&n==="render"?"true":void 0});return M&&!j?w.createElement(w.Fragment,null,V,w.createElement(b9,{page:R})):V});XN.displayName="Link";var E9=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:h,...f},p){let g=pf(c,{relative:f.relative}),v=rs(),N=w.useContext(ky),{navigator:_,basename:j}=w.useContext(hi),E=N!=null&&R9(g)&&d===!0,I=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,R=v.pathname,M=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,I=I.toLowerCase()),M&&j&&(M=ks(M,j)||M);const T=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let C=R===I||!a&&R.startsWith(I)&&R.charAt(T)==="/",L=M!=null&&(M===I||!a&&M.startsWith(I)&&M.charAt(I.length)==="/"),P={isActive:C,isPending:L,isTransitioning:E},V=C?e:void 0,F;typeof r=="function"?F=r(P):F=[r,C?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(P):l;return w.createElement(XN,{...f,"aria-current":V,className:F,ref:p,style:A,to:c,viewTransition:d},typeof h=="function"?h(P):h)});E9.displayName="NavLink";var S9=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Jp,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:g,...v},N)=>{let _=O9(),j=D9(d,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&nP.test(d),R=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let T=M.nativeEvent.submitter,C=(T==null?void 0:T.getAttribute("formmethod"))||c;_(T||M.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:a,state:l,relative:f,preventScrollReset:p,viewTransition:g})};return w.createElement("form",{ref:N,method:E,action:j,onSubmit:r?h:R,...v,"data-discover":!I&&t==="render"?"true":void 0})});S9.displayName="Form";function A9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rP(t){let e=w.useContext(Zu);return sn(e,A9(t)),e}function T9(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=My(),h=rs(),f=pf(t,{relative:l});return w.useCallback(p=>{if(s9(p,e)){p.preventDefault();let g=n!==void 0?n:zh(h)===zh(f);d(t,{replace:g,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[h,d,f,n,r,e,t,a,l,c])}var C9=0,I9=()=>`__${String(++C9)}__`;function O9(){let{router:t}=rP("useSubmit"),{basename:e}=w.useContext(hi),n=W7();return w.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=c9(r,e);if(a.navigate===!1){let p=a.fetcherKey||I9();await t.fetch(p,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function D9(t,{relative:e}={}){let{basename:n}=w.useContext(hi),r=w.useContext(ns);sn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...pf(t||".",{relative:e})},c=rs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Os([n,l.pathname])),zh(l)}function R9(t,{relative:e}={}){let n=w.useContext(YR);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rP("useViewTransitionState"),a=pf(t,{relative:e});if(!n.isTransitioning)return!1;let l=ks(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=ks(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xg(a.pathname,c)!=null||xg(a.pathname,l)!=null}var aP=BR();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),DT=t=>{const e=k9(t);return e.charAt(0).toUpperCase()+e.slice(1)},iP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),M9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...d},h)=>w.createElement("svg",{ref:h,...L9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iP("lucide",a),...!l&&!M9(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>w.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(t,e)=>{const n=w.forwardRef(({className:r,...a},l)=>w.createElement(U9,{ref:l,iconNode:e,className:iP(`lucide-${P9(DT(t))}`,`lucide-${t}`,r),...a}));return n.displayName=DT(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sP=Ce("activity",V9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],RT=Ce("archive",z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$9=Ce("arrow-left",F9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],q9=Ce("arrow-right-left",B9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],G9=Ce("arrow-right",H9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],eg=Ce("award",K9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lP=Ce("badge-check",Y9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ai=Ce("book-open",W9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ms=Ce("briefcase",X9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],J9=Ce("building",Q9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],ez=Ce("bus",Z9);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],u1=Ce("calendar-days",tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gf=Ce("calendar",nz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],az=Ce("chart-column",rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QN=Ce("chevron-down",iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],JN=Ce("chevron-up",sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZN=Ce("circle-alert",lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qr=Ce("circle-check",oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uz=Ce("circle-play",cz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Dh=Ce("circle-plus",dz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],oP=Ce("circle-user",hz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],e_=Ce("circle-x",fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],cP=Ce("clipboard-list",mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ki=Ce("clock",pz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Hn=Ce("cloud-upload",gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xz=Ce("copy",yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Kl=Ce("download",vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Fh=Ce("external-link",bz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nz=Ce("eye",wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M16 22h2a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v2.85",key:"ryk6xj"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]],jz=Ce("file-clock",_z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1",key:"1q9hii"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],uP=Ce("file-input",Ez);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M4.226 20.925A2 2 0 0 0 6 22h12a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v3.127",key:"wfxp4w"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],dP=Ce("file-output",Sz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vn=Ce("file-text",Az);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]],Cz=Ce("file-type",Tz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],d1=Ce("flask-conical",Iz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Dz=Ce("folder-open",Oz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Pz=Ce("funnel",Rz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hP=Ce("globe",kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ds=Ce("graduation-cap",Mz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Uz=Ce("history",Lz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],zz=Ce("import",Vz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],h1=Ce("key",Fz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Bz=Ce("layers",$z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Hz=Ce("layout-dashboard",qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],fP=Ce("leaf",Gz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],mP=Ce("library",Kz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],PT=Ce("link",Yz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qe=Ce("loader-circle",Wz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cb=Ce("lock",Xz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jz=Ce("log-out",Qz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],f1=Ce("mail",Zz);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pP=Ce("map-pin",eF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],m1=Ce("megaphone",tF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rF=Ce("menu",nF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],kT=Ce("message-circle",aF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]],sF=Ce("mic-vocal",iF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],vg=Ce("microscope",lF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Ko=Ce("network",oF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],uF=Ce("panels-top-left",cF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tg=Ce("phone",dF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],t_=Ce("plane",hF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],At=Ce("plus",fF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],pF=Ce("presentation",mF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],yF=Ce("printer",gF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],vF=Ce("qr-code",xF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],p1=Ce("refresh-ccw",bF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_n=Ce("save",wF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yi=Ce("search",NF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],gP=Ce("send",_F);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yP=Ce("settings",jF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],xP=Ce("shield-alert",EF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M14 9.536V7a4 4 0 0 1 4-4h1.5a.5.5 0 0 1 .5.5V5a4 4 0 0 1-4 4 4 4 0 0 0-4 4c0 2 1 3 1 5a5 5 0 0 1-1 3",key:"139s4v"}],["path",{d:"M4 9a5 5 0 0 1 8 4 5 5 0 0 1-8-4",key:"1dlkgp"}],["path",{d:"M5 21h14",key:"11awu3"}]],_u=Ce("sprout",SF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gn=Ce("square-pen",AF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],CF=Ce("stethoscope",TF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],OF=Ce("table",IF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ng=Ce("target",DF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ot=Ce("trash-2",RF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gr=Ce("triangle-alert",PF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MT=Ce("user-check",kF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LF=Ce("user-cog",MF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vP=Ce("user-plus",UF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bP=Ce("user",VF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ii=Ce("users",zF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bt=Ce("x",FF);var we=(t=>(t.ADMIN="ADMIN",t.DATA_ENTRY="DATA_ENTRY",t.STAFF="STAFF",t.STUDENT_PG="STUDENT_PG",t.STUDENT_UG="STUDENT_UG",t.ALUMNI="ALUMNI",t.EMPLOYEE="EMPLOYEE",t))(we||{}),rt=(t=>(t.OUTGOING="OUTGOING",t.INCOMING="INCOMING",t.DEPARTMENT_COUNCIL="DEPARTMENT_COUNCIL",t.COMMITTEE_MEETING="COMMITTEE_MEETING",t))(rt||{});const $F=({children:t,user:e,onLogout:n})=>{const[r,a]=w.useState(!1),l=rs(),c=f=>l.pathname===f,h=[{path:"/",label:" ",icon:Hz,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY,we.EMPLOYEE]},{path:"/outgoing",label:"",icon:dP,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY]},{path:"/incoming",label:"",icon:uP,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY]},{path:"/councils",label:" ",icon:ii,roles:[we.ADMIN,we.STAFF]},{path:"/committees",label:" ",icon:cP,roles:[we.ADMIN,we.STAFF]},{path:"/formation",label:"  ",icon:Ko,roles:[we.ADMIN,we.STAFF]},{path:"/research-plan",label:"  ",icon:ng,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG]},{path:"/events",label:"  ",icon:m1,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG,we.ALUMNI,we.EMPLOYEE]},{path:"/pg-manager",label:"  ",icon:jz,roles:[we.ADMIN,we.STAFF]},{path:"/repository",label:"   ",icon:mP,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG,we.ALUMNI,we.EMPLOYEE]},{path:"/inventory",label:" ",icon:vg,roles:[we.ADMIN,we.STAFF]},{path:"/labs",label:" ",icon:d1,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG]},{path:"/greenhouse",label:"  ",icon:_u,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG]},{path:"/staff",label:" ",icon:oP,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG]},{path:"/annual-report",label:" ",icon:Vn,roles:[we.ADMIN,we.STAFF]},{path:"/leaves",label:" ",icon:u1,roles:[we.ADMIN,we.STAFF,we.EMPLOYEE]},{path:"/career-movements",label:"   ",icon:t_,roles:[we.ADMIN,we.STAFF,we.EMPLOYEE]},{path:"/courses",label:"  ",icon:ai,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG,we.DATA_ENTRY]},{path:"/students",label:" ",icon:Ds,roles:[we.ADMIN,we.STAFF,we.STUDENT_PG,we.STUDENT_UG]},{path:"/alumni",label:" ",icon:Ms,roles:[we.ADMIN,we.STAFF,we.ALUMNI]},{path:"/users",label:" ",icon:LF,roles:[we.ADMIN]},{path:"/activity-log",label:" ",icon:sP,roles:[we.ADMIN]},{path:"/search",label:" ",icon:Yi,roles:[we.ADMIN,we.STAFF,we.DATA_ENTRY]}].filter(f=>f.roles.includes(e.role));return s.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
          fixed top-0 right-0 h-full w-64 bg-green-900 text-white z-30 transform transition-transform duration-300 ease-in-out shadow-xl flex flex-col
          ${r?"translate-x-0":"translate-x-full"} 
          lg:relative lg:translate-x-0
        `,children:[s.jsxs("div",{className:"p-6 border-b border-green-800 flex items-center gap-3 shrink-0",children:[s.jsx("div",{className:"bg-white p-2 rounded-full",children:s.jsx(fP,{className:"w-6 h-6 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-sm",children:"   "}),s.jsx("p",{className:"text-xs text-green-300",children:"  - "})]})]}),s.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto custom-scrollbar",children:h.map(f=>s.jsxs(XN,{to:f.path,onClick:()=>a(!1),className:`
                flex items-center gap-3 px-4 py-3 rounded-lg transition-colors
                ${c(f.path)?"bg-green-700 text-white font-semibold shadow-md":"text-green-100 hover:bg-green-800 hover:text-white"}
              `,children:[s.jsx(f.icon,{className:"w-5 h-5"}),s.jsx("span",{children:f.label})]},f.path))}),s.jsxs("div",{className:"p-4 border-t border-green-800 bg-green-900 shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-700 flex items-center justify-center font-bold text-lg border-2 border-green-600",children:e.name.charAt(0)}),s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("p",{className:"font-medium text-sm truncate",children:e.name}),s.jsx("p",{className:"text-xs text-green-300 truncate",children:e.role===we.ADMIN?" ":e.role===we.STAFF?"  ":e.role===we.STUDENT_PG?" ":e.role===we.STUDENT_UG?"":e.role===we.EMPLOYEE?" / ":""})]})]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg text-sm transition-colors",children:[s.jsx(Jz,{className:"w-4 h-4"}),s.jsx("span",{children:" "})]})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[s.jsxs("header",{className:"bg-white shadow-sm lg:hidden flex items-center justify-between p-4 z-10",children:[s.jsx("h2",{className:"font-bold text-gray-800 text-sm",children:"   "}),s.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",children:s.jsx(rF,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:t})]})]})};function wP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=wP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ft(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=wP(t))&&(r&&(r+=" "),r+=e);return r}var BF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function n_(t){if(typeof t!="string")return!1;var e=BF;return e.includes(t)}var qF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HF=new Set(qF);function NP(t){return typeof t!="string"?!1:HF.has(t)}function _P(t){return typeof t=="string"&&t.startsWith("data-")}function li(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(NP(n)||_P(n))&&(e[n]=t[n]);return e}function $h(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return li(e)}return typeof t=="object"&&!Array.isArray(t)?li(t):null}function Ra(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(NP(n)||_P(n)||n_(n))&&(e[n]=t[n]);return e}var GF=["children","width","height","viewBox","className","style","title","desc"];function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g1.apply(null,arguments)}function KF(t,e){if(t==null)return{};var n,r,a=YF(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function YF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jP=w.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:l,className:c,style:d,title:h,desc:f}=t,p=KF(t,GF),g=l||{width:r,height:a,x:0,y:0},v=Ft("recharts-surface",c);return w.createElement("svg",g1({},Ra(p),{className:v,width:r,height:a,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),w.createElement("title",null,h),w.createElement("desc",null,f),n)}),WF=["children","className"];function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y1.apply(null,arguments)}function XF(t,e){if(t==null)return{};var n,r,a=QF(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function QF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dr=w.forwardRef((t,e)=>{var{children:n,className:r}=t,a=XF(t,WF),l=Ft("recharts-layer",r);return w.createElement("g",y1({className:l},Ra(a),{ref:e}),n)}),JF=w.createContext(null);function Kt(t){return function(){return t}}const EP=Math.cos,bg=Math.sin,fi=Math.sqrt,wg=Math.PI,Uy=2*wg,x1=Math.PI,v1=2*x1,Bo=1e-6,ZF=v1-Bo;function SP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function e$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SP;const n=10**e;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class t${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SP:e$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,l,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(e,n,r,a,l){if(e=+e,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,h=r-e,f=a-n,p=c-e,g=d-n,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Bo)if(!(Math.abs(g*h-f*p)>Bo)||!l)this._append`L${this._x1=e},${this._y1=n}`;else{let N=r-c,_=a-d,j=h*h+f*f,E=N*N+_*_,I=Math.sqrt(j),R=Math.sqrt(v),M=l*Math.tan((x1-Math.acos((j+v-E)/(2*I*R)))/2),T=M/R,C=M/I;Math.abs(T-1)>Bo&&this._append`L${e+T*p},${n+T*g}`,this._append`A${l},${l},0,0,${+(g*N>p*_)},${this._x1=e+C*h},${this._y1=n+C*f}`}}arc(e,n,r,a,l,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(a),h=r*Math.sin(a),f=e+d,p=n+h,g=1^c,v=c?a-l:l-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Bo||Math.abs(this._y1-p)>Bo)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%v1+v1),v>ZF?this._append`A${r},${r},0,1,${g},${e-d},${n-h}A${r},${r},0,1,${g},${this._x1=f},${this._y1=p}`:v>Bo&&this._append`A${r},${r},0,${+(v>=x1)},${g},${this._x1=e+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function r_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new t$(e)}function a_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function AP(t){this._context=t}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vy(t){return new AP(t)}function TP(t){return t[0]}function CP(t){return t[1]}function IP(t,e){var n=Kt(!0),r=null,a=Vy,l=null,c=r_(d);t=typeof t=="function"?t:t===void 0?TP:Kt(t),e=typeof e=="function"?e:e===void 0?CP:Kt(e);function d(h){var f,p=(h=a_(h)).length,g,v=!1,N;for(r==null&&(l=a(N=c())),f=0;f<=p;++f)!(f<p&&n(g=h[f],f,h))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+t(g,f,h),+e(g,f,h));if(N)return l=null,N+""||null}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Kt(+h),d):t},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Kt(+h),d):e},d.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Kt(!!h),d):n},d.curve=function(h){return arguments.length?(a=h,r!=null&&(l=a(r)),d):a},d.context=function(h){return arguments.length?(h==null?r=l=null:l=a(r=h),d):r},d}function Sp(t,e,n){var r=null,a=Kt(!0),l=null,c=Vy,d=null,h=r_(f);t=typeof t=="function"?t:t===void 0?TP:Kt(+t),e=typeof e=="function"?e:Kt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?CP:Kt(+n);function f(g){var v,N,_,j=(g=a_(g)).length,E,I=!1,R,M=new Array(j),T=new Array(j);for(l==null&&(d=c(R=h())),v=0;v<=j;++v){if(!(v<j&&a(E=g[v],v,g))===I)if(I=!I)N=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),_=v-1;_>=N;--_)d.point(M[_],T[_]);d.lineEnd(),d.areaEnd()}I&&(M[v]=+t(E,v,g),T[v]=+e(E,v,g),d.point(r?+r(E,v,g):M[v],n?+n(E,v,g):T[v]))}if(R)return d=null,R+""||null}function p(){return IP().defined(a).curve(c).context(l)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Kt(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Kt(+g),f):n},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(n)},f.lineX1=function(){return p().x(r).y(e)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Kt(!!g),f):a},f.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),f):c},f.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),f):l},f}class OP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function n$(t){return new OP(t,!0)}function r$(t){return new OP(t,!1)}const i_={draw(t,e){const n=fi(e/wg);t.moveTo(n,0),t.arc(0,0,n,0,Uy)}},a$={draw(t,e){const n=fi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},DP=fi(1/3),i$=DP*2,s$={draw(t,e){const n=fi(e/i$),r=n*DP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},l$={draw(t,e){const n=fi(e),r=-n/2;t.rect(r,r,n,n)}},o$=.8908130915292852,RP=bg(wg/10)/bg(7*wg/10),c$=bg(Uy/10)*RP,u$=-EP(Uy/10)*RP,d$={draw(t,e){const n=fi(e*o$),r=c$*n,a=u$*n;t.moveTo(0,-n),t.lineTo(r,a);for(let l=1;l<5;++l){const c=Uy*l/5,d=EP(c),h=bg(c);t.lineTo(h*n,-d*n),t.lineTo(d*r-h*a,h*r+d*a)}t.closePath()}},ub=fi(3),h$={draw(t,e){const n=-fi(e/(ub*3));t.moveTo(0,n*2),t.lineTo(-ub*n,-n),t.lineTo(ub*n,-n),t.closePath()}},Aa=-.5,Ta=fi(3)/2,b1=1/fi(12),f$=(b1/2+1)*3,m$={draw(t,e){const n=fi(e/f$),r=n/2,a=n*b1,l=r,c=n*b1+n,d=-l,h=c;t.moveTo(r,a),t.lineTo(l,c),t.lineTo(d,h),t.lineTo(Aa*r-Ta*a,Ta*r+Aa*a),t.lineTo(Aa*l-Ta*c,Ta*l+Aa*c),t.lineTo(Aa*d-Ta*h,Ta*d+Aa*h),t.lineTo(Aa*r+Ta*a,Aa*a-Ta*r),t.lineTo(Aa*l+Ta*c,Aa*c-Ta*l),t.lineTo(Aa*d+Ta*h,Aa*h-Ta*d),t.closePath()}};function p$(t,e){let n=null,r=r_(a);t=typeof t=="function"?t:Kt(t||i_),e=typeof e=="function"?e:Kt(e===void 0?64:+e);function a(){let l;if(n||(n=l=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(l),a):t},a.size=function(l){return arguments.length?(e=typeof l=="function"?l:Kt(+l),a):e},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function Ng(){}function _g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function PP(t){this._context=t}PP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function g$(t){return new PP(t)}function kP(t){this._context=t}kP.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function y$(t){return new kP(t)}function MP(t){this._context=t}MP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function x$(t){return new MP(t)}function LP(t){this._context=t}LP.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function v$(t){return new LP(t)}function LT(t){return t<0?-1:1}function UT(t,e,n){var r=t._x1-t._x0,a=e-t._x1,l=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),d=(l*a+c*r)/(r+a);return(LT(l)+LT(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function VT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function db(t,e,n){var r=t._x0,a=t._y0,l=t._x1,c=t._y1,d=(l-r)/3;t._context.bezierCurveTo(r+d,a+d*e,l-d,c-d*n,l,c)}function jg(t){this._context=t}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:db(this,this._t0,VT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,db(this,VT(this,n=UT(this,t,e)),n);break;default:db(this,this._t0,n=UT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function UP(t){this._context=new VP(t)}(UP.prototype=Object.create(jg.prototype)).point=function(t,e){jg.prototype.point.call(this,e,t)};function VP(t){this._context=t}VP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,l){this._context.bezierCurveTo(e,t,r,n,l,a)}};function b$(t){return new jg(t)}function w$(t){return new UP(t)}function zP(t){this._context=t}zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zT(t),a=zT(e),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zT(t){var e,n=t.length-1,r,a=new Array(n),l=new Array(n),c=new Array(n);for(a[0]=0,l[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,l[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,l[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/l[e-1],l[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/l[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/l[e];for(l[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)l[e]=2*t[e+1]-a[e+1];return[a,l]}function N$(t){return new zP(t)}function zy(t,e){this._context=t,this._t=e}zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _$(t){return new zy(t,.5)}function j$(t){return new zy(t,0)}function E$(t){return new zy(t,1)}function Mu(t,e){if((c=t.length)>1)for(var n=1,r,a,l=t[e[0]],c,d=l.length;n<c;++n)for(a=l,l=t[e[n]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function w1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function S$(t,e){return t[e]}function A$(t){const e=[];return e.key=t,e}function T$(){var t=Kt([]),e=w1,n=Mu,r=S$;function a(l){var c=Array.from(t.apply(this,arguments),A$),d,h=c.length,f=-1,p;for(const g of l)for(d=0,++f;d<h;++d)(c[d][f]=[0,+r(g,c[d].key,f,l)]).data=g;for(d=0,p=a_(e(c));d<h;++d)c[p[d]].index=d;return n(c,p),c}return a.keys=function(l){return arguments.length?(t=typeof l=="function"?l:Kt(Array.from(l)),a):t},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:Kt(+l),a):r},a.order=function(l){return arguments.length?(e=l==null?w1:typeof l=="function"?l:Kt(Array.from(l)),a):e},a.offset=function(l){return arguments.length?(n=l??Mu,a):n},a}function C$(t,e){if((r=t.length)>0){for(var n,r,a=0,l=t[0].length,c;a<l;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Mu(t,e)}}function I$(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,l=r.length;n<l;++n){for(var c=0,d=0;c<a;++c)d+=t[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}Mu(t,e)}}function O$(t,e){if(!(!((c=t.length)>0)||!((l=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,l,c;r<l;++r){for(var d=0,h=0,f=0;d<c;++d){for(var p=t[e[d]],g=p[r][1]||0,v=p[r-1][1]||0,N=(g-v)/2,_=0;_<d;++_){var j=t[e[_]],E=j[r][1]||0,I=j[r-1][1]||0;N+=E-I}h+=g,f+=N*g}a[r-1][1]+=a[r-1][0]=n,h&&(n-=f/h)}a[r-1][1]+=a[r-1][0]=n,Mu(t,e)}}var hb={},fb={},FT;function D$(){return FT||(FT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(fb)),fb}var mb={},$T;function FP(){return $T||($T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(mb)),mb}var pb={},BT;function s_(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(pb)),pb}var gb={},yb={},qT;function R$(){return qT||(qT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(yb)),yb}var HT;function l_(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R$(),n=s_();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const l=[],c=a.length;if(c===0)return l;let d=0,h="",f="",p=!1;for(a.charCodeAt(0)===46&&(l.push(""),d++);d<c;){const g=a[d];f?g==="\\"&&d+1<c?(d++,h+=a[d]):g===f?f="":h+=g:p?g==='"'||g==="'"?f=g:g==="]"?(p=!1,l.push(h),h=""):h+=g:g==="["?(p=!0,h&&(l.push(h),h="")):g==="."?h&&(l.push(h),h=""):h+=g,d++}return h&&l.push(h),l}t.toPath=r})(gb)),gb}var GT;function o_(){return GT||(GT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D$(),n=FP(),r=s_(),a=l_();function l(d,h,f){if(d==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?n.isDeepKey(h)?l(d,a.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=d[h];return p===void 0?f:p}default:{if(Array.isArray(h))return c(d,h,f);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const p=d[h];return p===void 0?f:p}}}function c(d,h,f){if(h.length===0)return f;let p=d;for(let g=0;g<h.length;g++){if(p==null||e.isUnsafeProperty(h[g]))return f;p=p[h[g]]}return p===void 0?f:p}t.get=l})(hb)),hb}var xb,KT;function P$(){return KT||(KT=1,xb=o_().get),xb}var k$=P$();const ac=ts(k$);var ar=t=>t===0?0:t>0?1:-1,oi=t=>typeof t=="number"&&t!=+t,Ls=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$e=t=>(typeof t=="number"||t instanceof Number)&&!oi(t),Wi=t=>$e(t)||typeof t=="string",M$=0,Bh=t=>{var e=++M$;return"".concat(t||"").concat(e)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&typeof e!="string")return r;var l;if(Ls(e)){if(n==null)return r;var c=e.indexOf("%");l=n*parseFloat(e.slice(0,c))/100}else l=+e;return oi(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},$P=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function $n(t,e,n){return $e(t)&&$e(e)?t+n*(e-t):e}function L$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ac(r,e))===n)}var ir=t=>t===null||typeof t>"u",yf=t=>ir(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function U$(t){return t!=null}function xf(){}var V$=["type","size","sizeType"];function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N1.apply(null,arguments)}function YT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(n),!0).forEach(function(r){z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z$(t,e,n){return(e=F$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=$$(t,"string");return typeof e=="symbol"?e:e+""}function $$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B$(t,e){if(t==null)return{};var n,r,a=q$(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function q$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BP={symbolCircle:i_,symbolCross:a$,symbolDiamond:s$,symbolSquare:l$,symbolStar:d$,symbolTriangle:h$,symbolWye:m$},H$=Math.PI/180,G$=t=>{var e="symbol".concat(yf(t));return BP[e]||i_},K$=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*H$;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Y$=(t,e)=>{BP["symbol".concat(yf(t))]=e},qP=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=B$(t,V$),l=WT(WT({},a),{},{type:e,size:n,sizeType:r}),c="circle";typeof e=="string"&&(c=e);var d=()=>{var v=G$(c),N=p$().type(v).size(K$(n,r,c)),_=N();if(_!==null)return _},{className:h,cx:f,cy:p}=l,g=Ra(l);return $e(f)&&$e(p)&&$e(n)?w.createElement("path",N1({},g,{className:Ft("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};qP.registerSymbol=Y$;var HP=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,W$=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{n_(a)&&(r[a]=(l=>n[a](n,l)))}),r},X$=(t,e,n)=>r=>(t(e,n,r),null),Fy=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var l=t[a];n_(a)&&typeof l=="function"&&(r||(r={}),r[a]=X$(l,e,n))}),r};function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Q$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){J$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J$(t,e,n){return(e=Z$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z$(t){var e=eB(t,"string");return typeof e=="symbol"?e:e+""}function eB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e){var n=Q$({},t),r=e,a=Object.keys(e),l=a.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return l}var vb={},bb={},QT;function tB(){return QT||(QT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=r(c);a.has(d)||a.set(d,c)}return Array.from(a.values())}t.uniqBy=e})(bb)),bb}var wb={},JT;function GP(){return JT||(JT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(wb)),wb}var Nb={},_b={},jb={},ZT;function nB(){return ZT||(ZT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(jb)),jb}var eC;function c_(){return eC||(eC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nB();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(_b)),_b}var Eb={},tC;function rB(){return tC||(tC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Eb)),Eb}var nC;function aB(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c_(),n=rB();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Nb)),Nb}var Sb={},Ab={},rC;function iB(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o_();function n(r){return function(a){return e.get(a,r)}}t.property=n})(Ab)),Ab}var Tb={},Cb={},Ib={},Ob={},aC;function KP(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Ob)),Ob}var Db={},iC;function YP(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Db)),Db}var Rb={},sC;function WP(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Rb)),Rb}var lC;function sB(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KP(),n=YP(),r=WP();function a(p,g,v){return typeof v!="function"?a(p,g,()=>{}):l(p,g,function N(_,j,E,I,R,M){const T=v(_,j,E,I,R,M);return T!==void 0?!!T:l(_,j,N,M)},new Map)}function l(p,g,v,N){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,v,N);case"function":return Object.keys(g).length>0?l(p,{...g},v,N):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function c(p,g,v,N){if(g==null)return!0;if(Array.isArray(g))return h(p,g,v,N);if(g instanceof Map)return d(p,g,v,N);if(g instanceof Set)return f(p,g,v,N);const _=Object.keys(g);if(p==null)return _.length===0;if(_.length===0)return!0;if(N!=null&&N.has(g))return N.get(g)===p;N==null||N.set(g,p);try{for(let j=0;j<_.length;j++){const E=_[j];if(!n.isPrimitive(p)&&!(E in p)||g[E]===void 0&&p[E]!==void 0||g[E]===null&&p[E]!==null||!v(p[E],g[E],E,p,g,N))return!1}return!0}finally{N==null||N.delete(g)}}function d(p,g,v,N){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,j]of g.entries()){const E=p.get(_);if(v(E,j,_,p,g,N)===!1)return!1}return!0}function h(p,g,v,N){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let j=0;j<g.length;j++){const E=g[j];let I=!1;for(let R=0;R<p.length;R++){if(_.has(R))continue;const M=p[R];let T=!1;if(v(M,E,j,p,g,N)&&(T=!0),T){_.add(R),I=!0;break}}if(!I)return!1}return!0}function f(p,g,v,N){return g.size===0?!0:p instanceof Set?h([...p],[...g],v,N):!1}t.isMatchWith=a,t.isSetMatch=f})(Ib)),Ib}var oC;function XP(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sB();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(Cb)),Cb}var Pb={},kb={},Mb={},cC;function lB(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Mb)),Mb}var Lb={},uC;function QP(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Lb)),Lb}var Ub={},dC;function JP(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",N="[object Object]",_="[object Error]",j="[object DataView]",E="[object Uint8Array]",I="[object Uint8ClampedArray]",R="[object Uint16Array]",M="[object Uint32Array]",T="[object BigUint64Array]",C="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",V="[object BigInt64Array]",F="[object Float32Array]",A="[object Float64Array]";t.argumentsTag=l,t.arrayBufferTag=v,t.arrayTag=p,t.bigInt64ArrayTag=V,t.bigUint64ArrayTag=T,t.booleanTag=a,t.dataViewTag=j,t.dateTag=d,t.errorTag=_,t.float32ArrayTag=F,t.float64ArrayTag=A,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=P,t.int8ArrayTag=C,t.mapTag=h,t.numberTag=r,t.objectTag=N,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=R,t.uint32ArrayTag=M,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=I})(Ub)),Ub}var Vb={},hC;function oB(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Vb)),Vb}var fC;function ZP(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lB(),n=QP(),r=JP(),a=YP(),l=oB();function c(p,g){return d(p,void 0,p,new Map,g)}function d(p,g,v,N=new Map,_=void 0){const j=_==null?void 0:_(p,g,v,N);if(j!==void 0)return j;if(a.isPrimitive(p))return p;if(N.has(p))return N.get(p);if(Array.isArray(p)){const E=new Array(p.length);N.set(p,E);for(let I=0;I<p.length;I++)E[I]=d(p[I],I,v,N,_);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;N.set(p,E);for(const[I,R]of p)E.set(I,d(R,I,v,N,_));return E}if(p instanceof Set){const E=new Set;N.set(p,E);for(const I of p)E.add(d(I,void 0,v,N,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(l.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);N.set(p,E);for(let I=0;I<p.length;I++)E[I]=d(p[I],I,v,N,_);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return N.set(p,E),h(E,p,v,N,_),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return N.set(p,E),h(E,p,v,N,_),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return N.set(p,E),h(E,p,v,N,_),E}if(p instanceof Error){const E=new p.constructor;return N.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,h(E,p,v,N,_),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return N.set(p,E),h(E,p,v,N,_),E}if(p instanceof Number){const E=new Number(p.valueOf());return N.set(p,E),h(E,p,v,N,_),E}if(p instanceof String){const E=new String(p.valueOf());return N.set(p,E),h(E,p,v,N,_),E}if(typeof p=="object"&&f(p)){const E=Object.create(Object.getPrototypeOf(p));return N.set(p,E),h(E,p,v,N,_),E}return p}function h(p,g,v=p,N,_){const j=[...Object.keys(g),...e.getSymbols(g)];for(let E=0;E<j.length;E++){const I=j[E],R=Object.getOwnPropertyDescriptor(p,I);(R==null||R.writable)&&(p[I]=d(g[I],I,v,N,_))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=d,t.copyProperties=h})(kb)),kb}var mC;function cB(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZP();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Pb)),Pb}var pC;function uB(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP(),n=cB();function r(a){return a=n.cloneDeep(a),l=>e.isMatch(l,a)}t.matches=r})(Tb)),Tb}var zb={},Fb={},$b={},gC;function dB(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZP(),n=JP();function r(a,l){return e.cloneDeepWith(a,(c,d,h,f)=>{const p=l==null?void 0:l(c,d,h,f);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a==null?void 0:a.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})($b)),$b}var yC;function hB(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dB();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Fb)),Fb}var Bb={},qb={},xC;function ek(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(qb)),qb}var Hb={},vC;function fB(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Hb)),Hb}var bC;function mB(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FP(),n=ek(),r=fB(),a=l_();function l(c,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&e.isDeepKey(d)&&(c==null?void 0:c[d])==null?h=a.toPath(d):h=[d],h.length===0)return!1;let f=c;for(let p=0;p<h.length;p++){const g=h[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=l})(Bb)),Bb}var wC;function pB(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP(),n=s_(),r=hB(),a=o_(),l=mB();function c(d,h){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return h=r.cloneDeep(h),function(f){const p=a.get(f,d);return p===void 0?l.has(f,d):h===void 0?p===void 0:e.isMatch(p,h)}}t.matchesProperty=c})(zb)),zb}var NC;function gB(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GP(),n=iB(),r=uB(),a=pB();function l(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=l})(Sb)),Sb}var _C;function yB(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tB(),n=GP(),r=aB(),a=gB();function l(c,d=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(d)):[]}t.uniqBy=l})(vb)),vb}var Gb,jC;function xB(){return jC||(jC=1,Gb=yB().uniqBy),Gb}var vB=xB();const EC=ts(vB);function bB(t,e,n){return e===!0?EC(t,n):typeof e=="function"?EC(t,e):t}var Kb={exports:{}},Yb={},Wb={exports:{}},Xb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function wB(){if(SC)return Xb;SC=1;var t=Ju();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(g,v){var N=v(),_=r({inst:{value:N,getSnapshot:v}}),j=_[0].inst,E=_[1];return l(function(){j.value=N,j.getSnapshot=v,h(j)&&E({inst:j})},[g,N,v]),a(function(){return h(j)&&E({inst:j}),g(function(){h(j)&&E({inst:j})})},[g]),c(N),N}function h(g){var v=g.getSnapshot;g=g.value;try{var N=v();return!n(g,N)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Xb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Xb}var AC;function NB(){return AC||(AC=1,Wb.exports=wB()),Wb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC;function _B(){if(TC)return Yb;TC=1;var t=Ju(),e=NB();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return Yb.useSyncExternalStoreWithSelector=function(f,p,g,v,N){var _=l(null);if(_.current===null){var j={hasValue:!1,value:null};_.current=j}else j=_.current;_=d(function(){function I(L){if(!R){if(R=!0,M=L,L=v(L),N!==void 0&&j.hasValue){var P=j.value;if(N(P,L))return T=P}return T=L}if(P=T,r(M,L))return P;var V=v(L);return N!==void 0&&N(P,V)?(M=L,P):(M=L,T=V)}var R=!1,M,T,C=g===void 0?null:g;return[function(){return I(p())},C===null?void 0:function(){return I(C())}]},[p,g,v,N]);var E=a(f,_[0],_[1]);return c(function(){j.hasValue=!0,j.value=E},[E]),h(E),E},Yb}var CC;function jB(){return CC||(CC=1,Kb.exports=_B()),Kb.exports}var EB=jB(),u_=w.createContext(null),SB=t=>t,ln=()=>{var t=w.useContext(u_);return t?t.store.dispatch:SB},rg=()=>{},AB=()=>rg,TB=(t,e)=>t===e;function Be(t){var e=w.useContext(u_);return EB.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:AB,e?e.store.getState:rg,e?e.store.getState:rg,e?t:rg,TB)}function CB(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function IB(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function OB(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var IC=t=>Array.isArray(t)?t:[t];function DB(t){const e=Array.isArray(t[0])?t[0]:t;return OB(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function RB(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var PB=class{constructor(t){this.value=t}deref(){return this.value}},kB=typeof WeakRef<"u"?WeakRef:PB,MB=0,OC=1;function Ap(){return{s:MB,v:void 0,o:null,p:null}}function tk(t,e={}){let n=Ap();const{resultEqualityCheck:r}=e;let a,l=0;function c(){var g;let d=n;const{length:h}=arguments;for(let v=0,N=h;v<N;v++){const _=arguments[v];if(typeof _=="function"||typeof _=="object"&&_!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const E=j.get(_);E===void 0?(d=Ap(),j.set(_,d)):d=E}else{let j=d.p;j===null&&(d.p=j=new Map);const E=j.get(_);E===void 0?(d=Ap(),j.set(_,d)):d=E}}const f=d;let p;if(d.s===OC)p=d.v;else if(p=t.apply(null,arguments),l++,r){const v=((g=a==null?void 0:a.deref)==null?void 0:g.call(a))??a;v!=null&&r(v,p)&&(p=v,l!==0&&l--),a=typeof p=="object"&&p!==null||typeof p=="function"?new kB(p):p}return f.s=OC,f.v=p,p}return c.clearCache=()=>{n=Ap(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function LB(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let l=0,c=0,d,h={},f=a.pop();typeof f=="object"&&(h=f,f=a.pop()),CB(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:g,memoizeOptions:v=[],argsMemoize:N=tk,argsMemoizeOptions:_=[]}=p,j=IC(v),E=IC(_),I=DB(a),R=g(function(){return l++,f.apply(null,arguments)},...j),M=N(function(){c++;const C=RB(I,arguments);return d=R.apply(null,C),d},...E);return Object.assign(M,{resultFunc:f,memoizedResultFunc:R,dependencies:I,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:N})};return Object.assign(r,{withTypes:()=>r}),r}var ce=LB(tk),UB=Object.assign((t,e=ce)=>{IB(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(l=>t[l]);return e(r,(...l)=>l.reduce((c,d,h)=>(c[n[h]]=d,c),{}))},{withTypes:()=>UB}),Qb={},Jb={},Zb={},DC;function VB(){return DC||(DC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const c=e(r),d=e(a);if(c===d&&c===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};t.compareValues=n})(Zb)),Zb}var ew={},tw={},RC;function nk(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(tw)),tw}var PC;function zB(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||e.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}t.isKey=a})(ew)),ew}var kC;function FB(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VB(),n=zB(),r=l_();function a(l,c,d,h){if(l==null)return[];d=h?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(N=>String(N));const f=(N,_)=>{let j=N;for(let E=0;E<_.length&&j!=null;++E)j=j[_[E]];return j},p=(N,_)=>_==null||N==null?_:typeof N=="object"&&"key"in N?Object.hasOwn(_,N.key)?_[N.key]:f(_,N.path):typeof N=="function"?N(_):Array.isArray(N)?f(_,N):typeof _=="object"?_[N]:_,g=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||n.isKey(N)?N:{key:N,path:r.toPath(N)}));return l.map(N=>({original:N,criteria:g.map(_=>p(_,N))})).slice().sort((N,_)=>{for(let j=0;j<g.length;j++){const E=e.compareValues(N.criteria[j],_.criteria[j],d[j]);if(E!==0)return E}return 0}).map(N=>N.original)}t.orderBy=a})(Jb)),Jb}var nw={},MC;function $B(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],l=Math.floor(r),c=(d,h)=>{for(let f=0;f<d.length;f++){const p=d[f];Array.isArray(p)&&h<l?c(p,h+1):a.push(p)}};return c(n,0),a}t.flatten=e})(nw)),nw}var rw={},LC;function rk(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ek(),n=c_(),r=KP(),a=WP();function l(c,d,h){return r.isObject(h)&&(typeof d=="number"&&n.isArrayLike(h)&&e.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?a.eq(h[d],c):!1}t.isIterateeCall=l})(rw)),rw}var UC;function BB(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FB(),n=$B(),r=rk();function a(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(l,n.flatten(c),["asc"])}t.sortBy=a})(Qb)),Qb}var aw,VC;function qB(){return VC||(VC=1,aw=BB().sortBy),aw}var HB=qB();const $y=ts(HB);var ak=t=>t.legend.settings,GB=t=>t.legend.size,KB=t=>t.legend.payload;ce([KB,ak],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?$y(r,n):r});var Tp=1;function YB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-e.height)>Tp||Math.abs(c.left-e.left)>Tp||Math.abs(c.top-e.top)>Tp||Math.abs(c.width-e.width)>Tp)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function fr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var WB=typeof Symbol=="function"&&Symbol.observable||"@@observable",zC=WB,iw=()=>Math.random().toString(36).substring(7).split("").join("."),XB={INIT:`@@redux/INIT${iw()}`,REPLACE:`@@redux/REPLACE${iw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iw()}`},Eg=XB;function d_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ik(t,e,n){if(typeof t!="function")throw new Error(fr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(fr(1));return n(ik)(t,e)}let r=t,a=e,l=new Map,c=l,d=0,h=!1;function f(){c===l&&(c=new Map,l.forEach((E,I)=>{c.set(I,E)}))}function p(){if(h)throw new Error(fr(3));return a}function g(E){if(typeof E!="function")throw new Error(fr(4));if(h)throw new Error(fr(5));let I=!0;f();const R=d++;return c.set(R,E),function(){if(I){if(h)throw new Error(fr(6));I=!1,f(),c.delete(R),l=null}}}function v(E){if(!d_(E))throw new Error(fr(7));if(typeof E.type>"u")throw new Error(fr(8));if(typeof E.type!="string")throw new Error(fr(17));if(h)throw new Error(fr(9));try{h=!0,a=r(a,E)}finally{h=!1}return(l=c).forEach(R=>{R()}),E}function N(E){if(typeof E!="function")throw new Error(fr(10));r=E,v({type:Eg.REPLACE})}function _(){const E=g;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(fr(11));function R(){const T=I;T.next&&T.next(p())}return R(),{unsubscribe:E(R)}},[zC](){return this}}}return v({type:Eg.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:N,[zC]:_}}function QB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Eg.INIT})>"u")throw new Error(fr(12));if(typeof n(void 0,{type:Eg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fr(13))})}function sk(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{QB(n)}catch(l){a=l}return function(c={},d){if(a)throw a;let h=!1;const f={};for(let p=0;p<r.length;p++){const g=r[p],v=n[g],N=c[g],_=v(N,d);if(typeof _>"u")throw d&&d.type,new Error(fr(14));f[g]=_,h=h||_!==N}return h=h||r.length!==Object.keys(c).length,h?f:c}}function Sg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function JB(...t){return e=>(n,r)=>{const a=e(n,r);let l=()=>{throw new Error(fr(15))};const c={getState:a.getState,dispatch:(h,...f)=>l(h,...f)},d=t.map(h=>h(c));return l=Sg(...d)(a.dispatch),{...a,dispatch:l}}}function lk(t){return d_(t)&&"type"in t&&typeof t.type=="string"}var ok=Symbol.for("immer-nothing"),FC=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function Ja(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var oa=Object,Lu=oa.getPrototypeOf,Ag="constructor",By="prototype",_1="configurable",Tg="enumerable",ag="writable",qh="value",Us=t=>!!t&&!!t[Rr];function Xi(t){var e;return t?ck(t)||qy(t)||!!t[FC]||!!((e=t[Ag])!=null&&e[FC])||Hy(t)||Gy(t):!1}var ZB=oa[By][Ag].toString(),$C=new WeakMap;function ck(t){if(!t||!h_(t))return!1;const e=Lu(t);if(e===null||e===oa[By])return!0;const n=oa.hasOwnProperty.call(e,Ag)&&e[Ag];if(n===Object)return!0;if(!xu(n))return!1;let r=$C.get(n);return r===void 0&&(r=Function.toString.call(n),$C.set(n,r)),r===ZB}function vf(t,e,n=!0){bf(t)===0?(n?Reflect.ownKeys(t):oa.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function bf(t){const e=t[Rr];return e?e.type_:qy(t)?1:Hy(t)?2:Gy(t)?3:0}var BC=(t,e,n=bf(t))=>n===2?t.has(e):oa[By].hasOwnProperty.call(t,e),j1=(t,e,n=bf(t))=>n===2?t.get(e):t[e],Cg=(t,e,n,r=bf(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function eq(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var qy=Array.isArray,Hy=t=>t instanceof Map,Gy=t=>t instanceof Set,h_=t=>typeof t=="object",xu=t=>typeof t=="function",sw=t=>typeof t=="boolean",js=t=>t.copy_||t.base_,f_=t=>t.modified_?t.copy_:t.base_;function E1(t,e){if(Hy(t))return new Map(t);if(Gy(t))return new Set(t);if(qy(t))return Array[By].slice.call(t);const n=ck(t);if(e===!0||e==="class_only"&&!n){const r=oa.getOwnPropertyDescriptors(t);delete r[Rr];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],d=r[c];d[ag]===!1&&(d[ag]=!0,d[_1]=!0),(d.get||d.set)&&(r[c]={[_1]:!0,[ag]:!0,[Tg]:d[Tg],[qh]:t[c]})}return oa.create(Lu(t),r)}else{const r=Lu(t);if(r!==null&&n)return{...t};const a=oa.create(r);return oa.assign(a,t)}}function m_(t,e=!1){return Ky(t)||Us(t)||(bf(t)>1&&oa.defineProperties(t,{set:Cp,add:Cp,clear:Cp,delete:Cp}),oa.freeze(t),e&&vf(t,(n,r)=>{m_(r,!0)},!1)),t}function tq(){Ja(2)}var Cp={[qh]:tq};function Ky(t){return t===null||!h_(t)?!0:oa.isFrozen(t)}var Ig="MapSet",S1="Patches",uk={};function Uu(t){const e=uk[t];return e||Ja(0,t),e}var nq=t=>!!uk[t],Hh,dk=()=>Hh,rq=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nq(Ig)?Uu(Ig):void 0});function qC(t,e){e&&(t.patchPlugin_=Uu(S1),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function A1(t){T1(t),t.drafts_.forEach(aq),t.drafts_=null}function T1(t){t===Hh&&(Hh=t.parent_)}var HC=t=>Hh=rq(Hh,t);function aq(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rr].modified_&&(A1(e),Ja(4)),Xi(t)&&(t=KC(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Rr].base_,t,e)}else t=KC(e,n);return iq(e,t,!0),A1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ok?t:void 0}function KC(t,e){if(Ky(e))return e;const n=e[Rr];if(!n)return p_(e,t.handledSet_,t);if(!Yy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);mk(n,t)}return n.copy_}function iq(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&m_(e,n)}function hk(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Yy=(t,e)=>t.scope_===e,sq=[];function fk(t,e,n,r){const a=js(t),l=t.type_;if(r!==void 0&&j1(a,r,l)===e){Cg(a,r,n,l);return}if(!t.draftLocations_){const d=t.draftLocations_=new Map;vf(a,(h,f)=>{if(Us(f)){const p=d.get(f)||[];p.push(h),d.set(f,p)}})}const c=t.draftLocations_.get(e)??sq;for(const d of c)Cg(a,d,n,l)}function lq(t,e,n){t.callbacks_.push(function(a){var d;const l=e;if(!l||!Yy(l,a))return;(d=a.mapSetPlugin_)==null||d.fixSetContents(l);const c=f_(l);fk(t,l.draft_??l,c,n),mk(l,a)})}function mk(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:a}=e;if(a){const l=a.getPath(t);l&&a.generatePatches_(t,l,e)}hk(t)}}function oq(t,e,n){const{scope_:r}=t;if(Us(n)){const a=n[Rr];Yy(a,r)&&a.callbacks_.push(function(){ig(t);const c=f_(a);fk(t,n,c,e)})}else Xi(n)&&t.callbacks_.push(function(){const l=js(t);j1(l,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&p_(j1(t.copy_,e,t.type_),r.handledSet_,r)})}function p_(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Us(t)||e.has(t)||!Xi(t)||Ky(t)||(e.add(t),vf(t,(r,a)=>{if(Us(a)){const l=a[Rr];if(Yy(l,n)){const c=f_(l);Cg(t,r,c,t.type_),hk(l)}}else Xi(a)&&p_(a,e,n)})),t}function cq(t,e){const n=qy(t),r={type_:n?1:0,scope_:e?e.scope_:dk(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,l=g_;n&&(a=[r],l=Gh);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return r.draft_=d,r.revoke_=c,[d,r]}var g_={get(t,e){if(e===Rr)return t;const n=js(t);if(!BC(n,e,t.type_))return uq(t,n,e);const r=n[e];if(t.finalized_||!Xi(r))return r;if(r===lw(t.base_,e)){ig(t);const a=t.type_===1?+e:e,l=I1(t.scope_,r,t,a);return t.copy_[a]=l}return r},has(t,e){return e in js(t)},ownKeys(t){return Reflect.ownKeys(js(t))},set(t,e,n){const r=pk(js(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=lw(js(t),e),l=a==null?void 0:a[Rr];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(eq(n,a)&&(n!==void 0||BC(t.base_,e,t.type_)))return!0;ig(t),C1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),oq(t,e,n)),!0},deleteProperty(t,e){return ig(t),lw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),C1(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=js(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[ag]:!0,[_1]:t.type_!==1||e!=="length",[Tg]:r[Tg],[qh]:n[e]}},defineProperty(){Ja(11)},getPrototypeOf(t){return Lu(t.base_)},setPrototypeOf(){Ja(12)}},Gh={};vf(g_,(t,e)=>{Gh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Gh.deleteProperty=function(t,e){return Gh.set.call(this,t,e,void 0)};Gh.set=function(t,e,n){return g_.set.call(this,t[0],e,n,t[0])};function lw(t,e){const n=t[Rr];return(n?js(n):t)[e]}function uq(t,e,n){var a;const r=pk(e,n);return r?qh in r?r[qh]:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function pk(t,e){if(!(e in t))return;let n=Lu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lu(n)}}function C1(t){t.modified_||(t.modified_=!0,t.parent_&&C1(t.parent_))}function ig(t){t.copy_||(t.assigned_=new Map,t.copy_=E1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var dq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(xu(n)&&!xu(r)){const c=r;r=n;const d=this;return function(f=c,...p){return d.produce(f,g=>r.call(this,g,...p))}}xu(r)||Ja(6),a!==void 0&&!xu(a)&&Ja(7);let l;if(Xi(n)){const c=HC(this),d=I1(c,n,void 0);let h=!0;try{l=r(d),h=!1}finally{h?A1(c):T1(c)}return qC(c,a),GC(l,c)}else if(!n||!h_(n)){if(l=r(n),l===void 0&&(l=n),l===ok&&(l=void 0),this.autoFreeze_&&m_(l,!0),a){const c=[],d=[];Uu(S1).generateReplacementPatches_(n,l,{patches_:c,inversePatches_:d}),a(c,d)}return l}else Ja(1,n)},this.produceWithPatches=(n,r)=>{if(xu(n))return(d,...h)=>this.produceWithPatches(d,f=>n(f,...h));let a,l;return[this.produce(n,r,(d,h)=>{a=d,l=h}),a,l]},sw(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),sw(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),sw(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Xi(e)||Ja(8),Us(e)&&(e=si(e));const n=HC(this),r=I1(n,e,void 0);return r[Rr].isManual_=!0,T1(n),r}finishDraft(e,n){const r=e&&e[Rr];(!r||!r.isManual_)&&Ja(9);const{scope_:a}=r;return qC(a,n),GC(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const l=n[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(n=n.slice(r+1));const a=Uu(S1).applyPatches_;return Us(e)?a(e,n):this.produce(e,l=>a(l,n))}};function I1(t,e,n,r){const[a,l]=Hy(e)?Uu(Ig).proxyMap_(e,n):Gy(e)?Uu(Ig).proxySet_(e,n):cq(e,n);return((n==null?void 0:n.scope_)??dk()).drafts_.push(a),l.callbacks_=(n==null?void 0:n.callbacks_)??[],l.key_=r,n&&r!==void 0?lq(n,l,r):l.callbacks_.push(function(h){var p;(p=h.mapSetPlugin_)==null||p.fixSetContents(l);const{patchPlugin_:f}=h;l.modified_&&f&&f.generatePatches_(l,[],h)}),a}function si(t){return Us(t)||Ja(10,t),gk(t)}function gk(t){if(!Xi(t)||Ky(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=E1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=E1(t,!0);return vf(n,(a,l)=>{Cg(n,a,gk(l))},r),e&&(e.finalized_=!1),n}var hq=new dq,yk=hq.produce;function xk(t){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,t):a(l)}var fq=xk(),mq=xk,pq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sg:Sg.apply(null,arguments)};function Pa(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(ua(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>lk(r)&&r.type===t,n}var vk=class Ah extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ah.prototype)}static get[Symbol.species](){return Ah}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ah(...e[0].concat(this)):new Ah(...e.concat(this))}};function YC(t){return Xi(t)?yk(t,()=>{}):t}function Ip(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function gq(t){return typeof t=="boolean"}var yq=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new vk;return n&&(gq(n)?c.push(fq):c.push(mq(n.extraArgument))),c},bk="RTK_autoBatch",nn=()=>t=>({payload:t,meta:{[bk]:!0}}),WC=t=>e=>{setTimeout(e,t)},wk=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,l=!1,c=!1;const d=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WC(10):t.type==="callback"?t.queueNotification:WC(t.timeout),f=()=>{c=!1,l&&(l=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),v=r.subscribe(g);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){var g;try{return a=!((g=p==null?void 0:p.meta)!=null&&g[bk]),l=!a,l&&(c||(c=!0,h(f))),r.dispatch(p)}finally{a=!0}}})},xq=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new vk(t);return r&&a.push(wk(typeof r=="object"?r:void 0)),a};function vq(t){const e=yq(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(d_(n))d=sk(n);else throw new Error(ua(1));let h;typeof r=="function"?h=r(e):h=e();let f=Sg;a&&(f=pq({trace:!1,...typeof a=="object"&&a}));const p=JB(...h),g=xq(p);let v=typeof c=="function"?c(g):g();const N=f(...v);return ik(d,l,N)}function Nk(t){const e={},n=[];let r;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ua(28));if(d in e)throw new Error(ua(29));return e[d]=c,a},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return r=l,a}};return t(a),[e,n,r]}function bq(t){return typeof t=="function"}function wq(t,e){let[n,r,a]=Nk(e),l;if(bq(t))l=()=>YC(t());else{const d=YC(t);l=()=>d}function c(d=l(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[a]),f.reduce((p,g)=>{if(g)if(Us(p)){const N=g(p,h);return N===void 0?p:N}else{if(Xi(p))return yk(p,v=>g(v,h));{const v=g(p,h);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return c.getInitialState=l,c}var Nq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_q=(t=21)=>{let e="",n=t;for(;n--;)e+=Nq[Math.random()*64|0];return e},jq=Symbol.for("rtk-slice-createasyncthunk");function Eq(t,e){return`${t}/${e}`}function Sq({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[jq];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(ua(11));const d=(typeof a.reducers=="function"?a.reducers(Tq()):a.reducers)||{},h=Object.keys(d),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(T,C){const L=typeof T=="string"?T:T.type;if(!L)throw new Error(ua(12));if(L in f.sliceCaseReducersByType)throw new Error(ua(13));return f.sliceCaseReducersByType[L]=C,p},addMatcher(T,C){return f.sliceMatchers.push({matcher:T,reducer:C}),p},exposeAction(T,C){return f.actionCreators[T]=C,p},exposeCaseReducer(T,C){return f.sliceCaseReducersByName[T]=C,p}};h.forEach(T=>{const C=d[T],L={reducerName:T,type:Eq(l,T),createNotation:typeof a.reducers=="function"};Iq(C)?Dq(L,C,p,e):Cq(L,C,p)});function g(){const[T={},C=[],L=void 0]=typeof a.extraReducers=="function"?Nk(a.extraReducers):[a.extraReducers],P={...T,...f.sliceCaseReducersByType};return wq(a.initialState,V=>{for(let F in P)V.addCase(F,P[F]);for(let F of f.sliceMatchers)V.addMatcher(F.matcher,F.reducer);for(let F of C)V.addMatcher(F.matcher,F.reducer);L&&V.addDefaultCase(L)})}const v=T=>T,N=new Map,_=new WeakMap;let j;function E(T,C){return j||(j=g()),j(T,C)}function I(){return j||(j=g()),j.getInitialState()}function R(T,C=!1){function L(V){let F=V[T];return typeof F>"u"&&C&&(F=Ip(_,L,I)),F}function P(V=v){const F=Ip(N,C,()=>new WeakMap);return Ip(F,V,()=>{const A={};for(const[D,z]of Object.entries(a.selectors??{}))A[D]=Aq(z,V,()=>Ip(_,V,I),C);return A})}return{reducerPath:T,getSelectors:P,get selectors(){return P(L)},selectSlice:L}}const M={name:l,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:I,...R(c),injectInto(T,{reducerPath:C,...L}={}){const P=C??c;return T.inject({reducerPath:P,reducer:E},L),{...M,...R(P,!0)}}};return M}}function Aq(t,e,n,r){function a(l,...c){let d=e(l);return typeof d>"u"&&r&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var Wr=Sq();function Tq(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Cq({type:t,reducerName:e,createNotation:n},r,a){let l,c;if("reducer"in r){if(n&&!Oq(r))throw new Error(ua(17));l=r.reducer,c=r.prepare}else l=r;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?Pa(t,c):Pa(t))}function Iq(t){return t._reducerDefinitionType==="asyncThunk"}function Oq(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Dq({type:t,reducerName:e},n,r,a){if(!a)throw new Error(ua(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:h,settled:f,options:p}=n,g=a(t,l,p);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),d&&r.addCase(g.pending,d),h&&r.addCase(g.rejected,h),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:c||Op,pending:d||Op,rejected:h||Op,settled:f||Op})}function Op(){}var Rq="task",_k="listener",jk="completed",y_="cancelled",Pq=`task-${y_}`,kq=`task-${jk}`,O1=`${_k}-${y_}`,Mq=`${_k}-${jk}`,Wy=class{constructor(t){eb(this,"name","TaskAbortError");eb(this,"message");this.code=t,this.message=`${Rq} ${y_} (reason: ${t})`}},x_=(t,e)=>{if(typeof t!="function")throw new TypeError(ua(32))},Og=()=>{},Ek=(t,e=Og)=>(t.catch(e),t),Sk=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Zo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ec=t=>{if(t.aborted){const{reason:e}=t;throw new Wy(e)}};function Ak(t,e){let n=Og;return new Promise((r,a)=>{const l=()=>a(new Wy(t.reason));if(t.aborted){l();return}n=Sk(t,l),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Og})}var Lq=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Wy?"cancelled":"rejected",error:n}}finally{e==null||e()}},Dg=t=>e=>Ek(Ak(t,e).then(n=>(ec(t),n))),Tk=t=>{const e=Dg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Au}=Object,XC={},Xy="listenerMiddleware",Uq=(t,e)=>{const n=r=>Sk(t,()=>Zo(r,t.reason));return(r,a)=>{x_(r);const l=new AbortController;n(l);const c=Lq(async()=>{ec(t),ec(l.signal);const d=await r({pause:Dg(l.signal),delay:Tk(l.signal),signal:l.signal});return ec(l.signal),d},()=>Zo(l,kq));return a!=null&&a.autoJoin&&e.push(c.catch(Og)),{result:Dg(t)(c),cancel(){Zo(l,Pq)}}}},Vq=(t,e)=>{const n=async(r,a)=>{ec(e);let l=()=>{};const d=[new Promise((h,f)=>{let p=t({predicate:r,effect:(g,v)=>{v.unsubscribe(),h([g,v.getState(),v.getOriginalState()])}});l=()=>{p(),f()}})];a!=null&&d.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await Ak(e,Promise.race(d));return ec(e),h}finally{l()}};return(r,a)=>Ek(n(r,a))},Ck=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:l}=t;if(e)a=Pa(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ua(21));return x_(l),{predicate:a,type:e,effect:l}},Ik=Au(t=>{const{type:e,predicate:n,effect:r}=Ck(t);return{id:_q(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>Ik}),QC=(t,e)=>{const{type:n,effect:r,predicate:a}=Ck(e);return Array.from(t.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},D1=t=>{t.pending.forEach(e=>{Zo(e,O1)})},zq=(t,e)=>()=>{for(const n of e.keys())D1(n);t.clear()},JC=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Ok=Au(Pa(`${Xy}/add`),{withTypes:()=>Ok}),Fq=Pa(`${Xy}/removeAll`),Dk=Au(Pa(`${Xy}/remove`),{withTypes:()=>Dk}),$q=(...t)=>{console.error(`${Xy}/error`,...t)},wf=(t={})=>{const e=new Map,n=new Map,r=N=>{const _=n.get(N)??0;n.set(N,_+1)},a=N=>{const _=n.get(N)??1;_===1?n.delete(N):n.set(N,_-1)},{extra:l,onError:c=$q}=t;x_(c);const d=N=>(N.unsubscribe=()=>e.delete(N.id),e.set(N.id,N),_=>{N.unsubscribe(),_!=null&&_.cancelActive&&D1(N)}),h=N=>{const _=QC(e,N)??Ik(N);return d(_)};Au(h,{withTypes:()=>h});const f=N=>{const _=QC(e,N);return _&&(_.unsubscribe(),N.cancelActive&&D1(_)),!!_};Au(f,{withTypes:()=>f});const p=async(N,_,j,E)=>{const I=new AbortController,R=Vq(h,I.signal),M=[];try{N.pending.add(I),r(N),await Promise.resolve(N.effect(_,Au({},j,{getOriginalState:E,condition:(T,C)=>R(T,C).then(Boolean),take:R,delay:Tk(I.signal),pause:Dg(I.signal),extra:l,signal:I.signal,fork:Uq(I.signal,M),unsubscribe:N.unsubscribe,subscribe:()=>{e.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((T,C,L)=>{T!==I&&(Zo(T,O1),L.delete(T))})},cancel:()=>{Zo(I,O1),N.pending.delete(I)},throwIfCancelled:()=>{ec(I.signal)}})))}catch(T){T instanceof Wy||JC(c,T,{raisedBy:"effect"})}finally{await Promise.all(M),Zo(I,Mq),a(N),N.pending.delete(I)}},g=zq(e,n);return{middleware:N=>_=>j=>{if(!lk(j))return _(j);if(Ok.match(j))return h(j.payload);if(Fq.match(j)){g();return}if(Dk.match(j))return f(j.payload);let E=N.getState();const I=()=>{if(E===XC)throw new Error(ua(23));return E};let R;try{if(R=_(j),e.size>0){const M=N.getState(),T=Array.from(e.values());for(const C of T){let L=!1;try{L=C.predicate(j,M,E)}catch(P){L=!1,JC(c,P,{raisedBy:"predicate"})}L&&p(C,j,N,I)}}}finally{E=XC}return R},startListening:h,stopListening:f,clearListeners:g}};function ua(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Bq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Rk=Wr({name:"chartLayout",initialState:Bq,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,l;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(l=e.payload.left)!==null&&l!==void 0?l:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:qq,setLayout:Hq,setChartSize:Gq,setScale:Kq}=Rk.actions,Yq=Rk.reducer;function Pk(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){Wq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wq(t,e,n){return(e=Xq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xq(t){var e=Qq(t,"string");return typeof e=="symbol"?e:e+""}function Qq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rn(t,e,n){return ir(t)||ir(e)?n:Wi(e)?ac(t,e,n):typeof e=="function"?e(t):n}var Jq=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:l,verticalAlign:c,layout:d}=e;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&$e(t[l]))return ju(ju({},t),{},{[l]:t[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&$e(t[c]))return ju(ju({},t),{},{[c]:t[c]+(a||0)})}return t},yc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",kk=(t,e,n,r)=>{if(r)return t.map(d=>d.coordinate);var a,l,c=t.map(d=>(d.coordinate===e&&(a=!0),d.coordinate===n&&(l=!0),d.coordinate));return a||c.push(e),l||c.push(n),c},Mk=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:l,scale:c,realScaleType:d,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:v,axisType:N}=t;if(!c)return null;var _=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=a==="category"&&c.bandwidth?c.bandwidth()/_:0;if(j=N==="angleAxis"&&l&&l.length>=2?ar(l[0]-l[1])*2*j:j,g||v){var E=(g||v||[]).map((I,R)=>{var M=r?r.indexOf(I):I;return{coordinate:c(M)+j,value:I,offset:j,index:R}});return E.filter(I=>!oi(I.coordinate))}return h&&f?f.map((I,R)=>({coordinate:c(I)+j,value:I,index:R,offset:j})):c.ticks&&p!=null?c.ticks(p).map((I,R)=>({coordinate:c(I)+j,value:I,offset:j,index:R})):c.domain().map((I,R)=>({coordinate:c(I)+j,value:r?r[I]:I,index:R,offset:j}))},eI=1e-4,Zq=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-eI,l=Math.max(r[0],r[1])+eI,c=t(e[0]),d=t(e[n-1]);(c<a||c>l||d<a||d>l)&&t.domain([e[0],e[n-1]])}},eH=(t,e)=>{if(!e||e.length!==2||!$e(e[0])||!$e(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!$e(t[0])||t[0]<n)&&(a[0]=n),(!$e(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},tH=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,l=0,c=0;c<e;++c){var d=oi(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=a,t[c][n][1]=a+d,a=t[c][n][1]):(t[c][n][0]=l,t[c][n][1]=l+d,l=t[c][n][1])}},nH=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,l=0;l<e;++l){var c=oi(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=0,t[l][n][1]=0)}},rH={sign:tH,expand:C$,none:Mu,silhouette:I$,wiggle:O$,positive:nH},aH=(t,e,n)=>{var r=rH[n],a=T$().keys(e).value((l,c)=>Number(rn(l,c,0))).order(w1).offset(r);return a(t)};function iH(t){return t==null?void 0:String(t)}var tI=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:l,index:c}=t;if(e.type==="category")return n[c]?n[c].coordinate+r:null;var d=rn(l,e.dataKey,e.scale.domain()[c]);return ir(d)?null:e.scale(d)-a/2+r},sH=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},lH=t=>{var e=t.flat(2).filter($e);return[Math.min(...e),Math.max(...e)]},oH=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],cH=(t,e,n)=>{if(t!=null)return oH(Object.keys(t).reduce((r,a)=>{var l=t[a],{stackedData:c}=l,d=c.reduce((h,f)=>{var p=Pk(f,e,n),g=lH(p);return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},nI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rg=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=$y(e,p=>p.coordinate),l=1/0,c=1,d=a.length;c<d;c++){var h=a[c],f=a[c-1];l=Math.min((h.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function aI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:l}=t;return ju(ju({},e),{},{dataKey:n,payload:r,value:a,name:l})}function Qy(t,e){if(t)return String(t);if(typeof e=="string")return e}var uH=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},dH=(t,e)=>e==="centric"?t.angle:t.radius,Ws=t=>t.layout.width,Xs=t=>t.layout.height,hH=t=>t.layout.scale,Lk=t=>t.layout.margin,Jy=ce(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Zy=ce(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Uk="data-recharts-item-index",Vk="data-recharts-item-data-key",Nf=60;function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){fH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fH(t,e,n){return(e=mH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mH(t){var e=pH(t,"string");return typeof e=="symbol"?e:e+""}function pH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gH=t=>t.brush.height;function yH(t){var e=Zy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nf;return n+a}return n},0)}function xH(t){var e=Zy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Nf;return n+a}return n},0)}function vH(t){var e=Jy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function bH(t){var e=Jy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Kn=ce([Ws,Xs,Lk,gH,yH,xH,vH,bH,ak,GB],(t,e,n,r,a,l,c,d,h,f)=>{var p={left:(n.left||0)+a,right:(n.right||0)+l},g={top:(n.top||0)+c,bottom:(n.bottom||0)+d},v=Dp(Dp({},g),p),N=v.bottom;v.bottom+=r,v=Jq(v,h,f);var _=t-v.left-v.right,j=e-v.top-v.bottom;return Dp(Dp({brushBottom:N},v),{},{width:Math.max(_,0),height:Math.max(j,0)})}),wH=ce(Kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),v_=ce(Ws,Xs,(t,e)=>({x:0,y:0,width:t,height:e})),NH=w.createContext(null),Xr=()=>w.useContext(NH)!=null,e0=t=>t.brush,t0=ce([e0,Kn,Lk],(t,e,n)=>({height:t.height,x:$e(t.x)?t.x:e.left,y:$e(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:$e(t.width)?t.width:e.width})),ow={},cw={},uw={},sI;function _H(){return sI||(sI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:l}={}){let c,d=null;const h=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),p=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},g=()=>{f&&p(),j()};let v=null;const N=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},_=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{_(),c=void 0,d=null},E=()=>{p()},I=function(...R){if(a!=null&&a.aborted)return;c=this,d=R;const M=v==null;N(),h&&M&&p()};return I.schedule=N,I.cancel=j,I.flush=E,a==null||a.addEventListener("abort",j,{once:!0}),I}t.debounce=e})(uw)),uw}var lI;function jH(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_H();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:h}=l,f=Array(2);c&&(f[0]="leading"),d&&(f[1]="trailing");let p,g=null;const v=e.debounce(function(...j){p=r.apply(this,j),g=null},a,{edges:f}),N=function(...j){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(p=r.apply(this,j),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,j),p)},_=()=>(v.flush(),p);return N.cancel=v.cancel,N.flush=_,N}t.debounce=n})(cw)),cw}var oI;function EH(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jH();function n(r,a=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return e.debounce(r,a,{leading:c,maxWait:a,trailing:d})}t.throttle=n})(ow)),ow}var dw,cI;function SH(){return cI||(cI=1,dw=EH().throttle),dw}var AH=SH();const TH=ts(AH);var Pg=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},zk=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:l,maxHeight:c}=n,d=Ls(r)?t:Number(r),h=Ls(a)?e:Number(a);return l&&l>0&&(d?h=d/l:h&&(d=h*l),c&&h!=null&&h>c&&(h=c)),{calculatedWidth:d,calculatedHeight:h}},CH={width:0,height:0,overflow:"visible"},IH={width:0,overflowX:"visible"},OH={height:0,overflowY:"visible"},DH={},RH=t=>{var{width:e,height:n}=t,r=Ls(e),a=Ls(n);return r&&a?CH:r?IH:a?OH:DH};function PH(t){var{width:e,height:n,aspect:r}=t,a=e,l=n;return a===void 0&&l===void 0?(a="100%",l="100%"):a===void 0?a=r&&r>0?void 0:"100%":l===void 0&&(l=r&&r>0?void 0:"100%"),{width:a,height:l}}function jn(t){return Number.isFinite(t)}function Qi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R1.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){kH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kH(t,e,n){return(e=MH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=LH(t,"string");return typeof e=="symbol"?e:e+""}function LH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fk=w.createContext({width:-1,height:-1});function UH(t){return Qi(t.width)&&Qi(t.height)}function $k(t){var{children:e,width:n,height:r}=t,a=w.useMemo(()=>({width:n,height:r}),[n,r]);return UH(a)?w.createElement(Fk.Provider,{value:a},e):null}var b_=()=>w.useContext(Fk),VH=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:l,minWidth:c=0,minHeight:d,maxHeight:h,children:f,debounce:p=0,id:g,className:v,onResize:N,style:_={}}=t,j=w.useRef(null),E=w.useRef();E.current=N,w.useImperativeHandle(e,()=>j.current);var[I,R]=w.useState({containerWidth:r.width,containerHeight:r.height}),M=w.useCallback((V,F)=>{R(A=>{var D=Math.round(V),z=Math.round(F);return A.containerWidth===D&&A.containerHeight===z?A:{containerWidth:D,containerHeight:z}})},[]);w.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return xf;var V=z=>{var U,{width:de,height:ae}=z[0].contentRect;M(de,ae),(U=E.current)===null||U===void 0||U.call(E,de,ae)};p>0&&(V=TH(V,p,{trailing:!0,leading:!1}));var F=new ResizeObserver(V),{width:A,height:D}=j.current.getBoundingClientRect();return M(A,D),F.observe(j.current),()=>{F.disconnect()}},[M,p]);var{containerWidth:T,containerHeight:C}=I;Pg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:P}=zk(T,C,{width:a,height:l,aspect:n,maxHeight:h});return Pg(L!=null&&L>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,P,a,l,c,d,n),w.createElement("div",{id:g?"".concat(g):void 0,className:Ft("recharts-responsive-container",v),style:dI(dI({},_),{},{width:a,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:j},w.createElement("div",{style:RH({width:a,height:l})},w.createElement($k,{width:L,height:P},f)))}),Bk=w.forwardRef((t,e)=>{var n=b_();if(Qi(n.width)&&Qi(n.height))return t.children;var{width:r,height:a}=PH({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:l,calculatedHeight:c}=zk(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return $e(l)&&$e(c)?w.createElement($k,{width:l,height:c},t.children):w.createElement(VH,R1({},t,{width:r,height:a,ref:e}))});function qk(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var n0=()=>{var t,e=Xr(),n=Be(wH),r=Be(t0),a=(t=Be(e0))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},zH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Hk=()=>{var t;return(t=Be(Kn))!==null&&t!==void 0?t:zH},Gk=()=>Be(Ws),Kk=()=>Be(Xs),jt=t=>t.layout.layoutType,r0=()=>Be(jt),FH=()=>{var t=r0();return t!==void 0},a0=t=>{var e=ln(),n=Xr(),{width:r,height:a}=t,l=b_(),c=r,d=a;return l&&(c=l.width>0?l.width:r,d=l.height>0?l.height:a),w.useEffect(()=>{!n&&Qi(c)&&Qi(d)&&e(Gq({width:c,height:d}))},[e,n,c,d]),null},Yk=Symbol.for("immer-nothing"),hI=Symbol.for("immer-draftable"),fa=Symbol.for("immer-state");function Za(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kh=Object.getPrototypeOf;function Vu(t){return!!t&&!!t[fa]}function ic(t){var e;return t?Wk(t)||Array.isArray(t)||!!t[hI]||!!((e=t.constructor)!=null&&e[hI])||_f(t)||s0(t):!1}var $H=Object.prototype.constructor.toString(),fI=new WeakMap;function Wk(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=fI.get(n);return r===void 0&&(r=Function.toString.call(n),fI.set(n,r)),r===$H}function kg(t,e,n=!0){i0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function i0(t){const e=t[fa];return e?e.type_:Array.isArray(t)?1:_f(t)?2:s0(t)?3:0}function P1(t,e){return i0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Xk(t,e,n){const r=i0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function BH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function _f(t){return t instanceof Map}function s0(t){return t instanceof Set}function qo(t){return t.copy_||t.base_}function k1(t,e){if(_f(t))return new Map(t);if(s0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Wk(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[fa];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Kh(t),r)}else{const r=Kh(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function w_(t,e=!1){return l0(t)||Vu(t)||!ic(t)||(i0(t)>1&&Object.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),Object.freeze(t),e&&Object.values(t).forEach(n=>w_(n,!0))),t}function qH(){Za(2)}var Rp={value:qH};function l0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var HH={};function sc(t){const e=HH[t];return e||Za(0,t),e}var Yh;function Qk(){return Yh}function GH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mI(t,e){e&&(sc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function M1(t){L1(t),t.drafts_.forEach(KH),t.drafts_=null}function L1(t){t===Yh&&(Yh=t.parent_)}function pI(t){return Yh=GH(Yh,t)}function KH(t){const e=t[fa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[fa].modified_&&(M1(e),Za(4)),ic(t)&&(t=Mg(e,t),e.parent_||Lg(e,t)),e.patches_&&sc("Patches").generateReplacementPatches_(n[fa].base_,t,e.patches_,e.inversePatches_)):t=Mg(e,n,[]),M1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Yk?t:void 0}function Mg(t,e,n){if(l0(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[fa];if(!a)return kg(e,(l,c)=>yI(t,a,e,l,c,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Lg(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,d=!1;a.type_===3&&(c=new Set(l),l.clear(),d=!0),kg(c,(h,f)=>yI(t,a,l,h,f,n,d),r),Lg(t,l,!1),n&&t.patches_&&sc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function yI(t,e,n,r,a,l,c){if(a==null||typeof a!="object"&&!c)return;const d=l0(a);if(!(d&&!c)){if(Vu(a)){const h=l&&e&&e.type_!==3&&!P1(e.assigned_,r)?l.concat(r):void 0,f=Mg(t,a,h);if(Xk(n,r,f),Vu(f))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(ic(a)&&!d){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&d)return;Mg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(_f(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Lg(t,a)}}}function Lg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&w_(e,n)}function YH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Qk(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=N_;n&&(a=[r],l=Wh);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return r.draft_=d,r.revoke_=c,d}var N_={get(t,e){if(e===fa)return t;const n=qo(t);if(!P1(n,e))return WH(t,n,e);const r=n[e];return t.finalized_||!ic(r)?r:r===hw(t.base_,e)?(fw(t),t.copy_[e]=V1(r,t)):r},has(t,e){return e in qo(t)},ownKeys(t){return Reflect.ownKeys(qo(t))},set(t,e,n){const r=Jk(qo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=hw(qo(t),e),l=a==null?void 0:a[fa];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(BH(n,a)&&(n!==void 0||P1(t.base_,e)))return!0;fw(t),U1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fw(t),U1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=qo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Za(11)},getPrototypeOf(t){return Kh(t.base_)},setPrototypeOf(){Za(12)}},Wh={};kg(N_,(t,e)=>{Wh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Wh.deleteProperty=function(t,e){return Wh.set.call(this,t,e,void 0)};Wh.set=function(t,e,n){return N_.set.call(this,t[0],e,n,t[0])};function hw(t,e){const n=t[fa];return(n?qo(n):t)[e]}function WH(t,e,n){var a;const r=Jk(e,n);return r?"value"in r?r.value:(a=r.get)==null?void 0:a.call(t.draft_):void 0}function Jk(t,e){if(!(e in t))return;let n=Kh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Kh(n)}}function U1(t){t.modified_||(t.modified_=!0,t.parent_&&U1(t.parent_))}function fw(t){t.copy_||(t.copy_=k1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var XH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(h=l,...f){return c.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&Za(6),r!==void 0&&typeof r!="function"&&Za(7);let a;if(ic(e)){const l=pI(this),c=V1(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?M1(l):L1(l)}return mI(l,r),gI(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===Yk&&(a=void 0),this.autoFreeze_&&w_(a,!0),r){const l=[],c=[];sc("Patches").generateReplacementPatches_(e,a,l,c),r(l,c)}return a}else Za(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,h=>e(h,...d));let r,a;return[this.produce(e,n,(c,d)=>{r=c,a=d}),r,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ic(t)||Za(8),Vu(t)&&(t=QH(t));const e=pI(this),n=V1(t,void 0);return n[fa].isManual_=!0,L1(e),n}finishDraft(t,e){const n=t&&t[fa];(!n||!n.isManual_)&&Za(9);const{scope_:r}=n;return mI(r,e),gI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=sc("Patches").applyPatches_;return Vu(t)?r(t,e):this.produce(t,a=>r(a,e))}};function V1(t,e){const n=_f(t)?sc("MapSet").proxyMap_(t,e):s0(t)?sc("MapSet").proxySet_(t,e):YH(t,e);return(e?e.scope_:Qk()).drafts_.push(n),n}function QH(t){return Vu(t)||Za(10,t),Zk(t)}function Zk(t){if(!ic(t)||l0(t))return t;const e=t[fa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=k1(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=k1(t,!0);return kg(n,(a,l)=>{Xk(n,a,Zk(l))},r),e&&(e.finalized_=!1),n}var JH=new XH;JH.produce;var ZH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},eM=Wr({name:"legend",initialState:ZH,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:nn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=si(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:nn()},removeLegendPayload:{reducer(t,e){var n=si(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:nn()}}}),{setLegendSize:Jge,setLegendSettings:Zge,addLegendPayload:tM,replaceLegendPayload:nM,removeLegendPayload:rM}=eM.actions,eG=eM.reducer;function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(null,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){tG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tG(t,e,n){return(e=nG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nG(t){var e=rG(t,"string");return typeof e=="symbol"?e:e+""}function rG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aG(t){return Array.isArray(t)&&Wi(t[0])&&Wi(t[1])?t.join(" ~ "):t}var iG=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:l,formatter:c,itemSorter:d,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:v=!1}=t,N=()=>{if(l&&l.length){var C={padding:0,margin:0},L=(d?$y(l,d):l).map((P,V)=>{if(P.type==="none")return null;var F=P.formatter||c||aG,{value:A,name:D}=P,z=A,U=D;if(F){var de=F(A,D,P,V,l);if(Array.isArray(de))[z,U]=de;else if(de!=null)z=de;else return null}var ae=mw({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ae},Wi(U)?w.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Wi(U)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},z),w.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:C},L)}return null},_=mw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=mw({margin:0},a),E=!ir(p),I=E?p:"",R=Ft("recharts-default-tooltip",h),M=Ft("recharts-tooltip-label",f);E&&g&&l!==void 0&&l!==null&&(I=g(p,l));var T=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",z1({className:R,style:_},T),w.createElement("p",{className:M,style:j},w.isValidElement(I)?I:"".concat(I)),N())},vh="recharts-tooltip-wrapper",sG={visibility:"hidden"};function lG(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ft(vh,{["".concat(vh,"-right")]:$e(n)&&e&&$e(e.x)&&n>=e.x,["".concat(vh,"-left")]:$e(n)&&e&&$e(e.x)&&n<e.x,["".concat(vh,"-bottom")]:$e(r)&&e&&$e(e.y)&&r>=e.y,["".concat(vh,"-top")]:$e(r)&&e&&$e(e.y)&&r<e.y})}function vI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:l,reverseDirection:c,tooltipDimension:d,viewBox:h,viewBoxDimension:f}=t;if(l&&$e(l[r]))return l[r];var p=n[r]-d-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?p:g;var v=h[r];if(v==null)return 0;if(c[r]){var N=p,_=v;return N<_?Math.max(g,v):Math.max(p,v)}if(f==null)return 0;var j=g+d,E=v+f;return j>E?Math.max(p,v):Math.max(g,v)}function oG(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function cG(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:h}=t,f,p,g;return c.height>0&&c.width>0&&n?(p=vI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),g=vI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=oG({translateX:p,translateY:g,useTranslate3d:d})):f=sG,{cssProperties:f,cssClasses:lG({translateX:p,translateY:g,coordinate:n})}}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){F1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F1(t,e,n){return(e=uG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uG(t){var e=dG(t,"string");return typeof e=="symbol"?e:e+""}function dG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hG extends w.PureComponent{constructor(){super(...arguments),F1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),F1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:c,hasPayload:d,isAnimationActive:h,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:N,wrapperStyle:_,lastBoundingBox:j,innerRef:E,hasPortalFromProps:I}=this.props,{cssClasses:R,cssProperties:M}=cG({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:N}),T=I?{}:Pp(Pp({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&d?"visible":"hidden",position:"absolute",top:0,left:0}),C=Pp(Pp({},T),{},{visibility:!this.state.dismissed&&e&&d?"visible":"hidden"},_);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:C,ref:E},l)}}var fG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xc={devToolsEnabled:!1,isSsr:fG()},aM=()=>{var t;return(t=Be(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$1.apply(null,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function NI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){mG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mG(t,e,n){return(e=pG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pG(t){var e=gG(t,"string");return typeof e=="symbol"?e:e+""}function gG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _I={curveBasisClosed:y$,curveBasisOpen:x$,curveBasis:g$,curveBumpX:n$,curveBumpY:r$,curveLinearClosed:v$,curveLinear:Vy,curveMonotoneX:b$,curveMonotoneY:w$,curveNatural:N$,curveStep:_$,curveStepAfter:E$,curveStepBefore:j$},Ug=t=>jn(t.x)&&jn(t.y),jI=t=>t.base!=null&&Ug(t.base)&&Ug(t),bh=t=>t.x,wh=t=>t.y,yG=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(yf(t));return(n==="curveMonotone"||n==="curveBump")&&e?_I["".concat(n).concat(e==="vertical"?"Y":"X")]:_I[n]||Vy},xG=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:l=!1}=t,c=yG(e,a),d=l?n.filter(Ug):n,h;if(Array.isArray(r)){var f=n.map((N,_)=>NI(NI({},N),{},{base:r[_]}));a==="vertical"?h=Sp().y(wh).x1(bh).x0(N=>N.base.x):h=Sp().x(bh).y1(wh).y0(N=>N.base.y);var p=h.defined(jI).curve(c),g=l?f.filter(jI):f;return p(g)}a==="vertical"&&$e(r)?h=Sp().y(wh).x1(bh).x0(r):$e(r)?h=Sp().x(bh).y1(wh).y0(r):h=IP().x(bh).y(wh);var v=h.defined(Ug).curve(c);return v(d)},__=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var l=n&&n.length?xG(t):r;return w.createElement("path",$1({},li(t),W$(t),{className:Ft("recharts-curve",e),d:l===null?void 0:l,ref:a}))},vG=["x","y","top","left","width","height","className"];function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){wG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wG(t,e,n){return(e=NG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NG(t){var e=_G(t,"string");return typeof e=="symbol"?e:e+""}function _G(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jG(t,e){if(t==null)return{};var n,r,a=EG(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function EG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var SG=(t,e,n,r,a,l)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(l,",").concat(e,"h").concat(n),AG=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:l=0,height:c=0,className:d}=t,h=jG(t,vG),f=bG({x:e,y:n,top:r,left:a,width:l,height:c},h);return!$e(e)||!$e(n)||!$e(l)||!$e(c)||!$e(r)||!$e(a)?null:w.createElement("path",B1({},Ra(f),{className:Ft("recharts-cross",d),d:SG(e,n,l,c,r,a)}))};function TG(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){CG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CG(t,e,n){return(e=IG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IG(t){var e=OG(t,"string");return typeof e=="symbol"?e:e+""}function OG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DG=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),iM=(t,e,n)=>t.map(r=>"".concat(DG(r)," ").concat(e,"ms ").concat(n)).join(","),RG=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Xh=(t,e)=>Object.keys(e).reduce((n,r)=>AI(AI({},n),{},{[r]:t(r,e[r])}),{});function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){PG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PG(t,e,n){return(e=kG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kG(t){var e=MG(t,"string");return typeof e=="symbol"?e:e+""}function MG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vg=(t,e,n)=>t+(e-t)*n,q1=t=>{var{from:e,to:n}=t;return e!==n},sM=(t,e,n)=>{var r=Xh((a,l)=>{if(q1(l)){var[c,d]=t(l.from,l.to,l.velocity);return Bn(Bn({},l),{},{from:c,velocity:d})}return l},e);return n<1?Xh((a,l)=>q1(l)?Bn(Bn({},l),{},{velocity:Vg(l.velocity,r[a].velocity,n),from:Vg(l.from,r[a].from,n)}):l,e):sM(t,r,n-1)};function LG(t,e,n,r,a,l){var c,d=r.reduce((v,N)=>Bn(Bn({},v),{},{[N]:{from:t[N],velocity:0,to:e[N]}}),{}),h=()=>Xh((v,N)=>N.from,d),f=()=>!Object.values(d).filter(q1).length,p=null,g=v=>{c||(c=v);var N=v-c,_=N/n.dt;d=sM(n,d,_),a(Bn(Bn(Bn({},t),e),h())),c=v,f()||(p=l.setTimeout(g))};return()=>(p=l.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function UG(t,e,n,r,a,l,c){var d=null,h=a.reduce((g,v)=>Bn(Bn({},g),{},{[v]:[t[v],e[v]]}),{}),f,p=g=>{f||(f=g);var v=(g-f)/r,N=Xh((j,E)=>Vg(...E,n(v)),h);if(l(Bn(Bn(Bn({},t),e),N)),v<1)d=c.setTimeout(p);else{var _=Xh((j,E)=>Vg(...E,n(1)),h);l(Bn(Bn(Bn({},t),e),_))}};return()=>(d=c.setTimeout(p),()=>{var g;(g=d)===null||g===void 0||g()})}const VG=(t,e,n,r,a,l)=>{var c=RG(t,e);return n==null?()=>(a(Bn(Bn({},t),e)),()=>{}):n.isStepper===!0?LG(t,e,n,c,a,l):UG(t,e,n,r,c,a,l)};var zg=1e-4,lM=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],oM=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),CI=(t,e)=>n=>{var r=lM(t,e);return oM(r,n)},zG=(t,e)=>n=>{var r=lM(t,e),a=[...r.map((l,c)=>l*c).slice(1),0];return oM(a,n)},FG=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,l=n[0].split("(");if(l[0]==="cubic-bezier"&&((a=l[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var c=l[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return n.length===4?n:[0,0,1,1]},$G=(t,e,n,r)=>{var a=CI(t,n),l=CI(e,r),c=zG(t,n),d=f=>f>1?1:f<0?0:f,h=f=>{for(var p=f>1?1:f,g=p,v=0;v<8;++v){var N=a(g)-p,_=c(g);if(Math.abs(N-p)<zg||_<zg)return l(g);g=d(g-N/_)}return l(g)};return h.isStepper=!1,h},II=function(){return $G(...FG(...arguments))},BG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,l=(c,d,h)=>{var f=-(c-d)*n,p=h*r,g=h+(f-p)*a/1e3,v=h*a/1e3+c;return Math.abs(v-d)<zg&&Math.abs(g)<zg?[d,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},qG=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return II(t);case"spring":return BG();default:if(t.split("(")[0]==="cubic-bezier")return II(t)}return typeof t=="function"?t:null};function HG(t){var e,n=()=>null,r=!1,a=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[h,...f]=d;if(typeof h=="number"){a=t.setTimeout(l.bind(null,f),h);return}l(h),a=t.setTimeout(l.bind(null,f));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class GG{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function KG(){return HG(new GG)}var YG=w.createContext(KG);function WG(t,e){var n=w.useContext(YG);return w.useMemo(()=>e??n(t),[t,e,n])}var XG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OI={t:0},pw={t:1};function o0(t){var e=Sr(t,XG),{isActive:n,canBegin:r,duration:a,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:h,children:f}=e,p=n==="auto"?!xc.isSsr:n,g=WG(e.animationId,e.animationManager),[v,N]=w.useState(p?OI:pw),_=w.useRef(null);return w.useEffect(()=>{p||N(pw)},[p]),w.useEffect(()=>{if(!p||!r)return xf;var j=VG(OI,pw,qG(l),a,N,g.getTimeoutController()),E=()=>{_.current=j()};return g.start([h,c,E,a,d]),()=>{g.stop(),_.current&&_.current(),d()}},[p,r,a,l,c,h,d,g]),f(v.t)}function c0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Bh(e)),r=w.useRef(t);return r.current!==t&&(n.current=Bh(e),r.current=t),n.current}var QG=["radius"],JG=["radius"];function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){ZG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZG(t,e,n){return(e=eK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eK(t){var e=tK(t,"string");return typeof e=="symbol"?e:e+""}function tK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(null,arguments)}function PI(t,e){if(t==null)return{};var n,r,a=nK(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kI=(t,e,n,r,a)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(l>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=a[g]>l?l:a[g];f="M".concat(t,",").concat(e+c*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(h,",").concat(t+d*p[0],",").concat(e)),f+="L ".concat(t+n-d*p[1],",").concat(e),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+c*p[1])),f+="L ".concat(t+n,",").concat(e+r-c*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(h,`,
        `).concat(t+n-d*p[2],",").concat(e+r)),f+="L ".concat(t+d*p[3],",").concat(e+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-c*p[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var N=Math.min(l,a);f="M ".concat(t,",").concat(e+c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t+d*N,",").concat(e,`
            L `).concat(t+n-d*N,",").concat(e,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t+n,",").concat(e+c*N,`
            L `).concat(t+n,",").concat(e+r-c*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t+n-d*N,",").concat(e+r,`
            L `).concat(t+d*N,",").concat(e+r,`
            A `).concat(N,",").concat(N,",0,0,").concat(h,",").concat(t,",").concat(e+r-c*N," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},MI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cM=t=>{var e=Sr(t,MI),n=w.useRef(null),[r,a]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:l,y:c,width:d,height:h,radius:f,className:p}=e,{animationEasing:g,animationDuration:v,animationBegin:N,isAnimationActive:_,isUpdateAnimationActive:j}=e,E=w.useRef(d),I=w.useRef(h),R=w.useRef(l),M=w.useRef(c),T=w.useMemo(()=>({x:l,y:c,width:d,height:h,radius:f}),[l,c,d,h,f]),C=c0(T,"rectangle-");if(l!==+l||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var L=Ft("recharts-rectangle",p);if(!j){var P=Ra(e),{radius:V}=P,F=PI(P,QG);return w.createElement("path",Fg({},F,{radius:typeof f=="number"?f:void 0,className:L,d:kI(l,c,d,h,f)}))}var A=E.current,D=I.current,z=R.current,U=M.current,de="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),G=iM(["strokeDasharray"],v,typeof g=="string"?g:MI.animationEasing);return w.createElement(o0,{animationId:C,key:C,canBegin:r>0,duration:v,easing:g,isActive:j,begin:N},Y=>{var H=$n(A,d,Y),ge=$n(D,h,Y),W=$n(z,l,Y),B=$n(U,c,Y);n.current&&(E.current=H,I.current=ge,R.current=W,M.current=B);var J;_?Y>0?J={transition:G,strokeDasharray:ae}:J={strokeDasharray:de}:J={strokeDasharray:ae};var xe=Ra(e),{radius:te}=xe,X=PI(xe,JG);return w.createElement("path",Fg({},X,{radius:typeof f=="number"?f:void 0,className:L,d:kI(W,B,H,ge,f),ref:n,style:RI(RI({},J),e.style)}))})};function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){rK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rK(t,e,n){return(e=aK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aK(t){var e=iK(t,"string");return typeof e=="symbol"?e:e+""}function iK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $g=Math.PI/180,sK=t=>t*180/Math.PI,Ln=(t,e,n,r)=>({x:t+Math.cos(-$g*r)*n,y:e+Math.sin(-$g*r)*n}),uM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lK=(t,e)=>{var{x:n,y:r}=t,{x:a,y:l}=e;return Math.sqrt((n-a)**2+(r-l)**2)},oK=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:l}=e,c=lK({x:n,y:r},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-a)/c,h=Math.acos(d);return r>l&&(h=2*Math.PI-h),{radius:c,angle:sK(h),angleInRadian:h}},cK=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:e-l*360,endAngle:n-l*360}},uK=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(a,l);return t+c*360},dK=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:l}=oK({x:n,y:r},e),{innerRadius:c,outerRadius:d}=e;if(a<c||a>d||a===0)return null;var{startAngle:h,endAngle:f}=cK(e),p=l,g;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}return g?UI(UI({},e),{},{radius:a,angle:uK(p,e)}):null};function dM(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:l}=t,c=Ln(e,n,r,a),d=Ln(e,n,r,l);return{points:[c,d],cx:e,cy:n,radius:r,startAngle:a,endAngle:l}}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H1.apply(null,arguments)}var hK=(t,e)=>{var n=ar(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},kp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:h}=t,f=d*(c?1:-1)+r,p=Math.asin(d/f)/$g,g=h?a:a+l*p,v=Ln(e,n,f,g),N=Ln(e,n,r,g),_=h?a-l*p:a,j=Ln(e,n,f*Math.cos(p*$g),_);return{center:v,circleTangency:N,lineTangency:j,theta:p}},hM=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c}=t,d=hK(l,c),h=l+d,f=Ln(e,n,a,l),p=Ln(e,n,a,h),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=Ln(e,n,r,l),N=Ln(e,n,r,h);g+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},fK=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}=t,p=ar(f-h),{circleTangency:g,lineTangency:v,theta:N}=kp({cx:e,cy:n,radius:a,angle:h,sign:p,cornerRadius:l,cornerIsExternal:d}),{circleTangency:_,lineTangency:j,theta:E}=kp({cx:e,cy:n,radius:a,angle:f,sign:-p,cornerRadius:l,cornerIsExternal:d}),I=d?Math.abs(h-f):Math.abs(h-f)-N-E;if(I<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):hM({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:f});var R="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:M,lineTangency:T,theta:C}=kp({cx:e,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:L,lineTangency:P,theta:V}=kp({cx:e,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),F=d?Math.abs(h-f):Math.abs(h-f)-C-V;if(F<0&&l===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(p>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},mK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fM=t=>{var e=Sr(t,mK),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p,className:g}=e;if(l<a||f===p)return null;var v=Ft("recharts-sector",g),N=l-a,_=jr(c,N,0,!0),j;return _>0&&Math.abs(f-p)<360?j=fK({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(_,N/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:f,endAngle:p}):j=hM({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:f,endAngle:p}),w.createElement("path",H1({},Ra(e),{className:v,d:j}))};function pK(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(HP(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:l,outerRadius:c,angle:d}=e,h=Ln(r,a,l,d),f=Ln(r,a,c,d);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return dM(e)}}var gw={},yw={},xw={},VI;function gK(){return VI||(VI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nk();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(xw)),xw}var zI;function yK(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gK();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(yw)),yw}var FI;function xK(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rk(),n=yK();function r(a,l,c){c&&typeof c!="number"&&e.isIterateeCall(a,l,c)&&(l=c=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),c=c===void 0?a<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-a)/(c||1)),0),h=new Array(d);for(let f=0;f<d;f++)h[f]=a,a+=c;return h}t.range=r})(gw)),gw}var vw,$I;function vK(){return $I||($I=1,vw=xK().range),vw}var bK=vK();const mM=ts(bK);function Fl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j_(t){let e,n,r;t.length!==2?(e=Fl,n=(d,h)=>Fl(t(d),h),r=(d,h)=>t(d)-h):(e=t===Fl||t===wK?t:NK,n=t,r=t);function a(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const g=f+p>>>1;n(d[g],h)<0?f=g+1:p=g}while(f<p)}return f}function l(d,h,f=0,p=d.length){if(f<p){if(e(h,h)!==0)return p;do{const g=f+p>>>1;n(d[g],h)<=0?f=g+1:p=g}while(f<p)}return f}function c(d,h,f=0,p=d.length){const g=a(d,h,f,p-1);return g>f&&r(d[g-1],h)>-r(d[g],h)?g-1:g}return{left:a,center:c,right:l}}function NK(){return 0}function pM(t){return t===null?NaN:+t}function*_K(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const jK=j_(Fl),jf=jK.right;j_(pM).center;class BI extends Map{constructor(e,n=AK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(qI(this,e))}has(e){return super.has(qI(this,e))}set(e,n){return super.set(EK(this,e),n)}delete(e){return super.delete(SK(this,e))}}function qI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function EK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function SK({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function AK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function TK(t=Fl){if(t===Fl)return gM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const CK=Math.sqrt(50),IK=Math.sqrt(10),OK=Math.sqrt(2);function Bg(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),c=l>=CK?10:l>=IK?5:l>=OK?2:1;let d,h,f;return a<0?(f=Math.pow(10,-a)/c,d=Math.round(t*f),h=Math.round(e*f),d/f<t&&++d,h/f>e&&--h,f=-f):(f=Math.pow(10,a)*c,d=Math.round(t/f),h=Math.round(e/f),d*f<t&&++d,h*f>e&&--h),h<d&&.5<=n&&n<2?Bg(t,e,n*2):[d,h,f]}function G1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,l,c]=r?Bg(e,t,n):Bg(t,e,n);if(!(l>=a))return[];const d=l-a+1,h=new Array(d);if(r)if(c<0)for(let f=0;f<d;++f)h[f]=(l-f)/-c;else for(let f=0;f<d;++f)h[f]=(l-f)*c;else if(c<0)for(let f=0;f<d;++f)h[f]=(a+f)/-c;else for(let f=0;f<d;++f)h[f]=(a+f)*c;return h}function K1(t,e,n){return e=+e,t=+t,n=+n,Bg(t,e,n)[2]}function Y1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?K1(e,t,n):K1(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function HI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yM(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?gM:TK(a);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,p=Math.log(h),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(h-g)/h)*(f-h/2<0?-1:1),N=Math.max(n,Math.floor(e-f*g/h+v)),_=Math.min(r,Math.floor(e+(h-f)*g/h+v));yM(t,e,N,_,a)}const l=t[e];let c=n,d=r;for(Nh(t,n,e),a(t[r],l)>0&&Nh(t,n,r);c<d;){for(Nh(t,c,d),++c,--d;a(t[c],l)<0;)++c;for(;a(t[d],l)>0;)--d}a(t[n],l)===0?Nh(t,n,d):(++d,Nh(t,d,r)),d<=e&&(n=d+1),e<=d&&(r=d-1)}return t}function Nh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function DK(t,e,n){if(t=Float64Array.from(_K(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return GI(t);if(e>=1)return HI(t);var r,a=(r-1)*e,l=Math.floor(a),c=HI(yM(t,l).subarray(0,l+1)),d=GI(t.subarray(l+1));return c+(d-c)*(a-l)}}function RK(t,e,n=pM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,l=Math.floor(a),c=+n(t[l],l,t),d=+n(t[l+1],l+1,t);return c+(d-c)*(a-l)}}function PK(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,l=new Array(a);++r<a;)l[r]=t+r*n;return l}function La(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const W1=Symbol("implicit");function E_(){var t=new BI,e=[],n=[],r=W1;function a(l){let c=t.get(l);if(c===void 0){if(r!==W1)return r;t.set(l,c=e.push(l)-1)}return n[c%n.length]}return a.domain=function(l){if(!arguments.length)return e.slice();e=[],t=new BI;for(const c of l)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return E_(e,n).unknown(r)},La.apply(a,arguments),a}function S_(){var t=E_().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,l,c,d=!1,h=0,f=0,p=.5;delete t.unknown;function g(){var v=e().length,N=a<r,_=N?a:r,j=N?r:a;l=(j-_)/Math.max(1,v-h+f*2),d&&(l=Math.floor(l)),_+=(j-_-l*(v-h))*p,c=l*(1-h),d&&(_=Math.round(_),c=Math.round(c));var E=PK(v).map(function(I){return _+l*I});return n(N?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,d=!0,g()},t.bandwidth=function(){return c},t.step=function(){return l},t.round=function(v){return arguments.length?(d=!!v,g()):d},t.padding=function(v){return arguments.length?(h=Math.min(1,f=+v),g()):h},t.paddingInner=function(v){return arguments.length?(h=Math.min(1,v),g()):h},t.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},t.copy=function(){return S_(e(),[r,a]).round(d).paddingInner(h).paddingOuter(f).align(p)},La.apply(g(),arguments)}function xM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xM(e())},t}function kK(){return xM(S_.apply(null,arguments).paddingInner(1))}function A_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vM(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ef(){}var Qh=.7,qg=1/Qh,Tu="\\s*([+-]?\\d+)\\s*",Jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MK=/^#([0-9a-f]{3,8})$/,LK=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),UK=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),VK=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${Jh}\\)$`),zK=new RegExp(`^rgba\\(${zi},${zi},${zi},${Jh}\\)$`),FK=new RegExp(`^hsl\\(${Jh},${zi},${zi}\\)$`),$K=new RegExp(`^hsla\\(${Jh},${zi},${zi},${Jh}\\)$`),KI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A_(Ef,Zh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:YI,formatHex:YI,formatHex8:BK,formatHsl:qK,formatRgb:WI,toString:WI});function YI(){return this.rgb().formatHex()}function BK(){return this.rgb().formatHex8()}function qK(){return bM(this).formatHsl()}function WI(){return this.rgb().formatRgb()}function Zh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=MK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XI(e):n===3?new Hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LK.exec(t))?new Hr(e[1],e[2],e[3],1):(e=UK.exec(t))?new Hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=VK.exec(t))?Mp(e[1],e[2],e[3],e[4]):(e=zK.exec(t))?Mp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FK.exec(t))?ZI(e[1],e[2]/100,e[3]/100,1):(e=$K.exec(t))?ZI(e[1],e[2]/100,e[3]/100,e[4]):KI.hasOwnProperty(t)?XI(KI[t]):t==="transparent"?new Hr(NaN,NaN,NaN,0):null}function XI(t){return new Hr(t>>16&255,t>>8&255,t&255,1)}function Mp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hr(t,e,n,r)}function HK(t){return t instanceof Ef||(t=Zh(t)),t?(t=t.rgb(),new Hr(t.r,t.g,t.b,t.opacity)):new Hr}function X1(t,e,n,r){return arguments.length===1?HK(t):new Hr(t,e,n,r??1)}function Hr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}A_(Hr,X1,vM(Ef,{brighter(t){return t=t==null?qg:Math.pow(qg,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qh:Math.pow(Qh,t),new Hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hr(tc(this.r),tc(this.g),tc(this.b),Hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QI,formatHex:QI,formatHex8:GK,formatRgb:JI,toString:JI}));function QI(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function GK(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function JI(){const t=Hg(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function Hg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function ZI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ei(t,e,n,r)}function bM(t){if(t instanceof ei)return new ei(t.h,t.s,t.l,t.opacity);if(t instanceof Ef||(t=Zh(t)),!t)return new ei;if(t instanceof ei)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),l=Math.max(e,n,r),c=NaN,d=l-a,h=(l+a)/2;return d?(e===l?c=(n-r)/d+(n<r)*6:n===l?c=(r-e)/d+2:c=(e-n)/d+4,d/=h<.5?l+a:2-l-a,c*=60):d=h>0&&h<1?0:c,new ei(c,d,h,t.opacity)}function KK(t,e,n,r){return arguments.length===1?bM(t):new ei(t,e,n,r??1)}function ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}A_(ei,KK,vM(Ef,{brighter(t){return t=t==null?qg:Math.pow(qg,t),new ei(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qh:Math.pow(Qh,t),new ei(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Hr(bw(t>=240?t-240:t+120,a,r),bw(t,a,r),bw(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ei(eO(this.h),Lp(this.s),Lp(this.l),Hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hg(this.opacity);return`${t===1?"hsl(":"hsla("}${eO(this.h)}, ${Lp(this.s)*100}%, ${Lp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eO(t){return t=(t||0)%360,t<0?t+360:t}function Lp(t){return Math.max(0,Math.min(1,t||0))}function bw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const T_=t=>()=>t;function YK(t,e){return function(n){return t+n*e}}function WK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function XK(t){return(t=+t)==1?wM:function(e,n){return n-e?WK(e,n,t):T_(isNaN(e)?n:e)}}function wM(t,e){var n=e-t;return n?YK(t,n):T_(isNaN(t)?e:t)}const tO=(function t(e){var n=XK(e);function r(a,l){var c=n((a=X1(a)).r,(l=X1(l)).r),d=n(a.g,l.g),h=n(a.b,l.b),f=wM(a.opacity,l.opacity);return function(p){return a.r=c(p),a.g=d(p),a.b=h(p),a.opacity=f(p),a+""}}return r.gamma=t,r})(1);function QK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=t[a]*(1-l)+e[a]*l;return r}}function JK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ZK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)a[c]=td(t[c],e[c]);for(;c<n;++c)l[c]=e[c];return function(d){for(c=0;c<r;++c)l[c]=a[c](d);return l}}function eY(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Gg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function tY(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=td(t[a],e[a]):r[a]=e[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var Q1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ww=new RegExp(Q1.source,"g");function nY(t){return function(){return t}}function rY(t){return function(e){return t(e)+""}}function aY(t,e){var n=Q1.lastIndex=ww.lastIndex=0,r,a,l,c=-1,d=[],h=[];for(t=t+"",e=e+"";(r=Q1.exec(t))&&(a=ww.exec(e));)(l=a.index)>n&&(l=e.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(a=a[0])?d[c]?d[c]+=a:d[++c]=a:(d[++c]=null,h.push({i:c,x:Gg(r,a)})),n=ww.lastIndex;return n<e.length&&(l=e.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?h[0]?rY(h[0].x):nY(e):(e=h.length,function(f){for(var p=0,g;p<e;++p)d[(g=h[p]).i]=g.x(f);return d.join("")})}function td(t,e){var n=typeof e,r;return e==null||n==="boolean"?T_(e):(n==="number"?Gg:n==="string"?(r=Zh(e))?(e=r,tO):aY:e instanceof Zh?tO:e instanceof Date?eY:JK(e)?QK:Array.isArray(e)?ZK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?tY:Gg)(t,e)}function C_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function iY(t,e){e===void 0&&(e=t,t=td);for(var n=0,r=e.length-1,a=e[0],l=new Array(r<0?0:r);n<r;)l[n]=t(a,a=e[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function sY(t){return function(){return t}}function Kg(t){return+t}var nO=[0,1];function Ir(t){return t}function J1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sY(isNaN(e)?NaN:.5)}function lY(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function oY(t,e,n){var r=t[0],a=t[1],l=e[0],c=e[1];return a<r?(r=J1(a,r),l=n(c,l)):(r=J1(r,a),l=n(l,c)),function(d){return l(r(d))}}function cY(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),l=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=J1(t[c],t[c+1]),l[c]=n(e[c],e[c+1]);return function(d){var h=jf(t,d,1,r)-1;return l[h](a[h](d))}}function Sf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function u0(){var t=nO,e=nO,n=td,r,a,l,c=Ir,d,h,f;function p(){var v=Math.min(t.length,e.length);return c!==Ir&&(c=lY(t[0],t[v-1])),d=v>2?cY:oY,h=f=null,g}function g(v){return v==null||isNaN(v=+v)?l:(h||(h=d(t.map(r),e,n)))(r(c(v)))}return g.invert=function(v){return c(a((f||(f=d(e,t.map(r),Gg)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,Kg),p()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),n=C_,p()},g.clamp=function(v){return arguments.length?(c=v?!0:Ir,p()):c!==Ir},g.interpolate=function(v){return arguments.length?(n=v,p()):n},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,N){return r=v,a=N,p()}}function I_(){return u0()(Ir,Ir)}function uY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Yg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zu(t){return t=Yg(Math.abs(t)),t?t[1]:NaN}function dY(t,e){return function(n,r){for(var a=n.length,l=[],c=0,d=t[0],h=0;a>0&&d>0&&(h+d+1>r&&(d=Math.max(1,r-h)),l.push(n.substring(a-=d,a+d)),!((h+=d+1)>r));)d=t[c=(c+1)%t.length];return l.reverse().join(e)}}function hY(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(t){if(!(e=fY.exec(t)))throw new Error("invalid format: "+t);var e;return new O_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ef.prototype=O_.prototype;function O_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}O_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mY(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var NM;function pY(t,e){var n=Yg(t,e);if(!n)return t+"";var r=n[0],a=n[1],l=a-(NM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Yg(t,Math.max(0,e+l-1))[0]}function rO(t,e){var n=Yg(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const aO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rO(t*100,e),r:rO,s:pY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iO(t){return t}var sO=Array.prototype.map,lO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gY(t){var e=t.grouping===void 0||t.thousands===void 0?iO:dY(sO.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?iO:hY(sO.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",d=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(g){g=ef(g);var v=g.fill,N=g.align,_=g.sign,j=g.symbol,E=g.zero,I=g.width,R=g.comma,M=g.precision,T=g.trim,C=g.type;C==="n"?(R=!0,C="g"):aO[C]||(M===void 0&&(M=12),T=!0,C="g"),(E||v==="0"&&N==="=")&&(E=!0,v="0",N="=");var L=j==="$"?n:j==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=j==="$"?r:/[%p]/.test(C)?c:"",V=aO[C],F=/[defgprs%]/.test(C);M=M===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function A(D){var z=L,U=P,de,ae,G;if(C==="c")U=V(D)+U,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?h:V(Math.abs(D),M),T&&(D=mY(D)),Y&&+D==0&&_!=="+"&&(Y=!1),z=(Y?_==="("?_:d:_==="-"||_==="("?"":_)+z,U=(C==="s"?lO[8+NM/3]:"")+U+(Y&&_==="("?")":""),F){for(de=-1,ae=D.length;++de<ae;)if(G=D.charCodeAt(de),48>G||G>57){U=(G===46?a+D.slice(de+1):D.slice(de))+U,D=D.slice(0,de);break}}}R&&!E&&(D=e(D,1/0));var H=z.length+D.length+U.length,ge=H<I?new Array(I-H+1).join(v):"";switch(R&&E&&(D=e(ge+D,ge.length?I-U.length:1/0),ge=""),N){case"<":D=z+D+U+ge;break;case"=":D=z+ge+D+U;break;case"^":D=ge.slice(0,H=ge.length>>1)+z+D+U+ge.slice(H);break;default:D=ge+z+D+U;break}return l(D)}return A.toString=function(){return g+""},A}function p(g,v){var N=f((g=ef(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(zu(v)/3)))*3,j=Math.pow(10,-_),E=lO[8+_/3];return function(I){return N(j*I)+E}}return{format:f,formatPrefix:p}}var Up,D_,_M;yY({thousands:",",grouping:[3],currency:["$",""]});function yY(t){return Up=gY(t),D_=Up.format,_M=Up.formatPrefix,Up}function xY(t){return Math.max(0,-zu(Math.abs(t)))}function vY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zu(e)/3)))*3-zu(Math.abs(t)))}function bY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zu(e)-zu(t))+1}function jM(t,e,n,r){var a=Y1(t,e,n),l;switch(r=ef(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(l=vY(a,c))&&(r.precision=l),_M(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=bY(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=xY(a))&&(r.precision=l-(r.type==="%")*2);break}}return D_(r)}function ao(t){var e=t.domain;return t.ticks=function(n){var r=e();return G1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return jM(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,l=r.length-1,c=r[a],d=r[l],h,f,p=10;for(d<c&&(f=c,c=d,d=f,f=a,a=l,l=f);p-- >0;){if(f=K1(c,d,n),f===h)return r[a]=c,r[l]=d,e(r);if(f>0)c=Math.floor(c/f)*f,d=Math.ceil(d/f)*f;else if(f<0)c=Math.ceil(c*f)/f,d=Math.floor(d*f)/f;else break;h=f}return t},t}function EM(){var t=I_();return t.copy=function(){return Sf(t,EM())},La.apply(t,arguments),ao(t)}function SM(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Kg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SM(t).unknown(e)},t=arguments.length?Array.from(t,Kg):[0,1],ao(n)}function AM(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],l=t[r],c;return l<a&&(c=n,n=r,r=c,c=a,a=l,l=c),t[n]=e.floor(a),t[r]=e.ceil(l),t}function oO(t){return Math.log(t)}function cO(t){return Math.exp(t)}function wY(t){return-Math.log(-t)}function NY(t){return-Math.exp(-t)}function _Y(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jY(t){return t===10?_Y:t===Math.E?Math.exp:e=>Math.pow(t,e)}function EY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uO(t){return(e,n)=>-t(-e,n)}function R_(t){const e=t(oO,cO),n=e.domain;let r=10,a,l;function c(){return a=EY(r),l=jY(r),n()[0]<0?(a=uO(a),l=uO(l),t(wY,NY)):t(oO,cO),e}return e.base=function(d){return arguments.length?(r=+d,c()):r},e.domain=function(d){return arguments.length?(n(d),c()):n()},e.ticks=d=>{const h=n();let f=h[0],p=h[h.length-1];const g=p<f;g&&([f,p]=[p,f]);let v=a(f),N=a(p),_,j;const E=d==null?10:+d;let I=[];if(!(r%1)&&N-v<E){if(v=Math.floor(v),N=Math.ceil(N),f>0){for(;v<=N;++v)for(_=1;_<r;++_)if(j=v<0?_/l(-v):_*l(v),!(j<f)){if(j>p)break;I.push(j)}}else for(;v<=N;++v)for(_=r-1;_>=1;--_)if(j=v>0?_/l(-v):_*l(v),!(j<f)){if(j>p)break;I.push(j)}I.length*2<E&&(I=G1(f,p,E))}else I=G1(v,N,Math.min(N-v,E)).map(l);return g?I.reverse():I},e.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=ef(h)).precision==null&&(h.trim=!0),h=D_(h)),d===1/0)return h;const f=Math.max(1,r*d/e.ticks().length);return p=>{let g=p/l(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=f?h(p):""}},e.nice=()=>n(AM(n(),{floor:d=>l(Math.floor(a(d))),ceil:d=>l(Math.ceil(a(d)))})),e}function TM(){const t=R_(u0()).domain([1,10]);return t.copy=()=>Sf(t,TM()).base(t.base()),La.apply(t,arguments),t}function dO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function P_(t){var e=1,n=t(dO(e),hO(e));return n.constant=function(r){return arguments.length?t(dO(e=+r),hO(e)):e},ao(n)}function CM(){var t=P_(u0());return t.copy=function(){return Sf(t,CM()).constant(t.constant())},La.apply(t,arguments)}function fO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function SY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AY(t){return t<0?-t*t:t*t}function k_(t){var e=t(Ir,Ir),n=1;function r(){return n===1?t(Ir,Ir):n===.5?t(SY,AY):t(fO(n),fO(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},ao(e)}function M_(){var t=k_(u0());return t.copy=function(){return Sf(t,M_()).exponent(t.exponent())},La.apply(t,arguments),t}function TY(){return M_.apply(null,arguments).exponent(.5)}function mO(t){return Math.sign(t)*t*t}function CY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function IM(){var t=I_(),e=[0,1],n=!1,r;function a(l){var c=CY(t(l));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(l){return t.invert(mO(l))},a.domain=function(l){return arguments.length?(t.domain(l),a):t.domain()},a.range=function(l){return arguments.length?(t.range((e=Array.from(l,Kg)).map(mO)),a):e.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(t.clamp(l),a):t.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return IM(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},La.apply(a,arguments),ao(a)}function OM(){var t=[],e=[],n=[],r;function a(){var c=0,d=Math.max(1,e.length);for(n=new Array(d-1);++c<d;)n[c-1]=RK(t,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:e[jf(n,c)]}return l.invertExtent=function(c){var d=e.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:t[0],d<n.length?n[d]:t[t.length-1]]},l.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let d of c)d!=null&&!isNaN(d=+d)&&t.push(d);return t.sort(Fl),a()},l.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return OM().domain(t).range(e).unknown(r)},La.apply(l,arguments)}function DM(){var t=0,e=1,n=1,r=[.5],a=[0,1],l;function c(h){return h!=null&&h<=h?a[jf(r,h,0,n)]:l}function d(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return c}return c.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,d()):[t,e]},c.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,d()):a.slice()},c.invertExtent=function(h){var f=a.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},c.unknown=function(h){return arguments.length&&(l=h),c},c.thresholds=function(){return r.slice()},c.copy=function(){return DM().domain([t,e]).range(a).unknown(l)},La.apply(ao(c),arguments)}function RM(){var t=[.5],e=[0,1],n,r=1;function a(l){return l!=null&&l<=l?e[jf(t,l,0,r)]:n}return a.domain=function(l){return arguments.length?(t=Array.from(l),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(l){return arguments.length?(e=Array.from(l),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(l){var c=e.indexOf(l);return[t[c-1],t[c]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return RM().domain(t).range(e).unknown(n)},La.apply(a,arguments)}const Nw=new Date,_w=new Date;function Yn(t,e,n,r){function a(l){return t(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(t(l=new Date(+l)),l),a.ceil=l=>(t(l=new Date(l-1)),e(l,1),t(l),l),a.round=l=>{const c=a(l),d=a.ceil(l);return l-c<d-l?c:d},a.offset=(l,c)=>(e(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,d)=>{const h=[];if(l=a.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return h;let f;do h.push(f=new Date(+l)),e(l,d),t(l);while(f<l&&l<c);return h},a.filter=l=>Yn(c=>{if(c>=c)for(;t(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;e(c,-1),!l(c););else for(;--d>=0;)for(;e(c,1),!l(c););}),n&&(a.count=(l,c)=>(Nw.setTime(+l),_w.setTime(+c),t(Nw),t(_w),Math.floor(n(Nw,_w))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?c=>r(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const Wg=Yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wg);Wg.range;const As=1e3,Da=As*60,Ts=Da*60,Vs=Ts*24,L_=Vs*7,pO=Vs*30,jw=Vs*365,Wo=Yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCSeconds());Wo.range;const U_=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getMinutes());U_.range;const V_=Yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCMinutes());V_.range;const z_=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As-t.getMinutes()*Da)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());z_.range;const F_=Yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());F_.range;const Af=Yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Da)/Vs,t=>t.getDate()-1);Af.range;const d0=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>t.getUTCDate()-1);d0.range;const PM=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>Math.floor(t/Vs));PM.range;function vc(t){return Yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Da)/L_)}const h0=vc(0),Xg=vc(1),IY=vc(2),OY=vc(3),Fu=vc(4),DY=vc(5),RY=vc(6);h0.range;Xg.range;IY.range;OY.range;Fu.range;DY.range;RY.range;function bc(t){return Yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/L_)}const f0=bc(0),Qg=bc(1),PY=bc(2),kY=bc(3),$u=bc(4),MY=bc(5),LY=bc(6);f0.range;Qg.range;PY.range;kY.range;$u.range;MY.range;LY.range;const $_=Yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$_.range;const B_=Yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());B_.range;const zs=Yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});zs.range;const Fs=Yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fs.range;function kM(t,e,n,r,a,l){const c=[[Wo,1,As],[Wo,5,5*As],[Wo,15,15*As],[Wo,30,30*As],[l,1,Da],[l,5,5*Da],[l,15,15*Da],[l,30,30*Da],[a,1,Ts],[a,3,3*Ts],[a,6,6*Ts],[a,12,12*Ts],[r,1,Vs],[r,2,2*Vs],[n,1,L_],[e,1,pO],[e,3,3*pO],[t,1,jw]];function d(f,p,g){const v=p<f;v&&([f,p]=[p,f]);const N=g&&typeof g.range=="function"?g:h(f,p,g),_=N?N.range(f,+p+1):[];return v?_.reverse():_}function h(f,p,g){const v=Math.abs(p-f)/g,N=j_(([,,E])=>E).right(c,v);if(N===c.length)return t.every(Y1(f/jw,p/jw,g));if(N===0)return Wg.every(Math.max(Y1(f,p,g),1));const[_,j]=c[v/c[N-1][2]<c[N][2]/v?N-1:N];return _.every(j)}return[d,h]}const[UY,VY]=kM(Fs,B_,f0,PM,F_,V_),[zY,FY]=kM(zs,$_,h0,Af,z_,U_);function Ew(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _h(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $Y(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,l=t.days,c=t.shortDays,d=t.months,h=t.shortMonths,f=jh(a),p=Eh(a),g=jh(l),v=Eh(l),N=jh(c),_=Eh(c),j=jh(d),E=Eh(d),I=jh(h),R=Eh(h),M={a:Y,A:H,b:ge,B:W,c:null,d:wO,e:wO,f:dW,g:wW,G:_W,H:oW,I:cW,j:uW,L:MM,m:hW,M:fW,p:B,q:J,Q:jO,s:EO,S:mW,u:pW,U:gW,V:yW,w:xW,W:vW,x:null,X:null,y:bW,Y:NW,Z:jW,"%":_O},T={a:xe,A:te,b:X,B:Ee,c:null,d:NO,e:NO,f:TW,g:UW,G:zW,H:EW,I:SW,j:AW,L:UM,m:CW,M:IW,p:Te,q:re,Q:jO,s:EO,S:OW,u:DW,U:RW,V:PW,w:kW,W:MW,x:null,X:null,y:LW,Y:VW,Z:FW,"%":_O},C={a:A,A:D,b:z,B:U,c:de,d:vO,e:vO,f:aW,g:xO,G:yO,H:bO,I:bO,j:eW,L:rW,m:ZY,M:tW,p:F,q:JY,Q:sW,s:lW,S:nW,u:KY,U:YY,V:WY,w:GY,W:XY,x:ae,X:G,y:xO,Y:yO,Z:QY,"%":iW};M.x=L(n,M),M.X=L(r,M),M.c=L(e,M),T.x=L(n,T),T.X=L(r,T),T.c=L(e,T);function L(ie,ke){return function(Z){var he=[],Ue=-1,qe=0,vt=ie.length,Se,yt,ve;for(Z instanceof Date||(Z=new Date(+Z));++Ue<vt;)ie.charCodeAt(Ue)===37&&(he.push(ie.slice(qe,Ue)),(yt=gO[Se=ie.charAt(++Ue)])!=null?Se=ie.charAt(++Ue):yt=Se==="e"?" ":"0",(ve=ke[Se])&&(Se=ve(Z,yt)),he.push(Se),qe=Ue+1);return he.push(ie.slice(qe,Ue)),he.join("")}}function P(ie,ke){return function(Z){var he=_h(1900,void 0,1),Ue=V(he,ie,Z+="",0),qe,vt;if(Ue!=Z.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ke&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(qe=Sw(_h(he.y,0,1)),vt=qe.getUTCDay(),qe=vt>4||vt===0?Qg.ceil(qe):Qg(qe),qe=d0.offset(qe,(he.V-1)*7),he.y=qe.getUTCFullYear(),he.m=qe.getUTCMonth(),he.d=qe.getUTCDate()+(he.w+6)%7):(qe=Ew(_h(he.y,0,1)),vt=qe.getDay(),qe=vt>4||vt===0?Xg.ceil(qe):Xg(qe),qe=Af.offset(qe,(he.V-1)*7),he.y=qe.getFullYear(),he.m=qe.getMonth(),he.d=qe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),vt="Z"in he?Sw(_h(he.y,0,1)).getUTCDay():Ew(_h(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(vt+5)%7:he.w+he.U*7-(vt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Sw(he)):Ew(he)}}function V(ie,ke,Z,he){for(var Ue=0,qe=ke.length,vt=Z.length,Se,yt;Ue<qe;){if(he>=vt)return-1;if(Se=ke.charCodeAt(Ue++),Se===37){if(Se=ke.charAt(Ue++),yt=C[Se in gO?ke.charAt(Ue++):Se],!yt||(he=yt(ie,Z,he))<0)return-1}else if(Se!=Z.charCodeAt(he++))return-1}return he}function F(ie,ke,Z){var he=f.exec(ke.slice(Z));return he?(ie.p=p.get(he[0].toLowerCase()),Z+he[0].length):-1}function A(ie,ke,Z){var he=N.exec(ke.slice(Z));return he?(ie.w=_.get(he[0].toLowerCase()),Z+he[0].length):-1}function D(ie,ke,Z){var he=g.exec(ke.slice(Z));return he?(ie.w=v.get(he[0].toLowerCase()),Z+he[0].length):-1}function z(ie,ke,Z){var he=I.exec(ke.slice(Z));return he?(ie.m=R.get(he[0].toLowerCase()),Z+he[0].length):-1}function U(ie,ke,Z){var he=j.exec(ke.slice(Z));return he?(ie.m=E.get(he[0].toLowerCase()),Z+he[0].length):-1}function de(ie,ke,Z){return V(ie,e,ke,Z)}function ae(ie,ke,Z){return V(ie,n,ke,Z)}function G(ie,ke,Z){return V(ie,r,ke,Z)}function Y(ie){return c[ie.getDay()]}function H(ie){return l[ie.getDay()]}function ge(ie){return h[ie.getMonth()]}function W(ie){return d[ie.getMonth()]}function B(ie){return a[+(ie.getHours()>=12)]}function J(ie){return 1+~~(ie.getMonth()/3)}function xe(ie){return c[ie.getUTCDay()]}function te(ie){return l[ie.getUTCDay()]}function X(ie){return h[ie.getUTCMonth()]}function Ee(ie){return d[ie.getUTCMonth()]}function Te(ie){return a[+(ie.getUTCHours()>=12)]}function re(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ke=L(ie+="",M);return ke.toString=function(){return ie},ke},parse:function(ie){var ke=P(ie+="",!1);return ke.toString=function(){return ie},ke},utcFormat:function(ie){var ke=L(ie+="",T);return ke.toString=function(){return ie},ke},utcParse:function(ie){var ke=P(ie+="",!0);return ke.toString=function(){return ie},ke}}}var gO={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,BY=/^%/,qY=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(e)+a:a)}function HY(t){return t.replace(qY,"\\$&")}function jh(t){return new RegExp("^(?:"+t.map(HY).join("|")+")","i")}function Eh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function GY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function KY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function YY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function WY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function XY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function yO(t,e,n){var r=sr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QY(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function JY(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ZY(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eW(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function bO(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function tW(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function nW(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rW(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function aW(t,e,n){var r=sr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iW(t,e,n){var r=BY.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sW(t,e,n){var r=sr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function lW(t,e,n){var r=sr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function wO(t,e){return _t(t.getDate(),e,2)}function oW(t,e){return _t(t.getHours(),e,2)}function cW(t,e){return _t(t.getHours()%12||12,e,2)}function uW(t,e){return _t(1+Af.count(zs(t),t),e,3)}function MM(t,e){return _t(t.getMilliseconds(),e,3)}function dW(t,e){return MM(t,e)+"000"}function hW(t,e){return _t(t.getMonth()+1,e,2)}function fW(t,e){return _t(t.getMinutes(),e,2)}function mW(t,e){return _t(t.getSeconds(),e,2)}function pW(t){var e=t.getDay();return e===0?7:e}function gW(t,e){return _t(h0.count(zs(t)-1,t),e,2)}function LM(t){var e=t.getDay();return e>=4||e===0?Fu(t):Fu.ceil(t)}function yW(t,e){return t=LM(t),_t(Fu.count(zs(t),t)+(zs(t).getDay()===4),e,2)}function xW(t){return t.getDay()}function vW(t,e){return _t(Xg.count(zs(t)-1,t),e,2)}function bW(t,e){return _t(t.getFullYear()%100,e,2)}function wW(t,e){return t=LM(t),_t(t.getFullYear()%100,e,2)}function NW(t,e){return _t(t.getFullYear()%1e4,e,4)}function _W(t,e){var n=t.getDay();return t=n>=4||n===0?Fu(t):Fu.ceil(t),_t(t.getFullYear()%1e4,e,4)}function jW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function NO(t,e){return _t(t.getUTCDate(),e,2)}function EW(t,e){return _t(t.getUTCHours(),e,2)}function SW(t,e){return _t(t.getUTCHours()%12||12,e,2)}function AW(t,e){return _t(1+d0.count(Fs(t),t),e,3)}function UM(t,e){return _t(t.getUTCMilliseconds(),e,3)}function TW(t,e){return UM(t,e)+"000"}function CW(t,e){return _t(t.getUTCMonth()+1,e,2)}function IW(t,e){return _t(t.getUTCMinutes(),e,2)}function OW(t,e){return _t(t.getUTCSeconds(),e,2)}function DW(t){var e=t.getUTCDay();return e===0?7:e}function RW(t,e){return _t(f0.count(Fs(t)-1,t),e,2)}function VM(t){var e=t.getUTCDay();return e>=4||e===0?$u(t):$u.ceil(t)}function PW(t,e){return t=VM(t),_t($u.count(Fs(t),t)+(Fs(t).getUTCDay()===4),e,2)}function kW(t){return t.getUTCDay()}function MW(t,e){return _t(Qg.count(Fs(t)-1,t),e,2)}function LW(t,e){return _t(t.getUTCFullYear()%100,e,2)}function UW(t,e){return t=VM(t),_t(t.getUTCFullYear()%100,e,2)}function VW(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function zW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$u(t):$u.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function FW(){return"+0000"}function _O(){return"%"}function jO(t){return+t}function EO(t){return Math.floor(+t/1e3)}var fu,zM,FM;$W({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $W(t){return fu=$Y(t),zM=fu.format,fu.parse,FM=fu.utcFormat,fu.utcParse,fu}function BW(t){return new Date(t)}function qW(t){return t instanceof Date?+t:+new Date(+t)}function q_(t,e,n,r,a,l,c,d,h,f){var p=I_(),g=p.invert,v=p.domain,N=f(".%L"),_=f(":%S"),j=f("%I:%M"),E=f("%I %p"),I=f("%a %d"),R=f("%b %d"),M=f("%B"),T=f("%Y");function C(L){return(h(L)<L?N:d(L)<L?_:c(L)<L?j:l(L)<L?E:r(L)<L?a(L)<L?I:R:n(L)<L?M:T)(L)}return p.invert=function(L){return new Date(g(L))},p.domain=function(L){return arguments.length?v(Array.from(L,qW)):v().map(BW)},p.ticks=function(L){var P=v();return t(P[0],P[P.length-1],L??10)},p.tickFormat=function(L,P){return P==null?C:f(P)},p.nice=function(L){var P=v();return(!L||typeof L.range!="function")&&(L=e(P[0],P[P.length-1],L??10)),L?v(AM(P,L)):p},p.copy=function(){return Sf(p,q_(t,e,n,r,a,l,c,d,h,f))},p}function HW(){return La.apply(q_(zY,FY,zs,$_,h0,Af,z_,U_,Wo,zM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GW(){return La.apply(q_(UY,VY,Fs,B_,f0,d0,F_,V_,Wo,FM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function m0(){var t=0,e=1,n,r,a,l,c=Ir,d=!1,h;function f(g){return g==null||isNaN(g=+g)?h:c(a===0?.5:(g=(l(g)-n)*a,d?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=l(t=+t),r=l(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(d=!!g,f):d},f.interpolator=function(g){return arguments.length?(c=g,f):c};function p(g){return function(v){var N,_;return arguments.length?([N,_]=v,c=g(N,_),f):[c(0),c(1)]}}return f.range=p(td),f.rangeRound=p(C_),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return l=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),f}}function io(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $M(){var t=ao(m0()(Ir));return t.copy=function(){return io(t,$M())},Qs.apply(t,arguments)}function BM(){var t=R_(m0()).domain([1,10]);return t.copy=function(){return io(t,BM()).base(t.base())},Qs.apply(t,arguments)}function qM(){var t=P_(m0());return t.copy=function(){return io(t,qM()).constant(t.constant())},Qs.apply(t,arguments)}function H_(){var t=k_(m0());return t.copy=function(){return io(t,H_()).exponent(t.exponent())},Qs.apply(t,arguments)}function KW(){return H_.apply(null,arguments).exponent(.5)}function HM(){var t=[],e=Ir;function n(r){if(r!=null&&!isNaN(r=+r))return e((jf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Fl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>DK(t,l/r))},n.copy=function(){return HM(e).domain(t)},Qs.apply(n,arguments)}function p0(){var t=0,e=.5,n=1,r=1,a,l,c,d,h,f=Ir,p,g=!1,v;function N(j){return isNaN(j=+j)?v:(j=.5+((j=+p(j))-l)*(r*j<r*l?d:h),f(g?Math.max(0,Math.min(1,j)):j))}N.domain=function(j){return arguments.length?([t,e,n]=j,a=p(t=+t),l=p(e=+e),c=p(n=+n),d=a===l?0:.5/(l-a),h=l===c?0:.5/(c-l),r=l<a?-1:1,N):[t,e,n]},N.clamp=function(j){return arguments.length?(g=!!j,N):g},N.interpolator=function(j){return arguments.length?(f=j,N):f};function _(j){return function(E){var I,R,M;return arguments.length?([I,R,M]=E,f=iY(j,[I,R,M]),N):[f(0),f(.5),f(1)]}}return N.range=_(td),N.rangeRound=_(C_),N.unknown=function(j){return arguments.length?(v=j,N):v},function(j){return p=j,a=j(t),l=j(e),c=j(n),d=a===l?0:.5/(l-a),h=l===c?0:.5/(c-l),r=l<a?-1:1,N}}function GM(){var t=ao(p0()(Ir));return t.copy=function(){return io(t,GM())},Qs.apply(t,arguments)}function KM(){var t=R_(p0()).domain([.1,1,10]);return t.copy=function(){return io(t,KM()).base(t.base())},Qs.apply(t,arguments)}function YM(){var t=P_(p0());return t.copy=function(){return io(t,YM()).constant(t.constant())},Qs.apply(t,arguments)}function G_(){var t=k_(p0());return t.copy=function(){return io(t,G_()).exponent(t.exponent())},Qs.apply(t,arguments)}function YW(){return G_.apply(null,arguments).exponent(.5)}const Th=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:S_,scaleDiverging:GM,scaleDivergingLog:KM,scaleDivergingPow:G_,scaleDivergingSqrt:YW,scaleDivergingSymlog:YM,scaleIdentity:SM,scaleImplicit:W1,scaleLinear:EM,scaleLog:TM,scaleOrdinal:E_,scalePoint:kK,scalePow:M_,scaleQuantile:OM,scaleQuantize:DM,scaleRadial:IM,scaleSequential:$M,scaleSequentialLog:BM,scaleSequentialPow:H_,scaleSequentialQuantile:HM,scaleSequentialSqrt:KW,scaleSequentialSymlog:qM,scaleSqrt:TY,scaleSymlog:CM,scaleThreshold:RM,scaleTime:HW,scaleUtc:GW,tickFormat:jM},Symbol.toStringTag,{value:"Module"}));var so=t=>t.chartData,K_=ce([so],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Y_=(t,e,n,r)=>r?K_(t):so(t);function Yl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(jn(e)&&jn(n))return!0}return!1}function SO(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function WM(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,l;if(jn(n))a=n;else if(typeof n=="function")return;if(jn(r))l=r;else if(typeof r=="function")return;var c=[a,l];if(Yl(c))return c}}function WW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Yl(r))return SO(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,l]=t,c,d;if(a==="auto")e!=null&&(c=Math.min(...e));else if($e(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e==null?void 0:e[0]))}catch{}else if(typeof a=="string"&&nI.test(a)){var h=nI.exec(a);if(h==null||e==null)c=void 0;else{var f=+h[1];c=e[0]-f}}else c=e==null?void 0:e[0];if(l==="auto")e!=null&&(d=Math.max(...e));else if($e(l))d=l;else if(typeof l=="function")try{e!=null&&(d=l(e==null?void 0:e[1]))}catch{}else if(typeof l=="string"&&rI.test(l)){var p=rI.exec(l);if(p==null||e==null)d=void 0;else{var g=+p[1];d=e[1]+g}}else d=e==null?void 0:e[1];var v=[c,d];if(Yl(v))return e==null?v:SO(v,e,n)}}}var nd=1e9,XW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X_,an=!0,ka="[DecimalError] ",nc=ka+"Invalid argument: ",W_=ka+"Exponent out of range: ",rd=Math.floor,Ho=Math.pow,QW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,la,nr=1e7,Jt=7,XM=9007199254740991,Jg=rd(XM/Jt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,a,l=this;if(t=new l.constructor(t),l.s!==t.s)return l.s||-t.s;if(l.e!==t.e)return l.e>t.e^l.s<0?1:-1;for(r=l.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(l.d[e]!==t.d[e])return l.d[e]>t.d[e]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return Rs(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return qt(Rs(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return zn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,a=r.precision,l=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(la))throw Error(ka+"NaN");if(n.s<1)throw Error(ka+(n.s?"NaN":"-Infinity"));return n.eq(la)?new r(0):(an=!1,e=Rs(tf(n,l),tf(t,l),l),an=!0,qt(e,a))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ZM(e,t):QM(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(ka+"NaN");return n.s?(an=!1,e=Rs(n,t,0,1).times(t),an=!0,n.minus(e)):qt(new r(n),a)};Me.naturalExponential=Me.exp=function(){return JM(this)};Me.naturalLogarithm=Me.ln=function(){return tf(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?QM(e,t):ZM(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=zn(a)+1,r=a.d.length-1,n=r*Jt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,a,l,c,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(ka+"NaN")}for(t=zn(d),an=!1,a=Math.sqrt(+d),a==0||a==1/0?(e=Vi(d.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=rd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=c=n+3;;)if(l=r,r=l.plus(Rs(d,l,c+2)).times(.5),Vi(l.d).slice(0,c)===(e=Vi(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(qt(l,n+1,0),l.times(l).eq(d)){r=l;break}}else if(e!="9999")break;c+=4}return an=!0,qt(r,n)};Me.times=Me.mul=function(t){var e,n,r,a,l,c,d,h,f,p=this,g=p.constructor,v=p.d,N=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,h=v.length,f=N.length,h<f&&(l=v,v=N,N=l,c=h,h=f,f=c),l=[],c=h+f,r=c;r--;)l.push(0);for(r=f;--r>=0;){for(e=0,a=h+r;a>r;)d=l[a]+N[r]*v[a-r-1]+e,l[a--]=d%nr|0,e=d/nr|0;l[a]=(l[a]+e)%nr|0}for(;!l[--c];)l.pop();return e?++n:l.shift(),t.d=l,t.e=n,an?qt(t,g.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ji(t,0,nd),e===void 0?e=r.rounding:Ji(e,0,8),qt(n,t+zn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=lc(r,!0):(Ji(t,0,nd),e===void 0?e=a.rounding:Ji(e,0,8),r=qt(new a(r),t+1,e),n=lc(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,a=this,l=a.constructor;return t===void 0?lc(a):(Ji(t,0,nd),e===void 0?e=l.rounding:Ji(e,0,8),r=qt(new l(a),t+zn(a)+1,e),n=lc(r.abs(),!1,t+zn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return qt(new e(t),zn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,a,l,c,d=this,h=d.constructor,f=12,p=+(t=new h(t));if(!t.s)return new h(la);if(d=new h(d),!d.s){if(t.s<1)throw Error(ka+"Infinity");return d}if(d.eq(la))return d;if(r=h.precision,t.eq(la))return qt(d,r);if(e=t.e,n=t.d.length-1,c=e>=n,l=d.s,c){if((n=p<0?-p:p)<=XM){for(a=new h(la),e=Math.ceil(r/Jt+4),an=!1;n%2&&(a=a.times(d),TO(a.d,e)),n=rd(n/2),n!==0;)d=d.times(d),TO(d.d,e);return an=!0,t.s<0?new h(la).div(a):qt(a,r)}}else if(l<0)throw Error(ka+"NaN");return l=l<0&&t.d[Math.max(e,n)]&1?-1:1,d.s=1,an=!1,a=t.times(tf(d,r+f)),an=!0,a=JM(a),a.s=l,a};Me.toPrecision=function(t,e){var n,r,a=this,l=a.constructor;return t===void 0?(n=zn(a),r=lc(a,n<=l.toExpNeg||n>=l.toExpPos)):(Ji(t,1,nd),e===void 0?e=l.rounding:Ji(e,0,8),a=qt(new l(a),t,e),n=zn(a),r=lc(a,t<=n||n<=l.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ji(t,1,nd),e===void 0?e=r.rounding:Ji(e,0,8)),qt(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return lc(t,e<=n.toExpNeg||e>=n.toExpPos)};function QM(t,e){var n,r,a,l,c,d,h,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),an?qt(e,g):e;if(h=t.d,f=e.d,c=t.e,a=e.e,h=h.slice(),l=c-a,l){for(l<0?(r=h,l=-l,d=f.length):(r=f,a=c,d=h.length),c=Math.ceil(g/Jt),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=h.length,l=f.length,d-l<0&&(l=d,r=f,f=h,h=r),n=0;l;)n=(h[--l]=h[l]+f[l]+n)/nr|0,h[l]%=nr;for(n&&(h.unshift(n),++a),d=h.length;h[--d]==0;)h.pop();return e.d=h,e.e=a,an?qt(e,g):e}function Ji(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function Vi(t){var e,n,r,a=t.length-1,l="",c=t[0];if(a>0){for(l+=c,e=1;e<a;e++)r=t[e]+"",n=Jt-r.length,n&&(l+=Rl(n)),l+=r;c=t[e],r=c+"",n=Jt-r.length,n&&(l+=Rl(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Rs=(function(){function t(r,a){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*a+c,r[d]=l%nr|0,c=l/nr|0;return c&&r.unshift(c),r}function e(r,a,l,c){var d,h;if(l!=c)h=l>c?1:-1;else for(d=h=0;d<l;d++)if(r[d]!=a[d]){h=r[d]>a[d]?1:-1;break}return h}function n(r,a,l){for(var c=0;l--;)r[l]-=c,c=r[l]<a[l]?1:0,r[l]=c*nr+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,c){var d,h,f,p,g,v,N,_,j,E,I,R,M,T,C,L,P,V,F=r.constructor,A=r.s==a.s?1:-1,D=r.d,z=a.d;if(!r.s)return new F(r);if(!a.s)throw Error(ka+"Division by zero");for(h=r.e-a.e,P=z.length,C=D.length,N=new F(A),_=N.d=[],f=0;z[f]==(D[f]||0);)++f;if(z[f]>(D[f]||0)&&--h,l==null?R=l=F.precision:c?R=l+(zn(r)-zn(a))+1:R=l,R<0)return new F(0);if(R=R/Jt+2|0,f=0,P==1)for(p=0,z=z[0],R++;(f<C||p)&&R--;f++)M=p*nr+(D[f]||0),_[f]=M/z|0,p=M%z|0;else{for(p=nr/(z[0]+1)|0,p>1&&(z=t(z,p),D=t(D,p),P=z.length,C=D.length),T=P,j=D.slice(0,P),E=j.length;E<P;)j[E++]=0;V=z.slice(),V.unshift(0),L=z[0],z[1]>=nr/2&&++L;do p=0,d=e(z,j,P,E),d<0?(I=j[0],P!=E&&(I=I*nr+(j[1]||0)),p=I/L|0,p>1?(p>=nr&&(p=nr-1),g=t(z,p),v=g.length,E=j.length,d=e(g,j,v,E),d==1&&(p--,n(g,P<v?V:z,v))):(p==0&&(d=p=1),g=z.slice()),v=g.length,v<E&&g.unshift(0),n(j,g,E),d==-1&&(E=j.length,d=e(z,j,P,E),d<1&&(p++,n(j,P<E?V:z,E))),E=j.length):d===0&&(p++,j=[0]),_[f++]=p,d&&j[0]?j[E++]=D[T]||0:(j=[D[T]],E=1);while((T++<C||j[0]!==void 0)&&R--)}return _[0]||_.shift(),N.e=h,qt(N,c?l+zn(N)+1:l)}})();function JM(t,e){var n,r,a,l,c,d,h=0,f=0,p=t.constructor,g=p.precision;if(zn(t)>16)throw Error(W_+zn(t));if(!t.s)return new p(la);for(an=!1,d=g,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),f+=5;for(r=Math.log(Ho(2,f))/Math.LN10*2+5|0,d+=r,n=a=l=new p(la),p.precision=d;;){if(a=qt(a.times(t),d),n=n.times(++h),c=l.plus(Rs(a,n,d)),Vi(c.d).slice(0,d)===Vi(l.d).slice(0,d)){for(;f--;)l=qt(l.times(l),d);return p.precision=g,e==null?(an=!0,qt(l,g)):l}l=c}}function zn(t){for(var e=t.e*Jt,n=t.d[0];n>=10;n/=10)e++;return e}function Aw(t,e,n){if(e>t.LN10.sd())throw an=!0,n&&(t.precision=n),Error(ka+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Rl(t){for(var e="";t--;)e+="0";return e}function tf(t,e){var n,r,a,l,c,d,h,f,p,g=1,v=10,N=t,_=N.d,j=N.constructor,E=j.precision;if(N.s<1)throw Error(ka+(N.s?"NaN":"-Infinity"));if(N.eq(la))return new j(0);if(e==null?(an=!1,f=E):f=e,N.eq(10))return e==null&&(an=!0),Aw(j,f);if(f+=v,j.precision=f,n=Vi(_),r=n.charAt(0),l=zn(N),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)N=N.times(t),n=Vi(N.d),r=n.charAt(0),g++;l=zn(N),r>1?(N=new j("0."+n),l++):N=new j(r+"."+n.slice(1))}else return h=Aw(j,f+2,E).times(l+""),N=tf(new j(r+"."+n.slice(1)),f-v).plus(h),j.precision=E,e==null?(an=!0,qt(N,E)):N;for(d=c=N=Rs(N.minus(la),N.plus(la),f),p=qt(N.times(N),f),a=3;;){if(c=qt(c.times(p),f),h=d.plus(Rs(c,new j(a),f)),Vi(h.d).slice(0,f)===Vi(d.d).slice(0,f))return d=d.times(2),l!==0&&(d=d.plus(Aw(j,f+2,E).times(l+""))),d=Rs(d,new j(g),f),j.precision=E,e==null?(an=!0,qt(d,E)):d;d=h,a+=2}}function AO(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=rd(n/Jt),t.d=[],r=(n+1)%Jt,n<0&&(r+=Jt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Jt;r<a;)t.d.push(+e.slice(r,r+=Jt));e=e.slice(r),r=Jt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),an&&(t.e>Jg||t.e<-Jg))throw Error(W_+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,a,l,c,d,h,f,p,g=t.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=e-c,r<0)r+=Jt,a=e,f=g[p=0];else{if(p=Math.ceil((r+1)/Jt),l=g.length,p>=l)return t;for(f=l=g[p],c=1;l>=10;l/=10)c++;r%=Jt,a=r-Jt+c}if(n!==void 0&&(l=Ho(10,c-a-1),d=f/l%10|0,h=e<0||g[p+1]!==void 0||f%l,h=n<4?(d||h)&&(n==0||n==(t.s<0?3:2)):d>5||d==5&&(n==4||h||n==6&&(r>0?a>0?f/Ho(10,c-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return h?(l=zn(t),g.length=1,e=e-l-1,g[0]=Ho(10,(Jt-e%Jt)%Jt),t.e=rd(-e/Jt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,l=1,p--):(g.length=p+1,l=Ho(10,Jt-r),g[p]=a>0?(f/Ho(10,c-a)%Ho(10,a)|0)*l:0),h)for(;;)if(p==0){(g[0]+=l)==nr&&(g[0]=1,++t.e);break}else{if(g[p]+=l,g[p]!=nr)break;g[p--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(an&&(t.e>Jg||t.e<-Jg))throw Error(W_+zn(t));return t}function ZM(t,e){var n,r,a,l,c,d,h,f,p,g,v=t.constructor,N=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),an?qt(e,N):e;if(h=t.d,g=e.d,r=e.e,f=t.e,h=h.slice(),c=f-r,c){for(p=c<0,p?(n=h,c=-c,d=g.length):(n=g,r=f,d=h.length),a=Math.max(Math.ceil(N/Jt),d)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=h.length,d=g.length,p=a<d,p&&(d=a),a=0;a<d;a++)if(h[a]!=g[a]){p=h[a]<g[a];break}c=0}for(p&&(n=h,h=g,g=n,e.s=-e.s),d=h.length,a=g.length-d;a>0;--a)h[d++]=0;for(a=g.length;a>c;){if(h[--a]<g[a]){for(l=a;l&&h[--l]===0;)h[l]=nr-1;--h[l],h[a]+=nr}h[a]-=g[a]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,an?qt(e,N):e):new v(0)}function lc(t,e,n){var r,a=zn(t),l=Vi(t.d),c=l.length;return e?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Rl(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Rl(-a-1)+l,n&&(r=n-c)>0&&(l+=Rl(r))):a>=c?(l+=Rl(a+1-c),n&&(r=n-a-1)>0&&(l=l+"."+Rl(r))):((r=a+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(l+="."),l+=Rl(r))),t.s<0?"-"+l:l}function TO(t,e){if(t.length>e)return t.length=e,!0}function e5(t){var e,n,r;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(nc+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return AO(c,l.toString())}else if(typeof l!="string")throw Error(nc+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,QW.test(l))AO(c,l);else throw Error(nc+l)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e5,a.config=a.set=JW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function JW(t){if(!t||typeof t!="object")throw Error(ka+"Object expected");var e,n,r,a=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(rd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var X_=e5(XW);la=new X_(1);const Rt=X_;var ZW=t=>t,t5={},n5=t=>t===t5,CO=t=>function e(){return arguments.length===0||arguments.length===1&&n5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},r5=(t,e)=>t===1?e:CO(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=r.filter(c=>c!==t5).length;return l>=t?e(...r):r5(t-l,CO(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var f=r.map(p=>n5(p)?d.shift():p);return e(...f,...d)}))}),eX=t=>r5(t.length,t),Z1=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},tX=eX((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),nX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ZW;var a=n.reverse(),l=a[0],c=a.slice(1);return function(){return c.reduce((d,h)=>h(d),l(...arguments))}},eN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function a5(t){var e;return t===0?e=1:e=Math.floor(new Rt(t).abs().log(10).toNumber())+1,e}function i5(t,e,n){for(var r=new Rt(t),a=0,l=[];r.lt(e)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}var s5=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},l5=(t,e,n)=>{if(t.lte(0))return new Rt(0);var r=a5(t.toNumber()),a=new Rt(10).pow(r),l=t.div(a),c=r!==1?.05:.1,d=new Rt(Math.ceil(l.div(c).toNumber())).add(n).mul(c),h=d.mul(a);return e?new Rt(h.toNumber()):new Rt(Math.ceil(h.toNumber()))},rX=(t,e,n)=>{var r=new Rt(1),a=new Rt(t);if(!a.isint()&&n){var l=Math.abs(t);l<1?(r=new Rt(10).pow(a5(t)-1),a=new Rt(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new Rt(Math.floor(t)))}else t===0?a=new Rt(Math.floor((e-1)/2)):n||(a=new Rt(Math.floor(t)));var c=Math.floor((e-1)/2),d=nX(tX(h=>a.add(new Rt(h-c).mul(r)).toNumber()),Z1);return d(0,e)},o5=function(e,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var c=l5(new Rt(n).sub(e).div(r-1),a,l),d;e<=0&&n>=0?d=new Rt(0):(d=new Rt(e).add(n).div(2),d=d.sub(new Rt(d).mod(c)));var h=Math.ceil(d.sub(e).div(c).toNumber()),f=Math.ceil(new Rt(n).sub(d).div(c).toNumber()),p=h+f+1;return p>r?o5(e,n,r,a,l+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:c,tickMin:d.sub(new Rt(h).mul(c)),tickMax:d.add(new Rt(f).mul(c))})},aX=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[d,h]=s5([n,r]);if(d===-1/0||h===1/0){var f=h===1/0?[d,...Z1(0,a-1).map(()=>1/0)]:[...Z1(0,a-1).map(()=>-1/0),h];return n>r?eN(f):f}if(d===h)return rX(d,a,l);var{step:p,tickMin:g,tickMax:v}=o5(d,h,c,l,0),N=i5(g,v.add(new Rt(.1).mul(p)),p);return n>r?eN(N):N},iX=function(e,n){var[r,a]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=s5([r,a]);if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var h=Math.max(n,2),f=l5(new Rt(d).sub(c).div(h-1),l,0),p=[...i5(new Rt(c),new Rt(d),f),d];return l===!1&&(p=p.map(g=>Math.round(g))),r>a?eN(p):p},c5=t=>t.rootProps.maxBarSize,sX=t=>t.rootProps.barGap,u5=t=>t.rootProps.barCategoryGap,lX=t=>t.rootProps.barSize,Tf=t=>t.rootProps.stackOffset,d5=t=>t.rootProps.reverseStackOrder,Q_=t=>t.options.chartName,J_=t=>t.rootProps.syncId,h5=t=>t.rootProps.syncMethod,Z_=t=>t.options.eventEmitter,gr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},g0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},oX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:Es.reversed,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:Es.type,unit:void 0},cX={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:sa.type,unit:void 0},uX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Es.scale,tick:Es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dX={allowDataOverflow:sa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,ticks:void 0,type:"category",unit:void 0},ej=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?uX:oX,tj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?dX:cX,y0=t=>t.polarOptions,nj=ce([Ws,Xs,Kn],uM),f5=ce([y0,nj],(t,e)=>{if(t!=null)return jr(t.innerRadius,e,0)}),m5=ce([y0,nj],(t,e)=>{if(t!=null)return jr(t.outerRadius,e,e*.8)}),hX=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},p5=ce([y0],hX);ce([ej,p5],g0);var g5=ce([nj,f5,m5],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ce([tj,g5],g0);var y5=ce([jt,y0,f5,m5,Ws,Xs],(t,e,n,r,a,l)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:d,startAngle:h,endAngle:f}=e;return{cx:jr(c,a,a/2),cy:jr(d,l,l/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),on=(t,e)=>e,Cf=(t,e,n)=>n;function rj(t){return t==null?void 0:t.id}function x5(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:l}=n,c=new Map;return t.forEach(d=>{var h,f=(h=d.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var p=rj(d);f.forEach((g,v)=>{var N=l==null||a?v:String(rn(g,l,null)),_=rn(g,d.dataKey,0),j;c.has(N)?j=c.get(N):j={},Object.assign(j,{[p]:_}),c.set(N,j)})}}),Array.from(c.values())}function x0(t){return t.stackId!=null&&t.dataKey!=null}var v0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function b0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function fX(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Wn=t=>{var e=jt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},ad=t=>t.tooltip.settings.axisId;function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){mX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e,n){return(e=pX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=gX(t,"string");return typeof e=="symbol"?e:e+""}function gX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tN=[0,"auto"],er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},v5=(t,e)=>t.cartesianAxis.xAxis[e],Js=(t,e)=>{var n=v5(t,e);return n??er},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nf},b5=(t,e)=>t.cartesianAxis.yAxis[e],Zs=(t,e)=>{var n=b5(t,e);return n??tr},yX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aj=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??yX},hn=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);case"zAxis":return aj(t,n);case"angleAxis":return ej(t,n);case"radiusAxis":return tj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xX=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},If=(t,e,n)=>{switch(e){case"xAxis":return Js(t,n);case"yAxis":return Zs(t,n);case"angleAxis":return ej(t,n);case"radiusAxis":return tj(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},w5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ij(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var sj=t=>t.graphicalItems.cartesianItems,vX=ce([on,Cf],ij),lj=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Of=ce([sj,hn,vX],lj,{memoizeOptions:{resultEqualityCheck:b0}}),N5=ce([Of],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(x0)),_5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),bX=ce([Of],_5),oj=t=>t.map(e=>e.data).filter(Boolean).flat(1),wX=ce([Of],oj,{memoizeOptions:{resultEqualityCheck:b0}}),cj=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},uj=ce([wX,Y_],cj),dj=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:rn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:rn(a,r)}))):t.map(r=>({value:r})),w0=ce([uj,hn,Of],dj);function j5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function sg(t){if(Wi(t)||t instanceof Date){var e=Number(t);if(jn(e))return e}}function OO(t){if(Array.isArray(t)){var e=[sg(t[0]),sg(t[1])];return Yl(e)?e:void 0}var n=sg(t);if(n!=null)return[n,n]}function $s(t){return t.map(sg).filter(U$)}function NX(t,e,n){return!n||typeof e!="number"||oi(e)?[]:n.length?$s(n.flatMap(r=>{var a=rn(t,r.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!jn(l)||!jn(c)))return[e-l,e+c]})):[]}var Xn=t=>{var e=Wn(t),n=ad(t);return If(t,e,n)},Df=ce([Xn],t=>t==null?void 0:t.dataKey),_X=ce([N5,Y_,Xn],x5),E5=(t,e,n,r)=>{var a={},l=e.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),a);return Object.fromEntries(Object.entries(l).map(c=>{var[d,h]=c,f=r?[...h].reverse():h,p=f.map(rj);return[d,{stackedData:aH(t,p,n),graphicalItems:f}]}))},nN=ce([_X,N5,Tf,d5],E5),S5=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:l}=e;if(r==null&&n!=="zAxis"){var c=cH(t,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},jX=ce([hn],t=>t.allowDataOverflow),hj=t=>{var e;if(t==null||!("domain"in t))return tN;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=$s(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:tN},fj=ce([hn],hj),mj=ce([fj,jX],WM),EX=ce([nN,so,on,mj],S5,{memoizeOptions:{resultEqualityCheck:v0}}),N0=t=>t.errorBars,SX=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>j5(n,r)),ey=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},pj=(t,e,n,r,a)=>{var l,c;if(n.length>0&&t.forEach(d=>{n.forEach(h=>{var f,p,g=(f=r[h.id])===null||f===void 0?void 0:f.filter(I=>j5(a,I)),v=rn(d,(p=e.dataKey)!==null&&p!==void 0?p:h.dataKey),N=NX(d,v,g);if(N.length>=2){var _=Math.min(...N),j=Math.max(...N);(l==null||_<l)&&(l=_),(c==null||j>c)&&(c=j)}var E=OO(v);E!=null&&(l=l==null?E[0]:Math.min(l,E[0]),c=c==null?E[1]:Math.max(c,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(d=>{var h=OO(rn(d,e.dataKey));h!=null&&(l=l==null?h[0]:Math.min(l,h[0]),c=c==null?h[1]:Math.max(c,h[1]))}),jn(l)&&jn(c))return[l,c]},AX=ce([uj,hn,bX,N0,on],pj,{memoizeOptions:{resultEqualityCheck:v0}});function TX(t){var{value:e}=t;if(Wi(e)||e instanceof Date)return e}var CX=(t,e,n)=>{var r=t.map(TX).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&$P(r))?mM(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},A5=t=>t.referenceElements.dots,id=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),IX=ce([A5,on,Cf],id),T5=t=>t.referenceElements.areas,OX=ce([T5,on,Cf],id),C5=t=>t.referenceElements.lines,DX=ce([C5,on,Cf],id),I5=(t,e)=>{var n=$s(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},RX=ce(IX,on,I5),O5=(t,e)=>{var n=$s(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},PX=ce([OX,on],O5);function kX(t){var e;if(t.x!=null)return $s([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:$s(n)}function MX(t){var e;if(t.y!=null)return $s([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:$s(n)}var D5=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?kX(r):MX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},LX=ce([DX,on],D5),UX=ce(RX,LX,PX,(t,e,n)=>ey(t,n,e)),gj=(t,e,n,r,a,l,c,d)=>{if(n!=null)return n;var h=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",f=h?ey(r,l,a):ey(l,a);return WW(e,f,t.allowDataOverflow)},VX=ce([hn,fj,mj,EX,AX,UX,jt,on],gj,{memoizeOptions:{resultEqualityCheck:v0}}),zX=[0,1],yj=(t,e,n,r,a,l,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:h}=t,f=yc(e,l);if(f&&d==null){var p;return mM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return h==="category"?CX(r,t,f):a==="expand"?zX:c}},xj=ce([hn,jt,uj,w0,Tf,on,VX],yj),R5=(t,e,n,r,a)=>{if(t!=null){var{scale:l,type:c}=t;if(l==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(yf(l));return d in Th?d:"point"}}},sd=ce([hn,jt,w5,Q_,on],R5);function FX(t){if(t!=null){if(t in Th)return Th[t]();var e="scale".concat(yf(t));if(e in Th)return Th[e]()}}function vj(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=FX(e);if(a!=null){var l=a.domain(n).range(r);return Zq(l),l}}}var bj=(t,e,n)=>{var r=hj(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Yl(t))return aX(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Yl(t))return iX(t,e.tickCount,e.allowDecimals)}},wj=ce([xj,If,sd],bj),Nj=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Yl(e)&&Array.isArray(n)&&n.length>0){var a=e[0],l=n[0],c=e[1],d=n[n.length-1];return[Math.min(a,l),Math.max(c,d)]}return e},$X=ce([hn,xj,wj,on],Nj),BX=ce(w0,hn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from($s(t.map(d=>d.value))).sort((d,h)=>d-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];n=Math.min(n,c)}return n/a}}),P5=ce(BX,jt,u5,Kn,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!jn(t))return 0;var l=e==="vertical"?r.height:r.width;if(a==="gap")return t*l/2;if(a==="no-gap"){var c=jr(n,t*l),d=t*l/2;return d-c-(d-c)/l*c}return 0}),qX=(t,e)=>{var n=Js(t,e);return n==null||typeof n.padding!="string"?0:P5(t,"xAxis",e,n.padding)},HX=(t,e)=>{var n=Zs(t,e);return n==null||typeof n.padding!="string"?0:P5(t,"yAxis",e,n.padding)},GX=ce(Js,qX,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),KX=ce(Zs,HX,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),YX=ce([Kn,GX,t0,e0,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[t.left+e.left,t.left+t.width-e.right]}),WX=ce([Kn,jt,KX,t0,e0,(t,e,n)=>n],(t,e,n,r,a,l)=>{var{padding:c}=a;return l?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Rf=(t,e,n,r)=>{var a;switch(e){case"xAxis":return YX(t,n,r);case"yAxis":return WX(t,n,r);case"zAxis":return(a=aj(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return p5(t);case"radiusAxis":return g5(t,n);default:return}},k5=ce([hn,Rf],g0),ld=ce([hn,sd,$X,k5],vj);ce([Of,N0,on],SX);function M5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var _0=(t,e)=>e,j0=(t,e,n)=>n,XX=ce(Jy,_0,j0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M5)),QX=ce(Zy,_0,j0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(M5)),L5=(t,e)=>({width:t.width,height:e.height}),JX=(t,e)=>{var n=typeof e.width=="number"?e.width:Nf;return{width:n,height:t.height}},U5=ce(Kn,Js,L5),ZX=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},eQ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},tQ=ce(Xs,Kn,XX,_0,j0,(t,e,n,r,a)=>{var l={},c;return n.forEach(d=>{var h=L5(e,d);c==null&&(c=ZX(e,r,t));var f=r==="top"&&!a||r==="bottom"&&a;l[d.id]=c-Number(f)*h.height,c+=(f?-1:1)*h.height}),l}),nQ=ce(Ws,Kn,QX,_0,j0,(t,e,n,r,a)=>{var l={},c;return n.forEach(d=>{var h=JX(e,d);c==null&&(c=eQ(e,r,t));var f=r==="left"&&!a||r==="right"&&a;l[d.id]=c-Number(f)*h.width,c+=(f?-1:1)*h.width}),l}),rQ=(t,e)=>{var n=Js(t,e);if(n!=null)return tQ(t,n.orientation,n.mirror)},aQ=ce([Kn,Js,rQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),iQ=(t,e)=>{var n=Zs(t,e);if(n!=null)return nQ(t,n.orientation,n.mirror)},sQ=ce([Kn,Zs,iQ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),V5=ce(Kn,Zs,(t,e)=>{var n=typeof e.width=="number"?e.width:Nf;return{width:n,height:t.height}}),DO=(t,e,n)=>{switch(e){case"xAxis":return U5(t,n).width;case"yAxis":return V5(t,n).height;default:return}},z5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=n,d=yc(t,r),h=e.map(f=>f.value);if(c&&d&&l==="category"&&a&&$P(h))return h}},_j=ce([jt,w0,hn,on],z5),F5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,c=yc(t,r);if(c&&(a==="number"||l!=="auto"))return e.map(d=>d.value)}},jj=ce([jt,w0,If,on],F5),RO=ce([jt,xX,sd,ld,_j,jj,Rf,wj,on],(t,e,n,r,a,l,c,d,h)=>{if(e!=null){var f=yc(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:l,duplicateDomain:a,isCategorical:f,niceTicks:d,range:c,realScaleType:n,scale:r}}}),lQ=(t,e,n,r,a,l,c,d,h)=>{if(!(e==null||r==null)){var f=yc(t,h),{type:p,ticks:g,tickCount:v}=e,N=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=p==="category"&&r.bandwidth?r.bandwidth()/N:0;_=h==="angleAxis"&&l!=null&&l.length>=2?ar(l[0]-l[1])*2*_:_;var j=g||a;if(j){var E=j.map((I,R)=>{var M=c?c.indexOf(I):I;return{index:R,coordinate:r(M)+_,value:I,offset:_}});return E.filter(I=>jn(I.coordinate))}return f&&d?d.map((I,R)=>({coordinate:r(I)+_,value:I,index:R,offset:_})).filter(I=>jn(I.coordinate)):r.ticks?r.ticks(v).map(I=>({coordinate:r(I)+_,value:I,offset:_})):r.domain().map((I,R)=>({coordinate:r(I)+_,value:c?c[I]:I,index:R,offset:_}))}},$5=ce([jt,If,sd,ld,wj,Rf,_j,jj,on],lQ),oQ=(t,e,n,r,a,l,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var d=yc(t,c),{tickCount:h}=e,f=0;return f=c==="angleAxis"&&(r==null?void 0:r.length)>=2?ar(r[0]-r[1])*2*f:f,d&&l?l.map((p,g)=>({coordinate:n(p)+f,value:p,index:g,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,g)=>({coordinate:n(p)+f,value:a?a[p]:p,index:g,offset:f}))}},Bu=ce([jt,If,ld,Rf,_j,jj,on],oQ),qu=ce(hn,ld,(t,e)=>{if(!(t==null||e==null))return Zg(Zg({},t),{},{scale:e})}),cQ=ce([hn,sd,xj,k5],vj);ce((t,e,n)=>aj(t,n),cQ,(t,e)=>{if(!(t==null||e==null))return Zg(Zg({},t),{},{scale:e})});var uQ=ce([jt,Jy,Zy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),B5=t=>t.options.defaultTooltipEventType,q5=t=>t.options.validateTooltipEventTypes;function H5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Ej(t,e){var n=B5(t),r=q5(t);return H5(e,n,r)}function dQ(t){return Be(e=>Ej(e,t))}var G5=(t,e)=>{var n,r=Number(e);if(!(oi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},hQ=t=>t.tooltip.settings,kl={active:!1,index:null,dataKey:void 0,coordinate:void 0},fQ={itemInteraction:{click:kl,hover:kl},axisInteraction:{click:kl,hover:kl},keyboardInteraction:kl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},K5=Wr({name:"tooltip",initialState:fQ,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:nn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=si(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:nn()},removeTooltipEntrySettings:{reducer(t,e){var n=si(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:nn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:mQ,replaceTooltipEntrySettings:pQ,removeTooltipEntrySettings:gQ,setTooltipSettingsState:yQ,setActiveMouseOverItemIndex:Y5,mouseLeaveItem:xQ,mouseLeaveChart:W5,setActiveClickItemIndex:vQ,setMouseOverAxisIndex:X5,setMouseClickAxisIndex:bQ,setSyncInteraction:rN,setKeyboardInteraction:aN}=K5.actions,wQ=K5.reducer;function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){NQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NQ(t,e,n){return(e=_Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Q(t){var e=jQ(t,"string");return typeof e=="symbol"?e:e+""}function jQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EQ(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function SQ(t){return t.index!=null}var Q5=(t,e,n,r)=>{if(e==null)return kl;var a=EQ(t,e,n);if(a==null)return kl;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var l=t.settings.active===!0;if(SQ(a)){if(l)return Vp(Vp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Vp(Vp({},kl),{},{coordinate:a.coordinate})};function AQ(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function TQ(t,e){var n=AQ(t),r=e[0],a=e[1];if(n===void 0)return!1;var l=Math.min(r,a),c=Math.max(r,a);return n>=l&&n<=c}function CQ(t,e,n){if(n==null||e==null)return!0;var r=rn(t,e);return r==null||!Yl(n)?!0:TQ(r,n)}var Sj=(t,e,n,r)=>{var a=t==null?void 0:t.index;if(a==null)return null;var l=Number(a);if(!jn(l))return a;var c=0,d=1/0;e.length>0&&(d=e.length-1);var h=Math.max(c,Math.min(l,d)),f=e[h];return f==null||CQ(f,n,r)?String(h):null},J5=(t,e,n,r,a,l,c,d)=>{if(!(l==null||d==null)){var h=c[0],f=h==null?void 0:d(h.positions,l);if(f!=null)return f;var p=a==null?void 0:a[Number(l)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:p.coordinate}}}},Z5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===a})},Pf=t=>t.options.tooltipPayloadSearcher,od=t=>t.tooltip;function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){IQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IQ(t,e,n){return(e=OQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OQ(t){var e=DQ(t,"string");return typeof e=="symbol"?e:e+""}function DQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RQ(t,e){return t??e}var e6=(t,e,n,r,a,l,c)=>{if(!(e==null||l==null)){var{chartData:d,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,g=[];return t.reduce((v,N)=>{var _,{dataDefinedOnItem:j,settings:E}=N,I=RQ(j,d),R=Array.isArray(I)?Pk(I,f,p):I,M=(_=E==null?void 0:E.dataKey)!==null&&_!==void 0?_:r,T=E==null?void 0:E.nameKey,C;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&c==="axis"?C=L$(R,r,a):C=l(R,e,h,T),Array.isArray(C))C.forEach(P=>{var V=MO(MO({},E),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(aI({tooltipEntrySettings:V,dataKey:P.dataKey,payload:P.payload,value:rn(P.payload,P.dataKey),name:P.name}))});else{var L;v.push(aI({tooltipEntrySettings:E,dataKey:M,payload:C,value:rn(C,M),name:(L=rn(C,T))!==null&&L!==void 0?L:E==null?void 0:E.name}))}return v},g)}},Aj=ce([Xn,jt,w5,Q_,Wn],R5),PQ=ce([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),kQ=ce([Wn,ad],ij),kf=ce([PQ,Xn,kQ],lj,{memoizeOptions:{resultEqualityCheck:b0}}),MQ=ce([kf],t=>t.filter(x0)),LQ=ce([kf],oj,{memoizeOptions:{resultEqualityCheck:b0}}),cd=ce([LQ,so],cj),UQ=ce([MQ,so,Xn],x5),Tj=ce([cd,Xn,kf],dj),t6=ce([Xn],hj),VQ=ce([Xn],t=>t.allowDataOverflow),n6=ce([t6,VQ],WM),zQ=ce([kf],t=>t.filter(x0)),FQ=ce([UQ,zQ,Tf,d5],E5),$Q=ce([FQ,so,Wn,n6],S5),BQ=ce([kf],_5),qQ=ce([cd,Xn,BQ,N0,Wn],pj,{memoizeOptions:{resultEqualityCheck:v0}}),HQ=ce([A5,Wn,ad],id),GQ=ce([HQ,Wn],I5),KQ=ce([T5,Wn,ad],id),YQ=ce([KQ,Wn],O5),WQ=ce([C5,Wn,ad],id),XQ=ce([WQ,Wn],D5),QQ=ce([GQ,XQ,YQ],ey),JQ=ce([Xn,t6,n6,$Q,qQ,QQ,jt,Wn],gj),Mf=ce([Xn,jt,cd,Tj,Tf,Wn,JQ],yj),ZQ=ce([Mf,Xn,Aj],bj),eJ=ce([Xn,Mf,ZQ,Wn],Nj),r6=t=>{var e=Wn(t),n=ad(t),r=!1;return Rf(t,e,n,r)},a6=ce([Xn,r6],g0),i6=ce([Xn,Aj,eJ,a6],vj),tJ=ce([jt,Tj,Xn,Wn],z5),nJ=ce([jt,Tj,Xn,Wn],F5),rJ=(t,e,n,r,a,l,c,d)=>{if(e){var{type:h}=e,f=yc(t,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=d==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ar(a[0]-a[1])*2*g:g,f&&c?c.map((v,N)=>({coordinate:r(v)+g,value:v,index:N,offset:g})):r.domain().map((v,N)=>({coordinate:r(v)+g,value:l?l[v]:v,index:N,offset:g}))}}},el=ce([jt,Xn,Aj,i6,r6,tJ,nJ,Wn],rJ),Cj=ce([B5,q5,hQ],(t,e,n)=>H5(n.shared,t,e)),s6=t=>t.tooltip.settings.trigger,Ij=t=>t.tooltip.settings.defaultIndex,E0=ce([od,Cj,s6,Ij],Q5),oc=ce([E0,cd,Df,Mf],Sj),l6=ce([el,oc],G5),o6=ce([E0],t=>{if(t)return t.dataKey}),c6=ce([od,Cj,s6,Ij],Z5),aJ=ce([Ws,Xs,jt,Kn,el,Ij,c6,Pf],J5),iJ=ce([E0,aJ],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),sJ=ce([E0],t=>t.active),lJ=ce([c6,oc,so,Df,l6,Pf,Cj],e6);ce([lJ],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return(e=cJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dJ=()=>Be(Xn),hJ=()=>{var t=dJ(),e=Be(el),n=Be(i6);return Rg(!t||!n?void 0:UO(UO({},t),{},{scale:n}),e)};function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){fJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fJ(t,e,n){return(e=mJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mJ(t){var e=pJ(t,"string");return typeof e=="symbol"?e:e+""}function pJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gJ=(t,e,n,r)=>{var a=e.find(l=>l&&l.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},yJ=(t,e,n,r)=>{var a=e.find(f=>f&&f.index===n);if(a){if(t==="centric"){var l=a.coordinate,{radius:c}=r;return mu(mu(mu({},r),Ln(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=a.coordinate,{angle:h}=r;return mu(mu(mu({},r),Ln(r.cx,r.cy,d,h)),{},{angle:h,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xJ(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var u6=(t,e,n,r,a)=>{var l,c=-1,d=(l=e==null?void 0:e.length)!==null&&l!==void 0?l:0;if(d<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<d;h++){var f=h>0?n[h-1].coordinate:n[d-1].coordinate,p=n[h].coordinate,g=h>=d-1?n[0].coordinate:n[h+1].coordinate,v=void 0;if(ar(p-f)!==ar(g-p)){var N=[];if(ar(g-p)===ar(a[1]-a[0])){v=g;var _=p+a[1]-a[0];N[0]=Math.min(_,(_+f)/2),N[1]=Math.max(_,(_+f)/2)}else{v=f;var j=g+a[1]-a[0];N[0]=Math.min(p,(j+p)/2),N[1]=Math.max(p,(j+p)/2)}var E=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>E[0]&&t<=E[1]||t>=N[0]&&t<=N[1]){({index:c}=n[h]);break}}else{var I=Math.min(f,g),R=Math.max(f,g);if(t>(I+p)/2&&t<=(R+p)/2){({index:c}=n[h]);break}}}else if(e){for(var M=0;M<d;M++)if(M===0&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M>0&&M<d-1&&t>(e[M].coordinate+e[M-1].coordinate)/2&&t<=(e[M].coordinate+e[M+1].coordinate)/2||M===d-1&&t>(e[M].coordinate+e[M-1].coordinate)/2){({index:c}=e[M]);break}}return c},vJ=()=>Be(Q_),Oj=(t,e)=>e,d6=(t,e,n)=>n,Dj=(t,e,n,r)=>r,bJ=ce(el,t=>$y(t,e=>e.coordinate)),Rj=ce([od,Oj,d6,Dj],Q5),Pj=ce([Rj,cd,Df,Mf],Sj),wJ=(t,e,n)=>{if(e!=null){var r=od(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},h6=ce([od,Oj,d6,Dj],Z5),ty=ce([Ws,Xs,jt,Kn,el,Dj,h6,Pf],J5),NJ=ce([Rj,ty],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),f6=ce([el,Pj],G5),_J=ce([h6,Pj,so,Df,f6,Pf,Oj],e6),jJ=ce([Rj,Pj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),EJ=(t,e,n,r,a,l,c)=>{if(!(!t||!n||!r||!a)&&xJ(t,c)){var d=uH(t,e),h=u6(d,l,a,n,r),f=gJ(e,a,h,t);return{activeIndex:String(h),activeCoordinate:f}}},SJ=(t,e,n,r,a,l,c)=>{if(!(!t||!r||!a||!l||!n)){var d=dK(t,n);if(d){var h=dH(d,e),f=u6(h,c,l,r,a),p=yJ(e,l,f,d);return{activeIndex:String(f),activeCoordinate:p}}}},AJ=(t,e,n,r,a,l,c,d)=>{if(!(!t||!e||!r||!a||!l))return e==="horizontal"||e==="vertical"?EJ(t,e,r,a,l,c,d):SJ(t,e,n,r,a,l,c)},TJ=ce(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),CJ=ce(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(gr)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:fX}});function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){IJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IJ(t,e,n){return(e=OJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OJ(t){var e=DJ(t,"string");return typeof e=="symbol"?e:e+""}function DJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RJ={},PJ={zIndexMap:Object.values(gr).reduce((t,e)=>FO(FO({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),RJ)},kJ=new Set(Object.values(gr));function MJ(t){return kJ.has(t)}var m6=Wr({name:"zIndex",initialState:PJ,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:nn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!MJ(n)&&delete t.zIndexMap[n])},prepare:nn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:a?void 0:r,panoramaElementId:a?r:void 0}},prepare:nn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:nn()}}}),{registerZIndexPortal:LJ,unregisterZIndexPortal:UJ,registerZIndexPortalId:VJ,unregisterZIndexPortalId:zJ}=m6.actions,FJ=m6.reducer;function mi(t){var{zIndex:e,children:n}=t,r=FH(),a=r&&e!==void 0&&e!==0,l=Xr(),c=ln();w.useLayoutEffect(()=>a?(c(LJ({zIndex:e})),()=>{c(UJ({zIndex:e}))}):xf,[c,e,a]);var d=Be(f=>TJ(f,e,l));if(!a)return n;if(!d)return null;var h=document.getElementById(d);return h?aP.createPortal(n,h):null}function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iN.apply(null,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return(e=BJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BJ(t){var e=qJ(t,"string");return typeof e=="symbol"?e:e+""}function qJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HJ(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function GJ(t){var e,{coordinate:n,payload:r,index:a,offset:l,tooltipAxisBandSize:c,layout:d,cursor:h,tooltipEventType:f,chartName:p}=t,g=n,v=r,N=a;if(!h||!g||p!=="ScatterChart"&&f!=="axis")return null;var _,j,E;if(p==="ScatterChart")_=g,j=AG,E=gr.cursorLine;else if(p==="BarChart")_=TG(d,g,l,c),j=cM,E=gr.cursorRectangle;else if(d==="radial"&&HP(g)){var{cx:I,cy:R,radius:M,startAngle:T,endAngle:C}=dM(g);_={cx:I,cy:R,startAngle:T,endAngle:C,innerRadius:M,outerRadius:M},j=fM,E=gr.cursorLine}else _={points:pK(d,g,l)},j=__,E=gr.cursorLine;var L=typeof h=="object"&&"className"in h?h.className:void 0,P=zp(zp(zp(zp({stroke:"#ccc",pointerEvents:"none"},l),_),$h(h)),{},{payload:v,payloadIndex:N,className:Ft("recharts-tooltip-cursor",L)});return w.createElement(mi,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},w.createElement(HJ,{cursor:h,cursorComp:j,cursorProps:P}))}function KJ(t){var e=hJ(),n=Hk(),r=r0(),a=vJ();return e==null||n==null||r==null||a==null?null:w.createElement(GJ,iN({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var p6=w.createContext(null),YJ=()=>w.useContext(p6),Tw={exports:{}},BO;function WJ(){return BO||(BO=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function l(h,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var N=new a(p,g||h,v),_=n?n+f:f;return h._events[_]?h._events[_].fn?h._events[_]=[h._events[_],N]:h._events[_].push(N):(h._events[_]=N,h._eventsCount++),h}function c(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},d.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,N=g.length,_=new Array(N);v<N;v++)_[v]=g[v].fn;return _},d.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(f,p,g,v,N,_){var j=n?n+f:f;if(!this._events[j])return!1;var E=this._events[j],I=arguments.length,R,M;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),I){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,g),!0;case 4:return E.fn.call(E.context,p,g,v),!0;case 5:return E.fn.call(E.context,p,g,v,N),!0;case 6:return E.fn.call(E.context,p,g,v,N,_),!0}for(M=1,R=new Array(I-1);M<I;M++)R[M-1]=arguments[M];E.fn.apply(E.context,R)}else{var T=E.length,C;for(M=0;M<T;M++)switch(E[M].once&&this.removeListener(f,E[M].fn,void 0,!0),I){case 1:E[M].fn.call(E[M].context);break;case 2:E[M].fn.call(E[M].context,p);break;case 3:E[M].fn.call(E[M].context,p,g);break;case 4:E[M].fn.call(E[M].context,p,g,v);break;default:if(!R)for(C=1,R=new Array(I-1);C<I;C++)R[C-1]=arguments[C];E[M].fn.apply(E[M].context,R)}}return!0},d.prototype.on=function(f,p,g){return l(this,f,p,g,!1)},d.prototype.once=function(f,p,g){return l(this,f,p,g,!0)},d.prototype.removeListener=function(f,p,g,v){var N=n?n+f:f;if(!this._events[N])return this;if(!p)return c(this,N),this;var _=this._events[N];if(_.fn)_.fn===p&&(!v||_.once)&&(!g||_.context===g)&&c(this,N);else{for(var j=0,E=[],I=_.length;j<I;j++)(_[j].fn!==p||v&&!_[j].once||g&&_[j].context!==g)&&E.push(_[j]);E.length?this._events[N]=E.length===1?E[0]:E:c(this,N)}return this},d.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&c(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d})(Tw)),Tw.exports}var XJ=WJ();const QJ=ts(XJ);var nf=new QJ,sN="recharts.syncEvent.tooltip",qO="recharts.syncEvent.brush";function g6(t,e){if(e){var n=Number.parseInt(e,10);if(!oi(n))return t==null?void 0:t[n]}}var JJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},y6=Wr({name:"options",initialState:JJ,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ZJ=y6.reducer,{createEventEmitter:eZ}=y6.actions;function tZ(t){return t.tooltip.syncInteraction}var nZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x6=Wr({name:"chartData",initialState:nZ,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:HO,setDataStartEndIndexes:rZ,setComputedData:eye}=x6.actions,aZ=x6.reducer,iZ=["x","y"];function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){sZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sZ(t,e,n){return(e=lZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lZ(t){var e=oZ(t,"string");return typeof e=="symbol"?e:e+""}function oZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cZ(t,e){if(t==null)return{};var n,r,a=uZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function uZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dZ(){var t=Be(J_),e=Be(Z_),n=ln(),r=Be(h5),a=Be(el),l=r0(),c=n0(),d=Be(h=>h.rootProps.className);w.useEffect(()=>{if(t==null)return xf;var h=(f,p,g)=>{if(e!==g&&t===f){if(r==="index"){var v;if(c&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var N=p.payload.coordinate,{x:_,y:j}=N,E=cZ(N,iZ),{x:I,y:R,width:M,height:T}=p.payload.sourceViewBox,C=pu(pu({},E),{},{x:c.x+(M?(_-I)/M:0)*c.width,y:c.y+(T?(j-R)/T:0)*c.height});n(pu(pu({},p),{},{payload:pu(pu({},p.payload),{},{coordinate:C})}))}else n(p);return}if(a!=null){var L;if(typeof r=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},V=r(a,P);L=a[V]}else r==="value"&&(L=a.find(G=>String(G.value)===p.payload.label));var{coordinate:F}=p.payload;if(L==null||p.payload.active===!1||F==null||c==null){n(rN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:A,y:D}=F,z=Math.min(A,c.x+c.width),U=Math.min(D,c.y+c.height),de={x:l==="horizontal"?L.coordinate:z,y:l==="horizontal"?U:L.coordinate},ae=rN({active:p.payload.active,coordinate:de,dataKey:p.payload.dataKey,index:String(L.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(ae)}}};return nf.on(sN,h),()=>{nf.off(sN,h)}},[d,n,e,t,r,a,l,c])}function hZ(){var t=Be(J_),e=Be(Z_),n=ln();w.useEffect(()=>{if(t==null)return xf;var r=(a,l,c)=>{e!==c&&t===a&&n(rZ(l))};return nf.on(qO,r),()=>{nf.off(qO,r)}},[n,e,t])}function fZ(){var t=ln();w.useEffect(()=>{t(eZ())},[t]),dZ(),hZ()}function mZ(t,e,n,r,a,l){var c=Be(N=>wJ(N,t,e)),d=Be(Z_),h=Be(J_),f=Be(h5),p=Be(tZ),g=p==null?void 0:p.active,v=n0();w.useEffect(()=>{if(!g&&h!=null&&d!=null){var N=rN({active:l,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:v});nf.emit(sN,h,N,d)}},[g,n,c,a,r,d,h,f,l,v])}function KO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function YO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(n),!0).forEach(function(r){pZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xZ(t){return t.dataKey}function vZ(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(iG,e)}var WO=[],bZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function v6(t){var e,n,r=Sr(t,bZ),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:d,content:h,filterNull:f,isAnimationActive:p,offset:g,payloadUniqBy:v,position:N,reverseDirection:_,useTranslate3d:j,wrapperStyle:E,cursor:I,shared:R,trigger:M,defaultIndex:T,portal:C,axisId:L}=r,P=ln(),V=typeof T=="number"?String(T):T;w.useEffect(()=>{P(yQ({shared:R,trigger:M,axisId:L,active:a,defaultIndex:V}))},[P,R,M,L,a,V]);var F=n0(),A=aM(),D=dQ(R),{activeIndex:z,isActive:U}=(e=Be(Te=>jJ(Te,D,M,V)))!==null&&e!==void 0?e:{},de=Be(Te=>_J(Te,D,M,V)),ae=Be(Te=>f6(Te,D,M,V)),G=Be(Te=>NJ(Te,D,M,V)),Y=de,H=YJ(),ge=(n=a??U)!==null&&n!==void 0?n:!1,[W,B]=YB([Y,ge]),J=D==="axis"?ae:void 0;mZ(D,M,G,J,z,ge);var xe=C??H;if(xe==null||F==null||D==null)return null;var te=Y??WO;ge||(te=WO),f&&te.length&&(te=bB(te.filter(Te=>Te.value!=null&&(Te.hide!==!0||r.includeHidden)),v,xZ));var X=te.length>0,Ee=w.createElement(hG,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:p,active:ge,coordinate:G,hasPayload:X,offset:g,position:N,reverseDirection:_,useTranslate3d:j,viewBox:F,wrapperStyle:E,lastBoundingBox:W,innerRef:B,hasPortalFromProps:!!C},vZ(h,YO(YO({},r),{},{payload:te,label:J,active:ge,activeIndex:z,coordinate:G,accessibilityLayer:A})));return w.createElement(w.Fragment,null,aP.createPortal(Ee,xe),ge&&w.createElement(KJ,{cursor:I,tooltipEventType:D,coordinate:G,payload:te,index:z}))}var Lf=t=>null;Lf.displayName="Cell";function wZ(t,e,n){return(e=NZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NZ(t){var e=_Z(t,"string");return typeof e=="symbol"?e:e+""}function _Z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jZ{constructor(e){wZ(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function EZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){SZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SZ(t,e,n){return(e=AZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZ(t){var e=TZ(t,"string");return typeof e=="symbol"?e:e+""}function TZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CZ={cacheSize:2e3,enableCache:!0},b6=EZ({},CZ),QO=new jZ(b6.cacheSize),IZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JO="recharts_measurement_span";function OZ(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",l=e.fontStyle||"",c=e.letterSpacing||"",d=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(d)}var ZO=(t,e)=>{try{var n=document.getElementById(JO);n||(n=document.createElement("span"),n.setAttribute("id",JO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,IZ,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Rh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xc.isSsr)return{width:0,height:0};if(!b6.enableCache)return ZO(e,n);var r=OZ(e,n),a=QO.get(r);if(a)return a;var l=ZO(e,n);return QO.set(r,l),l},e4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,w6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PZ=Object.keys(w6),Eu="NaN";function kZ(t,e){return t*w6[e]}class Fr{static parse(e){var n,[,r,a]=(n=RZ.exec(e))!==null&&n!==void 0?n:[];return new Fr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,oi(e)&&(this.unit=""),n!==""&&!DZ.test(n)&&(this.num=NaN,this.unit=""),PZ.includes(n)&&(this.num=kZ(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oi(this.num)}}function N6(t){if(t.includes(Eu))return Eu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,l]=(n=e4.exec(e))!==null&&n!==void 0?n:[],c=Fr.parse(r??""),d=Fr.parse(l??""),h=a==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return Eu;e=e.replace(e4,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,p,g,v]=(f=t4.exec(e))!==null&&f!==void 0?f:[],N=Fr.parse(p??""),_=Fr.parse(v??""),j=g==="+"?N.add(_):N.subtract(_);if(j.isNaN())return Eu;e=e.replace(t4,j.toString())}return e}var n4=/\(([^()]*)\)/;function MZ(t){for(var e=t,n;(n=n4.exec(e))!=null;){var[,r]=n;e=e.replace(n4,N6(r))}return e}function LZ(t){var e=t.replace(/\s+/g,"");return e=MZ(e),e=N6(e),e}function UZ(t){try{return LZ(t)}catch{return Eu}}function Cw(t){var e=UZ(t.slice(5,-1));return e===Eu?"":e}var VZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zZ=["dx","dy","angle","className","breakAll"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lN.apply(null,arguments)}function r4(t,e){if(t==null)return{};var n,r,a=FZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function FZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _6=/[ \f\n\r\t\v\u2028\u2029]+/,j6=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];ir(e)||(n?a=e.toString().split(""):a=e.toString().split(_6));var l=a.map(d=>({word:d,width:Rh(d,r).width})),c=n?0:Rh("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function $Z(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var E6=(t,e,n,r)=>t.reduce((a,l)=>{var{word:c,width:d}=l,h=a[a.length-1];if(h&&d!=null&&(e==null||r||h.width+d+n<Number(e)))h.words.push(c),h.width+=d+n;else{var f={words:[c],width:d};a.push(f)}return a},[]),S6=t=>t.reduce((e,n)=>e.width>n.width?e:n),BZ="",a4=(t,e,n,r,a,l,c,d)=>{var h=t.slice(0,e),f=j6({breakAll:n,style:r,children:h+BZ});if(!f)return[!1,[]];var p=E6(f.wordsWithComputedWidth,l,c,d),g=p.length>a||S6(p).width>Number(l);return[g,p]},qZ=(t,e,n,r,a)=>{var{maxLines:l,children:c,style:d,breakAll:h}=t,f=$e(l),p=String(c),g=E6(e,r,n,a);if(!f||a)return g;var v=g.length>l||S6(g).width>Number(r);if(!v)return g;for(var N=0,_=p.length-1,j=0,E;N<=_&&j<=p.length-1;){var I=Math.floor((N+_)/2),R=I-1,[M,T]=a4(p,R,h,d,l,r,n,a),[C]=a4(p,I,h,d,l,r,n,a);if(!M&&!C&&(N=I+1),M&&C&&(_=I-1),!M&&C){E=T;break}j++}return E||g},i4=t=>{var e=ir(t)?[]:t.toString().split(_6);return[{words:e,width:void 0}]},HZ=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:c}=t;if((e||n)&&!xc.isSsr){var d,h,f=j6({breakAll:l,children:r,style:a});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;d=p,h=g}else return i4(r);return qZ({breakAll:l,children:r,maxLines:c,style:a},d,h,e,!!n)}return i4(r)},A6="#808080",GZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:A6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},S0=w.forwardRef((t,e)=>{var n=Sr(t,GZ),{x:r,y:a,lineHeight:l,capHeight:c,fill:d,scaleToFit:h,textAnchor:f,verticalAnchor:p}=n,g=r4(n,VZ),v=w.useMemo(()=>HZ({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:h,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,h,g.style,g.width]),{dx:N,dy:_,angle:j,className:E,breakAll:I}=g,R=r4(g,zZ);if(!Wi(r)||!Wi(a)||v.length===0)return null;var M=Number(r)+($e(N)?N:0),T=Number(a)+($e(_)?_:0);if(!jn(M)||!jn(T))return null;var C;switch(p){case"start":C=Cw("calc(".concat(c,")"));break;case"middle":C=Cw("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:C=Cw("calc(".concat(v.length-1," * -").concat(l,")"));break}var L=[];if(h){var P=v[0].width,{width:V}=g;L.push("scale(".concat($e(V)&&$e(P)?V/P:1,")"))}return j&&L.push("rotate(".concat(j,", ").concat(M,", ").concat(T,")")),L.length&&(R.transform=L.join(" ")),w.createElement("text",lN({},Ra(R),{ref:e,x:M,y:T,className:Ft("recharts-text",E),textAnchor:f,fill:d.includes("url")?A6:d}),v.map((F,A)=>{var D=F.words.join(I?"":" ");return w.createElement("tspan",{x:M,dy:A===0?C:l,key:"".concat(D,"-").concat(A)},D)}))});S0.displayName="Text";var KZ=["labelRef"];function YZ(t,e){if(t==null)return{};var n,r,a=WZ(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function WZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){XZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XZ(t,e,n){return(e=QZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QZ(t){var e=JZ(t,"string");return typeof e=="symbol"?e:e+""}function JZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(null,arguments)}var T6=w.createContext(null),ZZ=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:l,height:c,children:d}=t,h=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:l,height:c}),[e,n,r,a,l,c]);return w.createElement(T6.Provider,{value:h},d)},C6=()=>{var t=w.useContext(T6),e=n0();return t||qk(e)},eee=w.createContext(null),tee=()=>{var t=w.useContext(eee),e=Be(y5);return t||e},nee=t=>{var{value:e,formatter:n}=t,r=ir(t.children)?e:t.children;return typeof n=="function"?n(r):r},kj=t=>t!=null&&typeof t=="function",ree=(t,e)=>{var n=ar(e-t),r=Math.min(Math.abs(e-t),360);return n*r},aee=(t,e,n,r,a)=>{var{offset:l,className:c}=t,{cx:d,cy:h,innerRadius:f,outerRadius:p,startAngle:g,endAngle:v,clockWise:N}=a,_=(f+p)/2,j=ree(g,v),E=j>=0?1:-1,I,R;switch(e){case"insideStart":I=g+E*l,R=N;break;case"insideEnd":I=v-E*l,R=!N;break;case"end":I=v+E*l,R=N;break;default:throw new Error("Unsupported position ".concat(e))}R=j<=0?R:!R;var M=Ln(d,h,_,I),T=Ln(d,h,_,I+(R?1:-1)*359),C="M".concat(M.x,",").concat(M.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(T.x,",").concat(T.y),L=ir(t.id)?Bh("recharts-radial-line-"):t.id;return w.createElement("text",Ss({},r,{dominantBaseline:"central",className:Ft("recharts-radial-bar-label",c)}),w.createElement("defs",null,w.createElement("path",{id:L,d:C})),w.createElement("textPath",{xlinkHref:"#".concat(L)},n))},iee=(t,e,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:c,startAngle:d,endAngle:h}=t,f=(d+h)/2;if(n==="outside"){var{x:p,y:g}=Ln(r,a,c+e,f);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:N,y:_}=Ln(r,a,v,f);return{x:N,y:_,textAnchor:"middle",verticalAnchor:"middle"}},oN=t=>"cx"in t&&$e(t.cx),see=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,l;n!=null&&!oN(n)&&(l=n);var{x:c,y:d,upperWidth:h,lowerWidth:f,height:p}=e,g=c,v=c+(h-f)/2,N=(g+v)/2,_=(h+f)/2,j=g+h/2,E=p>=0?1:-1,I=E*r,R=E>0?"end":"start",M=E>0?"start":"end",T=h>=0?1:-1,C=T*r,L=T>0?"end":"start",P=T>0?"start":"end";if(a==="top"){var V={x:g+h/2,y:d-I,textAnchor:"middle",verticalAnchor:R};return wn(wn({},V),l?{height:Math.max(d-l.y,0),width:h}:{})}if(a==="bottom"){var F={x:v+f/2,y:d+p+I,textAnchor:"middle",verticalAnchor:M};return wn(wn({},F),l?{height:Math.max(l.y+l.height-(d+p),0),width:f}:{})}if(a==="left"){var A={x:N-C,y:d+p/2,textAnchor:L,verticalAnchor:"middle"};return wn(wn({},A),l?{width:Math.max(A.x-l.x,0),height:p}:{})}if(a==="right"){var D={x:N+_+C,y:d+p/2,textAnchor:P,verticalAnchor:"middle"};return wn(wn({},D),l?{width:Math.max(l.x+l.width-D.x,0),height:p}:{})}var z=l?{width:_,height:p}:{};return a==="insideLeft"?wn({x:N+C,y:d+p/2,textAnchor:P,verticalAnchor:"middle"},z):a==="insideRight"?wn({x:N+_-C,y:d+p/2,textAnchor:L,verticalAnchor:"middle"},z):a==="insideTop"?wn({x:g+h/2,y:d+I,textAnchor:"middle",verticalAnchor:M},z):a==="insideBottom"?wn({x:v+f/2,y:d+p-I,textAnchor:"middle",verticalAnchor:R},z):a==="insideTopLeft"?wn({x:g+C,y:d+I,textAnchor:P,verticalAnchor:M},z):a==="insideTopRight"?wn({x:g+h-C,y:d+I,textAnchor:L,verticalAnchor:M},z):a==="insideBottomLeft"?wn({x:v+C,y:d+p-I,textAnchor:P,verticalAnchor:R},z):a==="insideBottomRight"?wn({x:v+f-C,y:d+p-I,textAnchor:L,verticalAnchor:R},z):a&&typeof a=="object"&&($e(a.x)||Ls(a.x))&&($e(a.y)||Ls(a.y))?wn({x:c+jr(a.x,_),y:d+jr(a.y,p),textAnchor:"end",verticalAnchor:"end"},z):wn({x:j,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},z)},lee={angle:0,offset:5,zIndex:gr.label,position:"middle",textBreakAll:!1};function Pl(t){var e=Sr(t,lee),{viewBox:n,position:r,value:a,children:l,content:c,className:d="",textBreakAll:h,labelRef:f}=e,p=tee(),g=C6(),v=r==="center"?g:p??g,N,_,j;if(n==null?N=v:oN(n)?N=n:N=qk(n),!N||ir(a)&&ir(l)&&!w.isValidElement(c)&&typeof c!="function")return null;var E=wn(wn({},e),{},{viewBox:N});if(w.isValidElement(c)){var{labelRef:I}=E,R=YZ(E,KZ);return w.cloneElement(c,R)}if(typeof c=="function"){if(_=w.createElement(c,E),w.isValidElement(_))return _}else _=nee(e);var M=Ra(e);if(oN(N)){if(r==="insideStart"||r==="insideEnd"||r==="end")return aee(e,r,_,M,N);j=iee(N,e.offset,e.position)}else j=see(e,N);return w.createElement(mi,{zIndex:e.zIndex},w.createElement(S0,Ss({ref:f,className:Ft("recharts-label",d)},M,j,{textAnchor:$Z(M.textAnchor)?M.textAnchor:j.textAnchor,breakAll:h}),_))}Pl.displayName="Label";var oee=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Pl,Ss({key:"label-implicit"},r)):Wi(t)?w.createElement(Pl,Ss({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Pl?w.cloneElement(t,wn({key:"label-implicit"},r)):w.createElement(Pl,Ss({key:"label-implicit",content:t},r)):kj(t)?w.createElement(Pl,Ss({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Pl,Ss({},t,{key:"label-implicit"},r)):null};function cee(t){var{label:e,labelRef:n}=t,r=C6();return oee(e,r,n)||null}var Iw={},Ow={},l4;function uee(){return l4||(l4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Ow)),Ow}var Dw={},o4;function dee(){return o4||(o4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Dw)),Dw}var c4;function hee(){return c4||(c4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uee(),n=dee(),r=c_();function a(l){if(r.isArrayLike(l))return e.last(n.toArray(l))}t.last=a})(Iw)),Iw}var Rw,u4;function fee(){return u4||(u4=1,Rw=hee().last),Rw}var mee=fee();const pee=ts(mee);var gee=["valueAccessor"],yee=["dataKey","clockWise","id","textBreakAll","zIndex"];function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ny.apply(null,arguments)}function d4(t,e){if(t==null)return{};var n,r,a=xee(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vee=t=>Array.isArray(t.value)?pee(t.value):t.value,I6=w.createContext(void 0),bee=I6.Provider,O6=w.createContext(void 0),wee=O6.Provider;function Nee(){return w.useContext(I6)}function _ee(){return w.useContext(O6)}function lg(t){var{valueAccessor:e=vee}=t,n=d4(t,gee),{dataKey:r,clockWise:a,id:l,textBreakAll:c,zIndex:d}=n,h=d4(n,yee),f=Nee(),p=_ee(),g=f||p;return!g||!g.length?null:w.createElement(mi,{zIndex:d??gr.label},w.createElement(Dr,{className:"recharts-label-list"},g.map((v,N)=>{var _,j=ir(r)?e(v,N):rn(v&&v.payload,r),E=ir(l)?{}:{id:"".concat(l,"-").concat(N)};return w.createElement(Pl,ny({key:"label-".concat(N)},Ra(v),h,E,{fill:(_=n.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:j,textBreakAll:c,viewBox:v.viewBox,index:N,zIndex:0}))})))}lg.displayName="LabelList";function D6(t){var{label:e}=t;return e?e===!0?w.createElement(lg,{key:"labelList-implicit"}):w.isValidElement(e)||kj(e)?w.createElement(lg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(lg,ny({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var R6=t=>t.graphicalItems.polarItems,jee=ce([on,Cf],ij),A0=ce([R6,hn,jee],lj),Eee=ce([A0],oj),T0=ce([Eee,K_],cj),See=ce([T0,hn,A0],dj);ce([T0,hn,A0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var l,c=rn(r,(l=e.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:rn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var h4=()=>{},Aee=ce([T0,hn,A0,N0,on],pj),Tee=ce([hn,fj,mj,h4,Aee,h4,jt,on],gj),P6=ce([hn,jt,T0,See,Tf,on,Tee],yj),Cee=ce([P6,hn,sd],bj);ce([hn,P6,Cee,on],Nj);var Iee={radiusAxis:{},angleAxis:{}},k6=Wr({name:"polarAxis",initialState:Iee,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:tye,removeRadiusAxis:nye,addAngleAxis:rye,removeAngleAxis:aye}=k6.actions,Oee=k6.reducer;function f4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function m4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(n),!0).forEach(function(r){Dee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dee(t,e,n){return(e=Ree(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ree(t){var e=Pee(t,"string");return typeof e=="symbol"?e:e+""}function Pee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kee=(t,e)=>e,Mj=ce([R6,kee],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Mee=[],Lj=(t,e,n)=>(n==null?void 0:n.length)===0?Mee:n,M6=ce([K_,Mj,Lj],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if((e==null?void 0:e.data)!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(l=>m4(m4({},e.presentationProps),l.props))),a!=null)return a}}),Lee=ce([M6,Mj,Lj],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var l,c=rn(r,e.nameKey,e.name),d;return n!=null&&(l=n[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=e.fill,{value:Qy(c,e.dataKey),color:d,payload:r,type:e.legendType}})}),Uee=ce([M6,Mj,Lj,Kn],(t,e,n,r)=>{if(!(e==null||t==null))return Fte({offset:r,pieSettings:e,displayedData:t,cells:n})}),Pw={exports:{}},zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p4;function Vee(){if(p4)return zt;p4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function _(j){if(typeof j=="object"&&j!==null){var E=j.$$typeof;switch(E){case t:switch(j=j.type,j){case n:case a:case r:case h:case f:case v:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case g:case p:return j;case l:return j;default:return E}}case e:return E}}}return zt.ContextConsumer=l,zt.ContextProvider=c,zt.Element=t,zt.ForwardRef=d,zt.Fragment=n,zt.Lazy=g,zt.Memo=p,zt.Portal=e,zt.Profiler=a,zt.StrictMode=r,zt.Suspense=h,zt.SuspenseList=f,zt.isContextConsumer=function(j){return _(j)===l},zt.isContextProvider=function(j){return _(j)===c},zt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},zt.isForwardRef=function(j){return _(j)===d},zt.isFragment=function(j){return _(j)===n},zt.isLazy=function(j){return _(j)===g},zt.isMemo=function(j){return _(j)===p},zt.isPortal=function(j){return _(j)===e},zt.isProfiler=function(j){return _(j)===a},zt.isStrictMode=function(j){return _(j)===r},zt.isSuspense=function(j){return _(j)===h},zt.isSuspenseList=function(j){return _(j)===f},zt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===a||j===r||j===h||j===f||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===p||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===N||j.getModuleId!==void 0)},zt.typeOf=_,zt}var g4;function zee(){return g4||(g4=1,Pw.exports=Vee()),Pw.exports}var Fee=zee(),y4=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",x4=null,kw=null,L6=t=>{if(t===x4&&Array.isArray(kw))return kw;var e=[];return w.Children.forEach(t,n=>{ir(n)||(Fee.isFragment(n)?e=e.concat(L6(n.props.children)):e.push(n))}),kw=e,x4=t,e};function Uj(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>y4(a)):r=[y4(e)],L6(t).forEach(a=>{var l=ac(a,"type.displayName")||ac(a,"type.name");l&&r.indexOf(l)!==-1&&n.push(a)}),n}var Mw={},v4;function $ee(){return v4||(v4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var a;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((a=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&a.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Mw)),Mw}var Lw,b4;function Bee(){return b4||(b4=1,Lw=$ee().isPlainObject),Lw}var qee=Bee();const Hee=ts(qee);function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function N4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){Gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gee(t,e,n){return(e=Kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:e+""}function Yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ry(){return ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ry.apply(null,arguments)}var _4=(t,e,n,r,a)=>{var l=n-r,c;return c="M ".concat(t,",").concat(e),c+="L ".concat(t+n,",").concat(e),c+="L ".concat(t+n-l/2,",").concat(e+a),c+="L ".concat(t+n-l/2-r,",").concat(e+a),c+="L ".concat(t,",").concat(e," Z"),c},Wee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xee=t=>{var e=Sr(t,Wee),{x:n,y:r,upperWidth:a,lowerWidth:l,height:c,className:d}=e,{animationEasing:h,animationDuration:f,animationBegin:p,isUpdateAnimationActive:g}=e,v=w.useRef(null),[N,_]=w.useState(-1),j=w.useRef(a),E=w.useRef(l),I=w.useRef(c),R=w.useRef(n),M=w.useRef(r),T=c0(t,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var de=v.current.getTotalLength();de&&_(de)}catch{}},[]),n!==+n||r!==+r||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var C=Ft("recharts-trapezoid",d);if(!g)return w.createElement("g",null,w.createElement("path",ry({},Ra(e),{className:C,d:_4(n,r,a,l,c)})));var L=j.current,P=E.current,V=I.current,F=R.current,A=M.current,D="0px ".concat(N===-1?1:N,"px"),z="".concat(N,"px 0px"),U=iM(["strokeDasharray"],f,h);return w.createElement(o0,{animationId:T,key:T,canBegin:N>0,duration:f,easing:h,isActive:g,begin:p},de=>{var ae=$n(L,a,de),G=$n(P,l,de),Y=$n(V,c,de),H=$n(F,n,de),ge=$n(A,r,de);v.current&&(j.current=ae,E.current=G,I.current=Y,R.current=H,M.current=ge);var W=de>0?{transition:U,strokeDasharray:z}:{strokeDasharray:D};return w.createElement("path",ry({},Ra(e),{className:C,d:_4(H,ge,ae,G,Y),ref:v,style:N4(N4({},W),e.style)}))})},Qee=["option","shapeType","propTransformer","activeClassName"];function Jee(t,e){if(t==null)return{};var n,r,a=Zee(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zee(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ay(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return(e=tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return typeof e=="symbol"?e:e+""}function nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rte(t,e){return ay(ay({},e),t)}function ate(t,e){return t==="symbols"}function E4(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(cM,n);case"trapezoid":return w.createElement(Xee,n);case"sector":return w.createElement(fM,n);case"symbols":if(ate(e))return w.createElement(qP,n);break;case"curve":return w.createElement(__,n);default:return null}}function ite(t){return w.isValidElement(t)?t.props:t}function U6(t){var{option:e,shapeType:n,propTransformer:r=rte,activeClassName:a="recharts-active-shape"}=t,l=Jee(t,Qee),c;if(w.isValidElement(e))c=w.cloneElement(e,ay(ay({},l),ite(e)));else if(typeof e=="function")c=e(l);else if(Hee(e)&&typeof e!="boolean"){var d=r(e,l);c=w.createElement(E4,{shapeType:n,elementProps:d})}else{var h=l;c=w.createElement(E4,{shapeType:n,elementProps:h})}return l.isActive?w.createElement(Dr,{className:a},c):c}var Vj=(t,e)=>{var n=ln();return(r,a)=>l=>{t==null||t(r,a,l),n(Y5({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},zj=t=>{var e=ln();return(n,r)=>a=>{t==null||t(n,r,a),e(xQ())}},Fj=(t,e)=>{var n=ln();return(r,a)=>l=>{t==null||t(r,a,l),n(vQ({activeIndex:String(a),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function V6(t){var{tooltipEntrySettings:e}=t,n=ln(),r=Xr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(mQ(e)):a.current!==e&&n(pQ({prev:a.current,next:e})),a.current=e)},[e,n,r]),w.useLayoutEffect(()=>()=>{a.current&&(n(gQ(a.current)),a.current=null)},[n]),null}function ste(t){var{legendPayload:e}=t,n=ln(),r=Xr(),a=w.useRef(null);return w.useLayoutEffect(()=>{r||(a.current===null?n(tM(e)):a.current!==e&&n(nM({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(rM(a.current)),a.current=null)},[n]),null}function lte(t){var{legendPayload:e}=t,n=ln(),r=Be(jt),a=w.useRef(null);return w.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(tM(e)):a.current!==e&&n(nM({prev:a.current,next:e})),a.current=e)},[n,r,e]),w.useLayoutEffect(()=>()=>{a.current&&(n(rM(a.current)),a.current=null)},[n]),null}var Uw,ote=()=>{var[t]=w.useState(()=>Bh("uid-"));return t},cte=(Uw=n7.useId)!==null&&Uw!==void 0?Uw:ote;function z6(t,e){var n=cte();return e||(t?"".concat(t,"-").concat(n):n)}var ute=w.createContext(void 0),F6=t=>{var{id:e,type:n,children:r}=t,a=z6("recharts-".concat(n),e);return w.createElement(ute.Provider,{value:a},r(a))},dte={cartesianItems:[],polarItems:[]},$6=Wr({name:"graphicalItems",initialState:dte,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:nn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=si(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:nn()},removeCartesianGraphicalItem:{reducer(t,e){var n=si(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:nn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:nn()},removePolarGraphicalItem:{reducer(t,e){var n=si(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:nn()}}}),{addCartesianGraphicalItem:hte,replaceCartesianGraphicalItem:fte,removeCartesianGraphicalItem:mte,addPolarGraphicalItem:pte,removePolarGraphicalItem:gte}=$6.actions,yte=$6.reducer,xte=t=>{var e=ln(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(hte(t)):n.current!==t&&e(fte({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(mte(n.current)),n.current=null)},[e]),null},vte=w.memo(xte);function bte(t){var e=ln();return w.useLayoutEffect(()=>(e(pte(t)),()=>{e(gte(t))}),[e,t]),null}var wte=["key"],Nte=["onMouseEnter","onClick","onMouseLeave"],_te=["id"],jte=["id"];function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e,n){return(e=Ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ste(t){var e=Ate(t,"string");return typeof e=="symbol"?e:e+""}function Ate(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function C0(t,e){if(t==null)return{};var n,r,a=Tte(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Tte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Cte(t){var e=w.useMemo(()=>Uj(t.children,Lf),[t.children]),n=Be(r=>Lee(r,t.id,e));return n==null?null:w.createElement(lte,{legendPayload:n})}var Ite=w.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:l,fill:c,name:d,hide:h,tooltipType:f}=t,p={dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:a,strokeWidth:l,fill:c,dataKey:e,nameKey:n,name:Qy(d,e),hide:h,type:f,color:c,unit:""}};return w.createElement(V6,{tooltipEntrySettings:p})}),Ote=(t,e)=>t>e?"start":t<e?"end":"middle",Dte=(t,e,n)=>jr(typeof e=="function"?e(t):e,n,n*.8),Rte=(t,e,n)=>{var{top:r,left:a,width:l,height:c}=e,d=uM(l,c),h=a+jr(t.cx,l,l/2),f=r+jr(t.cy,c,c/2),p=jr(t.innerRadius,d,0),g=Dte(n,t.outerRadius,d),v=t.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:h,cy:f,innerRadius:p,outerRadius:g,maxRadius:v}},Pte=(t,e)=>{var n=ar(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function kte(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Mte=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Ft("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=C0(e,wte);return w.createElement(__,Wl({},a,{type:"linear",className:n}))},Lte=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var a=Ft("recharts-pie-label-text",kte(t));return w.createElement(S0,Wl({},e,{alignmentBaseline:"middle",className:a}),r)};function Ute(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:l,dataKey:c}=n;if(!r||!a||!e)return null;var d=li(n),h=$h(a),f=$h(l),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((v,N)=>{var _=(v.startAngle+v.endAngle)/2,j=Ln(v.cx,v.cy,v.outerRadius+p,_),E=pn(pn(pn(pn({},d),v),{},{stroke:"none"},h),{},{index:N,textAnchor:Ote(j.x,v.cx)},j),I=pn(pn(pn(pn({},d),v),{},{fill:"none",stroke:v.fill},f),{},{index:N,points:[Ln(v.cx,v.cy,v.outerRadius,_),j],key:"line"});return w.createElement(mi,{zIndex:gr.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(N)},w.createElement(Dr,null,l&&Mte(l,I),Lte(a,E,rn(v,c))))});return w.createElement(Dr,{className:"recharts-pie-labels"},g)}function Vte(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(D6,{label:a}):w.createElement(Ute,{sectors:e,props:n,showLabels:r})}function zte(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:l}=t,c=Be(oc),{onMouseEnter:d,onClick:h,onMouseLeave:f}=a,p=C0(a,Nte),g=Vj(d,a.dataKey),v=zj(f),N=Fj(h,a.dataKey);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((_,j)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&e.length!==1)return null;var E=String(j)===c,I=c?r:null,R=n&&E?n:I,M=pn(pn({},_),{},{stroke:_.stroke,tabIndex:-1,[Uk]:j,[Vk]:a.dataKey});return w.createElement(Dr,Wl({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(j),tabIndex:-1,className:"recharts-pie-sector"},Fy(p,_,j),{onMouseEnter:g(_,j),onMouseLeave:v(_,j),onClick:N(_,j)}),w.createElement(U6,Wl({option:l??R,shapeType:"sector",isActive:E},M)))}))}function Fte(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:l}=t,{cornerRadius:c,startAngle:d,endAngle:h,dataKey:f,nameKey:p,tooltipType:g}=n,v=Math.abs(n.minAngle),N=Pte(d,h),_=Math.abs(N),j=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,E=r.filter(L=>rn(L,f,0)!==0).length,I=(_>=360?E:E-1)*j,R=_-E*v-I,M=r.reduce((L,P)=>{var V=rn(P,f,0);return L+($e(V)?V:0)},0),T;if(M>0){var C;T=r.map((L,P)=>{var V=rn(L,f,0),F=rn(L,p,P),A=Rte(n,l,L),D=($e(V)?V:0)/M,z,U=pn(pn({},L),a&&a[P]&&a[P].props);P?z=C.endAngle+ar(N)*j*(V!==0?1:0):z=d;var de=z+ar(N)*((V!==0?v:0)+D*R),ae=(z+de)/2,G=(A.innerRadius+A.outerRadius)/2,Y=[{name:F,value:V,payload:U,dataKey:f,type:g}],H=Ln(A.cx,A.cy,G,ae);return C=pn(pn(pn(pn({},n.presentationProps),{},{percent:D,cornerRadius:typeof c=="string"?parseFloat(c):c,name:F,tooltipPayload:Y,midAngle:ae,middleRadius:G,tooltipPosition:H},U),A),{},{value:V,startAngle:z,endAngle:de,payload:U,paddingAngle:ar(N)*j}),C})}return T}function $te(t){var{showLabels:e,sectors:n,children:r}=t,a=w.useMemo(()=>!e||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,e]);return w.createElement(wee,{value:e?a:void 0},r)}function Bte(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:a,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:h,inactiveShape:f,onAnimationStart:p,onAnimationEnd:g}=e,v=c0(e,"recharts-pie-"),N=n.current,[_,j]=w.useState(!1),E=w.useCallback(()=>{typeof g=="function"&&g(),j(!1)},[g]),I=w.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);return w.createElement($te,{showLabels:!_,sectors:r},w.createElement(o0,{animationId:v,begin:l,duration:c,isActive:a,easing:d,onAnimationStart:I,onAnimationEnd:E,key:v},R=>{var M=[],T=r&&r[0],C=T==null?void 0:T.startAngle;return r==null||r.forEach((L,P)=>{var V=N&&N[P],F=P>0?ac(L,"paddingAngle",0):0;if(V){var A=$n(V.endAngle-V.startAngle,L.endAngle-L.startAngle,R),D=pn(pn({},L),{},{startAngle:C+F,endAngle:C+A+F});M.push(D),C=D.endAngle}else{var{endAngle:z,startAngle:U}=L,de=$n(0,z-U,R),ae=pn(pn({},L),{},{startAngle:C+F,endAngle:C+de+F});M.push(ae),C=ae.endAngle}}),n.current=M,w.createElement(Dr,null,w.createElement(zte,{sectors:M,activeShape:h,inactiveShape:f,allOtherPieProps:e,shape:e.shape}))}),w.createElement(Vte,{showLabels:!_,sectors:r,props:e}),e.children)}var qte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!xc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gr.area};function Hte(t){var{id:e}=t,n=C0(t,_te),{hide:r,className:a,rootTabIndex:l}=t,c=w.useMemo(()=>Uj(t.children,Lf),[t.children]),d=Be(p=>Uee(p,e,c)),h=w.useRef(null),f=Ft("recharts-pie",a);return r||d==null?(h.current=null,w.createElement(Dr,{tabIndex:l,className:f})):w.createElement(mi,{zIndex:t.zIndex},w.createElement(Ite,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:d,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),w.createElement(Dr,{tabIndex:l,className:f},w.createElement(Bte,{props:pn(pn({},n),{},{sectors:d}),previousSectorsRef:h})))}function B6(t){var e=Sr(t,qte),{id:n}=e,r=C0(e,jte),a=li(r);return w.createElement(F6,{id:n,type:"pie"},l=>w.createElement(w.Fragment,null,w.createElement(bte,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),w.createElement(Cte,Wl({},r,{id:l})),w.createElement(Hte,Wl({},r,{id:l}))))}B6.displayName="Pie";function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function T4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){Gte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gte(t,e,n){return(e=Kte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wte={xAxis:{},yAxis:{},zAxis:{}},q6=Wr({name:"cartesianAxis",initialState:Wte,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:nn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:nn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:nn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:nn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:nn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:nn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:nn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:nn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:nn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==a.width&&Math.abs(r-l[0])<=1)return;var c=[...l,r].slice(-3);t.yAxis[n]=T4(T4({},t.yAxis[n]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Xte,replaceXAxis:Qte,removeXAxis:Jte,addYAxis:Zte,replaceYAxis:ene,removeYAxis:tne,addZAxis:iye,replaceZAxis:sye,removeZAxis:lye,updateYAxisWidth:nne}=q6.actions,rne=q6.reducer,ane=ce([Kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ine=ce([ane,Ws,Xs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),H6=()=>Be(ine),sne="Invariant failed";function lne(t,e){throw new Error(sne)}var one=["x","y"];function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cN.apply(null,arguments)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e,n){return(e=une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=dne(t,"string");return typeof e=="symbol"?e:e+""}function dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hne(t,e){if(t==null)return{};var n,r,a=fne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mne(t,e){var{x:n,y:r}=t,a=hne(t,one),l="".concat(n),c=parseInt(l,10),d="".concat(r),h=parseInt(d,10),f="".concat(e.height||a.height),p=parseInt(f,10),g="".concat(e.width||a.width),v=parseInt(g,10);return Sh(Sh(Sh(Sh(Sh({},e),a),c?{x:c}:{}),h?{y:h}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function iy(t){return w.createElement(U6,cN({shapeType:"rectangle",propTransformer:mne,activeClassName:"recharts-active-bar"},t))}var pne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if($e(e))return e;var l=$e(r)||ir(r);return l?e(r,a):(l||lne(),n)}},gne={},G6=Wr({name:"errorBars",initialState:gne,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?a:l))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:oye,replaceErrorBar:cye,removeErrorBar:uye}=G6.actions,yne=G6.reducer,xne=["children"];function vne(t,e){if(t==null)return{};var n,r,a=bne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function bne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nne=w.createContext(wne);function _ne(t){var{children:e}=t,n=vne(t,xne);return w.createElement(Nne.Provider,{value:n},e)}function K6(t,e){var n,r,a=Be(f=>Js(f,t)),l=Be(f=>Zs(f,e)),c=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:er.allowDataOverflow,d=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:tr.allowDataOverflow,h=c||d;return{needClip:h,needClipX:c,needClipY:d}}function jne(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=H6(),{needClipX:l,needClipY:c,needClip:d}=K6(e,n);if(!d||!a)return null;var{x:h,y:f,width:p,height:g}=a;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:l?h:h-p/2,y:c?f:f-g/2,width:l?p:p*2,height:c?g:g*2}))}function Ene(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&jn(t.zIndex)?t.zIndex:e}var Vw={exports:{}},zw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function Sne(){if(I4)return zw;I4=1;var t=Ju();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return zw.useSyncExternalStoreWithSelector=function(h,f,p,g,v){var N=a(null);if(N.current===null){var _={hasValue:!1,value:null};N.current=_}else _=N.current;N=c(function(){function E(C){if(!I){if(I=!0,R=C,C=g(C),v!==void 0&&_.hasValue){var L=_.value;if(v(L,C))return M=L}return M=C}if(L=M,n(R,C))return L;var P=g(C);return v!==void 0&&v(L,P)?(R=C,L):(R=C,M=P)}var I=!1,R,M,T=p===void 0?null:p;return[function(){return E(f())},T===null?void 0:function(){return E(T())}]},[f,p,g,v]);var j=r(h,N[0],N[1]);return l(function(){_.hasValue=!0,_.value=j},[j]),d(j),j},zw}var O4;function Ane(){return O4||(O4=1,Vw.exports=Sne()),Vw.exports}Ane();function Tne(t){t()}function Cne(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Tne(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var D4={notify(){},get:()=>[]};function Ine(t,e){let n,r=D4,a=0,l=!1;function c(j){p();const E=r.subscribe(j);let I=!1;return()=>{I||(I=!0,E(),g())}}function d(){r.notify()}function h(){_.onStateChange&&_.onStateChange()}function f(){return l}function p(){a++,n||(n=t.subscribe(h),r=Cne())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=D4)}function v(){l||(l=!0,p())}function N(){l&&(l=!1,g())}const _={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:f,trySubscribe:v,tryUnsubscribe:N,getListeners:()=>r};return _}var One=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dne=One(),Rne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pne=Rne(),kne=()=>Dne||Pne?w.useLayoutEffect:w.useEffect,Mne=kne();function R4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Lne(t,e){if(R4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!R4(t[n[a]],e[n[a]]))return!1;return!0}var Fw=Symbol.for("react-redux-context"),$w=typeof globalThis<"u"?globalThis:{};function Une(){if(!w.createContext)return{};const t=$w[Fw]??($w[Fw]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Vne=Une();function zne(t){const{children:e,context:n,serverState:r,store:a}=t,l=w.useMemo(()=>{const h=Ine(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),c=w.useMemo(()=>a.getState(),[a]);Mne(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,c]);const d=n||Vne;return w.createElement(d.Provider,{value:l},e)}var Fne=zne,$ne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Bne(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function $j(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if($ne.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Lne(t[r],e[r]))return!1}else if(!Bne(t[r],e[r]))return!1;return!0}var qne=["onMouseEnter","onMouseLeave","onClick"],Hne=["value","background","tooltipPosition"],Gne=["id"],Kne=["onMouseEnter","onClick","onMouseLeave"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bs.apply(null,arguments)}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Yne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yne(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sy(t,e){if(t==null)return{};var n,r,a=Qne(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jne=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:l}=t;return[{inactive:l,dataKey:e,type:a,color:r,value:Qy(n,e),payload:t}]},Zne=w.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:l,hide:c,unit:d,tooltipType:h}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Qy(l,e),hide:c,type:h,color:a,unit:d}};return w.createElement(V6,{tooltipEntrySettings:f})});function ere(t){var e=Be(oc),{data:n,dataKey:r,background:a,allOtherBarProps:l}=t,{onMouseEnter:c,onMouseLeave:d,onClick:h}=l,f=sy(l,qne),p=Vj(c,r),g=zj(d),v=Fj(h,r);if(!a||n==null)return null;var N=$h(a);return w.createElement(mi,{zIndex:Ene(a,gr.barBackground)},n.map((_,j)=>{var{value:E,background:I,tooltipPosition:R}=_,M=sy(_,Hne);if(!I)return null;var T=p(_,j),C=g(_,j),L=v(_,j),P=Cr(Cr(Cr(Cr(Cr({option:a,isActive:String(j)===e},M),{},{fill:"#eee"},I),N),Fy(f,_,j)),{},{onMouseEnter:T,onMouseLeave:C,onClick:L,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return w.createElement(iy,Bs({key:"background-bar-".concat(j)},P))}))}function tre(t){var{showLabels:e,children:n,rects:r}=t,a=r==null?void 0:r.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return Cr(Cr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return w.createElement(bee,{value:e?a:void 0},n)}function nre(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:l,dataKey:c}=t,d=Be(oc),h=Be(o6),f=n&&String(l)===d&&(h==null||c===h),p=f?n:e;return f?w.createElement(mi,{zIndex:gr.activeBar},w.createElement(iy,Bs({},r,{name:String(r.name)},a,{isActive:f,option:p,index:l,dataKey:c}))):w.createElement(iy,Bs({},r,{name:String(r.name)},a,{isActive:f,option:p,index:l,dataKey:c}))}function rre(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:l}=t;return w.createElement(iy,Bs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:l}))}function are(t){var e,{data:n,props:r}=t,a=(e=li(r))!==null&&e!==void 0?e:{},{id:l}=a,c=sy(a,Gne),{shape:d,dataKey:h,activeBar:f}=r,{onMouseEnter:p,onClick:g,onMouseLeave:v}=r,N=sy(r,Kne),_=Vj(p,h),j=zj(v),E=Fj(g,h);return n?w.createElement(w.Fragment,null,n.map((I,R)=>w.createElement(Dr,Bs({key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(R),className:"recharts-bar-rectangle"},Fy(N,I,R),{onMouseEnter:_(I,R),onMouseLeave:j(I,R),onClick:E(I,R)}),f?w.createElement(nre,{shape:d,activeBar:f,baseProps:c,entry:I,index:R,dataKey:h}):w.createElement(rre,{shape:d,baseProps:c,entry:I,index:R,dataKey:h})))):null}function ire(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:h,onAnimationEnd:f,onAnimationStart:p}=e,g=n.current,v=c0(e,"recharts-bar-"),[N,_]=w.useState(!1),j=!N,E=w.useCallback(()=>{typeof f=="function"&&f(),_(!1)},[f]),I=w.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return w.createElement(tre,{showLabels:j,rects:r},w.createElement(o0,{animationId:v,begin:c,duration:d,isActive:l,easing:h,onAnimationEnd:E,onAnimationStart:I,key:v},R=>{var M=R===1?r:r==null?void 0:r.map((T,C)=>{var L=g&&g[C];if(L)return Cr(Cr({},T),{},{x:$n(L.x,T.x,R),y:$n(L.y,T.y,R),width:$n(L.width,T.width,R),height:$n(L.height,T.height,R)});if(a==="horizontal"){var P=$n(0,T.height,R),V=$n(T.stackedBarStart,T.y,R);return Cr(Cr({},T),{},{y:V,height:P})}var F=$n(0,T.width,R),A=$n(T.stackedBarStart,T.x,R);return Cr(Cr({},T),{},{width:F,x:A})});return R>0&&(n.current=M??null),M==null?null:w.createElement(Dr,null,w.createElement(are,{props:e,data:M}))}),w.createElement(D6,{label:e.label}),e.children)}function sre(t){var e=w.useRef(null);return w.createElement(ire,{previousRectanglesRef:e,props:t})}var Y6=0,lre=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:rn(t,e)}};class ore extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:l,yAxisId:c,needClip:d,background:h,id:f}=this.props;if(e||n==null)return null;var p=Ft("recharts-bar",a),g=f;return w.createElement(Dr,{className:p,id:f},d&&w.createElement("defs",null,w.createElement(jne,{clipPathId:g,xAxisId:l,yAxisId:c})),w.createElement(Dr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(g,")"):void 0},w.createElement(ere,{data:n,dataKey:r,background:h,allOtherBarProps:this.props}),w.createElement(sre,this.props)))}}var cre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Y6,xAxisId:0,yAxisId:0,zIndex:gr.bar};function ure(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:h,animationEasing:f,isAnimationActive:p}=t,{needClip:g}=K6(e,n),v=r0(),N=Xr(),_=Uj(t.children,Lf),j=Be(R=>Ure(R,e,n,N,t.id,_));if(v!=="vertical"&&v!=="horizontal")return null;var E,I=j==null?void 0:j[0];return I==null||I.height==null||I.width==null?E=0:E=v==="vertical"?I.height/2:I.width/2,w.createElement(_ne,{xAxisId:e,yAxisId:n,data:j,dataPointFormatter:lre,errorBarOffset:E},w.createElement(ore,Bs({},t,{layout:v,needClip:g,data:j,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:h,animationEasing:f,isAnimationActive:p})))}function dre(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:h,yAxisTicks:f,stackedData:p,displayedData:g,offset:v,cells:N,parentViewBox:_,dataStartIndex:j}=t,E=e==="horizontal"?d:c,I=p?E.scale.domain():null,R=sH({numericAxis:E}),M=E.scale(R);return g.map((T,C)=>{var L,P,V,F,A,D;p?L=eH(p[C+j],I):(L=rn(T,n),Array.isArray(L)||(L=[R,L]));var z=pne(r,Y6)(L[1],C);if(e==="horizontal"){var U,[de,ae]=[d.scale(L[0]),d.scale(L[1])];P=tI({axis:c,ticks:h,bandSize:l,offset:a.offset,entry:T,index:C}),V=(U=ae??de)!==null&&U!==void 0?U:void 0,F=a.size;var G=de-ae;if(A=oi(G)?0:G,D={x:P,y:v.top,width:F,height:v.height},Math.abs(z)>0&&Math.abs(A)<Math.abs(z)){var Y=ar(A||z)*(Math.abs(z)-Math.abs(A));V-=Y,A+=Y}}else{var[H,ge]=[c.scale(L[0]),c.scale(L[1])];if(P=H,V=tI({axis:d,ticks:f,bandSize:l,offset:a.offset,entry:T,index:C}),F=ge-H,A=a.size,D={x:v.left,y:V,width:v.width,height:A},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var W=ar(F||z)*(Math.abs(z)-Math.abs(F));F+=W}}if(P==null||V==null||F==null||A==null)return null;var B=Cr(Cr({},T),{},{stackedBarStart:M,x:P,y:V,width:F,height:A,value:p?L:L[1],payload:T,background:D,tooltipPosition:{x:P+F/2,y:V+A/2},parentViewBox:_},N&&N[C]&&N[C].props);return B}).filter(Boolean)}function hre(t){var e=Sr(t,cre),n=Xr();return w.createElement(F6,{id:e.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(ste,{legendPayload:Jne(e)}),w.createElement(Zne,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),w.createElement(vte,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:iH(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),w.createElement(mi,{zIndex:e.zIndex},w.createElement(ure,Bs({},e,{id:r})))))}var W6=w.memo(hre,$j);W6.displayName="Bar";function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gre=(t,e)=>e,yre=(t,e,n)=>n,xre=(t,e,n,r)=>r,vre=(t,e,n,r,a)=>a,Uf=ce([sj,vre],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),bre=ce([Uf],t=>t==null?void 0:t.maxBarSize),wre=(t,e,n,r,a,l)=>l,M4=(t,e,n)=>{var r=n??t;if(!ir(r))return jr(r,e,0)},Nre=ce([jt,sj,gre,yre,xre],(t,e,n,r,a)=>e.filter(l=>t==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===a).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),_re=(t,e,n,r)=>{var a=jt(t);return a==="horizontal"?nN(t,"yAxis",n,r):nN(t,"xAxis",e,r)},jre=(t,e,n)=>{var r=jt(t);return r==="horizontal"?DO(t,"xAxis",e):DO(t,"yAxis",n)},Ere=(t,e,n)=>{var r={},a=t.filter(x0),l=t.filter(f=>f.stackId==null),c=a.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),d=Object.entries(c).map(f=>{var[p,g]=f,v=g.map(_=>_.dataKey),N=M4(e,n,g[0].barSize);return{stackId:p,dataKeys:v,barSize:N}}),h=l.map(f=>{var p=[f.dataKey].filter(v=>v!=null),g=M4(e,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...d,...h]},Sre=ce([Nre,lX,jre],Ere),Are=(t,e,n,r,a)=>{var l,c,d=Uf(t,e,n,r,a);if(d!=null){var h=jt(t),f=c5(t),{maxBarSize:p}=d,g=ir(p)?f:p,v,N;return h==="horizontal"?(v=qu(t,"xAxis",e,r),N=Bu(t,"xAxis",e,r)):(v=qu(t,"yAxis",n,r),N=Bu(t,"yAxis",n,r)),(l=(c=Rg(v,N,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},X6=(t,e,n,r)=>{var a=jt(t),l,c;return a==="horizontal"?(l=qu(t,"xAxis",e,r),c=Bu(t,"xAxis",e,r)):(l=qu(t,"yAxis",n,r),c=Bu(t,"yAxis",n,r)),Rg(l,c)};function Tre(t,e,n,r,a){var l=r.length;if(!(l<1)){var c=jr(t,n,0,!0),d,h=[];if(jn(r[0].barSize)){var f=!1,p=n/l,g=r.reduce((I,R)=>I+(R.barSize||0),0);g+=(l-1)*c,g>=n&&(g-=(l-1)*c,c=0),g>=n&&p>0&&(f=!0,p*=.9,g=l*p);var v=(n-g)/2>>0,N={offset:v-c,size:0};d=r.reduce((I,R)=>{var M,T={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:N.offset+N.size+c,size:f?p:(M=R.barSize)!==null&&M!==void 0?M:0}},C=[...I,T];return N=C[C.length-1].position,C},h)}else{var _=jr(e,n,0,!0);n-2*_-(l-1)*c<=0&&(c=0);var j=(n-2*_-(l-1)*c)/l;j>1&&(j>>=0);var E=jn(a)?Math.min(j,a):j;d=r.reduce((I,R,M)=>[...I,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:_+(j+c)*M+(j-E)/2,size:E}}],h)}return d}}var Cre=(t,e,n,r,a,l,c)=>{var d=ir(c)?e:c,h=Tre(n,r,a!==l?a:l,t,d);return a!==l&&h!=null&&(h=h.map(f=>Fp(Fp({},f),{},{position:Fp(Fp({},f.position),{},{offset:f.position.offset-a/2})}))),h},Ire=ce([Sre,c5,sX,u5,Are,X6,bre],Cre),Ore=(t,e,n,r)=>qu(t,"xAxis",e,r),Dre=(t,e,n,r)=>qu(t,"yAxis",n,r),Rre=(t,e,n,r)=>Bu(t,"xAxis",e,r),Pre=(t,e,n,r)=>Bu(t,"yAxis",n,r),kre=ce([Ire,Uf],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Mre=(t,e)=>{var n=rj(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:l}=a;if(l)return l.find(c=>c.key===n)}}}},Lre=ce([_re,Uf],Mre),Ure=ce([Kn,v_,Ore,Dre,Rre,Pre,kre,jt,Y_,X6,Lre,Uf,wre],(t,e,n,r,a,l,c,d,h,f,p,g,v)=>{var{chartData:N,dataStartIndex:_,dataEndIndex:j}=h;if(!(g==null||c==null||e==null||d!=="horizontal"&&d!=="vertical"||n==null||r==null||a==null||l==null||f==null)){var{data:E}=g,I;if(E!=null&&E.length>0?I=E:I=N==null?void 0:N.slice(_,j+1),I!=null)return dre({layout:d,barSettings:g,pos:c,parentViewBox:e,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,stackedData:p,displayedData:I,offset:t,cells:v,dataStartIndex:_})}}),Q6=t=>{var{chartData:e}=t,n=ln(),r=Xr();return w.useEffect(()=>r?()=>{}:(n(HO(e)),()=>{n(HO(void 0))}),[e,n,r]),null},L4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},J6=Wr({name:"brush",initialState:L4,reducers:{setBrushSettings(t,e){return e.payload==null?L4:e.payload}}}),{setBrushSettings:dye}=J6.actions,Vre=J6.reducer;function zre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=$re(t,"string");return typeof e=="symbol"?e:e+""}function $re(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bj{static create(e){return new Bj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(e)+l}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}zre(Bj,"EPS",1e-4);function Bre(t){return(t%180+180)%180}var qre=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Bre(a),c=l*Math.PI/180,d=Math.atan(r/n),h=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(h)},Hre={dots:[],areas:[],lines:[]},Z6=Wr({name:"referenceElements",initialState:Hre,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=si(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=si(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=si(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:hye,removeDot:fye,addArea:mye,removeArea:pye,addLine:gye,removeLine:yye}=Z6.actions,Gre=Z6.reducer,Kre=w.createContext(void 0),Yre=t=>{var{children:e}=t,[n]=w.useState("".concat(Bh("recharts"),"-clip")),r=H6();if(r==null)return null;var{x:a,y:l,width:c,height:d}=r;return w.createElement(Kre.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:a,y:l,height:d,width:c}))),e)};function e3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Wre(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return qre(r,n)}function Xre(t,e,n){var r=n==="width",{x:a,y:l,width:c,height:d}=t;return e===1?{start:r?a:l,end:r?a+c:l+d}:{start:r?a+c:l+d,end:r?a:l}}function ly(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var l=n();return t*(e-t*l/2-r)>=0&&t*(e+t*l/2-a)<=0}function Qre(t,e){return e3(t,e+1)}function Jre(t,e,n,r,a){for(var l=(r||[]).slice(),{start:c,end:d}=e,h=0,f=1,p=c,g=function(){var _=r==null?void 0:r[h];if(_===void 0)return{v:e3(r,f)};var j=h,E,I=()=>(E===void 0&&(E=n(_,j)),E),R=_.coordinate,M=h===0||ly(t,R,I,p,d);M||(h=0,p=c,f+=1),M&&(p=R+t*(I()/2+a),h+=f)},v;f<=l.length;)if(v=g(),v)return v.v;return[]}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){Zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zre(t,e,n){return(e=eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return typeof e=="symbol"?e:e+""}function tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t,e,n,r,a){for(var l=(r||[]).slice(),c=l.length,{start:d}=e,{end:h}=e,f=function(v){var N=l[v],_,j=()=>(_===void 0&&(_=n(N,v)),_);if(v===c-1){var E=t*(N.coordinate+t*j()/2-h);l[v]=N=br(br({},N),{},{tickCoord:E>0?N.coordinate-E*t:N.coordinate})}else l[v]=N=br(br({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var I=ly(t,N.tickCoord,j,d,h);I&&(h=N.tickCoord-t*(j()/2+a),l[v]=br(br({},N),{},{isShow:!0}))}},p=c-1;p>=0;p--)f(p);return l}function rae(t,e,n,r,a,l){var c=(r||[]).slice(),d=c.length,{start:h,end:f}=e;if(l){var p=r[d-1],g=n(p,d-1),v=t*(p.coordinate+t*g/2-f);if(c[d-1]=p=br(br({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate}),p.tickCoord!=null){var N=ly(t,p.tickCoord,()=>g,h,f);N&&(f=p.tickCoord-t*(g/2+a),c[d-1]=br(br({},p),{},{isShow:!0}))}}for(var _=l?d-1:d,j=function(R){var M=c[R],T,C=()=>(T===void 0&&(T=n(M,R)),T);if(R===0){var L=t*(M.coordinate-t*C()/2-h);c[R]=M=br(br({},M),{},{tickCoord:L<0?M.coordinate-L*t:M.coordinate})}else c[R]=M=br(br({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var P=ly(t,M.tickCoord,C,h,f);P&&(h=M.tickCoord+t*(C()/2+a),c[R]=br(br({},M),{},{isShow:!0}))}},E=0;E<_;E++)j(E);return c}function qj(t,e,n){var{tick:r,ticks:a,viewBox:l,minTickGap:c,orientation:d,interval:h,tickFormatter:f,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if($e(h)||xc.isSsr){var v;return(v=Qre(a,$e(h)?h:0))!==null&&v!==void 0?v:[]}var N=[],_=d==="top"||d==="bottom"?"width":"height",j=p&&_==="width"?Rh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(M,T)=>{var C=typeof f=="function"?f(M.value,T):M.value;return _==="width"?Wre(Rh(C,{fontSize:e,letterSpacing:n}),j,g):Rh(C,{fontSize:e,letterSpacing:n})[_]},I=a.length>=2?ar(a[1].coordinate-a[0].coordinate):1,R=Xre(l,I,_);return h==="equidistantPreserveStart"?Jre(I,R,E,a,c):(h==="preserveStart"||h==="preserveStartEnd"?N=rae(I,R,E,a,c,h==="preserveStartEnd"):N=nae(I,R,E,a,c),N.filter(M=>M.isShow))}var aae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:l=0}=t,c=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,h=a+l,f=c+h+d+(n?r:0);return Math.round(f)}return 0},iae=["axisLine","width","height","className","hide","ticks","axisType"];function sae(t,e){if(t==null)return{};var n,r,a=lae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function lae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(null,arguments)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return(e=cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cae(t){var e=uae(t,"string");return typeof e=="symbol"?e:e+""}function uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gr.axis};function dae(t){var{x:e,y:n,width:r,height:a,orientation:l,mirror:c,axisLine:d,otherSvgProps:h}=t;if(!d)return null;var f=kn(kn(kn({},h),li(d)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!c||l==="bottom"&&c);f=kn(kn({},f),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);f=kn(kn({},f),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return w.createElement("line",cc({},f,{className:Ft("recharts-cartesian-axis-line",ac(d,"className"))}))}function hae(t,e,n,r,a,l,c,d,h){var f,p,g,v,N,_,j=d?-1:1,E=t.tickSize||c,I=$e(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":f=p=t.coordinate,v=n+ +!d*a,g=v-j*E,_=g-j*h,N=I;break;case"left":g=v=t.coordinate,p=e+ +!d*r,f=p-j*E,N=f-j*h,_=I;break;case"right":g=v=t.coordinate,p=e+ +d*r,f=p+j*E,N=f+j*h,_=I;break;default:f=p=t.coordinate,v=n+ +d*a,g=v+j*E,_=g+j*h,N=I;break}return{line:{x1:f,y1:g,x2:p,y2:v},tick:{x:N,y:_}}}function fae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function mae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function pae(t){var{option:e,tickProps:n,value:r}=t,a,l=Ft(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))a=w.cloneElement(e,kn(kn({},n),{},{className:l}));else if(typeof e=="function")a=e(kn(kn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Ft(c,e==null?void 0:e.className)),a=w.createElement(S0,cc({},n,{className:c}),r)}return a}var gae=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:l,tickFormatter:c,unit:d,padding:h,tickTextProps:f,orientation:p,mirror:g,x:v,y:N,width:_,height:j,tickSize:E,tickMargin:I,fontSize:R,letterSpacing:M,getTicksConfig:T,events:C,axisType:L}=t,P=qj(kn(kn({},T),{},{ticks:n}),R,M),V=fae(p,g),F=mae(p,g),A=li(T),D=$h(r),z={};typeof a=="object"&&(z=a);var U=kn(kn({},A),{},{fill:"none"},z),de=P.map(Y=>kn({entry:Y},hae(Y,v,N,_,j,p,E,g,I))),ae=de.map(Y=>{var{entry:H,line:ge}=Y;return w.createElement(Dr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&w.createElement("line",cc({},U,ge,{className:Ft("recharts-cartesian-axis-tick-line",ac(a,"className"))})))}),G=de.map((Y,H)=>{var{entry:ge,tick:W}=Y,B=kn(kn(kn(kn({textAnchor:V,verticalAnchor:F},A),{},{stroke:"none",fill:l},D),W),{},{index:H,payload:ge,visibleTicksCount:P.length,tickFormatter:c,padding:h},f);return w.createElement(Dr,cc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ge.value,"-").concat(ge.coordinate,"-").concat(ge.tickCoord)},Fy(C,ge,H)),r&&w.createElement(pae,{option:r,tickProps:B,value:"".concat(typeof c=="function"?c(ge.value,H):ge.value).concat(d||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},G.length>0&&w.createElement(mi,{zIndex:gr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},G)),ae.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},ae))}),yae=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:l,hide:c,ticks:d,axisType:h}=t,f=sae(t,iae),[p,g]=w.useState(""),[v,N]=w.useState(""),_=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return aae({ticks:_.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=w.useCallback(E=>{if(E){var I=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=I;var R=I[0];if(R){var M=window.getComputedStyle(R),T=M.fontSize,C=M.letterSpacing;(T!==p||C!==v)&&(g(T),N(C))}}},[p,v]);return c||r!=null&&r<=0||a!=null&&a<=0?null:w.createElement(mi,{zIndex:t.zIndex},w.createElement(Dr,{className:Ft("recharts-cartesian-axis",l)},w.createElement(dae,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:li(t)}),w.createElement(gae,{ref:j,axisType:h,events:f,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:d,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(ZZ,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(cee,{label:t.label,labelRef:t.labelRef}),t.children)))}),Hj=w.forwardRef((t,e)=>{var n=Sr(t,Ps);return w.createElement(yae,cc({},n,{ref:e}))});Hj.displayName="CartesianAxis";var xae=["x1","y1","x2","y2","key"],vae=["offset"],bae=["xAxisId","yAxisId"],wae=["xAxisId","yAxisId"];function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){Nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nae(t,e,n){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=jae(t,"string");return typeof e=="symbol"?e:e+""}function jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(null,arguments)}function oy(t,e){if(t==null)return{};var n,r,a=Eae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:l,height:c,ry:d}=t;return w.createElement("rect",{x:r,y:a,ry:d,width:l,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function t3(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:l,y1:c,x2:d,y2:h,key:f}=n,p=oy(n,xae),g=(a=li(p))!==null&&a!==void 0?a:{},{offset:v}=g,N=oy(g,vae);r=w.createElement("line",Xo({},N,{x1:l,y1:c,x2:d,y2:h,fill:"none",key:f}))}return r}function Aae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=t,d=oy(t,bae),h=a.map((f,p)=>{var g=Nr(Nr({},d),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(p),index:p});return w.createElement(t3,{key:"line-".concat(p),option:r,lineItemProps:g})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function Tae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=t,d=oy(t,wae),h=a.map((f,p)=>{var g=Nr(Nr({},d),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(p),index:p});return w.createElement(t3,{option:r,lineItemProps:g,key:"line-".concat(p)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function Cae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:l,height:c,horizontalPoints:d,horizontal:h=!0}=t;if(!h||!e||!e.length||d==null)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var N=!f[v+1],_=N?a+c-g:f[v+1]-g;if(_<=0)return null;var j=v%e.length;return w.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:_,width:l,stroke:"none",fill:e[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Iae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:l,width:c,height:d,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var N=!f[v+1],_=N?a+c-g:f[v+1]-g;if(_<=0)return null;var j=v%n.length;return w.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:_,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Oae=(t,e)=>{var{xAxis:n,width:r,height:a,offset:l}=t;return kk(qj(Nr(Nr(Nr({},Ps),n),{},{ticks:Mk(n),viewBox:{x:0,y:0,width:r,height:a}})),l.left,l.left+l.width,e)},Dae=(t,e)=>{var{yAxis:n,width:r,height:a,offset:l}=t;return kk(qj(Nr(Nr(Nr({},Ps),n),{},{ticks:Mk(n),viewBox:{x:0,y:0,width:r,height:a}})),l.top,l.top+l.height,e)},Rae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gr.grid};function n3(t){var e=Gk(),n=Kk(),r=Hk(),a=Nr(Nr({},Sr(t,Rae)),{},{x:$e(t.x)?t.x:r.left,y:$e(t.y)?t.y:r.top,width:$e(t.width)?t.width:r.width,height:$e(t.height)?t.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:h,width:f,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:N}=a,_=Xr(),j=Be(F=>RO(F,"xAxis",l,_)),E=Be(F=>RO(F,"yAxis",c,_));if(!Qi(f)||!Qi(p)||!$e(d)||!$e(h))return null;var I=a.verticalCoordinatesGenerator||Oae,R=a.horizontalCoordinatesGenerator||Dae,{horizontalPoints:M,verticalPoints:T}=a;if((!M||!M.length)&&typeof R=="function"){var C=v&&v.length,L=R({yAxis:E?Nr(Nr({},E),{},{ticks:C?v:E.ticks}):void 0,width:e??f,height:n??p,offset:r},C?!0:g);Pg(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(M=L)}if((!T||!T.length)&&typeof I=="function"){var P=N&&N.length,V=I({xAxis:j?Nr(Nr({},j),{},{ticks:P?N:j.ticks}):void 0,width:e??f,height:n??p,offset:r},P?!0:g);Pg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(T=V)}return w.createElement(mi,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Sae,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(Cae,Xo({},a,{horizontalPoints:M})),w.createElement(Iae,Xo({},a,{verticalPoints:T})),w.createElement(Aae,Xo({},a,{offset:r,horizontalPoints:M,xAxis:j,yAxis:E})),w.createElement(Tae,Xo({},a,{offset:r,verticalPoints:T,xAxis:j,yAxis:E}))))}n3.displayName="CartesianGrid";var Pae=["domain","range"],kae=["domain","range"];function F4(t,e){if(t==null)return{};var n,r,a=Mae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Mae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $4(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function r3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=F4(t,Pae),{domain:l,range:c}=e,d=F4(e,kae);return!$4(n,l)||!$4(r,c)?!1:$j(a,d)}var Lae=["dangerouslySetInnerHTML","ticks"],Uae=["id"];function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uN.apply(null,arguments)}function B4(t,e){if(t==null)return{};var n,r,a=Vae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zae(t){var e=ln(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Xte(t)):n.current!==t&&e(Qte({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(Jte(n.current)),n.current=null)},[e]),null}var Fae=t=>{var{xAxisId:e,className:n}=t,r=Be(v_),a=Xr(),l="xAxis",c=Be(E=>ld(E,l,e,a)),d=Be(E=>$5(E,l,e,a)),h=Be(E=>U5(E,e)),f=Be(E=>aQ(E,e)),p=Be(E=>v5(E,e));if(h==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=t,N=B4(t,Lae),{id:_}=p,j=B4(p,Uae);return w.createElement(Hj,uN({},N,j,{scale:c,x:f.x,y:f.y,width:h.width,height:h.height,className:Ft("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:d,axisType:l}))},$ae={allowDataOverflow:er.allowDataOverflow,allowDecimals:er.allowDecimals,allowDuplicatedCategory:er.allowDuplicatedCategory,angle:er.angle,axisLine:Ps.axisLine,height:er.height,hide:!1,includeHidden:er.includeHidden,interval:er.interval,minTickGap:er.minTickGap,mirror:er.mirror,orientation:er.orientation,padding:er.padding,reversed:er.reversed,scale:er.scale,tick:er.tick,tickCount:er.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:er.type,xAxisId:0},Bae=t=>{var e=Sr(t,$ae);return w.createElement(w.Fragment,null,w.createElement(zae,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),w.createElement(Fae,e))},a3=w.memo(Bae,r3);a3.displayName="XAxis";var qae=["dangerouslySetInnerHTML","ticks"],Hae=["id"];function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dN.apply(null,arguments)}function q4(t,e){if(t==null)return{};var n,r,a=Gae(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kae(t){var e=ln(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(Zte(t)):n.current!==t&&e(ene({prev:n.current,next:t})),n.current=t},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(e(tne(n.current)),n.current=null)},[e]),null}var Yae=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,l=w.useRef(null),c=w.useRef(null),d=Be(v_),h=Xr(),f=ln(),p="yAxis",g=Be(C=>ld(C,p,e,h)),v=Be(C=>V5(C,e)),N=Be(C=>sQ(C,e)),_=Be(C=>$5(C,p,e,h)),j=Be(C=>b5(C,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!v||kj(a)||w.isValidElement(a)||j==null)){var C=l.current;if(C){var L=C.getCalculatedWidth();Math.round(v.width)!==Math.round(L)&&f(nne({id:e,width:L}))}}},[_,v,f,a,e,r,j]),v==null||N==null||j==null)return null;var{dangerouslySetInnerHTML:E,ticks:I}=t,R=q4(t,qae),{id:M}=j,T=q4(j,Hae);return w.createElement(Hj,dN({},R,T,{ref:l,labelRef:c,scale:g,x:N.x,y:N.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Ft("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:_,axisType:p}))},Wae={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:Ps.axisLine,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:Ps.tickLine,tickSize:Ps.tickSize,type:tr.type,width:tr.width,yAxisId:0},Xae=t=>{var e=Sr(t,Wae);return w.createElement(w.Fragment,null,w.createElement(Kae,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),w.createElement(Yae,e))},i3=w.memo(Xae,r3);i3.displayName="YAxis";var Qae=(t,e)=>e,Gj=ce([Qae,jt,y5,Wn,a6,el,bJ,Kn],AJ),Kj=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},s3=Pa("mouseClick"),l3=wf();l3.startListening({actionCreator:s3,effect:(t,e)=>{var n=t.payload,r=Gj(e.getState(),Kj(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(bQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var hN=Pa("mouseMove"),o3=wf(),$p=null;o3.startListening({actionCreator:hN,effect:(t,e)=>{var n=t.payload;$p!==null&&cancelAnimationFrame($p);var r=Kj(n);$p=requestAnimationFrame(()=>{var a=e.getState(),l=Ej(a,a.tooltip.settings.shared);if(l==="axis"){var c=Gj(a,r);(c==null?void 0:c.activeIndex)!=null?e.dispatch(X5({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):e.dispatch(W5())}$p=null})}});var H4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},c3=Wr({name:"rootProps",initialState:H4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:H4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Jae=c3.reducer,{updateOptions:Zae}=c3.actions,u3=Wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:eie}=u3.actions,tie=u3.reducer,d3=Pa("keyDown"),h3=Pa("focus"),Yj=wf();Yj.startListening({actionCreator:d3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=t.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Sj(a,cd(n),Df(n),Mf(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var h=el(n);if(l==="Enter"){var f=ty(n,"axis","hover",String(a.index));e.dispatch(aN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var p=uQ(n),g=p==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,N=d+v*g;if(!(h==null||N>=h.length||N<0)){var _=ty(n,"axis","hover",String(N));e.dispatch(aN({active:!0,activeIndex:N.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});Yj.startListening({actionCreator:h3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",c=ty(n,"axis","hover",String(l));e.dispatch(aN({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Ca=Pa("externalEvent"),f3=wf(),Bw=new Map;f3.startListening({actionCreator:Ca,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,l=Bw.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var d=e.getState(),h={activeCoordinate:iJ(d),activeDataKey:o6(d),activeIndex:oc(d),activeLabel:l6(d),activeTooltipIndex:oc(d),isTooltipActive:sJ(d)};n(h,r)}finally{Bw.delete(a)}});Bw.set(a,c)}}});var nie=ce([od],t=>t.tooltipItemPayloads),rie=ce([nie,Pf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(d=>d.settings.dataKey===r);if(a!=null){var{positions:l}=a;if(l!=null){var c=e(l,n);return c}}}),m3=Pa("touchMove"),p3=wf();p3.startListening({actionCreator:m3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=Ej(r,r.tooltip.settings.shared);if(a==="axis"){var l=Gj(r,Kj({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&e.dispatch(X5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null)return;var h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(Uk),p=(c=h.getAttribute(Vk))!==null&&c!==void 0?c:void 0,g=rie(e.getState(),f,p);e.dispatch(Y5({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}}});var aie=sk({brush:Vre,cartesianAxis:rne,chartData:aZ,errorBars:yne,graphicalItems:yte,layout:Yq,legend:eG,options:ZJ,polarAxis:Oee,polarOptions:tie,referenceElements:Gre,rootProps:Jae,tooltip:wQ,zIndex:FJ}),iie=function(e){return vq({reducer:aie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([l3.middleware,o3.middleware,Yj.middleware,f3.middleware,p3.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(wk({type:"raf"}))},devTools:xc.devToolsEnabled})};function g3(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Xr(),l=w.useRef(null);if(a)return n;l.current==null&&(l.current=iie(e));var c=u_;return w.createElement(Fne,{context:c,store:l.current},n)}function sie(t){var{layout:e,margin:n}=t,r=ln(),a=Xr();return w.useEffect(()=>{a||(r(Hq(e)),r(qq(n)))},[r,a,e,n]),null}var y3=w.memo(sie,$j);function x3(t){var e=ln();return w.useEffect(()=>{e(Zae(t))},[e,t]),null}function G4(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",a=z6("".concat(r).concat(e)),l=ln();return w.useLayoutEffect(()=>(l(VJ({zIndex:e,elementId:a,isPanorama:n})),()=>{l(zJ({zIndex:e,isPanorama:n}))}),[l,e,a,n]),w.createElement("g",{id:a})}function K4(t){var{children:e,isPanorama:n}=t,r=Be(CJ);if(!r||r.length===0)return e;var a=r.filter(c=>c<0),l=r.filter(c=>c>0);return w.createElement(w.Fragment,null,a.map(c=>w.createElement(G4,{key:c,zIndex:c,isPanorama:n})),e,l.map(c=>w.createElement(G4,{key:c,zIndex:c,isPanorama:n})))}var lie=["children"];function oie(t,e){if(t==null)return{};var n,r,a=cie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function cie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cy.apply(null,arguments)}var uie={width:"100%",height:"100%",display:"block"},die=w.forwardRef((t,e)=>{var n=Gk(),r=Kk(),a=aM();if(!Qi(n)||!Qi(r))return null;var{children:l,otherAttributes:c,title:d,desc:h}=t,f,p;return c!=null&&(typeof c.tabIndex=="number"?f=c.tabIndex:f=a?0:void 0,typeof c.role=="string"?p=c.role:p=a?"application":void 0),w.createElement(jP,cy({},c,{title:d,desc:h,role:p,tabIndex:f,width:n,height:r,style:uie,ref:e}),l)}),hie=t=>{var{children:e}=t,n=Be(t0);if(!n)return null;var{width:r,height:a,y:l,x:c}=n;return w.createElement(jP,{width:r,height:a,x:c,y:l},e)},Y4=w.forwardRef((t,e)=>{var{children:n}=t,r=oie(t,lie),a=Xr();return a?w.createElement(hie,null,w.createElement(K4,{isPanorama:!0},n)):w.createElement(die,cy({ref:e},r),w.createElement(K4,{isPanorama:!1},n))});function fie(){var t=ln(),[e,n]=w.useState(null),r=Be(hH);return w.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),l=a.width/e.offsetWidth;jn(l)&&l!==r&&t(Kq(l))}},[e,t,r]),n}function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){pie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e,n){return(e=gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gie(t){var e=yie(t,"string");return typeof e=="symbol"?e:e+""}function yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uc.apply(null,arguments)}var xie=()=>(fZ(),null);function uy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var vie=w.forwardRef((t,e)=>{var n,r,a=w.useRef(null),[l,c]=w.useState({containerWidth:uy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:uy((r=t.style)===null||r===void 0?void 0:r.height)}),d=w.useCallback((f,p)=>{c(g=>{var v=Math.round(f),N=Math.round(p);return g.containerWidth===v&&g.containerHeight===N?g:{containerWidth:v,containerHeight:N}})},[]),h=w.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=f.getBoundingClientRect();d(p,g);var v=_=>{var{width:j,height:E}=_[0].contentRect;d(j,E)},N=new ResizeObserver(v);N.observe(f),a.current=N}},[e,d]);return w.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[d]),w.createElement(w.Fragment,null,w.createElement(a0,{width:l.containerWidth,height:l.containerHeight}),w.createElement("div",uc({ref:h},t)))}),bie=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,l]=w.useState({containerWidth:uy(n),containerHeight:uy(r)}),c=w.useCallback((h,f)=>{l(p=>{var g=Math.round(h),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),d=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();c(f,p)}},[e,c]);return w.createElement(w.Fragment,null,w.createElement(a0,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",uc({ref:d},t)))}),wie=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(a0,{width:n,height:r}),w.createElement("div",uc({ref:e},t)))}),Nie=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ls(n)||Ls(r)?w.createElement(bie,uc({},t,{ref:e})):w.createElement(wie,uc({},t,{ref:e}))});function _ie(t){return t===!0?vie:Nie}var jie=w.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:N,onTouchMove:_,onTouchStart:j,style:E,width:I,responsive:R,dispatchTouchEvents:M=!0}=t,T=w.useRef(null),C=ln(),[L,P]=w.useState(null),[V,F]=w.useState(null),A=fie(),D=b_(),z=(D==null?void 0:D.width)>0?D.width:I,U=(D==null?void 0:D.height)>0?D.height:a,de=w.useCallback(ie=>{A(ie),typeof e=="function"&&e(ie),P(ie),F(ie),ie!=null&&(T.current=ie)},[A,e,P,F]),ae=w.useCallback(ie=>{C(s3(ie)),C(Ca({handler:l,reactEvent:ie}))},[C,l]),G=w.useCallback(ie=>{C(hN(ie)),C(Ca({handler:f,reactEvent:ie}))},[C,f]),Y=w.useCallback(ie=>{C(W5()),C(Ca({handler:p,reactEvent:ie}))},[C,p]),H=w.useCallback(ie=>{C(hN(ie)),C(Ca({handler:g,reactEvent:ie}))},[C,g]),ge=w.useCallback(()=>{C(h3())},[C]),W=w.useCallback(ie=>{C(d3(ie.key))},[C]),B=w.useCallback(ie=>{C(Ca({handler:c,reactEvent:ie}))},[C,c]),J=w.useCallback(ie=>{C(Ca({handler:d,reactEvent:ie}))},[C,d]),xe=w.useCallback(ie=>{C(Ca({handler:h,reactEvent:ie}))},[C,h]),te=w.useCallback(ie=>{C(Ca({handler:v,reactEvent:ie}))},[C,v]),X=w.useCallback(ie=>{C(Ca({handler:j,reactEvent:ie}))},[C,j]),Ee=w.useCallback(ie=>{M&&C(m3(ie)),C(Ca({handler:_,reactEvent:ie}))},[C,M,_]),Te=w.useCallback(ie=>{C(Ca({handler:N,reactEvent:ie}))},[C,N]),re=_ie(R);return w.createElement(p6.Provider,{value:L},w.createElement(JF.Provider,{value:V},w.createElement(re,{width:z??(E==null?void 0:E.width),height:U??(E==null?void 0:E.height),className:Ft("recharts-wrapper",r),style:mie({position:"relative",cursor:"default",width:z,height:U},E),onClick:ae,onContextMenu:B,onDoubleClick:J,onFocus:ge,onKeyDown:W,onMouseDown:xe,onMouseEnter:G,onMouseLeave:Y,onMouseMove:H,onMouseUp:te,onTouchEnd:Te,onTouchMove:Ee,onTouchStart:X,ref:de},w.createElement(xie,null),n)))}),Eie=["width","height","responsive","children","className","style","compact","title","desc"];function Sie(t,e){if(t==null)return{};var n,r,a=Aie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v3=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:l,className:c,style:d,compact:h,title:f,desc:p}=t,g=Sie(t,Eie),v=li(g);return h?w.createElement(w.Fragment,null,w.createElement(a0,{width:n,height:r}),w.createElement(Y4,{otherAttributes:v,title:f,desc:p},l)):w.createElement(jie,{className:c,style:d,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(Y4,{otherAttributes:v,title:f,desc:p,ref:e},w.createElement(Yre,null,l)))});function fN(){return fN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fN.apply(null,arguments)}var Tie={top:5,right:5,bottom:5,left:5},Cie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Tie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Iie=w.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,Cie),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,categoricalChartProps:f}=e,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return w.createElement(g3,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:l},w.createElement(Q6,{chartData:f.data}),w.createElement(y3,{layout:a.layout,margin:a.margin}),w.createElement(x3,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(v3,fN({},a,{ref:n})))}),Oie=["axis","item"],Die=w.forwardRef((t,e)=>w.createElement(Iie,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oie,tooltipPayloadSearcher:g6,categoricalChartProps:t,ref:e}));function Rie(t){var e=ln();return w.useEffect(()=>{e(eie(t))},[e,t]),null}var Pie=["layout"];function mN(){return mN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mN.apply(null,arguments)}function kie(t,e){if(t==null)return{};var n,r,a=Mie(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(r=0;r<l.length;r++)n=l[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Mie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lie={top:5,right:5,bottom:5,left:5},Uie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Vie=w.forwardRef(function(e,n){var r,a=Sr(e.categoricalChartProps,Uie),{layout:l}=a,c=kie(a,Pie),{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=e,g={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return w.createElement(g3,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:d},w.createElement(Q6,{chartData:a.data}),w.createElement(y3,{layout:l,margin:a.margin}),w.createElement(x3,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Rie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(v3,mN({},c,{ref:n})))}),zie=["item"],Fie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},$ie=w.forwardRef((t,e)=>{var n=Sr(t,Fie);return w.createElement(Vie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:zie,tooltipPayloadSearcher:g6,categoricalChartProps:n,ref:e})});const Ia=({title:t,value:e,icon:n,color:r})=>{const a={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",amber:"bg-amber-50 text-amber-600",purple:"bg-purple-50 text-purple-600"};return s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between hover:shadow-md transition-shadow",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e})]}),s.jsx("div",{className:`p-3 rounded-full ${a[r]}`,children:s.jsx(n,{className:"w-6 h-6"})})]})},Bie=()=>{};var X4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},qie=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},w3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,p=l>>2,g=(l&3)<<4|d>>4;let v=(d&15)<<2|f>>6,N=f&63;h||(N=64,c||(v=64)),r.push(n[p],n[g],n[v],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qie(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||f==null||g==null)throw new Hie;const v=l<<2|d>>4;if(r.push(v),f!==64){const N=d<<4&240|f>>2;if(r.push(N),g!==64){const _=f<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gie=function(t){const e=b3(t);return w3.encodeByteArray(e,!0)},dy=function(t){return Gie(t).replace(/\./g,"")},N3=function(t){try{return w3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yie=()=>Kie().__FIREBASE_DEFAULTS__,Wie=()=>{if(typeof process>"u"||typeof X4>"u")return;const t=X4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N3(t[1]);return e&&JSON.parse(e)},I0=()=>{try{return Bie()||Yie()||Wie()||Xie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_3=t=>{var e,n;return(n=(e=I0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},j3=t=>{const e=_3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},E3=()=>{var t;return(t=I0())==null?void 0:t.config},S3=t=>{var e;return(e=I0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dy(JSON.stringify(n)),dy(JSON.stringify(c)),""].join(".")}const Ph={};function Jie(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ph))Ph[e]?t.emulator.push(e):t.prod.push(e);return t}function Zie(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q4=!1;function Xj(t,e){if(typeof window>"u"||typeof document>"u"||!wc(window.location.host)||Ph[t]===e||Ph[t]||Q4)return;Ph[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",l=Jie().prod.length>0;function c(){const v=document.getElementById(r);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,N){v.setAttribute("width","24"),v.setAttribute("id",N),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Q4=!0,c()},v}function p(v,N){v.setAttribute("id",N),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=Zie(r),N=n("text"),_=document.getElementById(N)||document.createElement("span"),j=n("learnmore"),E=document.getElementById(j)||document.createElement("a"),I=n("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;d(M),p(E,j);const T=f();h(R,I),M.append(R,_,E,T),document.body.appendChild(M)}l?(_.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ese(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function tse(){var e;const t=(e=I0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nse(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function T3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rse(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ase(){const t=Er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ise(){return!tse()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C3(){try{return typeof indexedDB=="object"}catch{return!1}}function I3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function sse(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse="FirebaseError";class Ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lse,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?ose(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ua(a,d,r)}}function ose(t,e){return t.replace(cse,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const cse=/\{\$([^}]+)}/g;function use(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(J4(l)&&J4(c)){if(!Xl(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function J4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dse(t,e){const n=new hse(t,e);return n.subscribe.bind(n)}class hse{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fse(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=qw),a.error===void 0&&(a.error=qw),a.complete===void 0&&(a.complete=qw);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fse(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse=1e3,pse=2,gse=14400*1e3,yse=.5;function Z4(t,e=mse,n=pse){const r=e*Math.pow(n,t),a=Math.round(yse*r*(Math.random()-.5)*2);return Math.min(gse,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t){return t&&t._delegate?t._delegate:t}class Ma{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Qie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bse(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vse(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vse(t){return t===Go?void 0:t}function bse(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xse(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const Nse={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},_se=ft.INFO,jse={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},Ese=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=jse[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O0{constructor(e){this.name=e,this._logLevel=_se,this._logHandler=Ese,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nse[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const Sse=(t,e)=>e.some(n=>t instanceof n);let eD,tD;function Ase(){return eD||(eD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tse(){return tD||(tD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O3=new WeakMap,pN=new WeakMap,D3=new WeakMap,Hw=new WeakMap,Qj=new WeakMap;function Cse(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n($l(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&O3.set(n,t)}).catch(()=>{}),Qj.set(e,t),e}function Ise(t){if(pN.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});pN.set(t,e)}let gN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||D3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $l(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ose(t){gN=t(gN)}function Dse(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gw(this),e,...n);return D3.set(r,e.sort?e.sort():[e]),$l(r)}:Tse().includes(t)?function(...e){return t.apply(Gw(this),e),$l(O3.get(this))}:function(...e){return $l(t.apply(Gw(this),e))}}function Rse(t){return typeof t=="function"?Dse(t):(t instanceof IDBTransaction&&Ise(t),Sse(t,Ase())?new Proxy(t,gN):t)}function $l(t){if(t instanceof IDBRequest)return Cse(t);if(Hw.has(t))return Hw.get(t);const e=Rse(t);return e!==t&&(Hw.set(t,e),Qj.set(e,t)),e}const Gw=t=>Qj.get(t);function R3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=$l(c);return r&&c.addEventListener("upgradeneeded",h=>{r($l(c.result),h.oldVersion,h.newVersion,$l(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const Pse=["get","getKey","getAll","getAllKeys","count"],kse=["put","add","delete","clear"],Kw=new Map;function nD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kw.get(e))return Kw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=kse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Pse.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),a&&h.done]))[0]};return Kw.set(e,l),l}Ose(t=>({...t,get:(e,n,r)=>nD(e,n)||t.get(e,n,r),has:(e,n)=>!!nD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lse(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lse(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yN="@firebase/app",rD="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new O0("@firebase/app"),Use="@firebase/app-compat",Vse="@firebase/analytics-compat",zse="@firebase/analytics",Fse="@firebase/app-check-compat",$se="@firebase/app-check",Bse="@firebase/auth",qse="@firebase/auth-compat",Hse="@firebase/database",Gse="@firebase/data-connect",Kse="@firebase/database-compat",Yse="@firebase/functions",Wse="@firebase/functions-compat",Xse="@firebase/installations",Qse="@firebase/installations-compat",Jse="@firebase/messaging",Zse="@firebase/messaging-compat",ele="@firebase/performance",tle="@firebase/performance-compat",nle="@firebase/remote-config",rle="@firebase/remote-config-compat",ale="@firebase/storage",ile="@firebase/storage-compat",sle="@firebase/firestore",lle="@firebase/ai",ole="@firebase/firestore-compat",cle="firebase",ule="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="[DEFAULT]",dle={[yN]:"fire-core",[Use]:"fire-core-compat",[zse]:"fire-analytics",[Vse]:"fire-analytics-compat",[$se]:"fire-app-check",[Fse]:"fire-app-check-compat",[Bse]:"fire-auth",[qse]:"fire-auth-compat",[Hse]:"fire-rtdb",[Gse]:"fire-data-connect",[Kse]:"fire-rtdb-compat",[Yse]:"fire-fn",[Wse]:"fire-fn-compat",[Xse]:"fire-iid",[Qse]:"fire-iid-compat",[Jse]:"fire-fcm",[Zse]:"fire-fcm-compat",[ele]:"fire-perf",[tle]:"fire-perf-compat",[nle]:"fire-rc",[rle]:"fire-rc-compat",[ale]:"fire-gcs",[ile]:"fire-gcs-compat",[sle]:"fire-fst",[ole]:"fire-fst-compat",[lle]:"fire-vertex","fire-js":"fire-js",[cle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=new Map,hle=new Map,vN=new Map;function aD(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ci(t){const e=t.name;if(vN.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;vN.set(e,t);for(const n of hy.values())aD(n,t);for(const n of hle.values())aD(n,t);return!0}function lo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fle={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bl=new Nc("app","Firebase",fle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=ule;function P3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xN,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Bl.create("bad-app-name",{appName:String(a)});if(n||(n=E3()),!n)throw Bl.create("no-options");const l=hy.get(a);if(l){if(Xl(n,l.options)&&Xl(r,l.config))return l;throw Bl.create("duplicate-app",{appName:a})}const c=new wse(a);for(const h of vN.values())c.addComponent(h);const d=new mle(n,r,c);return hy.set(a,d),d}function D0(t=xN){const e=hy.get(t);if(!e&&t===xN&&E3())return P3();if(!e)throw Bl.create("no-app",{appName:t});return e}function Kr(t,e,n){let r=dle[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(c.join(" "));return}ci(new Ma(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple="firebase-heartbeat-database",gle=1,rf="firebase-heartbeat-store";let Yw=null;function k3(){return Yw||(Yw=R3(ple,gle,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bl.create("idb-open",{originalErrorMessage:t.message})})),Yw}async function yle(t){try{const n=(await k3()).transaction(rf),r=await n.objectStore(rf).get(M3(t));return await n.done,r}catch(e){if(e instanceof Ua)qs.warn(e.message);else{const n=Bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function iD(t,e){try{const r=(await k3()).transaction(rf,"readwrite");await r.objectStore(rf).put(e,M3(t)),await r.done}catch(n){if(n instanceof Ua)qs.warn(n.message);else{const r=Bl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function M3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xle=1024,vle=30;class ble{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sD();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>vle){const c=_le(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sD(),{heartbeatsToSend:r,unsentEntries:a}=wle(this._heartbeatsCache.heartbeats),l=dy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return qs.warn(n),""}}}function sD(){return new Date().toISOString().substring(0,10)}function wle(t,e=xle){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),lD(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C3()?I3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yle(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return iD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lD(t){return dy(JSON.stringify({version:2,heartbeats:t})).length}function _le(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(t){ci(new Ma("platform-logger",e=>new Mse(e),"PRIVATE")),ci(new Ma("heartbeat",e=>new ble(e),"PRIVATE")),Kr(yN,rD,t),Kr(yN,rD,"esm2020"),Kr("fire-js","")}jle("");var Ele="firebase",Sle="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(Ele,Sle,"app");const L3="@firebase/installations",Jj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=1e4,V3=`w:${Jj}`,z3="FIS_v2",Ale="https://firebaseinstallations.googleapis.com/v1",Tle=3600*1e3,Cle="installations",Ile="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ole={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dc=new Nc(Cle,Ile,Ole);function F3(t){return t instanceof Ua&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3({projectId:t}){return`${Ale}/projects/${t}/installations`}function B3(t){return{token:t.token,requestStatus:2,expiresIn:Rle(t.expiresIn),creationTime:Date.now()}}async function q3(t,e){const r=(await e.json()).error;return dc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function H3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dle(t,{refreshToken:e}){const n=H3(t);return n.append("Authorization",Ple(e)),n}async function G3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Rle(t){return Number(t.replace("s","000"))}function Ple(t){return`${z3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kle({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$3(t),a=H3(t),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={fid:n,authVersion:z3,appId:t.appId,sdkVersion:V3},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await G3(()=>fetch(r,d));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:B3(f.authToken)}}else throw await q3("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lle=/^[cdef][\w-]{21}$/,bN="";function Ule(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Vle(t);return Lle.test(n)?n:bN}catch{return bN}}function Vle(t){return Mle(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Map;function W3(t,e){const n=R0(t);X3(n,e),zle(n,e)}function X3(t,e){const n=Y3.get(t);if(n)for(const r of n)r(e)}function zle(t,e){const n=Fle();n&&n.postMessage({key:t,fid:e}),$le()}let Qo=null;function Fle(){return!Qo&&"BroadcastChannel"in self&&(Qo=new BroadcastChannel("[Firebase] FID Change"),Qo.onmessage=t=>{X3(t.data.key,t.data.fid)}),Qo}function $le(){Y3.size===0&&Qo&&(Qo.close(),Qo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble="firebase-installations-database",qle=1,hc="firebase-installations-store";let Ww=null;function Zj(){return Ww||(Ww=R3(Ble,qle,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(hc)}}})),Ww}async function fy(t,e){const n=R0(t),a=(await Zj()).transaction(hc,"readwrite"),l=a.objectStore(hc),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&W3(t,e.fid),e}async function Q3(t){const e=R0(t),r=(await Zj()).transaction(hc,"readwrite");await r.objectStore(hc).delete(e),await r.done}async function P0(t,e){const n=R0(t),a=(await Zj()).transaction(hc,"readwrite"),l=a.objectStore(hc),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&W3(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(t){let e;const n=await P0(t.appConfig,r=>{const a=Hle(r),l=Gle(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===bN?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Hle(t){const e=t||{fid:Ule(),registrationStatus:0};return J3(e)}function Gle(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(dc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Kle(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Yle(t)}:{installationEntry:e}}async function Kle(t,e){try{const n=await kle(t,e);return fy(t.appConfig,n)}catch(n){throw F3(n)&&n.customData.serverCode===409?await Q3(t.appConfig):await fy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Yle(t){let e=await oD(t.appConfig);for(;e.registrationStatus===1;)await K3(100),e=await oD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await eE(t);return r||n}return e}function oD(t){return P0(t,e=>{if(!e)throw dc.create("installation-not-found");return J3(e)})}function J3(t){return Wle(t)?{fid:t.fid,registrationStatus:0}:t}function Wle(t){return t.registrationStatus===1&&t.registrationTime+U3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xle({appConfig:t,heartbeatServiceProvider:e},n){const r=Qle(t,n),a=Dle(t,n),l=e.getImmediate({optional:!0});if(l){const f=await l.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={installation:{sdkVersion:V3,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},h=await G3(()=>fetch(r,d));if(h.ok){const f=await h.json();return B3(f)}else throw await q3("Generate Auth Token",h)}function Qle(t,{fid:e}){return`${$3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(t,e=!1){let n;const r=await P0(t.appConfig,l=>{if(!Z3(l))throw dc.create("not-registered");const c=l.authToken;if(!e&&eoe(c))return l;if(c.requestStatus===1)return n=Jle(t,e),l;{if(!navigator.onLine)throw dc.create("app-offline");const d=noe(l);return n=Zle(t,d),d}});return n?await n:r.authToken}async function Jle(t,e){let n=await cD(t.appConfig);for(;n.authToken.requestStatus===1;)await K3(100),n=await cD(t.appConfig);const r=n.authToken;return r.requestStatus===0?tE(t,e):r}function cD(t){return P0(t,e=>{if(!Z3(e))throw dc.create("not-registered");const n=e.authToken;return roe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Zle(t,e){try{const n=await Xle(t,e),r={...e,authToken:n};return await fy(t.appConfig,r),n}catch(n){if(F3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Q3(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await fy(t.appConfig,r)}throw n}}function Z3(t){return t!==void 0&&t.registrationStatus===2}function eoe(t){return t.requestStatus===2&&!toe(t)}function toe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Tle}function noe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function roe(t){return t.requestStatus===1&&t.requestTime+U3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aoe(t){const e=t,{installationEntry:n,registrationPromise:r}=await eE(e);return r?r.catch(console.error):tE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ioe(t,e=!1){const n=t;return await soe(n),(await tE(n,e)).token}async function soe(t){const{registrationPromise:e}=await eE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function loe(t){if(!t||!t.options)throw Xw("App Configuration");if(!t.name)throw Xw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xw(t){return dc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="installations",ooe="installations-internal",coe=t=>{const e=t.getProvider("app").getImmediate(),n=loe(e),r=lo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},uoe=t=>{const e=t.getProvider("app").getImmediate(),n=lo(e,eL).getImmediate();return{getId:()=>aoe(n),getToken:a=>ioe(n,a)}};function doe(){ci(new Ma(eL,coe,"PUBLIC")),ci(new Ma(ooe,uoe,"PRIVATE"))}doe();Kr(L3,Jj);Kr(L3,Jj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="analytics",hoe="firebase_id",foe="origin",moe=60*1e3,poe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new O0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},da=new Nc("analytics","Analytics",goe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yoe(t){if(!t.startsWith(nE)){const e=da.create("invalid-gtag-resource",{gtagURL:t});return Or.warn(e.message),""}return t}function tL(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xoe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function voe(t,e){const n=xoe("firebase-js-sdk-policy",{createScriptURL:yoe}),r=document.createElement("script"),a=`${nE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function boe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function woe(t,e,n,r,a,l){const c=r[a];try{if(c)await e[c];else{const h=(await tL(n)).find(f=>f.measurementId===a);h&&await e[h.appId]}}catch(d){Or.error(d)}t("config",a,l)}async function Noe(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await tL(n);for(const h of c){const f=d.find(g=>g.measurementId===h),p=f&&e[f.appId];if(p)l.push(p);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){Or.error(l)}}function _oe(t,e,n,r){async function a(l,...c){try{if(l==="event"){const[d,h]=c;await Noe(t,e,n,d,h)}else if(l==="config"){const[d,h]=c;await woe(t,e,n,r,d,h)}else if(l==="consent"){const[d,h]=c;t("consent",d,h)}else if(l==="get"){const[d,h,f]=c;t("get",d,h,f)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){Or.error(d)}}return a}function joe(t,e,n,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=_oe(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function Eoe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(nE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe=30,Aoe=1e3;class Toe{constructor(e={},n=Aoe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nL=new Toe;function Coe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Ioe(t){var c;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Coe(n)},a=poe.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let d="";try{const h=await l.json();(c=h.error)!=null&&c.message&&(d=h.error.message)}catch{}throw da.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function Ooe(t,e=nL,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw da.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw da.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Poe;return setTimeout(async()=>{d.abort()},moe),rL({appId:r,apiKey:a,measurementId:l},c,d,e)}async function rL(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=nL){var d;const{appId:l,measurementId:c}=t;try{await Doe(r,e)}catch(h){if(c)return Or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await Ioe(t);return a.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!Roe(f)){if(a.deleteThrottleMetadata(l),c)return Or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const p=Number((d=f==null?void 0:f.customData)==null?void 0:d.httpStatus)===503?Z4(n,a.intervalMillis,Soe):Z4(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,g),Or.debug(`Calling attemptFetch again in ${p} millis`),rL(t,g,r,a)}}function Doe(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(da.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Roe(t){if(!(t instanceof Ua)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Poe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function koe(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,c={...r,send_to:l};t("event",n,c)}}async function Moe(t,e,n,r){if(r&&r.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Loe(){if(C3())try{await I3()}catch(t){return Or.warn(da.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Or.warn(da.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Uoe(t,e,n,r,a,l,c){const d=Ooe(t);d.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Or.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Or.error(v)),e.push(d);const h=Loe().then(v=>{if(v)return r.getId()}),[f,p]=await Promise.all([d,h]);Eoe(l)||voe(l,f.measurementId),a("js",new Date);const g=(c==null?void 0:c.config)??{};return g[foe]="firebase",g.update=!0,p!=null&&(g[hoe]=p),a("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e){this.app=e}_delete(){return delete Cu[this.app.options.appId],Promise.resolve()}}let Cu={},uD=[];const dD={};let Qw="dataLayer",zoe="gtag",hD,rE,fD=!1;function Foe(){const t=[];if(T3()&&t.push("This is a browser extension environment."),sse()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=da.create("invalid-analytics-context",{errorInfo:e});Or.warn(n.message)}}function $oe(t,e,n){Foe();const r=t.options.appId;if(!r)throw da.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw da.create("no-api-key");if(Cu[r]!=null)throw da.create("already-exists",{id:r});if(!fD){boe(Qw);const{wrappedGtag:l,gtagCore:c}=joe(Cu,uD,dD,Qw,zoe);rE=l,hD=c,fD=!0}return Cu[r]=Uoe(t,uD,dD,e,hD,Qw,n),new Voe(t)}function Boe(t=D0()){t=En(t);const e=lo(t,my);return e.isInitialized()?e.getImmediate():qoe(t)}function qoe(t,e={}){const n=lo(t,my);if(n.isInitialized()){const a=n.getImmediate();if(Xl(e,n.getOptions()))return a;throw da.create("already-initialized")}return n.initialize({options:e})}function Hoe(t,e,n){t=En(t),Moe(rE,Cu[t.app.options.appId],e,n).catch(r=>Or.error(r))}function Goe(t,e,n,r){t=En(t),koe(rE,Cu[t.app.options.appId],e,n,r).catch(a=>Or.error(a))}const mD="@firebase/analytics",pD="0.10.19";function Koe(){ci(new Ma(my,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return $oe(r,a,n)},"PUBLIC")),ci(new Ma("analytics-internal",t,"PRIVATE")),Kr(mD,pD),Kr(mD,pD,"esm2020");function t(e){try{const n=e.getProvider(my).getImmediate();return{logEvent:(r,a,l)=>Goe(n,r,a,l),setUserProperties:(r,a)=>Hoe(n,r,a)}}catch(n){throw da.create("interop-component-reg-failed",{reason:n})}}}Koe();var gD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ql,aL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,V){function F(){}F.prototype=V.prototype,P.F=V.prototype,P.prototype=new F,P.prototype.constructor=P,P.D=function(A,D,z){for(var U=Array(arguments.length-2),de=2;de<arguments.length;de++)U[de-2]=arguments[de];return V.prototype[D].apply(A,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,V,F){F||(F=0);const A=Array(16);if(typeof V=="string")for(var D=0;D<16;++D)A[D]=V.charCodeAt(F++)|V.charCodeAt(F++)<<8|V.charCodeAt(F++)<<16|V.charCodeAt(F++)<<24;else for(D=0;D<16;++D)A[D]=V[F++]|V[F++]<<8|V[F++]<<16|V[F++]<<24;V=P.g[0],F=P.g[1],D=P.g[2];let z=P.g[3],U;U=V+(z^F&(D^z))+A[0]+3614090360&4294967295,V=F+(U<<7&4294967295|U>>>25),U=z+(D^V&(F^D))+A[1]+3905402710&4294967295,z=V+(U<<12&4294967295|U>>>20),U=D+(F^z&(V^F))+A[2]+606105819&4294967295,D=z+(U<<17&4294967295|U>>>15),U=F+(V^D&(z^V))+A[3]+3250441966&4294967295,F=D+(U<<22&4294967295|U>>>10),U=V+(z^F&(D^z))+A[4]+4118548399&4294967295,V=F+(U<<7&4294967295|U>>>25),U=z+(D^V&(F^D))+A[5]+1200080426&4294967295,z=V+(U<<12&4294967295|U>>>20),U=D+(F^z&(V^F))+A[6]+2821735955&4294967295,D=z+(U<<17&4294967295|U>>>15),U=F+(V^D&(z^V))+A[7]+4249261313&4294967295,F=D+(U<<22&4294967295|U>>>10),U=V+(z^F&(D^z))+A[8]+1770035416&4294967295,V=F+(U<<7&4294967295|U>>>25),U=z+(D^V&(F^D))+A[9]+2336552879&4294967295,z=V+(U<<12&4294967295|U>>>20),U=D+(F^z&(V^F))+A[10]+4294925233&4294967295,D=z+(U<<17&4294967295|U>>>15),U=F+(V^D&(z^V))+A[11]+2304563134&4294967295,F=D+(U<<22&4294967295|U>>>10),U=V+(z^F&(D^z))+A[12]+1804603682&4294967295,V=F+(U<<7&4294967295|U>>>25),U=z+(D^V&(F^D))+A[13]+4254626195&4294967295,z=V+(U<<12&4294967295|U>>>20),U=D+(F^z&(V^F))+A[14]+2792965006&4294967295,D=z+(U<<17&4294967295|U>>>15),U=F+(V^D&(z^V))+A[15]+1236535329&4294967295,F=D+(U<<22&4294967295|U>>>10),U=V+(D^z&(F^D))+A[1]+4129170786&4294967295,V=F+(U<<5&4294967295|U>>>27),U=z+(F^D&(V^F))+A[6]+3225465664&4294967295,z=V+(U<<9&4294967295|U>>>23),U=D+(V^F&(z^V))+A[11]+643717713&4294967295,D=z+(U<<14&4294967295|U>>>18),U=F+(z^V&(D^z))+A[0]+3921069994&4294967295,F=D+(U<<20&4294967295|U>>>12),U=V+(D^z&(F^D))+A[5]+3593408605&4294967295,V=F+(U<<5&4294967295|U>>>27),U=z+(F^D&(V^F))+A[10]+38016083&4294967295,z=V+(U<<9&4294967295|U>>>23),U=D+(V^F&(z^V))+A[15]+3634488961&4294967295,D=z+(U<<14&4294967295|U>>>18),U=F+(z^V&(D^z))+A[4]+3889429448&4294967295,F=D+(U<<20&4294967295|U>>>12),U=V+(D^z&(F^D))+A[9]+568446438&4294967295,V=F+(U<<5&4294967295|U>>>27),U=z+(F^D&(V^F))+A[14]+3275163606&4294967295,z=V+(U<<9&4294967295|U>>>23),U=D+(V^F&(z^V))+A[3]+4107603335&4294967295,D=z+(U<<14&4294967295|U>>>18),U=F+(z^V&(D^z))+A[8]+1163531501&4294967295,F=D+(U<<20&4294967295|U>>>12),U=V+(D^z&(F^D))+A[13]+2850285829&4294967295,V=F+(U<<5&4294967295|U>>>27),U=z+(F^D&(V^F))+A[2]+4243563512&4294967295,z=V+(U<<9&4294967295|U>>>23),U=D+(V^F&(z^V))+A[7]+1735328473&4294967295,D=z+(U<<14&4294967295|U>>>18),U=F+(z^V&(D^z))+A[12]+2368359562&4294967295,F=D+(U<<20&4294967295|U>>>12),U=V+(F^D^z)+A[5]+4294588738&4294967295,V=F+(U<<4&4294967295|U>>>28),U=z+(V^F^D)+A[8]+2272392833&4294967295,z=V+(U<<11&4294967295|U>>>21),U=D+(z^V^F)+A[11]+1839030562&4294967295,D=z+(U<<16&4294967295|U>>>16),U=F+(D^z^V)+A[14]+4259657740&4294967295,F=D+(U<<23&4294967295|U>>>9),U=V+(F^D^z)+A[1]+2763975236&4294967295,V=F+(U<<4&4294967295|U>>>28),U=z+(V^F^D)+A[4]+1272893353&4294967295,z=V+(U<<11&4294967295|U>>>21),U=D+(z^V^F)+A[7]+4139469664&4294967295,D=z+(U<<16&4294967295|U>>>16),U=F+(D^z^V)+A[10]+3200236656&4294967295,F=D+(U<<23&4294967295|U>>>9),U=V+(F^D^z)+A[13]+681279174&4294967295,V=F+(U<<4&4294967295|U>>>28),U=z+(V^F^D)+A[0]+3936430074&4294967295,z=V+(U<<11&4294967295|U>>>21),U=D+(z^V^F)+A[3]+3572445317&4294967295,D=z+(U<<16&4294967295|U>>>16),U=F+(D^z^V)+A[6]+76029189&4294967295,F=D+(U<<23&4294967295|U>>>9),U=V+(F^D^z)+A[9]+3654602809&4294967295,V=F+(U<<4&4294967295|U>>>28),U=z+(V^F^D)+A[12]+3873151461&4294967295,z=V+(U<<11&4294967295|U>>>21),U=D+(z^V^F)+A[15]+530742520&4294967295,D=z+(U<<16&4294967295|U>>>16),U=F+(D^z^V)+A[2]+3299628645&4294967295,F=D+(U<<23&4294967295|U>>>9),U=V+(D^(F|~z))+A[0]+4096336452&4294967295,V=F+(U<<6&4294967295|U>>>26),U=z+(F^(V|~D))+A[7]+1126891415&4294967295,z=V+(U<<10&4294967295|U>>>22),U=D+(V^(z|~F))+A[14]+2878612391&4294967295,D=z+(U<<15&4294967295|U>>>17),U=F+(z^(D|~V))+A[5]+4237533241&4294967295,F=D+(U<<21&4294967295|U>>>11),U=V+(D^(F|~z))+A[12]+1700485571&4294967295,V=F+(U<<6&4294967295|U>>>26),U=z+(F^(V|~D))+A[3]+2399980690&4294967295,z=V+(U<<10&4294967295|U>>>22),U=D+(V^(z|~F))+A[10]+4293915773&4294967295,D=z+(U<<15&4294967295|U>>>17),U=F+(z^(D|~V))+A[1]+2240044497&4294967295,F=D+(U<<21&4294967295|U>>>11),U=V+(D^(F|~z))+A[8]+1873313359&4294967295,V=F+(U<<6&4294967295|U>>>26),U=z+(F^(V|~D))+A[15]+4264355552&4294967295,z=V+(U<<10&4294967295|U>>>22),U=D+(V^(z|~F))+A[6]+2734768916&4294967295,D=z+(U<<15&4294967295|U>>>17),U=F+(z^(D|~V))+A[13]+1309151649&4294967295,F=D+(U<<21&4294967295|U>>>11),U=V+(D^(F|~z))+A[4]+4149444226&4294967295,V=F+(U<<6&4294967295|U>>>26),U=z+(F^(V|~D))+A[11]+3174756917&4294967295,z=V+(U<<10&4294967295|U>>>22),U=D+(V^(z|~F))+A[2]+718787259&4294967295,D=z+(U<<15&4294967295|U>>>17),U=F+(z^(D|~V))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+V&4294967295,P.g[1]=P.g[1]+(D+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.v=function(P,V){V===void 0&&(V=P.length);const F=V-this.blockSize,A=this.C;let D=this.h,z=0;for(;z<V;){if(D==0)for(;z<=F;)a(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<V;)if(A[D++]=P.charCodeAt(z++),D==this.blockSize){a(this,A),D=0;break}}else for(;z<V;)if(A[D++]=P[z++],D==this.blockSize){a(this,A),D=0;break}}this.h=D,this.o+=V},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var V=1;V<P.length-8;++V)P[V]=0;V=this.o*8;for(var F=P.length-8;F<P.length;++F)P[F]=V&255,V/=256;for(this.v(P),P=Array(16),V=0,F=0;F<4;++F)for(let A=0;A<32;A+=8)P[V++]=this.g[F]>>>A&255;return P};function l(P,V){var F=d;return Object.prototype.hasOwnProperty.call(F,P)?F[P]:F[P]=V(P)}function c(P,V){this.h=V;const F=[];let A=!0;for(let D=P.length-1;D>=0;D--){const z=P[D]|0;A&&z==V||(F[D]=z,A=!1)}this.g=F}var d={};function h(P){return-128<=P&&P<128?l(P,function(V){return new c([V|0],V<0?-1:0)}):new c([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return g;if(P<0)return E(f(-P));const V=[];let F=1;for(let A=0;P>=F;A++)V[A]=P/F|0,F*=4294967296;return new c(V,0)}function p(P,V){if(P.length==0)throw Error("number format error: empty string");if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(P.charAt(0)=="-")return E(p(P.substring(1),V));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=f(Math.pow(V,8));let A=g;for(let z=0;z<P.length;z+=8){var D=Math.min(8,P.length-z);const U=parseInt(P.substring(z,z+D),V);D<8?(D=f(Math.pow(V,D)),A=A.j(D).add(f(U))):(A=A.j(F),A=A.add(f(U)))}return A}var g=h(0),v=h(1),N=h(16777216);t=c.prototype,t.m=function(){if(j(this))return-E(this).m();let P=0,V=1;for(let F=0;F<this.g.length;F++){const A=this.i(F);P+=(A>=0?A:4294967296+A)*V,V*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(j(this))return"-"+E(this).toString(P);const V=f(Math.pow(P,6));var F=this;let A="";for(;;){const D=T(F,V).g;F=I(F,D.j(V));let z=((F.g.length>0?F.g[0]:F.h)>>>0).toString(P);if(F=D,_(F))return z+A;for(;z.length<6;)z="0"+z;A=z+A}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(let V=0;V<P.g.length;V++)if(P.g[V]!=0)return!1;return!0}function j(P){return P.h==-1}t.l=function(P){return P=I(this,P),j(P)?-1:_(P)?0:1};function E(P){const V=P.g.length,F=[];for(let A=0;A<V;A++)F[A]=~P.g[A];return new c(F,~P.h).add(v)}t.abs=function(){return j(this)?E(this):this},t.add=function(P){const V=Math.max(this.g.length,P.g.length),F=[];let A=0;for(let D=0;D<=V;D++){let z=A+(this.i(D)&65535)+(P.i(D)&65535),U=(z>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);A=U>>>16,z&=65535,U&=65535,F[D]=U<<16|z}return new c(F,F[F.length-1]&-2147483648?-1:0)};function I(P,V){return P.add(E(V))}t.j=function(P){if(_(this)||_(P))return g;if(j(this))return j(P)?E(this).j(E(P)):E(E(this).j(P));if(j(P))return E(this.j(E(P)));if(this.l(N)<0&&P.l(N)<0)return f(this.m()*P.m());const V=this.g.length+P.g.length,F=[];for(var A=0;A<2*V;A++)F[A]=0;for(A=0;A<this.g.length;A++)for(let D=0;D<P.g.length;D++){const z=this.i(A)>>>16,U=this.i(A)&65535,de=P.i(D)>>>16,ae=P.i(D)&65535;F[2*A+2*D]+=U*ae,R(F,2*A+2*D),F[2*A+2*D+1]+=z*ae,R(F,2*A+2*D+1),F[2*A+2*D+1]+=U*de,R(F,2*A+2*D+1),F[2*A+2*D+2]+=z*de,R(F,2*A+2*D+2)}for(P=0;P<V;P++)F[P]=F[2*P+1]<<16|F[2*P];for(P=V;P<2*V;P++)F[P]=0;return new c(F,0)};function R(P,V){for(;(P[V]&65535)!=P[V];)P[V+1]+=P[V]>>>16,P[V]&=65535,V++}function M(P,V){this.g=P,this.h=V}function T(P,V){if(_(V))throw Error("division by zero");if(_(P))return new M(g,g);if(j(P))return V=T(E(P),V),new M(E(V.g),E(V.h));if(j(V))return V=T(P,E(V)),new M(E(V.g),V.h);if(P.g.length>30){if(j(P)||j(V))throw Error("slowDivide_ only works with positive integers.");for(var F=v,A=V;A.l(P)<=0;)F=C(F),A=C(A);var D=L(F,1),z=L(A,1);for(A=L(A,2),F=L(F,2);!_(A);){var U=z.add(A);U.l(P)<=0&&(D=D.add(F),z=U),A=L(A,1),F=L(F,1)}return V=I(P,D.j(V)),new M(D,V)}for(D=g;P.l(V)>=0;){for(F=Math.max(1,Math.floor(P.m()/V.m())),A=Math.ceil(Math.log(F)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),z=f(F),U=z.j(V);j(U)||U.l(P)>0;)F-=A,z=f(F),U=z.j(V);_(z)&&(z=v),D=D.add(z),P=I(P,U)}return new M(D,P)}t.B=function(P){return T(this,P).h},t.and=function(P){const V=Math.max(this.g.length,P.g.length),F=[];for(let A=0;A<V;A++)F[A]=this.i(A)&P.i(A);return new c(F,this.h&P.h)},t.or=function(P){const V=Math.max(this.g.length,P.g.length),F=[];for(let A=0;A<V;A++)F[A]=this.i(A)|P.i(A);return new c(F,this.h|P.h)},t.xor=function(P){const V=Math.max(this.g.length,P.g.length),F=[];for(let A=0;A<V;A++)F[A]=this.i(A)^P.i(A);return new c(F,this.h^P.h)};function C(P){const V=P.g.length+1,F=[];for(let A=0;A<V;A++)F[A]=P.i(A)<<1|P.i(A-1)>>>31;return new c(F,P.h)}function L(P,V){const F=V>>5;V%=32;const A=P.g.length-F,D=[];for(let z=0;z<A;z++)D[z]=V>0?P.i(z+F)>>>V|P.i(z+F+1)<<32-V:P.i(z+F);return new c(D,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aL=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=p,ql=c}).apply(typeof gD<"u"?gD:typeof self<"u"?self:typeof window<"u"?window:{});var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iL,Ch,sL,og,wN,lL,oL,cL;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bp=="object"&&Bp];for(var S=0;S<y.length;++S){var k=y[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function a(y,S){if(S)e:{var k=r;y=y.split(".");for(var q=0;q<y.length-1;q++){var se=y[q];if(!(se in k))break e;k=k[se]}y=y[y.length-1],q=k[y],S=S(q),S!=q&&S!=null&&e(k,y,{configurable:!0,writable:!0,value:S})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(S){var k=[],q;for(q in S)Object.prototype.hasOwnProperty.call(S,q)&&k.push([q,S[q]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function h(y,S,k){return y.call.apply(y.bind,arguments)}function f(y,S,k){return f=h,f.apply(null,arguments)}function p(y,S){var k=Array.prototype.slice.call(arguments,1);return function(){var q=k.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function g(y,S){function k(){}k.prototype=S.prototype,y.Z=S.prototype,y.prototype=new k,y.prototype.constructor=y,y.Ob=function(q,se,fe){for(var Ie=Array(arguments.length-2),it=2;it<arguments.length;it++)Ie[it-2]=arguments[it];return S.prototype[se].apply(q,Ie)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function N(y){const S=y.length;if(S>0){const k=Array(S);for(let q=0;q<S;q++)k[q]=y[q];return k}return[]}function _(y,S){for(let q=1;q<arguments.length;q++){const se=arguments[q];var k=typeof se;if(k=k!="object"?k:se?Array.isArray(se)?"array":k:"null",k=="array"||k=="object"&&typeof se.length=="number"){k=y.length||0;const fe=se.length||0;y.length=k+fe;for(let Ie=0;Ie<fe;Ie++)y[k+Ie]=se[Ie]}else y.push(se)}}class j{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function E(y){c.setTimeout(()=>{throw y},0)}function I(){var y=P;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class R{constructor(){this.h=this.g=null}add(S,k){const q=M.get();q.set(S,k),this.h?this.h.next=q:this.g=q,this.h=q}}var M=new j(()=>new T,y=>y.reset());class T{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let C,L=!1,P=new R,V=()=>{const y=Promise.resolve(void 0);C=()=>{y.then(F)}};function F(){for(var y;y=I();){try{y.h.call(y.g)}catch(k){E(k)}var S=M;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}L=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const k=()=>{};c.addEventListener("test",k,S),c.removeEventListener("test",k,S)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function de(y,S){D.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}g(de,D),de.prototype.init=function(y,S){const k=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(k=="mouseover"?S=y.fromElement:k=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),G=0;function Y(y,S,k,q,se){this.listener=y,this.proxy=null,this.src=S,this.type=k,this.capture=!!q,this.ha=se,this.key=++G,this.da=this.fa=!1}function H(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ge(y,S,k){for(const q in y)S.call(k,y[q],q,y)}function W(y,S){for(const k in y)S.call(void 0,y[k],k,y)}function B(y){const S={};for(const k in y)S[k]=y[k];return S}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xe(y,S){let k,q;for(let se=1;se<arguments.length;se++){q=arguments[se];for(k in q)y[k]=q[k];for(let fe=0;fe<J.length;fe++)k=J[fe],Object.prototype.hasOwnProperty.call(q,k)&&(y[k]=q[k])}}function te(y){this.src=y,this.g={},this.h=0}te.prototype.add=function(y,S,k,q,se){const fe=y.toString();y=this.g[fe],y||(y=this.g[fe]=[],this.h++);const Ie=Ee(y,S,q,se);return Ie>-1?(S=y[Ie],k||(S.fa=!1)):(S=new Y(S,this.src,fe,!!q,se),S.fa=k,y.push(S)),S};function X(y,S){const k=S.type;if(k in y.g){var q=y.g[k],se=Array.prototype.indexOf.call(q,S,void 0),fe;(fe=se>=0)&&Array.prototype.splice.call(q,se,1),fe&&(H(S),y.g[k].length==0&&(delete y.g[k],y.h--))}}function Ee(y,S,k,q){for(let se=0;se<y.length;++se){const fe=y[se];if(!fe.da&&fe.listener==S&&fe.capture==!!k&&fe.ha==q)return se}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),re={};function ie(y,S,k,q,se){if(Array.isArray(S)){for(let fe=0;fe<S.length;fe++)ie(y,S[fe],k,q,se);return null}return k=ve(k),y&&y[ae]?y.J(S,k,d(q)?!!q.capture:!1,se):ke(y,S,k,!1,q,se)}function ke(y,S,k,q,se,fe){if(!S)throw Error("Invalid event type");const Ie=d(se)?!!se.capture:!!se;let it=Se(y);if(it||(y[Te]=it=new te(y)),k=it.add(S,k,q,Ie,fe),k.proxy)return k;if(q=Z(),k.proxy=q,q.src=y,q.listener=k,y.addEventListener)z||(se=Ie),se===void 0&&(se=!1),y.addEventListener(S.toString(),q,se);else if(y.attachEvent)y.attachEvent(qe(S.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Z(){function y(k){return S.call(y.src,y.listener,k)}const S=vt;return y}function he(y,S,k,q,se){if(Array.isArray(S))for(var fe=0;fe<S.length;fe++)he(y,S[fe],k,q,se);else q=d(q)?!!q.capture:!!q,k=ve(k),y&&y[ae]?(y=y.i,fe=String(S).toString(),fe in y.g&&(S=y.g[fe],k=Ee(S,k,q,se),k>-1&&(H(S[k]),Array.prototype.splice.call(S,k,1),S.length==0&&(delete y.g[fe],y.h--)))):y&&(y=Se(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Ee(S,k,q,se)),(k=y>-1?S[y]:null)&&Ue(k))}function Ue(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[ae])X(S.i,y);else{var k=y.type,q=y.proxy;S.removeEventListener?S.removeEventListener(k,q,y.capture):S.detachEvent?S.detachEvent(qe(k),q):S.addListener&&S.removeListener&&S.removeListener(q),(k=Se(S))?(X(k,y),k.h==0&&(k.src=null,S[Te]=null)):H(y)}}}function qe(y){return y in re?re[y]:re[y]="on"+y}function vt(y,S){if(y.da)y=!0;else{S=new de(S,this);const k=y.listener,q=y.ha||y.src;y.fa&&Ue(y),y=k.call(q,S)}return y}function Se(y){return y=y[Te],y instanceof te?y:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ve(y){return typeof y=="function"?y:(y[yt]||(y[yt]=function(S){return y.handleEvent(S)}),y[yt])}function et(){A.call(this),this.i=new te(this),this.M=this,this.G=null}g(et,A),et.prototype[ae]=!0,et.prototype.removeEventListener=function(y,S,k,q){he(this,y,S,k,q)};function Je(y,S){var k,q=y.G;if(q)for(k=[];q;q=q.G)k.push(q);if(y=y.M,q=S.type||S,typeof S=="string")S=new D(S,y);else if(S instanceof D)S.target=S.target||y;else{var se=S;S=new D(q,y),xe(S,se)}se=!0;let fe,Ie;if(k)for(Ie=k.length-1;Ie>=0;Ie--)fe=S.g=k[Ie],se=kt(fe,q,!0,S)&&se;if(fe=S.g=y,se=kt(fe,q,!0,S)&&se,se=kt(fe,q,!1,S)&&se,k)for(Ie=0;Ie<k.length;Ie++)fe=S.g=k[Ie],se=kt(fe,q,!1,S)&&se}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const k=y.g[S];for(let q=0;q<k.length;q++)H(k[q]);delete y.g[S],y.h--}}this.G=null},et.prototype.J=function(y,S,k,q){return this.i.add(String(y),S,!1,k,q)},et.prototype.K=function(y,S,k,q){return this.i.add(String(y),S,!0,k,q)};function kt(y,S,k,q){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let se=!0;for(let fe=0;fe<S.length;++fe){const Ie=S[fe];if(Ie&&!Ie.da&&Ie.capture==k){const it=Ie.listener,xn=Ie.ha||Ie.src;Ie.fa&&X(y.i,Ie),se=it.call(xn,q)!==!1&&se}}return se&&!q.defaultPrevented}function pi(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:c.setTimeout(y,S||0)}function ne(y){y.g=pi(()=>{y.g=null,y.i&&(y.i=!1,ne(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class Pe extends A{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:ne(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(y){A.call(this),this.h=y,this.g={}}g(Xe,A);var Fe=[];function Ht(y){ge(y.g,function(S,k){this.g.hasOwnProperty(k)&&Ue(S)},y),y.g={}}Xe.prototype.N=function(){Xe.Z.N.call(this),Ht(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=c.JSON.stringify,gi=c.JSON.parse,Va=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Jf(){}function Zf(){}var za={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function lr(){D.call(this,"d")}g(lr,D);function ma(){D.call(this,"c")}g(ma,D);var yn={},em=null;function Sc(){return em=em||new et}yn.Ia="serverreachability";function tm(y){D.call(this,yn.Ia,y)}g(tm,D);function yi(y){const S=Sc();Je(S,new tm(S))}yn.STAT_EVENT="statevent";function mo(y,S){D.call(this,yn.STAT_EVENT,y),this.stat=S}g(mo,D);function Sn(y){const S=Sc();Je(S,new mo(S,y))}yn.Ja="timingevent";function xi(y,S){D.call(this,yn.Ja,y),this.size=S}g(xi,D);function vi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},S)}function Fa(){this.g=!0}Fa.prototype.ua=function(){this.g=!1};function ax(y,S,k,q,se,fe){y.info(function(){if(y.g)if(fe){var Ie="",it=fe.split("&");for(let Et=0;Et<it.length;Et++){var xn=it[Et].split("=");if(xn.length>1){const en=xn[0];xn=xn[1];const xa=en.split("_");Ie=xa.length>=2&&xa[1]=="type"?Ie+(en+"="+xn+"&"):Ie+(en+"=redacted&")}}}else Ie=null;else Ie=fe;return"XMLHTTP REQ ("+q+") [attempt "+se+"]: "+S+`
`+k+`
`+Ie})}function nm(y,S,k,q,se,fe,Ie){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+se+"]: "+S+`
`+k+`
`+fe+" "+Ie})}function bi(y,S,k,q){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+ix(y,k)+(q?" "+q:"")})}function po(y,S){y.info(function(){return"TIMEOUT: "+S})}Fa.prototype.info=function(){};function ix(y,S){if(!y.g)return S;if(!S)return null;try{const fe=JSON.parse(S);if(fe){for(y=0;y<fe.length;y++)if(Array.isArray(fe[y])){var k=fe[y];if(!(k.length<2)){var q=k[1];if(Array.isArray(q)&&!(q.length<1)){var se=q[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Ie=1;Ie<q.length;Ie++)q[Ie]=""}}}}return $t(fe)}catch{return S}}var go={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xd;function yo(){}g(yo,Jf),yo.prototype.g=function(){return new XMLHttpRequest},xd=new yo;function is(y){return encodeURIComponent(String(y))}function rm(y){var S=1;y=y.split(":");const k=[];for(;S>0&&y.length;)k.push(y.shift()),S--;return y.length&&k.push(y.join(":")),k}function $a(y,S,k,q){this.j=y,this.i=S,this.l=k,this.S=q||1,this.V=new Xe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ba}function Ba(){this.i=null,this.g="",this.h=!1}var An={},Qn={};function wi(y,S,k){y.M=1,y.A=xo(Cn(S)),y.u=k,y.R=!0,Ac(y,null)}function Ac(y,S){y.F=Date.now(),Ni(y),y.B=Cn(y.A);var k=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Oc(k.i,"t",q),y.C=0,k=y.j.L,y.h=new Ba,y.g=xm(y.j,k?S:null,!y.u),y.P>0&&(y.O=new Pe(f(y.Y,y,y.g),y.P)),S=y.V,k=y.g,q=y.ba;var se="readystatechange";Array.isArray(se)||(se&&(Fe[0]=se.toString()),se=Fe);for(let fe=0;fe<se.length;fe++){const Ie=ie(k,se[fe],q||S.handleEvent,!1,S.h||S);if(!Ie)break;S.g[Ie.key]=Ie}S=y.J?B(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),yi(),ax(y.i,y.v,y.B,y.l,y.S,y.u)}$a.prototype.ba=function(y){y=y.target;const S=this.O;S&&Ga(y)==3?S.j():this.Y(y)},$a.prototype.Y=function(y){try{if(y==this.g)e:{const it=Ga(this.g),xn=this.g.ya(),Et=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||or(this.g)))){this.K||it!=4||xn==7||(xn==8||Et<=0?yi(3):yi(2)),_i(this);var S=this.g.ca();this.X=S;var k=sx(this);if(this.o=S==200,nm(this.i,this.v,this.B,this.l,this.S,it,S),this.o){if(this.U&&!this.L){t:{if(this.g){var q,se=this.g;if((q=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(q)){var fe=q;break t}}fe=null}if(y=fe)bi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ji(this,y);else{this.o=!1,this.m=3,Sn(12),Qr(this),pa(this);break e}}if(this.R){y=!0;let en;for(;!this.K&&this.C<k.length;)if(en=im(this,k),en==Qn){it==4&&(this.m=4,Sn(14),y=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==An){this.m=4,Sn(15),bi(this.i,this.l,k,"[Invalid Chunk]"),y=!1;break}else bi(this.i,this.l,en,null),ji(this,en);if(am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||k.length!=0||this.h.h||(this.m=1,Sn(16),y=!1),this.o=this.o&&y,!y)bi(this.i,this.l,k,"[Invalid Chunked Response]"),Qr(this),pa(this);else if(k.length>0&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.aa&&!Ie.P&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Rd(Ie),Ie.P=!0,Sn(11))}}else bi(this.i,this.l,k,null),ji(this,k);it==4&&Qr(this),this.o&&!this.K&&(it==4?mm(this.j,this):(this.o=!1,Ni(this)))}else ls(this.g),S==400&&k.indexOf("Unknown SID")>0?(this.m=3,Sn(12)):(this.m=0,Sn(13)),Qr(this),pa(this)}}}catch{}finally{}};function sx(y){if(!am(y))return y.g.la();const S=or(y.g);if(S==="")return"";let k="";const q=S.length,se=Ga(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Qr(y),pa(y),"";y.h.i=new c.TextDecoder}for(let fe=0;fe<q;fe++)y.h.h=!0,k+=y.h.i.decode(S[fe],{stream:!(se&&fe==q-1)});return S.length=0,y.h.g+=k,y.C=0,y.h.g}function am(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function im(y,S){var k=y.C,q=S.indexOf(`
`,k);return q==-1?Qn:(k=Number(S.substring(k,q)),isNaN(k)?An:(q+=1,q+k>S.length?Qn:(S=S.slice(q,q+k),y.C=q+k,S)))}$a.prototype.cancel=function(){this.K=!0,Qr(this)};function Ni(y){y.T=Date.now()+y.H,Tc(y,y.H)}function Tc(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=vi(f(y.aa,y),S)}function _i(y){y.D&&(c.clearTimeout(y.D),y.D=null)}$a.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(po(this.i,this.B),this.M!=2&&(yi(),Sn(17)),Qr(this),this.m=2,pa(this)):Tc(this,this.T-y)};function pa(y){y.j.I==0||y.K||mm(y.j,y)}function Qr(y){_i(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,Ht(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function ji(y,S){try{var k=y.j;if(k.I!=0&&(k.g==y||Si(k.h,y))){if(!y.L&&Si(k.h,y)&&k.I==3){try{var q=k.Ba.g.parse(S)}catch{q=null}if(Array.isArray(q)&&q.length==3){var se=q;if(se[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<y.F)Mc(k),ol(k);else break e;Eo(k),Sn(18)}}else k.xa=se[1],0<k.xa-k.K&&se[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=vi(f(k.Va,k),6e3));Ei(k.h)<=1&&k.ta&&(k.ta=void 0)}else Di(k,11)}else if((y.L||k.g==y)&&Mc(k),!U(S))for(se=k.Ba.g.parse(S),S=0;S<se.length;S++){let Et=se[S];const en=Et[0];if(!(en<=k.K))if(k.K=en,Et=Et[1],k.I==2)if(Et[0]=="c"){k.M=Et[1],k.ba=Et[2];const xa=Et[3];xa!=null&&(k.ka=xa,k.j.info("VER="+k.ka));const Ri=Et[4];Ri!=null&&(k.za=Ri,k.j.info("SVER="+k.za));const Ka=Et[5];Ka!=null&&typeof Ka=="number"&&Ka>0&&(q=1.5*Ka,k.O=q,k.j.info("backChannelRequestTimeoutMs_="+q)),q=k;const Ya=y.g;if(Ya){const So=Ya.g?Ya.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var fe=q.h;fe.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(wd(fe,fe.h),fe.h=null))}if(q.G){const Lc=Ya.g?Ya.g.getResponseHeader("X-HTTP-Session-Id"):null;Lc&&(q.wa=Lc,It(q.J,q.G,Lc))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-y.F,k.j.info("Handshake RTT: "+k.T+"ms")),q=k;var Ie=y;if(q.na=ym(q,q.L?q.ba:null,q.W),Ie.L){Nd(q.h,Ie);var it=Ie,xn=q.O;xn&&(it.H=xn),it.D&&(_i(it),Ni(it)),q.g=Ie}else hm(q);k.i.length>0&&Oi(k)}else Et[0]!="stop"&&Et[0]!="close"||Di(k,7);else k.I==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Di(k,7):Od(k):Et[0]!="noop"&&k.l&&k.l.qa(Et),k.A=0)}}yi(4)}catch{}}var Tn=class{constructor(y,S){this.g=y,this.map=S}};function vd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ei(y){return y.h?1:y.g?y.g.size:0}function Si(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function wd(y,S){y.g?y.g.add(S):y.h=S}function Nd(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}vd.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function _d(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const k of y.g.values())S=S.concat(k.G);return S}return N(y.i)}var sm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cc(y,S){if(y){y=y.split("&");for(let k=0;k<y.length;k++){const q=y[k].indexOf("=");let se,fe=null;q>=0?(se=y[k].substring(0,q),fe=y[k].substring(q+1)):se=y[k],S(se,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Jr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof Jr?(this.l=y.l,Jn(this,y.j),this.o=y.o,this.g=y.g,tl(this,y.u),this.h=y.h,jd(this,um(y.i)),this.m=y.m):y&&(S=String(y).match(sm))?(this.l=!1,Jn(this,S[1]||"",!0),this.o=Ai(S[2]||""),this.g=Ai(S[3]||"",!0),tl(this,S[4]),this.h=Ai(S[5]||"",!0),jd(this,S[6]||"",!0),this.m=Ai(S[7]||"")):(this.l=!1,this.i=new rl(null,this.l))}Jr.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(vo(S,Ic,!0),":");var k=this.g;return(k||S=="file")&&(y.push("//"),(S=this.o)&&y.push(vo(S,Ic,!0),"@"),y.push(is(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&y.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&y.push("/"),y.push(vo(k,k.charAt(0)=="/"?Ed:lm,!0))),(k=this.i.toString())&&y.push("?",k),(k=this.m)&&y.push("#",vo(k,om)),y.join("")},Jr.prototype.resolve=function(y){const S=Cn(this);let k=!!y.j;k?Jn(S,y.j):k=!!y.o,k?S.o=y.o:k=!!y.g,k?S.g=y.g:k=y.u!=null;var q=y.h;if(k)tl(S,y.u);else if(k=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var se=S.h.lastIndexOf("/");se!=-1&&(q=S.h.slice(0,se+1)+q)}if(se=q,se==".."||se==".")q="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){q=se.lastIndexOf("/",0)==0,se=se.split("/");const fe=[];for(let Ie=0;Ie<se.length;){const it=se[Ie++];it=="."?q&&Ie==se.length&&fe.push(""):it==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),q&&Ie==se.length&&fe.push("")):(fe.push(it),q=!0)}q=fe.join("/")}else q=se}return k?S.h=q:k=y.i.toString()!=="",k?jd(S,um(y.i)):k=!!y.m,k&&(S.m=y.m),S};function Cn(y){return new Jr(y)}function Jn(y,S,k){y.j=k?Ai(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function tl(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function jd(y,S,k){S instanceof rl?(y.i=S,Dc(y.i,y.l)):(k||(S=vo(S,nl)),y.i=new rl(S,y.l))}function It(y,S,k){y.i.set(S,k)}function xo(y){return It(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ai(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function vo(y,S,k){return typeof y=="string"?(y=encodeURI(y).replace(S,Pr),k&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Pr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ic=/[#\/\?@]/g,lm=/[#\?:]/g,Ed=/[#\?]/g,nl=/[#\?@]/g,om=/#/g;function rl(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function kr(y){y.g||(y.g=new Map,y.h=0,y.i&&Cc(y.i,function(S,k){y.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=rl.prototype,t.add=function(y,S){kr(this),this.i=null,y=al(this,y);let k=this.g.get(y);return k||this.g.set(y,k=[]),k.push(S),this.h+=1,this};function cm(y,S){kr(y),S=al(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function Sd(y,S){return kr(y),S=al(y,S),y.g.has(S)}t.forEach=function(y,S){kr(this),this.g.forEach(function(k,q){k.forEach(function(se){y.call(S,se,q,this)},this)},this)};function Ad(y,S){kr(y);let k=[];if(typeof S=="string")Sd(y,S)&&(k=k.concat(y.g.get(al(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)k=k.concat(y[S]);return k}t.set=function(y,S){return kr(this),this.i=null,y=al(this,y),Sd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=Ad(this,y),y.length>0?String(y[0]):S):S};function Oc(y,S,k){cm(y,S),k.length>0&&(y.i=null,y.g.set(al(y,S),N(k)),y.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let q=0;q<S.length;q++){var k=S[q];const se=is(k);k=Ad(this,k);for(let fe=0;fe<k.length;fe++){let Ie=se;k[fe]!==""&&(Ie+="="+is(k[fe])),y.push(Ie)}}return this.i=y.join("&")};function um(y){const S=new rl;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function al(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Dc(y,S){S&&!y.j&&(kr(y),y.i=null,y.g.forEach(function(k,q){const se=q.toLowerCase();q!=se&&(cm(this,q),Oc(this,se,k))},y)),y.j=S}function qa(y,S){const k=new Fa;if(c.Image){const q=new Image;q.onload=p(ga,k,"TestLoadImage: loaded",!0,S,q),q.onerror=p(ga,k,"TestLoadImage: error",!1,S,q),q.onabort=p(ga,k,"TestLoadImage: abort",!1,S,q),q.ontimeout=p(ga,k,"TestLoadImage: timeout",!1,S,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else S(!1)}function Td(y,S){const k=new Fa,q=new AbortController,se=setTimeout(()=>{q.abort(),ga(k,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:q.signal}).then(fe=>{clearTimeout(se),fe.ok?ga(k,"TestPingServer: ok",!0,S):ga(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(se),ga(k,"TestPingServer: error",!1,S)})}function ga(y,S,k,q,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),q(k)}catch{}}function il(){this.g=new Va}function Ti(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Ti,Jf),Ti.prototype.g=function(){return new bo(this.i,this.h)};function bo(y,S){et.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bo,et),t=bo.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,Ha(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||c).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?sl(this):Ha(this),this.readyState==3&&Rc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,sl(this))},t.Na=function(y){this.g&&(this.response=y,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ha(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,y.push(k[0]+": "+k[1]),k=S.next();return y.join(`\r
`)};function Ha(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ya(y){let S="";return ge(y,function(k,q){S+=q,S+=":",S+=k,S+=`\r
`}),S}function wo(y,S,k){e:{for(q in k){var q=!1;break e}q=!0}q||(k=ya(k),typeof y=="string"?k!=null&&is(k):It(y,S,k))}function Mt(y){et.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Mt,et);var Ci=/^https?$/i,Cd=["POST","PUT"];t=Mt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,k,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xd.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(fe){No(this,fe);return}if(y=k||"",k=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var se in q)k.set(se,q[se]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const fe of q.keys())k.set(fe,q.get(fe));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(k.keys()).find(fe=>fe.toLowerCase()=="content-type"),se=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Cd,S,void 0)>=0)||q||se||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ie]of k)this.g.setRequestHeader(fe,Ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(fe){No(this,fe)}};function No(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,Id(y),ss(y)}function Id(y){y.A||(y.A=!0,Je(y,"complete"),Je(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Je(this,"complete"),Je(this,"abort"),ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),Mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_o(this):this.Xa())},t.Xa=function(){_o(this)};function _o(y){if(y.h&&typeof l<"u"){if(y.v&&Ga(y)==4)setTimeout(y.Ca.bind(y),0);else if(Je(y,"readystatechange"),Ga(y)==4){y.h=!1;try{const fe=y.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var q;if(q=fe===0){let Ie=String(y.D).match(sm)[1]||null;!Ie&&c.self&&c.self.location&&(Ie=c.self.location.protocol.slice(0,-1)),q=!Ci.test(Ie?Ie.toLowerCase():"")}k=q}if(k)Je(y,"complete"),Je(y,"success");else{y.o=6;try{var se=Ga(y)>2?y.g.statusText:""}catch{se=""}y.l=se+" ["+y.ca()+"]",Id(y)}}finally{ss(y)}}}}function ss(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const k=y.g;y.g=null,S||Je(y,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ga(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ga(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),gi(S)}};function or(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(y){const S={};y=(y.g&&Ga(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if(U(y[q]))continue;var k=rm(y[q]);const se=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const fe=S[se]||[];S[se]=fe,fe.push(k)}W(S,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(y,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[y]||S}function ll(y){this.za=0,this.i=[],this.j=new Fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,y),this.Za=Ii("retryDelaySeedMs",1e4,y),this.Ta=Ii("forwardChannelMaxRetries",2,y),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new vd(y&&y.concurrentRequestLimit),this.Ba=new il,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ll.prototype,t.ka=8,t.I=1,t.connect=function(y,S,k,q){Sn(0),this.W=y,this.H=S||{},k&&q!==void 0&&(this.H.OSID=k,this.H.OAID=q),this.F=this.X,this.J=ym(this,null,this.W),Oi(this)};function Od(y){if(Pc(y),y.I==3){var S=y.V++,k=Cn(y.J);if(It(k,"SID",y.M),It(k,"RID",S),It(k,"TYPE","terminate"),jo(y,k),S=new $a(y,y.j,S),S.M=2,S.A=xo(Cn(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(S.A.toString(),"")}catch{}!k&&c.Image&&(new Image().src=S.A,k=!0),k||(S.g=xm(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Ni(S)}gm(y)}function ol(y){y.g&&(Rd(y),y.g.cancel(),y.g=null)}function Pc(y){ol(y),y.v&&(c.clearTimeout(y.v),y.v=null),Mc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Oi(y){if(!bd(y.h)&&!y.m){y.m=!0;var S=y.Ea;C||V(),L||(C(),L=!0),P.add(S,y),y.D=0}}function kc(y,S){return Ei(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=vi(f(y.Ea,y,S),pm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const se=new $a(this,this.j,y);let fe=this.o;if(this.U&&(fe?(fe=B(fe),xe(fe,this.U)):fe=this.U),this.u!==null||this.R||(se.J=fe,fe=null),this.S)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var q=this.i[k];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(S+=q,S>4096){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=dm(this,se,S),k=Cn(this.J),It(k,"RID",y),It(k,"CVER",22),this.G&&It(k,"X-HTTP-Session-Id",this.G),jo(this,k),fe&&(this.R?S="headers="+is(ya(fe))+"&"+S:this.u&&wo(k,this.u,fe)),wd(this.h,se),this.Ra&&It(k,"TYPE","init"),this.S?(It(k,"$req",S),It(k,"SID","null"),se.U=!0,wi(se,k,null)):wi(se,k,S),this.I=2}}else this.I==3&&(y?Dd(this,y):this.i.length==0||bd(this.h)||Dd(this))};function Dd(y,S){var k;S?k=S.l:k=y.V++;const q=Cn(y.J);It(q,"SID",y.M),It(q,"RID",k),It(q,"AID",y.K),jo(y,q),y.u&&y.o&&wo(q,y.u,y.o),k=new $a(y,y.j,k,y.D+1),y.u===null&&(k.J=y.o),S&&(y.i=S.G.concat(y.i)),S=dm(y,k,1e3),k.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),wd(y.h,k),wi(k,q,S)}function jo(y,S){y.H&&ge(y.H,function(k,q){It(S,q,k)}),y.l&&ge({},function(k,q){It(S,q,k)})}function dm(y,S,k){k=Math.min(y.i.length,k);const q=y.l?f(y.l.Ka,y.l,y):null;e:{var se=y.i;let it=-1;for(;;){const xn=["count="+k];it==-1?k>0?(it=se[0].g,xn.push("ofs="+it)):it=0:xn.push("ofs="+it);let Et=!0;for(let en=0;en<k;en++){var fe=se[en].g;const xa=se[en].map;if(fe-=it,fe<0)it=Math.max(0,se[en].g-100),Et=!1;else try{fe="req"+fe+"_"||"";try{var Ie=xa instanceof Map?xa:Object.entries(xa);for(const[Ri,Ka]of Ie){let Ya=Ka;d(Ka)&&(Ya=$t(Ka)),xn.push(fe+Ri+"="+encodeURIComponent(Ya))}}catch(Ri){throw xn.push(fe+"type="+encodeURIComponent("_badmap")),Ri}}catch{q&&q(xa)}}if(Et){Ie=xn.join("&");break e}}Ie=void 0}return y=y.i.splice(0,k),S.G=y,Ie}function hm(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;C||V(),L||(C(),L=!0),P.add(S,y),y.A=0}}function Eo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=vi(f(y.Da,y),pm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=vi(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Sn(10),ol(this),fm(this))};function Rd(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function fm(y){y.g=new $a(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=Cn(y.na);It(S,"RID","rpc"),It(S,"SID",y.M),It(S,"AID",y.K),It(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&It(S,"TO",y.ia),It(S,"TYPE","xmlhttp"),jo(y,S),y.u&&y.o&&wo(S,y.u,y.o),y.O&&(y.g.H=y.O);var k=y.g;y=y.ba,k.M=1,k.A=xo(Cn(S)),k.u=null,k.R=!0,Ac(k,y)}t.Va=function(){this.C!=null&&(this.C=null,ol(this),Eo(this),Sn(19))};function Mc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function mm(y,S){var k=null;if(y.g==S){Mc(y),Rd(y),y.g=null;var q=2}else if(Si(y.h,S))k=S.G,Nd(y.h,S),q=1;else return;if(y.I!=0){if(S.o)if(q==1){k=S.u?S.u.length:0,S=Date.now()-S.F;var se=y.D;q=Sc(),Je(q,new xi(q,k)),Oi(y)}else hm(y);else if(se=S.m,se==3||se==0&&S.X>0||!(q==1&&kc(y,S)||q==2&&Eo(y)))switch(k&&k.length>0&&(S=y.h,S.i=S.i.concat(k)),se){case 1:Di(y,5);break;case 4:Di(y,10);break;case 3:Di(y,6);break;default:Di(y,2)}}}function pm(y,S){let k=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(k*=2),k*S}function Di(y,S){if(y.j.info("Error code "+S),S==2){var k=f(y.bb,y),q=y.Ua;const se=!q;q=new Jr(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jn(q,"https"),xo(q),se?qa(q.toString(),k):Td(q.toString(),k)}else Sn(2);y.I=0,y.l&&y.l.pa(S),gm(y),Pc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function gm(y){if(y.I=0,y.ja=[],y.l){const S=_d(y.h);(S.length!=0||y.i.length!=0)&&(_(y.ja,S),_(y.ja,y.i),y.h.i.length=0,N(y.i),y.i.length=0),y.l.oa()}}function ym(y,S,k){var q=k instanceof Jr?Cn(k):new Jr(k);if(q.g!="")S&&(q.g=S+"."+q.g),tl(q,q.u);else{var se=c.location;q=se.protocol,S=S?S+"."+se.hostname:se.hostname,se=+se.port;const fe=new Jr(null);q&&Jn(fe,q),S&&(fe.g=S),se&&tl(fe,se),k&&(fe.h=k),q=fe}return k=y.G,S=y.wa,k&&S&&It(q,k,S),It(q,"VER",y.ka),jo(y,q),q}function xm(y,S,k){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new Mt(new Ti({ab:k})):new Mt(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vm(){}t=vm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cl(){}cl.prototype.g=function(y,S){return new Ar(y,S)};function Ar(y,S){et.call(this),this.g=new ll(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!U(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!U(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new os(this)}g(Ar,et),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){Od(this.g)},Ar.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var k={};k.__data__=y,y=k}else this.v&&(k={},k.__data__=$t(y),y=k);S.i.push(new Tn(S.Ya++,y)),S.I==3&&Oi(S)},Ar.prototype.N=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,Ar.Z.N.call(this)};function bm(y){lr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const k in S){y=k;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}g(bm,lr);function wm(){ma.call(this),this.status=1}g(wm,ma);function os(y){this.g=y}g(os,vm),os.prototype.ra=function(){Je(this.g,"a")},os.prototype.qa=function(y){Je(this.g,new bm(y))},os.prototype.pa=function(y){Je(this.g,new wm)},os.prototype.oa=function(){Je(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,cL=function(){return new cl},oL=function(){return Sc()},lL=yn,wN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,og=go,yd.COMPLETE="complete",sL=yd,Zf.EventType=za,za.OPEN="a",za.CLOSE="b",za.ERROR="c",za.MESSAGE="d",et.prototype.listen=et.prototype.J,Ch=Zf,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,iL=Mt}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});const yD="@firebase/firestore",xD="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new O0("@firebase/firestore");function vu(){return fc.logLevel}function Re(t,...e){if(fc.logLevel<=ft.DEBUG){const n=e.map(aE);fc.debug(`Firestore (${ud}): ${t}`,...n)}}function Hs(t,...e){if(fc.logLevel<=ft.ERROR){const n=e.map(aE);fc.error(`Firestore (${ud}): ${t}`,...n)}}function Hu(t,...e){if(fc.logLevel<=ft.WARN){const n=e.map(aE);fc.warn(`Firestore (${ud}): ${t}`,...n)}}function aE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uL(t,r,n)}function uL(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Hs(r),new Error(r)}function Tt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||uL(e,a,r)}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yoe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wr.UNAUTHENTICATED)))}shutdown(){}}class Woe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Xoe{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new Hl;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hl,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},d=h=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hl)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new dL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new wr(e)}}class Qoe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Joe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Qoe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zoe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const r=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vD(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ece(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ece(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function mt(t,e){return t<e?-1:t>e?1:0}function NN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Jw(a)===Jw(l)?mt(a,l):Jw(a)?1:-1}return mt(t.length,e.length)}const tce=55296,nce=57343;function Jw(t){const e=t.charCodeAt(0);return e>=tce&&e<=nce}function Gu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="__name__";class Ui{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Ui.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return mt(e.length,n.length)}static compareSegments(e,n){const r=Ui.isNumericId(e),a=Ui.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):NN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ql.fromString(e.substring(4,e.length-2))}}class Yt extends Ui{construct(e,n,r){return new Yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Yt(n)}static emptyPath(){return new Yt([])}}const rce=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends Ui{construct(e,n,r){return new pr(e,n,r)}static isValidIdentifier(e){return rce.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bD}static keyField(){return new pr([bD])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new De(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new De(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new De(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(n)}static emptyPath(){return new pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Yt.fromString(e))}static fromName(e){return new Ge(Yt.fromString(e).popFirst(5))}static empty(){return new Ge(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t,e,n){if(!n)throw new De(Ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ace(t,e,n,r){if(e===!0&&r===!0)throw new De(Ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wD(t){if(!Ge.isDocumentKey(t))throw new De(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ND(t){if(Ge.isDocumentKey(t))throw new De(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function k0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye(12329,{type:typeof t})}function Ql(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=k0(t);throw new De(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,e){const n={typeString:t};return e&&(n.value=e),n}function zf(t,e){if(!fL(t))throw new De(Ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new De(Ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=-62135596800,jD=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jD);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_D)throw new De(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jD}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zf(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_D;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Un("string",Zt._jsonSchemaVersion),seconds:Un("number"),nanoseconds:Un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new Zt(0,0))}static max(){return new tt(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;function ice(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=tt.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Jl(a,Ge.empty(),e)}function sce(t){return new Jl(t.readTime,t.key,af)}class Jl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jl(tt.min(),Ge.empty(),af)}static max(){return new Jl(tt.max(),Ge.empty(),af)}}function lce(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oce="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){if(t.code!==Ne.FAILED_PRECONDITION||t.message!==oce)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):je.reject(n)}static resolve(e){return new je(((n,r)=>{n(e)}))}static reject(e){return new je(((n,r)=>{r(e)}))}static waitFor(e){return new je(((n,r)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(h=>r(h)))})),c=!0,l===a&&n()}))}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next((a=>a?je.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new je(((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let h=0;h<l;h++){const f=h;n(e[f]).next((p=>{c[f]=p,++d,d===l&&r(c)}),(p=>a(p)))}}))}static doWhile(e,n){return new je(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function uce(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}M0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-1;function L0(t){return t==null}function py(t){return t===0&&1/t==-1/0}function dce(t){return typeof t=="number"&&Number.isInteger(t)&&!py(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="";function hce(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ED(e)),e=fce(t.get(n),e);return ED(e)}function fce(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case mL:n+="";break;default:n+=l}}return n}function ED(t){return t+mL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??mr.RED,this.left=a??mr.EMPTY,this.right=l??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new mr(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.comparator=e,this.data=new dn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AD(this.data.getIterator())}getIteratorFrom(e){return new AD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gn(this.comparator);return n.data=e,n}}class AD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new ca([])}unionWith(e){let n=new Gn(pr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ca(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gL("Invalid base64 string: "+l):l}})(e);return new yr(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new yr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const mce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zl(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=mce.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(t.seconds),nanos:Nn(t.nanos)}}function Nn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?yr.fromBase64String(t):yr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="server_timestamp",xL="__type__",vL="__previous_value__",bL="__local_write_time__";function lE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xL])==null?void 0:r.stringValue)===yL}function U0(t){const e=t.mapValue.fields[vL];return lE(e)?U0(e):e}function sf(t){const e=Zl(t.mapValue.fields[bL].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pce{constructor(e,n,r,a,l,c,d,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=p}}const gy="(default)";class lf{constructor(e,n){this.projectId=e,this.database=n||gy}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database===gy}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="__type__",gce="__max__",Hp={mapValue:{}},NL="__vector__",yy="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lE(t)?4:xce(t)?9007199254740991:yce(t)?10:11:Ye(28295,{value:t})}function Zi(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sf(t).isEqual(sf(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Zl(a.timestampValue),d=Zl(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return eo(a.bytesValue).isEqual(eo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Nn(a.geoPointValue.latitude)===Nn(l.geoPointValue.latitude)&&Nn(a.geoPointValue.longitude)===Nn(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Nn(a.integerValue)===Nn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Nn(a.doubleValue),d=Nn(l.doubleValue);return c===d?py(c)===py(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(SD(c)!==SD(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!Zi(c[h],d[h])))return!1;return!0})(t,e);default:return Ye(52216,{left:t})}}function of(t,e){return(t.values||[]).find((n=>Zi(n,e)))!==void 0}function Ku(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Nn(l.integerValue||l.doubleValue),h=Nn(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return TD(t.timestampValue,e.timestampValue);case 4:return TD(sf(t),sf(e));case 5:return NN(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=eo(l),h=eo(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const p=mt(d[f],h[f]);if(p!==0)return p}return mt(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=mt(Nn(l.latitude),Nn(c.latitude));return d!==0?d:mt(Nn(l.longitude),Nn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CD(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var v,N,_,j;const d=l.fields||{},h=c.fields||{},f=(v=d[yy])==null?void 0:v.arrayValue,p=(N=h[yy])==null?void 0:N.arrayValue,g=mt(((_=f==null?void 0:f.values)==null?void 0:_.length)||0,((j=p==null?void 0:p.values)==null?void 0:j.length)||0);return g!==0?g:CD(f,p)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Hp.mapValue&&c===Hp.mapValue)return 0;if(l===Hp.mapValue)return 1;if(c===Hp.mapValue)return-1;const d=l.fields||{},h=Object.keys(d),f=c.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let g=0;g<h.length&&g<p.length;++g){const v=NN(h[g],p[g]);if(v!==0)return v;const N=Ku(d[h[g]],f[p[g]]);if(N!==0)return N}return mt(h.length,p.length)})(t.mapValue,e.mapValue);default:throw Ye(23264,{he:n})}}function TD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=Zl(t),r=Zl(e),a=mt(n.seconds,r.seconds);return a!==0?a:mt(n.nanos,r.nanos)}function CD(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ku(n[a],r[a]);if(l)return l}return mt(n.length,r.length)}function Yu(t){return _N(t)}function _N(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zl(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return eo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=_N(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${_N(n.fields[c])}`;return a+"}"})(t.mapValue):Ye(61005,{value:t})}function cg(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=U0(t);return e?16+cg(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+cg(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return oo(r.fields,((l,c)=>{a+=l.length+cg(c)})),a})(t.mapValue);default:throw Ye(13486,{value:t})}}function ID(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jN(t){return!!t&&"integerValue"in t}function oE(t){return!!t&&"arrayValue"in t}function OD(t){return!!t&&"nullValue"in t}function DD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ug(t){return!!t&&"mapValue"in t}function yce(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wL])==null?void 0:r.stringValue)===NL}function kh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kh(t.arrayValue.values[n]);return e}return{...t}}function xce(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gce}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ug(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(n)}setAll(e){let n=pr.emptyPath(),r={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=kh(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());ug(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];ug(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){oo(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Br(kh(this.value))}}function _L(t){const e=[];return oo(t.fields,((n,r)=>{const a=new pr([n]);if(ug(r)){const l=_L(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ca(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,a,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _r(e,0,tt.min(),tt.min(),tt.min(),Br.empty(),0)}static newFoundDocument(e,n,r,a){return new _r(e,1,n,tt.min(),r,a,0)}static newNoDocument(e,n){return new _r(e,2,n,tt.min(),tt.min(),Br.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,tt.min(),tt.min(),Br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n){this.position=e,this.inclusive=n}}function RD(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=Ge.comparator(Ge.fromName(c.referenceValue),n.key):r=Ku(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function PD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n="asc"){this.field=e,this.dir=n}}function vce(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{}class Mn extends jL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wce(e,n,r):n==="array-contains"?new jce(e,r):n==="in"?new Ece(e,r):n==="not-in"?new Sce(e,r):n==="array-contains-any"?new Ace(e,r):new Mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nce(e,r):new _ce(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends jL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return EL(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function EL(t){return t.op==="and"}function SL(t){return bce(t)&&EL(t)}function bce(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function EN(t){if(t instanceof Mn)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(SL(t))return t.filters.map((e=>EN(e))).join(",");{const e=t.filters.map((n=>EN(n))).join(",");return`${t.op}(${e})`}}function AL(t,e){return t instanceof Mn?(function(r,a){return a instanceof Mn&&r.op===a.op&&r.field.isEqual(a.field)&&Zi(r.value,a.value)})(t,e):t instanceof ui?(function(r,a){return a instanceof ui&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,d)=>l&&AL(c,a.filters[d])),!0):!1})(t,e):void Ye(19439)}function TL(t){return t instanceof Mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`})(t):t instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(TL).join(" ,")+"}"})(t):"Filter"}class wce extends Mn{constructor(e,n,r){super(e,n,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nce extends Mn{constructor(e,n){super(e,"in",n),this.keys=CL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _ce extends Mn{constructor(e,n){super(e,"not-in",n),this.keys=CL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function CL(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ge.fromName(r.referenceValue)))}class jce extends Mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oE(n)&&of(n.arrayValue,this.value)}}class Ece extends Mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&of(this.value.arrayValue,n)}}class Sce extends Mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!of(this.value.arrayValue,n)}}class Ace extends Mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>of(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tce{constructor(e,n=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function kD(t,e=null,n=[],r=[],a=null,l=null,c=null){return new Tce(t,e,n,r,a,l,c)}function cE(t){const e=at(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>EN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),L0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yu(r))).join(",")),e.Te=n}return e.Te}function uE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vce(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PD(t.startAt,e.startAt)&&PD(t.endAt,e.endAt)}function SN(t){return Ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n=null,r=[],a=[],l=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Cce(t,e,n,r,a,l,c,d){return new fd(t,e,n,r,a,l,c,d)}function IL(t){return new fd(t)}function MD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OL(t){return t.collectionGroup!==null}function Mh(t){const e=at(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Gn(pr.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new cf(l,r))})),n.has(pr.keyField().canonicalString())||e.Ie.push(new cf(pr.keyField(),r))}return e.Ie}function Fi(t){const e=at(t);return e.Ee||(e.Ee=Ice(e,Mh(t))),e.Ee}function Ice(t,e){if(t.limitType==="F")return kD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new cf(a.field,l)}));const n=t.endAt?new xy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xy(t.startAt.position,t.startAt.inclusive):null;return kD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function AN(t,e){const n=t.filters.concat([e]);return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,n){return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function V0(t,e){return uE(Fi(t),Fi(e))&&t.limitType===e.limitType}function DL(t){return`${cE(Fi(t))}|lt:${t.limitType}`}function bu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>TL(a))).join(", ")}]`),L0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Yu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Yu(a))).join(",")),`Target(${r})`})(Fi(t))}; limitType=${t.limitType})`}function z0(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ge.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Mh(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,d,h){const f=RD(c,d,h);return c.inclusive?f<=0:f<0})(r.startAt,Mh(r),a)||r.endAt&&!(function(c,d,h){const f=RD(c,d,h);return c.inclusive?f>=0:f>0})(r.endAt,Mh(r),a))})(t,e)}function Oce(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RL(t){return(e,n)=>{let r=!1;for(const a of Mh(t)){const l=Dce(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Dce(t,e,n){const r=t.field.isKeyField()?Ge.comparator(e.key,n.key):(function(l,c,d){const h=c.data.field(l),f=d.data.field(l);return h!==null&&f!==null?Ku(h,f):Ye(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return pL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rce=new dn(Ge.comparator);function Gs(){return Rce}const PL=new dn(Ge.comparator);function Ih(...t){let e=PL;for(const n of t)e=e.insert(n.key,n);return e}function kL(t){let e=PL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jo(){return Lh()}function ML(){return Lh()}function Lh(){return new jc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Pce=new dn(Ge.comparator),kce=new Gn(Ge.comparator);function pt(...t){let e=kce;for(const n of t)e=e.add(n);return e}const Mce=new Gn(mt);function Lce(){return Mce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:py(e)?"-0":e}}function LL(t){return{integerValue:""+t}}function Uce(t,e){return dce(e)?LL(e):dE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this._=void 0}}function Vce(t,e,n){return t instanceof by?(function(a,l){const c={fields:{[xL]:{stringValue:yL},[bL]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&lE(l)&&(l=U0(l)),l&&(c.fields[vL]=l),{mapValue:c}})(n,e):t instanceof uf?VL(t,e):t instanceof df?zL(t,e):(function(a,l){const c=UL(a,l),d=LD(c)+LD(a.Ae);return jN(c)&&jN(a.Ae)?LL(d):dE(a.serializer,d)})(t,e)}function zce(t,e,n){return t instanceof uf?VL(t,e):t instanceof df?zL(t,e):n}function UL(t,e){return t instanceof wy?(function(r){return jN(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class by extends F0{}class uf extends F0{constructor(e){super(),this.elements=e}}function VL(t,e){const n=FL(e);for(const r of t.elements)n.some((a=>Zi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class df extends F0{constructor(e){super(),this.elements=e}}function zL(t,e){let n=FL(e);for(const r of t.elements)n=n.filter((a=>!Zi(a,r)));return{arrayValue:{values:n}}}class wy extends F0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LD(t){return Nn(t.integerValue||t.doubleValue)}function FL(t){return oE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Fce(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof uf&&a instanceof uf||r instanceof df&&a instanceof df?Gu(r.elements,a.elements,Zi):r instanceof wy&&a instanceof wy?Zi(r.Ae,a.Ae):r instanceof by&&a instanceof by})(t.transform,e.transform)}class $ce{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $0{}function $L(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new B0(t.key,Yr.none()):new Ff(t.key,t.data,Yr.none());{const n=t.data,r=Br.empty();let a=new Gn(pr.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new co(t.key,r,new ca(a.toArray()),Yr.none())}}function Bce(t,e,n){t instanceof Ff?(function(a,l,c){const d=a.value.clone(),h=VD(a.fieldTransforms,l,c.transformResults);d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof co?(function(a,l,c){if(!dg(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=VD(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(BL(a)),h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Uh(t,e,n,r){return t instanceof Ff?(function(l,c,d,h){if(!dg(l.precondition,c))return d;const f=l.value.clone(),p=zD(l.fieldTransforms,h,c);return f.setAll(p),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof co?(function(l,c,d,h){if(!dg(l.precondition,c))return d;const f=zD(l.fieldTransforms,h,c),p=c.data;return p.setAll(BL(l)),p.setAll(f),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(l,c,d){return dg(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function qce(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=UL(r.transform,a||null);l!=null&&(n===null&&(n=Br.empty()),n.set(r.field,l))}return n||null}function UD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Gu(r,a,((l,c)=>Fce(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ff extends $0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class co extends $0{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function BL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function VD(t,e,n){const r=new Map;Tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,zce(c,d,n[a]))}return r}function zD(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,Vce(l,c,e))}return r}class B0 extends $0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hce extends $0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Bce(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ML();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const h=$L(c,d);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,((n,r)=>UD(n,r)))&&Gu(this.baseMutations,e.baseMutations,((n,r)=>UD(n,r)))}}class hE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Pce})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new hE(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kce{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yce{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,xt;function Wce(t){switch(t){case Ne.OK:return Ye(64938);case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0;default:return Ye(15467,{code:t})}}function qL(t){if(t===void 0)return Hs("GRPC error has no .code"),Ne.UNKNOWN;switch(t){case Pn.OK:return Ne.OK;case Pn.CANCELLED:return Ne.CANCELLED;case Pn.UNKNOWN:return Ne.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return Ne.INTERNAL;case Pn.UNAVAILABLE:return Ne.UNAVAILABLE;case Pn.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Pn.NOT_FOUND:return Ne.NOT_FOUND;case Pn.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Pn.ABORTED:return Ne.ABORTED;case Pn.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Pn.DATA_LOSS:return Ne.DATA_LOSS;default:return Ye(39323,{code:t})}}(xt=Pn||(Pn={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qce=new ql([4294967295,4294967295],0);function FD(t){const e=Xce().encode(t),n=new aL;return n.update(e),new Uint8Array(n.digest())}function $D(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ql([n,r],0),new ql([a,l],0)]}class fE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oh(`Invalid padding: ${n}`);if(r<0)throw new Oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ql.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(ql.fromNumber(r)));return a.compare(Qce)===1&&(a=new ql([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FD(e),[r,a]=$D(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new fE(l,a,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=FD(e),[r,a]=$D(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,$f.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new q0(tt.min(),a,new dn(mt),Gs(),pt())}}class $f{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $f(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class HL{constructor(e,n){this.targetId=e,this.Ce=n}}class GL{constructor(e,n,r=yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class BD{constructor(){this.ve=0,this.Fe=qD(),this.Me=yr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),n=pt(),r=pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ye(38017,{changeType:l})}})),new $f(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=qD()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Jce{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gs(),this.Je=Gp(),this.He=Gp(),this.Ye=new dn(mt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(SN(l))if(r===0){const c=new Ge(l.path);this.et(n,c,_r.newNoDocument(c,tt.min()))}else Tt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),h=d?this.ct(d,e,c):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=eo(r).toUint8Array()}catch(h){if(h instanceof gL)return Hu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new fE(c,a,l)}catch(h){return Hu(h instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&SN(d.target)){const h=new Ge(d.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,_r.newNoDocument(h,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=pt();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new q0(e,n,this.Ye,this.je,r);return this.je=Gs(),this.Je=Gp(),this.He=Gp(),this.Ye=new dn(mt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BD,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Gn(mt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Gn(mt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BD),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gp(){return new dn(Ge.comparator)}function qD(){return new dn(Ge.comparator)}const Zce={asc:"ASCENDING",desc:"DESCENDING"},eue={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tue={and:"AND",or:"OR"};class nue{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function TN(t,e){return t.useProto3Json||L0(e)?e:{value:e}}function Ny(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rue(t,e){return Ny(t,e.toTimestamp())}function $i(t){return Tt(!!t,49232),tt.fromTimestamp((function(n){const r=Zl(n);return new Zt(r.seconds,r.nanos)})(t))}function mE(t,e){return CN(t,e).canonicalString()}function CN(t,e){const n=(function(a){return new Yt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function YL(t){const e=Yt.fromString(t);return Tt(ZL(e),10190,{key:e.toString()}),e}function IN(t,e){return mE(t.databaseId,e.path)}function Zw(t,e){const n=YL(e);if(n.get(1)!==t.databaseId.projectId)throw new De(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ge(XL(n))}function WL(t,e){return mE(t.databaseId,e)}function aue(t){const e=YL(t);return e.length===4?Yt.emptyPath():XL(e)}function ON(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XL(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HD(t,e,n){return{name:IN(t,e),fields:n.value.mapValue.fields}}function iue(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ye(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(f,p){return f.useProto3Json?(Tt(p===void 0||typeof p=="string",58123),yr.fromBase64String(p||"")):(Tt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const p=f.code===void 0?Ne.UNKNOWN:qL(f.code);return new De(p,f.message||"")})(c);n=new GL(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Zw(t,r.document.name),l=$i(r.document.updateTime),c=r.document.createTime?$i(r.document.createTime):tt.min(),d=new Br({mapValue:{fields:r.document.fields}}),h=_r.newFoundDocument(a,l,c,d),f=r.targetIds||[],p=r.removedTargetIds||[];n=new hg(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Zw(t,r.document),l=r.readTime?$i(r.readTime):tt.min(),c=_r.newNoDocument(a,l),d=r.removedTargetIds||[];n=new hg([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Zw(t,r.document),l=r.removedTargetIds||[];n=new hg([],l,a,null)}else{if(!("filter"in e))return Ye(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new Yce(a,l),d=r.targetId;n=new HL(d,c)}}return n}function sue(t,e){let n;if(e instanceof Ff)n={update:HD(t,e.key,e.value)};else if(e instanceof B0)n={delete:IN(t,e.key)};else if(e instanceof co)n={update:HD(t,e.key,e.data),updateMask:pue(e.fieldMask)};else{if(!(e instanceof Hce))return Ye(16599,{Vt:e.type});n={verify:IN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof by)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uf)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof df)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wy)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ye(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:rue(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ye(27497)})(t,e.precondition)),n}function lue(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?$i(a.updateTime):$i(l);return c.isEqual(tt.min())&&(c=$i(l)),new $ce(c,a.transformResults||[])})(n,e)))):[]}function oue(t,e){return{documents:[WL(t,e.path)]}}function cue(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WL(t,a);const l=(function(f){if(f.length!==0)return JL(ui.create(f,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(f){if(f.length!==0)return f.map((p=>(function(v){return{field:wu(v.field),direction:hue(v.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=TN(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:a}}function uue(t){let e=aue(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Tt(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let l=[];n.where&&(l=(function(g){const v=QL(g);return v instanceof ui&&SL(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((v=>(function(_){return new cf(Nu(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let v;return v=typeof g=="object"?g.value:g,L0(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(g){const v=!!g.before,N=g.values||[];return new xy(N,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const v=!g.before,N=g.values||[];return new xy(N,v)})(n.endAt)),Cce(e,a,c,l,d,"F",h,f)}function due(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nu(n.unaryFilter.field);return Mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Nu(n.unaryFilter.field);return Mn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Nu(n.unaryFilter.field);return Mn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Nu(n.unaryFilter.field);return Mn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Mn.create(Nu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((r=>QL(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}})(n.compositeFilter.op))})(t):Ye(30097,{filter:t})}function hue(t){return Zce[t]}function fue(t){return eue[t]}function mue(t){return tue[t]}function wu(t){return{fieldPath:t.canonicalString()}}function Nu(t){return pr.fromServerFormat(t.fieldPath)}function JL(t){return t instanceof Mn?(function(n){if(n.op==="=="){if(DD(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NAN"}};if(OD(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DD(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NAN"}};if(OD(n.value))return{unaryFilter:{field:wu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(n.field),op:fue(n.op),value:n.value}}})(t):t instanceof ui?(function(n){const r=n.getFilters().map((a=>JL(a)));return r.length===1?r[0]:{compositeFilter:{op:mue(n.op),filters:r}}})(t):Ye(54877,{filter:t})}function pue(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ZL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,a,l=tt.min(),c=tt.min(),d=yr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gue{constructor(e){this.yt=e}}function yue(t){const e=uue({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xue{constructor(){this.Cn=new vue}addToCollectionParentIndex(e,n){return this.Cn.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Jl.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Jl.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class vue{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Gn(Yt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Gn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eU=41943040;class $r{static withCacheSize(e){return new $r(e,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(eU,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wu(0)}static cr(){return new Wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="LruGarbageCollector",bue=1048576;function YD([t,e],[n,r]){const a=mt(t,n);return a===0?mt(e,r):a}class wue{constructor(e){this.Ir=e,this.buffer=new Gn(YD),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();YD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Nue{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(KD,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hd(n)?Re(KD,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class _ue{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return je.resolve(M0.ce);const r=new wue(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(GD)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GD):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,c,d,h,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,d=Date.now(),this.removeTargets(e,r,n)))).next((g=>(l=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),vu()<=ft.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(h-d)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-p}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:g}))))}}function jue(t,e){return new _ue(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eue{constructor(){this.changes=new jc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sue{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aue{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Uh(r.mutation,a,ca.empty(),Zt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=pt()){const a=Jo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Ih();return l.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Jo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,pt())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,a){let l=Gs();const c=Lh(),d=(function(){return Lh()})();return n.forEach(((h,f)=>{const p=r.get(f.key);a.has(f.key)&&(p===void 0||p.mutation instanceof co)?l=l.insert(f.key,f):p!==void 0?(c.set(f.key,p.mutation.getFieldMask()),Uh(p.mutation,f,p.mutation.getFieldMask(),Zt.now())):c.set(f.key,ca.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((f,p)=>c.set(f,p))),n.forEach(((f,p)=>d.set(f,new Sue(p,c.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Lh();let a=new dn(((c,d)=>c-d)),l=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let p=r.get(h)||ca.empty();p=d.applyToLocalView(f,p),r.set(h,p);const g=(a.get(d.batchId)||pt()).add(h);a=a.insert(d.batchId,g)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,p=h.value,g=ML();p.forEach((v=>{if(!l.has(v)){const N=$L(n.get(v),r.get(v));N!==null&&g.set(v,N),l=l.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,g))}return je.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return Ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):je.resolve(Jo());let d=af,h=l;return c.next((f=>je.forEach(f,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),l.get(p)?je.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{h=h.insert(p,v)}))))).next((()=>this.populateOverlays(e,f,l))).next((()=>this.computeViews(e,h,f,pt()))).next((p=>({batchId:d,changes:kL(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next((r=>{let a=Ih();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Ih();return this.indexManager.getCollectionParents(e,l).next((d=>je.forEach(d,(h=>{const f=(function(g,v){return new fd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((p=>{p.forEach(((g,v)=>{c=c.insert(g,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((h,f)=>{const p=f.getKey();c.get(p)===null&&(c=c.insert(p,_r.newInvalidDocument(p)))}));let d=Ih();return c.forEach(((h,f)=>{const p=l.get(h);p!==void 0&&Uh(p.mutation,f,ca.empty(),Zt.now()),z0(n,f)&&(d=d.insert(h,f))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tue{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:$i(a.createTime)}})(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:yue(a.bundledQuery),readTime:$i(a.readTime)}})(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cue{constructor(){this.overlays=new dn(Ge.comparator),this.qr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jo();return je.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),je.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const a=Jo(),l=n.length+1,c=new Ge(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===l&&h.largestBatchId>r&&a.set(h.getKey(),h)}return je.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new dn(((f,p)=>f-p));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=l.get(f.largestBatchId);p===null&&(p=Jo(),l=l.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const d=Jo(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,p)=>d.set(f,p))),!(d.size()>=a)););return je.resolve(d)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Kce(n,r));let l=this.qr.get(n);l===void 0&&(l=pt(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iue{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.Qr=new Gn(rr.$r),this.Ur=new Gn(rr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new rr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new rr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ge(new Yt([])),r=new rr(n,e),a=new rr(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ge(new Yt([])),r=new rr(n,e),a=new rr(n,e+1);let l=pt();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new rr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ge.comparator(e.key,n.key)||mt(e.Yr,n.Yr)}static Kr(e,n){return mt(e.Yr,n.Yr)||Ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oue{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Gn(rr.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Gce(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new rr(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return je.resolve(c)}lookupMutationBatch(e,n){return je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return je.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?sE:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rr(n,0),a=new rr(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gn(mt);return n.forEach((a=>{const l=new rr(a,0),c=new rr(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{r=r.add(d.Yr)}))})),je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ge.isDocumentKey(l)||(l=l.child(""));const c=new rr(new Ge(l),0);let d=new Gn(mt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(d=d.add(h.Yr)),!0)}),c),je.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return je.forEach(n.mutations,(a=>{const l=new rr(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new rr(n,0),a=this.Zr.firstAfterOrEqual(r);return je.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Due{constructor(e){this.ri=e,this.docs=(function(){return new dn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=Gs();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():_r.newInvalidDocument(a))})),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Gs();const c=n.path,d=new Ge(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||lce(sce(p),r)<=0||(a.has(p.key)||z0(n,p))&&(l=l.insert(p.key,p.mutableCopy()))}return je.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ye(9500)}ii(e,n){return je.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Rue(this)}getSize(e){return je.resolve(this.size)}}class Rue extends Eue{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pue{constructor(e){this.persistence=e,this.si=new jc((n=>cE(n)),uE),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.oi=0,this._i=new pE,this.targetCount=0,this.ai=Wu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Pr(n),je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),je.waitFor(l).next((()=>a))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),je.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.ui={},this.overlays={},this.ci=new M0(0),this.li=!1,this.li=!0,this.hi=new Iue,this.referenceDelegate=e(this),this.Pi=new Pue(this),this.indexManager=new xue,this.remoteDocumentCache=(function(a){return new Due(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gue(n),this.Ii=new Tue(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cue,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Oue(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Re("MemoryPersistence","Starting transaction:",e);const a=new kue(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class kue extends cce{constructor(e){super(),this.currentSequenceNumber=e}}class gE{constructor(e){this.persistence=e,this.Ri=new pE,this.Vi=null}static mi(e){return new gE(e)}get fi(){if(this.Vi)return this.Vi;throw Ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,(r=>{const a=Ge.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,tt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return je.or([()=>je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _y{constructor(e,n){this.persistence=e,this.pi=new jc((r=>hce(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=jue(this,n)}static mi(e,n){return new _y(e,n)}Ei(){}di(e){return je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return je.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?je.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,l.removeEntry(c,tt.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cg(e.data.value)),n}br(e,n,r){return je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return je.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=pt(),a=pt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new yE(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ise()?8:uce(Er())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Mue;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(vu()<=ft.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",bu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(vu()<=ft.DEBUG&&Re("QueryEngine","Query:",bu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(vu()<=ft.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",bu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(n))):je.resolve())}ys(e,n){if(MD(n))return je.resolve(null);let r=Fi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vy(n,null,"F"),r=Fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=pt(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,d);return this.Cs(n,f,c,h.readTime)?this.ys(e,vy(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,a){return MD(n)||a.isEqual(tt.min())?je.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?je.resolve(null):(vu()<=ft.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bu(n)),this.vs(e,c,n,ice(a,af)).next((d=>d)))}))}Ds(e,n){let r=new Gn(RL(e));return n.forEach(((a,l)=>{z0(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return vu()<=ft.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",bu(n)),this.ps.getDocumentsMatchingQuery(e,n,Jl.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LocalStore",Uue=3e8;class Vue{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new dn(mt),this.xs=new jc((l=>cE(l)),uE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aue(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zue(t,e,n,r){return new Vue(t,e,n,r)}async function nU(t,e){const n=at(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let h=pt();for(const f of a){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of l){d.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function Fue(t,e){const n=at(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,p){const g=f.batch,v=g.keys();let N=je.resolve();return v.forEach((_=>{N=N.next((()=>p.getEntry(h,_))).next((j=>{const E=f.docVersions.get(_);Tt(E!==null,48541),j.version.compareTo(E)<0&&(g.applyToRemoteDocument(j,f),j.isValidDocument()&&(j.setReadTime(f.commitVersion),p.addEntry(j)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(h,g)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=pt();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function rU(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function $ue(t,e){const n=at(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((p,g)=>{const v=a.get(g);if(!v)return;d.push(n.Pi.removeMatchingKeys(l,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(l,p.addedDocuments,g))));let N=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(g)!==null?N=N.withResumeToken(yr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(p.resumeToken,r)),a=a.insert(g,N),(function(j,E,I){return j.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Uue?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,N,p)&&d.push(n.Pi.updateTargetData(l,N))}));let h=Gs(),f=pt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,p))})),d.push(Bue(l,c,e.documentUpdates).next((p=>{h=p.ks,f=p.qs}))),!r.isEqual(tt.min())){const p=n.Pi.getLastRemoteSnapshotVersion(l).next((g=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(p)}return je.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,f))).next((()=>h))})).then((l=>(n.Ms=a,l)))}function Bue(t,e,n){let r=pt(),a=pt();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Gs();return n.forEach(((d,h)=>{const f=l.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(d)),h.isNoDocument()&&h.version.isEqual(tt.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Re(xE,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function que(t,e){const n=at(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Hue(t,e){const n=at(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,je.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new zl(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function DN(t,e,n){const r=at(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hd(c))throw c;Re(xE,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function WD(t,e,n){const r=at(t);let a=tt.min(),l=pt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,p){const g=at(h),v=g.xs.get(p);return v!==void 0?je.resolve(g.Ms.get(v)):g.Pi.getTargetData(f,p)})(r,c,Fi(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((h=>{l=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:tt.min(),n?l:pt()))).next((d=>(Gue(r,Oce(e),d),{documents:d,Qs:l})))))}function Gue(t,e,n){let r=t.Os.get(e)||tt.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class XD{constructor(){this.activeTargetIds=Lce()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kue{constructor(){this.Mo=new XD,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yue{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="ConnectivityMonitor";class JD{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(QD,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(QD,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp=null;function RN(){return Kp===null?Kp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kp++,"0x"+Kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="RestConnection",Wue={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xue{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===gy?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const c=RN(),d=this.zo(e,n.toUriEncodedString());Re(e1,`Sending RPC '${e}' ${c}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,l);const{host:f}=new URL(d),p=wc(f);return this.Jo(e,d,h,r,p).then((g=>(Re(e1,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Hu(e1,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g}))}Ho(e,n,r,a,l,c){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=Wue[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="WebChannelConnection";class Jue extends Xue{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const c=RN();return new Promise(((d,h)=>{const f=new iL;f.setWithCredentials(!0),f.listenOnce(sL.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case og.NO_ERROR:const g=f.getResponseJson();Re(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),d(g);break;case og.TIMEOUT:Re(vr,`RPC '${e}' ${c} timed out`),h(new De(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case og.HTTP_ERROR:const v=f.getStatus();if(Re(vr,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let N=f.getResponseJson();Array.isArray(N)&&(N=N[0]);const _=N==null?void 0:N.error;if(_&&_.status&&_.message){const j=(function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(R)>=0?R:Ne.UNKNOWN})(_.status);h(new De(j,_.message))}else h(new De(Ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new De(Ne.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Re(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);Re(vr,`RPC '${e}' ${c} sending request:`,a),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=RN(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=cL(),d=oL(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const p=l.join("");Re(vr,`Creating RPC '${e}' stream ${a}: ${p}`,h);const g=c.createWebChannel(p,h);this.I_(g);let v=!1,N=!1;const _=new Que({Yo:E=>{N?Re(vr,`Not sending because RPC '${e}' stream ${a} is closed:`,E):(v||(Re(vr,`Opening RPC '${e}' stream ${a} transport.`),g.open(),v=!0),Re(vr,`RPC '${e}' stream ${a} sending:`,E),g.send(E))},Zo:()=>g.close()}),j=(E,I,R)=>{E.listen(I,(M=>{try{R(M)}catch(T){setTimeout((()=>{throw T}),0)}}))};return j(g,Ch.EventType.OPEN,(()=>{N||(Re(vr,`RPC '${e}' stream ${a} transport opened.`),_.o_())})),j(g,Ch.EventType.CLOSE,(()=>{N||(N=!0,Re(vr,`RPC '${e}' stream ${a} transport closed`),_.a_(),this.E_(g))})),j(g,Ch.EventType.ERROR,(E=>{N||(N=!0,Hu(vr,`RPC '${e}' stream ${a} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new De(Ne.UNAVAILABLE,"The operation could not be completed")))})),j(g,Ch.EventType.MESSAGE,(E=>{var I;if(!N){const R=E.data[0];Tt(!!R,16349);const M=R,T=(M==null?void 0:M.error)||((I=M[0])==null?void 0:I.error);if(T){Re(vr,`RPC '${e}' stream ${a} received error:`,T);const C=T.status;let L=(function(F){const A=Pn[F];if(A!==void 0)return qL(A)})(C),P=T.message;L===void 0&&(L=Ne.INTERNAL,P="Unknown error status: "+C+" with message "+T.message),N=!0,_.a_(new De(L,P)),g.close()}else Re(vr,`RPC '${e}' stream ${a} received:`,R),_.u_(R)}})),j(d,lL.STAT_EVENT,(E=>{E.stat===wN.PROXY?Re(vr,`RPC '${e}' stream ${a} detected buffering proxy`):E.stat===wN.NOPROXY&&Re(vr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function t1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){return new nue(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="PersistentStream";class iU{constructor(e,n,r,a,l,c,d,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aU(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(Hs(n.toString()),Hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new De(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(ZD,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Re(ZD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Zue extends iU{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iue(this.serializer,e),r=(function(l){if(!("targetChange"in l))return tt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?tt.min():c.readTime?$i(c.readTime):tt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ON(this.serializer),n.addTarget=(function(l,c){let d;const h=c.target;if(d=SN(h)?{documents:oue(l,h)}:{query:cue(l,h).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=KL(l,c.resumeToken);const f=TN(l,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(tt.min())>0){d.readTime=Ny(l,c.snapshotVersion.toTimestamp());const f=TN(l,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const r=due(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ON(this.serializer),n.removeTarget=e,this.q_(n)}}class ede extends iU{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lue(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ON(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>sue(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tde{}class nde extends tde{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new De(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,CN(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(Ne.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,CN(n,r),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new De(Ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rde{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hs(n),this.aa=!1):Re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="RemoteStore";class ade{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ec(this)&&(Re(mc,"Restarting streams for network reachability change."),await(async function(h){const f=at(h);f.Ea.add(4),await Bf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await G0(f)})(this))}))})),this.Ra=new rde(r,a)}}async function G0(t){if(Ec(t))for(const e of t.da)await e(!0)}async function Bf(t){for(const e of t.da)await e(!1)}function sU(t,e){const n=at(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),NE(n)?wE(n):md(n).O_()&&bE(n,e))}function vE(t,e){const n=at(t),r=md(n);n.Ia.delete(e),r.O_()&&lU(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ec(n)&&n.Ra.set("Unknown"))}function bE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function lU(t,e){t.Va.Ue(e),md(t).Z_(e)}function wE(t){t.Va=new Jce({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function NE(t){return Ec(t)&&!md(t).x_()&&t.Ia.size>0}function Ec(t){return at(t).Ea.size===0}function oU(t){t.Va=void 0}async function ide(t){t.Ra.set("Online")}async function sde(t){t.Ia.forEach(((e,n)=>{bE(t,e)}))}async function lde(t,e){oU(t),NE(t)?(t.Ra.ha(e),wE(t)):t.Ra.set("Unknown")}async function ode(t,e,n){if(t.Ra.set("Online"),e instanceof GL&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(r){Re(mc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jy(t,r)}else if(e instanceof hg?t.Va.Ze(e):e instanceof HL?t.Va.st(e):t.Va.tt(e),!n.isEqual(tt.min()))try{const r=await rU(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=l.Ia.get(f);p&&l.Ia.set(f,p.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,f)=>{const p=l.Ia.get(h);if(!p)return;l.Ia.set(h,p.withResumeToken(yr.EMPTY_BYTE_STRING,p.snapshotVersion)),lU(l,h);const g=new zl(p.target,h,f,p.sequenceNumber);bE(l,g)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Re(mc,"Failed to raise snapshot:",r),await jy(t,r)}}async function jy(t,e,n){if(!hd(e))throw e;t.Ea.add(1),await Bf(t),t.Ra.set("Offline"),n||(n=()=>rU(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re(mc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await G0(t)}))}function cU(t,e){return e().catch((n=>jy(t,n,e)))}async function K0(t){const e=at(t),n=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sE;for(;cde(e);)try{const a=await que(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,ude(e,a)}catch(a){await jy(e,a)}uU(e)&&dU(e)}function cde(t){return Ec(t)&&t.Ta.length<10}function ude(t,e){t.Ta.push(e);const n=no(t);n.O_()&&n.X_&&n.ea(e.mutations)}function uU(t){return Ec(t)&&!no(t).x_()&&t.Ta.length>0}function dU(t){no(t).start()}async function dde(t){no(t).ra()}async function hde(t){const e=no(t);for(const n of t.Ta)e.ea(n.mutations)}async function fde(t,e,n){const r=t.Ta.shift(),a=hE.from(r,e,n);await cU(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await K0(t)}async function mde(t,e){e&&no(t).X_&&await(async function(r,a){if((function(c){return Wce(c)&&c!==Ne.ABORTED})(a.code)){const l=r.Ta.shift();no(r).B_(),await cU(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await K0(r)}})(t,e),uU(t)&&dU(t)}async function eR(t,e){const n=at(t);n.asyncQueue.verifyOperationInProgress(),Re(mc,"RemoteStore received new credentials");const r=Ec(n);n.Ea.add(3),await Bf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await G0(n)}async function pde(t,e){const n=at(t);e?(n.Ea.delete(2),await G0(n)):e||(n.Ea.add(2),await Bf(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,a){const l=at(n);return l.sa(),new Zue(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:ide.bind(null,t),t_:sde.bind(null,t),r_:lde.bind(null,t),H_:ode.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),NE(t)?wE(t):t.Ra.set("Unknown")):(await t.ma.stop(),oU(t))}))),t.ma}function no(t){return t.fa||(t.fa=(function(n,r,a){const l=at(n);return l.sa(),new ede(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dde.bind(null,t),r_:mde.bind(null,t),ta:hde.bind(null,t),na:fde.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await K0(t)):(await t.fa.stop(),t.Ta.length>0&&(Re(mc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,d=new _E(e,n,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jE(t,e){if(Hs("AsyncQueue",`${e}: ${t}`),hd(t))return new De(Ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(e){return new Iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ge.comparator(n.key,r.key):(n,r)=>Ge.comparator(n.key,r.key),this.keyedMap=Ih(),this.sortedSet=new dn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.ga=new dn(Ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ye(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xu{constructor(e,n,r,a,l,c,d,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Xu(e,n,Iu.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yde{constructor(){this.queries=nR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=at(n),l=a.queries;a.queries=nR(),l.forEach(((c,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new De(Ne.ABORTED,"Firestore shutting down"))}}function nR(){return new jc((t=>DL(t)),V0)}async function xde(t,e){const n=at(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new gde,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=jE(c,`Initialization of query '${bu(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&EE(n)}async function vde(t,e){const n=at(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bde(t,e){const n=at(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&EE(n)}function wde(t,e,n){const r=at(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function EE(t){t.Ca.forEach((e=>{e.next()}))}var PN,rR;(rR=PN||(PN={})).Ma="default",rR.Cache="cache";class Nde{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==PN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.key=e}}class fU{constructor(e){this.key=e}}class _de{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=RL(e),this.tu=new Iu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new tR,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const v=a.get(p),N=z0(this.query,g)?g:null,_=!!v&&this.mutatedKeys.has(v.key),j=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let E=!1;v&&N?v.data.isEqual(N.data)?_!==j&&(r.track({type:3,doc:N}),E=!0):this.su(v,N)||(r.track({type:2,doc:N}),E=!0,(h&&this.eu(N,h)>0||f&&this.eu(N,f)<0)&&(d=!0)):!v&&N?(r.track({type:0,doc:N}),E=!0):v&&!N&&(r.track({type:1,doc:v}),E=!0,(h||f)&&(d=!0)),E&&(N?(c=c.add(N),l=j?l.add(p):l.delete(p)):(c=c.delete(p),l=l.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),l=l.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,g)=>(function(N,_){const j=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Rt:E})}};return j(N)-j(_)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Xu(this.query,e.tu,l,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new fU(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hU(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const SE="SyncEngine";class jde{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Ede{constructor(e){this.key=e,this.hu=!1}}class Sde{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new jc((d=>DL(d)),V0),this.Iu=new Map,this.Eu=new Set,this.du=new dn(Ge.comparator),this.Au=new Map,this.Ru=new pE,this.Vu={},this.mu=new Map,this.fu=Wu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ade(t,e,n=!0){const r=vU(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await mU(r,e,n,!0),a}async function Tde(t,e){const n=vU(t);await mU(n,e,!0,!1)}async function mU(t,e,n,r){const a=await Hue(t.localStore,Fi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await Cde(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&sU(t.remoteStore,a),d}async function Cde(t,e,n,r,a){t.pu=(g,v,N)=>(async function(j,E,I,R){let M=E.view.ru(I);M.Cs&&(M=await WD(j.localStore,E.query,!1).then((({documents:P})=>E.view.ru(P,M))));const T=R&&R.targetChanges.get(E.targetId),C=R&&R.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(M,j.isPrimaryClient,T,C);return iR(j,E.targetId,L.au),L.snapshot})(t,g,v,N);const l=await WD(t.localStore,e,!0),c=new _de(e,l.Qs),d=c.ru(l.documents),h=$f.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=c.applyChanges(d,t.isPrimaryClient,h);iR(t,n,f.au);const p=new jde(e,n,c);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function Ide(t,e,n){const r=at(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!V0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await DN(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&vE(r.remoteStore,a.targetId),kN(r,a.targetId)})).catch(dd)):(kN(r,a.targetId),await DN(r.localStore,a.targetId,!0))}async function Ode(t,e){const n=at(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vE(n.remoteStore,r.targetId))}async function Dde(t,e,n){const r=Vde(t);try{const a=await(function(c,d){const h=at(c),f=Zt.now(),p=d.reduce(((N,_)=>N.add(_.key)),pt());let g,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let _=Gs(),j=pt();return h.Ns.getEntries(N,p).next((E=>{_=E,_.forEach(((I,R)=>{R.isValidDocument()||(j=j.add(I))}))})).next((()=>h.localDocuments.getOverlayedDocuments(N,_))).next((E=>{g=E;const I=[];for(const R of d){const M=qce(R,g.get(R.key).overlayedDocument);M!=null&&I.push(new co(R.key,M,_L(M.value.mapValue),Yr.exists(!0)))}return h.mutationQueue.addMutationBatch(N,f,I,d)})).next((E=>{v=E;const I=E.applyToLocalDocumentSet(g,j);return h.documentOverlayCache.saveOverlays(N,E.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:kL(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,d,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new dn(mt)),f=f.insert(d,h),c.Vu[c.currentUser.toKey()]=f})(r,a.batchId,n),await qf(r,a.changes),await K0(r.remoteStore)}catch(a){const l=jE(a,"Failed to persist write");n.reject(l)}}async function pU(t,e){const n=at(t);try{const r=await $ue(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Tt(c.hu,14607):a.removedDocuments.size>0&&(Tt(c.hu,42227),c.hu=!1))})),await qf(n,r,e)}catch(r){await dd(r)}}function aR(t,e,n){const r=at(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const h=at(c);h.onlineState=d;let f=!1;h.queries.forEach(((p,g)=>{for(const v of g.Sa)v.va(d)&&(f=!0)})),f&&EE(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Rde(t,e,n){const r=at(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new dn(Ge.comparator);c=c.insert(l,_r.newNoDocument(l,tt.min()));const d=pt().add(l),h=new q0(tt.min(),new Map,new dn(mt),c,d);await pU(r,h),r.du=r.du.remove(l),r.Au.delete(e),AE(r)}else await DN(r.localStore,e,!1).then((()=>kN(r,e,n))).catch(dd)}async function Pde(t,e){const n=at(t),r=e.batch.batchId;try{const a=await Fue(n.localStore,e);yU(n,r,null),gU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qf(n,a)}catch(a){await dd(a)}}async function kde(t,e,n){const r=at(t);try{const a=await(function(c,d){const h=at(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return h.mutationQueue.lookupMutationBatch(f,d).next((g=>(Tt(g!==null,37113),p=g.keys(),h.mutationQueue.removeMutationBatch(f,g)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>h.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);yU(r,e,n),gU(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qf(r,a)}catch(a){await dd(a)}}function gU(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function yU(t,e,n){const r=at(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function kN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||xU(t,r)}))}function xU(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),AE(t))}function iR(t,e,n){for(const r of n)r instanceof hU?(t.Ru.addReference(r.key,e),Mde(t,r)):r instanceof fU?(Re(SE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xU(t,r.key)):Ye(19791,{wu:r})}function Mde(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Re(SE,"New document in limbo: "+n),t.Eu.add(r),AE(t))}function AE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ge(Yt.fromString(e)),r=t.fu.next();t.Au.set(r,new Ede(n)),t.du=t.du.insert(n,r),sU(t.remoteStore,new zl(Fi(IL(n.path)),r,"TargetPurposeLimboResolution",M0.ce))}}async function qf(t,e,n){const r=at(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{c.push(r.pu(h,e,n).then((f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(h.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){a.push(f);const g=yE.As(h.targetId,f);l.push(g)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,f){const p=at(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>je.forEach(f,(v=>je.forEach(v.Es,(N=>p.persistence.referenceDelegate.addReference(g,v.targetId,N))).next((()=>je.forEach(v.ds,(N=>p.persistence.referenceDelegate.removeReference(g,v.targetId,N)))))))))}catch(g){if(!hd(g))throw g;Re(xE,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const N=p.Ms.get(v),_=N.snapshotVersion,j=N.withLastLimboFreeSnapshotVersion(_);p.Ms=p.Ms.insert(v,j)}}})(r.localStore,l))}async function Lde(t,e){const n=at(t);if(!n.currentUser.isEqual(e)){Re(SE,"User change. New user:",e.toKey());const r=await nU(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((h=>{h.reject(new De(Ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qf(n,r.Ls)}}function Ude(t,e){const n=at(t),r=n.Au.get(e);if(r&&r.hu)return pt().add(r.key);{let a=pt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function vU(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ude.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rde.bind(null,e),e.Pu.H_=bde.bind(null,e.eventManager),e.Pu.yu=wde.bind(null,e.eventManager),e}function Vde(t){const e=at(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pde.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kde.bind(null,e),e}class Ey{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=H0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zue(this.persistence,new Lue,e.initialUser,this.serializer)}Cu(e){return new tU(gE.mi,this.serializer)}Du(e){return new Kue}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ey.provider={build:()=>new Ey};class zde extends Ey{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Tt(this.persistence.referenceDelegate instanceof _y,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Nue(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$r.withCacheSize(this.cacheSizeBytes):$r.DEFAULT;return new tU((r=>_y.mi(r,n)),this.serializer)}}class MN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lde.bind(null,this.syncEngine),await pde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yde})()}createDatastore(e){const n=H0(e.databaseInfo.databaseId),r=(function(l){return new Jue(l)})(e.databaseInfo);return(function(l,c,d,h){return new nde(l,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,d){return new ade(r,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>aR(this.syncEngine,n,0)),(function(){return JD.v()?new JD:new Yue})())}createSyncEngine(e,n){return(function(a,l,c,d,h,f,p){const g=new Sde(a,l,c,d,h,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=at(a);Re(mc,"RemoteStore shutting down."),l.Ea.add(5),await Bf(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}MN.provider={build:()=>new MN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fde{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class $de{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=wr.UNAUTHENTICATED,this.clientId=iE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Re(ro,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Re(ro,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function n1(t,e){t.asyncQueue.verifyOperationInProgress(),Re(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await nU(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bde(t);Re(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>eR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>eR(e.remoteStore,a))),t._onlineComponents=e}async function Bde(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(ro,"Using user provided OfflineComponentProvider");try{await n1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ne.FAILED_PRECONDITION||a.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await n1(t,new Ey)}}else Re(ro,"Using default OfflineComponentProvider"),await n1(t,new zde(void 0));return t._offlineComponents}async function bU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(ro,"Using user provided OnlineComponentProvider"),await sR(t,t._uninitializedComponentsProvider._online)):(Re(ro,"Using default OnlineComponentProvider"),await sR(t,new MN))),t._onlineComponents}function qde(t){return bU(t).then((e=>e.syncEngine))}async function Hde(t){const e=await bU(t),n=e.eventManager;return n.onListen=Ade.bind(null,e.syncEngine),n.onUnlisten=Ide.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Tde.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ode.bind(null,e.syncEngine),n}function Gde(t,e,n={}){const r=new Hl;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,f){const p=new Fde({next:v=>{p.Nu(),c.enqueueAndForget((()=>vde(l,g))),v.fromCache&&h.source==="server"?f.reject(new De(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new Nde(d,p,{includeMetadataChanges:!0,qa:!0});return xde(l,g)})(await Hde(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="firestore.googleapis.com",oR=!0;class cR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NU,this.ssl=oR}else this.host=e.host,this.ssl=e.ssl??oR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eU;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bue)throw new De(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ace("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wU(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Yoe;switch(r.type){case"firstParty":return new Joe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=lR.get(n);r&&(Re("ComponentProvider","Removing Datastore"),lR.delete(n),r.terminate())})(this),Promise.resolve()}}function Kde(t,e,n,r={}){var f;t=Ql(t,Y0);const a=wc(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(Wj(`https://${d}`),Xj("Firestore",!0)),l.host!==NU&&l.host!==d&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:d,ssl:a,emulatorOptions:r};if(!Xl(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=wr.MOCK_USER;else{p=A3(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new De(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wr(v)}t._authCredentials=new Woe(new dL(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}toJSON(){return{type:qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zf(n,qn._jsonSchema))return new qn(e,r||null,new Ge(Yt.fromString(n.referencePath)))}}qn._jsonSchemaVersion="firestore/documentReference/1.0",qn._jsonSchema={type:Un("string",qn._jsonSchemaVersion),referencePath:Un("string")};class Gl extends uo{constructor(e,n,r){super(e,n,IL(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Ge(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function Oe(t,e,...n){if(t=En(t),hL("collection","path",e),t instanceof Y0){const r=Yt.fromString(e,...n);return ND(r),new Gl(t,null,r)}{if(!(t instanceof qn||t instanceof Gl))throw new De(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return ND(r),new Gl(t.firestore,null,r)}}function ze(t,e,...n){if(t=En(t),arguments.length===1&&(e=iE.newId()),hL("doc","path",e),t instanceof Y0){const r=Yt.fromString(e,...n);return wD(r),new qn(t,null,new Ge(r))}{if(!(t instanceof qn||t instanceof Gl))throw new De(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...n));return wD(r),new qn(t.firestore,t instanceof Gl?t.converter:null,new Ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="AsyncQueue";class dR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aU(this,"async_queue_retry"),this._c=()=>{const r=t1();r&&Re(uR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=t1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=t1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hd(e))throw e;Re(uR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hs("INTERNAL UNHANDLED ERROR: ",hR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=_E.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ye(47125,{Pc:hR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pd extends Y0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new dR,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dR(e),this._firestoreClient=void 0,await e}}}function Yde(t,e){const n=typeof t=="object"?t:D0(),r=typeof t=="string"?t:gy,a=lo(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=j3("firestore");l&&Kde(a,...l)}return a}function TE(t){if(t._terminated)throw new De(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wde(t),t._firestoreClient}function Wde(t){var r,a,l;const e=t._freezeSettings(),n=(function(d,h,f,p){return new pce(d,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,wU(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $de(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(yr.fromBase64String(e))}catch(n){throw new De(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zf(e,Oa._jsonSchema))return Oa.fromBase64String(e.bytes)}}Oa._jsonSchemaVersion="firestore/bytes/1.0",Oa._jsonSchema={type:Un("string",Oa._jsonSchemaVersion),bytes:Un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(zf(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Un("string",Bi._jsonSchemaVersion),latitude:Un("number"),longitude:Un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zf(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new De(Ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Un("string",qi._jsonSchemaVersion),vectorValues:Un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xde=/^__.*__$/;class Qde{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ff(e,this.data,n,this.fieldTransforms)}}class _U{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{Ac:t})}}class IE{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new IE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Sy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jU(this.Ac)&&Xde.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jde{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||H0(e)}Cc(e,n,r,a=!1){return new IE({Ac:e,methodName:n,Dc:r,path:pr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W0(t){const e=t._freezeSettings(),n=H0(t._databaseId);return new Jde(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EU(t,e,n,r,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);OE("Data must be an object, but it was:",c,r);const d=TU(r,c);let h,f;if(l.merge)h=new ca(c.fieldMask),f=c.fieldTransforms;else if(l.mergeFields){const p=[];for(const g of l.mergeFields){const v=LN(e,g,n);if(!c.contains(v))throw new De(Ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);IU(p,v)||p.push(v)}h=new ca(p),f=c.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,f=c.fieldTransforms;return new Qde(new Br(d),h,f)}class X0 extends CE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X0}}function SU(t,e,n,r){const a=t.Cc(1,e,n);OE("Data must be an object, but it was:",a,r);const l=[],c=Br.empty();oo(r,((h,f)=>{const p=DE(e,h,n);f=En(f);const g=a.yc(p);if(f instanceof X0)l.push(p);else{const v=Gf(f,g);v!=null&&(l.push(p),c.set(p,v))}}));const d=new ca(l);return new _U(c,d,a.fieldTransforms)}function AU(t,e,n,r,a,l){const c=t.Cc(1,e,n),d=[LN(e,r,n)],h=[a];if(l.length%2!=0)throw new De(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)d.push(LN(e,l[v])),h.push(l[v+1]);const f=[],p=Br.empty();for(let v=d.length-1;v>=0;--v)if(!IU(f,d[v])){const N=d[v];let _=h[v];_=En(_);const j=c.yc(N);if(_ instanceof X0)f.push(N);else{const E=Gf(_,j);E!=null&&(f.push(N),p.set(N,E))}}const g=new ca(f);return new _U(p,g,c.fieldTransforms)}function Zde(t,e,n,r=!1){return Gf(n,t.Cc(r?4:3,e))}function Gf(t,e){if(CU(t=En(t)))return OE("Unsupported field value:",e,t),TU(t,e);if(t instanceof CE)return(function(r,a){if(!jU(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const d of r){let h=Gf(d,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uce(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Zt.fromDate(r);return{timestampValue:Ny(a.serializer,l)}}if(r instanceof Zt){const l=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ny(a.serializer,l)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:KL(a.serializer,r._byteString)};if(r instanceof qn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:mE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof qi)return(function(c,d){return{mapValue:{fields:{[wL]:{stringValue:NL},[yy]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return dE(d.serializer,f)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${k0(r)}`)})(t,e)}function TU(t,e){const n={};return pL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,((r,a)=>{const l=Gf(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function CU(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Bi||t instanceof Oa||t instanceof qn||t instanceof CE||t instanceof qi)}function OE(t,e,n){if(!CU(n)||!fL(n)){const r=k0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function LN(t,e,n){if((e=En(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return DE(t,e);throw Sy("Field path arguments must be of type string or ",t,!1,void 0,n)}const ehe=new RegExp("[~\\*/\\[\\]]");function DE(t,e,n){if(e.search(ehe)>=0)throw Sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hf(...e.split("."))._internalPath}catch{throw Sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sy(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new De(Ne.INVALID_ARGUMENT,d+t+h)}function IU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new the(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class the extends OU{data(){return super.data()}}function Q0(t,e){return typeof e=="string"?DE(t,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nhe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RE{}class PE extends RE{}function un(t,e,...n){let r=[];e instanceof RE&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof kE)).length,d=l.filter((h=>h instanceof J0)).length;if(c>1||c>0&&d>0)throw new De(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class J0 extends PE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new J0(e,n,r)}_apply(e){const n=this._parse(e);return DU(e._query,n),new uo(e.firestore,e.converter,AN(e._query,n))}_parse(e){const n=W0(e.firestore);return(function(l,c,d,h,f,p,g){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new De(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){mR(g,p);const _=[];for(const j of g)_.push(fR(h,l,j));v={arrayValue:{values:_}}}else v=fR(h,l,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||mR(g,p),v=Zde(d,c,g,p==="in"||p==="not-in");return Mn.create(f,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cn(t,e,n){const r=e,a=Q0("where",t);return J0._create(a,r,n)}class kE extends RE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const h of d)DU(c,h),c=AN(c,h)})(e._query,n),new uo(e.firestore,e.converter,AN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ME extends PE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ME(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new De(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new De(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cf(l,c)})(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new fd(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function ho(t,e="asc"){const n=e,r=Q0("orderBy",t);return ME._create(r,n)}class LE extends PE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new LE(e,n,r)}_apply(e){return new uo(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}function rhe(t){return LE._create("limit",t,"F")}function fR(t,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new De(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OL(e)&&n.indexOf("/")!==-1)throw new De(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Yt.fromString(n));if(!Ge.isDocumentKey(r))throw new De(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ID(t,new Ge(r))}if(n instanceof qn)return ID(t,n._key);throw new De(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${k0(n)}.`)}function mR(t,e){if(!Array.isArray(t)||t.length===0)throw new De(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DU(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new De(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ahe{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){var r,a,l;const n=(l=(a=(r=e.fields)==null?void 0:r[yy].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Nn(c.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Bi(Nn(e.latitude),Nn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=U0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const n=Zl(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Yt.fromString(e);Tt(ZL(r),9688,{name:e});const a=new lf(r.get(1),r.get(3)),l=new Ge(r.popFirst(5));return a.isEqual(n)||Hs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Yp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ou extends OU{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ou._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ou._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ou._jsonSchema={type:Un("string",Ou._jsonSchemaVersion),bundleSource:Un("string","DocumentSnapshot"),bundleName:Un("string"),bundle:Un("string")};class fg extends Ou{data(e={}){return super.data(e)}}class Du{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yp(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new fg(this._firestore,this._userDataWriter,r.key,r,new Yp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const h=new fg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Yp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const h=new fg(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Yp(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,p=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:ihe(d.type),doc:h,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(Ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Du._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ihe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:t})}}Du._jsonSchemaVersion="firestore/querySnapshot/1.0",Du._jsonSchema={type:Un("string",Du._jsonSchemaVersion),bundleSource:Un("string","QuerySnapshot"),bundleName:Un("string"),bundle:Un("string")};class she extends ahe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function We(t){t=Ql(t,uo);const e=Ql(t.firestore,pd),n=TE(e),r=new she(e);return nhe(t._query),Gde(n,t._query).then((a=>new Du(e,r,t,a)))}function Ct(t,e,n,...r){t=Ql(t,qn);const a=Ql(t.firestore,pd),l=W0(a);let c;return c=typeof(e=En(e))=="string"||e instanceof Hf?AU(l,"updateDoc",t._key,e,n,r):SU(l,"updateDoc",t._key,e),Z0(a,[c.toMutation(t._key,Yr.exists(!0))])}function Wt(t){return Z0(Ql(t.firestore,pd),[new B0(t._key,Yr.none())])}function Pt(t,e){const n=Ql(t.firestore,pd),r=ze(t),a=RU(t.converter,e);return Z0(n,[EU(W0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then((()=>r))}function Z0(t,e){return(function(r,a){const l=new Hl;return r.asyncQueue.enqueueAndForget((async()=>Dde(await qde(r),a,l))),l.promise})(TE(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lhe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=W0(e)}set(e,n,r){this._verifyNotCommitted();const a=r1(e,this._firestore),l=RU(a.converter,n,r),c=EU(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Yr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const l=r1(e,this._firestore);let c;return c=typeof(n=En(n))=="string"||n instanceof Hf?AU(this._dataReader,"WriteBatch.update",l._key,n,r,a):SU(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=r1(e,this._firestore);return this._mutations=this._mutations.concat(new B0(n._key,Yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function r1(t,e){if((t=En(t)).firestore!==e)throw new De(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){return TE(t=Ql(t,pd)),new lhe(t,(e=>Z0(t,e)))}(function(e,n=!0){(function(a){ud=a})(_c),ci(new Ma("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new pd(new Xoe(r.getProvider("auth-internal")),new Zoe(c,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new De(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(f.options.projectId,p)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Kr(yD,xD,e),Kr(yD,xD,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="firebasestorage.googleapis.com",ohe="storageBucket",che=120*1e3,uhe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ua{constructor(e,n,r=0){super(a1(e),`Firebase Storage: ${n} (${a1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,as.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return a1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var es;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(es||(es={}));function a1(t){return"storage/"+t}function dhe(){const t="An unknown error occurred, please check the error payload for server response.";return new as(es.UNKNOWN,t)}function hhe(){return new as(es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fhe(){return new as(es.CANCELED,"User canceled the upload/download.")}function mhe(t){return new as(es.INVALID_URL,"Invalid URL '"+t+"'.")}function phe(t){return new as(es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pR(t){return new as(es.INVALID_ARGUMENT,t)}function kU(){return new as(es.APP_DELETED,"The Firebase app was deleted.")}function ghe(t){return new as(es.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(r.path==="")return r;throw phe(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function f(T){T.path_=decodeURIComponent(T.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",N=new RegExp(`^https?://${g}/${p}/b/${a}/o${v}`,"i"),_={bucket:1,path:3},j=n===PU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",I=new RegExp(`^https?://${j}/${a}/${E}`,"i"),M=[{regex:d,indices:h,postModify:l},{regex:N,indices:_,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let T=0;T<M.length;T++){const C=M[T],L=C.regex.exec(e);if(L){const P=L[C.indices.bucket];let V=L[C.indices.path];V||(V=""),r=new ni(P,V),C.postModify(r);break}}if(r==null)throw mhe(e);return r}}class yhe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(t,e,n){let r=1,a=null,l=null,c=!1,d=0;function h(){return d===2}let f=!1;function p(...E){f||(f=!0,e.apply(null,E))}function g(E){a=setTimeout(()=>{a=null,t(N,h())},E)}function v(){l&&clearTimeout(l)}function N(E,...I){if(f){v();return}if(E){v(),p.call(null,E,...I);return}if(h()||c){v(),p.call(null,E,...I);return}r<64&&(r*=2);let M;d===1?(d=2,M=0):M=(r+Math.random())*1e3,g(M)}let _=!1;function j(E){_||(_=!0,v(),!f&&(a!==null?(E||(d=2),clearTimeout(a),g(0)):E||(d=1)))}return g(0),l=setTimeout(()=>{c=!0,j(!0)},n),j}function vhe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bhe(t){return t!==void 0}function gR(t,e,n,r){if(r<e)throw pR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pR(`Invalid value for '${t}'. Expected ${n} or less.`)}function whe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Ay;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ay||(Ay={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nhe(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _he{constructor(e,n,r,a,l,c,d,h,f,p,g,v=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=v,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,j)=>{this.resolve_=_,this.reject_=j,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Wp(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const h=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ay.NO_ERROR,h=l.getStatus();if(!d||Nhe(h,this.additionalRetryCodes_)&&this.retry){const p=l.getErrorCode()===Ay.ABORT;r(!1,new Wp(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Wp(f,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());bhe(h)?l(h):l()}catch(h){c(h)}else if(d!==null){const h=dhe();h.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,h)):c(h)}else if(a.canceled){const h=this.appDelete_?kU():fhe();c(h)}else{const h=hhe();c(h)}};this.canceled_?n(!1,new Wp(!1,null,!0)):this.backoffId_=xhe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vhe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jhe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ehe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function She(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ahe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function The(t,e,n,r,a,l,c=!0,d=!1){const h=whe(t.urlParams),f=t.url+h,p=Object.assign({},t.headers);return She(p,e),jhe(p,n),Ehe(p,l),Ahe(p,r),new _he(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Che(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ihe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ty(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ihe(this._location.path)}get storage(){return this._service}get parent(){const e=Che(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new Ty(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ghe(e)}}function yR(t,e){const n=e==null?void 0:e[ohe];return n==null?null:ni.makeFromBucketSpec(n,t)}function Ohe(t,e,n,r={}){t.host=`${e}:${n}`;const a=wc(e);a&&(Wj(`https://${t.host}/b`),Xj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:A3(l,t.app.options.projectId))}class Dhe{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=PU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=che,this._maxUploadRetryTime=uhe,this._requests=new Set,a!=null?this._bucket=ni.makeFromBucketSpec(a,this._host):this._bucket=yR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=yR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ty(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new yhe(kU());{const c=The(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const xR="@firebase/storage",vR="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="storage";function Rhe(t=D0(),e){t=En(t);const r=lo(t,MU).getImmediate({identifier:e}),a=j3("storage");return a&&Phe(r,...a),r}function Phe(t,e,n,r={}){Ohe(t,e,n,r)}function khe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Dhe(n,r,a,e,_c)}function Mhe(){ci(new Ma(MU,khe,"PUBLIC").setMultipleInstances(!0)),Kr(xR,vR,""),Kr(xR,vR,"esm2020")}Mhe();function LU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lhe=LU,UU=new Nc("auth","Firebase",LU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new O0("@firebase/auth");function Uhe(t,...e){Cy.logLevel<=ft.WARN&&Cy.warn(`Auth (${_c}): ${t}`,...e)}function mg(t,...e){Cy.logLevel<=ft.ERROR&&Cy.error(`Auth (${_c}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,...e){throw VE(t,...e)}function Hi(t,...e){return VE(t,...e)}function VU(t,e,n){const r={...Lhe(),[e]:n};return new Nc("auth","Firebase",r).create(e,{appName:t.name})}function rc(t){return VU(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function VE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UU.create(t,...e)}function Ze(t,e,...n){if(!t)throw VE(e,...n)}function Cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mg(e),new Error(e)}function Ys(t,e){t||Cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Vhe(){return bR()==="http:"||bR()==="https:"}function bR(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zhe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vhe()||T3()||"connection"in navigator)?navigator.onLine:!0}function Fhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=ese()||rse()}get(){return zhe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bhe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qhe=new Kf(3e4,6e4);function FE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function gd(t,e,n,r,a={}){return FU(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Vf({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...l};return nse()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&wc(t.emulatorConfig.host)&&(f.credentials="include"),zU.fetch()(await $U(t,t.config.apiHost,n,d),f)})}async function FU(t,e,n){t._canInitEmulator=!1;const r={...$he,...e};try{const a=new Ghe(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Xp(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xp(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Xp(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Xp(t,"user-disabled",c);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw VU(t,p,f);Ks(t,p)}}catch(a){if(a instanceof Ua)throw a;Ks(t,"network-request-failed",{message:String(a)})}}async function Hhe(t,e,n,r,a={}){const l=await gd(t,e,n,r,a);return"mfaPendingCredential"in l&&Ks(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function $U(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?zE(t.config,a):`${t.config.apiScheme}://${a}`;return Bhe.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Ghe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),qhe.get())})}}function Xp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Hi(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Khe(t,e){return gd(t,"POST","/v1/accounts:delete",e)}async function Iy(t,e){return gd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yhe(t,e=!1){const n=En(t),r=await n.getIdToken(e),a=$E(r);Ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Vh(i1(a.auth_time)),issuedAtTime:Vh(i1(a.iat)),expirationTime:Vh(i1(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function i1(t){return Number(t)*1e3}function $E(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mg("JWT malformed, contained fewer than 3 sections"),null;try{const a=N3(n);return a?JSON.parse(a):(mg("Failed to decode base64 JWT payload"),null)}catch(a){return mg("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function wR(t){const e=$E(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ua&&Whe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Whe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xhe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vh(this.lastLoginAt),this.creationTime=Vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oy(t){var g;const e=t.auth,n=await t.getIdToken(),r=await hf(t,Iy(e,{idToken:n}));Ze(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=(g=a.providerUserInfo)!=null&&g.length?BU(a.providerUserInfo):[],c=Jhe(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),f=d?h:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new VN(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function Qhe(t){const e=En(t);await Oy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jhe(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function BU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zhe(t,e){const n=await FU(t,{},async()=>{const r=Vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await $U(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return t.emulatorConfig&&wc(t.emulatorConfig.host)&&(h.credentials="include"),zU.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function efe(t,e){return gd(t,"POST","/v2/accounts:revokeToken",FE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const n=wR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await Zhe(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Ru;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Ze(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ze(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Xhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new VN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await hf(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Yhe(this,e)}reload(){return Qhe(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Oy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(rc(this.auth));const e=await this.getIdToken();return await hf(this,Khe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:N,providerData:_,stsTokenManager:j}=n;Ze(g&&j,e,"internal-error");const E=Ru.fromJSON(this.name,j);Ze(typeof g=="string",e,"internal-error"),Dl(r,e.name),Dl(a,e.name),Ze(typeof v=="boolean",e,"internal-error"),Ze(typeof N=="boolean",e,"internal-error"),Dl(l,e.name),Dl(c,e.name),Dl(d,e.name),Dl(h,e.name),Dl(f,e.name),Dl(p,e.name);const I=new ri({uid:g,auth:e,email:a,emailVerified:v,displayName:r,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:E,createdAt:f,lastLoginAt:p});return _&&Array.isArray(_)&&(I.providerData=_.map(R=>({...R}))),h&&(I._redirectEventId=h),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ru;a.updateFromServerResponse(n);const l=new ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Oy(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?BU(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ru;d.updateFromIdToken(r);const h=new ri({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new VN(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Map;function Is(t){Ys(t instanceof Function,"Expected a class definition");let e=NR.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qU.type="NONE";const _R=qU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e,n){return`firebase:${t}:${e}:${n}`}class Pu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=pg(this.userKey,a.apiKey,l),this.fullPersistenceKey=pg("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Iy(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pu(Is(_R),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=a[0]||Is(_R);const c=pg(r,e.config.apiKey,e.name);let d=null;for(const f of n)try{const p=await f._get(c);if(p){let g;if(typeof p=="string"){const v=await Iy(e,{idToken:p}).catch(()=>{});if(!v)break;g=await ri._fromGetAccountInfoResponse(e,v,p)}else g=ri._fromJSON(e,p);f!==l&&(d=g),l=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Pu(l,e,r):(l=h[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async f=>{if(f!==l)try{await f._remove(c)}catch{}})),new Pu(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XU(e))return"Blackberry";if(QU(e))return"Webos";if(GU(e))return"Safari";if((e.includes("chrome/")||KU(e))&&!e.includes("edge/"))return"Chrome";if(WU(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HU(t=Er()){return/firefox\//i.test(t)}function GU(t=Er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KU(t=Er()){return/crios\//i.test(t)}function YU(t=Er()){return/iemobile/i.test(t)}function WU(t=Er()){return/android/i.test(t)}function XU(t=Er()){return/blackberry/i.test(t)}function QU(t=Er()){return/webos/i.test(t)}function BE(t=Er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tfe(t=Er()){var e;return BE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function nfe(){return ase()&&document.documentMode===10}function JU(t=Er()){return BE(t)||WU(t)||QU(t)||XU(t)||/windows phone/i.test(t)||YU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e=[]){let n;switch(t){case"Browser":n=jR(Er());break;case"Worker":n=`${jR(Er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_c}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rfe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,d)=>{try{const h=e(l);c(h)}catch(h){d(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function afe(t,e={}){return gd(t,"GET","/v2/passwordPolicy",FE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ife=6;class sfe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ife,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lfe{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ER(this),this.idTokenSubscription=new ER(this),this.beforeStateQueue=new rfe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Pu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Iy(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!c||c===d)&&(h!=null&&h.user)&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fhe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(rc(this));const n=e?En(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(rc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(rc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await afe(this),n=new sfe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await efe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await Pu.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Uhe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function qE(t){return En(t)}class ER{constructor(e){this.auth=e,this.observer=null,this.addObserver=dse(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ofe(t){HE=t}function cfe(t){return HE.loadJS(t)}function ufe(){return HE.gapiScript}function dfe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hfe(t,e){const n=lo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Xl(l,e??{}))return a;Ks(a,"already-initialized")}return n.initialize({options:e})}function ffe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mfe(t,e,n){const r=qE(t);Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=e8(e),{host:c,port:d}=pfe(e),h=d===null?"":`:${d}`,f={url:`${l}//${c}${h}/`},p=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ze(Xl(f,r.config.emulator)&&Xl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,wc(c)?(Wj(`${l}//${c}${h}`),Xj("Auth",!0)):gfe()}function e8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pfe(t){const e=e8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:SR(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:SR(c)}}}function SR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cs("not implemented")}_getIdTokenResponse(e){return Cs("not implemented")}_linkToIdToken(e,n){return Cs("not implemented")}_getReauthenticationResolver(e){return Cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e){return Hhe(t,"POST","/v1/accounts:signInWithIdp",FE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yfe="http://localhost";class pc extends t8{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new pc(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ku(e,n)}buildRequest(){const e={requestUri:yfe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends n8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Yf{constructor(){super("facebook.com")}static credential(e){return pc._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ml.credential(e.oauthAccessToken)}catch{return null}}}Ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Yf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pc._fromParams({providerId:Ll.PROVIDER_ID,signInMethod:Ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ll.credentialFromTaggedObject(e)}static credentialFromError(e){return Ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ll.credential(n,r)}catch{return null}}}Ll.GOOGLE_SIGN_IN_METHOD="google.com";Ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Yf{constructor(){super("github.com")}static credential(e){return pc._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ul.credentialFromTaggedObject(e)}static credentialFromError(e){return Ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ul.credential(e.oauthAccessToken)}catch{return null}}}Ul.GITHUB_SIGN_IN_METHOD="github.com";Ul.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Yf{constructor(){super("twitter.com")}static credential(e,n){return pc._fromParams({providerId:Vl.PROVIDER_ID,signInMethod:Vl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vl.credentialFromTaggedObject(e)}static credentialFromError(e){return Vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vl.credential(n,r)}catch{return null}}}Vl.TWITTER_SIGN_IN_METHOD="twitter.com";Vl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await ri._fromIdTokenResponse(e,r,a),c=AR(r);return new Qu({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=AR(r);return new Qu({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function AR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Ua{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Dy.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Dy(e,n,r,a)}}function r8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Dy._fromErrorAndOperation(t,l,e,r):l})}async function xfe(t,e,n=!1){const r=await hf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vfe(t,e,n=!1){const{auth:r}=t;if(ti(r.app))return Promise.reject(rc(r));const a="reauthenticate";try{const l=await hf(t,r8(r,a,e,t),n);Ze(l.idToken,r,"internal-error");const c=$E(l.idToken);Ze(c,r,"internal-error");const{sub:d}=c;return Ze(t.uid===d,r,"user-mismatch"),Qu._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ks(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bfe(t,e,n=!1){if(ti(t.app))return Promise.reject(rc(t));const r="signIn",a=await r8(t,r,e),l=await Qu._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}function wfe(t,e,n,r){return En(t).onIdTokenChanged(e,n,r)}function Nfe(t,e,n){return En(t).beforeAuthStateChanged(e,n)}const Ry="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ry,"1"),this.storage.removeItem(Ry),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _fe=1e3,jfe=10;class i8 extends a8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);nfe()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,jfe):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_fe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}i8.type="LOCAL";const Efe=i8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8 extends a8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}s8.type="SESSION";const l8=s8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sfe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new ex(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async f=>f(n.origin,l)),h=await Sfe(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ex.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Afe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,h)=>{const f=GE("",20);a.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(v.data.response);break;default:clearTimeout(p),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function Tfe(t){Gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function Cfe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ife(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Ofe(){return o8()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="firebaseLocalStorageDb",Dfe=1,Py="firebaseLocalStorage",u8="fbase_key";class Wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tx(t,e){return t.transaction([Py],e?"readwrite":"readonly").objectStore(Py)}function Rfe(){const t=indexedDB.deleteDatabase(c8);return new Wf(t).toPromise()}function zN(){const t=indexedDB.open(c8,Dfe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Py,{keyPath:u8})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Py)?e(r):(r.close(),await Rfe(),e(await zN()))})})}async function TR(t,e,n){const r=tx(t,!0).put({[u8]:e,value:n});return new Wf(r).toPromise()}async function Pfe(t,e){const n=tx(t,!1).get(e),r=await new Wf(n).toPromise();return r===void 0?null:r.value}function CR(t,e){const n=tx(t,!0).delete(e);return new Wf(n).toPromise()}const kfe=800,Mfe=3;class d8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mfe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o8()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ex._getInstance(Ofe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Cfe(),!this.activeServiceWorker)return;this.sender=new Afe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ife()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zN();return await TR(e,Ry,"1"),await CR(e,Ry),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Pfe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=tx(a,!1).getAll();return new Wf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kfe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d8.type="LOCAL";const Lfe=d8;new Kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ufe(t,e){return e?Is(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends t8{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vfe(t){return bfe(t.auth,new KE(t),t.bypassAuthState)}function zfe(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),vfe(n,new KE(t),t.bypassAuthState)}async function Ffe(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),xfe(n,new KE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vfe;case"linkViaPopup":case"linkViaRedirect":return Ffe;case"reauthViaPopup":case"reauthViaRedirect":return zfe;default:Ks(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $fe=new Kf(2e3,1e4);class Su extends h8{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Su.currentPopupAction&&Su.currentPopupAction.cancel(),Su.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=GE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Su.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$fe.get())};e()}}Su.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bfe="pendingRedirect",gg=new Map;class qfe extends h8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gg.get(this.auth._key());if(!e){try{const r=await Hfe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gg.set(this.auth._key(),e)}return this.bypassAuthState||gg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hfe(t,e){const n=Yfe(e),r=Kfe(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Gfe(t,e){gg.set(t._key(),e)}function Kfe(t){return Is(t._redirectPersistence)}function Yfe(t){return pg(Bfe,t.config.apiKey,t.name)}async function Wfe(t,e,n=!1){if(ti(t.app))return Promise.reject(rc(t));const r=qE(t),a=Ufe(r,e),c=await new qfe(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xfe=600*1e3;class Qfe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jfe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!f8(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xfe&&this.cachedEventUids.clear(),this.cachedEventUids.has(IR(e))}saveEventToCache(e){this.cachedEventUids.add(IR(e)),this.lastProcessedEventTime=Date.now()}}function IR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function f8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return f8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zfe(t,e={}){return gd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tme=/^https?/;async function nme(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zfe(t);for(const n of e)try{if(rme(n))return}catch{}Ks(t,"unauthorized-domain")}function rme(t){const e=UN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!tme.test(n))return!1;if(eme.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ame=new Kf(3e4,6e4);function OR(){const t=Gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ime(t){return new Promise((e,n)=>{var a,l,c;function r(){OR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OR(),n(Hi(t,"network-request-failed"))},timeout:ame.get()})}if((l=(a=Gi().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Gi().gapi)!=null&&c.load)r();else{const d=dfe("iframefcb");return Gi()[d]=()=>{gapi.load?r():n(Hi(t,"network-request-failed"))},cfe(`${ufe()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw yg=null,e})}let yg=null;function sme(t){return yg=yg||ime(t),yg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lme=new Kf(5e3,15e3),ome="__/auth/iframe",cme="emulator/auth/iframe",ume={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dme=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hme(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zE(e,cme):`https://${t.config.authDomain}/${ome}`,r={apiKey:e.apiKey,appName:t.name,v:_c},a=dme.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Vf(r).slice(1)}`}async function fme(t){const e=await sme(t),n=Gi().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:hme(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ume,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Hi(t,"network-request-failed"),d=Gi().setTimeout(()=>{l(c)},lme.get());function h(){Gi().clearTimeout(d),a(r)}r.ping(h).then(h,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mme={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pme=500,gme=600,yme="_blank",xme="http://localhost";class DR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vme(t,e,n,r=pme,a=gme){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...mme,width:r.toString(),height:a.toString(),top:l,left:c},f=Er().toLowerCase();n&&(d=KU(f)?yme:n),HU(f)&&(e=e||xme,h.scrollbars="yes");const p=Object.entries(h).reduce((v,[N,_])=>`${v}${N}=${_},`,"");if(tfe(f)&&d!=="_self")return bme(e||"",d),new DR(null);const g=window.open(e||"",d,p);Ze(g,t,"popup-blocked");try{g.focus()}catch{}return new DR(g)}function bme(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wme="__/auth/handler",Nme="emulator/auth/handler",_me=encodeURIComponent("fac");async function RR(t,e,n,r,a,l){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_c,eventId:a};if(e instanceof n8){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",use(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))c[p]=g}if(e instanceof Yf){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(c.scopes=p.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const h=await t._getAppCheckToken(),f=h?`#${_me}=${encodeURIComponent(h)}`:"";return`${jme(t)}?${Vf(d).slice(1)}${f}`}function jme({config:t}){return t.emulator?zE(t,Nme):`https://${t.authDomain}/${wme}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="webStorageSupport";class Eme{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l8,this._completeRedirectFn=Wfe,this._overrideRedirectResult=Gfe}async _openPopup(e,n,r,a){var c;Ys((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await RR(e,n,r,UN(),a);return vme(e,l,GE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await RR(e,n,r,UN(),a);return Tfe(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ys(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fme(e),r=new Qfe(e);return n.register("authEvent",a=>(Ze(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(s1,{type:s1},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[s1];l!==void 0&&n(!!l),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nme(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JU()||GU()||BE()}}const Sme=Eme;var PR="@firebase/auth",kR="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ame{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tme(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cme(t){ci(new Ma("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Ze(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZU(t)},f=new lfe(r,a,l,h);return ffe(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ci(new Ma("auth-internal",e=>{const n=qE(e.getProvider("auth").getImmediate());return(r=>new Ame(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(PR,kR,Tme(t)),Kr(PR,kR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ime=300,Ome=S3("authIdTokenMaxAge")||Ime;let MR=null;const Dme=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ome)return;const a=n==null?void 0:n.token;MR!==a&&(MR=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Rme(t=D0()){const e=lo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hfe(t,{popupRedirectResolver:Sme,persistence:[Lfe,Efe,l8]}),r=S3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=Dme(l.toString());Nfe(n,c,()=>c(n.currentUser)),wfe(n,d=>c(d))}}const a=_3("auth");return a&&mfe(n,`http://${a}`),n}function Pme(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}ofe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Hi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",Pme().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cme("Browser");const kme={apiKey:"AIzaSyBqcfkwEvapmZNqPyR6b6bvIZ8MqhxfpcY",authDomain:"botany-db.firebaseapp.com",projectId:"botany-db",storageBucket:"botany-db.firebasestorage.app",messagingSenderId:"479719860860",appId:"1:479719860860:web:7e7276143b1ebe0ec6b7f9",measurementId:"G-R5JLK6WW00"},nx=P3(kme);Boe(nx);const pe=Yde(nx);Rhe(nx);Rme(nx);const Mme="https://script.google.com/macros/s/AKfycbwuWlnf0aFiBQKNWOsBuNEx_voz3XB3kwAzxL13ZhL6bfsotewcxKKMmkD58e5hDVZ1zA/exec",di=async t=>{if(t.size>50*1024*1024)throw new Error("   .    50 .");return new Promise((e,n)=>{const r=new FileReader;r.onload=async()=>{try{const l=r.result.split(",")[1];if(!l){n(new Error("   ."));return}const c={base64:l,type:t.type,name:t.name},d=await fetch(Mme,{method:"POST",body:JSON.stringify(c)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const h=await d.json();h.status==="success"&&h.url?e(h.url):n(new Error(h.message||" :     ."))}catch(a){console.error("Google Drive Upload Error:",a),n(new Error("   Google Drive."))}},r.onerror=()=>n(new Error("     .")),r.readAsDataURL(t)})},Ae=async(t,e,n="")=>{try{await Pt(Oe(pe,"activity_logs"),{action:t,performedBy:e,details:n,timestamp:new Date().toISOString(),createdAt:Date.now()})}catch(r){console.error("Error logging activity:",r)}},Lme=async()=>{try{const t=un(Oe(pe,"activity_logs"),rhe(100));let n=(await We(t)).docs.map(r=>({id:r.id,...r.data()}));return n.sort((r,a)=>(a.createdAt||0)-(r.createdAt||0)),n}catch(t){return console.error("Error fetching logs:",t),[]}},Ume=async t=>{await Wt(ze(pe,"activity_logs",t))},Vme=async(t,e)=>{try{const n=un(Oe(pe,"staff"),cn("username","==",t),cn("password","==",e)),r=await We(n);if(!r.empty){const v=r.docs[0].data();let N=we.STAFF;return t.toLowerCase()==="admin"&&(N=we.ADMIN),await Ae(" ",v.name,`  ${N}`),{id:r.docs[0].id,name:v.name,role:N,details:v.rank}}const a=un(Oe(pe,"employees"),cn("username","==",t),cn("password","==",e)),l=await We(a);if(!l.empty){const v=l.docs[0].data();return await Ae(" ",v.name,`: ${v.jobTitle}`),{id:l.docs[0].id,name:v.name,role:we.EMPLOYEE,details:v.jobTitle}}const c=un(Oe(pe,"pg_students"),cn("username","==",t),cn("password","==",e)),d=await We(c);if(!d.empty){const v=d.docs[0].data();return await Ae(" ",v.name,"  "),{id:d.docs[0].id,name:v.name,role:we.STUDENT_PG,details:" "}}const h=un(Oe(pe,"ug_students"),cn("username","==",t),cn("password","==",e)),f=await We(h);if(!f.empty){const v=f.docs[0].data();return await Ae(" ",v.name," "),{id:f.docs[0].id,name:v.name,role:we.STUDENT_UG,details:" "}}const p=un(Oe(pe,"alumni"),cn("username","==",t),cn("password","==",e)),g=await We(p);if(!g.empty){const v=g.docs[0].data();return await Ae(" ",v.name,""),{id:g.docs[0].id,name:v.name,role:we.ALUMNI,details:""}}return null}catch(n){return console.error("Login error:",n),null}},fo=async t=>{try{const e=Oe(pe,"archive");let n;return t?n=un(e,cn("type","==",t)):n=un(e),(await We(n)).docs.map(l=>({id:l.id,...l.data()})).sort((l,c)=>c.createdAt-l.createdAt)}catch(e){return console.warn("Error fetching docs:",e),[]}},rx=async t=>{const e={...t,createdAt:Date.now(),isFollowedUp:!1},n=await Pt(Oe(pe,"archive"),e);return{...e,id:n.id}},ff=async(t,e)=>{await Ct(ze(pe,"archive",t),e)},Xf=async t=>{await Wt(ze(pe,"archive",t))},YE=async t=>{const e=await fo(t),n=new Date().getFullYear(),r=e.length+1;return`${n}/${r.toString().padStart(4,"0")}`},zme=async()=>{const t=await We(Oe(pe,"archive")),e=await We(Oe(pe,"staff")),n=await We(Oe(pe,"pg_students")),r=await We(Oe(pe,"alumni")),a=await We(Oe(pe,"employees")),l=t.docs.map(d=>d.data()),c=new Date().toISOString().split("T")[0];return{totalIncoming:l.filter(d=>d.type===rt.INCOMING).length,totalOutgoing:l.filter(d=>d.type===rt.OUTGOING).length,totalCouncils:l.filter(d=>d.type===rt.DEPARTMENT_COUNCIL).length,totalCommittees:l.filter(d=>d.type===rt.COMMITTEE_MEETING).length,todayCount:l.filter(d=>d.date===c).length,unansweredCount:l.filter(d=>d.type===rt.INCOMING&&d.actionRequired&&!d.isFollowedUp).length,totalStaff:e.size,totalStudentsPG:n.size,totalAlumni:r.size,totalEmployees:a.size}},Qf=async()=>(await We(Oe(pe,"staff"))).docs.map(e=>({id:e.id,...e.data()})),m8=async t=>{await Pt(Oe(pe,"staff"),t)},FN=async(t,e)=>{await Ct(ze(pe,"staff",t),e)},p8=async t=>{await Wt(ze(pe,"staff",t))},g8=async()=>(await We(Oe(pe,"employees"))).docs.map(e=>({id:e.id,...e.data()})),Fme=async t=>{await Pt(Oe(pe,"employees"),t)},$me=async(t,e)=>{await Ct(ze(pe,"employees",t),e)},Bme=async t=>{await Wt(ze(pe,"employees",t))},qme=t=>{if(!t)return{reportOverdue:!1,extensionNeeded:!1};const e=new Date().toISOString().split("T")[0];let n=!1,r=!1;return t.nextReportDue&&t.nextReportDue<e&&(n=!0),t.expectedDefense&&t.expectedDefense<e&&(r=!0),{reportOverdue:n,extensionNeeded:r}},y8=async()=>(await We(Oe(pe,"pg_students"))).docs.map(e=>{const n=e.data();return{...n,id:e.id,alerts:qme(n.dates)}}),Hme=async t=>{await Pt(Oe(pe,"pg_students"),t)},$N=async(t,e)=>{await Ct(ze(pe,"pg_students",t),e)},Gme=async t=>{await Wt(ze(pe,"pg_students",t))},Kme=async()=>(await We(Oe(pe,"ug_students"))).docs.map(e=>({id:e.id,...e.data()})),Yme=async t=>{await Pt(Oe(pe,"ug_students"),t)},Wme=async(t,e)=>{await Ct(ze(pe,"ug_students",t),e)},Xme=async t=>{await Wt(ze(pe,"ug_students",t))},Qme=async()=>(await We(Oe(pe,"alumni"))).docs.map(e=>({id:e.id,...e.data()})),x8=async t=>{await Pt(Oe(pe,"alumni"),t)},Jme=async(t,e)=>{await Ct(ze(pe,"alumni",t),e)},Zme=async t=>{await Wt(ze(pe,"alumni",t))},epe=async()=>(await We(Oe(pe,"jobs"))).docs.map(e=>({id:e.id,...e.data()})),tpe=async t=>{await Pt(Oe(pe,"jobs"),{...t,status:t.status||"OPEN"})},npe=async(t,e)=>{await Ct(ze(pe,"jobs",t),e)},rpe=async t=>{await Wt(ze(pe,"jobs",t))},ape=async()=>(await We(Oe(pe,"assets"))).docs.map(e=>({id:e.id,...e.data()})),ipe=async t=>{await Pt(Oe(pe,"assets"),{...t,createdAt:Date.now()})},spe=async(t,e)=>{await Ct(ze(pe,"assets",t),e)},lpe=async t=>{await Wt(ze(pe,"assets",t))},ope=async()=>(await We(Oe(pe,"labs"))).docs.map(e=>({id:e.id,...e.data()})),cpe=async t=>{await Pt(Oe(pe,"labs"),t)},upe=async(t,e)=>{await Ct(ze(pe,"labs",t),e)},dpe=async t=>{await Wt(ze(pe,"labs",t))},hpe=async()=>(await We(Oe(pe,"lab_classes"))).docs.map(e=>({id:e.id,...e.data()})),fpe=async t=>{await Pt(Oe(pe,"lab_classes"),t)},mpe=async(t,e)=>{await Ct(ze(pe,"lab_classes",t),e)},ppe=async t=>{await Wt(ze(pe,"lab_classes",t))},gpe=async()=>(await We(Oe(pe,"lab_bookings"))).docs.map(e=>({id:e.id,...e.data()})),ype=async t=>{await Pt(Oe(pe,"lab_bookings"),{...t,status:t.status||"CONFIRMED",createdAt:Date.now()})},xpe=async(t,e)=>{await Ct(ze(pe,"lab_bookings",t),e)},vpe=async t=>{await Wt(ze(pe,"lab_bookings",t))},bpe=async()=>{const e=(await We(Oe(pe,"greenhouse_plots"))).docs.map(n=>({id:n.id,...n.data()}));if(e.length===0){const n=UE(pe),r=[];for(let a=1;a<=12;a++){const l=ze(Oe(pe,"greenhouse_plots")),c={number:a,status:"FREE"};n.set(l,c),r.push({id:l.id,...c})}return await n.commit(),r}return e},LR=async(t,e)=>{await Ct(ze(pe,"greenhouse_plots",t),e)},wpe=async()=>(await We(Oe(pe,"greenhouse_history"))).docs.map(e=>({id:e.id,...e.data()})),Npe=async t=>{await Pt(Oe(pe,"greenhouse_history"),t)},_pe=async t=>{await Wt(ze(pe,"greenhouse_history",t))},jpe=async()=>(await We(Oe(pe,"materials"))).docs.map(e=>({id:e.id,...e.data()})),Epe=async t=>{await Pt(Oe(pe,"materials"),t)},Spe=async t=>{await Wt(ze(pe,"materials",t))},Ape=async()=>(await We(Oe(pe,"announcements"))).docs.map(e=>({id:e.id,...e.data()})),Tpe=async t=>{await Pt(Oe(pe,"announcements"),t)},Cpe=async t=>{await Wt(ze(pe,"announcements",t))},Ipe=async()=>(await We(Oe(pe,"schedules"))).docs.map(e=>({id:e.id,...e.data()})),Ope=async t=>{await Pt(Oe(pe,"schedules"),t)},Dpe=async t=>{await Wt(ze(pe,"schedules",t))},Rpe=async()=>(await We(Oe(pe,"events"))).docs.map(e=>({id:e.id,...e.data()})),Ppe=async t=>{await Pt(Oe(pe,"events"),{...t,createdAt:Date.now()})},kpe=async(t,e)=>{await Ct(ze(pe,"events",t),e)},Mpe=async t=>{await Wt(ze(pe,"events",t))},Lpe=async()=>(await We(Oe(pe,"dept_councils"))).docs.map(e=>({id:e.id,...e.data()})),Upe=async t=>{await Pt(Oe(pe,"dept_councils"),t)},Vpe=async(t,e)=>{await Ct(ze(pe,"dept_councils",t),e)},zpe=async t=>{await Wt(ze(pe,"dept_councils",t))},Fpe=async()=>(await We(Oe(pe,"dept_committees"))).docs.map(e=>({id:e.id,...e.data()})),$pe=async t=>{await Pt(Oe(pe,"dept_committees"),t)},Bpe=async(t,e)=>{await Ct(ze(pe,"dept_committees",t),e)},qpe=async t=>{await Wt(ze(pe,"dept_committees",t))},Hpe=async(t,e)=>{const n=un(Oe(pe,"annual_reports"),cn("userId","==",t),cn("academicYear","==",e)),r=await We(n);return r.empty?null:{id:r.docs[0].id,...r.docs[0].data()}},Gpe=async(t,e)=>{e?await Ct(ze(pe,"annual_reports",e),{...t}):await Pt(Oe(pe,"annual_reports"),t)},Kpe=async t=>{const e=un(Oe(pe,"annual_reports"),cn("academicYear","==",t));return(await We(e)).docs.map(r=>({id:r.id,...r.data()}))},WE=async()=>{const t=un(Oe(pe,"research_plans"),cn("status","==","ACTIVE")),e=await We(t);return e.empty?(await _ge(),WE()):{id:e.docs[0].id,...e.docs[0].data()}},Ype=async()=>{const t=un(Oe(pe,"research_plans"),ho("startDate","desc"));return(await We(t)).docs.map(n=>({id:n.id,...n.data()}))},Wpe=async t=>{if(t.status==="ACTIVE"){const e=await WE();e&&await Qpe(e.id)}await Pt(Oe(pe,"research_plans"),t)},$o=async(t,e)=>{await Ct(ze(pe,"research_plans",t),e)},Xpe=async t=>{await Wt(ze(pe,"research_plans",t))},Qpe=async t=>{await Ct(ze(pe,"research_plans",t),{status:"ARCHIVED"})},Jpe=async()=>{const t=un(Oe(pe,"research_proposals"),ho("createdAt","desc"));return(await We(t)).docs.map(n=>({id:n.id,...n.data()}))},Zpe=async t=>{const e=JSON.parse(JSON.stringify(t));await Pt(Oe(pe,"research_proposals"),{...e,createdAt:Date.now()})},ege=async(t,e,n)=>{await Ct(ze(pe,"research_proposals",t),{status:e,adminNotes:n})},tge=async t=>{await Pt(Oe(pe,"leave_requests"),{...t,createdAt:Date.now(),status:t.substituteId?"PENDING_SUBSTITUTE":"PENDING_HEAD"})},nge=async t=>{const e=un(Oe(pe,"leave_requests"),cn("userId","==",t),ho("createdAt","desc"));return(await We(e)).docs.map(r=>({id:r.id,...r.data()}))},rge=async t=>{const e=un(Oe(pe,"leave_requests"),cn("substituteId","==",t),cn("status","==","PENDING_SUBSTITUTE"));return(await We(e)).docs.map(r=>({id:r.id,...r.data()}))},age=async(t,e,n)=>{const r={substituteStatus:e?"ACCEPTED":"DECLINED",status:e?"PENDING_HEAD":"REJECTED",substituteRejectionReason:n||""};await Ct(ze(pe,"leave_requests",t),r)},ige=async()=>{const t=un(Oe(pe,"leave_requests"),ho("createdAt","desc"));return(await We(t)).docs.map(n=>({id:n.id,...n.data()}))},l1=async t=>{await Pt(Oe(pe,"career_requests"),{...t,createdAt:Date.now(),status:"PENDING_DEPT"})},sge=async t=>{const e=un(Oe(pe,"career_requests"));return(await We(e)).docs.map(a=>({id:a.id,...a.data()})).filter(a=>a.userId===t).sort((a,l)=>l.createdAt-a.createdAt)},lge=async()=>{const t=un(Oe(pe,"career_requests"),ho("createdAt","desc"));return(await We(t)).docs.map(n=>({id:n.id,...n.data()}))},oge=async(t,e)=>{await Ct(ze(pe,"career_requests",t),{status:e})},cge=async t=>{const e=un(Oe(pe,"career_requests"),cn("userId","==",t),cn("type","==","LOAN"),cn("status","==","APPROVED")),n=await We(e);let r=0;return n.forEach(a=>{const l=a.data(),c=new Date(l.startDate).getFullYear(),d=new Date(l.endDate).getFullYear();r+=d-c+1}),r},uge=async()=>{const t=un(Oe(pe,"repository_items"),ho("createdAt","desc"));return(await We(t)).docs.map(n=>({id:n.id,...n.data()}))},dge=async t=>{await Pt(Oe(pe,"repository_items"),{...t,createdAt:Date.now()})},hge=async t=>{await Pt(Oe(pe,"repository_requests"),{...t,status:"PENDING",createdAt:Date.now()})},fge=async t=>{const e=un(Oe(pe,"repository_requests"),cn("itemAuthorId","==",t),cn("status","==","PENDING"));return(await We(e)).docs.map(r=>({id:r.id,...r.data()}))},mge=async(t,e)=>{await Ct(ze(pe,"repository_requests",t),{status:e,responseDate:new Date().toISOString()})},pge=async()=>{const e=(await We(Oe(pe,"repository_items"))).docs.map(n=>n.data());return{totalItems:e.length,theses:e.filter(n=>n.type.includes("THESIS")).length,papers:e.filter(n=>n.type.includes("PAPER")).length,books:e.filter(n=>n.type==="BOOK").length}},gge=async()=>{const t=un(Oe(pe,"dept_forms"),ho("updatedAt","desc"));return(await We(t)).docs.map(n=>({id:n.id,...n.data()}))},yge=async t=>{await Pt(Oe(pe,"dept_forms"),t)},xge=async t=>{await Wt(ze(pe,"dept_forms",t))},UR=async()=>{const t=un(Oe(pe,"courses"),ho("code","asc"));return(await We(t)).docs.map(n=>({id:n.id,...n.data()}))},vge=async t=>{await Pt(Oe(pe,"courses"),{...t,createdAt:Date.now()})},bge=async(t,e)=>{await Ct(ze(pe,"courses",t),e)},wge=async t=>{await Wt(ze(pe,"courses",t))},Nge=async()=>{if(!(await We(Oe(pe,"courses"))).empty)return;console.log("Seeding Courses...");const e=UE(pe);[{code:"BOT101",nameAr:"  ( )",nameEn:"General Botany",level:"Level 1",semester:"First",division:"General",creditHours:3,lectureHours:2,labHours:1,coordinator:"./  ",type:"Compulsory"},{code:"PP301",nameAr:"  ",nameEn:"Fungal Plant Pathology",level:"Level 3",semester:"First",division:"Plant Pathology",creditHours:3,lectureHours:2,labHours:1,prerequisiteName:"BOT101",coordinator:".  ",type:"Compulsory",description:"     ."},{code:"PP605",nameAr:" ",nameEn:"Physiology of Parasitism",level:"MSc",creditHours:3,coordinator:"./  ",type:"Compulsory",description:"      ."}].forEach(r=>{const a=ze(Oe(pe,"courses"));e.set(a,{...r,createdAt:Date.now()})}),await e.commit()},_ge=async()=>{if(!(await We(Oe(pe,"research_plans"))).empty)return;console.log("Seeding Research Plan...");const e={title:"     2025-2030",vision:"            .",strategicGoals:["  2030"," "," "],startDate:"2025-01-01",endDate:"2030-12-31",status:"ACTIVE",axes:[{id:"axis1",title:"   ",description:"      .",coordinator:"./  ",topics:[{id:"t1",title:"        ",goal:" ",status:"IN_PROGRESS",studentName:" "},{id:"t2",title:"    ",goal:" ",status:"AVAILABLE"}]},{id:"axis2",title:"    ",description:"      .",coordinator:"./  ",topics:[{id:"t3",title:"    ",goal:" ",status:"COMPLETED",completionDate:"2023-05-20"},{id:"t4",title:"   ",goal:" ",status:"AVAILABLE"}]}]};await Pt(Oe(pe,"research_plans"),e)},jge=async()=>{if(!(await We(Oe(pe,"staff"))).empty)return;console.log("Seeding initial data...");const e=UE(pe),n=ze(Oe(pe,"staff"));e.set(n,{name:"Admin User",rank:" ",specialization:"IT",email:"admin@botany.com",phone:"01000000000",whatsapp:"01000000000",address:" ",username:"admin",password:"admin",subRole:"FACULTY"}),await e.commit(),console.log("Seeded admin user: admin/admin")},Ege=()=>{const[t,e]=w.useState(null),[n,r]=w.useState([]),[a,l]=w.useState(!0),c=async()=>{l(!0);const h=await zme(),f=await fo();e(h),r(f.slice(0,5)),l(!1)};if(w.useEffect(()=>{c()},[]),a||!t)return s.jsx("div",{className:"flex items-center justify-center h-full text-green-600",children:s.jsx(p1,{className:"w-8 h-8 animate-spin"})});const d=[{name:"",count:t.totalIncoming},{name:"",count:t.totalOutgoing},{name:"",count:t.totalCouncils},{name:"",count:t.totalCommittees}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"  "}),s.jsxs("button",{onClick:c,className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(p1,{className:"w-4 h-4"})," "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ia,{title:" ",value:t.totalIncoming,icon:uP,color:"blue"}),s.jsx(Ia,{title:" ",value:t.totalOutgoing,icon:dP,color:"green"}),s.jsx(Ia,{title:" ",value:t.totalCouncils,icon:ii,color:"purple"}),s.jsx(Ia,{title:" ",value:t.totalCommittees,icon:cP,color:"amber"})]}),s.jsx("h3",{className:"font-bold text-gray-700 mt-4",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ia,{title:"  ",value:t.totalStaff,icon:ii,color:"green"}),s.jsx(Ia,{title:" ",value:t.totalEmployees,icon:lP,color:"amber"}),s.jsx(Ia,{title:"  ",value:t.totalStudentsPG,icon:Ds,color:"blue"}),s.jsx(Ia,{title:" ",value:t.totalAlumni,icon:Ms,color:"purple"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:"  "}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b text-gray-500",children:[s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[n.map(h=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs ${h.type===rt.INCOMING?"bg-blue-100 text-blue-700":h.type===rt.OUTGOING?"bg-green-100 text-green-700":h.type===rt.DEPARTMENT_COUNCIL?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:h.type===rt.INCOMING?"":h.type===rt.OUTGOING?"":h.type===rt.DEPARTMENT_COUNCIL?"":""}),h.type===rt.INCOMING&&h.actionRequired&&(h.isFollowedUp?s.jsx(qr,{className:"w-4 h-4 text-green-500",title:" "}):s.jsx(Ki,{className:"w-4 h-4 text-amber-500",title:" "}))]})}),s.jsx("td",{className:"py-3 font-medium text-gray-700",children:h.serialNumber}),s.jsx("td",{className:"py-3 text-gray-600 truncate max-w-[150px]",children:h.subject}),s.jsx("td",{className:"py-3 text-gray-500",children:h.date})]},h.id)),n.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"py-4 text-center text-gray-400",children:"   "})})]})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 min-h-[300px]",children:[s.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:" "}),s.jsx(Bk,{width:"100%",height:250,children:s.jsxs(Die,{data:d,children:[s.jsx(n3,{strokeDasharray:"3 3",vertical:!1}),s.jsx(a3,{dataKey:"name",tick:{fontFamily:"Cairo"}}),s.jsx(i3,{allowDecimals:!1}),s.jsx(v6,{contentStyle:{fontFamily:"Cairo",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},cursor:{fill:"#f3f4f6"}}),s.jsx(W6,{dataKey:"count",fill:"#15803d",barSize:50,radius:[4,4,0,0]})]})})]})]})]})},Sge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),[N,_]=w.useState(null);w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const T=await fo(rt.OUTGOING);c(T),n(!1)},E=async()=>{const T=await YE(rt.OUTGOING);v({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],recipient:"",subject:"",notes:""}),_(null),p(null),h(!0)},I=T=>{v({serialNumber:T.serialNumber,date:T.date,recipient:T.recipient||"",subject:T.subject,notes:T.notes||""}),p(T.id),_(null),h(!0)},R=async T=>{if(window.confirm("      "))try{await Xf(T.id),await Ae(" ",t.name,`   : ${T.serialNumber}`),j()}catch(C){console.error(C),alert(" ")}},M=async T=>{T.preventDefault(),a(!0);try{let C="";if(N)try{C=await di(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(f){const L={date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes};C&&(L.fileUrl=C),await ff(f,L),await Ae(" ",t.name,`   : ${g.serialNumber}`),alert("   ")}else await rx({type:rt.OUTGOING,serialNumber:g.serialNumber,date:g.date,recipient:g.recipient,subject:g.subject,notes:g.notes,fileUrl:C||""}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");h(!1),j()}catch(C){console.error(C),alert(" : "+C.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&s.jsxs("button",{onClick:E,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-green-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-green-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:T=>v({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none bg-gray-50",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>v({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,placeholder:":  ./  ",value:g.recipient,onChange:T=>v({...g,recipient:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:"  ...",value:g.subject,onChange:T=>v({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:2,value:g.notes,onChange:T=>v({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>_(T.target.files?T.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Qe,{className:"w-8 h-8 text-green-600 animate-spin"}):s.jsx(Hn,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-green-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Qe,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),s.jsx("td",{className:"p-4",children:T.date}),s.jsx("td",{className:"p-4",children:T.recipient}),s.jsx("td",{className:"p-4 max-w-xs truncate",title:T.subject,children:T.subject}),s.jsx("td",{className:"p-4",children:T.fileUrl?s.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:text-green-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:"  "})}),s.jsxs("td",{className:"p-4 flex items-center gap-2",children:[s.jsx("button",{onClick:()=>I(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},T.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Age=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),[N,_]=w.useState(null),j=["./  ",".  ",".  "," "," "];w.useEffect(()=>{E()},[]);const E=async()=>{n(!0);const L=await fo(rt.INCOMING);c(L),n(!1)},I=async()=>{const L=await YE(rt.INCOMING);v({...g,serialNumber:L,date:new Date().toISOString().split("T")[0],sender:"",senderRefNumber:"",subject:"",actionRequired:"",assignedTo:"",notes:""}),_(null),p(null),h(!0)},R=L=>{v({serialNumber:L.serialNumber,date:L.date,sender:L.sender||"",senderRefNumber:L.senderRefNumber||"",subject:L.subject,actionRequired:L.actionRequired||"",assignedTo:L.assignedTo||"",notes:L.notes||""}),p(L.id),_(null),h(!0)},M=async L=>{if(window.confirm("       "))try{await Xf(L.id),await Ae(" ",t.name,`    : ${L.serialNumber}`),E()}catch(P){console.error(P),alert(" ")}},T=async L=>{L.preventDefault(),a(!0);try{let P="";if(N)try{P=await di(N)}catch(V){throw console.error("Upload failed:",V),new Error("  .    Google Drive Script.")}if(f){const V={date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes};P&&(V.fileUrl=P),await ff(f,V),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await rx({type:rt.INCOMING,serialNumber:g.serialNumber,date:g.date,sender:g.sender,senderRefNumber:g.senderRefNumber,subject:g.subject,actionRequired:g.actionRequired,assignedTo:g.assignedTo,notes:g.notes,fileUrl:P||"",isFollowedUp:!1}),await Ae(" ",t.name,`    : ${g.serialNumber}`),alert("   ");h(!1),E()}catch(P){console.error(P),alert("   : "+P.message)}finally{a(!1)}},C=async L=>{if(!L.actionRequired)return;const P=!L.isFollowedUp;c(V=>V.map(F=>F.id===L.id?{...F,isFollowedUp:P}:F));try{await ff(L.id,{isFollowedUp:P}),await Ae(" ",t.name,`     ${L.serialNumber}  ${P?"":" "}`)}catch{c(F=>F.map(A=>A.id===L.id?{...A,isFollowedUp:!P}:A)),alert("  ")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),!d&&s.jsxs("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-blue-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-blue-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,value:g.serialNumber,onChange:L=>v({...g,serialNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-gray-50",readOnly:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:L=>v({...g,date:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsx("div",{}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":   ",value:g.sender,onChange:L=>v({...g,sender:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:"   ",value:g.senderRefNumber,onChange:L=>v({...g,senderRefNumber:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,value:g.subject,onChange:L=>v({...g,subject:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":   ",value:g.actionRequired,onChange:L=>v({...g,actionRequired:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Assign To)"}),s.jsxs("select",{value:g.assignedTo,onChange:L=>v({...g,assignedTo:L.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[s.jsx("option",{value:"",children:"--     --"}),j.map((L,P)=>s.jsx("option",{value:L,children:L},P))]})]})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUploadIn",className:"hidden",disabled:r,onChange:L=>_(L.target.files?L.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUploadIn",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Qe,{className:"w-8 h-8 text-blue-600 animate-spin"}):s.jsx(Hn,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-blue-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Qe,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(L=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4",children:L.actionRequired?s.jsx("button",{onClick:()=>C(L),className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold border transition-colors ${L.isFollowedUp?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-100"}`,title:L.isFollowedUp?"  ":"  ",children:L.isFollowedUp?s.jsxs(s.Fragment,{children:[s.jsx(qr,{className:"w-3 h-3"}),s.jsx("span",{children:""})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ki,{className:"w-3 h-3"}),s.jsx("span",{children:""})]})}):s.jsx("span",{className:"text-gray-300 text-xs",children:"-"})}),s.jsx("td",{className:"p-4 font-bold text-gray-700",children:L.serialNumber}),s.jsx("td",{className:"p-4",children:L.date}),s.jsx("td",{className:"p-4",children:L.sender}),s.jsx("td",{className:"p-4 max-w-xs truncate",title:L.subject,children:L.subject}),s.jsx("td",{className:"p-4",children:L.assignedTo?s.jsx("span",{className:"bg-purple-50 text-purple-700 px-2 py-1 rounded-md text-xs border border-purple-100",children:L.assignedTo}):"-"}),s.jsx("td",{className:"p-4",children:L.fileUrl?s.jsxs("a",{href:L.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>R(L),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(L),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},L.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Tge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],subject:"",notes:""}),[N,_]=w.useState(null);w.useEffect(()=>{j()},[]);const j=async()=>{n(!0);const T=await fo(rt.DEPARTMENT_COUNCIL);c(T),n(!1)},E=async()=>{const T=await YE(rt.DEPARTMENT_COUNCIL);v({...g,serialNumber:T,date:new Date().toISOString().split("T")[0],subject:"",notes:""}),_(null),p(null),h(!0)},I=T=>{v({serialNumber:T.serialNumber,date:T.date,subject:T.subject,notes:T.notes||""}),p(T.id),_(null),h(!0)},R=async T=>{if(window.confirm("      "))try{await Xf(T.id),await Ae("  ",t.name,`    : ${T.serialNumber}`),j()}catch(C){console.error(C),alert(" ")}},M=async T=>{T.preventDefault(),a(!0);try{let C="";if(N)try{C=await di(N)}catch(L){throw console.error("Upload failed:",L),new Error("  .    Google Drive Script.")}if(f){const L={date:g.date,subject:g.subject,notes:g.notes};C&&(L.fileUrl=C),await ff(f,L),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ")}else await rx({type:rt.DEPARTMENT_COUNCIL,serialNumber:g.serialNumber,date:g.date,subject:g.subject,notes:g.notes,fileUrl:C||""}),await Ae("  ",t.name,`    : ${g.serialNumber}`),alert("   ");h(!1),j()}catch(C){console.error(C),alert("   : "+C.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),!d&&s.jsxs("button",{onClick:E,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-purple-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-purple-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:": 5/2024",value:g.serialNumber,onChange:T=>v({...g,serialNumber:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:T=>v({...g,date:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,placeholder:"    ",value:g.subject,onChange:T=>v({...g,subject:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("textarea",{rows:4,value:g.notes,onChange:T=>v({...g,notes:T.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-purple-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:T=>_(T.target.files?T.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Qe,{className:"w-8 h-8 text-purple-600 animate-spin"}):s.jsx(Hn,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-purple-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Qe,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-700",children:T.serialNumber}),s.jsx("td",{className:"p-4",children:T.date}),s.jsx("td",{className:"p-4 max-w-lg truncate",title:T.subject,children:T.subject}),s.jsx("td",{className:"p-4",children:T.fileUrl?s.jsxs("a",{href:T.fileUrl,target:"_blank",rel:"noreferrer",className:"text-purple-600 hover:text-purple-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>I(T),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(T),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},T.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Cge=({user:t})=>{const[e,n]=w.useState(!1),[r,a]=w.useState(!1),[l,c]=w.useState([]),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState({serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),[N,_]=w.useState(null),j=["   ","  ","  ","  ","  "," "];w.useEffect(()=>{E()},[]);const E=async()=>{n(!0);const C=await fo(rt.COMMITTEE_MEETING);c(C),n(!1)},I=async()=>{v({...g,serialNumber:"",date:new Date().toISOString().split("T")[0],committeeName:"",subject:"",notes:""}),_(null),p(null),h(!0)},R=C=>{v({serialNumber:C.serialNumber,date:C.date,committeeName:C.sender||"",subject:C.subject,notes:C.notes||""}),p(C.id),_(null),h(!0)},M=async C=>{if(window.confirm("      "))try{await Xf(C.id),await Ae("  ",t.name,`   : ${C.sender}  ${C.date}`),E()}catch(L){console.error(L),alert(" ")}},T=async C=>{C.preventDefault(),a(!0);try{let L="";if(N)try{L=await di(N)}catch(P){throw console.error("Upload failed:",P),new Error("  .    Google Drive Script.")}if(f){const P={serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes};L&&(P.fileUrl=L),await ff(f,P),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ")}else await rx({type:rt.COMMITTEE_MEETING,serialNumber:g.serialNumber,date:g.date,sender:g.committeeName,subject:g.subject,notes:g.notes,fileUrl:L||""}),await Ae("  ",t.name,`    : ${g.committeeName}`),alert("   ");h(!1),E()}catch(L){console.error(L),alert("   : "+L.message)}finally{a(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"   "})]}),!d&&s.jsxs("button",{onClick:I,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),d&&s.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-amber-100 p-6 animate-in fade-in slide-in-from-top-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-amber-800",children:f?" ":" "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-red-500",children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{required:!0,value:g.committeeName,onChange:C=>v({...g,committeeName:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white",children:[s.jsx("option",{value:"",children:"--   --"}),j.map(C=>s.jsx("option",{value:C,children:C},C)),s.jsx("option",{value:"other",children:"  (   )"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.serialNumber,onChange:C=>v({...g,serialNumber:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none bg-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:g.date,onChange:C=>v({...g,date:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:" ",value:g.subject,onChange:C=>v({...g,subject:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:4,value:g.notes,onChange:C=>v({...g,notes:C.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f?"  ()":"  (PDF/Image)"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-6 text-center transition-colors ${r?"bg-gray-50 opacity-75":"hover:bg-gray-50"}`,children:[s.jsx("input",{type:"file",id:"fileUpload",className:"hidden",disabled:r,onChange:C=>_(C.target.files?C.target.files[0]:null)}),s.jsxs("label",{htmlFor:"fileUpload",className:`cursor-pointer flex flex-col items-center gap-2 ${r?"cursor-wait":""}`,children:[r?s.jsx(Qe,{className:"w-8 h-8 text-amber-600 animate-spin"}):s.jsx(Hn,{className:"w-8 h-8 text-gray-400"}),s.jsx("span",{className:"text-gray-600 text-sm",children:N?N.name:"     "}),s.jsx("span",{className:`text-xs ${r?"text-amber-600 font-bold animate-pulse":"text-gray-400"}`,children:r?"   Google Drive...":"   Google Drive"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),disabled:r,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg disabled:opacity-50",children:""}),s.jsxs("button",{type:"submit",disabled:r,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?s.jsx(Qe,{className:"w-5 h-5 animate-spin"}):s.jsx(_n,{className:"w-5 h-5"}),s.jsx("span",{children:r?" ...":f?" ":" "})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e?s.jsx("div",{className:"p-8 text-center text-gray-500",children:" ..."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[l.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-amber-800",children:C.sender}),s.jsx("td",{className:"p-4 text-gray-700",children:C.serialNumber}),s.jsx("td",{className:"p-4",children:C.date}),s.jsx("td",{className:"p-4 max-w-lg truncate",title:C.subject,children:C.subject}),s.jsx("td",{className:"p-4",children:C.fileUrl?s.jsxs("a",{href:C.fileUrl,target:"_blank",rel:"noreferrer",className:"text-amber-600 hover:text-amber-800 flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"})," "]}):s.jsx("span",{className:"text-gray-400 text-xs",children:" "})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>R(C),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>M(C),className:"text-red-500 hover:bg-red-50 p-1.5 rounded-lg transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},C.id)),l.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})})]})},Ige=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!1),[d,h]=w.useState(""),[f,p]=w.useState("ALL"),[g,v]=w.useState(""),[N,_]=w.useState("");w.useEffect(()=>{j()},[]);const j=async()=>{c(!0);const C=await fo();n(C),a(C),c(!1)},E=()=>{let C=e;if(f!=="ALL"&&(C=C.filter(L=>L.type===f)),d.trim()){const L=d.toLowerCase();C=C.filter(P=>P.subject.toLowerCase().includes(L)||P.serialNumber.toLowerCase().includes(L)||P.notes&&P.notes.toLowerCase().includes(L)||P.recipient&&P.recipient.toLowerCase().includes(L)||P.sender&&P.sender.toLowerCase().includes(L))}g&&(C=C.filter(L=>L.date>=g)),N&&(C=C.filter(L=>L.date<=N)),a(C)},I=()=>{h(""),p("ALL"),v(""),_(""),a(e)},R=async C=>{if(window.confirm("      ")){const L=e.find(P=>P.id===C);await Xf(C),await Ae("  ",t.name,`  : ${(L==null?void 0:L.serialNumber)||C} - : ${L==null?void 0:L.type}`),j()}},M=C=>{switch(C){case rt.INCOMING:return"";case rt.OUTGOING:return"";case rt.DEPARTMENT_COUNCIL:return" ";case rt.COMMITTEE_MEETING:return" ";default:return C}},T=C=>{switch(C){case rt.INCOMING:return"bg-blue-100 text-blue-700";case rt.OUTGOING:return"bg-green-100 text-green-700";case rt.DEPARTMENT_COUNCIL:return"bg-purple-100 text-purple-700";case rt.COMMITTEE_MEETING:return"bg-amber-100 text-amber-700";default:return"bg-gray-100 text-gray-700"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Yi,{className:"w-5 h-5 text-green-600"})," "]}),s.jsxs("button",{onClick:I,className:"text-sm text-gray-500 hover:text-red-600 flex items-center gap-1",children:[s.jsx(bt,{className:"w-4 h-4"}),"  "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"  ...",value:d,onChange:C=>h(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none bg-white",children:[s.jsx("option",{value:"ALL",children:""}),s.jsx("option",{value:rt.INCOMING,children:""}),s.jsx("option",{value:rt.OUTGOING,children:""}),s.jsx("option",{value:rt.DEPARTMENT_COUNCIL,children:" "}),s.jsx("option",{value:rt.COMMITTEE_MEETING,children:" "})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",value:g,onChange:C=>v(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",value:N,onChange:C=>_(C.target.value),className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:border-green-500 outline-none"})]}),s.jsx("div",{className:"md:col-span-4 flex justify-end mt-2",children:s.jsxs("button",{onClick:E,className:"bg-green-700 text-white px-6 py-2 rounded-lg hover:bg-green-800 flex items-center gap-2",children:[s.jsx(Pz,{className:"w-4 h-4"})," "]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("h3",{className:"font-bold text-gray-700",children:["  (",r.length,")"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:" / "}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:l?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center",children:" ..."})}):r.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${T(C.type)}`,children:M(C.type)})}),s.jsx("td",{className:"p-3 font-semibold",children:C.serialNumber}),s.jsx("td",{className:"p-3",children:C.date}),s.jsx("td",{className:"p-3 max-w-xs truncate",title:C.subject,children:C.subject}),s.jsxs("td",{className:"p-3",children:[C.type===rt.OUTGOING&&C.recipient,C.type===rt.INCOMING&&C.sender,C.type===rt.DEPARTMENT_COUNCIL&&" ",C.type===rt.COMMITTEE_MEETING&&C.sender]}),s.jsxs("td",{className:"p-3 flex items-center gap-2",children:[C.fileUrl&&s.jsx("a",{href:C.fileUrl,target:"_blank",rel:"noreferrer",className:"p-1 text-green-600 hover:bg-green-50 rounded",title:" ",children:s.jsx(Vn,{className:"w-4 h-4"})}),t.role==="ADMIN"&&s.jsx("button",{onClick:()=>R(C.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:" ",children:s.jsx(bt,{className:"w-4 h-4"})})]})]},C.id))})]})})]})]})},Oge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[l,c]=w.useState(""),[d,h]=w.useState("FACULTY"),[f,p]=w.useState(!1),[g,v]=w.useState(!1),[N,_]=w.useState(!1),[j,E]=w.useState(null),[I,R]=w.useState({}),[M,T]=w.useState({}),[C,L]=w.useState(!1),[P,V]=w.useState(!1),F=t.role===we.ADMIN;w.useEffect(()=>{A()},[]);const A=async()=>{a(!0);const X=await Qf();n(X),a(!1)},D=X=>!!(F||t.role===we.STAFF&&t.id===X),z=F,U=X=>{X?(E(X),R(X)):(E(null),R({name:"",rank:"",specialization:"",email:"",phone:"",subRole:"FACULTY"})),v(!0)},de=async(X,Ee)=>{if(window.confirm("      "))try{await p8(X),await Ae("   ",t.name,`  : ${Ee}`),A()}catch{alert(" ")}},ae=async X=>{X.preventDefault(),p(!0);try{j?(await FN(j.id,I),await Ae("  ",t.name,`  : ${I.name}`),alert("  ")):(await m8(I),await Ae("   ",t.name,`  : ${I.name}`),alert("  ")),v(!1),A()}catch{alert("   ")}finally{p(!1)}},G=X=>{var Ee,Te,re,ie,ke,Z,he,Ue,qe,vt;E(X),T({...X.documents,promotionDecisions:((Ee=X.documents)==null?void 0:Ee.promotionDecisions)||[],adminPositions:((Te=X.documents)==null?void 0:Te.adminPositions)||[],extensionDecisions:((re=X.documents)==null?void 0:re.extensionDecisions)||[],progressReports:((ie=X.documents)==null?void 0:ie.progressReports)||[],efficiencyReports:((ke=X.documents)==null?void 0:ke.efficiencyReports)||[],coursePortfolios:((Z=X.documents)==null?void 0:Z.coursePortfolios)||[],publications:((he=X.documents)==null?void 0:he.publications)||[],conferenceCerts:((Ue=X.documents)==null?void 0:Ue.conferenceCerts)||[],arbitrationCerts:((qe=X.documents)==null?void 0:qe.arbitrationCerts)||[],communityServiceDocs:((vt=X.documents)==null?void 0:vt.communityServiceDocs)||[]}),V(!1),_(!0)},Y=X=>{const Ee=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`;T(Te=>({...Te,[X]:Ee})),alert("   ()")},H=(X,Ee)=>{if(!Ee)return;const Te=`https://drive.google.com/file/d/simulated_upload_${Math.floor(Math.random()*1e4)}`,re={id:Math.random().toString(36).substr(2,9),title:Ee,url:Te,date:new Date().toISOString().split("T")[0]};T(ie=>({...ie,[X]:[...ie[X]||[],re]}))},ge=(X,Ee)=>{T(Te=>({...Te,[X]:(Te[X]||[]).filter(re=>re.id!==Ee)}))},W=X=>{if(!X)return;const Ee={courseName:X};T(Te=>({...Te,coursePortfolios:[...Te.coursePortfolios||[],Ee]}))},B=X=>{T(Ee=>({...Ee,coursePortfolios:(Ee.coursePortfolios||[]).filter((Te,re)=>re!==X)}))},J=(X,Ee)=>{const Te=`https://drive.google.com/file/d/course_upload_${Math.floor(Math.random()*1e4)}`;T(re=>{const ie=[...re.coursePortfolios||[]];return ie[X]={...ie[X],[Ee]:Te},{...re,coursePortfolios:ie}})},xe=async()=>{if(j){L(!0);try{await FN(j.id,{documents:M}),await Ae("  ",t.name,`   : ${j.name}`),n(X=>X.map(Ee=>Ee.id===j.id?{...Ee,documents:M}:Ee)),alert("    "),V(!1)}catch{alert("   ")}finally{L(!1)}}},te=e.filter(X=>(X.subRole||"FACULTY")===d&&(X.name.toLowerCase().includes(l.toLowerCase())||X.specialization.toLowerCase().includes(l.toLowerCase())));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-8 h-8 text-green-600"})," "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),z&&s.jsxs("button",{onClick:()=>U(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 shadow-sm",children:[s.jsx(At,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>h("FACULTY"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="FACULTY"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ms,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>h("ASSISTANT"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${d==="ASSISTANT"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ds,{className:"w-4 h-4"}),"  "]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-6 top-6"}),s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-3 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:l,onChange:X=>c(X.target.value)})]}),r?s.jsx("div",{className:"text-center py-12",children:s.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:te.map(X=>s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group",children:s.jsxs("div",{className:"p-6 flex flex-col items-center text-center relative",children:[s.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[D(X.id)&&s.jsx("button",{onClick:()=>U(X),className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",title:"  ",children:s.jsx(gn,{className:"w-4 h-4"})}),z&&s.jsx("button",{onClick:()=>de(X.id,X.name),className:"p-2 bg-red-50 text-red-600 rounded-full hover:bg-red-100 transition-colors",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 border-4 border-white shadow-sm",children:X.imageUrl?s.jsx("img",{src:X.imageUrl,alt:X.name,className:"w-full h-full rounded-full object-cover"}):s.jsx(oP,{className:"w-16 h-16 text-gray-400"})}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:X.name}),s.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full text-xs font-bold mb-2",children:X.rank}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4 flex items-center gap-1",children:[s.jsx(ai,{className:"w-4 h-4"})," ",X.specialization]}),s.jsxs("div",{className:"w-full border-t pt-4 flex flex-col gap-2 text-sm text-gray-600",children:[X.email&&s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(f1,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:X.email})]}),X.phone&&s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(tg,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{dir:"ltr",children:X.phone})]}),s.jsxs("button",{onClick:()=>G(X),className:"mt-2 w-full py-2 border border-green-600 text-green-700 rounded-lg hover:bg-green-50 transition-colors text-sm font-semibold flex items-center justify-center gap-2",children:[s.jsx(FileText,{className:"w-4 h-4"}),"   "]})]})]})},X.id))}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:j?"  ":"  "}),s.jsx("button",{onClick:()=>v(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:I.name||"",onChange:X=>R({...I,name:X.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:I.rank||"",onChange:X=>R({...I,rank:X.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:I.specialization||"",onChange:X=>R({...I,specialization:X.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"email",className:"w-full border p-2 rounded-lg",value:I.email||"",onChange:X=>R({...I,email:X.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"tel",className:"w-full border p-2 rounded-lg",value:I.phone||"",onChange:X=>R({...I,phone:X.target.value})})]}),z&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg bg-white",value:I.subRole||"FACULTY",onChange:X=>R({...I,subRole:X.target.value}),children:[s.jsx("option",{value:"FACULTY",children:"  "}),s.jsx("option",{value:"ASSISTANT",children:" "})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white px-8 py-2 rounded-lg hover:bg-blue-700 font-bold",children:f?" ...":""})]})]})]})}),N&&j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"bg-green-700 p-6 flex justify-between items-center text-white rounded-t-xl sticky top-0 z-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:j.name}),s.jsx("p",{className:"text-green-100 text-sm",children:"  "})]}),s.jsxs("div",{className:"flex gap-2",children:[D(j.id)&&(P?s.jsxs("button",{onClick:xe,disabled:C,className:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 transition-colors shadow-sm font-bold",children:[C?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),"  "]}):s.jsxs("button",{onClick:()=>V(!0),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors border border-green-500",children:[s.jsx(gn,{className:"w-4 h-4"}),"  "]})),s.jsx("button",{onClick:()=>_(!1),className:"text-green-100 hover:text-white bg-green-800 p-2 rounded-full",children:s.jsx(bt,{className:"w-6 h-6"})})]})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[P&&s.jsxs("div",{className:"bg-blue-50 text-blue-800 text-sm p-3 rounded-lg flex items-center gap-2 border border-blue-100",children:[s.jsx(Hn,{className:"w-4 h-4"}),s.jsx("span",{children:"      .         ."})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Ms,{className:"w-5 h-5 text-gray-500"}),"   "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(gu,{title:"1.   ",url:M.appointmentDecision,isEditing:P,onUpload:()=>Y("appointmentDecision")}),s.jsx(gu,{title:"2.   ",url:M.joiningReport,isEditing:P,onUpload:()=>Y("joiningReport")}),s.jsx(VR,{title:"3.  ",description:"   .",items:M.promotionDecisions,isEditing:P,onAdd:X=>H("promotionDecisions",X),onRemove:X=>ge("promotionDecisions",X)})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5 text-purple-600"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gu,{title:" ",url:M.bachelorCert,isEditing:P,onUpload:()=>Y("bachelorCert")}),s.jsx(gu,{title:" ",url:M.masterCert,isEditing:P,onUpload:()=>Y("masterCert")}),s.jsx(gu,{title:" ",url:M.phdCert,isEditing:P,onUpload:()=>Y("phdCert")})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(eg,{className:"w-5 h-5 text-blue-600"}),"  "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(VR,{title:"  ",description:"  .",items:M.conferenceCerts,isEditing:P,onAdd:X=>H("conferenceCerts",X),onRemove:X=>ge("conferenceCerts",X)}),s.jsx(gu,{title:"  ",url:M.publicationsListFile,isEditing:P,onUpload:()=>Y("publicationsListFile")})]})]}),s.jsxs("section",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-800 border-b pb-2 mb-4 flex items-center gap-2",children:[s.jsx(CheckCircle2,{className:"w-5 h-5 text-green-600"}),"   (Course Portfolio)"]}),s.jsx(Dge,{courses:M.coursePortfolios,isEditing:P,onAdd:W,onRemove:B,onUploadFile:J})]})]})]})})]})},gu=({title:t,description:e,url:n,isEditing:r,onUpload:a})=>s.jsxs("div",{className:`flex flex-col p-3 rounded-lg border transition-colors ${n?"bg-green-50 border-green-100":"bg-gray-50 border-gray-200 border-dashed"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:`text-sm font-bold ${n?"text-gray-800":"text-gray-500"}`,children:t}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"text-xs bg-white border border-green-200 text-green-700 px-2 py-1 rounded hover:bg-green-50 transition-colors",children:""}),r&&s.jsxs("button",{onClick:a,className:`p-1.5 rounded-md border flex items-center gap-1 text-xs ${n?"bg-amber-50 text-amber-600 border-amber-200 hover:bg-amber-100":"bg-blue-50 text-blue-600 border-blue-200 hover:bg-blue-100"}`,title:n?" ":" ",children:[s.jsx(Hn,{className:"w-3 h-3"})," ",n?s.jsx("span",{children:""}):s.jsx("span",{children:""})]}),!n&&!r&&s.jsx("span",{className:"text-xs text-red-400 font-medium",children:""})]})]}),e&&s.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:e})]}),VR=({title:t,description:e,items:n=[],isEditing:r,onAdd:a,onRemove:l})=>{const[c,d]=w.useState("");return s.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white shadow-sm",children:[s.jsx("h5",{className:"text-sm font-bold text-gray-800 mb-1",children:t}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:e}),n.length>0?s.jsx("ul",{className:"space-y-2 mb-3",children:n.map(h=>s.jsxs("li",{className:"flex items-center justify-between bg-gray-50 p-2 rounded text-sm border border-gray-100",children:[s.jsx("span",{className:"truncate flex-1 ml-2 font-medium text-gray-700",children:h.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("a",{href:h.url,target:"_blank",rel:"noreferrer",className:"text-xs text-blue-600 hover:underline font-bold",children:""}),r&&s.jsx("button",{onClick:()=>l(h.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-3 h-3"})})]})]},h.id))}):!r&&s.jsx("p",{className:"text-xs text-gray-400 italic mb-3 bg-gray-50 p-2 rounded text-center",children:"   ."}),r&&s.jsxs("div",{className:"flex gap-2 items-center mt-2 border-t pt-3 border-dashed",children:[s.jsx("input",{type:"text",placeholder:"  ...",className:"flex-1 text-xs p-2 border rounded focus:outline-none focus:border-green-500 bg-gray-50 focus:bg-white",value:c,onChange:h=>d(h.target.value)}),s.jsxs("button",{onClick:()=>{c&&(a(c),d(""))},className:"bg-blue-600 text-white text-xs px-3 py-2 rounded hover:bg-blue-700 flex items-center gap-1 shadow-sm disabled:opacity-50",disabled:!c,children:[s.jsx(At,{className:"w-3 h-3"})," "]})]})]})},Dge=({courses:t=[],isEditing:e,onAdd:n,onRemove:r,onUploadFile:a})=>{const[l,c]=w.useState("");return s.jsxs("div",{className:"space-y-4",children:[t.length>0?t.map((d,h)=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5 text-green-600"}),s.jsx("h5",{className:"font-bold text-gray-800",children:d.courseName})]}),e&&s.jsx("button",{onClick:()=>r(h),className:"text-red-500 hover:bg-red-50 p-1 rounded",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsx(Qp,{label:" ",url:d.specsUrl,isEditing:e,onUpload:()=>a(h,"specsUrl")}),s.jsx(Qp,{label:" ",url:d.reportUrl,isEditing:e,onUpload:()=>a(h,"reportUrl")}),s.jsx(Qp,{label:" ",url:d.examsUrl,isEditing:e,onUpload:()=>a(h,"examsUrl")}),s.jsx(Qp,{label:" / ",url:d.samplesUrl,isEditing:e,onUpload:()=>a(h,"samplesUrl")})]})]},h)):s.jsx("p",{className:"text-gray-400 text-sm text-center py-4 border border-dashed rounded-lg",children:"    ."}),e&&s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg flex items-center gap-2 border border-green-200",children:[s.jsx("input",{type:"text",placeholder:"   (:   )",className:"flex-1 p-2 rounded border border-green-300 focus:outline-none focus:ring-1 focus:ring-green-500 text-sm",value:l,onChange:d=>c(d.target.value)}),s.jsxs("button",{onClick:()=>{n(l),c("")},className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[s.jsx(At,{className:"w-4 h-4"}),"  "]})]})]})},Qp=({label:t,url:e,isEditing:n,onUpload:r})=>s.jsxs("div",{className:`p-2 rounded border text-center flex flex-col items-center justify-center min-h-[80px] ${e?"bg-green-50 border-green-100":"bg-gray-50 border-gray-100"}`,children:[s.jsx("span",{className:"text-xs font-semibold text-gray-700 mb-1",children:t}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e?s.jsx("a",{href:e,target:"_blank",rel:"noreferrer",className:"text-xs bg-white border border-gray-200 px-2 py-1 rounded text-green-700 hover:text-green-800",children:""}):s.jsx("span",{className:"text-[10px] text-gray-400",children:""}),n&&s.jsx("button",{onClick:r,className:"p-1 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 border border-blue-200",title:"",children:s.jsx(Hn,{className:"w-3 h-3"})})]})]}),zR=({user:t})=>{const[e,n]=w.useState(t.role===we.STUDENT_PG?"PG":"UG"),[r,a]=w.useState("MATERIALS"),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,p]=w.useState([]),[g,v]=w.useState([]),[N,_]=w.useState([]),[j,E]=w.useState(!0),[I,R]=w.useState(!1),[M,T]=w.useState(!1),[C,L]=w.useState({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""}),[P,V]=w.useState(!1),[F,A]=w.useState(null),[D,z]=w.useState(!1),[U,de]=w.useState(!1),[ae,G]=w.useState(null),[Y,H]=w.useState({content:"",isImportant:!1}),[ge,W]=w.useState(!1),[B,J]=w.useState({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""}),[xe,te]=w.useState(!1),[X,Ee]=w.useState(null),Te=t.role===we.ADMIN||t.role===we.STAFF;w.useEffect(()=>{re()},[]),w.useEffect(()=>{const Se=e==="UG"?["Third","Fourth"]:["Pre-Master","Pre-PhD"];v(l.filter(ve=>Se.includes(ve.year))),_(f.filter(ve=>Se.includes(ve.year)));const yt=e==="UG"?"Third":"Pre-Master";L(ve=>({...ve,year:yt})),J(ve=>({...ve,year:yt}))},[e,l,f]);const re=async()=>{E(!0);const[Se,yt,ve]=await Promise.all([jpe(),Ape(),Ipe()]);c(Se),h(yt),p(ve),E(!1)},ie=async Se=>{Se.preventDefault(),R(!0);try{await Epe({title:C.title,year:C.year,fileUrl:C.fileUrl||"#",description:C.description,uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae("  ",t.name,`: ${C.title} - : ${C.year}`),await re(),T(!1),L({title:"",year:e==="UG"?"Third":"Pre-Master",fileUrl:"",description:""})}catch(yt){console.error(yt),alert("   ")}finally{R(!1)}},ke=async()=>{if(F){R(!0);try{const Se=l.find(yt=>yt.id===F);await Spe(F),Ae("  ",t.name,`  : ${Se==null?void 0:Se.title}`),await re(),V(!1),A(null)}catch(Se){console.error(Se),alert("  ")}finally{R(!1)}}},Z=async Se=>{Se.preventDefault(),R(!0);try{await Tpe({content:Y.content,isImportant:Y.isImportant,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,Y.content.substring(0,50)+"..."),await re(),z(!1),H({content:"",isImportant:!1})}catch(yt){console.error(yt),alert("    ")}finally{R(!1)}},he=async()=>{if(ae){R(!0);try{await Cpe(ae),Ae(" ",t.name,"    "),await re(),de(!1),G(null)}catch(Se){console.error(Se),alert("   ")}finally{R(!1)}}},Ue=async Se=>{Se.preventDefault(),R(!0);try{await Ope({title:B.title,type:B.type,year:B.year,fileUrl:B.fileUrl||"#",uploadedBy:t.name,date:new Date().toISOString().split("T")[0]}),Ae(" ",t.name,`: ${B.title}`),await re(),W(!1),J({title:"",type:"LECTURE",year:e==="UG"?"Third":"Pre-Master",fileUrl:""})}catch(yt){console.error(yt),alert("    ")}finally{R(!1)}},qe=async()=>{if(X){R(!0);try{const Se=f.find(yt=>yt.id===X);await Dpe(X),Ae(" ",t.name,`  : ${Se==null?void 0:Se.title}`),await re(),te(!1),Ee(null)}catch(Se){console.error(Se),alert("   ")}finally{R(!1)}}},vt=Se=>{const yt=`https://picsum.photos/seed/${Math.random()}/800/600`;Se(ve=>({...ve,fileUrl:yt}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm",children:e==="UG"?"   ":"    "}),s.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("UG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="UG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(ai,{className:"w-4 h-4"}),"  ( 3  4)"]}),s.jsxs("button",{onClick:()=>n("PG"),className:`pb-3 px-4 text-sm font-semibold transition-colors flex items-center gap-2 ${e==="PG"?"border-b-2 border-green-600 text-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ds,{className:"w-4 h-4"}),"  ()"]})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs("button",{onClick:()=>a("MATERIALS"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="MATERIALS"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>a("SCHEDULES"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors flex items-center gap-2 ${r==="SCHEDULES"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[s.jsx(gf,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in",children:[s.jsxs("div",{className:"md:col-span-2 space-y-4",children:[r==="MATERIALS"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-700",children:e==="UG"?"  ":"  "}),Te&&s.jsxs("button",{onClick:()=>T(!0),className:"text-xs bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 flex items-center gap-1 shadow-sm",children:[s.jsx(Dh,{className:"w-3 h-3"}),"   "]})]}),g.length>0?g.map(Se=>s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow flex items-start justify-between group",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:s.jsx(Vn,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:Se.title}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Se.year==="Third"&&" ",Se.year==="Fourth"&&" ",Se.year==="Pre-Master"&&" ",Se.year==="Pre-PhD"&&" "," | ",": ",Se.uploadedBy]}),Se.description&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Se.description}),s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:Se.date})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("a",{href:Se.fileUrl,target:"_blank",rel:"noreferrer",className:"text-green-600 hover:bg-green-50 p-2 rounded-lg flex items-center gap-1 text-sm font-medium border border-transparent hover:border-green-100",children:[s.jsx(Kl,{className:"w-4 h-4"})," "]}),Te&&s.jsx("button",{onClick:()=>{A(Se.id),V(!0)},className:"text-red-500 hover:bg-red-50 p-2 rounded-lg flex items-center justify-center text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},Se.id)):s.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:s.jsx("p",{className:"text-gray-400",children:"     "})})]}),r==="SCHEDULES"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-700",children:"  "}),Te&&s.jsxs("button",{onClick:()=>W(!0),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 flex items-center gap-1 shadow-sm",children:[s.jsx(Dh,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.length>0?N.map(Se=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow group relative",children:[s.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden",children:[s.jsx("img",{src:Se.fileUrl,alt:Se.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold shadow-sm ${Se.type==="EXAM"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:Se.type==="EXAM"?" ":" "})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-bold text-gray-800 text-sm mb-1",children:Se.title}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[Se.year==="Third"&&" ",Se.year==="Fourth"&&" ",Se.year==="Pre-Master"&&" ",Se.year==="Pre-PhD"&&" "," | ",Se.date]}),s.jsxs("a",{href:Se.fileUrl,target:"_blank",rel:"noreferrer",className:"block text-center w-full bg-blue-50 text-blue-600 py-2 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-colors",children:[s.jsx(Kl,{className:"w-4 h-4 inline-block ml-1"}),"  / "]}),Te&&s.jsx("button",{onClick:()=>{Ee(Se.id),te(!0)},className:"absolute top-2 left-2 bg-white text-red-500 p-1.5 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-50",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},Se.id)):s.jsx("div",{className:"md:col-span-2 text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:s.jsx("p",{className:"text-gray-400",children:"    "})})})]})]}),s.jsxs("div",{className:"bg-green-900 text-white p-6 rounded-xl h-fit",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-green-700 pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:" "}),Te&&s.jsxs("button",{onClick:()=>z(!0),className:"bg-green-800 hover:bg-green-700 p-1.5 rounded text-xs flex items-center gap-1",children:[s.jsx(Dh,{className:"w-3 h-3"})," "]})]}),d.length>0?s.jsx("ul",{className:"space-y-4 text-sm",children:d.map(Se=>s.jsxs("li",{className:"flex gap-2 relative group",children:[s.jsx("span",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${Se.isImportant?"bg-red-400 animate-pulse":"bg-green-400"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{children:Se.content}),s.jsx("p",{className:"text-green-300 text-xs mt-1",children:Se.date})]}),Te&&s.jsx("button",{onClick:()=>{G(Se.id),de(!0)},className:"text-red-300 hover:text-red-100 opacity-0 group-hover:opacity-100 transition-opacity absolute left-0 top-0",children:s.jsx(ot,{className:"w-4 h-4"})})]},Se.id))}):s.jsx("p",{className:"text-green-300 text-sm italic",children:"   ."})]})]}),M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:ie,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" /"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:C.title,onChange:Se=>L({...C,title:Se.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white",value:C.year,onChange:Se=>L({...C,year:Se.target.value}),children:e==="UG"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Pre-Master",children:" "}),s.jsx("option",{value:"Pre-PhD",children:" "})]})})]}),e==="PG"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",placeholder:":   ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:C.description,onChange:Se=>L({...C,description:Se.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (PDF)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:C.fileUrl}),s.jsxs("button",{type:"button",onClick:()=>vt(L),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[s.jsx(Hn,{className:"w-4 h-4"})," "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:I,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[I?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),ge&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:Ue,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":    -  ",className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:B.title,onChange:Se=>J({...B,title:Se.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white font-semibold",value:B.type,onChange:Se=>J({...B,type:Se.target.value}),children:[s.jsx("option",{value:"LECTURE",children:" "}),s.jsx("option",{value:"EXAM",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("select",{className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:B.year,onChange:Se=>J({...B,year:Se.target.value}),children:e==="UG"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"Pre-Master",children:" "}),s.jsx("option",{value:"Pre-PhD",children:" "})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (Image/PDF)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,placeholder:" ...",className:"w-full border p-2 rounded-lg bg-gray-50 text-xs",value:B.fileUrl}),s.jsxs("button",{type:"button",onClick:()=>vt(J),className:"px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg hover:bg-blue-100 flex items-center gap-1 text-xs whitespace-nowrap",children:[s.jsx(Hn,{className:"w-4 h-4"})," "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>W(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:I,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[I?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),D&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:Z,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("textarea",{required:!0,rows:3,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none",value:Y.content,onChange:Se=>H({...Y,content:Se.target.value})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"isImportant",checked:Y.isImportant,onChange:Se=>H({...Y,isImportant:Se.target.checked}),className:"w-4 h-4 text-green-600 rounded"}),s.jsx("label",{htmlFor:"isImportant",className:"text-sm text-gray-700",children:"  (Urgent)"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>z(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:I,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[I?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:ke,disabled:I,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[I&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),xe&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>te(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:qe,disabled:I,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[I&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>de(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:he,disabled:I,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[I&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},FR=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!1),l=My(),[c,d]=w.useState(!1),[h,f]=w.useState(!1),[p,g]=w.useState(!1),[v,N]=w.useState(null),[_,j]=w.useState(!1),[E,I]=w.useState({name:"",graduationYear:"",currentJob:"",email:"",phone:""}),[R,M]=w.useState(null),[T,C]=w.useState({title:"",company:"",description:"",contactInfo:"",datePosted:"",status:"OPEN"}),L=async()=>{a(!0);const ae=await epe();n(ae),a(!1)};w.useEffect(()=>{L()},[]);const P=()=>{l("/users",{state:{initialTab:"ALUMNI"}})},V=async ae=>{ae.preventDefault(),j(!0);try{await x8({...E,username:E.email.split("@")[0],password:"123"});const G=(t==null?void 0:t.name)||E.name;Ae("  ",G,` : ${E.name} -  ${E.graduationYear}`),alert("   !    ."),d(!1),I({name:"",graduationYear:"",currentJob:"",email:"",phone:""})}catch(G){console.error(G),alert("   ")}finally{j(!1)}},F=ae=>{ae?(M(ae.id),C({title:ae.title,company:ae.company,description:ae.description,contactInfo:ae.contactInfo,datePosted:ae.datePosted,status:ae.status||"OPEN"})):(M(null),C({title:"",company:"",description:"",contactInfo:"",datePosted:new Date().toISOString().split("T")[0],status:"OPEN"})),f(!0)},A=async ae=>{ae.preventDefault(),j(!0);const G=(t==null?void 0:t.name)||"Unknown";try{R?(await npe(R,T),Ae("  ",G,`: ${T.title}`)):(await tpe(T),Ae("  ",G,`: ${T.title} - : ${T.company}`)),f(!1),L()}catch(Y){console.error(Y),alert("    ")}finally{j(!1)}},D=ae=>{N(ae),g(!0)},z=async()=>{if(v){j(!0);try{const ae=e.find(G=>G.id===v);await rpe(v),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${ae==null?void 0:ae.title}`),n(G=>G.filter(Y=>Y.id!==v)),g(!1),N(null)}catch(ae){console.error("Delete failed",ae),alert("  "),L()}finally{j(!1)}}},U=(t==null?void 0:t.role)===we.ADMIN||(t==null?void 0:t.role)===we.STAFF,de=U||(t==null?void 0:t.role)===we.ALUMNI;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-amber-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"   "}),s.jsx("p",{className:"opacity-90 max-w-xl",children:"      .          ."}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[s.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-amber-700 px-6 py-2 rounded-lg font-bold hover:bg-amber-50 transition-colors flex items-center gap-2",children:[s.jsx(vP,{className:"w-5 h-5"}),"   "]}),(t==null?void 0:t.role)===we.ADMIN&&s.jsxs("button",{onClick:P,className:"bg-amber-800 text-white border border-amber-500 px-6 py-2 rounded-lg font-bold hover:bg-amber-900 transition-colors flex items-center gap-2",children:[s.jsx(yP,{className:"w-5 h-5"}),"   (Admin)"]})]})]}),s.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:s.jsx(Ms,{className:"w-64 h-64"})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-gray-800",children:[s.jsx(Ms,{className:"w-6 h-6 text-amber-600"}),s.jsx("h2",{children:"  "})]}),de&&s.jsxs("button",{onClick:()=>F(),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-green-700 flex items-center gap-2 shadow-sm",children:[s.jsx(Dh,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.map(ae=>s.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative ${ae.status==="CLOSED"?"opacity-70 bg-gray-50":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:ae.title}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mt-1",children:[s.jsx(J9,{className:"w-4 h-4"}),s.jsx("span",{children:ae.company})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold h-fit ${ae.status==="CLOSED"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:ae.status==="CLOSED"?"":" "}),U&&s.jsxs("div",{className:"flex flex-col gap-1 z-20",children:[s.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),F(ae)},className:"p-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 border border-blue-100",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:G=>{G.preventDefault(),G.stopPropagation(),D(ae.id)},className:"p-1.5 bg-red-50 text-red-600 rounded-md hover:bg-red-100 border border-red-100",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]}),s.jsx("p",{className:"text-gray-600 mt-4 text-sm leading-relaxed",children:ae.description}),s.jsxs("div",{className:"mt-6 pt-4 border-t text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:" :"}),s.jsx("p",{className:"text-amber-600",children:ae.contactInfo})]}),s.jsx("div",{className:"mt-4 flex items-center justify-between",children:s.jsxs("span",{className:"text-xs text-gray-400",children:[" : ",ae.datePosted]})})]},ae.id)),s.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center text-gray-500 min-h-[250px]",children:[s.jsx("p",{className:"font-medium",children:"   "}),s.jsx("p",{className:"text-sm mt-1",children:"   "}),de&&s.jsx("button",{onClick:()=>F(),className:"mt-3 text-amber-600 hover:text-amber-700 font-medium text-sm border border-amber-200 px-4 py-1.5 rounded-lg bg-white hover:bg-amber-50",children:"+  "})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:E.name,onChange:ae=>I({...E,name:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",required:!0,placeholder:": 2022",value:E.graduationYear,onChange:ae=>I({...E,graduationYear:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",value:E.currentJob,onChange:ae=>I({...E,currentJob:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"email",required:!0,value:E.email,onChange:ae=>I({...E,email:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"tel",required:!0,value:E.phone,onChange:ae=>I({...E,phone:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:_,className:"bg-amber-600 text-white px-6 py-2 rounded-lg hover:bg-amber-700 flex items-center gap-2",children:[_?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"               ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:z,disabled:_,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[_&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?"  ":"   "}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:":  ",value:T.title,onChange:ae=>C({...T,title:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,value:T.company,onChange:ae=>C({...T,company:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.status,onChange:ae=>C({...T,status:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none bg-white font-semibold",children:[s.jsx("option",{value:"OPEN",className:"text-green-600",children:" "}),s.jsx("option",{value:"CLOSED",className:"text-red-600",children:""})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("textarea",{required:!0,rows:4,placeholder:"    ...",value:T.description,onChange:ae=>C({...T,description:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"    ",value:T.contactInfo,onChange:ae=>C({...T,contactInfo:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,value:T.datePosted,onChange:ae=>C({...T,datePosted:ae.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:_,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[_?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})})]})},Rge=({user:t})=>{if(t.role!==we.ADMIN)return s.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] animate-in fade-in",children:[s.jsx("div",{className:"bg-red-50 p-6 rounded-full mb-4",children:s.jsx(xP,{className:"w-12 h-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"   "}),s.jsx("p",{className:"text-gray-500 text-center max-w-md",children:"      .         ."})]});const e=rs(),[n,r]=w.useState("STAFF"),[a,l]=w.useState(!1),[c,d]=w.useState([]),[h,f]=w.useState([]),[p,g]=w.useState([]),[v,N]=w.useState([]),[_,j]=w.useState([]),[E,I]=w.useState(!1),[R,M]=w.useState(null),[T,C]=w.useState({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:"",password:""});w.useEffect(()=>{e.state&&e.state.initialTab&&r(e.state.initialTab)},[e.state]),w.useEffect(()=>{L()},[n]);const L=async()=>{l(!0),n==="STAFF"?d(await Qf()):n==="PG"?f(await y8()):n==="UG"?g(await Kme()):n==="ALUMNI"?N(await Qme()):n==="EMPLOYEE"&&j(await g8()),l(!1)},P=A=>{if(A)M(A.id),C({name:A.name||"",email:A.email||"",phone:A.phone||"",whatsapp:A.whatsapp||"",address:A.address||"",subRole:A.subRole||"FACULTY",rank:A.rank||"",specialization:A.specialization||"",degree:A.degree||"MSc",researchTopic:A.researchTopic||"",supervisor:A.supervisor||"",status:A.status||"Researching",year:A.year||"Third",section:A.section||"",graduationYear:A.graduationYear||"",currentJob:A.currentJob||"",jobTitle:A.jobTitle||"",department:A.department||"",username:A.username||"",password:A.password||""});else{M(null);const D="user"+Math.floor(Math.random()*1e3);C({name:"",email:"",phone:"",whatsapp:"",address:"",subRole:"FACULTY",rank:"",specialization:"",degree:"MSc",researchTopic:"",supervisor:"",status:"Researching",year:"Third",section:"",graduationYear:"",currentJob:"",jobTitle:"",department:"",username:D,password:"123"})}I(!0)},V=async(A,D)=>{if(window.confirm("      "))try{n==="STAFF"?await p8(A):n==="PG"?await Gme(A):n==="UG"?await Xme(A):n==="ALUMNI"?await Zme(A):n==="EMPLOYEE"&&await Bme(A),await Ae(" ","Admin",`  : ${D}   ${n}`),L()}catch(z){console.error("Error deleting user:",z),alert("   ")}},F=async A=>{A.preventDefault();const D={email:T.email,phone:T.phone,whatsapp:T.whatsapp,address:T.address};try{if(n==="STAFF"){const z={name:T.name,...D,subRole:T.subRole,rank:T.rank,specialization:T.specialization,username:T.username,password:T.password};R?await FN(R,z):await m8(z)}else if(n==="PG")if(R){const z={name:T.name,...D,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password};await $N(R,z)}else{const z={name:T.name,...D,degree:T.degree,researchTopic:T.researchTopic,supervisor:T.supervisor,status:T.status,username:T.username,password:T.password,dates:{enrollment:new Date().toISOString().split("T")[0]},documents:{publishedPapers:[],otherDocuments:[]},alerts:{reportOverdue:!1,extensionNeeded:!1}};await Hme(z)}else if(n==="UG"){const z={name:T.name,...D,year:T.year,section:T.section,username:T.username,password:T.password};R?await Wme(R,z):await Yme(z)}else if(n==="ALUMNI"){const z={name:T.name,...D,graduationYear:T.graduationYear,currentJob:T.currentJob,username:T.username,password:T.password};R?await Jme(R,z):await x8(z)}else if(n==="EMPLOYEE"){const z={name:T.name,...D,jobTitle:T.jobTitle,department:T.department,username:T.username,password:T.password};R?await $me(R,z):await Fme(z)}await Ae(R?"  ":"  ","Admin",` ${R?"":""} : ${T.name}   ${n}`),I(!1),L(),alert("   ")}catch(z){console.error("Error saving user:",z),alert("   ")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(h1,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    (   )"})]}),s.jsxs("button",{onClick:()=>P(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(vP,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"flex flex-wrap border-b border-gray-200",children:[{id:"STAFF",icon:ii,label:" "},{id:"EMPLOYEE",icon:lP,label:" "},{id:"PG",icon:Ds,label:" "},{id:"UG",icon:ai,label:" (3  4)"},{id:"ALUMNI",icon:Ms,label:""}].map(A=>s.jsx("button",{onClick:()=>r(A.id),className:`flex-1 min-w-[120px] py-4 text-center font-semibold text-sm transition-colors ${n===A.id?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(A.icon,{className:"w-4 h-4"})," ",A.label]})},A.id))}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:n==="STAFF"?" ":n==="EMPLOYEE"?" ":n==="PG"?"":n==="UG"?"":" "}),s.jsx("th",{className:"p-4",children:n==="STAFF"?"":n==="EMPLOYEE"?" / ":n==="PG"?"":n==="UG"?"":" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:" ..."})}):(()=>{let A=[];return n==="STAFF"?A=c:n==="EMPLOYEE"?A=_:n==="PG"?A=h:n==="UG"?A=p:A=v,A.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"  "})}):A.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:D.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-xs",children:n==="STAFF"?D.rank:n==="EMPLOYEE"?D.jobTitle:n==="PG"?D.degree:n==="UG"?D.year==="Third"?"":"":D.graduationYear})}),s.jsx("td",{className:"p-4",children:n==="STAFF"?D.specialization:n==="EMPLOYEE"?D.department:n==="PG"?D.supervisor:n==="UG"?D.section||"-":D.currentJob||"-"}),s.jsxs("td",{className:"p-4 text-xs text-gray-500",children:[D.phone&&s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(tg,{className:"w-3 h-3 text-gray-400"})," ",D.phone]}),D.whatsapp&&s.jsxs("div",{className:"flex items-center gap-1 mb-1 text-green-600 font-semibold",children:[s.jsx(kT,{className:"w-3 h-3"})," ",D.whatsapp]}),D.email&&s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(f1,{className:"w-3 h-3"})," ",D.email]})]}),s.jsx("td",{className:"p-4 font-mono text-gray-600",children:D.username||"-"}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>P(D),className:"text-blue-600 hover:bg-blue-50 p-2 rounded-lg",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>V(D.id,D.name),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},D.id))})()})]})})]}),E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[R?" ":"  ",s.jsxs("span",{className:"text-sm font-normal text-gray-500 mr-2",children:["(",n==="STAFF"?" ":n==="EMPLOYEE"?"/":n==="PG"?" ":n==="UG"?" ":"",")"]})]}),s.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.name,onChange:A=>C({...T,name:A.target.value}),className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-green-500 outline-none"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[s.jsx(tg,{className:"w-4 h-4"}),"   ()"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(tg,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.phone,onChange:A=>C({...T,phone:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(kT,{className:"w-3 h-3 absolute right-3 top-3 text-green-500"}),s.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:T.whatsapp,onChange:A=>C({...T,whatsapp:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(f1,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"email",placeholder:"example@azhar.edu.eg",value:T.email,onChange:A=>C({...T,email:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(pP,{className:"w-3 h-3 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",placeholder:" - ",value:T.address,onChange:A=>C({...T,address:A.target.value}),className:"w-full border p-2 pr-8 rounded bg-white text-sm"})]})]})]})]}),n==="EMPLOYEE"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":   ",required:!0,value:T.jobTitle,onChange:A=>C({...T,jobTitle:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.department,onChange:A=>C({...T,department:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="STAFF"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.subRole,onChange:A=>C({...T,subRole:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white font-bold text-green-700",children:[s.jsx("option",{value:"FACULTY",children:"   ( -   - )"}),s.jsx("option",{value:"ASSISTANT",children:"  (  - )"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.rank,onChange:A=>C({...T,rank:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,value:T.specialization,onChange:A=>C({...T,specialization:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="PG"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:T.degree,onChange:A=>C({...T,degree:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.status,onChange:A=>C({...T,status:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"Researching",children:" "}),s.jsx("option",{value:"Writing",children:" "}),s.jsx("option",{value:"Defense",children:""})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.researchTopic,onChange:A=>C({...T,researchTopic:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",value:T.supervisor,onChange:A=>C({...T,supervisor:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="UG"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsxs("select",{value:T.year,onChange:A=>C({...T,year:A.target.value}),className:"w-full border p-2 rounded-lg outline-none bg-white",children:[s.jsx("option",{value:"Third",children:" "}),s.jsx("option",{value:"Fourth",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",placeholder:":  ",value:T.section,onChange:A=>C({...T,section:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),n==="ALUMNI"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",placeholder:"2023",required:!0,value:T.graduationYear,onChange:A=>C({...T,graduationYear:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"",value:T.currentJob,onChange:A=>C({...T,currentJob:A.target.value}),className:"w-full border p-2 rounded-lg outline-none"})]})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-200 mt-4",children:[s.jsxs("h4",{className:"text-sm font-bold text-amber-800 mb-3 flex items-center gap-2",children:[s.jsx(h1,{className:"w-4 h-4"}),"   "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.username,onChange:A=>C({...T,username:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,value:T.password,onChange:A=>C({...T,password:A.target.value}),className:"w-full border border-gray-300 p-2 rounded bg-white text-sm"})]})]}),s.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"*          ."})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},Pge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[a,l]=w.useState(null),[c,d]=w.useState(0),[h,f]=w.useState(0),[p,g]=w.useState(!1),[v,N]=w.useState(null),[_,j]=w.useState([]),[E,I]=w.useState({protocolUrl:"",toeflUrl:"",publishedPapers:[],otherDocuments:[]}),[R,M]=w.useState({title:"",url:"",date:""}),[T,C]=w.useState("UPLOAD"),[L,P]=w.useState({title:"",url:"",archiveId:""}),[V,F]=w.useState(!1);w.useEffect(()=>{A()},[]);const A=async()=>{r(!0);const W=await y8();e(W),d(W.filter(B=>B.alerts.reportOverdue).length),f(W.filter(B=>B.alerts.extensionNeeded).length),r(!1)},D=W=>{l(a===W?null:W)},z=async(W,B,J)=>{const xe=t.find(X=>X.id===W);if(!xe)return;const te={...xe.dates,[B]:J};if(B==="lastReport"){const X=new Date(J);X.setMonth(X.getMonth()+6),te.nextReportDue=X.toISOString().split("T")[0]}try{await $N(W,{dates:te}),A()}catch(X){console.error(X),alert("   ")}},U=async W=>{N(W.id),I({protocolUrl:W.documents.protocolUrl||"",toeflUrl:W.documents.toeflUrl||"",publishedPapers:W.documents.publishedPapers?[...W.documents.publishedPapers]:[],otherDocuments:W.documents.otherDocuments?[...W.documents.otherDocuments]:[]}),M({title:"",url:"",date:""}),P({title:"",url:"",archiveId:""}),C("UPLOAD");const J=(await fo()).filter(xe=>xe.type===rt.INCOMING||xe.type===rt.OUTGOING||xe.type===rt.DEPARTMENT_COUNCIL);j(J),g(!0)},de=W=>{const B=`https://drive.google.com/file/d/mock-id-${Math.floor(Math.random()*1e4)}`;W==="protocol"?I(J=>({...J,protocolUrl:B})):W==="toefl"?I(J=>({...J,toeflUrl:B})):W==="other"&&P(J=>({...J,url:B}))},ae=()=>{!R.title||!R.date||(I(W=>({...W,publishedPapers:[...W.publishedPapers,{...R}]})),M({title:"",url:"",date:""}))},G=W=>{I(B=>({...B,publishedPapers:B.publishedPapers.filter((J,xe)=>xe!==W)}))},Y=()=>{if(!L.title)return;const W={id:Math.random().toString(36).substr(2,9),title:L.title,date:new Date().toISOString().split("T")[0],type:T};if(T==="UPLOAD"){if(!L.url)return;W.url=L.url}else{if(!L.archiveId)return;const B=_.find(J=>J.id===L.archiveId);W.archiveId=L.archiveId,W.archiveSerial=(B==null?void 0:B.serialNumber)||"???"}I(B=>({...B,otherDocuments:[...B.otherDocuments,W]})),P({title:"",url:"",archiveId:""})},H=W=>{I(B=>({...B,otherDocuments:B.otherDocuments.filter((J,xe)=>xe!==W)}))},ge=async W=>{if(W.preventDefault(),!!v){F(!0);try{const B=t.find(J=>J.id===v);if(B){const J={...B.documents,protocolUrl:E.protocolUrl,toeflUrl:E.toeflUrl,publishedPapers:E.publishedPapers,otherDocuments:E.otherDocuments};await $N(v,{documents:J}),await A()}g(!1)}catch(B){console.error(B),alert("    ")}finally{F(!1)}}};return n?s.jsx("div",{className:"p-8 text-center text-gray-500",children:"    ..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"   "}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.length})]}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-blue-600",children:s.jsx(Ds,{})})]}),s.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${c>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`${c>0?"text-red-700":"text-gray-500"} text-sm font-semibold`,children:" "}),s.jsx("h3",{className:`text-2xl font-bold ${c>0?"text-red-800":"text-gray-800"}`,children:c}),c>0&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"  "})]}),s.jsx("div",{className:`${c>0?"bg-red-200 text-red-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:s.jsx(Ki,{})})]}),s.jsxs("div",{className:`p-4 rounded-xl shadow-sm border flex items-center justify-between transition-colors ${h>0?"bg-amber-50 border-amber-200":"bg-white border-gray-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`${h>0?"text-amber-700":"text-gray-500"} text-sm font-semibold`,children:"  "}),s.jsx("h3",{className:`text-2xl font-bold ${h>0?"text-amber-800":"text-gray-800"}`,children:h}),h>0&&s.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"  "})]}),s.jsx("div",{className:`${h>0?"bg-amber-200 text-amber-700":"bg-gray-50 text-gray-400"} p-3 rounded-full`,children:s.jsx(Gr,{})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:s.jsx("h3",{className:"font-bold text-gray-700",children:"  (  )"})}),s.jsx("div",{className:"divide-y",children:t.map(W=>s.jsxs("div",{className:"group transition-colors hover:bg-gray-50",children:[s.jsxs("div",{className:"p-4 flex flex-col md:flex-row md:items-center justify-between cursor-pointer gap-4",onClick:()=>D(W.id),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white
                                ${W.degree==="PhD"?"bg-purple-600":"bg-blue-600"}
                            `,children:W.degree==="PhD"?"D":"M"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800",children:W.name}),s.jsx("p",{className:"text-sm text-gray-500",children:W.researchTopic})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"text-left md:text-right",children:[s.jsx("p",{className:"text-gray-500 text-xs",children:" "}),s.jsx("p",{className:"font-medium",children:W.supervisor})]}),s.jsxs("div",{className:"flex gap-2",children:[W.alerts.reportOverdue&&s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[s.jsx(Ki,{className:"w-3 h-3"}),"  "]}),W.alerts.extensionNeeded&&s.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[s.jsx(Gr,{className:"w-3 h-3"}),"  "]})]}),s.jsx("button",{className:"text-gray-400 hover:text-green-600",children:a===W.id?s.jsx(JN,{}):s.jsx(QN,{})})]})]}),a===W.id&&s.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-100 animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[s.jsx(gf,{className:"w-4 h-4 text-blue-600"}),"  (Timeline)"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:W.dates.enrollment||"",onChange:B=>z(W.id,"enrollment",B.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  ( )"}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:W.dates.registration||"",onChange:B=>z(W.id,"registration",B.target.value)})]})]}),s.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-700",children:"    "}),W.alerts.reportOverdue&&s.jsx("span",{className:"text-xs text-red-600 font-bold animate-pulse",children:"  !"})]}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm focus:ring-2 focus:ring-blue-500",value:W.dates.lastReport||"",onChange:B=>z(W.id,"lastReport",B.target.value)}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["  : ",s.jsx("span",{className:"font-mono text-gray-600",children:W.dates.nextReportDue||"-"})]})]}),s.jsxs("div",{className:"border-t border-dashed pt-2 mt-2",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  "}),s.jsx("input",{type:"date",className:"w-full border rounded p-1 text-sm bg-gray-50",value:W.dates.expectedDefense||"",onChange:B=>z(W.id,"expectedDefense",B.target.value)})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[s.jsxs("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[s.jsx(Vn,{className:"w-4 h-4 text-green-600"}),"  (Digital Portfolio)"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"  (Protocol)"}),W.documents.protocolUrl?s.jsxs("a",{href:W.documents.protocolUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(Fh,{className:"w-3 h-3"})," "]}):s.jsx("span",{className:"text-xs text-gray-400",children:"  "})]}),s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"  (TOEFL)"}),W.documents.toeflUrl?s.jsxs("a",{href:W.documents.toeflUrl,target:"_blank",className:"text-blue-600 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(Fh,{className:"w-3 h-3"})," "]}):s.jsx("span",{className:"text-xs text-gray-400",children:"  "})]})]}),W.documents.otherDocuments&&W.documents.otherDocuments.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed",children:[s.jsx("h5",{className:"font-semibold text-xs text-gray-600 mb-2",children:"   "}),s.jsx("ul",{className:"space-y-1",children:W.documents.otherDocuments.map((B,J)=>s.jsxs("li",{className:"flex items-center gap-2 text-xs text-gray-600",children:[B.type==="ARCHIVE_LINK"?s.jsx(PT,{className:"w-3 h-3 text-amber-500"}):s.jsx(Vn,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"truncate",children:B.title})]},J))})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("button",{onClick:()=>U(W),className:"mt-3 w-full text-xs bg-green-50 hover:bg-green-100 text-green-700 py-2 rounded-lg border border-green-200 font-semibold transition-colors flex items-center justify-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),"   "]})})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs("button",{onClick:()=>D(W.id),className:"bg-green-600 text-white px-6 py-2 rounded-lg text-sm hover:bg-green-700 flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})})]})]},W.id))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[s.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:"   "})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[t.map(W=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:W.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${W.degree==="PhD"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:W.degree==="PhD"?"":""})}),s.jsx("td",{className:"p-4 text-gray-600 max-w-xs truncate",title:W.researchTopic,children:W.researchTopic}),s.jsxs("td",{className:"p-4 text-gray-600",children:[W.supervisor,W.coSupervisors&&s.jsxs("span",{className:"text-xs text-gray-400 block",children:["+ ",W.coSupervisors]})]}),s.jsx("td",{className:"p-4 font-mono text-gray-500",children:W.dates.registration||"-"}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs border bg-gray-50 border-gray-200 text-gray-600",children:[W.status==="Researching"&&" ",W.status==="Writing"&&" ",W.status==="Defense"&&" ",W.status==="Granted"&&" ",W.status==="Recording"&&" "]})})]},W.id)),t.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:ge,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (Protocol)"}),s.jsx("input",{type:"text",readOnly:!0,value:E.protocolUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),s.jsx("button",{type:"button",onClick:()=>de("protocol"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:s.jsx(Hn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (TOEFL)"}),s.jsx("input",{type:"text",readOnly:!0,value:E.toeflUrl,placeholder:" ",className:"w-full bg-gray-50 border p-2 rounded text-xs text-gray-500"})]}),s.jsx("button",{type:"button",onClick:()=>de("toefl"),className:"mt-5 p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 border border-blue-200",title:" ",children:s.jsx(Hn,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:"  /  "}),E.otherDocuments&&E.otherDocuments.length>0?s.jsx("ul",{className:"space-y-2",children:E.otherDocuments.map((W,B)=>s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[W.type==="ARCHIVE_LINK"?s.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded",children:s.jsx(PT,{className:"w-4 h-4"})}):s.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded",children:s.jsx(Vn,{className:"w-4 h-4"})}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-bold text-gray-800",children:W.title}),W.type==="ARCHIVE_LINK"?s.jsxs("p",{className:"text-amber-600",children:["  : ",W.archiveSerial]}):s.jsx("p",{className:"text-blue-500 underline cursor-pointer",children:"  "})]})]}),s.jsx("button",{type:"button",onClick:()=>H(B),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]},B))}):s.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mt-2",children:[s.jsxs("div",{className:"flex gap-4 mb-3 border-b border-gray-200 pb-2",children:[s.jsx("button",{type:"button",onClick:()=>C("UPLOAD"),className:`text-xs font-bold pb-1 ${T==="UPLOAD"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"  "}),s.jsx("button",{type:"button",onClick:()=>C("ARCHIVE_LINK"),className:`text-xs font-bold pb-1 ${T==="ARCHIVE_LINK"?"text-amber-600 border-b-2 border-amber-600":"text-gray-500"}`,children:"  (/)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",placeholder:"  (:   )",className:"w-full text-xs p-2 rounded border border-gray-300 focus:outline-none focus:border-green-500",value:L.title,onChange:W=>P({...L,title:W.target.value})}),T==="UPLOAD"?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:L.url,placeholder:"   ...",className:"w-full text-xs p-2 rounded border border-gray-300 bg-white text-gray-500"}),s.jsxs("button",{type:"button",onClick:()=>de("other"),className:"whitespace-nowrap px-3 bg-blue-50 text-blue-600 border border-blue-200 rounded text-xs hover:bg-blue-100",children:[s.jsx(Hn,{className:"w-4 h-4 inline-block mr-1"})," "]})]}):s.jsxs("select",{className:"w-full text-xs p-2 rounded border border-gray-300 bg-white",value:L.archiveId,onChange:W=>P({...L,archiveId:W.target.value}),children:[s.jsx("option",{value:"",children:"--     --"}),_.map(W=>s.jsxs("option",{value:W.id,children:["[",W.type===rt.INCOMING?"":"","] ",W.serialNumber," - ",W.subject]},W.id))]}),s.jsxs("button",{type:"button",onClick:Y,className:"w-full mt-2 bg-gray-600 text-white text-xs py-2 rounded hover:bg-gray-700 flex items-center justify-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"})," "]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-bold text-sm text-gray-700 border-b pb-1",children:" "}),E.publishedPapers.length>0?s.jsx("ul",{className:"space-y-2",children:E.publishedPapers.map((W,B)=>s.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border border-gray-200",children:[s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-bold text-gray-800",children:W.title}),s.jsx("p",{className:"text-gray-500",children:W.date})]}),s.jsx("button",{type:"button",onClick:()=>G(B),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]},B))}):s.jsx("p",{className:"text-xs text-gray-400",children:"   ."}),s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-100 space-y-2 mt-2",children:[s.jsx("p",{className:"text-xs font-bold text-green-800",children:"  "}),s.jsx("input",{type:"text",placeholder:" ",className:"w-full text-xs p-2 rounded border border-green-200 focus:outline-none focus:border-green-500",value:R.title,onChange:W=>M({...R,title:W.target.value})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",className:"w-1/3 text-xs p-2 rounded border border-green-200",value:R.date,onChange:W=>M({...R,date:W.target.value})}),s.jsx("input",{type:"text",placeholder:"  (DOI/URL)",className:"w-2/3 text-xs p-2 rounded border border-green-200",value:R.url,onChange:W=>M({...R,url:W.target.value})})]}),s.jsxs("button",{type:"button",onClick:ae,className:"w-full bg-green-600 text-white text-xs py-2 rounded hover:bg-green-700 flex items-center justify-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),"  "]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:V,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:[V?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," "]})]})]})]})})]})},kge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState(!0),[l,c]=w.useState(!1),[d,h]=w.useState(!1),[f,p]=w.useState(null),[g,v]=w.useState(null),[N,_]=w.useState(!1),[j,E]=w.useState(null),[I,R]=w.useState({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]});w.useEffect(()=>{M()},[]);const M=async()=>{a(!0);const A=await ape();n(A),a(!1)},T=A=>{A?(p(A.id),R({name:A.name,model:A.model,serialNumber:A.serialNumber,status:A.status,location:A.location,assignedTo:A.assignedTo,dateAcquired:A.dateAcquired})):(p(null),R({name:"",model:"",serialNumber:"",status:"WORKING",location:"",assignedTo:"",dateAcquired:new Date().toISOString().split("T")[0]})),h(!0)},C=async A=>{A.preventDefault(),c(!0);const D=(t==null?void 0:t.name)||"Unknown";try{f?(await spe(f,I),Ae(" ",D,`  : ${I.name}`),alert("    ")):(await ipe(I),Ae(" ",D,`: ${I.name} - ${I.serialNumber}`),alert("   ")),await M(),h(!1)}catch(z){console.error(z),alert("   ")}finally{c(!1)}},L=A=>{E(A),_(!0)},P=async()=>{if(j){c(!0);try{const A=e.find(D=>D.id===j);await lpe(j),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${A==null?void 0:A.name}`),n(D=>D.filter(z=>z.id!==j)),_(!1),E(null)}catch(A){console.error(A),alert("   "),M()}finally{c(!1)}}},V=A=>{switch(A){case"WORKING":return s.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"MAINTENANCE":return s.jsxs("span",{className:"flex items-center gap-1 bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(Gr,{className:"w-3 h-3"})," "]});case"BROKEN":return s.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(e_,{className:"w-3 h-3"})," "]})}},F={total:e.length,working:e.filter(A=>A.status==="WORKING").length,maintenance:e.filter(A=>A.status==="MAINTENANCE").length,broken:e.filter(A=>A.status==="BROKEN").length};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(vg,{className:"w-6 h-6 text-blue-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"    "})]}),s.jsxs("button",{onClick:()=>T(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:F.total})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl shadow-sm border border-green-100 text-center",children:[s.jsx("p",{className:"text-xs text-green-600 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-green-800",children:F.working})]}),s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl shadow-sm border border-amber-100 text-center",children:[s.jsx("p",{className:"text-xs text-amber-600 font-bold",children:" "}),s.jsx("h3",{className:"text-2xl font-bold text-amber-800",children:F.maintenance})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl shadow-sm border border-red-100 text-center",children:[s.jsx("p",{className:"text-xs text-red-600 font-bold",children:" / "}),s.jsx("h3",{className:"text-2xl font-bold text-red-800",children:F.broken})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:"  (SN)"}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})," ",s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-500",children:" ..."})}):e.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:A.name}),s.jsx("td",{className:"p-4 text-gray-600",children:A.model}),s.jsx("td",{className:"p-4 font-mono text-gray-500",children:A.serialNumber||"-"}),s.jsx("td",{className:"p-4",children:A.location}),s.jsx("td",{className:"p-4",children:A.assignedTo}),s.jsx("td",{className:"p-4",children:V(A.status)}),s.jsx("td",{className:"p-4",children:s.jsxs("button",{onClick:()=>v(A),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg flex items-center gap-1 text-xs",title:" QR Code",children:[s.jsx(vF,{className:"w-4 h-4"}),"QR"]})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>T(A),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),L(A.id)},className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg cursor-pointer transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},A.id)),!r&&e.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:f?"  ":"  "}),s.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:I.name,onChange:A=>R({...I,name:A.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:I.model,onChange:A=>R({...I,model:A.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:"Serial Number",className:"w-full border p-2 rounded-lg outline-none",value:I.serialNumber,onChange:A=>R({...I,serialNumber:A.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg outline-none bg-white",value:I.status,onChange:A=>R({...I,status:A.target.value}),children:[s.jsx("option",{value:"WORKING",children:"  "}),s.jsx("option",{value:"MAINTENANCE",children:" "}),s.jsx("option",{value:"BROKEN",children:" / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",className:"w-full border p-2 rounded-lg outline-none",value:I.dateAcquired,onChange:A=>R({...I,dateAcquired:A.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:":  ",required:!0,className:"w-full border p-2 rounded-lg outline-none",value:I.location,onChange:A=>R({...I,location:A.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:" /",className:"w-full border p-2 rounded-lg outline-none",value:I.assignedTo,onChange:A=>R({...I,assignedTo:A.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[l?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"QR Code "}),s.jsx("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"bg-white p-4 border rounded-lg inline-block shadow-inner mb-4",children:s.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(`ID:${g.id}|Name:${g.name}|SN:${g.serialNumber}`)}`,alt:"QR Code",className:"w-40 h-40"})}),s.jsx("h4",{className:"font-bold text-gray-800",children:g.name}),s.jsx("p",{className:"text-sm text-gray-500 font-mono mb-4",children:g.serialNumber}),s.jsx("button",{onClick:()=>window.print(),className:"w-full bg-gray-800 text-white py-2 rounded-lg hover:bg-gray-900",children:" "})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"         "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:P,disabled:l,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[l&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})})})]})},Mge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState([]),[d,h]=w.useState(!0),[f,p]=w.useState({researcherName:(t==null?void 0:t.name)||"",date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"11:00",experimentType:""}),[g,v]=w.useState(!1),[N,_]=w.useState(null),[j,E]=w.useState({name:"",supervisor:"",location:""}),[I,R]=w.useState(!1),[M,T]=w.useState(null),[C,L]=w.useState(null),[P,V]=w.useState({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),[F,A]=w.useState(!1),[D,z]=w.useState(null),[U,de]=w.useState(!1),[ae,G]=w.useState(null),[Y,H]=w.useState(!1),[ge,W]=w.useState(null),[B,J]=w.useState(!1),xe=(t==null?void 0:t.role)===we.ADMIN||(t==null?void 0:t.role)===we.STAFF;w.useEffect(()=>{te()},[]);const te=async()=>{h(!0);const[ve,et,Je]=await Promise.all([gpe(),ope(),hpe()]),kt=ve.sort((pi,ne)=>pi.date!==ne.date?pi.date.localeCompare(ne.date):pi.startTime.localeCompare(ne.startTime));a(kt),n(et),c(Je),h(!1)},X=ve=>{ve?(_(ve.id),E({name:ve.name,supervisor:ve.supervisor,location:ve.location})):(_(null),E({name:"",supervisor:"",location:""})),v(!0)},Ee=async ve=>{ve.preventDefault(),J(!0);const et=(t==null?void 0:t.name)||"Unknown";try{N?(await upe(N,j),Ae(" ",et,`   : ${j.name}`)):(await cpe(j),Ae(" ",et,`  : ${j.name}`)),await te(),v(!1)}catch(Je){console.error(Je),alert("    ")}finally{J(!1)}},Te=async()=>{if(ae){J(!0);try{const ve=e.find(et=>et.id===ae);await dpe(ae),Ae(" ",(t==null?void 0:t.name)||"Unknown",`  : ${ve==null?void 0:ve.name}`),await te(),de(!1),G(null)}catch(ve){console.error(ve),alert("   ")}finally{J(!1)}}},re=ve=>{T(ve),L(null),V({courseName:"",instructor:"",day:"Saturday",startTime:"08:00",endTime:"10:00"}),R(!0)},ie=ve=>{L(ve.id),V({courseName:ve.courseName,instructor:ve.instructor,day:ve.day,startTime:ve.startTime,endTime:ve.endTime})},ke=async ve=>{if(ve.preventDefault(),!M)return;J(!0);const et=(t==null?void 0:t.name)||"Unknown";try{C?(await mpe(C,P),Ae("  ",et,`: ${P.courseName}`),L(null)):(await fpe({...P,labId:M.id}),Ae("  ",et,`: ${P.courseName} - : ${M.name}`)),await te(),V(Je=>({...Je,courseName:"",instructor:""}))}catch(Je){console.error(Je),alert("    ")}finally{J(!1)}},Z=ve=>{W(ve),H(!0)},he=async()=>{if(ge){J(!0);try{const ve=l.find(et=>et.id===ge);await ppe(ge),Ae("  ",(t==null?void 0:t.name)||"Unknown",` : ${ve==null?void 0:ve.courseName}`),await te(),H(!1),W(null)}catch{alert(" ")}finally{J(!1)}}},Ue=ve=>({Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:""})[ve]||ve,qe=async ve=>{if(ve.preventDefault(),f.endTime<=f.startTime){alert("       ");return}const et=f.experimentType.trim().toLowerCase();if(r.some(kt=>kt.status==="CANCELLED"||kt.date!==f.date||kt.experimentType.trim().toLowerCase()!==et?!1:f.startTime<kt.endTime&&f.endTime>kt.startTime)){alert(`     / (${f.experimentType})   .    .`);return}J(!0);try{await ype({...f,labName:"   ",status:"CONFIRMED"}),Ae(" ",(t==null?void 0:t.name)||f.researcherName,` : ${f.date} - ${f.experimentType}`),await te(),p(kt=>({...kt,experimentType:""})),alert("    ")}catch(kt){console.error(kt),alert("   ")}finally{J(!1)}},vt=async(ve,et)=>{try{await xpe(ve,{status:et}),a(Je=>Je.map(kt=>kt.id===ve?{...kt,status:et}:kt)),Ae("  ",(t==null?void 0:t.name)||"Unknown",`  : ${et}`)}catch(Je){console.error(Je),alert("  ")}},Se=async()=>{if(D){J(!0);try{await vpe(D),Ae("/ ",(t==null?void 0:t.name)||"Unknown","   "),await te(),A(!1),z(null)}catch(ve){console.error(ve),alert("   ")}finally{J(!1)}}},yt=ve=>{switch(ve){case"CONFIRMED":return s.jsxs("span",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"COMPLETED":return s.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(uz,{className:"w-3 h-3"}),"  "]});case"CANCELLED":return s.jsxs("span",{className:"flex items-center gap-1 bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold",children:[s.jsx(e_,{className:"w-3 h-3"})," "]});default:return null}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(d1,{className:"w-6 h-6 text-purple-600"})," "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      "})]}),xe&&s.jsxs("button",{onClick:()=>X(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-purple-700 flex items-center gap-2 shadow-sm",children:[s.jsx(At,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.map(ve=>s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-purple-200 transition-colors relative group",children:[s.jsx("div",{className:"bg-purple-50 w-10 h-10 rounded-full flex items-center justify-center mb-3 text-purple-600",children:s.jsx(d1,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-bold text-gray-800 text-sm mb-1",children:ve.name}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:ve.location}),s.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded border border-gray-100 mb-3",children:[s.jsx("span",{className:"font-semibold text-gray-600",children:":"})," ",ve.supervisor]}),s.jsxs("button",{onClick:()=>re(ve),className:"w-full mt-auto bg-green-50 text-green-700 py-1.5 rounded-lg text-xs font-semibold hover:bg-green-100 flex items-center justify-center gap-1 transition-colors",children:[s.jsx(OF,{className:"w-3 h-3"}),"  "]}),xe&&s.jsxs("div",{className:"absolute top-2 left-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>X(ve),className:"text-blue-400 hover:text-blue-600 bg-white p-1 rounded-full shadow-sm",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{G(ve.id),de(!0)},className:"text-red-400 hover:text-red-600 bg-white p-1 rounded-full shadow-sm",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},ve.id)),e.length===0&&s.jsx("div",{className:"col-span-full text-center p-8 bg-gray-50 rounded-xl border border-dashed text-gray-400",children:"    "})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-800 to-purple-900 p-6 text-white flex justify-between items-center",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx(gf,{className:"w-5 h-5"}),"  -   "]}),s.jsx("p",{className:"text-purple-200 text-xs mt-1",children:"        ."})]})}),s.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 bg-purple-50 p-5 rounded-xl h-fit",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(Ki,{className:"w-4 h-4"}),"   "]}),s.jsxs("form",{onSubmit:qe,className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:f.researcherName,onChange:ve=>p({...f,researcherName:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:f.date,onChange:ve=>p({...f,date:ve.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:f.startTime,onChange:ve=>p({...f,startTime:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:" "}),s.jsx("input",{type:"time",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200",value:f.endTime,onChange:ve=>p({...f,endTime:ve.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"  /  "}),s.jsx("input",{type:"text",placeholder:": PCR, Centrifuge",required:!0,className:"w-full text-sm p-2 rounded border border-purple-200 focus:outline-none focus:ring-2 focus:ring-purple-500",value:f.experimentType,onChange:ve=>p({...f,experimentType:ve.target.value})}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"*          /."})]}),s.jsxs("button",{type:"submit",disabled:B,className:"w-full bg-purple-700 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-800 transition-colors flex justify-center items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-green-600"}),"  "]}),s.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-6 text-center text-gray-400",children:" ..."})}):r.map(ve=>s.jsxs("tr",{className:`hover:bg-gray-50 ${ve.status==="CANCELLED"?"bg-gray-50 opacity-60":""}`,children:[s.jsx("td",{className:"p-3 font-mono text-gray-600",children:ve.date}),s.jsxs("td",{className:"p-3 font-mono text-purple-700 font-bold",children:[ve.startTime," - ",ve.endTime]}),s.jsx("td",{className:"p-3 font-bold text-gray-800",children:ve.researcherName}),s.jsx("td",{className:"p-3 text-gray-600",children:ve.experimentType}),s.jsx("td",{className:"p-3",children:xe?s.jsxs("select",{value:ve.status,onChange:et=>vt(ve.id,et.target.value),className:`text-xs p-1 rounded border focus:outline-none cursor-pointer font-bold ${ve.status==="CONFIRMED"?"text-green-700 bg-green-50 border-green-200":ve.status==="COMPLETED"?"text-blue-700 bg-blue-50 border-blue-200":"text-red-700 bg-red-50 border-red-200"}`,children:[s.jsx("option",{value:"CONFIRMED",children:""}),s.jsx("option",{value:"COMPLETED",children:" "}),s.jsx("option",{value:"CANCELLED",children:""})]}):yt(ve.status)}),s.jsx("td",{className:"p-3",children:(xe||(t==null?void 0:t.name)===ve.researcherName)&&s.jsx("button",{onClick:()=>{z(ve.id),A(!0)},className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},ve.id)),!d&&r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400 italic",children:"   "})})]})]})})]})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:N?"  ":"  "}),s.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.name,onChange:ve=>E({...j,name:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.supervisor,onChange:ve=>E({...j,supervisor:ve.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:j.location,onChange:ve=>E({...j,location:ve.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:B,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[B?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"}),""]})]})]})]})}),I&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl animate-in fade-in zoom-in-95 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-purple-50 rounded-t-xl",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("p",{className:"text-sm text-purple-700",children:M.name})]}),s.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6",children:[xe&&s.jsxs("form",{onSubmit:ke,className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:[s.jsxs("h4",{className:"font-bold text-sm text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4"})," ",C?"  ":"  "]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsx("input",{type:"text",placeholder:"  (: )",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:P.courseName,onChange:ve=>V({...P,courseName:ve.target.value})}),s.jsx("input",{type:"text",placeholder:" ",required:!0,className:"w-full text-sm p-2 rounded border focus:outline-none focus:ring-1 focus:ring-purple-500",value:P.instructor,onChange:ve=>V({...P,instructor:ve.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("select",{className:"text-sm p-2 rounded border focus:outline-none bg-white",value:P.day,onChange:ve=>V({...P,day:ve.target.value}),children:[s.jsx("option",{value:"Saturday",children:""}),s.jsx("option",{value:"Sunday",children:""}),s.jsx("option",{value:"Monday",children:""}),s.jsx("option",{value:"Tuesday",children:""}),s.jsx("option",{value:"Wednesday",children:""}),s.jsx("option",{value:"Thursday",children:""})]}),s.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:P.startTime,onChange:ve=>V({...P,startTime:ve.target.value})}),s.jsx("input",{type:"time",required:!0,title:"",className:"text-sm p-2 rounded border focus:outline-none",value:P.endTime,onChange:ve=>V({...P,endTime:ve.target.value})})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[C&&s.jsx("button",{type:"button",onClick:()=>{L(null),V(ve=>({...ve,courseName:"",instructor:""}))},className:"bg-gray-200 text-gray-600 px-3 py-2 rounded-lg text-sm font-bold hover:bg-gray-300",children:" "}),s.jsx("button",{type:"submit",disabled:B,className:"flex-1 bg-purple-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-purple-700",children:C?" ":" "})]})]}),s.jsxs("div",{className:"space-y-4",children:[["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"].map(ve=>{const et=l.filter(Je=>Je.labId===M.id&&Je.day===ve).sort((Je,kt)=>Je.startTime.localeCompare(kt.startTime));return et.length===0?null:s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-gray-700 text-sm mb-2 border-b pb-1",children:Ue(ve)}),s.jsx("ul",{className:"space-y-2",children:et.map(Je=>s.jsxs("li",{className:"flex justify-between items-center bg-white p-2 rounded border border-gray-200 shadow-sm text-sm",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("span",{className:"font-mono text-purple-700 font-bold w-24",children:[Je.startTime," - ",Je.endTime]}),s.jsx("span",{className:"font-semibold text-gray-800",children:Je.courseName}),s.jsxs("span",{className:"text-gray-500 text-xs flex items-center",children:["(",Je.instructor,")"]})]}),xe&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>ie(Je),className:"text-blue-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50",title:"",children:s.jsx(gn,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>Z(Je.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"",children:s.jsx(ot,{className:"w-3 h-3"})})]})]},Je.id))})]},ve)}),l.filter(ve=>ve.labId===M.id).length===0&&s.jsx("p",{className:"text-center text-gray-400 py-4 italic",children:"      ."})]})]})]})}),U&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"              ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>de(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:Te,disabled:B,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[B&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),Y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>H(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsxs("button",{onClick:he,disabled:B,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-2",children:[B&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})})}),F&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600 mb-4",children:s.jsx(Gr,{className:"w-8 h-8"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"          ."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-2 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:""}),s.jsx("button",{onClick:Se,disabled:B,className:"flex-1 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"  ( )"})]})]})})})]})},Lge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[f,p]=w.useState(!1),[g,v]=w.useState(null),[N,_]=w.useState(!1),[j,E]=w.useState(!1),[I,R]=w.useState(null),[M,T]=w.useState({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]});w.useEffect(()=>{C()},[]);const C=async()=>{c(!0);const[A,D]=await Promise.all([bpe(),wpe()]);n(A.sort((z,U)=>z.number-U.number)),a(D.sort((z,U)=>U.endDate.localeCompare(z.endDate))),c(!1)},L=A=>{v(A),A.status==="OCCUPIED"?T({researcher:A.researcher||"",plantType:A.plantType||"",notes:A.notes||"",startDate:A.startDate||""}):T({researcher:"",plantType:"",notes:"",startDate:new Date().toISOString().split("T")[0]}),p(!0)},P=async A=>{if(A.preventDefault(),!!g){h(!0);try{await LR(g.id,{status:"OCCUPIED",...M}),Ae("  ",(t==null?void 0:t.name)||M.researcher,`    ${g.number}`),await C(),p(!1),alert("    ")}catch(D){console.error(D),alert("   ")}finally{h(!1)}}},V=async()=>{if(g){h(!0);try{g.researcher&&g.plantType&&await Npe({plotNumber:g.number,researcher:g.researcher,plantType:g.plantType,startDate:g.startDate||"Unknown",endDate:new Date().toISOString().split("T")[0],notes:g.notes}),await LR(g.id,{status:"FREE",researcher:void 0,plantType:void 0,notes:void 0,startDate:void 0}),Ae("  ",(t==null?void 0:t.name)||"Unknown",`    ${g.number} `),await C(),_(!1),p(!1),alert("      ")}catch(A){console.error(A),alert("   ")}finally{h(!1)}}},F=async()=>{if(I){h(!0);try{await _pe(I),Ae("   ",(t==null?void 0:t.name)||"Unknown","   "),await C(),E(!1),R(null)}catch{alert("  ")}finally{h(!1)}}};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(fP,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"   (Plots Allocation)  "})]}),s.jsxs("div",{className:"flex gap-4 text-xs font-bold bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-100 border border-green-300"}),s.jsx("span",{className:"text-green-700",children:" "})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 border border-red-300"}),s.jsx("span",{className:"text-red-700",children:" ( )"})]})]})]}),l?s.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[s.jsx(Qe,{className:"w-8 h-8 animate-spin text-green-600"}),s.jsx("span",{children:"   ..."})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(A=>{const D=A.status==="OCCUPIED";return s.jsxs("div",{onClick:()=>L(A),className:`
                                    relative h-48 rounded-2xl border-2 cursor-pointer transition-all duration-200 transform hover:-translate-y-1 hover:shadow-lg p-4 flex flex-col justify-between text-center group
                                    ${D?"bg-red-50 border-red-200 hover:border-red-300":"bg-green-50 border-green-200 hover:border-green-400 border-dashed"}
                                `,children:[s.jsxs("div",{className:"absolute top-3 right-3 font-mono font-bold text-lg opacity-30",children:["#",A.number]}),D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:s.jsx(_u,{className:"w-8 h-8 text-red-500"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800 truncate",children:A.plantType}),s.jsx("p",{className:"text-xs text-red-600 font-semibold mt-1 truncate",children:A.researcher})]}),s.jsxs("span",{className:"text-[10px] text-gray-400 bg-white/50 py-1 rounded-lg",children:[": ",A.startDate]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[s.jsx(_u,{className:"w-8 h-8 text-green-400"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:" "})]}),s.jsx("button",{className:"w-full py-1 bg-green-200 text-green-800 rounded text-xs font-bold opacity-0 group-hover:opacity-100 transition-opacity",children:" "})]})]},A.id)})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-8",children:[s.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uz,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"font-bold text-gray-800",children:"   ()"})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"p-4 font-mono font-bold text-green-700",children:["#",A.plotNumber]}),s.jsx("td",{className:"p-4",children:A.researcher}),s.jsx("td",{className:"p-4",children:A.plantType}),s.jsx("td",{className:"p-4 text-gray-500",children:A.startDate}),s.jsx("td",{className:"p-4 text-gray-500",children:A.endDate}),s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:()=>{R(A.id),E(!0)},className:"text-red-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg",title:"  ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},A.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"    "})})]})]})})]}),f&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:`p-6 border-b rounded-t-xl flex justify-between items-center ${g.status==="OCCUPIED"?"bg-red-50":"bg-green-50"}`,children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(_u,{className:`w-6 h-6 ${g.status==="OCCUPIED"?"text-red-600":"text-green-600"}`}),"  ",g.number]}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 bg-white/50 p-1 rounded-full",children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(bP,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.researcher,onChange:A=>T({...M,researcher:A.target.value}),placeholder:"  "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  / "}),s.jsxs("div",{className:"relative",children:[s.jsx(_u,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"text",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.plantType,onChange:A=>T({...M,plantType:A.target.value}),placeholder:":  ( 95)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(gf,{className:"w-4 h-4 absolute right-3 top-2.5 text-gray-400"}),s.jsx("input",{type:"date",required:!0,disabled:g.status==="OCCUPIED",className:"w-full p-2 pr-9 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.startDate,onChange:A=>T({...M,startDate:A.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"  (  )"}),s.jsx("textarea",{rows:3,disabled:g.status==="OCCUPIED",className:"w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 disabled:bg-gray-50 disabled:text-gray-500",value:M.notes,onChange:A=>T({...M,notes:A.target.value}),placeholder:"     ..."})]}),s.jsx("div",{className:"pt-4 border-t flex justify-end gap-2",children:g.status==="FREE"?s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-bold shadow-md",children:[d?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(qr,{className:"w-4 h-4"})," "]})]}):s.jsxs("button",{type:"button",onClick:()=>_(!0),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 text-sm font-bold shadow-md",children:[s.jsx(ot,{className:"w-4 h-4"}),"   "]})})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(Gr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"                ."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(ot,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"  "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:F,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},Uge=({user:t})=>{const[e,n]=w.useState([]),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[f,p]=w.useState("ALL"),[g,v]=w.useState(!1),[N,_]=w.useState(null),[j,E]=w.useState(!1),[I,R]=w.useState(null),[M,T]=w.useState({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"});w.useEffect(()=>{C()},[]),w.useEffect(()=>{a(f==="ALL"?e:e.filter(D=>D.type===f))},[e,f]);const C=async()=>{c(!0);const z=(await Rpe()).sort((U,de)=>de.date.localeCompare(U.date));n(z),c(!1)},L=D=>{D?(_(D.id),T({title:D.title,type:D.type,date:D.date,location:D.location,description:D.description,regLink:D.regLink||"",status:D.status||"UPCOMING"})):(_(null),T({title:"",type:"WORKSHOP",date:new Date().toISOString().split("T")[0],location:"",description:"",regLink:"",status:"UPCOMING"})),v(!0)},P=async D=>{D.preventDefault(),h(!0);const z=(t==null?void 0:t.name)||"Unknown";try{N?(await kpe(N,M),Ae(" ",z,` : ${M.title}`)):(await Ppe(M),Ae("  ",z,`: ${M.title}`)),await C(),v(!1),alert(N?"   ":"   ")}catch(U){console.error(U),alert("   ")}finally{h(!1)}},V=async()=>{if(I){h(!0);try{const D=e.find(z=>z.id===I);await Mpe(I),Ae(" ",(t==null?void 0:t.name)||"Unknown",` : ${D==null?void 0:D.title}`),await C(),E(!1),R(null)}catch{alert("  ")}finally{h(!1)}}},F=D=>{switch(D){case"WORKSHOP":return{color:"text-orange-600",bg:"bg-orange-50",border:"border-r-4 border-r-orange-500",label:" ",icon:pF};case"SEMINAR":return{color:"text-blue-600",bg:"bg-blue-50",border:"border-r-4 border-r-blue-500",label:"",icon:sF};case"TRIP":return{color:"text-green-600",bg:"bg-green-50",border:"border-r-4 border-r-green-500",label:" / ",icon:ez};case"CONFERENCE":return{color:"text-red-600",bg:"bg-red-50",border:"border-r-4 border-r-red-500",label:"",icon:ii};case"COURSE":return{color:"text-purple-600",bg:"bg-purple-50",border:"border-r-4 border-r-purple-500",label:" ",icon:ai};default:return{color:"text-gray-600",bg:"bg-gray-50",border:"border-gray-300",label:"",icon:m1}}},A=D=>{switch(D){case"UPCOMING":return s.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-green-200",children:[s.jsx(Ki,{className:"w-3 h-3"})," "]});case"COMPLETED":return s.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-gray-200",children:[s.jsx(qr,{className:"w-3 h-3"})," "]});case"CANCELLED":return s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-[10px] font-bold flex items-center gap-1 border border-red-200",children:[s.jsx(e_,{className:"w-3 h-3"})," "]});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(m1,{className:"w-6 h-6 text-purple-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),s.jsxs("button",{onClick:()=>L(),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),s.jsx("span",{children:"  "})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 pb-2 border-b border-gray-200",children:[s.jsx(yu,{active:f==="ALL",onClick:()=>p("ALL"),label:""}),s.jsx(yu,{active:f==="WORKSHOP",onClick:()=>p("WORKSHOP"),label:" "}),s.jsx(yu,{active:f==="SEMINAR",onClick:()=>p("SEMINAR"),label:""}),s.jsx(yu,{active:f==="TRIP",onClick:()=>p("TRIP"),label:" "}),s.jsx(yu,{active:f==="CONFERENCE",onClick:()=>p("CONFERENCE"),label:""}),s.jsx(yu,{active:f==="COURSE",onClick:()=>p("COURSE"),label:" "})]}),l?s.jsxs("div",{className:"p-12 text-center text-gray-500 flex flex-col items-center gap-2",children:[s.jsx(Qe,{className:"w-8 h-8 animate-spin text-purple-600"}),s.jsx("span",{children:"  ..."})]}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.map(D=>{const z=F(D.type),U=z.icon;return s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow relative flex flex-col ${z.border}`,children:[s.jsxs("div",{className:"p-5 flex-1",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold flex items-center gap-1 ${z.bg} ${z.color}`,children:[s.jsx(U,{className:"w-3 h-3"})," ",z.label]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A(D.status),s.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-mono flex items-center gap-1",children:[s.jsx(gf,{className:"w-3 h-3"})," ",D.date]})]})]}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2",children:D.title}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-3",children:[s.jsx(pP,{className:"w-4 h-4"}),s.jsx("span",{children:D.location})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:D.description})]}),s.jsxs("div",{className:"px-5 pb-5 mt-auto flex items-center justify-between",children:[D.regLink&&D.status==="UPCOMING"?s.jsxs("a",{href:D.regLink,target:"_blank",rel:"noreferrer",className:"bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-purple-700 flex items-center gap-2 shadow-sm w-fit",children:["  ",s.jsx(Fh,{className:"w-3 h-3"})]}):s.jsx("span",{className:"text-xs text-gray-400 italic",children:D.status==="UPCOMING"?"   ":" "}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>L(D),className:"text-blue-400 hover:text-blue-600 p-2 rounded-full hover:bg-blue-50 transition-colors",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{R(D.id),E(!0)},className:"text-red-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]},D.id)}),r.length===0&&s.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 bg-gray-50 rounded-xl border border-dashed",children:"       ."})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N?" ":"  "}),s.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(bt,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:P,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.title,onChange:D=>T({...M,title:D.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white",value:M.type,onChange:D=>T({...M,type:D.target.value}),children:[s.jsx("option",{value:"WORKSHOP",children:" "}),s.jsx("option",{value:"SEMINAR",children:""}),s.jsx("option",{value:"TRIP",children:" / "}),s.jsx("option",{value:"CONFERENCE",children:""}),s.jsx("option",{value:"COURSE",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded-lg focus:outline-none bg-white font-semibold",value:M.status,onChange:D=>T({...M,status:D.target.value}),children:[s.jsx("option",{value:"UPCOMING",className:"text-green-600",children:" ()"}),s.jsx("option",{value:"COMPLETED",className:"text-gray-600",children:" ()"}),s.jsx("option",{value:"CANCELLED",className:"text-red-600",children:""})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.date,onChange:D=>T({...M,date:D.target.value})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,placeholder:":  ",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.location,onChange:D=>T({...M,location:D.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{rows:3,placeholder:"  ...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",value:M.description,onChange:D=>T({...M,description:D.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),s.jsx("input",{type:"text",placeholder:"Google Form Link...",className:"w-full border p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ltr-text",value:M.regLink,onChange:D=>T({...M,regLink:D.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:d,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 flex items-center gap-2",children:[d?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):N?s.jsx(_n,{className:"w-4 h-4"}):s.jsx(At,{className:"w-4 h-4"}),N?" ":" "]})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(ot,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"      "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:V,disabled:d,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[d&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},yu=({active:t,onClick:e,label:n})=>s.jsx("button",{onClick:e,className:`px-4 py-2 rounded-full text-sm font-bold transition-all ${t?"bg-purple-600 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:n}),Vge=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[a,l]=w.useState(!0),[c,d]=w.useState(""),[h,f]=w.useState(!1),[p,g]=w.useState(null),[v,N]=w.useState(!1);w.useEffect(()=>{_()},[]),w.useEffect(()=>{if(!c)r(t);else{const R=c.toLowerCase();r(t.filter(M=>M.action.toLowerCase().includes(R)||M.performedBy.toLowerCase().includes(R)||M.details.toLowerCase().includes(R)))}},[c,t]);const _=async()=>{l(!0);const R=await Lme();e(R),r(R),l(!1)},j=R=>{g(R),f(!0)},E=async()=>{if(p){N(!0);try{await Ume(p),await _(),f(!1),g(null)}catch(R){console.error(R),alert("  ")}finally{N(!1)}}},I=async()=>{l(!0),await Ae(" ","Admin","     "),await _(),l(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(sP,{className:"w-6 h-6 text-red-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"      (  )"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:I,className:"text-sm bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[s.jsx(Dh,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:_,className:"text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg flex items-center gap-1",children:[s.jsx(p1,{className:"w-4 h-4"})," "]})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:border-red-500",value:c,onChange:R=>d(R.target.value)})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:" ..."})}):n.length>0?n.map(R=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:R.action}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs font-bold",children:R.performedBy})}),s.jsx("td",{className:"p-4 text-gray-600",children:R.details}),s.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",dir:"ltr",children:new Date(R.timestamp).toLocaleString("ar-EG")}),s.jsx("td",{className:"p-4",children:s.jsx("button",{onClick:()=>j(R.id),className:"text-red-400 hover:text-red-600 p-1 rounded hover:bg-red-50",title:"  ",children:s.jsx(ot,{className:"w-4 h-4"})})})]},R.id)):s.jsx("tr",{children:s.jsxs("td",{colSpan:5,className:"p-12 text-center text-gray-400 flex flex-col items-center justify-center",children:[s.jsx(xP,{className:"w-10 h-10 mb-2 opacity-20"}),s.jsx("p",{children:"     "}),s.jsx("p",{className:"text-xs mt-2 text-blue-500 cursor-pointer",onClick:I,children:"    "})]})})})]})})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm shadow-2xl animate-in fade-in zoom-in-95 p-6 text-center",children:[s.jsx("div",{className:"bg-red-100 p-3 rounded-full inline-block mb-4",children:s.jsx(Gr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"        "}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-bold hover:bg-gray-200",children:""}),s.jsxs("button",{onClick:E,disabled:v,className:"flex-1 py-2 bg-red-600 text-white rounded-lg text-sm font-bold hover:bg-red-700 flex items-center justify-center gap-2",children:[v&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),""]})]})]})})]})},zge=({user:t})=>{const e=My(),[n,r]=w.useState([]),[a,l]=w.useState(!0),[c,d]=w.useState(""),[h,f]=w.useState("ALL"),[p,g]=w.useState(!1),[v,N]=w.useState(!1),[_,j]=w.useState({category:"ADMIN_FINANCE",isActive:!0}),[E,I]=w.useState(null),[R,M]=w.useState(null),[T,C]=w.useState(null),L=t.role===we.ADMIN||t.role===we.DATA_ENTRY;w.useEffect(()=>{P()},[]);const P=async()=>{l(!0);const U=await gge();r(U),l(!1)},V=async()=>{let U="",de="";return E&&(U=await di(E)),R&&(de=await di(R)),{sourceUrl:U,previewUrl:de}},F=async U=>{var de,ae;U.preventDefault(),N(!0);try{const G=await V();await yge({title:_.title,category:_.category,description:_.description||"",updatedAt:new Date().toISOString().split("T")[0],isActive:!0,sourceFileUrl:G.sourceUrl,previewFileUrl:G.previewUrl,isFillableOnline:(de=_.title)==null?void 0:de.includes(""),fillableLink:(ae=_.title)!=null&&ae.includes("")?"/leaves":void 0}),await Ae(" ",t.name,`  : ${_.title}`),g(!1),j({category:"ADMIN_FINANCE",isActive:!0}),I(null),M(null),P(),alert("   ")}catch{alert("   ")}finally{N(!1)}},A=async(U,de)=>{window.confirm("  ")&&(await xge(U),await Ae(" ",t.name,` : ${de}`),P())},D=({category:U})=>{const ae={ADMIN_FINANCE:{label:"  ",color:"bg-blue-100 text-blue-800"},STUDENT_AFFAIRS:{label:" ",color:"bg-green-100 text-green-800"},POSTGRAD_RESEARCH:{label:" ",color:"bg-purple-100 text-purple-800"},QUALITY:{label:" ",color:"bg-amber-100 text-amber-800"}}[U]||{label:U,color:"bg-gray-100"};return s.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-bold ${ae.color}`,children:ae.label})},z=n.filter(U=>{var de;return(h==="ALL"||U.category===h)&&(U.title.includes(c)||((de=U.description)==null?void 0:de.includes(c)))});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Bz,{className:"w-8 h-8 text-indigo-600"}),"   "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"     "})]}),L&&s.jsxs("button",{onClick:()=>g(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-md transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-3 flex items-center gap-2",children:[s.jsx(Fh,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("button",{onClick:()=>e("/leaves"),className:"p-3 bg-blue-50 hover:bg-blue-100 rounded-lg text-blue-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Plane,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{className:"p-3 bg-green-50 hover:bg-green-100 rounded-lg text-green-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{className:"p-3 bg-purple-50 hover:bg-purple-100 rounded-lg text-purple-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{className:"p-3 bg-amber-50 hover:bg-amber-100 rounded-lg text-amber-700 text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Dz,{className:"w-4 h-4"}),"  "]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-3"}),s.jsx("input",{type:"text",placeholder:"   (:   ...)",className:"w-full border p-3 pr-10 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 bg-gray-50 focus:bg-white transition-all",value:c,onChange:U=>d(U.target.value)})]})]}),s.jsx("div",{className:"flex overflow-x-auto pb-2 gap-2",children:[{id:"ALL",label:""},{id:"ADMIN_FINANCE",label:"  "},{id:"STUDENT_AFFAIRS",label:"  "},{id:"POSTGRAD_RESEARCH",label:" "},{id:"QUALITY",label:" "}].map(U=>s.jsx("button",{onClick:()=>f(U.id),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${h===U.id?"bg-indigo-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100 border"}`,children:U.label},U.id))}),a?s.jsx("div",{className:"text-center py-12",children:s.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[z.map(U=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-lg transition-all group relative",children:[L&&s.jsx("button",{onClick:()=>A(U.id,U.title),className:"absolute top-4 left-4 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg",children:s.jsx(Cz,{className:"w-6 h-6"})}),s.jsx(D,{category:U.category})]}),s.jsx("h3",{className:"font-bold text-gray-800 text-lg mb-1",children:U.title}),s.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[" : ",U.updatedAt]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 h-10",children:U.description}),s.jsxs("div",{className:"flex gap-2 border-t pt-4",children:[U.sourceFileUrl?s.jsxs("a",{href:U.sourceFileUrl,target:"_blank",rel:"noreferrer",className:"flex-1 bg-indigo-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-indigo-700 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  Word"]}):s.jsx("button",{disabled:!0,className:"flex-1 bg-gray-100 text-gray-400 py-2 rounded-lg text-sm cursor-not-allowed",children:" "}),U.isFillableOnline?s.jsx("button",{onClick:()=>e(U.fillableLink),className:"px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 border border-green-200",title:" ",children:s.jsx(yF,{className:"w-5 h-5"})}):U.previewFileUrl?s.jsx("button",{onClick:()=>C(U),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",title:"",children:s.jsx(Nz,{className:"w-5 h-5"})}):null]})]},U.id)),z.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-gray-400",children:"    "})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"  "}),s.jsx("button",{onClick:()=>g(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:_.title||"",onChange:U=>j({..._,title:U.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:_.category,onChange:U=>j({..._,category:U.target.value}),children:[s.jsx("option",{value:"ADMIN_FINANCE",children:"  "}),s.jsx("option",{value:"STUDENT_AFFAIRS",children:"  "}),s.jsx("option",{value:"POSTGRAD_RESEARCH",children:"  "}),s.jsx("option",{value:"QUALITY",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:2,value:_.description||"",onChange:U=>j({..._,description:U.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"border-2 border-dashed p-4 rounded-lg text-center",children:[s.jsx("label",{className:"block text-xs font-bold text-blue-600 mb-2",children:" Word ()"}),s.jsx("input",{type:"file",className:"text-xs",accept:".doc,.docx",onChange:U=>{var de;return I(((de=U.target.files)==null?void 0:de[0])||null)}})]}),s.jsxs("div",{className:"border-2 border-dashed p-4 rounded-lg text-center",children:[s.jsx("label",{className:"block text-xs font-bold text-red-600 mb-2",children:" PDF ()"}),s.jsx("input",{type:"file",className:"text-xs",accept:".pdf",onChange:U=>{var de;return M(((de=U.target.files)==null?void 0:de[0])||null)}})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{type:"submit",disabled:v,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700 flex items-center gap-2",children:[v&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"})," "]})]})]})]})}),T&&s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl h-[85vh] flex flex-col shadow-2xl",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"font-bold text-lg",children:T.title}),s.jsx("button",{onClick:()=>C(null),children:s.jsx(bt,{className:"w-6 h-6 text-gray-500"})})]}),s.jsx("div",{className:"flex-1 bg-gray-100 p-4 overflow-hidden",children:T.previewFileUrl?s.jsx("iframe",{src:T.previewFileUrl,className:"w-full h-full rounded border",title:"Preview"}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"   "})}),s.jsx("div",{className:"p-4 border-t flex justify-end",children:s.jsxs("a",{href:T.sourceFileUrl,target:"_blank",rel:"noreferrer",className:"bg-indigo-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 hover:bg-indigo-700",children:[s.jsx(Kl,{className:"w-4 h-4"}),"    "]})})]})})]})},Fge=({user:t})=>{const[e,n]=w.useState("COUNCIL"),[r,a]=w.useState(!0),[l,c]=w.useState([]),[d,h]=w.useState([]),f=new Date().getFullYear(),[p,g]=w.useState(`${f}-${f+1}`),[v,N]=w.useState(!1),[_,j]=w.useState(!1),[E,I]=w.useState(null),[R,M]=w.useState(null),[T,C]=w.useState({academicYear:"",members:[]}),[L,P]=w.useState({name:"",academicYear:"",members:[]}),[V,F]=w.useState(null),A=t.role===we.ADMIN;w.useEffect(()=>{D()},[]);const D=async()=>{a(!0);const[te,X]=await Promise.all([Lpe(),Fpe()]);c(te),h(X),a(!1)},z=()=>{const te=new Set([...l.map(X=>X.academicYear),...d.map(X=>X.academicYear)]);return te.add(`${f}-${f+1}`),Array.from(te).sort().reverse()},U=te=>{te?(I(te.id),C({academicYear:te.academicYear,members:[...te.members]})):(I(null),C({academicYear:p,members:[]})),N(!0)},de=async()=>{if(!T.academicYear){alert("   ");return}try{E?(await Vpe(E,T),await Ae("   ",t.name,`     : ${T.academicYear}`)):(await Upe(T),await Ae("   ",t.name,`      : ${T.academicYear}`)),N(!1),D(),alert("   ")}catch(te){console.error(te),alert("   ")}},ae=async te=>{if(window.confirm("       "))try{await zpe(te),await Ae("   ",t.name,"      "),D()}catch(X){console.error(X),alert(" ")}},G=te=>{te?(M(te.id),P({name:te.name,academicYear:te.academicYear,members:[...te.members]})):(M(null),P({name:"",academicYear:p,members:[]})),j(!0)},Y=async()=>{if(!L.name||!L.academicYear){alert(" ");return}try{R?(await Bpe(R,L),await Ae(" ",t.name,`  ${L.name}  ${L.academicYear}`)):(await $pe(L),await Ae(" ",t.name,`   : ${L.name}  ${L.academicYear}`)),j(!1),D(),alert("   ")}catch(te){console.error(te),alert("   ")}},H=async(te,X)=>{if(window.confirm(`      ${X}`))try{await qpe(te),await Ae(" ",t.name,`  : ${X}`),D()}catch(Ee){console.error(Ee),alert(" ")}},ge=te=>{te(X=>({...X,members:[...X.members,{name:"",role:"",title:""}]}))},W=(te,X,Ee,Te)=>{te(re=>{const ie=[...re.members];return ie[X]={...ie[X],[Ee]:Te},{...re,members:ie}})},B=(te,X)=>{te(Ee=>({...Ee,members:Ee.members.filter((Te,re)=>re!==X)}))},J=l.find(te=>te.academicYear===p),xe=d.filter(te=>te.academicYear===p);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Ko,{className:"w-6 h-6 text-indigo-600"}),"  "]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"       "})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded-lg border border-gray-200 shadow-sm",children:[s.jsx("span",{className:"text-sm font-bold text-gray-600",children:" :"}),s.jsx("select",{value:p,onChange:te=>g(te.target.value),className:"bg-gray-50 border border-gray-300 rounded px-3 py-1 text-sm outline-none focus:ring-2 focus:ring-indigo-500 font-mono font-bold text-indigo-700",children:z().map(te=>s.jsx("option",{value:te,children:te},te))})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>n("COUNCIL"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COUNCIL"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(ii,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("COMMITTEES"),className:`px-6 py-3 font-bold text-sm transition-colors flex items-center gap-2 ${e==="COMMITTEES"?"text-indigo-700 border-b-2 border-indigo-700 bg-indigo-50":"text-gray-500 hover:text-indigo-600"}`,children:[s.jsx(Ko,{className:"w-4 h-4"}),"  "]})]}),e==="COUNCIL"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"    ",p]}),A&&s.jsxs("button",{onClick:()=>U(J),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[J?s.jsx(gn,{className:"w-4 h-4"}):s.jsx(At,{className:"w-4 h-4"}),J?" ":"  "]})]}),J?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" (Role)"})]})}),s.jsx("tbody",{className:"divide-y",children:J.members.map((te,X)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 text-gray-500",children:te.title}),s.jsx("td",{className:"p-4 font-bold text-gray-800",children:te.name}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold 
                                                        ${te.role.includes("")?"bg-indigo-100 text-indigo-700":te.role.includes("")?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:te.role})})]},X))})]})}),A&&s.jsx("div",{className:"p-4 bg-gray-50 border-t flex justify-end",children:s.jsxs("button",{onClick:()=>ae(J.id),className:"text-red-500 text-xs flex items-center gap-1 hover:underline",children:[s.jsx(ot,{className:"w-3 h-3"}),"   "]})})]}):s.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[s.jsx(ii,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"       ."}),A&&s.jsx("p",{className:"text-xs mt-2",children:'  "  " '})]})]}),e==="COMMITTEES"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),"   ",p]}),A&&s.jsxs("button",{onClick:()=>G(),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-indigo-700 shadow-sm",children:[s.jsx(At,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[xe.map(te=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer bg-white",onClick:()=>F(V===te.id?null:te.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-indigo-50 p-2.5 rounded-full text-indigo-600",children:s.jsx(Ko,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:te.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[te.members.length," "]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A&&s.jsxs("div",{className:"flex gap-1 ml-2 border-l pl-2",children:[s.jsx("button",{onClick:X=>{X.stopPropagation(),G(te)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:X=>{X.stopPropagation(),H(te.id,te.name)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]}),V===te.id?s.jsx(JN,{className:"w-5 h-5 text-gray-400"}):s.jsx(QN,{className:"w-5 h-5 text-gray-400"})]})]}),V===te.id&&s.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50 animate-in slide-in-from-top-1",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-gray-500 border-b border-gray-200",children:[s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""}),s.jsx("th",{className:"pb-2",children:""})]})}),s.jsx("tbody",{children:te.members.map((X,Ee)=>s.jsxs("tr",{children:[s.jsx("td",{className:"py-2 text-gray-500 w-20",children:X.title}),s.jsx("td",{className:"py-2 font-medium",children:X.name}),s.jsx("td",{className:"py-2 text-indigo-700 font-bold",children:X.role})]},Ee))})]})})]},te.id)),xe.length===0&&s.jsxs("div",{className:"text-center p-12 bg-gray-50 rounded-xl border border-dashed border-gray-300 text-gray-400",children:[s.jsx(Ko,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),s.jsx("p",{children:"     ."})]})]})]}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:E?"   ":"  "}),s.jsx("button",{onClick:()=>N(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:T.academicYear,onChange:te=>C({...T,academicYear:te.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),s.jsxs("button",{onClick:()=>ge(C),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"space-y-2",children:T.members.map((te,X)=>s.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[s.jsx("input",{type:"text",placeholder:" (.)",value:te.title,onChange:Ee=>W(C,X,"title",Ee.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("input",{type:"text",placeholder:" ",value:te.name,onChange:Ee=>W(C,X,"name",Ee.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),s.jsx("input",{type:"text",placeholder:" (/)",value:te.role,onChange:Ee=>W(C,X,"role",Ee.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("button",{onClick:()=>B(C,X),className:"text-red-400 hover:text-red-600 p-1",children:s.jsx(ot,{className:"w-4 h-4"})})]},X))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{onClick:de,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6 shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:R?" ":"  "}),s.jsx("button",{onClick:()=>j(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:L.name,onChange:te=>P({...L,name:te.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:":  "})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",value:L.academicYear,onChange:te=>P({...L,academicYear:te.target.value}),className:"w-full border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none font-mono",placeholder:"YYYY-YYYY"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h4",{className:"font-bold text-sm text-indigo-800",children:" "}),s.jsxs("button",{onClick:()=>ge(P),className:"text-xs bg-indigo-100 text-indigo-700 px-3 py-1.5 rounded-lg hover:bg-indigo-200 font-bold flex items-center gap-1",children:[s.jsx(At,{className:"w-3 h-3"}),"  "]})]}),s.jsx("div",{className:"space-y-2",children:L.members.map((te,X)=>s.jsxs("div",{className:"flex gap-2 items-center bg-white p-2 rounded border border-gray-200 shadow-sm",children:[s.jsx("input",{type:"text",placeholder:"",value:te.title,onChange:Ee=>W(P,X,"title",Ee.target.value),className:"w-20 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("input",{type:"text",placeholder:" ",value:te.name,onChange:Ee=>W(P,X,"name",Ee.target.value),className:"flex-1 border p-1.5 rounded text-sm outline-none focus:border-indigo-500 font-bold"}),s.jsx("input",{type:"text",placeholder:"",value:te.role,onChange:Ee=>W(P,X,"role",Ee.target.value),className:"w-32 border p-1.5 rounded text-sm outline-none focus:border-indigo-500"}),s.jsx("button",{onClick:()=>B(P,X),className:"text-red-400 hover:text-red-600 p-1",children:s.jsx(ot,{className:"w-4 h-4"})})]},X))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:""}),s.jsxs("button",{onClick:Y,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 font-bold flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]})]})]})]})})]})},$ge=({user:t})=>{const e="2024-2025",[n,r]=w.useState(t.role===we.ADMIN),[a,l]=w.useState(!0),[c,d]=w.useState(!1),[h,f]=w.useState({id:"",userId:t.id,userName:t.name,academicYear:e,status:"DRAFT",publishedResearch:[],ongoingResearch:[],scientificActivity:{conferences:[],thesesJudged:0,supervisionCount:0,trainingCourses:""},communityActivity:{books:"",convoys:"",media:"",memberships:""}}),[p,g]=w.useState(1),[v,N]=w.useState([]),[_,j]=w.useState([]);w.useEffect(()=>{n&&t.role===we.ADMIN?I():E()},[n,t.id,t.role]);const E=async()=>{l(!0);try{const A=await Hpe(t.id,e);f(A||(D=>({...D,userId:t.id,userName:t.name})))}catch(A){console.error("Error fetching report:",A)}l(!1)},I=async()=>{l(!0);try{const A=await Kpe(e),D=await Qf();N(A),j(D.map(z=>z.name))}catch(A){console.error("Error fetching dept data:",A)}l(!1)},R=async(A=!1)=>{d(!0);try{const D={...h,status:A?"SUBMITTED":"DRAFT",submissionDate:A?new Date().toISOString():h.submissionDate};await Gpe(D,h.id||void 0),A?(await Ae("  ",t.name,`     ${e}`),alert("    ")):(await Ae("  ",t.name,`     ${e}`),alert("   ")),E()}catch(D){console.error(D),alert("   ")}finally{d(!1)}},M=async()=>{if(!window.confirm("     .   "))return;const A={id:Date.now().toString(),title:"Research imported from profile",journal:"Journal of Botany",date:"2024-01",type:"International"};f(D=>({...D,publishedResearch:[...D.publishedResearch,A]})),await Ae(" ",t.name,"        "),alert("   ()")},T=async(A,D)=>{try{const z=await di(A),U=[...h.publishedResearch];U[D].fileUrl=z,f({...h,publishedResearch:U}),alert("   ")}catch(z){alert("  : "+z.message)}},C=()=>{window.print()},L=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[s.jsx(ai,{className:"w-5 h-5 text-blue-600"}),"   (Published Research)"]}),s.jsxs("button",{onClick:M,className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 flex items-center gap-1 border border-blue-200",children:[s.jsx(zz,{className:"w-4 h-4"}),"    "]})]}),h.publishedResearch.map((A,D)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[s.jsx("button",{onClick:()=>{const z=h.publishedResearch.filter((U,de)=>de!==D);f({...h,publishedResearch:z})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pl-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.title,onChange:z=>{const U=[...h.publishedResearch];U[D].title=z.target.value,f({...h,publishedResearch:U})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" / "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-500 outline-none",value:A.journal,onChange:z=>{const U=[...h.publishedResearch];U[D].journal=z.target.value,f({...h,publishedResearch:U})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.type,onChange:z=>{const U=[...h.publishedResearch];U[D].type=z.target.value,f({...h,publishedResearch:U})},children:[s.jsx("option",{value:"International",children:" (International)"}),s.jsx("option",{value:"Regional",children:" (Regional)"}),s.jsx("option",{value:"Local",children:" (Local)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("input",{type:"month",className:"w-full border p-2 rounded outline-none",value:A.date,onChange:z=>{const U=[...h.publishedResearch];U[D].date=z.target.value,f({...h,publishedResearch:U})}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" (PDF)"}),s.jsx("div",{className:"flex items-center gap-2",children:A.fileUrl?s.jsxs("a",{href:A.fileUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-sm underline flex items-center gap-1",children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}):s.jsxs("div",{className:"relative w-full",children:[s.jsx("input",{type:"file",id:`file-${D}`,className:"hidden",onChange:z=>z.target.files&&T(z.target.files[0],D)}),s.jsxs("label",{htmlFor:`file-${D}`,className:"cursor-pointer bg-white border border-gray-300 text-gray-600 px-3 py-1.5 rounded text-sm flex items-center justify-center gap-2 hover:bg-gray-50",children:[s.jsx(Hn,{className:"w-4 h-4"}),"  "]})]})})]})]})]},D)),s.jsxs("button",{onClick:()=>f({...h,publishedResearch:[...h.publishedResearch,{id:Date.now().toString(),title:"",journal:"",date:"",type:"International"}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-blue-600 hover:border-blue-300 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),"   "]})]}),P=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(vg,{className:"w-5 h-5 text-green-600"}),"   (Ongoing Research)"]}),h.ongoingResearch.map((A,D)=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 relative animate-in fade-in",children:[s.jsx("button",{onClick:()=>{const z=h.ongoingResearch.filter((U,de)=>de!==D);f({...h,ongoingResearch:z})},className:"absolute top-2 left-2 text-red-400 hover:text-red-600 p-1",title:"",children:s.jsx(ot,{className:"w-4 h-4"})}),s.jsxs("div",{className:"space-y-3 pl-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"  "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.topic,onChange:z=>{const U=[...h.ongoingResearch];U[D].topic=z.target.value,f({...h,ongoingResearch:U})}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white outline-none",value:A.stage,onChange:z=>{const U=[...h.ongoingResearch];U[D].stage=z.target.value,f({...h,ongoingResearch:U})},children:[s.jsx("option",{value:"Data Collection",children:"  "}),s.jsx("option",{value:"Lab Experiments",children:" "}),s.jsx("option",{value:"Writing",children:" "}),s.jsx("option",{value:"Under Review",children:" "})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs text-gray-500 font-bold",children:["  (",A.progress,"%)"]}),s.jsx("input",{type:"range",min:"0",max:"100",className:"w-full accent-green-600 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2",value:A.progress,onChange:z=>{const U=[...h.ongoingResearch];U[D].progress=parseInt(z.target.value),f({...h,ongoingResearch:U})}})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-500 font-bold",children:" ()"}),s.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded focus:ring-2 focus:ring-green-500 outline-none",value:A.participants||"",onChange:z=>{const U=[...h.ongoingResearch];U[D].participants=z.target.value,f({...h,ongoingResearch:U})}})]})]})]},D)),s.jsxs("button",{onClick:()=>f({...h,ongoingResearch:[...h.ongoingResearch,{id:Date.now().toString(),topic:"",stage:"Data Collection",progress:0}]}),className:"w-full border-2 border-dashed border-gray-300 p-3 rounded-lg text-gray-500 hover:bg-gray-50 hover:text-green-600 hover:border-green-300 flex items-center justify-center gap-2 transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),"   "]})]}),V=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(eg,{className:"w-5 h-5 text-purple-600"}),"   (Scientific Activity)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"    "}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:h.scientificActivity.thesesJudged,onChange:A=>f({...h,scientificActivity:{...h.scientificActivity,thesesJudged:parseInt(A.target.value)}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   (/)"}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",value:h.scientificActivity.supervisionCount,onChange:A=>f({...h,scientificActivity:{...h.scientificActivity,supervisionCount:parseInt(A.target.value)}})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  (/)"}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-purple-500 outline-none",rows:3,placeholder:"   ...",value:h.scientificActivity.trainingCourses,onChange:A=>f({...h,scientificActivity:{...h.scientificActivity,trainingCourses:A.target.value}})})]})]}),s.jsxs("div",{className:"mt-4 border-t pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600",children:" "}),s.jsx("button",{onClick:()=>f({...h,scientificActivity:{...h.scientificActivity,conferences:[...h.scientificActivity.conferences,{name:"",role:"Attendance",date:"",location:""}]}}),className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded hover:bg-purple-100",children:"+ "})]}),h.scientificActivity.conferences.map((A,D)=>s.jsxs("div",{className:"flex gap-2 mb-2 items-center bg-gray-50 p-2 rounded",children:[s.jsx("input",{type:"text",placeholder:" ",className:"flex-1 border p-1 rounded text-sm",value:A.name,onChange:z=>{const U=[...h.scientificActivity.conferences];U[D].name=z.target.value,f({...h,scientificActivity:{...h.scientificActivity,conferences:U}})}}),s.jsxs("select",{className:"w-24 border p-1 rounded text-sm",value:A.role,onChange:z=>{const U=[...h.scientificActivity.conferences];U[D].role=z.target.value,f({...h,scientificActivity:{...h.scientificActivity,conferences:U}})},children:[s.jsx("option",{value:"Attendance",children:""}),s.jsx("option",{value:"Speaker",children:""}),s.jsx("option",{value:"Organizer",children:""})]}),s.jsx("button",{onClick:()=>{const z=h.scientificActivity.conferences.filter((U,de)=>de!==D);f({...h,scientificActivity:{...h.scientificActivity,conferences:z}})},className:"text-red-500",title:"",children:s.jsx(bt,{className:"w-4 h-4"})})]},D))]})]}),F=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(ii,{className:"w-5 h-5 text-amber-600"}),"   "]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:" "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.books,onChange:A=>f({...h,communityActivity:{...h.communityActivity,books:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"  "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.convoys,onChange:A=>f({...h,communityActivity:{...h.communityActivity,convoys:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.media,onChange:A=>f({...h,communityActivity:{...h.communityActivity,media:A.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-600 mb-1",children:"   "}),s.jsx("textarea",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-amber-500 outline-none",rows:2,value:h.communityActivity.memberships,onChange:A=>f({...h,communityActivity:{...h.communityActivity,memberships:A.target.value}})})]})]});if(n&&t.role===we.ADMIN){if(a)return s.jsx("div",{className:"p-10 text-center",children:s.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})});const A=v.reduce((de,ae)=>{var G;return de+(((G=ae.publishedResearch)==null?void 0:G.length)||0)},0),D=v.reduce((de,ae)=>{var G;return de+(((G=ae.publishedResearch)==null?void 0:G.filter(Y=>Y.type==="International").length)||0)},0),z=v.filter(de=>de.status==="SUBMITTED").length,U=[...v].sort((de,ae)=>{var G,Y;return(((G=ae.publishedResearch)==null?void 0:G.length)||0)-(((Y=de.publishedResearch)==null?void 0:Y.length)||0)})[0];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(qr,{className:"w-6 h-6 text-green-600"}),"  "]}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),s.jsx("button",{onClick:()=>r(!1),className:"bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors",children:"  "})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 no-print",children:[s.jsx(Ia,{title:" ",value:`${z} / ${_.length}`,icon:qr,color:"green"}),s.jsx(Ia,{title:" ",value:A,icon:ai,color:"blue"}),s.jsx(Ia,{title:" ",value:D,icon:hP,color:"purple"}),s.jsx(Ia,{title:" ",value:U?U.userName.split(" ")[0]:"-",icon:eg,color:"amber"})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print",children:[s.jsx("div",{className:"p-4 border-b border-gray-100",children:s.jsx("h3",{className:"font-bold text-gray-700",children:"   "})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" "})]})}),s.jsxs("tbody",{className:"divide-y",children:[_.map((de,ae)=>{var Y,H;const G=v.find(ge=>ge.userName===de);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:de}),s.jsx("td",{className:"p-4",children:(G==null?void 0:G.status)==="SUBMITTED"?s.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(qr,{className:"w-3 h-3"}),"  "]}):G?s.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(Ki,{className:"w-3 h-3"}),"  "]}):s.jsxs("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1 w-fit",children:[s.jsx(ZN,{className:"w-3 h-3"}),"  "]})}),s.jsx("td",{className:"p-4 font-mono",children:((Y=G==null?void 0:G.publishedResearch)==null?void 0:Y.length)||0}),s.jsx("td",{className:"p-4 font-mono",children:((H=G==null?void 0:G.ongoingResearch)==null?void 0:H.length)||0}),s.jsx("td",{className:"p-4 font-mono text-xs text-gray-500",children:G!=null&&G.submissionDate?new Date(G.submissionDate).toLocaleDateString("ar-EG"):"-"})]},ae)}),_.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})]})}return a?s.jsx("div",{className:"p-10 text-center",children:s.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 no-print bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(Vn,{className:"w-6 h-6 text-blue-600"}),"   "]}),s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["  ",e]})]}),t.role===we.ADMIN&&s.jsxs("button",{onClick:()=>r(!0),className:"bg-purple-50 hover:bg-purple-100 text-purple-700 px-4 py-2 rounded-lg text-sm font-bold transition-colors flex items-center gap-2",children:[s.jsx(ii,{className:"w-4 h-4"}),"   "]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col md:flex-row justify-between items-center gap-4 no-print",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${h.status==="SUBMITTED"?"bg-green-200 text-green-800":"bg-amber-200 text-amber-800"}`,children:h.status==="SUBMITTED"?s.jsx(qr,{className:"w-5 h-5"}):s.jsx(Ki,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 font-bold",children:" "}),s.jsx("p",{className:`font-bold ${h.status==="SUBMITTED"?"text-green-700":"text-amber-700"}`,children:h.status==="SUBMITTED"?"   ":"   "})]})]}),s.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:s.jsxs("button",{onClick:C,className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-gray-900 transition-colors shadow-sm",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  PDF"]})})]}),s.jsx("div",{className:"bg-white rounded-t-xl border-b flex overflow-x-auto no-print custom-scrollbar",children:[{id:1,label:" ",icon:ai},{id:2,label:" ",icon:vg},{id:3,label:" ",icon:eg},{id:4,label:" ",icon:ii}].map(A=>s.jsxs("button",{onClick:()=>g(A.id),className:`flex-1 py-4 px-6 text-sm font-bold flex items-center justify-center gap-2 border-b-2 transition-all whitespace-nowrap ${p===A.id?"border-blue-600 text-blue-700 bg-blue-50":"border-transparent text-gray-500 hover:bg-gray-50 hover:text-gray-700"}`,children:[s.jsx(A.icon,{className:`w-4 h-4 ${p===A.id?"text-blue-600":"text-gray-400"}`})," ",A.label]},A.id))}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 no-print min-h-[400px]",children:[p===1&&L(),p===2&&P(),p===3&&V(),p===4&&F(),s.jsxs("div",{className:"mt-8 pt-6 border-t flex justify-end gap-3",children:[s.jsxs("button",{onClick:()=>R(!1),disabled:c,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 flex items-center gap-2 font-medium transition-colors disabled:opacity-50",children:[s.jsx(_n,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>R(!0),disabled:c,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 font-bold shadow-md hover:shadow-lg transition-all disabled:opacity-50",children:[c?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(gP,{className:"w-4 h-4"}),"   "]})]})]}),s.jsxs("div",{className:"hidden print:block p-8 bg-white text-black",children:[s.jsxs("div",{className:"text-center border-b-2 border-black pb-6 mb-8",children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:"  -   "}),s.jsx("h3",{className:"text-lg font-bold mb-1",children:"  "}),s.jsxs("h1",{className:"text-3xl font-extrabold mt-4 border-2 border-black inline-block px-6 py-2",children:["  (",e,")"]})]}),s.jsxs("div",{className:"mb-8 flex justify-between text-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",t.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:" :"})," ",new Date().toLocaleDateString("ar-EG")]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),s.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:h.publishedResearch.length>0?h.publishedResearch.map((A,D)=>s.jsxs("li",{className:"pl-2",children:[s.jsx("span",{className:"font-bold",children:A.title}),s.jsx("br",{}),s.jsxs("span",{className:"text-gray-700 text-sm",children:[" - ",A.journal," (",A.date,") - [",A.type,"]"]})]},D)):s.jsx("p",{className:"italic text-gray-500",children:"     ."})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":  "}),s.jsx("ul",{className:"list-decimal pr-6 space-y-3 text-lg",children:h.ongoingResearch.length>0?h.ongoingResearch.map((A,D)=>s.jsxs("li",{className:"pl-2",children:[s.jsx("span",{className:"font-bold",children:A.topic}),s.jsx("br",{}),s.jsxs("span",{className:"text-gray-700 text-sm",children:[" -  : ",A.stage," ( : ",A.progress,"%)"]})]},D)):s.jsx("p",{className:"italic text-gray-500",children:"    ."})})]}),s.jsxs("div",{className:"mb-8 page-break-inside-avoid",children:[s.jsx("h4",{className:"text-xl font-bold bg-gray-200 p-2 mb-4 border border-black",children:":   "}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 text-lg",children:[s.jsxs("div",{className:"border p-4",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:" :"})," ",h.scientificActivity.thesesJudged]}),s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:" :"})," ",h.scientificActivity.supervisionCount]}),s.jsx("p",{children:s.jsx("strong",{children:" :"})}),s.jsx("p",{className:"text-sm mt-1",children:h.scientificActivity.trainingCourses||" "})]}),s.jsxs("div",{className:"border p-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",h.scientificActivity.conferences.length>0?h.scientificActivity.conferences.map(A=>A.name).join(" "):" "]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:" :"})," ",h.communityActivity.books||" "]})]})]})]}),s.jsxs("div",{className:"mt-20 flex justify-between text-xl font-bold",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:" "}),s.jsx("p",{className:"mt-8",children:"...................."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:"  "}),s.jsx("p",{className:"mt-8",children:"./  "})]})]})]})]})},Bge=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState(null),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,p]=w.useState(null),[g,v]=w.useState(""),[N,_]=w.useState("ALL"),[j,E]=w.useState(!1),[I,R]=w.useState(!1),[M,T]=w.useState(!1),[C,L]=w.useState(null),[P,V]=w.useState(null),[F,A]=w.useState(null),[D,z]=w.useState(null),[U,de]=w.useState({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),[ae,G]=w.useState({title:"",vision:"",startDate:"",endDate:"",strategicGoals:""}),[Y,H]=w.useState({title:"",description:"",coordinator:""}),[ge,W]=w.useState(null),B=t.role===we.ADMIN;w.useEffect(()=>{J()},[]);const J=async()=>{const ne=await WE();a(ne);const Pe=await Ype();c(Pe.filter(Fe=>Fe.status==="ARCHIVED"));const Xe=await Jpe();h(B?Xe:Xe.filter(Fe=>Fe.proposedById===t.id))},xe=ne=>{ne?(A(ne.id),H({title:ne.title,description:ne.description,coordinator:ne.coordinator})):(A(null),H({title:"",description:"",coordinator:""})),T(!0)},te=async ne=>{if(ne.preventDefault(),!!r)try{let Pe=[...r.axes];if(F)Pe=Pe.map(Xe=>Xe.id===F?{...Xe,...Y}:Xe),await Ae("  ",t.name,` : ${Y.title}`);else{const Xe={id:`axis-${Date.now()}`,title:Y.title,description:Y.description,coordinator:Y.coordinator,topics:[]};Pe.push(Xe),await Ae("  ",t.name,` : ${Y.title}`)}await $o(r.id,{axes:Pe}),T(!1),J(),alert("     ")}catch(Pe){console.error(Pe),alert("  ")}},X=async(ne,Pe)=>{if(!(!r||!B)&&window.confirm(`      "${Pe}"    `))try{const Xe=r.axes.filter(Fe=>Fe.id!==ne);await $o(r.id,{axes:Xe}),await Ae("  ",t.name,` : ${Pe}`),J(),alert("   ")}catch{alert(" ")}},Ee=async ne=>{if(ne.preventDefault(),!r||!D)return;const Pe=r.axes.map(Xe=>Xe.id===D.axisId?{...Xe,topics:Xe.topics.map(Fe=>Fe.id===D.topic.id?D.topic:Fe)}:Xe);try{await $o(r.id,{axes:Pe}),await Ae("  ",t.name,` : ${D.topic.title}`),z(null),J(),alert("  ")}catch{alert(" ")}},Te=async(ne,Pe,Xe)=>{if(!(!r||!B)&&window.confirm("         "))try{const Fe=r.axes.map(Ht=>Ht.id===ne?{...Ht,topics:Ht.topics.filter($t=>$t.id!==Pe)}:Ht);await $o(r.id,{axes:Fe}),await Ae("   ",t.name,`  : ${Xe}`),J()}catch{alert("  ")}},re=async(ne,Pe,Xe)=>{if(r){if(t.role!==we.STUDENT_PG&&t.role!==we.STAFF&&!B){alert("      .");return}if(window.confirm(`      : "${Xe}"`))try{const Fe=r.axes.map(Ht=>Ht.id===ne?{...Ht,topics:Ht.topics.map($t=>$t.id===Pe?{...$t,status:"IN_PROGRESS",studentName:`${t.name} ( )`}:$t)}:Ht);await $o(r.id,{axes:Fe}),await Ae("   ",t.name,`  : ${Xe}`),J(),alert("         .")}catch{alert("  ")}}},ie=async(ne,Pe,Xe,Fe)=>{const Ht=prompt("  ():");if(Ht!==null)try{if(await ege(ne,Xe,Ht||""),Xe==="APPROVED"&&Fe&&r){const $t={id:`topic-${Date.now()}`,title:Fe.title,goal:Fe.appliedGoal,status:"AVAILABLE",studentName:Fe.studentName||""};Fe.studentName&&($t.status="IN_PROGRESS");let gi=[...r.axes];if(Fe.axisId==="NEW"){const Va={id:`axis-${Date.now()}`,title:Fe.newAxisName||" ",description:Fe.justification,coordinator:Fe.proposedBy,topics:[$t]};gi.push(Va)}else gi=gi.map(Va=>Va.id===Fe.axisId?{...Va,topics:[...Va.topics,$t]}:Va);await $o(r.id,{axes:gi}),await Ae("  ",t.name,`    : ${Pe}`)}await Ae("  ",t.name,` ${Xe} : ${Pe}`),J(),alert("   .")}catch($t){console.error($t),alert("     (  )")}},ke=()=>{L(null),de({title:"",axisId:"",newAxisName:"",type:"MSc",justification:"",appliedGoal:"",studentName:"",hasStudent:!1}),E(!0)},Z=ne=>{L(ne.id),de({title:ne.title,axisId:ne.axisId,newAxisName:ne.newAxisName||"",type:ne.type,justification:ne.justification,appliedGoal:ne.appliedGoal,studentName:ne.studentName||"",hasStudent:!!ne.studentName}),E(!0)},he=async(ne,Pe)=>{if(window.confirm("      "))try{await Wt(ze(pe,"research_proposals",ne)),await Ae("  ",t.name,`  : ${Pe}`),J(),alert("  ")}catch(Xe){console.error(Xe),alert(" ")}},Ue=async ne=>{ne.preventDefault();try{const Pe={title:U.title,axisId:U.axisId,newAxisName:U.axisId==="NEW"&&U.newAxisName||"",type:U.type,justification:U.justification,appliedGoal:U.appliedGoal,studentName:U.hasStudent&&U.studentName||"",proposedBy:t.name,proposedById:t.id,status:"PENDING"};C?(await Ct(ze(pe,"research_proposals",C),Pe),await Ae("  ",t.name,`  : ${U.title}`)):(await Zpe(Pe),await Ae("  ",t.name,`   : ${U.title}`)),E(!1),J(),alert(C?"   ":"     ")}catch(Pe){console.error(Pe),alert("   .         .")}},qe=ne=>{if(!r||ne.length<5){W(null);return}let Pe=!1;r.axes.forEach(Xe=>{Xe.topics.forEach(Fe=>{(Fe.title.includes(ne)||ne.includes(Fe.title))&&(W(` :     "${Fe.title}"`),Pe=!0)})}),Pe||W(null)},vt=ne=>{if(ne)V(ne.id),G({title:ne.title,vision:ne.vision,startDate:ne.startDate,endDate:ne.endDate,strategicGoals:ne.strategicGoals.join(", ")});else{V(null);const Pe=new Date().getFullYear();G({title:`   ${Pe}-${Pe+5}`,vision:"",startDate:`${Pe}-01-01`,endDate:`${Pe+5}-12-31`,strategicGoals:"  2030,  "})}R(!0)},Se=async ne=>{ne.preventDefault();const Pe={title:ae.title,vision:ae.vision,startDate:ae.startDate,endDate:ae.endDate,strategicGoals:ae.strategicGoals.split(",").map(Xe=>Xe.trim()),status:"ACTIVE",axes:P&&r?r.axes:[]};try{P?await $o(P,Pe):await Wpe(Pe),R(!1),J()}catch{alert("")}},yt=async()=>{r&&window.confirm(":   ")&&(await Xpe(r.id),J())},ve=()=>s.jsxs("div",{className:"bg-gradient-to-r from-green-800 to-green-600 text-white p-6 rounded-2xl mb-6 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"relative z-10",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),s.jsx("p",{className:"text-green-100 text-lg max-w-3xl leading-relaxed opacity-90",children:r.vision})]}),s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsxs("span",{className:"bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-sm border border-white/30",children:["   (",r.startDate.split("-")[0]," - ",r.endDate.split("-")[0],")"]}),B&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:()=>vt(r),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(yP,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>vt(),className:"bg-white/10 hover:bg-white/20 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(At,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:yt,className:"bg-red-500/30 hover:bg-red-500/50 p-2 rounded-lg text-white text-xs flex items-center gap-1 backdrop-blur-md transition",children:[s.jsx(ot,{className:"w-4 h-4"})," "]})]})]})]}),s.jsx("div",{className:"mt-6 flex flex-wrap gap-3",children:r.strategicGoals.map((ne,Pe)=>s.jsxs("span",{className:"bg-green-900/40 px-3 py-1 rounded-full text-sm flex items-center gap-1 border border-green-700/50",children:[s.jsx(ng,{className:"w-3 h-3 text-green-300"})," ",ne]},Pe))})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"     "}),B&&s.jsxs("button",{onClick:()=>vt(),className:"bg-white text-green-800 px-6 py-3 rounded-xl font-bold hover:bg-green-50 transition shadow-lg flex items-center gap-2 mx-auto",children:[s.jsx(At,{className:"w-5 h-5"}),"    "]})]})}),s.jsx(ng,{className:"absolute -bottom-10 -left-10 w-64 h-64 text-white/5 rotate-12"})]}),et=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[B&&r&&s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("button",{onClick:()=>xe(),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold hover:bg-green-700",children:[s.jsx(At,{className:"w-4 h-4"}),"   "]})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100 sticky top-0 z-10",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"   ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:g,onChange:ne=>v(ne.target.value)})]}),s.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50",value:N,onChange:ne=>_(ne.target.value),children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"AVAILABLE",children:" "}),s.jsx("option",{value:"IN_PROGRESS",children:"  "}),s.jsx("option",{value:"COMPLETED",children:" "})]})]}),s.jsx("div",{className:"space-y-4",children:r==null?void 0:r.axes.map(ne=>{const Pe=ne.topics.filter(Fe=>(N==="ALL"||Fe.status===N)&&Fe.title.toLowerCase().includes(g.toLowerCase()));if(Pe.length===0&&g)return null;const Xe=Math.round(ne.topics.filter(Fe=>Fe.status==="COMPLETED").length/ne.topics.length*100)||0;return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>p(f===ne.id?null:ne.id),children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[f===ne.id?s.jsx(JN,{className:"w-5 h-5"}):s.jsx(QN,{className:"w-5 h-5"}),ne.title]}),s.jsxs("p",{className:"text-sm text-gray-500 mr-7",children:[" : ",ne.coordinator]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center hidden md:block",children:[s.jsx("div",{className:"text-xs text-gray-500",children:" "}),s.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500",style:{width:`${Xe}%`}})})]}),s.jsxs("span",{className:"bg-white border px-2 py-1 rounded text-sm font-mono",children:[Pe.length," "]})]})]}),f===ne.id&&s.jsxs("div",{className:"p-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("p",{className:"text-gray-600 bg-blue-50 p-3 rounded border-r-4 border-blue-400 text-sm flex-1",children:[" ",ne.description]}),B&&s.jsxs("div",{className:"flex gap-2 mr-2",children:[s.jsx("button",{onClick:()=>xe(ne),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:" ",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>X(ne.id,ne.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:" ",children:s.jsx(ot,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid gap-3",children:[Pe.map(Fe=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-gray-800",children:Fe.title}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${Fe.status==="AVAILABLE"?"bg-green-100 text-green-700":Fe.status==="IN_PROGRESS"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:Fe.status==="AVAILABLE"?" ":Fe.status==="IN_PROGRESS"?" ":" "})]}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx(ng,{className:"w-3 h-3"})," : ",Fe.goal]}),Fe.studentName&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[s.jsx(bP,{className:"w-3 h-3"}),"  : ",Fe.studentName]})]}),s.jsx("div",{className:"flex items-center gap-2",children:B?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>z({axisId:ne.id,topic:Fe}),className:"text-blue-500 hover:bg-blue-50 p-2 rounded",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Te(ne.id,Fe.id,Fe.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]}):Fe.status==="AVAILABLE"&&s.jsx("button",{onClick:()=>re(ne.id,Fe.id,Fe.title),className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 shadow-sm",children:"  "})})]},Fe.id)),Pe.length===0&&s.jsx("p",{className:"text-center text-gray-400 py-4",children:"        ."})]})]})]},ne.id)})}),M&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:F?" ":"  "}),s.jsx("button",{onClick:()=>T(!1),children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:te,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:Y.title,onChange:ne=>H({...Y,title:ne.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:Y.description,onChange:ne=>H({...Y,description:ne.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,placeholder:"./ ...",className:"w-full border p-2 rounded",value:Y.coordinator,onChange:ne=>H({...Y,coordinator:ne.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded text-sm",children:""})]})]})]})}),D&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h3",{className:"font-bold text-lg",children:"  "}),s.jsx("button",{onClick:()=>z(null),children:s.jsx(bt,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:Ee,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:D.topic.title,onChange:ne=>z({...D,topic:{...D.topic,title:ne.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:D.topic.goal,onChange:ne=>z({...D,topic:{...D.topic,goal:ne.target.value}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"    ",value:D.topic.studentName||"",onChange:ne=>z({...D,topic:{...D.topic,studentName:ne.target.value||void 0}})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:""}),s.jsxs("select",{className:"w-full border p-2 rounded",value:D.topic.status,onChange:ne=>z({...D,topic:{...D.topic,status:ne.target.value}}),children:[s.jsx("option",{value:"AVAILABLE",children:""}),s.jsx("option",{value:"IN_PROGRESS",children:" "}),s.jsx("option",{value:"COMPLETED",children:""})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{type:"button",onClick:()=>z(null),className:"px-4 py-2 bg-gray-100 rounded text-sm",children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded text-sm",children:" "})]})]})]})})]}),Je=()=>s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[r&&s.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-2",children:"   "}),s.jsx("p",{className:"text-purple-700 text-sm",children:"          ."})]}),s.jsxs("button",{onClick:ke,className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-3 rounded-xl shadow-md flex items-center gap-2 font-bold transition-transform hover:scale-105",children:[s.jsx(At,{className:"w-5 h-5"}),"    "]})]}),s.jsxs("h3",{className:"font-bold text-gray-700 border-b pb-2 flex justify-between",children:["  ",B&&s.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[d.filter(ne=>ne.status==="PENDING").length,"  "]})]}),s.jsxs("div",{className:"space-y-3",children:[d.length===0&&s.jsx("p",{className:"text-center text-gray-400 py-8",children:"   "}),d.map(ne=>{var Pe;return s.jsxs("div",{className:"bg-white border p-4 rounded-lg shadow-sm flex flex-col md:flex-row justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg",children:ne.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded font-bold ${ne.status==="PENDING"?"bg-amber-100 text-amber-800":ne.status==="APPROVED"?"bg-green-100 text-green-800":ne.status==="REJECTED"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:ne.status==="PENDING"?" ":ne.status==="APPROVED"?" ":ne.status==="REJECTED"?"":" "})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[s.jsx("strong",{children:" :"})," ",ne.proposedBy," |",s.jsx("strong",{children:" :"})," ",ne.axisId==="NEW"?`  (${ne.newAxisName})`:((Pe=r==null?void 0:r.axes.find(Xe=>Xe.id===ne.axisId))==null?void 0:Pe.title)||" "]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[s.jsx("strong",{children:":"})," ",ne.justification]}),ne.adminNotes&&s.jsxs("p",{className:"text-sm text-red-600 mt-2 bg-red-50 p-2 rounded",children:["  : ",ne.adminNotes]})]}),s.jsxs("div",{className:"flex flex-col gap-2 min-w-[120px] justify-center",children:[B&&ne.status==="PENDING"?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>ie(ne.id,ne.title,"APPROVED",ne),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:" "}),s.jsx("button",{onClick:()=>ie(ne.id,ne.title,"MODIFICATION_REQUESTED",ne),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"  "}),s.jsx("button",{onClick:()=>ie(ne.id,ne.title,"REJECTED",ne),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700",children:" "})]}):ne.proposedById===t.id&&(ne.status==="PENDING"||ne.status==="MODIFICATION_REQUESTED")&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>Z(ne),className:"text-blue-500 hover:bg-blue-50 p-2 rounded flex items-center gap-1 text-sm font-bold border border-blue-200",children:[s.jsx(gn,{className:"w-4 h-4"}),"   "]}),s.jsx("button",{onClick:()=>he(ne.id,ne.title),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),B&&ne.status!=="PENDING"&&s.jsxs("button",{onClick:()=>he(ne.id,ne.title),className:"text-gray-400 hover:text-red-500 p-1 text-xs flex items-center justify-end gap-1 mt-2",children:[s.jsx(ot,{className:"w-3 h-3"}),"   "]})]})]},ne.id)})]})]}),kt=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("h3",{className:"font-bold text-gray-700 mb-4 flex items-center gap-2",children:[s.jsx(RT,{className:"w-5 h-5"}),"    "]}),l.length===0?s.jsx("p",{className:"text-center text-gray-400 py-12 border-2 border-dashed rounded-xl",children:"   "}):l.map(ne=>s.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-6 rounded-xl",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-bold text-gray-800",children:ne.title}),s.jsxs("p",{className:"text-gray-500 text-sm",children:[ne.startDate," - ",ne.endDate]})]}),s.jsx("span",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-bold",children:""})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",ne.vision]}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:" :"})," ",ne.axes.length]})]})]},ne.id))]}),pi=()=>{if(!r)return s.jsx("p",{className:"text-center p-8",children:"     ."});const ne=r.axes.reduce((Ht,$t)=>Ht+$t.topics.length,0),Pe=r.axes.reduce((Ht,$t)=>Ht+$t.topics.filter(gi=>gi.status==="COMPLETED").length,0),Xe=r.axes.map(Ht=>({name:Ht.title.split(" ").slice(0,3).join(" ")+"...",value:Ht.topics.length})),Fe=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-center border border-blue-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:ne}),s.jsx("p",{className:"text-sm text-blue-500",children:"  "})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-xl text-center border border-green-100",children:[s.jsx("h3",{className:"text-2xl font-bold text-green-700",children:Pe}),s.jsx("p",{className:"text-sm text-green-500",children:"  ()"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl text-center border border-purple-100",children:[s.jsxs("h3",{className:"text-2xl font-bold text-purple-700",children:[ne>0?Math.round(Pe/ne*100):0,"%"]}),s.jsx("p",{className:"text-sm text-purple-500",children:"  "})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border h-80",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   "}),s.jsx(Bk,{width:"100%",height:"90%",children:s.jsxs($ie,{children:[s.jsx(B6,{data:Xe,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:Xe.map((Ht,$t)=>s.jsx(Lf,{fill:Fe[$t%Fe.length]},`cell-${$t}`))}),s.jsx(v6,{})]})})]})})]})};return s.jsxs("div",{className:"space-y-6",children:[ve(),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsxs("button",{onClick:()=>n("BROWSE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="BROWSE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Yi,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("PROPOSALS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="PROPOSALS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Vn,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("ANALYTICS"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ANALYTICS"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(az,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("ARCHIVE"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="ARCHIVE"?"text-green-700 border-b-2 border-green-700 bg-green-50":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(RT,{className:"w-4 h-4"})," "]})]}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="BROWSE"&&et(),e==="PROPOSALS"&&Je(),e==="ANALYTICS"&&pi(),e==="ARCHIVE"&&kt()]}),I&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P?"  ":"   "}),s.jsx("button",{onClick:()=>R(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[P===null&&s.jsx("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 text-sm text-yellow-800 mb-4",children:" :         ."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:ae.title,onChange:ne=>G({...ae,title:ne.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("textarea",{required:!0,className:"w-full border p-2 rounded",rows:3,value:ae.vision,onChange:ne=>G({...ae,vision:ne.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ae.startDate,onChange:ne=>G({...ae,startDate:ne.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:ae.endDate,onChange:ne=>G({...ae,endDate:ne.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  (  )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",value:ae.strategicGoals,onChange:ne=>G({...ae,strategicGoals:ne.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded font-bold hover:bg-green-700",children:" "})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:C?"  ":"   "}),s.jsx("button",{onClick:()=>E(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:Ue,className:"p-6 space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:["   ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"   ...",value:U.title,onChange:ne=>{de({...U,title:ne.target.value}),qe(ne.target.value)}}),ge&&s.jsxs("div",{className:"mt-2 bg-amber-50 text-amber-800 p-3 rounded-lg text-sm border border-amber-200 flex items-start gap-2",children:[s.jsx(ZN,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{children:ge})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:U.axisId,onChange:ne=>de({...U,axisId:ne.target.value}),children:[s.jsx("option",{value:"",children:"--   --"}),r&&r.axes.map(ne=>s.jsx("option",{value:ne.id,children:ne.title},ne.id)),s.jsx("option",{value:"NEW",children:"   / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-3 rounded-lg bg-white",value:U.type,onChange:ne=>de({...U,type:ne.target.value}),children:[s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),U.axisId==="NEW"&&s.jsxs("div",{className:"col-span-2 animate-in fade-in",children:[s.jsx("label",{className:"block text-sm font-bold text-purple-700 mb-1",children:"   "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg border-purple-300 focus:ring-2 focus:ring-purple-500 outline-none bg-purple-50",placeholder:"   ...",value:U.newAxisName,onChange:ne=>de({...U,newAxisName:ne.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("textarea",{required:!0,rows:3,className:"w-full border p-3 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"     ",value:U.justification,onChange:ne=>de({...U,justification:ne.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-3 rounded-lg",placeholder:"     ",value:U.appliedGoal,onChange:ne=>de({...U,appliedGoal:ne.target.value})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",id:"hasStudent",className:"w-5 h-5 accent-purple-600",checked:U.hasStudent,onChange:ne=>de({...U,hasStudent:ne.target.checked})}),s.jsx("label",{htmlFor:"hasStudent",className:"font-bold text-gray-700",children:"   "})]}),U.hasStudent&&s.jsx("input",{type:"text",className:"w-full border p-2 rounded bg-white",placeholder:"  ...",value:U.studentName,onChange:ne=>de({...U,studentName:ne.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",className:"bg-purple-700 text-white px-8 py-2 rounded-lg hover:bg-purple-800 font-bold shadow-md flex items-center gap-2",children:[s.jsx(gP,{className:"w-4 h-4"})," ",C?" ":" "]})]})]})]})})]})},qge=({user:t})=>{const[e,n]=w.useState("DASHBOARD"),[r,a]=w.useState([]),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,p]=w.useState([]),[g,v]=w.useState(!0),N=t.role===we.ADMIN,[_,j]=w.useState(!1),[E,I]=w.useState(null),[R,M]=w.useState({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),[T,C]=w.useState([]),[L,P]=w.useState(!1),[V,F]=w.useState(null),[A,D]=w.useState(null),[z,U]=w.useState("");w.useEffect(()=>{de()},[]);const de=async()=>{v(!0);try{const[re,ie,ke,Z]=await Promise.all([nge(t.id),rge(t.id),Qf(),g8()]);a(re),c(ie);const he=[...ke.map(Ue=>({id:Ue.id,name:Ue.name,role:Ue.rank||"  "})),...Z.map(Ue=>({id:Ue.id,name:Ue.name,role:Ue.jobTitle||""}))].filter(Ue=>Ue.id!==t.id);if(p(he),N){const Ue=await ige();h(Ue)}}catch(re){console.error("Error fetching data:",re)}v(!1)},ae=()=>{if(!R.startDate||!R.endDate)return 0;const re=new Date(R.startDate),ke=new Date(R.endDate).getTime()-re.getTime();return Math.ceil(ke/(1e3*3600*24))+1},G=re=>{switch(re){case"CASUAL":return" ";case"ANNUAL":return" ";case"SICK":return" ";case"SCIENTIFIC":return"  / ";case"SPOUSE":return" /";case"CHILD_CARE":return" ";case"HAJJ":return" / ";default:return re}},Y=()=>{j(!1),I(null),M({type:"CASUAL",startDate:"",endDate:"",substituteId:"",address:"",phone:"",hospital:"",conferenceName:"",conferenceLocation:"",spouseName:"",spouseJob:"",country:""}),C([]),n("NEW")},H=re=>{if(re.status==="APPROVED"||re.status==="REJECTED"){alert("    ");return}j(!0),I(re.id),M({type:re.type,startDate:re.startDate,endDate:re.endDate,substituteId:re.substituteId||"",address:re.address||"",phone:re.phone||"",hospital:re.hospital||"",conferenceName:re.conferenceName||"",conferenceLocation:re.conferenceLocation||"",spouseName:re.spouseName||"",spouseJob:re.spouseJob||"",country:re.country||""}),C([]),n("NEW")},ge=async(re,ie)=>{if(window.confirm("      "))try{await Wt(ze(pe,"leave_requests",re)),await Ae("  ",t.name,`   ${G(ie)}`),de()}catch{alert(" ")}},W=async re=>{var ke;re.preventDefault();const ie=ae();if(ie<=0){alert("      ");return}if(R.type==="CASUAL"&&!_){const Z=r.filter(he=>he.type==="CASUAL"&&he.status==="APPROVED").reduce((he,Ue)=>he+Ue.daysCount,0);if(Z+ie>7){alert(`     (${7-Z} )  .`);return}}P(!0);try{const Z=[];for(const qe of T){const vt=await di(qe);Z.push(vt)}const he=(ke=f.find(qe=>qe.id===R.substituteId))==null?void 0:ke.name,Ue={userId:t.id,userName:t.name,type:R.type,startDate:R.startDate,endDate:R.endDate,daysCount:ie,substituteId:R.substituteId,substituteName:he,address:R.address,phone:R.phone,hospital:R.hospital,conferenceName:R.conferenceName,conferenceLocation:R.conferenceLocation,spouseName:R.spouseName,spouseJob:R.spouseJob,country:R.country,...Z.length>0&&{documentsUrls:Z,medicalReportUrl:Z[0]}};_&&E?(await Ct(ze(pe,"leave_requests",E),Ue),await Ae("  ",t.name,`   ${G(R.type)}`),alert("   ")):(await tge(Ue),await Ae(" ",t.name,`  ${G(R.type)}  ${ie} `),alert("   ")),n("HISTORY"),de()}catch(Z){console.error(Z),alert("   ")}finally{P(!1)}},B=async re=>{if(V)try{await age(V.id,re,z),await Ae("  ",t.name,`${re?"":""}   ${V.userName}`),alert("  "),F(null),D(null),de()}catch{alert(" ")}},J=async(re,ie)=>{if(window.confirm(`    ${ie==="APPROVED"?"":""}  `))try{await Ct(ze(pe,"leave_requests",re),{status:ie}),await Ae(" ",t.name,` ${ie==="APPROVED"?"":""}  `),de()}catch{alert("")}},xe=()=>{const re=r.filter(Z=>Z.type==="CASUAL"&&Z.status==="APPROVED").reduce((Z,he)=>Z+he.daysCount,0),ie=r.filter(Z=>Z.status.includes("PENDING")).length,ke=N?d.filter(Z=>Z.status==="PENDING_HEAD").length:0;return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 p-6 rounded-xl border border-orange-100",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-600 font-bold text-sm",children:" "}),s.jsxs("h3",{className:"text-3xl font-bold text-orange-800 mt-2",children:[7-re," ",s.jsx("span",{className:"text-sm text-orange-600",children:"/ 7"})]})]}),s.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:s.jsx(Ki,{className:"w-6 h-6 text-orange-600"})})]}),s.jsx("div",{className:"mt-4 w-full bg-orange-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:`${re/7*100}%`}})})]}),s.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-600 font-bold text-sm",children:" "}),s.jsx("h3",{className:"text-3xl font-bold text-blue-800 mt-2",children:ie})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(Vn,{className:"w-6 h-6 text-blue-600"})})]}),s.jsx("p",{className:"text-xs text-blue-500 mt-4",children:"      "})]}),s.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl border border-purple-100 cursor-pointer hover:bg-purple-100 transition-colors",onClick:()=>n("SUBSTITUTE"),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-600 font-bold text-sm",children:"  "}),s.jsx("h3",{className:"text-3xl font-bold text-purple-800 mt-2",children:l.length})]}),s.jsxs("div",{className:"p-2 bg-purple-100 rounded-full relative",children:[s.jsx(MT,{className:"w-6 h-6 text-purple-600"}),l.length>0&&s.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})]}),s.jsx("p",{className:"text-xs text-purple-500 mt-4",children:"    "})]}),N&&s.jsx("div",{className:"bg-green-50 p-6 rounded-xl border border-green-100 cursor-pointer hover:bg-green-100 transition-colors md:col-span-3",onClick:()=>n("ALL_REQUESTS"),children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-200 rounded-full",children:s.jsx(qr,{className:"w-6 h-6 text-green-700"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-green-900",children:"  (  )"}),s.jsxs("p",{className:"text-sm text-green-700",children:[" ",ke,"    "]})]})]}),s.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:" "})]})})]}),s.jsxs("button",{onClick:Y,className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold text-lg shadow-md hover:bg-green-700 transition-all flex items-center justify-center gap-2",children:[s.jsx(At,{className:"w-6 h-6"}),"    "]})]})},te=()=>s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in slide-in-from-bottom-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsxs("h3",{className:"font-bold text-xl text-gray-800 flex items-center gap-2",children:[s.jsx(u1,{className:"w-6 h-6 text-green-600"})," ",_?"  ":"  "]}),_&&s.jsx("button",{onClick:Y,className:"text-sm text-gray-500 hover:text-red-500",children:" "})]}),s.jsxs("form",{onSubmit:W,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg outline-none focus:border-green-500 bg-white",value:R.type,onChange:re=>M({...R,type:re.target.value}),disabled:_,children:[s.jsx("option",{value:"CASUAL",children:" "}),s.jsx("option",{value:"ANNUAL",children:" "}),s.jsx("option",{value:"SICK",children:" "}),s.jsx("option",{value:"SCIENTIFIC",children:"  / "}),s.jsx("option",{value:"SPOUSE",children:" /"}),s.jsx("option",{value:"CHILD_CARE",children:" "}),s.jsx("option",{value:"HAJJ",children:" / "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:R.startDate,onChange:re=>M({...R,startDate:re.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full p-3 border border-gray-300 rounded-lg",value:R.endDate,onChange:re=>M({...R,endDate:re.target.value})}),ae()>0&&s.jsxs("p",{className:"text-xs text-green-600 mt-1 font-bold",children:[": ",ae()," "]})]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[s.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[s.jsx(MT,{className:"w-4 h-4"}),"   ( )"]}),s.jsxs("select",{className:"w-full p-3 border border-purple-200 rounded-lg outline-none focus:border-purple-500 bg-white",value:R.substituteId,onChange:re=>M({...R,substituteId:re.target.value}),required:R.type!=="CHILD_CARE"&&R.type!=="SPOUSE",children:[s.jsx("option",{value:"",children:"--   --"}),f.length===0?s.jsx("option",{disabled:!0,children:"     (  )"}):f.map(re=>s.jsxs("option",{value:re.id,children:[re.name," - ",re.role]},re.id))]}),f.length===0&&s.jsx("p",{className:"text-xs text-red-500 font-bold mt-1",children:':      .       " "   .'}),s.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"*        ."})]}),(R.type==="CASUAL"||R.type==="ANNUAL"||R.type==="HAJJ")&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.address,onChange:re=>M({...R,address:re.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"tel",required:!0,className:"w-full p-2 border rounded-lg",value:R.phone,onChange:re=>M({...R,phone:re.target.value})})]})]}),R.type==="SICK"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",placeholder:" /  / ",required:!0,className:"w-full p-2 border rounded-lg",value:R.hospital,onChange:re=>M({...R,hospital:re.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"med-report",onChange:re=>C(Array.from(re.target.files||[]))}),s.jsxs("label",{htmlFor:"med-report",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(CF,{className:"w-8 h-8 text-red-500"}),s.jsx("span",{className:"text-sm font-bold text-gray-600",children:"   (/PDF)"}),T.length>0&&s.jsx("span",{className:"text-xs text-green-600",children:T[0].name})]})]})]}),R.type==="SCIENTIFIC"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  / "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.conferenceName,onChange:re=>M({...R,conferenceName:re.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full p-2 border rounded-lg",value:R.conferenceLocation,onChange:re=>M({...R,conferenceLocation:re.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-2 rounded-lg text-center flex items-center justify-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"conf-invite",onChange:re=>C(Array.from(re.target.files||[]))}),s.jsx("label",{htmlFor:"conf-invite",className:"cursor-pointer text-sm text-blue-600 hover:underline",children:T.length>0?T[0].name:"  "})]})]}),R.type==="SPOUSE"&&s.jsxs("div",{className:"space-y-4 animate-in fade-in bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(t_,{className:"w-4 h-4"}),"  "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:" /",required:!0,className:"w-full p-2 border rounded-lg",value:R.spouseName,onChange:re=>M({...R,spouseName:re.target.value})}),s.jsx("input",{type:"text",placeholder:"  ",required:!0,className:"w-full p-2 border rounded-lg",value:R.foreignEntity,onChange:re=>M({...R,foreignEntity:re.target.value})}),s.jsx("input",{type:"text",placeholder:"",required:!0,className:"w-full p-2 border rounded-lg",value:R.country,onChange:re=>M({...R,country:re.target.value})})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"spouse-docs",onChange:re=>C(Array.from(re.target.files||[]))}),s.jsxs("label",{htmlFor:"spouse-docs",className:"cursor-pointer flex flex-col items-center gap-1",children:[s.jsx(Hn,{className:"w-6 h-6 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:"  (   )"}),T.length>0&&s.jsxs("span",{className:"text-xs text-green-600",children:[T.length,"   "]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>n("DASHBOARD"),className:"px-6 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-bold",children:""}),s.jsxs("button",{type:"submit",disabled:L,className:"px-8 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-bold flex items-center gap-2 disabled:opacity-50",children:[L?s.jsx(Qe,{className:"w-5 h-5 animate-spin"}):_?s.jsx(_n,{className:"w-5 h-5"}):s.jsx(qr,{className:"w-5 h-5"}),_?" ":" "]})]})]})]}),X=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"    "}),l.length===0&&s.jsx("div",{className:"text-center p-12 bg-gray-50 rounded-xl text-gray-400",children:"   "}),s.jsx("div",{className:"grid gap-4",children:l.map(re=>s.jsxs("div",{className:"bg-white border-l-4 border-purple-500 shadow-sm rounded-r-xl p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-bold",children:" "}),s.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:re.userName})]}),s.jsxs("p",{className:"text-gray-600 text-sm",children:["   ",s.jsx("span",{className:"font-bold",children:G(re.type)})]}),s.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-gray-500 font-mono",children:[s.jsxs("span",{children:[": ",re.startDate]}),s.jsxs("span",{children:[": ",re.endDate]}),s.jsxs("span",{children:["(",re.daysCount," )"]})]})]}),s.jsx("button",{onClick:()=>{F(re),D(null)},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-bold shadow-md",children:"   "})]},re.id))}),V&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl animate-in zoom-in-95 overflow-hidden",children:[s.jsxs("div",{className:"bg-purple-50 p-6 border-b border-purple-100",children:[s.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"  "}),s.jsxs("p",{className:"text-purple-700 text-sm mt-1",children:["   / ",V.userName]})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-sm text-gray-700 leading-relaxed border-r-4 border-gray-400",children:['"  / ',s.jsx("strong",{children:t.name}),"                 / ",s.jsx("strong",{children:V.userName}),'      ."']}),A?A==="ACCEPT"?s.jsxs("div",{className:"text-center space-y-4 animate-in fade-in",children:[s.jsx(qr,{className:"w-16 h-16 text-green-500 mx-auto"}),s.jsx("p",{className:"font-bold text-lg text-green-800",children:" !"}),s.jsx("button",{onClick:()=>B(!0),className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold",children:"  "})]}):s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"  ()"}),s.jsx("textarea",{className:"w-full border p-3 rounded-lg",placeholder:":   ...",value:z,onChange:re=>U(re.target.value)}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>D(null),className:"px-4 text-gray-500",children:""}),s.jsx("button",{onClick:()=>B(!1),className:"flex-1 bg-red-600 text-white py-2 rounded-lg font-bold",children:" "})]})]}):s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:()=>D("DECLINE"),className:"flex-1 py-3 border-2 border-red-100 text-red-600 rounded-xl font-bold hover:bg-red-50",children:""}),s.jsx("button",{onClick:()=>D("ACCEPT"),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-bold hover:bg-green-700 shadow-md",children:" "})]})]}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("button",{onClick:()=>F(null),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})})]})})]}),Ee=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"  "}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[r.map(re=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-bold text-gray-800",children:G(re.type)}),s.jsx("td",{className:"p-4",children:re.startDate}),s.jsx("td",{className:"p-4",children:re.endDate}),s.jsx("td",{className:"p-4 text-gray-600",children:re.substituteName||"-"}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${re.status==="APPROVED"?"bg-green-100 text-green-700":re.status==="REJECTED"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:re.status==="APPROVED"?"":re.status==="PENDING_SUBSTITUTE"?" ":re.status==="PENDING_HEAD"?" ":""})}),s.jsxs("td",{className:"p-4 flex gap-2",children:[(re.status==="PENDING_SUBSTITUTE"||re.status==="PENDING_HEAD")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>H(re),className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ge(re.id,re.type),className:"text-red-600 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),re.status==="APPROVED"&&s.jsxs("button",{onClick:()=>window.print(),className:"text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(Vn,{className:"w-3 h-3"})," "]})]})]},re.id)),r.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]}),Te=()=>s.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[s.jsx("h3",{className:"font-bold text-gray-700 mb-4",children:"   ()"}),s.jsx("div",{className:"grid gap-4",children:d.map(re=>s.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl p-4 flex flex-col md:flex-row justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-lg",children:re.userName}),s.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:G(re.type)})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[": ",re.daysCount,"  (",re.startDate," - ",re.endDate,") ",s.jsx("br",{}),": ",re.substituteName||" "]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${re.status==="APPROVED"?"bg-green-100 text-green-700":re.status==="REJECTED"?"bg-red-100 text-red-700":re.status==="PENDING_HEAD"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:re.status==="PENDING_HEAD"?" ":re.status==="PENDING_SUBSTITUTE"?" ":re.status})})]}),re.status==="PENDING_HEAD"&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("button",{onClick:()=>J(re.id,"APPROVED"),className:"bg-green-600 text-white px-4 py-2 rounded font-bold hover:bg-green-700",children:""}),s.jsx("button",{onClick:()=>J(re.id,"REJECTED"),className:"bg-red-600 text-white px-4 py-2 rounded font-bold hover:bg-red-700",children:""})]})]},re.id))})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(u1,{className:"w-8 h-8 text-green-600"}),"  "]})}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsx("button",{onClick:()=>n("DASHBOARD"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="DASHBOARD"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:Y,className:`px-6 py-4 font-bold text-sm transition-colors ${e==="NEW"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:()=>n("SUBSTITUTE"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="SUBSTITUTE"?"text-purple-700 border-b-2 border-purple-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:()=>n("HISTORY"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="HISTORY"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:""}),N&&s.jsx("button",{onClick:()=>n("ALL_REQUESTS"),className:`px-6 py-4 font-bold text-sm transition-colors ${e==="ALL_REQUESTS"?"text-green-700 border-b-2 border-green-700":"text-gray-500"}`,children:"  ()"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:[e==="DASHBOARD"&&xe(),e==="NEW"&&te(),e==="SUBSTITUTE"&&X(),e==="HISTORY"&&Ee(),e==="ALL_REQUESTS"&&N&&Te()]})]})},Hge=({user:t})=>{const[e,n]=w.useState("LOAN"),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[f,p]=w.useState(0),g=t.role===we.ADMIN,[v,N]=w.useState("MY_REQUESTS"),[_,j]=w.useState(!1),[E,I]=w.useState(null),[R,M]=w.useState({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),[T,C]=w.useState({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),[L,P]=w.useState({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"}),[V,F]=w.useState([]);w.useEffect(()=>{A()},[v]);const A=async()=>{c(!0);try{g&&v==="ALL_REQUESTS"?a(await lge()):(a(await sge(t.id)),(!g||v==="MY_REQUESTS")&&p(await cge(t.id)))}catch(H){console.error("Error fetching data:",H)}c(!1)},D=H=>{F([]),H?(I(H.id),H.type==="LOAN"?(M({...H}),n("LOAN")):H.type==="SECONDMENT"?(C({...H}),n("SECONDMENT")):(P({...H}),n("TRANSFER"))):(I(null),M({loanType:"EXTERNAL",country:"",institution:"",college:"",requestType:"NEW",salaryCurrency:"USD",startDate:"",endDate:""}),C({secondmentType:"PART_TIME",targetInstitution:"",targetCollege:"",secondmentDays:[],startDate:"",endDate:""}),P({targetUniversity:"",targetCollege:"",targetDepartment:"",transferType:"VACANT_DEGREE"})),j(!0)},z=async(H,ge)=>{if(window.confirm("      "))try{await Wt(ze(pe,"career_requests",H)),await Ae("  /",t.name,`   ${ge}`),A()}catch{alert(" ")}},U=async(H,ge,W)=>{try{await oge(H,ge),await Ae("  ",t.name,`    ${W}  ${ge}`),A()}catch{alert("  ")}},de=async H=>{try{return await di(H)}catch(ge){return alert("  : "+ge.message),null}},ae=async H=>{H.preventDefault(),h(!0);try{if(e==="LOAN"){if(f>=10&&!E){alert("      (10 )."),h(!1);return}let ge;if(V.length>0){const B=await de(V[0]);B&&(ge=B)}const W={userId:t.id,userName:t.name,type:"LOAN",...R,...ge&&{nominationLetterUrl:ge},status:E?void 0:"PENDING_DEPT"};if(E){const B={...W};delete B.status,ge||delete B.nominationLetterUrl,await Ct(ze(pe,"career_requests",E),B),await Ae("  ",t.name,`    ${R.country}`)}else await l1(W),await Ae(" ",t.name,`    ${R.country}`)}else if(e==="SECONDMENT"){const ge={userId:t.id,userName:t.name,type:"SECONDMENT",...T,status:E?void 0:"PENDING_DEPT"};if(E){const W={...ge};delete W.status,await Ct(ze(pe,"career_requests",E),W),await Ae("  ",t.name,`    ${T.targetInstitution}`)}else await l1(ge),await Ae(" ",t.name,`   ${T.targetInstitution}`)}else if(e==="TRANSFER"){const ge={userId:t.id,userName:t.name,type:"TRANSFER",...L,status:E?void 0:"PENDING_DEPT"};if(E){const W={...ge};delete W.status,await Ct(ze(pe,"career_requests",E),W),await Ae("  ",t.name,`    ${L.targetUniversity}`)}else await l1(ge),await Ae(" ",t.name,`   ${L.targetUniversity}`)}j(!1),alert(E?"   ":"    "),A()}catch(ge){console.error(ge),alert("   ")}finally{h(!1)}},G=({status:H})=>{const W={PENDING_DEPT:{label:" ",color:"bg-yellow-100 text-yellow-800"},PENDING_COLLEGE:{label:" ",color:"bg-orange-100 text-orange-800"},PENDING_UNIV:{label:" ",color:"bg-blue-100 text-blue-800"},APPROVED:{label:" ",color:"bg-green-100 text-green-800"},REJECTED:{label:"",color:"bg-red-100 text-red-800"}}[H]||{label:H,color:"bg-gray-100"};return s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${W.color}`,children:W.label})},Y=({status:H})=>{const ge=["PENDING_DEPT","PENDING_COLLEGE","PENDING_UNIV","APPROVED"],W=ge.indexOf(H),B=H==="REJECTED";return s.jsx("div",{className:"flex items-center gap-1 mt-2 text-[10px]",children:ge.map((J,xe)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center border 
                            ${xe<=W?"bg-green-600 border-green-600 text-white":"bg-white border-gray-300 text-gray-300"}
                            ${B&&xe===W+1?"bg-red-500 border-red-500":""}
                        `,children:xe+1}),xe<ge.length-1&&s.jsx("div",{className:`w-4 h-0.5 ${xe<W?"bg-green-600":"bg-gray-200"}`})]},J))})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(t_,{className:"w-8 h-8 text-blue-600"}),"  "]}),s.jsxs("div",{className:"flex gap-2",children:[g&&s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>N("MY_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${v==="MY_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""}),s.jsx("button",{onClick:()=>N("ALL_REQUESTS"),className:`px-3 py-1 rounded-md text-xs font-bold ${v==="ALL_REQUESTS"?"bg-white shadow text-blue-700":"text-gray-500"}`,children:""})]}),(!g||v==="MY_REQUESTS")&&s.jsxs("button",{onClick:()=>D(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold",children:[s.jsx(At,{className:"w-4 h-4"}),"  "]})]})]}),!g&&s.jsxs("div",{className:`p-4 rounded-xl border flex justify-between items-center ${f>=10?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ki,{className:`w-6 h-6 ${f>=10?"text-red-600":"text-blue-600"}`}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold ${f>=10?"text-red-800":"text-blue-800"}`,children:"  "}),s.jsx("p",{className:"text-xs text-gray-600",children:"      10    ."})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:`text-2xl font-bold ${f>=10?"text-red-600":"text-blue-600"}`,children:f}),s.jsx("span",{className:"text-gray-500 text-xs",children:" / 10 "})]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl",children:[s.jsxs("button",{onClick:()=>n("LOAN"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="LOAN"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(hP,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>n("SECONDMENT"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="SECONDMENT"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(Ms,{className:"w-4 h-4"})," "]}),s.jsxs("button",{onClick:()=>n("TRANSFER"),className:`flex-1 py-4 font-bold text-sm flex items-center justify-center gap-2 ${e==="TRANSFER"?"text-blue-700 border-b-2 border-blue-700 bg-blue-50":"text-gray-500 hover:bg-gray-50"}`,children:[s.jsx(q9,{className:"w-4 h-4"})," "]})]}),s.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:l?s.jsx("div",{className:"text-center py-10",children:s.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsx("div",{children:r.filter(H=>H.type===e).length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400 border-2 border-dashed rounded-xl",children:[s.jsx(Ms,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),s.jsx("p",{children:"      "})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-600",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:" "}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:" / "}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3",children:""})]})}),s.jsx("tbody",{className:"divide-y",children:r.filter(H=>H.type===e).map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-3 font-bold text-gray-800",children:H.userName}),s.jsx("td",{className:"p-3 text-xs",children:H.type==="LOAN"?H.loanType==="EXTERNAL"?"":"":H.type==="SECONDMENT"?H.secondmentType:H.transferType}),s.jsx("td",{className:"p-3 text-gray-600",children:H.type==="LOAN"?H.institution:H.type==="SECONDMENT"?H.targetInstitution:H.targetUniversity}),s.jsx("td",{className:"p-3 font-mono text-xs",children:H.type!=="TRANSFER"?s.jsxs(s.Fragment,{children:[H.startDate," ",s.jsx("br",{}),s.jsx("span",{className:"text-gray-400",children:""})," ",H.endDate]}):"-"}),s.jsx("td",{className:"p-3",children:s.jsx(G,{status:H.status})}),s.jsx("td",{className:"p-3",children:s.jsx(Y,{status:H.status})}),s.jsxs("td",{className:"p-3 flex items-center gap-2",children:[g&&v==="ALL_REQUESTS"&&s.jsxs("select",{className:"text-xs border rounded p-1",value:H.status,onChange:ge=>U(H.id,ge.target.value,H.type),children:[s.jsx("option",{value:"PENDING_DEPT",children:" "}),s.jsx("option",{value:"PENDING_COLLEGE",children:" "}),s.jsx("option",{value:"PENDING_UNIV",children:" "}),s.jsx("option",{value:"APPROVED",children:""}),s.jsx("option",{value:"REJECTED",children:""})]}),(g||H.userId===t.id)&&H.status.startsWith("PENDING")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>D(H),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(H.id,H.type),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]},H.id))})]})})})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50 rounded-t-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:E?" ":`  ${e==="LOAN"?"":e==="SECONDMENT"?"":""} `}),s.jsx("button",{onClick:()=>j(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("div",{className:"p-6",children:[e==="LOAN"&&s.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:R.loanType,onChange:H=>M({...R,loanType:H.target.value}),children:[s.jsx("option",{value:"EXTERNAL",children:" "}),s.jsx("option",{value:"INTERNAL",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:R.requestType,onChange:H=>M({...R,requestType:H.target.value}),children:[s.jsx("option",{value:"NEW",children:" "}),s.jsx("option",{value:"RENEWAL",children:" "})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.country,onChange:H=>M({...R,country:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.institution,onChange:H=>M({...R,institution:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:R.college,onChange:H=>M({...R,college:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.startDate,onChange:H=>M({...R,startDate:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:R.endDate,onChange:H=>M({...R,endDate:H.target.value})})]}),s.jsxs("div",{className:"col-span-2 border-2 border-dashed border-gray-300 p-4 rounded-lg text-center",children:[s.jsx("input",{type:"file",className:"hidden",id:"loan-file",onChange:H=>F(Array.from(H.target.files||[]))}),s.jsxs("label",{htmlFor:"loan-file",className:"cursor-pointer flex flex-col items-center gap-2",children:[s.jsx(Hn,{className:"w-8 h-8 text-blue-500"}),s.jsx("span",{className:"text-sm font-bold text-gray-600",children:R.requestType==="NEW"?"  ":"   "}),V.length>0&&s.jsx("span",{className:"text-xs text-green-600",children:V[0].name})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="SECONDMENT"&&s.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:T.secondmentType,onChange:H=>C({...T,secondmentType:H.target.value}),children:[s.jsx("option",{value:"FULL_TIME",children:"  ( )"}),s.jsx("option",{value:"PART_TIME",children:"  ( )"}),s.jsx("option",{value:"OFF_HOURS",children:"  "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:T.targetInstitution,onChange:H=>C({...T,targetInstitution:H.target.value})})]}),T.secondmentType==="PART_TIME"&&s.jsxs("div",{className:"col-span-2 bg-blue-50 p-3 rounded border border-blue-100",children:[s.jsx("label",{className:"block text-sm font-bold mb-2 text-blue-800",children:"  "}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:["","","","","",""].map(H=>{var ge;return s.jsxs("label",{className:"flex items-center gap-1 text-sm bg-white px-2 py-1 rounded border",children:[s.jsx("input",{type:"checkbox",checked:(ge=T.secondmentDays)==null?void 0:ge.includes(H),onChange:W=>{const B=T.secondmentDays||[];C({...T,secondmentDays:W.target.checked?[...B,H]:B.filter(J=>J!==H)})}})," ",H]},H)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.startDate,onChange:H=>C({...T,startDate:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:T.endDate,onChange:H=>C({...T,endDate:H.target.value})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 flex items-center gap-2",children:[d&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),"  "]})]})]}),e==="TRANSFER"&&s.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded text-red-700 text-sm border border-red-200 flex items-center gap-2 mb-4",children:[s.jsx(Gr,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{children:":            ."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetUniversity,onChange:H=>P({...L,targetUniversity:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" / "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:L.targetCollege,onChange:H=>P({...L,targetCollege:H.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"  "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:L.transferType,onChange:H=>P({...L,transferType:H.target.value}),children:[s.jsx("option",{value:"VACANT_DEGREE",children:"    "}),s.jsx("option",{value:"WITH_DEGREE",children:"   ( )"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-600",children:""}),s.jsxs("button",{disabled:d,type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 flex items-center gap-2",children:[d&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})]})})]})},Gge=({user:t})=>{const[e,n]=w.useState("BROWSE"),[r,a]=w.useState([]),[l,c]=w.useState({totalItems:0,theses:0,papers:0,books:0}),[d,h]=w.useState(!0),[f,p]=w.useState(""),[g,v]=w.useState("ALL"),[N,_]=w.useState(!1),[j,E]=w.useState(null),[I,R]=w.useState("JOURNAL_PAPER"),M={titleAr:"",titleEn:"",abstract:"",authorNames:"",journalName:"",conferenceName:"",doi:"",publicationYear:new Date().getFullYear().toString(),supervisors:"",shelfLocation:""},[T,C]=w.useState(M),[L,P]=w.useState(null),[V,F]=w.useState(null),[A,D]=w.useState(!1),[z,U]=w.useState(null),[de,ae]=w.useState("RESEARCH"),[G,Y]=w.useState(""),[H,ge]=w.useState([]),W=t.role===we.ADMIN||t.role===we.STAFF||t.role===we.DATA_ENTRY;w.useEffect(()=>{B()},[]);const B=async()=>{h(!0);try{const[Z,he]=await Promise.all([uge(),pge()]);if(a(Z),c(he),t.role===we.STAFF||t.role===we.ADMIN){const Ue=await fge(t.id);ge(Ue)}}catch(Z){console.error("Error fetching repository data:",Z)}h(!1)},J=Z=>{let he="";Z.type.includes("PAPER")?he=`${Z.authorNames||""} (${Z.publicationYear}). "${Z.titleAr}". ${Z.journalName||Z.conferenceName||""}, ${Z.volume||""}(${Z.issue||""}), ${Z.pages||""}. ${Z.doi?`DOI: ${Z.doi}`:""}`:Z.type.includes("THESIS")?he=`${Z.authorNames||""} (${Z.publicationYear}). ${Z.titleAr}. [${Z.type==="THESIS_MASTER"?"Master Thesis":"PhD Thesis"}]. Al-Azhar University.`:he=`${Z.authorNames||Z.publisher||""} (${Z.publicationYear}). ${Z.titleAr}. ${Z.publisher||""}.`,navigator.clipboard.writeText(he),alert("   ")},xe=async Z=>{try{return await di(Z)}catch(he){return alert("  : "+he.message),null}},te=Z=>{_(!0),E(Z.id),R(Z.type),C({titleAr:Z.titleAr||"",titleEn:Z.titleEn||"",abstract:Z.abstract||"",authorNames:Z.authorNames||"",journalName:Z.journalName||"",conferenceName:Z.conferenceName||"",doi:Z.doi||"",publicationYear:Z.publicationYear||"",supervisors:Z.supervisors||"",shelfLocation:Z.shelfLocation||""}),n("ADD")},X=async(Z,he)=>{if(window.confirm("        "))try{await Wt(ze(pe,"repository_items",Z)),await Ae("  ",t.name,`  : ${he}`),B()}catch{alert(" ")}},Ee=async Z=>{Z.preventDefault(),D(!0);try{let he,Ue;L&&(he=await xe(L)),V&&(Ue=await xe(V));const qe={...T,type:I,...he&&{fileUrl:he},...Ue&&{privateFileUrl:Ue},addedBy:t.id,authorIds:N?void 0:[t.id],publicationYear:T.publicationYear||new Date().getFullYear().toString()};N&&j?(await Ct(ze(pe,"repository_items",j),qe),await Ae("  ",t.name,`  ${I}: ${T.titleAr}`),alert("  ")):(await dge(qe),await Ae(" ",t.name,`  ${I}: ${T.titleAr}`),alert("  ")),_(!1),E(null),C(M),P(null),F(null),n("BROWSE"),B()}catch(he){console.error(he),alert("   ")}finally{D(!1)}},Te=async()=>{if(z)try{await hge({itemId:z.id,itemTitle:z.titleAr,itemAuthorId:z.addedBy,requesterName:t.name,requesterEmail:"user@example.com",reason:de,message:G}),await Ae("  ",t.name,`   : ${z.titleAr}`),alert("   "),U(null)}catch{alert("  ")}},re=async(Z,he,Ue)=>{await mge(Z,Ue),await Ae("   ",t.name,` ${Ue==="APPROVED"?" ":""}   : ${he}`),alert(` ${Ue==="APPROVED"?"  ":" "}`),B()},ie=()=>{n("ADD"),C(M),E(null),_(!1)},ke=Z=>{const he=Z.type.includes("PAPER"),Ue=Z.type.includes("THESIS"),qe=Z.addedBy===t.id||t.role===we.ADMIN;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md transition-shadow flex flex-col gap-3 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${he?"bg-blue-100 text-blue-700":Ue?"bg-purple-100 text-purple-700":"bg-amber-100 text-amber-700"}`,children:he?Z.type==="JOURNAL_PAPER"?" ":"":Ue?Z.type==="THESIS_MASTER"?"":"":""}),s.jsx("span",{className:"text-gray-500 text-xs",children:Z.publicationYear})]}),s.jsxs("div",{className:"flex gap-2",children:[Z.doi&&s.jsx("a",{href:Z.doi,target:"_blank",rel:"noreferrer",className:"text-gray-400 hover:text-blue-600",title:"DOI",children:s.jsx(Fh,{className:"w-4 h-4"})}),qe&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>te(Z),className:"text-blue-400 hover:text-blue-600 p-1",title:"",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>X(Z.id,Z.titleAr),className:"text-red-400 hover:text-red-600 p-1",title:"",children:s.jsx(ot,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800 leading-snug mb-1",children:Z.titleAr}),Z.titleEn&&s.jsx("h4",{className:"text-sm text-gray-500 font-medium ltr text-right",dir:"ltr",children:Z.titleEn})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[he&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",Z.authorNames]}),he&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",Z.journalName||Z.conferenceName,", ",Z.volume,"(",Z.issue,")"]}),Ue&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",Z.authorNames]}),Ue&&s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",Z.supervisors]})]}),Z.abstract&&s.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 bg-gray-50 p-2 rounded",children:Z.abstract}),s.jsxs("div",{className:"mt-auto pt-4 border-t flex items-center justify-between gap-2",children:[s.jsx("div",{className:"flex gap-2",children:Z.fileUrl?s.jsxs("a",{href:Z.fileUrl,target:"_blank",rel:"noreferrer",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  PDF"]}):s.jsxs("button",{onClick:()=>U(Z),className:"bg-amber-50 text-amber-700 border border-amber-200 px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-amber-100",children:[s.jsx(cb,{className:"w-4 h-4"}),"   "]})}),s.jsx("button",{onClick:()=>J(Z),className:"text-gray-400 hover:text-gray-600",title:" ",children:s.jsx(xz,{className:"w-5 h-5"})})]})]},Z.id)};return s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-screen",children:[s.jsxs("aside",{className:"w-full lg:w-64 shrink-0 space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100",children:[s.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[s.jsx(mP,{className:"w-5 h-5 text-green-600"})," "]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold",children:l.totalItems})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-purple-600",children:l.theses})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-blue-600",children:l.papers})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:" "}),s.jsx("span",{className:"font-bold text-amber-600",children:l.books})]})]})]}),H.length>0&&s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border border-amber-200 animate-pulse",children:[s.jsxs("h4",{className:"font-bold text-amber-800 text-sm mb-2 flex items-center gap-2",children:[s.jsx(ZN,{className:"w-4 h-4"}),"   (",H.length,")"]}),s.jsx("div",{className:"space-y-2",children:H.map(Z=>s.jsxs("div",{className:"bg-white p-2 rounded border text-xs",children:[s.jsx("p",{className:"font-bold mb-1",children:Z.requesterName}),s.jsxs("p",{className:"text-gray-500 mb-2 truncate",children:[": ",Z.itemTitle]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>re(Z.id,Z.itemTitle,"APPROVED"),className:"flex-1 bg-green-600 text-white py-1 rounded",children:""}),s.jsx("button",{onClick:()=>re(Z.id,Z.itemTitle,"REJECTED"),className:"flex-1 bg-gray-200 text-gray-700 py-1 rounded",children:""})]})]},Z.id))})]})]}),s.jsxs("main",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),W&&s.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[s.jsx("button",{onClick:()=>{n("BROWSE"),_(!1)},className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="BROWSE"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "}),s.jsx("button",{onClick:ie,className:`px-4 py-2 rounded-md text-sm font-bold transition-colors ${e==="ADD"?"bg-white shadow text-green-700":"text-gray-500"}`,children:" "})]})]}),e==="BROWSE"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",placeholder:"     ...",className:"w-full border p-2 pr-10 rounded-lg outline-none focus:ring-2 focus:ring-green-500",value:f,onChange:Z=>p(Z.target.value)})]}),s.jsxs("select",{className:"border p-2 rounded-lg outline-none bg-gray-50 min-w-[150px]",value:g,onChange:Z=>v(Z.target.value),children:[s.jsx("option",{value:"ALL",children:" "}),s.jsx("option",{value:"PAPER",children:" "}),s.jsx("option",{value:"THESIS",children:" "}),s.jsx("option",{value:"BOOK",children:""})]})]}),d?s.jsx("div",{className:"text-center py-12",children:s.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.filter(Z=>g==="ALL"||Z.type.includes(g)).filter(Z=>{var he;return Z.titleAr.includes(f)||Z.titleEn&&Z.titleEn.toLowerCase().includes(f.toLowerCase())||((he=Z.authorNames)==null?void 0:he.includes(f))}).map(ke),r.length===0&&s.jsx("p",{className:"text-center text-gray-400 col-span-2 py-12",children:"  "})]})]}),e==="ADD"&&s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 animate-in fade-in",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-800",children:N?" ":"   "}),N&&s.jsx("button",{onClick:()=>{_(!1),n("BROWSE")},className:"text-sm text-gray-500 hover:text-red-500",children:""})]}),s.jsxs("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2",children:[s.jsx("button",{onClick:()=>R("JOURNAL_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I==="JOURNAL_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("CONF_PAPER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I==="CONF_PAPER"?"bg-blue-50 border-blue-500 text-blue-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("THESIS_MASTER"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I.includes("THESIS")?"bg-purple-50 border-purple-500 text-purple-700":"hover:bg-gray-50"}`,children:" "}),s.jsx("button",{onClick:()=>R("BOOK"),className:`flex-1 min-w-[100px] py-3 border rounded-lg text-sm font-bold ${I==="BOOK"?"bg-amber-50 border-amber-500 text-amber-700":"hover:bg-gray-50"}`,children:""})]}),s.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" () *"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded-lg",value:T.titleAr||"",onChange:Z=>C({...T,titleAr:Z.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg text-left",dir:"ltr",value:T.titleEn||"",onChange:Z=>C({...T,titleEn:Z.target.value})})]}),I.includes("PAPER")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Authors)"}),s.jsx("input",{type:"text",placeholder:"Ahmed M., Sara H., ...",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:Z=>C({...T,authorNames:Z.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:I==="JOURNAL_PAPER"?" ":" "}),I==="JOURNAL_PAPER"?s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.journalName||"",onChange:Z=>C({...T,journalName:Z.target.value})}):s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.conferenceName||"",onChange:Z=>C({...T,conferenceName:Z.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" DOI"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.doi||"",onChange:Z=>C({...T,doi:Z.target.value})})]})]}),I.includes("THESIS")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.authorNames||"",onChange:Z=>C({...T,authorNames:Z.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded-lg",value:T.supervisors||"",onChange:Z=>C({...T,supervisors:Z.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-2 rounded-lg",value:T.publicationYear||"",onChange:Z=>C({...T,publicationYear:Z.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  "}),s.jsx("input",{type:"text",placeholder:" ...",className:"w-full border p-2 rounded-lg",value:T.shelfLocation||"",onChange:Z=>C({...T,shelfLocation:Z.target.value})})]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (Abstract)"}),s.jsx("textarea",{rows:4,className:"w-full border p-2 rounded-lg",value:T.abstract||"",onChange:Z=>C({...T,abstract:Z.target.value})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 col-span-2",children:[s.jsx("h4",{className:"font-bold text-sm mb-2",children:""}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"   (Public PDF)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"w-4 h-4 text-gray-400"}),s.jsx("input",{type:"file",className:"text-sm",onChange:Z=>P(Z.target.files?Z.target.files[0]:null)})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"   (:  )"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"  ( )"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cb,{className:"w-4 h-4 text-amber-400"}),s.jsx("input",{type:"file",className:"text-sm",onChange:Z=>F(Z.target.files?Z.target.files[0]:null)})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"      "})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[s.jsx("button",{type:"button",onClick:()=>n("BROWSE"),className:"px-6 py-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:""}),s.jsxs("button",{type:"submit",disabled:A,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[A?s.jsx(Qe,{className:"w-4 h-4 animate-spin"}):s.jsx(_n,{className:"w-4 h-4"})," ",N?" ":" "]})]})]})]})]}),z&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 shadow-2xl animate-in zoom-in-95",children:[s.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center gap-2",children:[s.jsx(cb,{className:"w-5 h-5 text-amber-600"}),"   "]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"    .      ."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded",value:de,onChange:Z=>ae(Z.target.value),children:[s.jsx("option",{value:"RESEARCH",children:" "}),s.jsx("option",{value:"CITATION",children:"   "}),s.jsx("option",{value:"OTHER",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:3,value:G,onChange:Z=>Y(Z.target.value),placeholder:" ..."})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[s.jsx("button",{onClick:()=>U(null),className:"px-4 py-2 text-gray-500",children:""}),s.jsx("button",{onClick:Te,className:"bg-amber-600 text-white px-4 py-2 rounded font-bold hover:bg-amber-700",children:" "})]})]})]})})]})},Kge=({user:t})=>{const[e,n]=w.useState("UNDERGRAD"),[r,a]=w.useState([]),[l,c]=w.useState(!0),[d,h]=w.useState([]),[f,p]=w.useState("Level 1"),[g,v]=w.useState("First"),[N,_]=w.useState("General"),[j,E]=w.useState(""),[I,R]=w.useState(!1),[M,T]=w.useState(null),[C,L]=w.useState({}),[P,V]=w.useState(!1),F=t.role===we.ADMIN||t.role===we.STAFF;w.useEffect(()=>{(async()=>{c(!0),await Nge();const[H,ge]=await Promise.all([UR(),Qf()]);a(H),h(ge.map(W=>W.name)),c(!1)})()},[]);const A=async(Y,H)=>{if(window.confirm("      "))try{await wge(Y),await Ae(" ",t.name,`  : ${H}`),a(ge=>ge.filter(W=>W.id!==Y))}catch{alert(" ")}},D=Y=>{Y?(T(Y.id),L(Y)):(T(null),L({level:"Level 1",semester:"First",division:"General",type:"Compulsory",creditHours:3,lectureHours:2,labHours:1})),R(!0)},z=async Y=>{Y.preventDefault(),V(!0);try{if(M)await bge(M,C),await Ae(" ",t.name,`  : ${C.nameAr}`),a(H=>H.map(ge=>ge.id===M?{...ge,...C}:ge)),alert("  ");else{await vge(C),await Ae(" ",t.name,`   : ${C.nameAr}`);const H=await UR();a(H),alert("  ")}R(!1)}catch{alert("   ")}finally{V(!1)}},U=async(Y,H)=>{try{const ge=await di(H);L(W=>({...W,[Y]:ge})),alert("   ")}catch(ge){alert(" : "+ge.message)}},de=()=>{const Y=r.filter(H=>["Level 1","Level 2","Level 3","Level 4"].includes(H.level)&&H.level===f&&H.semester===g&&(f==="Level 3"||f==="Level 4"?H.division===N:!0)&&(H.nameAr.includes(j)||H.code.includes(j)));return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200 flex flex-wrap gap-4 items-end sticky top-0 z-10",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:f,onChange:H=>p(H.target.value),children:[s.jsx("option",{value:"Level 1",children:" "}),s.jsx("option",{value:"Level 2",children:" "}),s.jsx("option",{value:"Level 3",children:" "}),s.jsx("option",{value:"Level 4",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:g,onChange:H=>v(H.target.value),children:[s.jsx("option",{value:"First",children:""}),s.jsx("option",{value:"Second",children:""})]})]}),(f==="Level 3"||f==="Level 4")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:""}),s.jsxs("select",{className:"border p-2 rounded bg-gray-50 focus:outline-none focus:border-green-500",value:N,onChange:H=>_(H.target.value),children:[s.jsx("option",{value:"General",children:" "}),s.jsx("option",{value:"Plant Pathology",children:"  "}),s.jsx("option",{value:"Genetics",children:" "}),s.jsx("option",{value:"Physiology",children:" "})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"w-4 h-4 absolute right-3 top-3 text-gray-400"}),s.jsx("input",{type:"text",className:"w-full border p-2 pr-9 rounded focus:outline-none focus:border-green-500",placeholder:"   ...",value:j,onChange:H=>E(H.target.value)})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-right",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-700 font-bold",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" (+)"}),s.jsx("th",{className:"p-4",children:" "}),s.jsx("th",{className:"p-4",children:" (Specs)"}),s.jsx("th",{className:"p-4",children:" "}),F&&s.jsx("th",{className:"p-4",children:""})]})}),s.jsxs("tbody",{className:"divide-y",children:[Y.map(H=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 font-mono font-bold text-blue-600",children:H.code}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-bold",children:H.nameAr}),s.jsx("div",{className:"text-xs text-gray-500",dir:"ltr",children:H.nameEn})]}),s.jsx("td",{className:"p-4",children:s.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-bold",children:[H.creditHours," (",H.lectureHours,"+",H.labHours,")"]})}),s.jsx("td",{className:"p-4 text-gray-600",children:H.prerequisiteName?s.jsxs("span",{className:"flex items-center gap-1 text-xs bg-amber-50 text-amber-700 px-2 py-1 rounded border border-amber-200 cursor-help",title:"  ()",children:[s.jsx(G9,{className:"w-3 h-3"})," ",H.prerequisiteName]}):"-"}),s.jsx("td",{className:"p-4",children:H.specsUrl?s.jsxs("a",{href:H.specsUrl,target:"_blank",className:"text-green-600 hover:underline flex items-center gap-1 text-xs font-bold",children:[s.jsx(Vn,{className:"w-3 h-3"}),"  PDF"]}):s.jsx("span",{className:"text-gray-300 text-xs",children:" "})}),s.jsx("td",{className:"p-4",children:H.materialsUrl?s.jsxs("a",{href:H.materialsUrl,target:"_blank",className:"text-blue-600 hover:underline flex items-center gap-1 text-xs font-bold",children:[s.jsx(Kl,{className:"w-3 h-3"}),"  "]}):s.jsx("span",{className:"text-gray-300 text-xs",children:" "})}),F&&s.jsxs("td",{className:"p-4 flex gap-2",children:[s.jsx("button",{onClick:()=>D(H),className:"text-blue-500 hover:bg-blue-50 p-1.5 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(H.id,H.nameAr),className:"text-red-500 hover:bg-red-50 p-1.5 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]})]},H.id)),Y.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-400",children:"   "})})]})]})})]})},ae=()=>{const Y=r.filter(H=>["Diploma","MSc","PhD"].includes(H.level)&&(H.nameAr.includes(j)||H.code.includes(j)));return s.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[s.jsx("div",{className:"flex gap-4 mb-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Yi,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",className:"w-full border p-2 pr-10 rounded-lg focus:outline-none focus:border-green-500",placeholder:"    ...",value:j,onChange:H=>E(H.target.value)})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(H=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-all relative group",children:[F&&s.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>D(H),className:"p-1.5 bg-blue-50 text-blue-600 rounded",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(H.id,H.nameAr),className:"p-1.5 bg-red-50 text-red-600 rounded",children:s.jsx(ot,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${H.level==="MSc"?"bg-purple-100 text-purple-700":H.level==="PhD"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:H.level==="MSc"?"":H.level==="PhD"?"":""}),s.jsx("span",{className:"font-mono text-gray-400 font-bold",children:H.code})]}),s.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:H.nameAr}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:H.nameEn}),s.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded mb-4 line-clamp-3",children:H.description||"   ."}),s.jsxs("div",{className:"text-xs text-gray-500 mb-4 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",H.creditHours," "]}),s.jsxs("p",{children:[s.jsx("strong",{children:":"})," ",H.coordinator||" "]})]}),s.jsxs("div",{className:"flex gap-2 mt-auto pt-4 border-t",children:[H.materialsUrl?s.jsxs("a",{href:H.materialsUrl,target:"_blank",className:"flex-1 text-center bg-green-600 text-white py-2 rounded-lg text-sm hover:bg-green-700 flex items-center justify-center gap-1",children:[s.jsx(Kl,{className:"w-4 h-4"}),"  "]}):s.jsx("button",{disabled:!0,className:"flex-1 bg-gray-100 text-gray-400 py-2 rounded-lg text-sm cursor-not-allowed",children:"  "}),H.specsUrl&&s.jsx("a",{href:H.specsUrl,target:"_blank",className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",title:" ",children:s.jsx(Vn,{className:"w-4 h-4 text-gray-600"})})]})]},H.id))})]})},G=()=>s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 text-center animate-in fade-in",children:[s.jsx(Ko,{className:"w-16 h-16 text-green-200 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"  (Course Map)"}),s.jsx("p",{className:"text-gray-500 mb-8",children:"      ."}),s.jsxs("div",{className:"inline-flex flex-col items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 text-green-800 rounded-lg font-bold border-2 border-green-200",children:"  (BOT101)"}),s.jsx("div",{className:"h-8 w-0.5 bg-gray-300"}),s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:" (BOT201)"}),s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:"  (BOT305)"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:" (BOT202)"}),s.jsx("div",{className:"h-4 w-0.5 bg-gray-300"}),s.jsx("div",{className:"p-3 bg-white border border-gray-300 rounded-lg shadow-sm text-sm",children:"  (BOT308)"})]})]})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-8",children:"*   "})]});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(ai,{className:"w-8 h-8 text-green-600"}),"   "]}),F&&s.jsxs("button",{onClick:()=>D(),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[s.jsx(At,{className:"w-5 h-5"}),"   "]})]}),s.jsxs("div",{className:"flex border-b border-gray-200 bg-white rounded-t-xl overflow-x-auto",children:[s.jsxs("button",{onClick:()=>n("UNDERGRAD"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="UNDERGRAD"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ds,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("POSTGRAD"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="POSTGRAD"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(uF,{className:"w-4 h-4"}),"  "]}),s.jsxs("button",{onClick:()=>n("MAP"),className:`px-6 py-4 font-bold text-sm flex items-center gap-2 transition-colors ${e==="MAP"?"text-green-700 border-b-2 border-green-700":"text-gray-500 hover:text-green-600"}`,children:[s.jsx(Ko,{className:"w-4 h-4"}),"  "]})]}),s.jsx("div",{className:"bg-white p-6 rounded-b-xl shadow-sm border border-t-0 border-gray-200 min-h-[400px]",children:l?s.jsx("div",{className:"text-center py-12",children:s.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"})}):s.jsxs(s.Fragment,{children:[e==="UNDERGRAD"&&de(),e==="POSTGRAD"&&ae(),e==="MAP"&&G()]})}),I&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:M?"  ":"  "}),s.jsx("button",{onClick:()=>R(!1),children:s.jsx(bt,{className:"w-6 h-6 text-gray-400 hover:text-red-500"})})]}),s.jsxs("form",{onSubmit:z,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded",value:C.nameAr||"",onChange:Y=>L({...C,nameAr:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ()"}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded text-left",dir:"ltr",value:C.nameEn||"",onChange:Y=>L({...C,nameEn:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsx("input",{type:"text",required:!0,className:"w-full border p-2 rounded uppercase font-mono",value:C.code||"",onChange:Y=>L({...C,code:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" / "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.level,onChange:Y=>L({...C,level:Y.target.value}),children:[s.jsx("option",{value:"Level 1",children:" "}),s.jsx("option",{value:"Level 2",children:" "}),s.jsx("option",{value:"Level 3",children:" "}),s.jsx("option",{value:"Level 4",children:" "}),s.jsx("option",{value:"Diploma",children:""}),s.jsx("option",{value:"MSc",children:""}),s.jsx("option",{value:"PhD",children:""})]})]}),["Level 1","Level 2","Level 3","Level 4"].includes(C.level||"")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.semester,onChange:Y=>L({...C,semester:Y.target.value}),children:[s.jsx("option",{value:"First",children:""}),s.jsx("option",{value:"Second",children:""}),s.jsx("option",{value:"Summer",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" ()"}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.division,onChange:Y=>L({...C,division:Y.target.value}),children:[s.jsx("option",{value:"General",children:" / "}),s.jsx("option",{value:"Plant Pathology",children:" "}),s.jsx("option",{value:"Genetics",children:""}),s.jsx("option",{value:"Physiology",children:""})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 col-span-2 bg-gray-50 p-3 rounded border",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.creditHours,onChange:Y=>L({...C,creditHours:parseInt(Y.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.lectureHours,onChange:Y=>L({...C,lectureHours:parseInt(Y.target.value)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:" "}),s.jsx("input",{type:"number",className:"w-full border p-1 rounded",value:C.labHours,onChange:Y=>L({...C,labHours:parseInt(Y.target.value)})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" "}),s.jsxs("select",{className:"w-full border p-2 rounded bg-white",value:C.coordinator||"",onChange:Y=>L({...C,coordinator:Y.target.value}),children:[s.jsx("option",{value:"",children:"--  --"}),d.map(Y=>s.jsx("option",{value:Y,children:Y},Y))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:"  ( )"}),s.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:": BOT101",value:C.prerequisiteName||"",onChange:Y=>L({...C,prerequisiteName:Y.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-bold mb-1",children:" /  "}),s.jsx("textarea",{className:"w-full border p-2 rounded",rows:2,value:C.description||"",onChange:Y=>L({...C,description:Y.target.value})})]})]}),s.jsxs("div",{className:"space-y-2 bg-blue-50 p-4 rounded border border-blue-100",children:[s.jsx("h4",{className:"font-bold text-blue-800 text-sm mb-2",children:"  "}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (Specs)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-specs",className:"hidden",onChange:Y=>Y.target.files&&U("specsUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-specs",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(Hn,{className:"w-3 h-3"}),"  PDF"]}),C.specsUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (ILOs)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-ilos",className:"hidden",onChange:Y=>Y.target.files&&U("ilosUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-ilos",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(Hn,{className:"w-3 h-3"}),"  PDF"]}),C.ilosUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold mb-1",children:"  (Materials)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"file",id:"file-mat",className:"hidden",onChange:Y=>Y.target.files&&U("materialsUrl",Y.target.files[0])}),s.jsxs("label",{htmlFor:"file-mat",className:"cursor-pointer bg-white border px-2 py-1 rounded text-xs flex items-center gap-1 hover:bg-gray-50",children:[s.jsx(Hn,{className:"w-3 h-3"}),"  "]}),C.materialsUrl&&s.jsx("span",{className:"text-green-600 text-xs",children:" "})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-6 py-2 text-gray-600",children:""}),s.jsxs("button",{type:"submit",disabled:P,className:"bg-green-600 text-white px-8 py-2 rounded-lg font-bold hover:bg-green-700 flex items-center gap-2",children:[P&&s.jsx(Qe,{className:"w-4 h-4 animate-spin"}),"  "]})]})]})]})})]})},Yge=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(!1),[h,f]=w.useState("");w.useEffect(()=>{(async()=>{try{await jge()}catch(v){console.error("Failed to seed initial data:",v)}})()},[]);const p=async g=>{g.preventDefault(),d(!0),f("");try{const v=await Vme(n,a);v?e(v):f("      ")}catch(v){console.error(v),f("     (  )")}finally{d(!1)}};return t?s.jsx(j9,{children:s.jsx($F,{user:t,onLogout:()=>{e(null),r(""),l("")},children:s.jsxs(t9,{children:[s.jsx(Gt,{path:"/",element:t.role===we.STUDENT_UG||t.role===we.STUDENT_PG?s.jsx(zR,{user:t}):t.role===we.ALUMNI?s.jsx(FR,{user:t}):s.jsx(Ege,{})}),s.jsx(Gt,{path:"/staff",element:s.jsx(Oge,{user:t})}),s.jsx(Gt,{path:"/outgoing",element:s.jsx(Sge,{user:t})}),s.jsx(Gt,{path:"/incoming",element:s.jsx(Age,{user:t})}),s.jsx(Gt,{path:"/councils",element:s.jsx(Tge,{user:t})}),s.jsx(Gt,{path:"/committees",element:s.jsx(Cge,{user:t})}),s.jsx(Gt,{path:"/search",element:s.jsx(Ige,{user:t})}),s.jsx(Gt,{path:"/students",element:s.jsx(zR,{user:t})}),s.jsx(Gt,{path:"/alumni",element:s.jsx(FR,{user:t})}),s.jsx(Gt,{path:"/users",element:s.jsx(Rge,{user:t})}),s.jsx(Gt,{path:"/pg-manager",element:s.jsx(Pge,{})}),s.jsx(Gt,{path:"/inventory",element:s.jsx(kge,{user:t})}),s.jsx(Gt,{path:"/labs",element:s.jsx(Mge,{user:t})}),s.jsx(Gt,{path:"/greenhouse",element:s.jsx(Lge,{user:t})}),s.jsx(Gt,{path:"/events",element:s.jsx(Uge,{user:t})}),s.jsx(Gt,{path:"/formation",element:s.jsx(Fge,{user:t})}),s.jsx(Gt,{path:"/annual-report",element:s.jsx($ge,{user:t})}),s.jsx(Gt,{path:"/research-plan",element:s.jsx(Bge,{user:t})}),s.jsx(Gt,{path:"/leaves",element:s.jsx(qge,{user:t})}),s.jsx(Gt,{path:"/career-movements",element:s.jsx(Hge,{user:t})}),s.jsx(Gt,{path:"/repository",element:s.jsx(Gge,{user:t})}),s.jsx(Gt,{path:"/forms",element:s.jsx(zge,{user:t})}),s.jsx(Gt,{path:"/courses",element:s.jsx(Kge,{user:t})})," ",s.jsx(Gt,{path:"/activity-log",element:s.jsx(Vge,{})}),s.jsx(Gt,{path:"*",element:s.jsx(Z7,{to:"/"})})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center p-4",dir:"rtl",children:s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-4xl w-full border border-green-100 flex flex-col md:flex-row gap-8",children:[s.jsxs("div",{className:"md:w-1/2 flex flex-col items-center justify-center text-center border-b md:border-b-0 md:border-l border-gray-100 pb-6 md:pb-0 md:pl-6",children:[s.jsx("div",{className:"bg-green-100 p-6 rounded-full mb-6 animate-pulse",children:s.jsx(_u,{className:"w-16 h-16 text-green-700"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"   "}),s.jsx("h2",{className:"text-xl text-green-700 font-medium mb-4",children:"  -  "}),s.jsx("p",{className:"text-gray-500 leading-relaxed max-w-sm text-sm",children:"            ."})]}),s.jsxs("div",{className:"md:w-1/2 flex flex-col justify-center",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-6 text-center border-b pb-2",children:"  "}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(ii,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"text",required:!0,value:n,onChange:g=>r(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:"username"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:" "}),s.jsxs("div",{className:"relative",children:[s.jsx(h1,{className:"w-5 h-5 text-gray-400 absolute right-3 top-2.5"}),s.jsx("input",{type:"password",required:!0,value:a,onChange:g=>l(g.target.value),className:"w-full border border-gray-300 rounded-lg p-2.5 pr-10 focus:ring-2 focus:ring-green-500 outline-none transition-all",placeholder:""})]})]}),h&&s.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm text-center font-semibold animate-in fade-in",children:h}),s.jsxs("button",{type:"submit",disabled:c,className:"w-full bg-green-700 hover:bg-green-800 text-white font-bold py-3 rounded-xl transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[c?s.jsx(Qe,{className:"w-5 h-5 animate-spin"}):s.jsx($9,{className:"w-5 h-5"}),s.jsx("span",{children:""})]})]}),s.jsx("div",{className:"mt-8 text-center text-xs text-gray-400 border-t border-gray-100 pt-4",children:"Botany Digital Portal v2.0"})]})]})})},v8=document.getElementById("root");if(!v8)throw new Error("Could not find root element to mount to");const Wge=c7.createRoot(v8);Wge.render(s.jsx($R.StrictMode,{children:s.jsx(Yge,{})}));
